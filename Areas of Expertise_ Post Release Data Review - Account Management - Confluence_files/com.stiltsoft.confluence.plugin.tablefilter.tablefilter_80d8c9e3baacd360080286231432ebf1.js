WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:80d8c9e3baacd360080286231432ebf1', location = 'build/8984.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8984],{12188:function(e,t,r){r.r(t),t.default=()=>{var e;return AJS.params.currentUserFullname||(null===(e=parent.AJS)||void 0===e?void 0:e.params.currentUserFullname)}},18984:function(e,t,r){r.r(t);r(4267);var a=r(62896),o=r(30743),n=r(12188),l=r(9858),c={loadScriptsBeforeExport:function(e){window.pdfMake?e():WRM.require("com.stiltsoft.confluence.plugin.tablefilter.tablefilter:export-pdf-resources",e)},loadIframeGadgetStyleResources:function(e){c.loadResource({key:"com.stiltsoft.confluence.plugin.tablefilter.tablefilter:table-content-resources",container:$(e[0].body),transformData:e=>{var t;return null==e||null===(t=e.match(/<link.+?>/g))||void 0===t?void 0:t.join("")}})},getCurrentUserFullName:n.default,getCurrentUserName:function(){return AJS.params.remoteUser},getPageTitle:o.default,saveMacroParams:function(e,t){(0,a.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:"/rest/table-filter/1.0/service/save-tf",dataType:"json",data:e,error:function(e){c.showError(e,t)}})},unwrapMacro:function(e,t,r){(0,a.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:"/rest/table-filter/1.0/service/remove-macro",dataType:"text",data:{pageId:e,macroId:t,macroName:r},success:function(){location.reload()},error:function(e){c.showError(e,$("#main-content"))}})},showError:function(e,t){var r=-1!==e.responseText.indexOf("com.atlassian.confluence.api.service.exceptions.ReadOnlyException"),a=$('<div id="tfac-message"></div>');t.append(a),AJS.messages.error(a,{body:r?"This Confluence site is temporarily in the read-only mode. You cannot make any changes right now.":"Oops! An unexpected error occurred! Please see logs for details.",closeable:!0}),setTimeout((function(){a.remove()}),5e3)},loadResource:function(e){var{key:t,callback:r,container:o=$(document.head),transformData:n=e=>e}=e;(0,a.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"GET",url:"/rest/table-filter/1.0/service/load-resource",dataType:"text",data:{key:t},success:function(e){var t=n(e);o.append(t),null==r||r()}})},getCookie:l.getCookie,setCookie:l.setCookie,storeValue:function(e,t){localStorage.setItem(e,t)},getStoredValue:function(e){return localStorage.getItem(e)},removeValue:function(e){return localStorage.removeItem(e)},isPreview:function(){return document.body.classList.contains("content-preview")},fixDatePicker:function(e){var t;$("#"+(null===(t=e.getUUID)||void 0===t?void 0:t.call(e))).find("table").attr("data-sortable","false")}};t.default=c},30743:function(e,t,r){r.r(t),t.default=()=>{var e,t;return AJS.params.pageTitle||AJS.Meta.get("page-title")||(null===(e=parent.AJS)||void 0===e?void 0:e.params.pageTitle)||(null===(t=parent.AJS)||void 0===t?void 0:t.Meta.get("page-title"))}}}]);
}catch(e){WRMCB(e)};