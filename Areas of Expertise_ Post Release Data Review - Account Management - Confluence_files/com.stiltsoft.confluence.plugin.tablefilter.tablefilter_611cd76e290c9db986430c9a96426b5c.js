WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:611cd76e290c9db986430c9a96426b5c', location = 'build/2592.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2592],{42879:function(e,t,r){r.r(t),r.d(t,{ABSTRACT_MARKUP_START:function(){return n},MARKUP_END:function(){return o},extractCodeFromAIResponse:function(){return s}});const n="```",o="```",s=(e,t)=>{if(!t)return e;const r=n+t+"\n",s=e.indexOf(r);if(-1!==s){const t=s+r.length,n=e.indexOf(o,t);return-1===n?"":e.slice(t,n)}return e}},64079:function(e,t,r){r.r(t),r.d(t,{CUSTOM_TOKEN_TYPE:function(){return a},DEMO_TOKEN_TYPE:function(){return s},ROLE_SYSTEM:function(){return o},ROLE_USER:function(){return n}});const n="user",o="system",s="default",a="custom"},71378:function(e,t,r){r.r(t),r.d(t,{makeAIRequestFormulaSS:function(){return d},makeAIRequestSS:function(){return l},makeAIRequestTT:function(){return i},makeRequestAITable:function(){return p}});var n=r(79685),o=r(85908),s=r(62896),a=r(64079);const u=(e,t)=>new Promise(((r,n)=>{(0,s.makeRequest)({type:"POST",dataType:"json",data:{messages:JSON.stringify(e)},url:"/rest/table-filter/1.0/service/ai/ask",success:({usage:e,answer:o,error:s})=>{e&&t?.({totalTokens:e.totalTokens,tokenType:a.CUSTOM_TOKEN_TYPE}),o?r(o):n(s)},error:(e,t)=>{n(e.responseJSON?.message||e.responseText||`${e.status}: ${t}`)}})}));var c=r(57281);const p=(e,t)=>u(e,n.gaAskAIUpdated.bind(null,t)),i=e=>u(e,o.gaMacroBrowserTTAskAI),l=e=>u(e,c.default.askAI),d=e=>u(e,c.default.formulaAI)},79685:function(e,t,r){r.r(t),r.d(t,{gaAskAIUpdated:function(){return o},gaLockUpdated:function(){return s}});var n=r(89494);const o=(e,{totalTokens:t,tokenType:r})=>{(0,n.ga4SendEvent)("viewAITable_askAI_updated",{feature:e,type:r,property:t})},s=e=>{(0,n.ga4SendEvent)("viewAITable_lock_updated",{type:e})}},85908:function(e,t,r){r.r(t),r.d(t,{gaMacroBrowserTTAdded:function(){return c},gaMacroBrowserTTAskAI:function(){return p},gaTransformerSaveChangesEditor:function(){return u}});var n=r(14412),o=r(89494),s=r(60745);const a={sql:{event:"preset"},styles:{event:"styles"},transpose:{event:"transposeSource",hasProperty:!0},transposeResult:{event:"transposeResult",hasProperty:!0},separator:{event:"decSeparator",hasProperty:!0},dateFormat:{event:"dateFormat",hasProperty:!0},worklog:{event:"worklog",hasProperty:!0},decimals:{event:"decPlaces",hasProperty:!0},"thousand-separator":{event:"thousandsSeparator",hasProperty:!0},"show-source":{event:"showSourceData",hasProperty:!0},format:{event:"dataFormat",hasProperty:!0},plainText:{event:"plainText",hasProperty:!0}},u=(e,t)=>{Object.keys(a).forEach((t=>{const r=a[t];var o;"sql"===t&&(n.UNION_QUERY===e[t]?r.type="merge":((o=e["join-column"])?n.JOIN_QUERY.replace(/\?/g,"'"+o+"'"):n.JOIN_QUERY)===e[t]?r.type="lookUp":r.type="custom")})),(0,s.saveChanges)(e,t,a,"browserTT")},c=()=>{(0,o.ga4SendEvent)("browserTT_macroTT_added")},p=({totalTokens:e,tokenType:t})=>{(0,o.ga4SendEvent)("browserTT_askAI_updated",{type:t,property:e})}}}]);
}catch(e){WRMCB(e)};