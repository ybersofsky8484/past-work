WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:8b4115aa65ec1264efd6adb6064dcafc', location = 'build/6444.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6444],{38755:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(64707),a(24034),a(37567);var r=a(89494);const n=["table-filter","pivot-table","table-chart","table-joiner","table-excerpt","table-processor","table-excerpt-include","csv-table","json-from-table","ai-table"];var o=a(64125);function i(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends r.GABase{constructor(){super(),i(this,"gaMacroViewStructure",(e=>{var t=this;e.find(".conf-macro").filter((function(){return 0===$(this).parent().closest(".conf-macro",e).length})).each((function(){var e,a,r=$(this),n=r.data("macro-name");a=t.getInfoAboutMacro(r),0!==Object.keys(a).length&&(e=t.getEventNameByMacroKey(n),t.sendMacroStructureEvent(r,e,a))}))})),i(this,"getInfoAboutMacro",(e=>{var t=e.data("macro-name"),a={},r=!1;return r=n.includes(t),e.find("table").each((function(){var t=$(this).closest(".conf-macro",e).data("macro-name");n.includes(t)&&(a.hasOwnProperty("plain_table")?a.plain_table.count+=a.plain_table.count:a.plain_table={count:1})})),e.find(".conf-macro").each((function(){var e=$(this).data("macro-name");!r&&n.includes(e)&&(r=!0),a.hasOwnProperty(e)?a[e].count+=a[e].count:a[e]={count:1}})),r?a:{}})),i(this,"getEventNameByMacroKey",(e=>"table-filter"===e?"Filter Table Macro Structure":"pivot-table"===e?"Pivot Table Macro Structure":"table-chart"===e?"Chart Table Macro Structure":"table-joiner"===e?"Table Transformer Macro Structure":"table-excerpt"===e?"Table Excerpt Macro Structure":"table-excerpt-include"===e?"Table Excerpt Include Macro Structure":"csv-table"===e?"CSV Table Macro Structure":"json-from-table"===e?"JSON Table Macro Structure":"".concat(e.charAt(0).toUpperCase()+e.slice(1)," Macro Structure"))),i(this,"sendMacroStructureEvent",((e,t,a)=>{if(Object.keys(a).length>0){var n=Object.keys(a).sort().reduce(((e,t,r)=>{var n="".concat(t," * ").concat(a[t].count);return r?e+" + "+n:n}),"");((e,t,a)=>{const n=o.macroNameToGaObjectMap[e];if(n){const e=(e=>{const t=e.find("table:not(table table)"),a=[];return t.each(((e,t)=>{const r=t.rows,n=r[0]?.cells.length||0,o=r.length;a.push(`${o} R / ${n} C`)})),a.join(" + ")})(t);(0,r.ga4SendEvent)(`structure_${n}_used`,{type:a,property:e})}})(e.data("macro-name"),e,n)}}))}}var c=new l,s=a(85514),d=a(55416),u={ignoreTables:[".latexmath-mathblock"],ignoreMacros:[".quiz-settings-content",".code",".profile-macro",".gallery","#course-content",".calendar",".easy-event-calendar-macro",".no-tf","#i_confiform_registration_form",".tf-body-storage"],tfacSources:[{name:"table-joiner",class:"tj-source"},{name:"pivot-table",class:"original-table"},{name:"table-chart",class:"chart-body"}],tfacMacros:[{name:"table-filter",class:"tablefilter-outer-wrapper",id:"tf"},{name:"pivot-table",class:"pivot-content",id:"pivot"},{name:"table-joiner",class:"table-joiner",id:"tj"},{name:"table-chart",class:"table-chart-contents",id:"chart"}],bind:function(e){var t=this,a=t.getContent(),r=a.find("table");r.each((function(){t.initTable($(this),e)})),a.delegate("table","mouseover.tf-init",(function(){var a=$(this);-1===r.index(a)&&(t.initTable(a,e),r=r.add(a))})).delegate("table","reinit-tf-insert",(function(){t.initTable($(this),e)}))},initTable:function(e,t){var a=u;if(!e.is(a.ignoreTables.join(","))&&!(e.parents(a.ignoreMacros.join(",")).length||e.hasClass("confluenceTable")&&e[0].rows.length<=1)){var r={table:e,containerType:"macro",macros:(0,s.copyObject)(a.tfacMacros)};e.parents("."+a.tfacMacros.map((e=>e.class)).concat(a.tfacSources.map((e=>e.class+":not(.table-excerpt)"))).join(",.")).each((function(){var e=$(this);if(e.is("."+a.tfacSources.map((e=>e.class)).join(",.")))return a.setMacroUsage(a.tfacSources,e,r,!0),r.containerType="macro-body",!1;a.setMacroUsage(a.tfacMacros,e,r)}));var n=r.macros.filter((e=>!e.present&&"table-joiner"!==e.name));n.length&&t(e,n,r)}},setMacroUsage:function(e,t,a,r){e.some((function(e){if(t.hasClass(e.class))return a.macros.filter((function(t){return t.name===e.name}))[0].present=!0,a.owner={name:e.name,node:t,class:e.class,wrapNode:r?t.children():t},!0}))},getContent:function(){return $("#main-content")},isEditable:function(){return $("#editPageLink").length>0},getPageId:function(){return AJS.params.contentId||AJS.Meta.get("content-id")||AJS.params.pageId||AJS.Meta.get("page-id")}};AJS.$,AJS.toInit((function(){window.TableBinderWasBind||(window.TableBinderWasBind=!0,c.gaMacroViewStructure(u.getContent()),(0,d.bindExportEvent)())}));var b=u},56059:function(e,t,a){a.r(t);a(52321),a(63544);var r=a(18984),n=a(62896),o=a(68631),i=a(37736),l={macrosWithBody:["json-table","csv","vote","survey","report-table","confiform-table","sqltablefilter","multivote"],macroDuplications:[".pocketquery-dynamic-load-container"],getTableData:function(e,t){var a,r,n,o=this,i=-1,l=e.table.parents('[data-macro-name="table-excerpt-include"]');if(l.length)r="table-excerpt-include",a="macro",n=t.find('[data-macro-name="table-excerpt-include"]').index(l);else if(e.owner)l=e.owner.wrapNode,r=e.owner.name,a=e.containerType,n=o.filterTEI(t.find("."+e.owner.class)).index(e.owner.node);else{var c=e.table.parents(".conf-macro, .jira-table").eq(0);e.table.attr("data-macro-name")?(l=e.table,a="macro",r=e.table.data("macro-name"),n=o.filterTEI(t.find('[data-macro-name="'+r+'"]')).index(e.table)):c.length?(l=c,c.hasClass("jira-table")?(r="jira",n=o.filterTEI(t.find(".jira-table")).index(c)):(r=c.data("macro-name"),n=o.filterTEI(t.find('[data-macro-name="'+r+'"]').not(o.macroDuplications.join(","))).index(c)),"true"===c.attr("data-hasbody")&&-1===o.macrosWithBody.indexOf(r)?(a="macro-body",i=c.find(":not(.conf-macro) table").index(e.table),l=o.getTableContainer(e.table)):a="macro"):e.table.hasClass("appfire-table-plus-parms")?(a="macro",r="json-table|csv|sql-query|table-plus",n=t.find("div.table-wrap > table.confluenceTable.appfire-table-plus-parms").filter((function(){return-1===t.find("table.confluenceTable.appfire-table-plus-parms table.confluenceTable.appfire-table-plus-parms").index(this)})).index(e.table),l=o.getTableContainer(e.table)):(a="table",n=t.find("div.table-wrap > table.confluenceTable:not(.appfire-table-plus-parms)").filter((function(){return 0===$(this).parents(".conf-macro").length})).index(e.table),l=o.getTableContainer(e.table))}return{containerType:a,container:r,number:n,tableNumber:i,elem:l}},filterTEI:function(e){return e.filter((function(){return 0===$(this).parents('[data-macro-name="table-excerpt-include"]').length}))},getTableContainer:function(e){var t=e.parent(".table-wrap");return t.length?t:e},storeMacro:function(e,t,a,l,c,s,d){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},b={datepattern:r.default.getStoredValue("tf-dateformat")||void 0,worklog:r.default.getStoredValue("tf-worklog")||void 0},p=null;"table-filter"===e?p=o.TABLE_FILTER:"pivot-table"===e?(b.showrawdata="true",p=o.PIVOT):"table-chart"===e&&(b.barColoringType="mono",p=o.CHART);var f=(0,i.generateMacroParamsHelperRaw)(p);Object.getOwnPropertyNames(f).forEach((e=>{"false"===f[e]&&"isNew"!==e&&delete f[e]})),Object.assign(b,u),Object.getOwnPropertyNames(f).forEach((e=>{Object.prototype.hasOwnProperty.call(b,e)||(b[e]=f[e])})),(0,n.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",async:!1,cache:!1,url:"/rest/table-filter/1.0/service/insert",dataType:"json",data:{pageId:a,pageVersion:$('meta[name="page-version"]').attr("content"),macroName:e,containerType:t.containerType,container:t.container,number:t.number,tableNumber:t.tableNumber,macroId:d,params:JSON.stringify(b)},success:()=>c(b),error:function(e){var t=-1!==e.responseText.indexOf("com.atlassian.confluence.api.service.exceptions.ReadOnlyException"),a=$('<div id="tfac-inserter-message"></div>');l.append(a),AJS.messages.error(a,{body:t?"This Confluence site is temporarily in the read-only mode. You cannot make any changes right now.":"Oops! It seems that the macro cannot be added. Please edit the page and add this macro",closeable:!0}),setTimeout((function(){a.remove()}),5e3),s()}})}};t.default=l},57196:function(e,t,a){a.r(t),a.d(t,{initChart:function(){return i},initPivot:function(){return l},initTF:function(){return o}});a(24034),a(6558);var r=a(18984),n=a(93622),o=function(e,t,a,n,o,i,l,c){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};return new Promise((t=>{WRM.require(["wrc!com.stiltsoft.confluence.tablefilter-resources"],(()=>{var d=$(TableFilterTemplate.panel({macroId:a,pageId:n,hidePane:l,editable:o,body:"",sessionId:1,isMacroViewContext:!c}));e.elem.eq(0).before(d),d.find(".tablefilter-table-wrapper").append(e.elem),d.attr("data-hasbody","true").attr("data-macro-name","table-filter"),i&&i(d),new TableFilter({showNRows:"",limitHeight:"",heightValue:"",numbering:"",sorts:[],datepattern:s.datepattern,separator:s.separator,id:a,pageId:n,sparkline:!1,sparkName:"",order:"",isOR:"",ddSeparator:"",ddOperator:"",fixedCols:"",totalrow:"",totalcol:"",isLockEnabled:!1,worklog:r.default.getStoredValue("tf-worklog")||s.worklog,updateSelectOptions:s.updateSelectOptions,totalColName:"",totalRowName:"",thousandSeparator:s.thousandSeparator,tabs:!1,sessionId:1,hidePane:l,hideColumns:s.hideColumns,liveMode:c}),e.elem.trigger("tf-inserted","tf-table-"+a),t(d)}))}))},i=(e,t,a,r)=>new Promise((o=>{WRM.require(["wrc!com.stiltsoft.confluence.chart-resources"],(()=>{var i=$(ChartTemplate.view({type:r.type,height:"",width:"",hidecontrols:!1,align:"center",macroId:t,pageId:a,editable:!0,body:"",isEmail:!1,dateFormat:r.datepattern,is3d:!1,sessionId:1}));e.elem.eq(0).before(i),i.find(".chart-body").append(e.elem),i.attr("data-hasbody","true").attr("data-macro-name","table-chart"),new TableChart({macroId:t,type:r.type,columns:r.column,aggregation:r.aggregation,dateFormat:r.datepattern,separator:(0,n.default)(r.separator)||".",pageId:a,hide:"false",dataorientation:"Vertical",grid:!0,legend:"right",minvalue:"",maxvalue:"",xminvalue:"",xmaxvalue:"",scalestep:"",xscalestep:"",title:r.title||"",xtitle:r.xtitle||"",ytitle:r.ytitle||"",isLog:!1,isXLog:!1,colors:r.colors,pieKeys:r.pieKeys,showInnerLabels:!0,showTrendLine:!1,worklog:r.worklog,tabs:!1,interpolation:"",lineSettings:r["line-settings"]||"",version:"",sessionId:1,barColoringType:"mono",outerLabels:!0}),o()}))})),l=(e,t,a,r)=>new Promise((o=>{WRM.require(["wrc!com.stiltsoft.confluence.pivot-resources"],(()=>{var i=$(PivotTemplate.view({hidePanel:!1,macroId:t,pageId:a,decimalSeparator:(0,n.default)(r.decimalSeparator)||".",separator:(0,n.default)(r.separator)||"",editable:!0,body:"",isEmail:!1,sessionId:1}));e.elem.eq(0).before(i),i.find(".original-table").append(e.elem),i.attr("data-hasbody","true").attr("data-macro-name","pivot-table"),new PivotTable({macroId:t,decimalSeparator:(0,n.default)(r.decimalSeparator)||".",pageId:a,separator:(0,n.default)(r.separator)||"",decimals:r.decimals||"",column:r.column,row:"",aggregation:"",type:r.type,showrawdata:!0,version:r.version||"",sort:r.sort||"",ddSeparator:"",valueViewPattern:"",dateFormat:r.datepattern||"",dateAccuracy:r.dateaccuracy||"",worklog:"",hideTotal:!1,tabs:!1,numberAccuracy:"",cumulative:!1,literalSeparator:"",sessionId:1}),o()}))}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:8d96fdc0a231259046ee9b4252f109a0', location = 'build/7736.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7736],{37736:function(e,a,l){l.r(a),l.d(a,{generateMacroParamsHelperRaw:function(){return m},storeParam:function(){return y}});var t=l(18984),u=l(68631),d=l(71121),r=l(93622),n=l(44510),o=l(47057);const s=(()=>{try{return(0,d.default)(o.DEFAULT_DATE_FORMAT)}catch(e){return"d M yy"}})(),f={[u.PIVOT]:[{name:"datepattern",storedKey:"tf-dateformat",defaultValue:s},{name:"decimals",storedKey:"tf-decimals",defaultValue:""},{name:"decimalSeparator",storedKey:"tf-decimalSeparator",defaultValue:u.SEPARATORS.LONG.POINT},{name:"decimalseparator",storedKey:"tf-decimalSeparator",defaultValue:u.SEPARATORS.LONG.POINT},{name:"separator",storedKey:"tf-separator",defaultValue:""},{name:"showrawdata",storedKey:null,defaultValue:"true"},{name:"isNew",storedKey:null,defaultValue:"false"}],[u.TABLE_FILTER]:[{name:"totalrow",storedKey:null,defaultValue:""},{name:"fixedCols",storedKey:null,defaultValue:""},{name:"hidelabels",storedKey:null,defaultValue:"false"},{name:"ddSeparator",storedKey:null,defaultValue:""},{name:"sparkName",storedKey:null,defaultValue:"Sparkline"},{name:"tabs",storedKey:null,defaultValue:"false"},{name:"hidePane",storedKey:null,defaultValue:u.HIDE_PANE.HEADER},{name:"limitHeight",storedKey:null,defaultValue:""},{name:"sparkline",storedKey:null,defaultValue:"false"},{name:"default",storedKey:null,defaultValue:""},{name:"cell-width",storedKey:null,defaultValue:""},{name:"hideColumns",storedKey:"tf-hideColumns",defaultValue:"false"},{name:"totalRowName",storedKey:null,defaultValue:""},{name:"totalColName",storedKey:null,defaultValue:""},{name:"disabled",storedKey:null,defaultValue:"false"},{name:"globalFilter",storedKey:null,defaultValue:"false"},{name:"formatVersion",storedKey:null,defaultValue:"2"},{name:"order",storedKey:null,defaultValue:""},{name:"hideControls",storedKey:null,defaultValue:"false"},{name:"inverse",storedKey:null,defaultValue:""},{name:"numbering",storedKey:null,defaultValue:""},{name:"sort",storedKey:null,defaultValue:""},{name:"totalcol",storedKey:null,defaultValue:""},{name:"disableSave",storedKey:null,defaultValue:"false"},{name:"separator",storedKey:"tf-decimalSeparator",defaultValue:u.SEPARATORS.LONG.POINT},{name:"rowsPerPage",storedKey:null,defaultValue:""},{name:"labels",storedKey:null,defaultValue:""},{name:"thousandSeparator",storedKey:"tf-separator",mapper:r.default,defaultValue:""},{name:"ignoreFirstNrows",storedKey:null,defaultValue:""},{name:"datepattern",storedKey:"tf-dateformat",defaultValue:s},{name:"heightValue",storedKey:null,defaultValue:""},{name:"worklog",storedKey:null,defaultValue:"365|5|8|y w d h m|y w d h m"},{name:"updateSelectOptions",storedKey:"tf-updateSelectOptions",defaultValue:"false"},{name:"isOR",storedKey:null,defaultValue:"AND"},{name:"isNew",storedKey:null,defaultValue:"false"}],[u.CHART]:[{name:"separator",storedKey:"tf-decimalSeparator",defaultValue:u.SEPARATORS.LONG.POINT},{name:"datepattern",storedKey:"tf-dateformat",defaultValue:s}],[u.SPREADSHEET_FROM_TABLE]:[{name:"showSource",storedKey:null,defaultValue:n.OPTION_SHOW_SOURCE_DEFAULT}]};function m(e){const a=f[e];return a?Object.fromEntries(a.map((({name:e,storedKey:a,mapper:l,defaultValue:u})=>{let d=a?t.default.getStoredValue(a):"";return l&&(d=l(d)),[e,d||u]}))):{}}function y(e,a,l){const{storedKey:u}=f[e].find((({name:e})=>e===a))??{};u&&t.default.storeValue(u,l)}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e994bac8095b4ab9a88bb1199bc981a2', location = 'build/4510.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4510],{44510:function(n,e,t){t.r(e),t.d(e,{AVAILABLE_FONTS:function(){return s},AVAILABLE_TEXT_ROTATION:function(){return A},CLASS_SOURCE_TABLE_CONTAINER:function(){return o},DATA_FILE_EXT:function(){return r},OPTION_HIDE_ALL:function(){return f},OPTION_HIDE_TABLES:function(){return c},OPTION_SHOW_SOURCE:function(){return E},OPTION_SHOW_SOURCE_DEFAULT:function(){return i},RENDER_FILE_EXT:function(){return u},SPREADSHEET_CREATED_EVENT:function(){return T},SUPPORTED_LANGS:function(){return _}});const r=".tfss",u=".render",_=["en","es","de","fr","zh","zh_tw"],E="true",c="false",f="hide-all",i=f,o="ss-source",T="spreadsheet-created",s=["Times New Roman","Arial","Tahoma","Verdana"],A=["0","45","135",null,"90","180"]}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:fb91800a6a9c99c44ed074509a1903d0', location = 'build/4125.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4125],{64125:function(e,t,n){n.r(t),n.d(t,{GA_CONFIG:function(){return u},PLAIN_TABLE:function(){return o},macroNameToGaObjectMap:function(){return _},mapChartType:function(){return i},mapFilterName:function(){return T}});var r=n(96290);const T={"Dropdown Filter":"dropdown",selectfilter:"dropdown",select:"dropdown",dropdown:"dropdown","Free Text Filter":"freeText",userfilter:"freeText",freetext:"freeText",freeText:"freeText","Number Filter":"number",numberfilter:"number",number:"number","Date Filter":"date",datefilter:"date",date:"date","Icon Filter":"icon",iconfilter:"icon",icon:"icon","Global Filter":"global",global:"global",globalfilter:"global","Hide Columns":"hideColumns",columnhider:"hideColumns",hideColumns:"hideColumns"},i={[r.CHART_TYPE_PIE]:"pie",[r.CHART_TYPE_DONUT]:"donut",[r.CHART_TYPE_COLUMN]:"column",[r.CHART_TYPE_STACKED_COLUMN]:"stackedColumn",[r.CHART_TYPE_BAR]:"bar",[r.CHART_TYPE_STACKED_BAR]:"stackedBar",[r.CHART_TYPE_BUBBLE_PIE]:"bubblePie",[r.CHART_TYPE_LINE]:"line",[r.CHART_TYPE_AREA]:"area",[r.CHART_TYPE_STACKED_AREA]:"stackedArea",[r.CHART_TYPE_TIME_LINE]:"timeLine",[r.CHART_TYPE_TIME_AREA]:"timeArea",[r.CHART_TYPE_STACKED_TIME_AREA]:"stackedTimeArea",[r.CHART_TYPE_GANTT]:"gantt",[r.CHART_TYPE_RADAR]:"radar"},_={"ai-table":"AITable",filter:"TF","table-filter":"TF",processor:"toolbox",joiner:"TT","table-joiner":"TT",pivot:"pivot","pivot-table":"pivot",chart:"chart","table-chart":"chart","excerpt-include":"TEI","table-excerpt":"TEI"},o="plain_table",u={page_title:"tf",page_referrer:"tf",page_location:"tf",send_page_view:!1,cookie_domain:"auto",transport:"beacon"}},96290:function(e,t,n){n.r(t),n.d(t,{BAR_COLORING_TYPE_COLUMNS:function(){return o},CHART_TYPE_AREA:function(){return H},CHART_TYPE_BAR:function(){return s},CHART_TYPE_BUBBLE_PIE:function(){return L},CHART_TYPE_COLUMN:function(){return b},CHART_TYPE_DONUT:function(){return N},CHART_TYPE_GANTT:function(){return B},CHART_TYPE_LINE:function(){return m},CHART_TYPE_PIE:function(){return P},CHART_TYPE_RADAR:function(){return h},CHART_TYPE_STACKED_AREA:function(){return S},CHART_TYPE_STACKED_BAR:function(){return O},CHART_TYPE_STACKED_COLUMN:function(){return p},CHART_TYPE_STACKED_TIME_AREA:function(){return M},CHART_TYPE_TIME_AREA:function(){return g},CHART_TYPE_TIME_LINE:function(){return Y},DEFAULT_CHART_COLORS:function(){return I},GANTT_CAT_COLORS_MONO:function(){return i},INTERPOLATION_CUBIC_BASIS:function(){return R},INTERPOLATION_CUBIC_CARDINAL:function(){return f},INTERPOLATION_CUBIC_CATMULL_ROM:function(){return C},INTERPOLATION_LINEAR:function(){return a},INTERPOLATION_MONOTONE_X_CUBIC:function(){return E},INTERPOLATION_MONOTONE_Y_CUBIC:function(){return l},INTERPOLATION_NATURAL_CUBIC:function(){return A},INTERPOLATION_STEP:function(){return c},INTERPOLATION_STRAIGHTENED_CUBIC_BASIS:function(){return d},LAST_VERSION:function(){return u},LINE_SETTINGS_TYPES:function(){return T},breakRegExp:function(){return _},constants:function(){return r}});const r={textMaxLength:20,maxTextWidth:n(14412).MAX_TEXT_WIDTH,minHorizontalTextWidth:120,ellipsis:"…",ellipsisWidth:10.42,legendItemHeight:20,legendTSpanHeight:14,legendRectWidth:18,legendRectMarginLeft:6,legendRectMarginRight:4,legendUnderMargiLeft:20,legendUnderMargiRight:10,transitionDuration:300},T={SOLID:"solid",DASH:"dash",DOT:"circle"},i=["Task","Task - Done","Task - Todo","Milestone","Event"],_=/(^[\p{P}\p{Sm}]|[^\p{P}\p{Sm}])?[^\p{P}\p{Sm}\p{Lu}]+([\p{P}\p{Sm}]?|[\p{Ll}])|[\p{P}\p{Sm}]|[\p{Lu}]+[\p{P}\p{Sm}]?/gu,o="columns",u=3,a="Linear",c="Step",A="Natural cubic",E="Monotone X cubic",l="Monotone Y cubic",C="Cubic Catmull–Rom",f="Cubic cardinal",R="Cubic basis",d="Straightened cubic basis",I=["#8eb021","#d04437","#3572b0","#f6c342","#654982","#f691b2","#2484c1","#65a620","#7b6888","#d8d23a","#e98125","#6ada6a","#0c6197","#e4a14b","#8cc3e9","#a3acb2","#69a6f9","#cc1010","#31383b","#000000","#ffffff"],P="Pie",N="Donut",b="Column",p="Stacked Column",s="Bar",O="Stacked Bar",L="Bubble Pie",m="Line",H="Area",S="Stacked Area",Y="Time Line",g="Time Area",M="Stacked Time Area",B="Gantt",h="Radar"}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:69b0ef4a5e1e984f558d088cfcf94143', location = 'build/3622.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3622],{93622:function(S,O,A){A.r(O);var R=A(68631);O.default=S=>{switch(S){case R.SEPARATORS.SHORT.ESCAPED_SPACE:return R.SEPARATORS.LONG.SPACE;case R.SEPARATORS.SHORT.COMMA:return R.SEPARATORS.LONG.COMMA;case R.SEPARATORS.SHORT.POINT:return R.SEPARATORS.LONG.POINT;case R.SEPARATORS.SHORT.APOSTROPHE:return R.SEPARATORS.LONG.APOSTROPHE;case R.SEPARATORS.LONG.SPACE:return R.SEPARATORS.SHORT.ESCAPED_SPACE;case R.SEPARATORS.LONG.COMMA:return R.SEPARATORS.SHORT.COMMA;case R.SEPARATORS.LONG.POINT:return R.SEPARATORS.SHORT.POINT;case R.SEPARATORS.LONG.APOSTROPHE:return R.SEPARATORS.SHORT.APOSTROPHE;default:return S}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:79f1e12efaeb838bcbd8740ab93f0521', location = 'build/1121.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1121],{71121:function(e,t,l){l.r(t),t.default=e=>{let t=AJS.Meta.get("user-date-pattern");if("undefined"==typeof AP)try{t=t||window.parent.AJS.Meta.get("user-date-pattern")}catch(e){console.log("Failed to get user date format",e)}return t?(t=-1===t.indexOf("yy")?t.replace("y","yy"):t.replace("yyyy","yy"),-1!==t.indexOf("MMM")?t=t.replace("MMM","M"):-1!==t.indexOf("MM")?t=t.replace("MM","mm"):-1!==t.indexOf("M")&&(t=t.replace("M","m")),t):e}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:54ec8d54233feff553e9250b54013fab', location = 'build/5416.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5416],{55416:function(e,t,n){n.r(t),n.d(t,{bindExportCSVEvent:function(){return i},bindExportEvent:function(){return c},gaExportEvent:function(){return r}});var o=n(89494);const r=(e,t)=>{(0,o.ga4SendEvent)(`${e}_${t}_exported`)},c=()=>{Object.entries({"a.export-file-pdf":"pdf","a.export-file-doc":"word","a.export-file-print":"print","a.save-as-png":"image","button.export-print":"print","button.export-word":"word","button.export-pdf":"pdf"}).forEach((([e,t])=>{document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",(()=>{const n=e.closest(".tfac-menu")?.id||e.parentElement?.className;n&&r(u(n),t)}))}))}))},i=(e,t)=>{const n="#csv-export-"+e,o=document.querySelector(n);o&&o.addEventListener("click",(()=>{r(u(t),"csv")}))},u=e=>e?e.includes("tfac-tj")||e.includes("tj-exports")?"menuTT":e.includes("pivot")?"menuPivot":e.includes("tf-macro")||e.includes("filter-menu-view")?"menuTF":e.includes("chart-menu-view")?"menuChart":"menuUnknown":"menuUnknown"}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:80d8c9e3baacd360080286231432ebf1', location = 'build/8984.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8984],{12188:function(e,t,r){r.r(t),t.default=()=>{var e;return AJS.params.currentUserFullname||(null===(e=parent.AJS)||void 0===e?void 0:e.params.currentUserFullname)}},18984:function(e,t,r){r.r(t);r(4267);var a=r(62896),o=r(30743),n=r(12188),l=r(9858),c={loadScriptsBeforeExport:function(e){window.pdfMake?e():WRM.require("com.stiltsoft.confluence.plugin.tablefilter.tablefilter:export-pdf-resources",e)},loadIframeGadgetStyleResources:function(e){c.loadResource({key:"com.stiltsoft.confluence.plugin.tablefilter.tablefilter:table-content-resources",container:$(e[0].body),transformData:e=>{var t;return null==e||null===(t=e.match(/<link.+?>/g))||void 0===t?void 0:t.join("")}})},getCurrentUserFullName:n.default,getCurrentUserName:function(){return AJS.params.remoteUser},getPageTitle:o.default,saveMacroParams:function(e,t){(0,a.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:"/rest/table-filter/1.0/service/save-tf",dataType:"json",data:e,error:function(e){c.showError(e,t)}})},unwrapMacro:function(e,t,r){(0,a.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:"/rest/table-filter/1.0/service/remove-macro",dataType:"text",data:{pageId:e,macroId:t,macroName:r},success:function(){location.reload()},error:function(e){c.showError(e,$("#main-content"))}})},showError:function(e,t){var r=-1!==e.responseText.indexOf("com.atlassian.confluence.api.service.exceptions.ReadOnlyException"),a=$('<div id="tfac-message"></div>');t.append(a),AJS.messages.error(a,{body:r?"This Confluence site is temporarily in the read-only mode. You cannot make any changes right now.":"Oops! An unexpected error occurred! Please see logs for details.",closeable:!0}),setTimeout((function(){a.remove()}),5e3)},loadResource:function(e){var{key:t,callback:r,container:o=$(document.head),transformData:n=e=>e}=e;(0,a.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"GET",url:"/rest/table-filter/1.0/service/load-resource",dataType:"text",data:{key:t},success:function(e){var t=n(e);o.append(t),null==r||r()}})},getCookie:l.getCookie,setCookie:l.setCookie,storeValue:function(e,t){localStorage.setItem(e,t)},getStoredValue:function(e){return localStorage.getItem(e)},removeValue:function(e){return localStorage.removeItem(e)},isPreview:function(){return document.body.classList.contains("content-preview")},fixDatePicker:function(e){var t;$("#"+(null===(t=e.getUUID)||void 0===t?void 0:t.call(e))).find("table").attr("data-sortable","false")}};t.default=c},30743:function(e,t,r){r.r(t),t.default=()=>{var e,t;return AJS.params.pageTitle||AJS.Meta.get("page-title")||(null===(e=parent.AJS)||void 0===e?void 0:e.params.pageTitle)||(null===(t=parent.AJS)||void 0===t?void 0:t.Meta.get("page-title"))}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7f1ed1ffc7664d1bb99a04bd5a496cf7', location = 'build/8631.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8631],{47057:function(n,t,e){e.r(t),e.d(t,{DEFAULT_DATE_FORMAT:function(){return r}});const r="yy-mm-dd"},68631:function(n,t,e){e.r(t),e.d(t,{ALTERNATE_COMMA:function(){return T},ALTERNATE_COMMA_REGEXP:function(){return A},CHART:function(){return R},CHECKED_TASK_SELECTOR:function(){return h},CLOSING_TABLE_CELL_TAG_REGEX:function(){return c},COLGROUP_ELEMENT:function(){return V},COLUMN_ELEMENT:function(){return K},CSV_EXPORT_HIDDEN_CLASS:function(){return G},DATEMACRO_TAG:function(){return g},DATE_FORMAT_CONSTANTS:function(){return m},DEFAULT_TABLE_SELECTOR:function(){return M},EXCLUDE_TABLE_SELECTOR:function(){return p},FAKE_EMPTY_SYMBOL:function(){return i},FORMAT_VERSION:function(){return l},HEADER_PANE_WIDTH:function(){return x},HIDE_PANE:function(){return E},INNER_TABLE_SELECTOR:function(){return s},JOINER:function(){return C},JOINER_LAST_UNENCODED_VERSION:function(){return a},JOINER_VERSION:function(){return O},LATEST_FORMAT_VERSION:function(){return f},LOCAL_STORAGE_KEY_SHOW_ALL_TASKS:function(){return F},MENTION_SELECTOR:function(){return B},MIN_NATIVE_COLUMN_WIDTH:function(){return X},NUMBERING_CLASS:function(){return k},OPENING_TABLE_CELL_TAG_REGEX:function(){return _},PIVOT:function(){return L},PIVOT_ORIGINAL_TABLE_SELECTOR:function(){return I},PLAIN_TEXT_CLASS:function(){return P},PREVENT_DEFAULT_FORM_CLASS:function(){return z},SEPARATORS:function(){return y},SPARKLINE_WIDTH:function(){return $},SPECIFIC_SEPARATOR:function(){return o},SPREADSHEET_FROM_TABLE:function(){return d},TABLE_FILTER:function(){return S},TASK_LIST_SELECTOR:function(){return H},TASK_SELECTOR:function(){return v},TEI_NOCOPY_SELECTOR:function(){return N},TFN_COLUMN_SELECTOR:function(){return J},TFTC_COLUMN_SELECTOR:function(){return w},TJ_RENDERED_CLASS:function(){return D},TOTAL_COLUMN_CLASS:function(){return j},TT_ORIGINAL_TABLE_SELECTOR:function(){return b},UNCHECKED_TASK_SELECTOR:function(){return U}});var r=e(85514),u=e(47057);const E=Object.freeze({PANEL:"Filtration panel",HEADER:"Table header",HIDDEN:"true"}),o="%-&-#-$",i="‌",_=/^<(td|th)\b[^>]*>/i,c=/<\/(td|th)>$/i,T=String.fromCharCode(8218),A=new RegExp(T,"g"),l=2,f=3,O=3,a=2,L="PIVOT",S="TABLE_FILTER",R="CHART",C="JOINER",d="SPREADSHEET_FROM_TABLE",y=(0,r.deepFreeze)({SHORT:{COMMA:",",POINT:".",SPACE:" ",APOSTROPHE:"'",ESCAPED_SPACE:"\\u0020"},LONG:{COMMA:"Comma (,)",POINT:"Point (.)",SPACE:"Space ( )",APOSTROPHE:"Apostrophe (')"}}),m=(0,r.deepFreeze)([{label:"dd-mm-yy (07-04-2024)",value:"dd-mm-yy"},{label:"dd.mm.yy (07.04.2024)",value:"dd.mm.yy"},{label:`${u.DEFAULT_DATE_FORMAT} (2024-04-07)`,value:u.DEFAULT_DATE_FORMAT},{label:"m/d/yy (4/7/2024)",value:"m/d/yy"},{label:"m/d/y (4/7/24)",value:"m/d/y"},{label:"d M yy (7 Apr 2024)",value:"d M yy"},{label:"dd M yy (07 Apr 2024)",value:"dd M yy"},{label:"M dd, yy (Apr 07, 2024)",value:"M dd, yy"},{label:"MM yy (April 2024)",value:"MM yy"},{label:"yy Qi (2024 Q2)",value:"yy Qi"},{label:"yy-w (2024-14)",value:"yy-w"},{label:"m/d/y HH:mm (4/7/24 12:30 p.m.)",value:"m/d/y HH:mm"},{label:"d.m.yy hh:mm (7.4.2024 12:30)",value:"d.m.yy hh:mm"},{label:"dd.mm hh:mm:ss (07.04 12:30:00)",value:"dd.mm hh:mm:ss"}]),N='div[name="table-excerpt-include"][content]',M="table",I=".pivot-content > .original-table",b=".table-joiner > .tj-source",s="table:not(.wysiwyg-macro) table",p="#i_confiform_registration_form table, .pq-dynamic-parameter-form table, .ite-table-macro table",P="plain-text",D="tj-rendered",F="tf-csvexport-show-all-tasks",H="ul.inline-task-list",v=`${H} > li`,h=`${v}.checked`,U=`${v}:not(.checked)`,G="csv-export-hidden",g="time",B=".confluence-userlink",$=100,j="tftc",k="tfn",K="col",V="colgroup",w=`${K}.${j}`,J=`${K}.${k}`,X=50,x=50,z="prevent-default-form"},85514:function(n,t,e){function r(n){const t=Object.getOwnPropertyNames(n);for(const e of t){const t=n[e];t&&"object"==typeof t&&r(t)}return Object.freeze(n)}e.r(t),e.d(t,{buildQuery:function(){return i},buildUrl:function(){return o},copyObject:function(){return u},deepFreeze:function(){return r}});const u=n=>JSON.parse(JSON.stringify(n)),E=(n,t)=>`${encodeURIComponent(String(n))}=${encodeURIComponent(String(t))}`,o=(n,t)=>[n,i(t)].join("?"),i=n=>Object.keys(n).filter((t=>void 0!==n[t])).flatMap((t=>{const e=n[t];return Array.isArray(e)?e.map((n=>E(t,n))):E(t,e)})).join("&")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:83bf1528faf473ec080a9963a70daf7a', location = 'build/4034.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4034],{24034:function(r,t,e){var n=e(88810),o=e(2484),f=e(54334),i=e(68649),u=e(88770),c=e(68458),s=e(17267),a=e(42675),l=e(84492),v=e(28754),h=e(53409),p=e(30719),d=e(22763),k=e(33539),_=[],b=o(_.sort),g=o(_.push),C=a((function(){_.sort(void 0)})),w=a((function(){_.sort(null)})),A=v("sort"),m=!a((function(){if(d)return d<70;if(!(h&&h>3)){if(p)return!0;if(k)return k<603;var r,t,e,n,o="";for(r=65;r<76;r++){switch(t=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)_.push({k:t+n,v:e})}for(_.sort((function(r,t){return t.v-r.v})),n=0;n<_.length;n++)t=_[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:C||!w||!A||!m},{sort:function(r){void 0!==r&&f(r);var t=i(this);if(m)return void 0===r?b(t):b(t,r);var e,n,o=[],a=u(t);for(n=0;n<a;n++)n in t&&g(o,t[n]);for(l(o,function(r){return function(t,e){return void 0===e?-1:void 0===t?1:void 0!==r?+r(t,e)||0:s(t)>s(e)?1:-1}}(r)),e=u(o),n=0;n<e;)t[n]=o[n++];for(;n<a;)c(t,n++);return t}})},68458:function(r,t,e){var n=e(68379),o=TypeError;r.exports=function(r,t){if(!delete r[t])throw new o("Cannot delete property "+n(t)+" of "+n(r))}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e81d40822742435bcff8918f5a9a4865', location = 'build/3985.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3985],{30719:function(t,e,n){var c=n(33291);t.exports=/MSIE|Trident/.test(c)},33539:function(t,e,n){var c=n(33291).match(/AppleWebKit\/(\d+)\./);t.exports=!!c&&+c[1]},53409:function(t,e,n){var c=n(33291).match(/firefox\/(\d+)/i);t.exports=!!c&&+c[1]}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:5161d834a00048ad4e2dca4776ad018e', location = 'build/4492.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4492],{84492:function(e,t,l){var n=l(24540),f=Math.floor,o=function(e,t){var l=e.length;if(l<8)for(var r,c,s=1;s<l;){for(c=s,r=e[s];c&&t(e[c-1],r)>0;)e[c]=e[--c];c!==s++&&(e[c]=r)}else for(var u=f(l/2),i=o(n(e,0,u),t),a=o(n(e,u),t),_=i.length,h=a.length,p=0,g=0;p<_||g<h;)e[p+g]=p<_&&g<h?t(i[p],a[g])<=0?i[p++]:a[g++]:p<_?i[p++]:a[g++];return e};e.exports=o}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:cb750516ce75945986b9e3115e22a3ba', location = 'build/7809.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7809],{37567:function(t,n,e){var r=e(88810),c=e(2484),i=e(83259),o=e(64834),u=e(17267),s=e(78656),f=c("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~f(u(o(this)),u(i(t)),arguments.length>1?arguments[1]:void 0)}})},64707:function(t,n,e){var r=e(88810),c=e(56749).includes,i=e(42675),o=e(62153);r({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},78656:function(t,n,e){var r=e(54175)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,"/./"[t](n)}catch(t){}}return!1}},83259:function(t,n,e){var r=e(34584),c=TypeError;t.exports=function(t){if(r(t))throw new c("The method doesn't accept regular expressions");return t}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:8e6c052a1ffbe7426fd089b55534c093', location = 'build/4584.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4584],{34584:function(t,e,n){var c=n(94102),l=n(72748),u=n(54175)("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[u])?!!e:"RegExp"===l(t))}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:live-filter-resources', location = 'build/live-filtration.js' */
!function(){"use strict";var t,e={30183:function(t,e,i){i(6558);var n=i(56059),a=i(57196),r=i(68631);function o(t,e,i,n,a,r,o){try{var l=t[r](o),s=l.value}catch(t){return void i(t)}l.done?e(s):Promise.resolve(s).then(n,a)}function l(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var r=t.apply(e,i);function l(t){o(r,n,a,l,s,"next",t)}function s(t){o(r,n,a,l,s,"throw",t)}l(void 0)}))}}var s=class{constructor(t,e,i){this.pageId=e,this.editable=i,this.content=t,this.btn=$('<span class="tf-inline-filter" title="'.concat("Filter column",'"></span>')),this.mainBtnContainer=$('<div class="tf-inline-btn-container">\n        <button class="tf-inline-filter main aui-button aui-button-compact aui-button-subtle aui-dropdown2-trigger" \n            title="'.concat("Filter and export table",'" aria-owns="tfn" aria-haspopup="true" aria-expanded="false">\n            <span class="aui-icon aui-icon-small"></span>\n        </button>\n        <div id="tfn"></div>\n      </div>')),this.mainBtn=this.mainBtnContainer.find("button"),t.append(this.btn).append(this.mainBtnContainer),this.bindClick(),$(document).trigger("tf-live-filter.init")}init(t,e){t.hasClass("pivot-table-result")||(this.unbindTable(t),this.bindTable(t,e))}bindTable(t,e){var i=this,n=t.parent(),a=t.find("tr:has(td,th):eq(0)").find("td,th"),r=[];a.each(((t,e)=>{for(var i=$(e),n=0;n<e.colSpan;n++)r.push(i)})),t.on("mouseleave.tf-live","td,th",(()=>{i.btn.removeClass("active"),i.headerActive=!1})).on("mouseover.tf-live","td,th",(function(){if(!i.headerActive){i.headerActive=!0;for(var a=this.cellIndex,o=this.previousSibling;o;)o.colSpan&&(a+=o.colSpan-1),o=o.previousSibling;i.cell=r[a],i.table=t,i.params=e;var l=i.cell.offset();i.btn.offset({top:l.top-3,left:Math.min(l.left+i.cell.outerWidth(),n.offset().left+n.width())-16}).addClass("active")}})),t.bind("mouseleave.tf-live",(function(){i.mainBtn.removeClass("visible"),i.tableActive=!1})).bind("mouseover.tf-live",(function(){if(!i.tableActive){i.tableActive=!0,i.table=t,i.params=e;var a=t.offset();i.mainBtnContainer.show(),i.mainBtnContainer.offset({top:a.top+5,left:Math.max(a.left,n.offset().left)+Math.min(t.width(),n.width())-3}),i.mainBtn.addClass("visible"),i.btn.show()}})),t.bind("tablesorter-initialized",((i,n)=>t.is(n)&&this.init(t,e)))}bindClick(){var t=this;this.mainBtn.add(this.btn).click(l((function*(){if(t.table){var e=$(this),i=t.table,o=n.default.getTableData(t.params,t.content),l=(new Date).getTime();t.table=null,e.addClass("loading"),t.unbindTable(i);var s=yield(0,a.initTF)(o,t.content,l,t.pageId,t.editable,(e=>{var i=e.find(".get-tf-url").addClass("tf-disabled-link");e.find(".filter-save").one("click",(function(){n.default.storeMacro("table-filter",o,t.pageId,t.content,(()=>{i.removeClass("tf-disabled-link")}),(()=>{}),l)}))}),r.HIDE_PANE.HEADER,!0);if(i.trigger("macro-inserted","table-filter"),e.removeClass("loading active visible").fadeOut(0),t.mainBtnContainer.hide(),e.is(t.mainBtn)){i.trigger("mouseover");var f=s.find(".filter-icon").addClass("active");setTimeout((()=>{f.trigger("aui-button-invoke")}),100)}else{var u=s.find(".tf-inline-filter.trigger").addClass("active");setTimeout((()=>{t.cell.trigger("mouseenter.tf"),u.trigger("click")}),100)}}})))}unbindTable(t){t.off("mouseleave.tf-live mouseover.tf-live"),t.unbind("mouseleave.tf-live mouseover.tf-live"),this.headerActive=!1,this.tableActive=!1}},f=i(38755);AJS.$,AJS.toInit((function(){var t;f.default.bind(((e,i,n)=>{i.filter((t=>"table-filter"===t.name)).length&&(t||(t=new s(f.default.getContent(),f.default.getPageId(),f.default.isEditable())),t.init(e,n))}))}))}},i={};function n(t){var a=i[t];if(void 0!==a)return a.exports;var r=i[t]={exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}n.m=e,t=[],n.O=function(e,i,a,r){if(!i){var o=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],r=t[u][2];for(var l=!0,s=0;s<i.length;s++)(!1&r||o>=r)&&Object.keys(n.O).every((function(t){return n.O[t](i[s])}))?i.splice(s--,1):(l=!1,r<o&&(o=r));if(l){t.splice(u--,1);var f=a();void 0!==f&&(e=f)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[i,a,r]},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={8024:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,r,o=i[0],l=i[1],s=i[2],f=0;if(o.some((function(e){return 0!==t[e]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var u=s(n)}for(e&&e(i);f<o.length;f++)r=o[f],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},i=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var a=n.O(void 0,[7062,8810,7267,8303,7073,3844,6467,4267,1141,1314,6558,5344,4584,7809,4492,3985,4034,5433,2321,2896,4412,8631,6099,8984,5416,1121,3622,4125,4510,7736,6444],(function(){return n(30183)}));a=n.O(a)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:macro-inserter-resources', location = 'build/macro-insertion.js' */
!function(){var e,t={49170:function(e){if(void 0===(t=window.TFInserterTamplate=window.TFInserterTamplate||{}))var t={};t.panel=function(e,i){for(var n='<div id="tfac-macro-inserter-container"><button class="aui-button aui-button-compact aui-button-subtle aui-dropdown2-trigger" aria-controls="tfac-macro-inserter" title="'+soy.$$escapeHtml("Insert table macros")+'"><span class="aui-icon aui-icon-small aui-iconfont-add"></span></button><aui-dropdown-menu id="tfac-macro-inserter"><aui-section>',a=e.macros,r=a.length,o=0;o<r;o++){var l=a[o];n+='<aui-item-link href="#" data-macro="'+soy.$$escapeHtml(l.name)+'"><span class="aui-icon aui-icon-small '+soy.$$escapeHtml(l.name)+'-inserter"></span>'+t.title({macro:l.id})+'<span class="aui-icon aui-icon-wait"></span></aui-item-link>'}return n+="</aui-section><aui-section><aui-item-link "+(e.isAdmin?' href="'+soy.$$escapeHtml(AJS.contextPath())+'/admin/plugins/tfac/config.action" ':'href="'+soy.$$escapeHtml(AJS.contextPath())+'/users/tfac-settings.action" ')+'><span class="aui-icon aui-icon-small aui-iconfont-configure" title="'+soy.$$escapeHtml("Configure visibility")+'"></span>'+soy.$$escapeHtml("Configure buttons visibility")+"</aui-item-link></aui-section></aui-dropdown-menu></div>"},{}.DEBUG&&(t.panel.soyTemplateName="TFInserterTamplate.panel"),t.title=function(e,t){return""+("tf"==e.macro?soy.$$escapeHtml("Filter table data"):"pivot"==e.macro?soy.$$escapeHtml("Create a pivot table"):soy.$$escapeHtml("Create a chart from data series"))},{}.DEBUG&&(t.title.soyTemplateName="TFInserterTamplate.title"),e.exports=t},92559:function(e,t,i){"use strict";i(52321),i(54802),i(6558),i(63544);var n=i(56059);function a(e,t){t||(t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $('\n    <section id="tfac-wizard-dialog" class="aui-dialog2 aui-dialog2-xlarge" role="dialog">\n        <header class="aui-dialog2-header">\n            <h2 class="aui-dialog2-header-main">'.concat(e,'</h2>\n        </header>\n        <div class="aui-dialog2-content">\n            ').concat(t,'\n        </div>\n        <footer class="aui-dialog2-footer">\n            <div class="aui-dialog2-footer-actions">\n                <aui-spinner class="hidden"></aui-spinner>\n                <button class="aui-button back hidden">').concat("Back",'</button>\n                <button class="aui-button aui-button-primary add hidden" disabled>').concat("Add",'</button>\n                <button class="aui-button aui-button-primary next" disabled>').concat("Next",'</button>\n                <button class="aui-button aui-button-link close">').concat("Close","</button>\n            </div>\n        </footer>\n    </section>\n  "))}("Add a Chart"),$("body").append(t),AJS.dialog2(t).show()),t.find(".close").click((()=>AJS.dialog2(t).hide()));var i=t.find(".back"),n=t.find(".next"),a=t.find(".add"),r=t.find("aui-spinner"),o=t.find(".aui-dialog2-header-main");return a.click((()=>{a.prop("disabled",!0),r.removeClass("hidden")})),i.click((()=>{i.addClass("hidden"),a.addClass("hidden").prop("disabled",!0),n.removeClass("hidden"),r.addClass("hidden"),o.text("Add a Chart")})),n.click((()=>{i.removeClass("hidden"),a.removeClass("hidden").prop("disabled",!0),n.addClass("hidden").prop("disabled",!0),r.removeClass("hidden"),o.text("Select a Chart")})),{close:()=>AJS.dialog2(t).hide(),$container:t.find(".aui-dialog2-content"),$btnBack:i,$btnNext:n,$btnOk:a,$spinner:r}}var r=i(49170),o=i.n(r),l=i(57196),s=i(68631),c=i(89494);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,a,r,o){try{var l=e[r](o),s=l.value}catch(e){return void i(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function b(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var r=e.apply(t,i);function o(e){p(r,n,a,o,l,"next",e)}function l(e){p(r,n,a,o,l,"throw",e)}o(void 0)}))}}var m=class{constructor(e,t,i){this.content=e,this.pageId=t,this.timer=null,this.activeTable=null,this.panel=$(o().panel({macros:i,isAdmin:AJS.params.isConfluenceAdmin})),this.panelBtnWrapper=this.panel.filter("#tfac-macro-inserter-container"),this.panelBtn=this.panelBtnWrapper.find("button"),this.content.append(this.panel),this.bindPanel()}init(e,t,i){var n=this.hasInlineFilter(e,t),a=e.parent(),r=a.hasClass("tf-fixed-rows");e.unbind("mouseover.tf-insert").bind("mouseover.tf-insert",(()=>{if(!e.is(this.activeTable)&&!this.isOpen()){this.activeTable=e,this.params=i,this.panelBtn.addClass("visible"),this.panel.find("aui-item-link[data-macro]").hide().filter('[data-macro="'.concat(t.map((e=>e.name)).join('"],[data-macro="'),'"]')).show();var o=e.offset(),l=a.offset();this.panelBtnWrapper.show(),this.panelBtnWrapper.offset({top:Math.max(o.top,r?l.top:0)+(n||this.isPivotHidePane(e)?28:0),left:Math.max(o.left,l.left)+Math.min(e.width(),a.width())-3})}})).unbind("mouseleave.tf-insert").bind("mouseleave.tf-insert",(()=>this.removePanel())),e.unbind("macro-inserted.tf-insert").one("macro-inserted.tf-insert",((i,n)=>{this.isOpen()&&this.panelBtn.click(),this.removePanel(),t=t.filter((e=>e.name!==n)),e.trigger("mouseover")})),e.bind("tablesorter-initialized",((n,a)=>e.is(a)&&this.init(e,t,i))),n||$(document).bind("tf-live-filter.init",(()=>n=this.hasInlineFilter(e,t)))}bindPanel(){var e=this;e.panel.find("aui-item-link[data-macro]").click(b((function*(){if(!e.panel.hasClass("disabled")){e.panel.addClass("disabled");var t=$(this);t.addClass("disabled");var i=t.data("macro"),r=n.default.getTableData(e.params,e.content),o=(new Date).getTime();if("table-chart"===i){var d=a(),f=new(yield new Promise((e=>{WRM.require("com.stiltsoft.confluence.plugin.tablefilter.tablefilter:chart-wizard-resources",(()=>{e(window.ChartWizard)}))})))(u(u({$tables:e.params.table},d),{},{callBack:function(t){n.default.storeMacro(i,r,e.pageId,e.content,(()=>{e.insertChart(o,t,d,r),e.params.table.trigger("reinit-tf-insert")}),(()=>{}),o,t)}}));f.init(),e.panel.removeClass("disabled"),t.removeClass("disabled")}else{var p;if("pivot-table"===i){var m=new(yield new Promise((e=>{WRM.require("com.stiltsoft.confluence.plugin.tablefilter.tablefilter:pivot-data-analyzer-resources",(()=>{e(window.PivotDataAnalyzer)}))})))(e.params.table);m.init(),p=m.defaultParams}else"table-filter"===i&&(p={hidePane:s.HIDE_PANE.PANEL});n.default.storeMacro(i,r,e.pageId,e.content,function(){var n=b((function*(n){"table-filter"===i?(yield(0,l.initTF)(r,e.content,o,e.pageId,!0,null,s.HIDE_PANE.PANEL,null,n),$(".tf-inline-filter").removeClass("active"),$(".tf-inline-btn-container").hide(),e.params.table.off("mouseleave.tf-live mouseover.tf-live"),e.params.table.unbind("mouseleave.tf-live mouseover.tf-live")):(Object.assign(p,n),yield(0,l.initPivot)(r,o,e.pageId,p)),e.panel.removeClass("disabled"),t.removeClass("disabled"),e.content.click(),e.params.table.trigger("reinit-tf-insert")}));return function(e){return n.apply(this,arguments)}}(),(()=>{e.panel.removeClass("disabled"),t.removeClass("disabled")}),o,p),"table-filter"===i?(0,c.ga4SendEvent)("quickTF_macroTF_added"):"pivot-table"===i&&(0,c.ga4SendEvent)("quickPivot_macroPivot_added")}return!1}})))}insertChart(e){var t=arguments,i=this;return b((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:{},a=t.length>2?t[2]:void 0,r=t.length>3?t[3]:void 0;yield(0,l.initChart)(r,e,i.pageId,n),a.close()}))()}removePanel(){this.isOpen()||(this.panelBtn.removeClass("visible"),this.activeTable=null)}isOpen(){return this.panelBtn.hasClass("active")}hasInlineFilter(e,t){return!e.hasClass("pivot-table-result")&&(0===t.filter((e=>"tf"===e.id)).length?e.parents(".tablefilter-outer-wrapper").find(".tf-inline-filter").length:$(".tf-inline-filter.main").length)}isPivotHidePane(e){return e.hasClass("pivot-table-result")&&e.closest("div.pivot-content").hasClass("hidden-pane")}},h=i(38755);AJS.$,AJS.toInit((function(){var e;h.default.isEditable()&&h.default.bind(((t,i,n)=>{e||(e=new m(h.default.getContent(),h.default.getPageId(),h.default.tfacMacros.filter((e=>"tj"!==e.id)))),e.init(t,i,n)}))}))}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var r=i[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,e=[],n.O=function(t,i,a,r){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],r=e[d][2];for(var l=!0,s=0;s<i.length;s++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[s])}))?i.splice(s--,1):(l=!1,r<o&&(o=r));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,a,r]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={9765:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,o=i[0],l=i[1],s=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var d=s(n)}for(t&&t(i);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},i=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var a=n.O(void 0,[7062,8810,7267,8303,7073,3844,6467,4267,1141,1314,6558,5344,4802,4584,7809,4492,3985,4034,5433,2321,2896,4412,8631,6099,8984,5416,1121,3622,4125,4510,7736,6444],(function(){return n(92559)}));a=n.O(a)}();
}catch(e){WRMCB(e)};