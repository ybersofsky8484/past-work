WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:bfe6cbc22e5e343b9218baa0750b4115', location = 'build/4938.js' */
/*! For license information please see 4938.js.LICENSE.txt */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4938],{6286:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StableID=void 0;const i=r(60981),n=r(22132),s=r(6346),o=r(42555),a={};function l(e){return`statsig.stable_id.${(0,i._getStorageKey)(e)}`}function u(e,t){const r=l(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save StableID")}}t.StableID={get:e=>{if(null==a[e]){let t=function(e){const t=l(e);return(0,s._getObjectFromStorage)(t)}(e);null==t&&(t=(0,o.getUUID)(),u(t,e)),a[e]=t}return a[e]},setOverride:(e,t)=>{a[t]=e,u(e,t)}}},6346:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;const i=r(22132),n=r(36650),s={},o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>s[e]?s[e]:null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]},getAllKeys:()=>Object.keys(s)};let a=null;try{const e=(0,n._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,r)=>e.localStorage.setItem(t,r),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){i.Log.warn("Failed to setup localStorageProvider.")}let l=null!=a?a:o,u=l;t.Storage={isReady:()=>u.isReady(),isReadyResolver:()=>u.isReadyResolver(),getProviderName:()=>u.getProviderName(),getItem:e=>function(e){try{return e()}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return t.Storage._setProvider(o),null;throw e}}((()=>u.getItem(e))),setItem:(e,t)=>u.setItem(e,t),removeItem:e=>u.removeItem(e),getAllKeys:()=>u.getAllKeys(),_setProvider:e=>{l=e,u=e},_setDisabled:e=>{u=e?o:l}},t._getObjectFromStorage=function(e){const r=t.Storage.getItem(e);return JSON.parse(null!=r?r:"null")},t._setObjectInStorage=function(e,r){t.Storage.setItem(e,JSON.stringify(r))}},12442:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKType=void 0;const r={};let i;t.SDKType={_get:e=>{var t;return(null!==(t=r[e])&&void 0!==t?t:"js-mono")+(null!=i?i:"")},_setClientType(e,t){r[e]=t},_setBindingType(e){i&&"-react"!==i||(i="-"+e)}}},12492:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(96492);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=s.call(r)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}(e,t)||(0,i.default)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},13224:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},15377:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18562:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._makeDataAdapterResult=t.DataAdapterCore=void 0;const n=r(22132),s=r(6286),o=r(84830),a=r(6346),l=r(41829);function u(e,t,r,i){return{source:e,data:t,receivedAt:Date.now(),stableID:r,fullUserHash:(0,o._getFullUserHash)(i)}}t.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new c}attach(e,t){this._sdkKey=e,this._options=t}getDataSync(e){const t=e&&(0,o._normalizeUser)(e,this._options),r=this._getCacheKey(t),i=this._inMemoryCache.get(r,t);if(i)return i;const n=this._loadFromCache(r);return n?(this._inMemoryCache.add(r,n),this._inMemoryCache.get(r,t)):null}setData(e,t){const r=t&&(0,o._normalizeUser)(t,this._options),i=this._getCacheKey(r);this._inMemoryCache.add(i,u("Bootstrap",e,null,r))}_getDataAsyncImpl(e,t,r){return i(this,void 0,void 0,(function*(){a.Storage.isReady()||(yield a.Storage.isReadyResolver());const i=null!=e?e:this.getDataSync(t),s=[this._fetchAndPrepFromNetwork(i,t,r)];return(null==r?void 0:r.timeoutMs)&&s.push(new Promise((e=>setTimeout(e,r.timeoutMs))).then((()=>(n.Log.debug("Fetching latest value timed out"),null)))),yield Promise.race(s)}))}_prefetchDataImpl(e,t){return i(this,void 0,void 0,(function*(){const r=e&&(0,o._normalizeUser)(e,this._options),i=this._getCacheKey(r),n=yield this._getDataAsyncImpl(null,r,t);n&&this._inMemoryCache.add(i,Object.assign(Object.assign({},n),{source:"Prefetch"}))}))}_fetchAndPrepFromNetwork(e,t,r){var o;return i(this,void 0,void 0,(function*(){const i=null!==(o=null==e?void 0:e.data)&&void 0!==o?o:null,a=null!=e&&this._isCachedResultValidFor204(e,t),c=yield this._fetchFromNetwork(i,t,r,a);if(!c)return n.Log.debug("No response returned for latest value"),null;const d=(0,l._typedJsonParse)(c,"has_updates","Response"),h=this._getSdkKey(),f=s.StableID.get(h);let g=null;if(!0===(null==d?void 0:d.has_updates))g=u("Network",c,f,t);else{if(!i||!1!==(null==d?void 0:d.has_updates))return null;g=u("NetworkNotModified",i,f,t)}const _=this._getCacheKey(t);return this._inMemoryCache.add(_,g),this._writeToCache(_,g),g}))}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(n.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;const r=null===(t=a.Storage.getItem)||void 0===t?void 0:t.call(a.Storage,e);if(null==r)return null;const i=(0,l._typedJsonParse)(r,"source","Cached Result");return i?Object.assign(Object.assign({},i),{source:"Cache"}):null}_writeToCache(e,t){a.Storage.setItem(e,JSON.stringify(t)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var t;const r=null!==(t=(0,a._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==t?t:{};r[e]=Date.now();const i=d(r,10);i&&(delete r[i],a.Storage.removeItem(i)),(0,a._setObjectInStorage)(this._lastModifiedStoreKey,r)}},t._makeDataAdapterResult=u;class c{constructor(){this._data={}}get(e,t){var r;const i=this._data[e],s=null==i?void 0:i.stableID,o=null===(r=null==t?void 0:t.customIDs)||void 0===r?void 0:r.stableID;return o&&s&&o!==s?(n.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):i}add(e,t){const r=d(this._data,9);r&&delete this._data[r],this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function d(e,t){const r=Object.keys(e);return r.length<=t?null:r.reduce(((t,r)=>{const i=e[t],n=e[r];return"object"==typeof i&&"object"==typeof n?n.receivedAt<i.receivedAt?r:t:n<i?r:t}))}},21647:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeTypedGet=t._mergeOverride=t._makeLayer=t._makeExperiment=t._makeDynamicConfig=t._makeFeatureGate=void 0;const i=r(22132),n=r(48062);function s(e,t,r,i){var n;return{name:e,details:t,ruleID:null!==(n=null==r?void 0:r.rule_id)&&void 0!==n?n:"default",__evaluation:r,value:i}}function o(e,t,r){var i;const n=null!==(i=null==r?void 0:r.value)&&void 0!==i?i:{};return Object.assign(Object.assign({},s(e,t,r,n)),{get:a(e,null==r?void 0:r.value)})}function a(e,t,r){return(s,o)=>{var a;const l=null!==(a=null==t?void 0:t[s])&&void 0!==a?a:null;return null==l?null!=o?o:null:null==o||(0,n._isTypeMatch)(l,o)?(null==r||r(s),l):(i.Log.warn(`Parameter type mismatch. '${e}.${s}' was found to be type '${typeof l}' but fallback/return type is '${typeof o}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=o?o:null)}}t._makeFeatureGate=function(e,t,r){return s(e,t,r,!0===(null==r?void 0:r.value))},t._makeDynamicConfig=o,t._makeExperiment=function(e,t,r){var i;const n=o(e,t,r);return Object.assign(Object.assign({},n),{groupName:null!==(i=null==r?void 0:r.group_name)&&void 0!==i?i:null})},t._makeLayer=function(e,t,r,i){var n,o;return Object.assign(Object.assign({},s(e,t,r,void 0)),{get:a(e,null==r?void 0:r.value,i),groupName:null!==(n=null==r?void 0:r.group_name)&&void 0!==n?n:null,__value:null!==(o=null==r?void 0:r.value)&&void 0!==o?o:{}})},t._mergeOverride=function(e,t,r,i){return Object.assign(Object.assign(Object.assign({},e),t),{get:a(e.name,r,i)})},t._makeTypedGet=a},22132:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0;function r(e){return e.unshift("[Statsig]"),e}t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class i{static info(...e){i.level>=t.LogLevel.Info&&console.info("  INFO ",...r(e))}static debug(...e){i.level>=t.LogLevel.Debug&&console.debug(" DEBUG ",...r(e))}static warn(...e){i.level>=t.LogLevel.Warn&&console.warn("  WARN ",...r(e))}static error(...e){i.level>=t.LogLevel.Error&&console.error(" ERROR ",...r(e))}}t.Log=i,i.level=t.LogLevel.Warn},23224:function(e,t,r){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}r.r(t),r.d(t,{default:function(){return i}})},28210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;const i=r(48062);t._DJB2=e=>{let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return String(t>>>0)};t._DJB2Object=(e,r)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(e,r)));t._getSortedObject=(e,r)=>{if(null==e)return null;const n=Object.keys(e).sort(),s={};return n.forEach((n=>{const o=e[n];0!==r&&"object"===(0,i._typeOf)(o)?s[n]=(0,t._getSortedObject)(o,null!=r?r-1:r):s[n]=o})),s}},30382:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0,r(98657);const s=r(72798);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return s.Diagnostics}});const o=r(80638);Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return o.EventLogger}});const a=r(22132);Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return a.Log}});const l=r(92452),u=r(6346);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return u.Storage}}),n(r(98657),t),n(r(60981),t),n(r(34399),t),n(r(18562),t),n(r(72798),t),n(r(76663),t),n(r(41290),t),n(r(70118),t),n(r(93725),t),n(r(28210),t),n(r(72849),t),n(r(22132),t),n(r(66375),t),n(r(73582),t),n(r(76555),t),n(r(15377),t),n(r(86037),t),n(r(36650),t),n(r(12442),t),n(r(44899),t),n(r(6286),t),n(r(95939),t),n(r(93528),t),n(r(65362),t),n(r(41217),t),n(r(92452),t),n(r(45910),t),n(r(41350),t),n(r(21647),t),n(r(13224),t),n(r(84830),t),n(r(6346),t),n(r(41829),t),n(r(48062),t),n(r(85445),t),n(r(42555),t),n(r(65873),t),n(r(56400),t),n(r(94175),t),__STATSIG__=Object.assign(Object.assign({},null!==__STATSIG__&&void 0!==__STATSIG__?__STATSIG__:{}),{Log:a.Log,SDK_VERSION:l.SDK_VERSION})},34399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36111:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(36236);function n(e,t,r){return(t=(0,i.default)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},36236:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(23224);function n(e){var t=function(e,t){if("object"!=(0,i.default)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=(0,i.default)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.default)(t)?t:t+""}},36650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0;t._getWindowSafe=()=>"undefined"!=typeof window?window:null;t._getDocumentSafe=()=>{var e;const r=(0,t._getWindowSafe)();return null!==(e=null==r?void 0:r.document)&&void 0!==e?e:null};t._isServerEnv=()=>{if(null!==(0,t._getDocumentSafe)())return!1;const e="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;return"string"==typeof EdgeRuntime||e};t._addWindowEventListenerSafe=(e,r)=>{const i=(0,t._getWindowSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,r)};t._addDocumentEventListenerSafe=(e,r)=>{const i=(0,t._getDocumentSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,r)};t._getCurrentPageUrlSafe=()=>{var e;try{return null===(e=(0,t._getWindowSafe)())||void 0===e?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}}},36962:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(30382),s=r(88321),o=r(96892),a=r(42739),l=r(61887);class u extends n.StatsigClientBase{static instance(e){const t=(0,n._getStatsigGlobal)().instance(e);return t instanceof u?t:(n.Log.warn((0,n._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new u(null!=e?e:"",{}))}constructor(e,t,r=null){var i,a;n.SDKType._setClientType(e,"javascript-client");const u=new o.default(r,(e=>{this.$emt(e)}));super(e,null!==(i=null==r?void 0:r.dataAdapter)&&void 0!==i?i:new l.StatsigEvaluationsDataAdapter,u,r),this.getFeatureGate=this._memoize(n.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(n.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(n.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(n.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(n.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new s.default(e),this._network=u,this._user=this._configureUser(t,r);const c=null!==(a=null==r?void 0:r.plugins)&&void 0!==a?a:[];for(const e of c)e.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,n.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return i(this,void 0,void 0,(function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise}))}updateUserSync(e,t){var r;const i=performance.now(),s=[...null!==(r=this._store.getWarnings())&&void 0!==r?r:[]];this._resetForUser(e);const o=this.dataAdapter.getDataSync(this._user);null==o&&s.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);const a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&"Bootstrap"===(null==o?void 0:o.source)||this._runPostUpdate(null!=o?o:null,this._user),(0,n.createUpdateDetails)(!0,this._store.getSource(),performance.now()-i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s)}updateUserAsync(e,t){return i(this,void 0,void 0,(function*(){this._resetForUser(e);const r=this._user;n.Diagnostics._markInitOverallStart(this._sdkKey);let i=this.dataAdapter.getDataSync(r);if(this._store.setValues(i,this._user),this._setStatus("Loading",i),i=yield this.dataAdapter.getDataAsync(i,r,t),r!==this._user)return(0,n.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let s=!1;null!=i&&(n.Diagnostics._markInitProcessStart(this._sdkKey),s=this._store.setValues(i,this._user),n.Diagnostics._markInitProcessEnd(this._sdkKey,{success:s})),this._finalizeUpdate(i),s||(this._errorBoundary.attachErrorIfNoneExists(n.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),n.Diagnostics._markInitOverallEnd(this._sdkKey,s,this._store.getCurrentSourceDetails());const o=n.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,n.createUpdateDetails)(s,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())}))}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:n.StatsigSession.get(this._sdkKey),stableID:n.StableID.get(this._sdkKey)}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,r){const i="string"==typeof e?{eventName:e,value:t,metadata:r}:e;this._logger.enqueue(Object.assign(Object.assign({},i),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",(()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)}))}_initializeAsyncImpl(e){return i(this,void 0,void 0,(function*(){return n.Storage.isReady()||(yield n.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)}))}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch((e=>{n.Log.error("An error occurred after update.",e)}))}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var r;const i=(0,n._normalizeUser)(e,t),s=null===(r=i.customIDs)||void 0===r?void 0:r.stableID;return s&&n.StableID.setOverride(s,this._sdkKey),i}_getFeatureGateImpl(e,t){var r,i;const{result:s,details:o}=this._store.getGate(e),a=(0,n._makeFeatureGate)(e,o,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getGateOverride)||void 0===i?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,n._createGateExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(e,t){var r,i;const{result:s,details:o}=this._store.getConfig(e),a=(0,n._makeDynamicConfig)(e,o,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getDynamicConfigOverride)||void 0===i?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(e,t){var r,i,s,o;const{result:a,details:l}=this._store.getConfig(e),u=(0,n._makeExperiment)(e,l,a);null!=u.__evaluation&&(u.__evaluation.secondary_exposures=(0,n._mapExposures)(null!==(i=null===(r=u.__evaluation)||void 0===r?void 0:r.secondary_exposures)&&void 0!==i?i:[],this._store.getExposureMapping()));const c=null===(o=null===(s=this.overrideAdapter)||void 0===s?void 0:s.getExperimentOverride)||void 0===o?void 0:o.call(s,u,this._user,t),d=null!=c?c:u;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,d,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getLayerImpl(e,t){var r,i,s;const{result:o,details:a}=this._store.getLayer(e),l=(0,n._makeLayer)(e,a,o),u=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getLayerOverride)||void 0===i?void 0:i.call(r,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);const c=(0,n._mergeOverride)(l,u,null!==(s=null==u?void 0:u.__value)&&void 0!==s?s:l.__value,(r=>{(null==t?void 0:t.disableExposureLog)||this._enqueueExposure(e,(0,n._createLayerParameterExposure)(this._user,c,r,this._store.getExposureMapping()),t)}));return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,t){var r,i;const{result:n,details:s}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);const o={name:e,details:s,__configuration:n,get:(0,a._makeParamStoreGetter)(this,n,t)},l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getParamStoreOverride)||void 0===i?void 0:i.call(r,o,t);return null!=l&&(o.__configuration=l.config,o.details=l.details,o.get=(0,a._makeParamStoreGetter)(this,l.config,t)),o}}t.default=u},38085:function(e,t,r){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}r.r(t),r.d(t,{default:function(){return i}})},41217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createLayerParameterExposure=t._createConfigExposure=t._mapExposures=t._createGateExposure=t._isExposureEvent=void 0;const r="statsig::config_exposure",i="statsig::gate_exposure",n="statsig::layer_exposure",s=(e,t,r,i,n)=>(r.bootstrapMetadata&&(i.bootstrapMetadata=r.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:a(r,i),secondaryExposures:n,time:Date.now()});t._isExposureEvent=({eventName:e})=>e===i||e===r||e===n;function o(e,t){return e.map((e=>"string"==typeof e?(null!=t?t:{})[e]:e)).filter((e=>null!=e))}t._createGateExposure=(e,t,r)=>{var n,a,l;const u={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return null!=(null===(n=t.__evaluation)||void 0===n?void 0:n.version)&&(u.configVersion=t.__evaluation.version),s(i,e,t.details,u,o(null!==(l=null===(a=t.__evaluation)||void 0===a?void 0:a.secondary_exposures)&&void 0!==l?l:[],r))},t._mapExposures=o;t._createConfigExposure=(e,t,i)=>{var n,a,l,u;const c={config:t.name,ruleID:t.ruleID};return null!=(null===(n=t.__evaluation)||void 0===n?void 0:n.version)&&(c.configVersion=t.__evaluation.version),null!=(null===(a=t.__evaluation)||void 0===a?void 0:a.passed)&&(c.rulePassed=String(t.__evaluation.passed)),s(r,e,t.details,c,o(null!==(u=null===(l=t.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==u?u:[],i))};t._createLayerParameterExposure=(e,t,r,i)=>{var a,l,u,c;const d=t.__evaluation,h=!0===(null===(a=null==d?void 0:d.explicit_parameters)||void 0===a?void 0:a.includes(r));let f="",g=null!==(l=null==d?void 0:d.undelegated_secondary_exposures)&&void 0!==l?l:[];h&&(f=null!==(u=d.allocated_experiment_name)&&void 0!==u?u:"",g=d.secondary_exposures);const _={config:t.name,parameterName:r,ruleID:t.ruleID,allocatedExperiment:f,isExplicitParameter:String(h)};return null!=(null===(c=t.__evaluation)||void 0===c?void 0:c.version)&&(_.configVersion=t.__evaluation.version),s(n,e,t.details,_,o(g,i))};const a=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)},41290:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;const n=r(22132),s=r(12442),o=r(92452);t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const a="[Statsig] UnknownError";function l(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error("An unknown error occurred.")}t.ErrorBoundary=class{constructor(e,t,r,i){this._sdkKey=e,this._options=t,this._emitter=r,this._lastSeenError=i,this._seen=new Set}wrap(e){try{const t=e;(function(e){const t=new Set;let r=Object.getPrototypeOf(e);for(;r&&r!==Object.prototype;)Object.getOwnPropertyNames(r).filter((e=>"function"==typeof(null==r?void 0:r[e]))).forEach((e=>t.add(e))),r=Object.getPrototypeOf(r);return Array.from(t)})(t).forEach((r=>{const i=t[r];"$EB"in i||(t[r]=(...t)=>this._capture(r,(()=>i.apply(e,t))),t[r].$EB=!0)}))}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){const e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=l(e))}_capture(e,t){try{const r=t();return r&&r instanceof Promise?r.catch((t=>this._onError(e,t))):r}catch(t){return this._onError(e,t),null}}_onError(e,r){try{n.Log.warn(`Caught error in ${e}`,{error:r});(()=>i(this,void 0,void 0,(function*(){var i,n,u,c,d,h,f;const g=r||Error(a),_=g instanceof Error,p=_?g.name:"No Name",v=l(g);if(this._lastSeenError=v,this._seen.has(p))return;if(this._seen.add(p),null===(n=null===(i=this._options)||void 0===i?void 0:i.networkConfig)||void 0===n?void 0:n.preventAllNetworkTraffic)return void(null===(u=this._emitter)||void 0===u||u.call(this,{name:"error",error:r,tag:e}));const y=s.SDKType._get(this._sdkKey),m=o.StatsigMetadataProvider.get(),b=_?g.stack:function(e){try{return JSON.stringify(e)}catch(e){return a}}(g),w=JSON.stringify(Object.assign({tag:e,exception:p,info:b},Object.assign(Object.assign({},m),{sdkType:y}))),E=null!==(h=null===(d=null===(c=this._options)||void 0===c?void 0:c.networkConfig)||void 0===d?void 0:d.networkOverrideFunc)&&void 0!==h?h:fetch;yield E(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(y),"STATSIG-SDK-VERSION":String(m.sdkVersion),"Content-Type":"application/json"},body:w}),null===(f=this._emitter)||void 0===f||f.call(this,{name:"error",error:r,tag:e})})))().then((()=>{})).catch((()=>{}))}catch(e){}}}},41350:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41829:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typedJsonParse=void 0;const i=r(22132);t._typedJsonParse=function(e,t,r){try{const r=JSON.parse(e);if(r&&"object"==typeof r&&t in r)return r}catch(e){}return i.Log.error(`Failed to parse ${r}`),null}},42555:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=void 0,t.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,(r=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===r?i:7&i|8).toString(16)}))}},42739:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeParamStoreGetter=void 0;const i=r(30382),n={disableExposureLog:!0};function s(e){return null==e||!1===e.disableExposureLog}function o(e,t){return null!=t&&!(0,i._isTypeMatch)(e,t)}t._makeParamStoreGetter=function(e,t,r){return(a,l)=>{if(null==t)return l;const u=t[a];if(null==u||null!=l&&(0,i._typeOf)(l)!==u.param_type)return l;switch(u.ref_type){case"static":return function(e){return e.value}(u);case"gate":return function(e,t,r){return e.getFeatureGate(t.gate_name,s(r)?void 0:n).value?t.pass_value:t.fail_value}(e,u,r);case"dynamic_config":return function(e,t,r,i){const a=e.getDynamicConfig(t.config_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getDynamicConfig(t.config_name),a)}(e,u,l,r);case"experiment":return function(e,t,r,i){const a=e.getExperiment(t.experiment_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getExperiment(t.experiment_name),a)}(e,u,l,r);case"layer":return function(e,t,r,i){const a=e.getLayer(t.layer_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getLayer(t.layer_name).get(t.param_name),a)}(e,u,l,r);default:return l}}}},43057:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(61927);function n(e,t){if(null==e)return{};var r,n,s=(0,i.default)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},44899:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;const i=r(60981),n=r(22132),s=r(6346),o=r(42555),a=18e5,l=144e5,u={};function c(e,t){return setTimeout((()=>{const t=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(e);t&&t.$emt({name:"session_expired"})}),t)}function d(e){return`statsig.session_id.${(0,i._getStorageKey)(e)}`}t.SessionID={get:e=>t.StatsigSession.get(e).data.sessionID},t.StatsigSession={get:e=>{null==u[e]&&(u[e]=function(e){let t=function(e){const t=d(e);return(0,s._getObjectFromStorage)(t)}(e);const r=Date.now();t||(t={sessionID:(0,o.getUUID)(),startTime:r,lastUpdate:r});return{data:t,sdkKey:e}}(e));return function(e){const t=Date.now(),r=e.data;(function({lastUpdate:e}){return Date.now()-e>a}(r)||function({startTime:e}){return Date.now()-e>l}(r))&&(r.sessionID=(0,o.getUUID)(),r.startTime=t);r.lastUpdate=t,function(e,t){const r=d(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save SessionID")}}(r,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);const i=t-r.startTime,u=e.sdkKey;return e.idleTimeoutID=c(u,a),e.ageTimeoutID=c(u,l-i),e}(u[e])},overrideInitialSessionID:(e,t)=>{u[t]=function(e,t){const r=Date.now();return{data:{sessionID:e,startTime:r,lastUpdate:r},sdkKey:t}}(e,t)}}},45910:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},47726:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;const s=r(36962);t.StatsigClient=s.default,n(r(30382),t),__STATSIG__=Object.assign(Object.assign({},null!==__STATSIG__&&void 0!==__STATSIG__?__STATSIG__:{}),{StatsigClient:s.default}),t.default=__STATSIG__},48062:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isTypeMatch=t._typeOf=void 0,t._typeOf=function(e){return Array.isArray(e)?"array":typeof e},t._isTypeMatch=function(e,t){const r=e=>Array.isArray(e)?"array":typeof e;return r(e)===r(t)}},56400:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DETAIL_ERROR_MESSAGES=t.createUpdateDetails=void 0;t.createUpdateDetails=(e,t,r,i,n,s)=>({duration:r,source:t,success:e,error:i,sourceUrl:n,warnings:s}),t.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},60981:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getStorageKey=t._getUserStorageKey=void 0;const i=r(28210);function n(e,t,r){var n;if(r)return r(e,t);const s=t&&t.customIDs?t.customIDs:{},o=[`uid:${null!==(n=null==t?void 0:t.userID)&&void 0!==n?n:""}`,`cids:${Object.keys(s).sort(((e,t)=>e.localeCompare(t))).map((e=>`${e}-${s[e]}`)).join(",")}`,`k:${e}`];return(0,i._DJB2)(o.join("|"))}t._getUserStorageKey=n,t._getStorageKey=function(e,t,r){return t?n(e,t,r):(0,i._DJB2)(`k:${e}`)}},61887:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEvaluationsDataAdapter=void 0;const n=r(30382),s=r(96892);class o extends n.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t){super.attach(e,t),this._network=new s.default(null!=t?t:{})}getDataAsync(e,t,r){return this._getDataAsyncImpl(e,(0,n._normalizeUser)(t,this._options),r)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){const t=(0,n._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):n.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,r,n){var s;return i(this,void 0,void 0,(function*(){const i=yield null===(s=this._network)||void 0===s?void 0:s.fetchEvaluations(this._getSdkKey(),e,null==r?void 0:r.priority,t,n);return null!=i?i:null}))}_getCacheKey(e){var t;const r=(0,n._getStorageKey)(this._getSdkKey(),e,null===(t=this._options)||void 0===t?void 0:t.customUserCacheKeyFunc);return`${n.DataAdapterCachePrefix}.${this._cacheSuffix}.${r}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,n._getFullUserHash)(t)}}t.StatsigEvaluationsDataAdapter=o},61927:function(e,t,r){"use strict";function i(e,t){if(null==e)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;r[i]=e[i]}return r}r.r(t),r.d(t,{default:function(){return i}})},64741:function(e,t,r){"use strict";r.r(t),r.d(t,{COLOR_MODE_ATTRIBUTE:function(){return n},CONTRAST_MODE_ATTRIBUTE:function(){return s},CSS_PREFIX:function(){return l},CSS_VAR_FULL:function(){return u},CURRENT_SURFACE_CSS_VAR:function(){return d},CUSTOM_THEME_ATTRIBUTE:function(){return o},DEFAULT_THEME:function(){return a},THEME_DATA_ATTRIBUTE:function(){return i},TOKEN_NOT_FOUND_CSS_VAR:function(){return c}});var i="data-theme",n="data-color-mode",s="data-contrast-mode",o="data-custom-theme",a="light",l="ds",u=["opacity","font","space","border"],c="--".concat(l,"-token-not-found"),d="--".concat(l,"-elevation-surface-current")},65362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataAdapterCachePrefix=void 0,t.DataAdapterCachePrefix="statsig.cached"},65873:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;const i=r(36650),n="foreground",s="background",o=[];let a=n,l=!1;t._isCurrentlyVisible=()=>a===n;t._isUnloading=()=>l;t._subscribeToVisiblityChanged=e=>{o.unshift(e)};t._notifyVisibilityChanged=e=>{e!==a&&(a=e,o.forEach((t=>t(e))))},(0,i._addWindowEventListenerSafe)("focus",(()=>{l=!1,(0,t._notifyVisibilityChanged)(n)})),(0,i._addWindowEventListenerSafe)("blur",(()=>(0,t._notifyVisibilityChanged)(s))),(0,i._addWindowEventListenerSafe)("beforeunload",(()=>{l=!0,(0,t._notifyVisibilityChanged)(s)})),(0,i._addDocumentEventListenerSafe)("visibilitychange",(()=>{(0,t._notifyVisibilityChanged)("visible"===document.visibilityState?n:s)}))},66375:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMemoKey=t.MemoPrefix=void 0,t.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};const r=new Set([]),i=new Set(["userPersistedValues"]);t.createMemoKey=function(e,t,n){let s=`${e}|${t}`;if(!n)return s;for(const e of Object.keys(n)){if(i.has(e))return;r.has(e)?s+=`|${e}=true`:s+=`|${e}=${n[e]}`}return s}},70118:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._resolveDeltasResponse=void 0;const i=r(30382);function n(e,t){null==e||e.forEach((e=>{delete t[e]}))}t._resolveDeltasResponse=function(e,t){const r=(0,i._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!r)return{hadBadDeltaChecksum:!0};const s=function(e){const t=e;return n(e.deleted_gates,t.feature_gates),delete t.deleted_gates,n(e.deleted_configs,t.dynamic_configs),delete t.deleted_configs,n(e.deleted_layers,t.layer_configs),delete t.deleted_layers,t}(function(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{feature_gates:Object.assign(Object.assign({},e.feature_gates),t.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),t.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),t.dynamic_configs)})}(e,r)),o=(0,i._DJB2Object)({feature_gates:s.feature_gates,dynamic_configs:s.dynamic_configs,layer_configs:s.layer_configs},2);return o===r.checksumV2?JSON.stringify(s):{hadBadDeltaChecksum:!0,badChecksum:o,badMergedConfigs:s,badFullResponse:r.deltas_full_response}}},72051:function(e,t,r){"use strict";r.r(t),r.d(t,{fg:function(){return m},getBooleanFF:function(){return y},setBooleanFeatureFlagResolver:function(){return v}});var i,n,s=r(99278),o=!(void 0!==(null===globalThis||void 0===globalThis||null===(i=globalThis.process)||void 0===i||null===(i=i.env)||void 0===i?void 0:i.JEST_WORKER_ID))&&"production"!==(null===globalThis||void 0===globalThis||null===(n=globalThis.process)||void 0===n||null===(n=n.env)||void 0===n?void 0:n.NODE_ENV),a=function(){var e;o&&(e=console).debug.apply(e,arguments)},l="@atlaskit/platform-feature-flags",u="__PLATFORM_FEATURE_FLAGS__",c="undefined"!=typeof process&&void 0!==process.env,d=!!c&&"true"===process.env.ENABLE_PLATFORM_FF,h=!!c&&"true"===process.env.STORYBOOK_ENABLE_PLATFORM_FF,f=d||h,g={booleanResolver:void 0},_="undefined"!=typeof window?window:globalThis;function p(e){if(f)return a('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',l,e),!0;try{var t,r,i;if(void 0===(null===(t=_[u])||void 0===t?void 0:t.booleanResolver)||null===(null===(r=_[u])||void 0===r?void 0:r.booleanResolver))return s.default.checkGate(e);var n=null===(i=_[u])||void 0===i?void 0:i.booleanResolver(e);return"boolean"!=typeof n?(console.warn("".concat(e," resolved to a non-boolean value, returning false for safety")),!1):n}catch(e){return!1}}function v(e){var t;t=e,_[u].booleanResolver=t}function y(e){return p(e)}function m(e){return p(e)}_[u]=_[u]||g},72798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const r=new Map,i="start",n="end",s="statsig::diagnostics";function o(e,t,r,i){return Object.assign({key:r,action:t,step:i,timestamp:Date.now()},e)}function a(e,t){var i;const n=null!==(i=r.get(e))&&void 0!==i?i:[];n.push(t),r.set(e,n)}function l(e,t){if(t in e)return e[t]}t.Diagnostics={_getMarkers:e=>r.get(e),_markInitOverallStart:e=>{a(e,o({},i,"overall"))},_markInitOverallEnd:(e,t,r)=>{a(e,o({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:r},n,"overall"))},_markInitNetworkReqStart:(e,t)=>{a(e,o(t,i,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{a(e,o(t,n,"initialize","network_request"))},_markInitProcessStart:e=>{a(e,o({},i,"initialize","process"))},_markInitProcessEnd:(e,t)=>{a(e,o(t,n,"initialize","process"))},_clearMarkers:e=>{r.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:l(e,"code"),name:l(e,"name"),message:l(e,"message")}},_getDiagnosticsData(e,r,i,n){var s;return{success:!0===(null==e?void 0:e.ok),statusCode:null==e?void 0:e.status,sdkRegion:null===(s=null==e?void 0:e.headers)||void 0===s?void 0:s.get("x-statsig-region"),isDelta:!0===i.includes('"is_delta":true')||void 0,attempt:r,error:t.Diagnostics._formatError(n)}},_enqueueDiagnosticsEvent(e,r,i,n){const o=t.Diagnostics._getMarkers(i);if(null==o||o.length<=0)return-1;const a=o[o.length-1].timestamp-o[0].timestamp;t.Diagnostics._clearMarkers(i);const l=function(e,t){const r={eventName:s,user:e,value:null,metadata:t,time:Date.now()};return r}(e,{context:"initialize",markers:o.slice(),statsigOptions:n});return r.enqueue(l),a}}},72849:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},73582:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},76555:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkCore=void 0,r(98657);const n=r(98657),s=r(72798),o=r(22132),a=r(73582),l=r(82064),u=r(94175),c=r(12442),d=r(36650),h=r(44899),f=r(6286),g=r(93528),_=r(92452),p=r(65873),v=new Set([408,500,502,503,504,522,524,599]);t.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options)}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){const e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){return i(this,void 0,void 0,(function*(){if(!y(e))return!1;const t=this._getInternalRequestArgs("POST",e);yield this._tryToCompressBody(t);const r=yield this._getPopulatedURL(t),i=navigator;return i.sendBeacon.bind(i)(r,t.body)}))}post(e){return i(this,void 0,void 0,(function*(){const t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)}))}get(e){const t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){var t,r,n,l;return i(this,void 0,void 0,(function*(){if(!y(e))return null;if(this._netConfig.preventAllNetworkTraffic)return null;const{method:u,body:c,retries:d,attempt:h}=e,f=e.urlConfig.endpoint;if(this._isRateLimited(f))return o.Log.warn(`Request to ${f} was blocked because you are making requests too frequently.`),null;const _=null!=h?h:1,m="undefined"!=typeof AbortController?new AbortController:null,w=setTimeout((()=>{null==m||m.abort(`Timeout of ${this._timeout}ms expired.`)}),this._timeout),E=yield this._getPopulatedURL(e);let O=null;const S=(0,p._isUnloading)();try{const r={method:u,body:c,headers:Object.assign({},e.headers),signal:null==m?void 0:m.signal,priority:e.priority,keepalive:S};!function(e,t){if(e.urlConfig.endpoint!==a.Endpoint._initialize)return;s.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:t})}(e,_);const i=this._leakyBucket[f];i&&(i.lastRequestTime=Date.now(),this._leakyBucket[f]=i);const n=null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch;if(O=yield n(E,r),clearTimeout(w),!O.ok){const e=yield O.text().catch((()=>"No Text")),t=new Error(`NetworkError: ${E} ${e}`);throw t.name="NetworkError",t}const o=yield O.text();return b(e,O,_,o),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:o,code:O.status}}catch(t){const s=function(e,t){if((null==e?void 0:e.signal.aborted)&&"string"==typeof e.signal.reason)return e.signal.reason;if("string"==typeof t)return t;if(t instanceof Error)return`${t.name}: ${t.message}`;return"Unknown Error"}(m,t),a=(null==(k=m)?void 0:k.signal.aborted)&&"string"==typeof k.signal.reason&&k.signal.reason.includes("Timeout")||!1;b(e,O,_,"",t);if((yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,s,a))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!d||_>d||!v.has(null!==(r=null==O?void 0:O.status)&&void 0!==r?r:500)){null===(n=this._emitter)||void 0===n||n.call(this,{name:"error",error:t,tag:g.ErrorTag.NetworkError,requestArgs:e});const r=`A networking error occurred during ${u} request to ${E}.`;return o.Log.error(r,s,t),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(r),null}return yield function(e){return i(this,void 0,void 0,(function*(){yield new Promise((t=>setTimeout(t,Math.min(e*e*500,3e4))))}))}(_),this._sendRequest(Object.assign(Object.assign({},e),{retries:d,attempt:_+1}))}var k}))}_isRateLimited(e){var t;const r=Date.now(),i=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:r},n=r-i.lastRequestTime,s=Math.floor(.05*n);return i.count=Math.max(0,i.count-s),i.count>=50||(i.count+=1,i.lastRequestTime=r,this._leakyBucket[e]=i,!1)}_getPopulatedURL(e){var t;return i(this,void 0,void 0,(function*(){const r=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();e.urlConfig.endpoint!==a.Endpoint._initialize&&e.urlConfig.endpoint!==a.Endpoint._download_config_specs||(this._lastUsedInitUrl=r);const i=Object.assign({[a.NetworkParam.SdkKey]:e.sdkKey,[a.NetworkParam.SdkType]:c.SDKType._get(e.sdkKey),[a.NetworkParam.SdkVersion]:_.SDK_VERSION,[a.NetworkParam.Time]:String(Date.now()),[a.NetworkParam.SessionID]:h.SessionID.get(e.sdkKey)},e.params),n=Object.keys(i).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`)).join("&");return`${r}${n?`?${n}`:""}`}))}_tryEncodeBody(e){var t;const r=(0,d._getWindowSafe)(),i=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof i&&null==(0,n._getStatsigGlobalFlag)("no-encode")&&(null==r?void 0:r.btoa))try{e.body=r.btoa(i).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.StatsigEncoded]:"1"})}catch(t){o.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(e){var t;return i(this,void 0,void 0,(function*(){const r=e.body;if(e.isCompressable&&!this._options.disableCompression&&"string"==typeof r&&!0===u.SDKFlags.get(e.sdkKey,"enable_log_event_compression")&&null==(0,n._getStatsigGlobalFlag)("no-compress")&&"undefined"!=typeof CompressionStream&&"undefined"!=typeof TextEncoder)try{const i=(new TextEncoder).encode(r),n=new CompressionStream("gzip"),s=n.writable.getWriter();s.write(i).catch(o.Log.error),s.close().catch(o.Log.error);const l=n.readable.getReader(),u=[];let c;for(;!(c=yield l.read()).done;)u.push(c.value);const d=u.reduce(((e,t)=>e+t.length),0),h=new Uint8Array(d);let f=0;for(const e of u)h.set(e,f),f+=e.length;e.body=h,e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.IsGzipped]:"1"})}catch(t){o.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,t)}}))}_getInternalRequestArgs(e,t){const r=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),i=Object.assign(Object.assign({},t),{method:e,fallbackUrl:r});return"data"in t&&m(i,t.data),i}};const y=e=>!!e.sdkKey||(o.Log.warn("Unable to make request without an SDK key"),!1),m=(e,t)=>{const{sdkKey:r,fallbackUrl:i}=e,n=f.StableID.get(r),s=h.SessionID.get(r),o=c.SDKType._get(r);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},_.StatsigMetadataProvider.get()),{stableID:n,sessionID:s,sdkType:o,fallbackUrl:i})}))};function b(e,t,r,i,n){e.urlConfig.endpoint===a.Endpoint._initialize&&s.Diagnostics._markInitNetworkReqEnd(e.sdkKey,s.Diagnostics._getDiagnosticsData(t,r,i,n))}},76663:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},77001:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var i=r(36236);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,i.default)(n.key),n)}}function s(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},80638:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;const n=r(60981),s=r(28210),o=r(22132),a=r(73582),l=r(36650),u=r(41217),c=r(6346),d=r(85445),h=r(65873),f={},g="startup",_="gained_focus";class p{static _safeFlushAndForget(e){var t;null===(t=f[e])||void 0===t||t.flush().catch((()=>{}))}static _safeRetryFailedLogs(e){var t;null===(t=f[e])||void 0===t||t._retryFailedLogs(_)}constructor(e,t,r,i){var n;this._sdkKey=e,this._emitter=t,this._network=r,this._options=i,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._isLoggingDisabled=!0===(null==i?void 0:i.disableLogging),this._maxQueueSize=null!==(n=null==i?void 0:i.loggingBufferMaxSize)&&void 0!==n?n:100;const s=null==i?void 0:i.networkConfig;this._logEventUrlConfig=new d.UrlConfiguration(a.Endpoint._rgstr,null==s?void 0:s.logEventUrl,null==s?void 0:s.api,null==s?void 0:s.logEventFallbackUrls)}setLoggingDisabled(e){this._isLoggingDisabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&p._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;const r=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=r+1}reset(){this._lastExposureTimeMap={}}start(){(0,l._isServerEnv)()||(f[this._sdkKey]=this,(0,h._subscribeToVisiblityChanged)((e=>{"background"===e?p._safeFlushAndForget(this._sdkKey):"foreground"===e&&p._safeRetryFailedLogs(this._sdkKey)})),this._retryFailedLogs(g),this._startBackgroundFlushInterval())}stop(){return i(this,void 0,void 0,(function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete f[this._sdkKey],yield this.flush()}))}flush(){return i(this,void 0,void 0,(function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;const e=this._queue;this._queue=[],yield this._sendEvents(e)}))}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout((()=>p._safeFlushAndForget(this._sdkKey)),200))}_shouldLogEvent(e){if((0,l._isServerEnv)())return!1;if(!(0,u._isExposureEvent)(e))return!0;const t=e.user?e.user:{statsigEnvironment:void 0},r=(0,n._getUserStorageKey)(this._sdkKey,t),i=e.metadata?e.metadata:{},s=[e.eventName,r,i.gate,i.config,i.ruleID,i.allocatedExperiment,i.parameterName,String(i.isExplicitParameter),i.reason].join("|"),o=this._lastExposureTimeMap[s],a=Date.now();return!(o&&a-o<6e5)&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[s]=a,!0)}_sendEvents(e){var t,r;return i(this,void 0,void 0,(function*(){if(this._isLoggingDisabled)return this._saveFailedLogsToStorage(e),!1;try{const i=(0,h._isUnloading)()&&this._network.isBeaconSupported()&&null==(null===(r=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===r?void 0:r.networkOverrideFunc);this._emitter({name:"pre_logs_flushed",events:e});return(i?yield this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success?(this._emitter({name:"logs_flushed",events:e}),!0):(o.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1)}catch(e){return o.Log.warn("Failed to flush events."),!1}}))}_sendEventsViaPost(e){var t;return i(this,void 0,void 0,(function*(){const r=yield this._network.post(this._getRequestData(e)),i=null!==(t=null==r?void 0:r.code)&&void 0!==t?t:-1;return{success:i>=200&&i<300}}))}_sendEventsViaBeacon(e){return i(this,void 0,void 0,(function*(){return{success:yield this._network.beacon(this._getRequestData(e))}}))}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[a.NetworkParam.EventCount]:String(e.length)}}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();const t=this._getStorageKey();try{(0,c._setObjectInStorage)(t,e)}catch(e){o.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){const t=this._getStorageKey();(()=>i(this,void 0,void 0,(function*(){c.Storage.isReady()||(yield c.Storage.isReadyResolver());const r=(0,c._getObjectFromStorage)(t);if(!r)return;e===g&&c.Storage.removeItem(t);(yield this._sendEvents(r))&&e===_&&c.Storage.removeItem(t)})))().catch((()=>{o.Log.warn("Failed to flush stored logs")}))}_getStorageKey(){return`statsig.failed_logs.${(0,s._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);const t={},r=this._getCurrentPageUrl();r&&(t.statsigMetadata={currentPage:r});const i=Object.assign(Object.assign({},e),t);o.Log.debug("Enqueued Event:",i),this._queue.push(i)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if(!1!==(null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents))return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;const r=null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4,i=setInterval((()=>{const e=f[this._sdkKey];e&&e._flushIntervalId===i?p._safeFlushAndForget(this._sdkKey):clearInterval(i)}),r);this._flushIntervalId=i}}t.EventLogger=p},82064:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._isDomainFailure=t.NetworkFallbackResolver=void 0;const n=r(86413),s=r(28210),o=r(22132),a=r(6346),l=6048e5;function u(e,t){var r;const i=null!==(r=null==e?void 0:e.toLowerCase())&&void 0!==r?r:"";return t||i.includes("uncaught exception")||i.includes("failed to fetch")||i.includes("networkerror when attempting to fetch resource")}function c(e){return`statsig.network_fallback.${(0,s._DJB2)(e)}`}function d(e,t){const r=c(e);t&&0!==Object.keys(t).length?a.Storage.setItem(r,JSON.stringify(t)):a.Storage.removeItem(r)}function h(e){try{return new URL(e).pathname}catch(e){return null}}t.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var r;const i=null===(r=this._fallbackInfo)||void 0===r?void 0:r[t.endpoint];i&&(i.expiryTime=Date.now()+l,d(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:i})))}getActiveFallbackUrl(e,t){var r,i;let n=this._fallbackInfo;null==n&&(n=null!==(r=function(e){const t=c(e),r=a.Storage.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return o.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==r?r:{},this._fallbackInfo=n);const s=n[t.endpoint];return!s||Date.now()>(null!==(i=s.expiryTime)&&void 0!==i?i:0)?(delete n[t.endpoint],this._fallbackInfo=n,d(e,this._fallbackInfo),null):s.url?s.url:null}getFallbackFromProvided(e){const t=h(e);return t?e.replace(t,""):null}tryFetchUpdatedFallbackInfo(e,t,r,n){var s,o;return i(this,void 0,void 0,(function*(){try{if(!u(r,n))return!1;const i=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,o=this._pickNewFallbackUrl(null===(s=this._fallbackInfo)||void 0===s?void 0:s[t.endpoint],i);return!!o&&(this._updateFallbackInfoWithNewUrl(e,t.endpoint,o),!0)}catch(e){return null===(o=this._errorBoundary)||void 0===o||o.logError("tryFetchUpdatedFallbackInfo",e),!1}}))}_updateFallbackInfoWithNewUrl(e,t,r){var i,n,s;const o={url:r,expiryTime:Date.now()+l,previous:[]},a=null===(i=this._fallbackInfo)||void 0===i?void 0:i[t];a&&o.previous.push(...a.previous),o.previous.length>10&&(o.previous=[]);const u=null===(s=null===(n=this._fallbackInfo)||void 0===n?void 0:n[t])||void 0===s?void 0:s.url;null!=u&&o.previous.push(u),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[t]:o}),d(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){var t;return i(this,void 0,void 0,(function*(){const r=this._dnsQueryCooldowns[e.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;const i=[],s=yield(0,n._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),o=h(e.defaultUrl);for(const t of s){if(!t.startsWith(e.endpointDnsKey+"="))continue;const r=t.split("=");if(r.length>1){let e=r[1];e.endsWith("/")&&(e=e.slice(0,-1)),i.push(`https://${e}${o}`)}}return i}))}_pickNewFallbackUrl(e,t){var r;if(null==t)return null;const i=new Set(null!==(r=null==e?void 0:e.previous)&&void 0!==r?r:[]),n=null==e?void 0:e.url;let s=null;for(const e of t){const t=e.endsWith("/")?e.slice(0,-1):e;if(!i.has(e)&&t!==n){s=t;break}}return s}},t._isDomainFailure=u},82561:function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:function(){return i}})},84830:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getFullUserHash=t._normalizeUser=void 0;const i=r(28210),n=r(22132);t._normalizeUser=function(e,t,r){try{const i=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?i.statsigEnvironment=t.environment:null!=r&&(i.statsigEnvironment={tier:r}),i}catch(e){return n.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},t._getFullUserHash=function(e){return e?(0,i._DJB2Object)(e):null}},85445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlConfiguration=void 0;const i=r(73582),n={[i.Endpoint._initialize]:"i",[i.Endpoint._rgstr]:"e",[i.Endpoint._download_config_specs]:"d"};t.UrlConfiguration=class{constructor(e,t,r,s){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=n[e],t&&(this.customUrl=t),!t&&r&&(this.customUrl=r.endsWith("/")?`${r}${e}`:`${r}/${e}`),s&&(this.fallbackUrls=s);const o=i.NetworkDefault[e];this.defaultUrl=`${o}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}}},86037:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},86413:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._fetchTxtRecords=void 0;const i=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),n=["i","e","d"];t._fetchTxtRecords=function(e){return r(this,void 0,void 0,(function*(){const t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:i});if(!t.ok){const e=new Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}const r=yield t.arrayBuffer();return function(e){const t=e.findIndex(((t,r)=>r<200&&"="===String.fromCharCode(t)&&n.includes(String.fromCharCode(e[r-1]))));if(-1===t){const e=new Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let r="";for(let i=t-1;i<e.length;i++)r+=String.fromCharCode(e[i]);return r.split(",")}(new Uint8Array(r))}))}},87553:function(e,t,r){var i;!function(n){var s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(){this._events={},this._conf&&a.call(this,this._conf)}function a(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==n?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var i=new Error(r);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,process.emitWarning(i)}else console.error(r),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,e)}function c(e,t,r,i){if(!r)return[];var n,s,o,a,l,u,d,h=[],f=t.length,g=t[i],_=t[i+1];if(i===f&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(n=0,s=r._listeners.length;n<s;n++)e&&e.push(r._listeners[n]);return[r]}if("*"===g||"**"===g||r[g]){if("*"===g){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(h=h.concat(c(e,t,r[o],i+1)));return h}if("**"===g){for(o in(d=i+1===f||i+2===f&&"*"===_)&&r._listeners&&(h=h.concat(c(e,t,r,f))),r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!d&&(h=h.concat(c(e,t,r[o],f))),h=h.concat(c(e,t,r[o],i))):h=o===_?h.concat(c(e,t,r[o],i+2)):h.concat(c(e,t,r[o],i)));return h}h=h.concat(c(e,t,r[g],i+1))}if((a=r["*"])&&c(e,t,a,i+1),l=r["**"])if(i<f)for(o in l._listeners&&c(e,t,l,f),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===_?c(e,t,l[o],i+2):o===g?c(e,t,l[o],i+1):((u={})[o]=l[o],c(e,t,{"**":u},i+1)));else l._listeners?c(e,t,l,f):l["*"]&&l["*"]._listeners&&c(e,t,l["*"],f);return h}function d(e,t){for(var r=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<i;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var s=this.listenerTree,o=e.shift();o!==n;){if(s[o]||(s[o]={}),s=s[o],0===e.length)return s._listeners?("function"==typeof s._listeners&&(s._listeners=[s._listeners]),s._listeners.push(t),!s._listeners.warned&&this._maxListeners>0&&s._listeners.length>this._maxListeners&&(s._listeners.warned=!0,l.call(this,s._listeners.length,o))):s._listeners=t,!0;o=e.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==n&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this._once(e,t,!1)},u.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},u.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},u.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},u.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},u.prototype._many=function(e,t,r,i){var n=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function s(){return 0==--t&&n.off(e,s),r.apply(this,arguments)}return s._origin=r,this._on(e,s,i),n},u.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,r,i,n,s,a=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),a>3)for(t=new Array(a),n=0;n<a;n++)t[n]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,a){case 1:s[i].call(this,e);break;case 2:s[i].call(this,e,arguments[1]);break;case 3:s[i].call(this,e,arguments[1],arguments[2]);break;default:s[i].apply(this,t)}}if(this.wildcard){s=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,s,l,this.listenerTree,0)}else{if("function"==typeof(s=this._events[e])){switch(this.event=e,a){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),n=1;n<a;n++)t[n-1]=arguments[n];s.apply(this,t)}return!0}s&&(s=s.slice())}if(s&&s.length){if(a>3)for(t=new Array(a-1),n=1;n<a;n++)t[n-1]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,a){case 1:s[i].call(this);break;case 2:s[i].call(this,arguments[1]);break;case 3:s[i].call(this,arguments[1],arguments[2]);break;default:s[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,i,n,s,a=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),n=1;n<l;n++)t[n]=arguments[n];for(i=0,r=this._all.length;i<r;i++)switch(this.event=e,l){case 1:a.push(this._all[i].call(this,e));break;case 2:a.push(this._all[i].call(this,e,arguments[1]));break;case 3:a.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[i].apply(this,t))}}if(this.wildcard){s=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,s,u,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,l){case 1:a.push(s.call(this));break;case 2:a.push(s.call(this,arguments[1]));break;case 3:a.push(s.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];a.push(s.apply(this,t))}else if(s&&s.length){if(s=s.slice(),l>3)for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,l){case 1:a.push(s[i].call(this));break;case 2:a.push(s[i].call(this,arguments[1]));break;case 3:a.push(s[i].call(this,arguments[1],arguments[2]));break;default:a.push(s[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},u.prototype.on=function(e,t){return this._on(e,t,!1)},u.prototype.prependListener=function(e,t){return this._on(e,t,!0)},u.prototype.onAny=function(e){return this._onAny(e,!1)},u.prototype.prependAny=function(e){return this._onAny(e,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},u.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();i=c.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var a=0;a<i.length;a++){var l=i[a];if(r=l._listeners,s(r)){for(var u=-1,d=0,h=r.length;d<h;d++)if(r[d]===t||r[d].listener&&r[d].listener===t||r[d]._origin&&r[d]._origin===t){u=d;break}if(u<0)continue;return this.wildcard?l._listeners.splice(u,1):this._events[e].splice(u,1),0===r.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==n){var r=Object.keys(t);for(var i in r){var s=r[i],o=t[s];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[s]),0===Object.keys(o).length&&delete t[s])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,r=0,i=0;if(e&&this._all&&this._all.length>0){for(r=0,i=(t=this._all).length;r<i;r++)if(e===t[r])return t.splice(r,1),this.emit("removeListenerAny",e),this}else{for(r=0,i=(t=this._all).length;r<i;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=c.call(this,null,t,this.listenerTree,0),i=0;i<r.length;i++){r[i]._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return c.call(this,t,r,this.listenerTree,0),t}return this._events||o.call(this),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},(i=function(){return u}.call(t,r,t,e))===n||(e.exports=i)}()},88321:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(30382);t.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,i._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){var r;if(!e)return!1;const n=(0,i._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=n&&(this._source=e.source,!0!==(null==n?void 0:n.has_updates)||(this._rawValues=e.data,this._lcut=n.time,this._receivedAt=e.receivedAt,this._values=n,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,n),e.source&&n.user&&this._setWarningState(t,n),i.SDKFlags.setFlags(this._sdkKey,null!==(r=n.sdk_flags)&&void 0!==r?r:{})),!0)}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs,e)}getLayer(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.exposures}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;const r={};return t.user&&(r.user=t.user),t.sdkInfo&&(r.generatorSDKInfo=t.sdkInfo),r.lcut=t.time,r}_getDetailedStoreResult(e,t){let r=null;return e&&(r=e[t]?e[t]:e[(0,i._DJB2)(t)]),{result:r,details:this._getDetails(null==r)}}_setWarningState(e,t){var r;const n=i.StableID.get(this._sdkKey);if((null===(r=e.customIDs)||void 0===r?void 0:r.stableID)===n){if("user"in t){const r=t.user;(0,i._getFullUserHash)(e)!==(0,i._getFullUserHash)(r)&&this._warnings.add("PartialUserMatch")}}else this._warnings.add("StableIDMismatch")}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};const e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,r;const i=this.getCurrentSourceDetails();let n=i.reason;const s=null!==(t=i.warnings)&&void 0!==t?t:[];if("Bootstrap"===this._source&&s.length>0&&(n+=s[0]),"Uninitialized"!==n&&"NoValues"!==n){n=`${n}:${e?"Unrecognized":"Recognized"}`}const o="Bootstrap"===this._source&&null!==(r=this._bootstrapMetadata)&&void 0!==r?r:void 0;return o&&(i.bootstrapMetadata=o),Object.assign(Object.assign({},i),{reason:n})}}},92452:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.12.1";let r={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>r,add:e=>{r=Object.assign(Object.assign({},r),e)}}},93528:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTag=void 0,t.ErrorTag={NetworkError:"NetworkError"}},93725:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKFlags=void 0;const r={};t.SDKFlags={setFlags:(e,t)=>{r[e]=t},get:(e,t)=>{var i,n;return null!==(n=null===(i=r[e])||void 0===i?void 0:i[t])&&void 0!==n&&n}}},95939:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClientBase=void 0,r(98657);const n=r(98657),s=r(41290),o=r(80638),a=r(22132),l=r(66375),u=r(36650),c=r(44899),d=r(6346);t.StatsigClientBase=class{constructor(e,t,r,i){var l;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const h=this.$emt.bind(this);null!=(null==i?void 0:i.logLevel)&&(a.Log.level=i.logLevel),(null==i?void 0:i.disableStorage)&&d.Storage._setDisabled(!0),(null==i?void 0:i.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(i.initialSessionID,e),(null==i?void 0:i.storageProvider)&&d.Storage._setProvider(i.storageProvider),this._sdkKey=e,this._options=null!=i?i:{},this._memoCache={},this.overrideAdapter=null!==(l=null==i?void 0:i.overrideAdapter)&&void 0!==l?l:null,this._logger=new o.EventLogger(e,h,r,i),this._errorBoundary=new s.ErrorBoundary(e,i,h),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),r.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,i),this.storageProvider=d.Storage,this._primeReadyRipcord(),function(e,t){var r;if((0,u._isServerEnv)())return;const i=(0,n._getStatsigGlobal)(),s=null!==(r=i.instances)&&void 0!==r?r:{},o=t;null!=s[e]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.");s[e]=o,i.firstInstance||(i.firstInstance=o);i.instances=s,__STATSIG__=i}(e,this)}updateRuntimeOptions(e){null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingDisabled(e.disableLogging)),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,d.Storage._setDisabled(e.disableStorage))}flush(){return this._logger.flush()}shutdown(){return i(this,void 0,void 0,(function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()}))}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){const r=this._listeners[e].indexOf(t);-1!==r&&this._listeners[e].splice(r,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;const r=t=>{try{t(e)}catch(r){if(!0===t.__isInternal)return void this._errorBoundary.logError(`__emit:${e.name}`,r);a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach((e=>r(e))),null===(t=this._listeners["*"])||void 0===t||t.forEach(r)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,r){!0!==(null==r?void 0:r.disableExposureLog)?this._logger.enqueue(t):this._logger.incrementNonExposureCount(e)}_memoize(e,t){return(r,i)=>{if(this._options.disableEvaluationMemoization)return t(r,i);const n=(0,l.createMemoKey)(e,r,i);return n?(n in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[n]=t(r,i)),this._memoCache[n]):t(r,i)}}}},96492:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(38085);function n(e,t){if(e){if("string"==typeof e)return(0,i.default)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,i.default)(e,t):void 0}}},96892:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(30382),s=r(70450);class o extends n.NetworkCore{constructor(e,t){super(e,t);const r=null==e?void 0:e.networkConfig;this._initializeUrlConfig=new n.UrlConfiguration(n.Endpoint._initialize,null==r?void 0:r.initializeUrl,null==r?void 0:r.api,null==r?void 0:r.initializeFallbackUrls)}fetchEvaluations(e,t,r,s,o){return i(this,void 0,void 0,(function*(){const i=t?(0,n._typedJsonParse)(t,"has_updates","InitializeResponse"):null;let a={user:s,hash:"djb2",deltasResponseRequested:!1,full_checksum:null};return(null==i?void 0:i.has_updates)&&(a=Object.assign(Object.assign({},a),{sinceTime:o?i.time:0,previousDerivedFields:"derived_fields"in i&&o?i.derived_fields:{},deltasResponseRequested:!0,full_checksum:i.full_checksum})),this._fetchEvaluations(e,i,a,r)}))}_fetchEvaluations(e,t,r,n){var o,a;return i(this,void 0,void 0,(function*(){const i=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:r,retries:2,isStatsigEncodable:!0,priority:n});if(204===(null==i?void 0:i.code))return'{"has_updates": false}';if(200!==(null==i?void 0:i.code))return null!==(o=null==i?void 0:i.body)&&void 0!==o?o:null;if(!0!==(null==t?void 0:t.has_updates)||!0!==(null===(a=i.body)||void 0===a?void 0:a.includes('"is_delta":true'))||!0!==r.deltasResponseRequested)return i.body;const l=(0,s._resolveDeltasResponse)(t,i.body);return"string"==typeof l?l:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},r),l),{deltasResponseRequested:!1}),n)}))}}t.default=o},98657:function(e,t,r){"use strict";var i,n,s;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;const o=r(22132);t._getStatsigGlobal=()=>__STATSIG__||d;t._getStatsigGlobalFlag=e=>(0,t._getStatsigGlobal)()[e];t._getInstance=e=>{const r=(0,t._getStatsigGlobal)();return e?r.instances&&r.instances[e]:(r.instances&&Object.keys(r.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),r.firstInstance)};const a="__STATSIG__",l="undefined"!=typeof window?window:{},u=void 0!==r.g?r.g:{},c="undefined"!=typeof globalThis?globalThis:{},d=null!==(s=null!==(n=null!==(i=l[a])&&void 0!==i?i:u[a])&&void 0!==n?n:c[a])&&void 0!==s?s:{instance:t._getInstance};l[a]=d,u[a]=d,c[a]=d},99278:function(e,t,r){"use strict";r.r(t),r.d(t,{CLIENT_VERSION:function(){return k},DynamicConfig:function(){return O},EvaluationReason:function(){return h},FeatureGateEnvironment:function(){return f},PerimeterType:function(){return g},default:function(){return W}});var i=r(36111),n=r(43057),s=r(47726),o=r(87553);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u="@all-features";class c{constructor(){(0,i.default)(this,"eventToValue",new Map),this.emitter=new o.EventEmitter2}onGateUpdated(e,t,r,i){const n=r(e,l(l({},i),{},{fireGateExposure:!1}));void 0===this.eventToValue.get(t)&&this.eventToValue.set(t,n);const s=()=>{const n=r(e,l(l({},i),{},{fireGateExposure:!1}));this.eventToValue.get(t)!==n&&(this.eventToValue.set(t,n),t(n))};return this.emitter.on(e,s),()=>{this.emitter.off(e,s)}}onExperimentValueUpdated(e,t,r,i,n,s){const o=`${e}.${t}`,a=n(e,t,r,l(l({},s),{},{fireExperimentExposure:!1}));void 0===this.eventToValue.get(i)&&this.eventToValue.set(i,a);const u=()=>{const o=n(e,t,r,l(l({},s),{},{fireExperimentExposure:!1}));this.eventToValue.get(i)!==o&&(this.eventToValue.set(i,o),i(o))};return this.emitter.on(o,u),()=>{this.emitter.off(o,u)}}onAnyUpdated(e){return this.emitter.on(u,e),()=>{this.emitter.off(u,e)}}anyUpdated(){this.emitter.emit(u),this.emitter.eventNames().filter((e=>e!==u)).forEach((e=>{this.emitter.emit(e)}))}}function d(){var e,t=globalThis,r=t.MICROS_PERIMETER||t.UNSAFE_ATL_CONTEXT_BOUNDARY;if(r)return"fedramp-moderate"===r;var i=null===(e=t.location)||void 0===e||null===(e=e.hostname)||void 0===e?void 0:e.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!i&&i.length>0}let h=function(e){return e.Error="Error",e.LocalOverride="LocalOverride",e.Unrecognized="Unrecognized",e.Uninitialized="Uninitialized",e.NetworkNotModified="NetworkNotModified",e.Network="Network",e.InvalidBootstrap="InvalidBootstrap",e.Bootstrap="Bootstrap",e.Cache="Cache",e.Unknown="Unknown",e}({}),f=function(e){return e.Development="development",e.Staging="staging",e.Production="production",e}({}),g=function(e){return e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e}({});const _=["api","disableCurrentPageLogging","loggingIntervalMillis","loggingBufferMaxSize","localMode","eventLoggingApi","eventLoggingApiForRetries","disableLocalStorage","ignoreWindowUndefined","disableAllLogging","initTimeoutMs","disableNetworkKeepalive","overrideStableID","disableErrorLogging","disableAutoMetricsLogging"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=e=>v({perimeter:d()?g.FEDRAMP_MODERATE:g.COMMERCIAL},e),m=(e,t)=>{if(!e&&!t)return!0;if(!e||!t)return!1;const r=Object.entries(e),i=Object.entries(t);if(r.length!==i.length)return!1;const n=([e],[t])=>e.localeCompare(t);r.sort(n),i.sort(n);for(let e=0;e<r.length;e++){const[,t]=r[e],[,n]=i[e];if(t!==n)return!1}return!0},b=(e,t,r)=>{const i={customIDs:null!=t&&t.stableID||!r?e:v({stableID:s.StableID.get(r)},e),custom:t};return e.atlassianAccountId&&(i.userID=e.atlassianAccountId),i},w=Object.entries(h).map((([e,t])=>[e.toLowerCase(),t])),E=e=>{var t,r,i;const n=e.reason.toLowerCase();return{reason:null!==(t=null===(r=w.find((([e])=>n.includes(e))))||void 0===r?void 0:r[1])&&void 0!==t?t:h.Unknown,time:null!==(i=e.receivedAt)&&void 0!==i?i:Date.now()}};class O{static fromExperiment(e){var t,r;const i=new O(e.name,e.value,e.ruleID,E(e.details),null===(t=e.__evaluation)||void 0===t?void 0:t.secondary_exposures,null!==(r=e.groupName)&&void 0!==r?r:void 0);return i.experiment=e,i}constructor(e,t,r,i,n=[],s="",o=null){this.value=t,this._name=e,this._ruleID=r,this._secondaryExposures=n,this._allocatedExperimentName=s,this._evaluationDetails=i,this._onDefaultValueFallback=o}get(e,t,r){var i;const n=this.getValue(e,t);if(null==n)return t;const s=Array.isArray(t)?"array":typeof t,o=Array.isArray(n)?"array":typeof n;var a;return r?r(n)?(this.fireExposure(e),n):(null===(a=this._onDefaultValueFallback)||void 0===a||a.call(this,this,e,s,o),t):null==t||s===o?(this.fireExposure(e),n):(null===(i=this._onDefaultValueFallback)||void 0===i||i.call(this,this,e,s,o),t)}getValue(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e]?t:(this.fireExposure(e),this.value[e]))}fireExposure(e){this.experiment&&this.experiment.get(e)}}class S{static fromLayer(e){var t,r,i,n;return new S(e.name,e.__value,e.ruleID,E(e.details),((t,r)=>e.get(r)),null===(t=e.__evaluation)||void 0===t?void 0:t.secondary_exposures,null===(r=e.__evaluation)||void 0===r?void 0:r.undelegated_secondary_exposures,null===(i=e.__evaluation)||void 0===i?void 0:i.allocated_experiment_name,null===(n=e.__evaluation)||void 0===n?void 0:n.explicit_parameters)}constructor(e,t,r,i,n=null,s=[],o=[],a="",l=[]){this._logParameterFunction=n,this._name=e,this._value=JSON.parse(JSON.stringify(null!=t?t:{})),this._ruleID=null!=r?r:"",this._evaluationDetails=i,this._secondaryExposures=s,this._undelegatedSecondaryExposures=o,this._allocatedExperimentName=a,this._explicitParameters=l}get(e,t,r){const i=this._value[e];if(null==i)return t;const n=()=>(this._logLayerParameterExposure(e),i);return r?r(i)?n():t:null==t||typeof i==typeof t&&Array.isArray(t)===Array.isArray(i)?n():t}getValue(e,t){null==t&&(t=null);const r=this._value[e];return null!=r&&this._logLayerParameterExposure(e),null!=r?r:t}_logLayerParameterExposure(e){var t;null===(t=this._logParameterFunction)||void 0===t||t.call(this,this,e)}}const k="4.26.0";class D extends Error{constructor(e){super(e)}}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}class C{static async fetchClientSdk(e){const{targetApp:t}=e,r=`/api/v2/frontend/clientSdkKey/${t}`;try{return await this.fetchRequest(r,"GET",e)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve client sdk key")}}static async fetchExperimentValues(e,t,r){const i={identifiers:t,customAttributes:r,targetApp:e.targetApp};try{return await this.fetchRequest("/api/v2/frontend/experimentValues","POST",e,i)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve experiment values")}}static async handleResponseError(e){if(!e.ok){const t=await e.text();throw new D(`Non 2xx response status received, status: ${e.status}, body: ${JSON.stringify(t)}`)}if(204===e.status)throw new D("Unexpected 204 response")}static async extractResponseBody(e){const t=await e.text();return JSON.parse(t)}static getBaseUrl(e,t=!1,r){if(t)return"/gateway/api/flags";if(r===g.FEDRAMP_MODERATE)switch(e){case f.Production:return"https://api.atlassian-us-gov-mod.com/flags";case f.Staging:return"https://api.stg.atlassian-us-gov-mod.com/flags";default:throw new Error(`Invalid environment "${e}" for "${r}" perimeter`)}else{if(r!==g.COMMERCIAL)throw new Error(`Invalid perimeter "${r}"`);switch(e){case f.Development:return"https://api.dev.atlassian.com/flags";case f.Staging:return"https://api.stg.atlassian.com/flags";default:return"https://api.atlassian.com/flags"}}}static async fetchRequest(e,t,r,n){const s=C.getBaseUrl(r.environment,r.useGatewayURL,r.perimeter),o=r.fetchTimeoutMs||5e3;let a;if(AbortSignal.timeout)a=AbortSignal.timeout(o);else if(AbortController){const e=new AbortController;a=e.signal,setTimeout((()=>e.abort()),o)}const l=await fetch(`${s}${e}`,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({method:t,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":k,"X-API-KEY":r.apiKey},signal:a},n&&{body:JSON.stringify(n)}));return await this.handleResponseError(l),await this.extractResponseBody(l)}}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class A extends s.DataAdapterCore{constructor(){super("NoFetchDataAdapter","nofetch"),(0,i.default)(this,"bootstrapResult",null)}setBootstrapData(e){this.bootstrapResult=e?{source:"Bootstrap",data:JSON.stringify(e),receivedAt:Date.now(),stableID:s.StableID.get(this._getSdkKey()),fullUserHash:null}:null}async prefetchData(e,t){}async getDataAsync(e,t,r){return this.bootstrapResult&&P(P({},this.bootstrapResult),{},{fullUserHash:(0,s._getFullUserHash)(t)})}getDataSync(e){return this.bootstrapResult&&P(P({},this.bootstrapResult),{},{fullUserHash:(0,s._getFullUserHash)(e)})}async _fetchFromNetwork(e,t,r){return null}_getCacheKey(e){const t=(0,s._getStorageKey)(this._getSdkKey(),e);return`${s.DataAdapterCachePrefix}.${this._cacheSuffix}.${t}`}_isCachedResultValidFor204(e,t){return!1}setDataLegacy(e,t){super.setData(e,t)}toJSON(){const e=P({},this);return delete e._options,delete e._inMemoryCache,delete e.bootstrapResult,e}}var j=r(30382);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const T="LocalOverride:Recognized",R="STATSIG_OVERRIDES";class F{constructor(e){this._overrides={gates:{},configs:{},layers:{}},this._localStorageKey=e}parseStoredOverrides(e){try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):{gates:{},configs:{},layers:{}}}catch(e){return{gates:{},configs:{},layers:{}}}}mergeOverrides(...e){const t={gates:{},configs:{},layers:{}};for(const s of e){for(const[e,i]of Object.entries(null!==(r=s.gates)&&void 0!==r?r:{})){var r;t.gates[e]=i}for(const[e,r]of Object.entries(null!==(i=s.configs)&&void 0!==i?i:{})){var i;t.configs[e]=r}for(const[e,r]of Object.entries(null!==(n=s.layers)&&void 0!==n?n:{})){var n;t.layers[e]=r}}return t}initFromStoredOverrides(){this.setOverrides(this.mergeOverrides(this._overrides,this.parseStoredOverrides("STATSIG_JS_LITE_LOCAL_OVERRIDES"),this.parseStoredOverrides(this._localStorageKey)))}saveOverrides(){try{window.localStorage.setItem(this._localStorageKey,JSON.stringify(this._overrides))}catch(e){}}getOverrides(){return Object.fromEntries(Object.entries(this._overrides).map((([e,t])=>{const r={};for(const[e,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(t,(0,j._DJB2)(e))&&(r[e]=i);return[e,r]})))}setOverrides(e){const t=L(L({},{gates:{},configs:{},layers:{}}),e);for(const e of Object.values(t))for(const[t,r]of Object.entries(e)){const i=(0,j._DJB2)(t);Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r)}this._overrides=t,this.saveOverrides()}overrideGate(e,t){this._overrides.gates[e]=t,this._overrides.gates[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeGateOverride(e){delete this._overrides.gates[e],delete this._overrides.gates[(0,j._DJB2)(e)],this.saveOverrides()}getGateOverride(e,t){var r;const i=null!==(r=this._overrides.gates[e.name])&&void 0!==r?r:this._overrides.gates[(0,j._DJB2)(e.name)];return null==i?null:L(L({},e),{},{value:i,details:L(L({},e.details),{},{reason:T})})}overrideDynamicConfig(e,t){this._overrides.configs[e]=t,this._overrides.configs[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeDynamicConfigOverride(e){delete this._overrides.configs[e],delete this._overrides.configs[(0,j._DJB2)(e)],this.saveOverrides()}getDynamicConfigOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideExperiment(e,t){this._overrides.configs[e]=t,this._overrides.configs[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeExperimentOverride(e){delete this._overrides.configs[e],delete this._overrides.configs[(0,j._DJB2)(e)],this.saveOverrides()}getExperimentOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideLayer(e,t){this._overrides.layers[e]=t,this._overrides.layers[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeLayerOverride(e){delete this._overrides.layers[e],delete this._overrides.layers[(0,j._DJB2)(e)],this.saveOverrides()}removeAllOverrides(){this._overrides={gates:{},configs:{},layers:{}},window.localStorage.removeItem(R)}getLayerOverride(e,t){var r;const i=null!==(r=this._overrides.layers[e.name])&&void 0!==r?r:this._overrides.layers[(0,j._DJB2)(e.name)];return null==i?null:L(L({},e),{},{__value:i,get:(0,j._makeTypedGet)(e.name,i),details:L(L({},e.details),{},{reason:T})})}_getConfigOverride(e,t){var r;const i=null!==(r=t[e.name])&&void 0!==r?r:t[(0,j._DJB2)(e.name)];return null==i?null:L(L({},e),{},{value:i,get:(0,j._makeTypedGet)(e.name,i),details:L(L({},e.details),{},{reason:T})})}}const M=["sdkKey","environment","updateUserCompletionCallback","perimeter"];function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const V="client-default-key";var G;class z{static isGateExists(e){return this.client.isGateExist(e)}static isExperimentExists(e){return this.client.isExperimentExist(e)}}G=z,(0,i.default)(z,"client",new class{constructor({localStorageKey:e=R}={}){(0,i.default)(this,"initPromise",null),(0,i.default)(this,"initCompleted",!1),(0,i.default)(this,"initWithDefaults",!1),(0,i.default)(this,"hasCheckGateErrorOccurred",!1),(0,i.default)(this,"hasGetExperimentErrorOccurred",!1),(0,i.default)(this,"hasGetExperimentValueErrorOccurred",!1),(0,i.default)(this,"hasGetLayerErrorOccurred",!1),(0,i.default)(this,"hasGetLayerValueErrorOccurred",!1),(0,i.default)(this,"subscriptions",new c),(0,i.default)(this,"dataAdapter",new A),(0,i.default)(this,"statsigValuesUpdated",(()=>{this.user&&this.statsigClient.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}),this.subscriptions.anyUpdated()})),this.overrideAdapter=new F(e)}async initialize(e,t,r){const i=y(e);if(this.initPromise)return m(i,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;const n=performance.now();return this.initOptions=i,this.initPromise=this.init(i,t,r).then((()=>{this.initCompleted=!0,this.initWithDefaults=!0})).finally((()=>{const e=performance.now()-n;this.fireClientEvent(n,e,"initialize",this.initCompleted,i.apiKey)})),this.initPromise}async initializeWithProvider(e,t,r,i){const n=y(e);if(this.initPromise)return m(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;const s=performance.now();return this.initOptions=n,this.provider=t,this.provider.setClientVersion(k),this.provider.setApplyUpdateCallback&&this.provider.setApplyUpdateCallback(this.applyUpdateCallback.bind(this)),this.initPromise=this.initWithProvider(n,t,r,i).then((()=>{this.initCompleted=!0,this.initWithDefaults=!0})).finally((()=>{const e=performance.now()-s;this.fireClientEvent(s,e,"initializeWithProvider",this.initCompleted,t.getApiKey?t.getApiKey():void 0)})),this.initPromise}applyUpdateCallback(e){try{(this.initCompleted||this.initWithDefaults)&&(this.assertInitialized(this.statsigClient),this.dataAdapter.setBootstrapData(e.experimentValues),this.dataAdapter.setData(JSON.stringify(e.experimentValues)),this.statsigValuesUpdated())}catch(e){console.warn("Error when attempting to apply update",e)}}fireClientEvent(e,t,r,i,n=void 0){var s;null===(s=this.initOptions.analyticsWebClient)||void 0===s||s.then((s=>{const o=K({targetApp:this.initOptions.targetApp,clientVersion:k,success:i,startTime:e,totalTime:t},n&&{apiKey:n});s.sendOperationalEvent({action:r,actionSubject:"featureGatesClient",attributes:o,tags:["measurement"],source:"@atlaskit/feature-gate-js-client"})})).catch((e=>{this.initOptions.environment!==f.Production&&console.error("Analytics web client promise did not resolve",e)}))}async initializeFromValues(e,t,r,i={}){const n=y(e);if(this.initPromise)return m(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;Object.prototype.hasOwnProperty.call(i,"has_updates")||(i.has_updates=!0);const s=performance.now();return this.initOptions=n,this.initPromise=this.initFromValues(n,t,r,i).then((()=>{this.initCompleted=!0,this.initWithDefaults=!0})).finally((()=>{const e=performance.now()-s;this.fireClientEvent(s,e,"initializeFromValues",this.initCompleted)})),this.initPromise}assertInitialized(e){if(!e)throw new Error("Client must be initialized before using this method")}async updateUser(e,t,r){this.assertInitialized(this.statsigClient);const i=y(e);await this.updateUserUsingInitializeValuesProducer((()=>C.fetchExperimentValues(i,t,r).then((({experimentValues:e,customAttributes:t})=>({experimentValues:e,customAttributesFromFetch:t})))),t,r)}async updateUserWithProvider(e,t){if(this.assertInitialized(this.statsigClient),!this.provider)throw new Error("Cannot update user using provider as the client was not initialised with a provider");await this.provider.setProfile(this.initOptions,e,t),await this.updateUserUsingInitializeValuesProducer((()=>this.provider.getExperimentValues()),e,t)}async updateUserWithValues(e,t,r={}){this.assertInitialized(this.statsigClient);await this.updateUserUsingInitializeValuesProducer((()=>Promise.resolve({experimentValues:r,customAttributesFromFetch:t})),e,t)}initializeCalled(){return null!=this.initPromise}initializeCompleted(){return this.initCompleted}checkGate(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireGateExposure:r=!0}=t;return this.statsigClient.checkGate(e,{disableExposureLog:!r})}catch(t){return this.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate. Only the first occurrence of this error is logged.",gateName:e,error:t}),this.hasCheckGateErrorOccurred=!0),!1}}isGateExist(e){try{this.assertInitialized(this.statsigClient);return!this.statsigClient.getFeatureGate(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error(`Error occurred when trying to check FeatureGate: ${e}`),!0}}isExperimentExist(e){try{this.assertInitialized(this.statsigClient);return!this.statsigClient.getExperiment(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error(`Error occurred when trying to check Experiment: ${e}`),!0}}manuallyLogGateExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.checkGate(e)}getExperiment(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireExperimentExposure:r=!0}=t;return O.fromExperiment(this.statsigClient.getExperiment(e,{disableExposureLog:!r}))}catch(t){return this.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:t}),this.hasGetExperimentErrorOccurred=!0),new O(e,{},"",{time:Date.now(),reason:h.Error})}}getExperimentValue(e,t,r,i={}){const n=this.getExperiment(e,i);try{const{typeGuard:e}=i;return n.get(t,r,e)}catch(t){return this.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),this.hasGetExperimentValueErrorOccurred=!0),r}}manuallyLogExperimentExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.getExperiment(e)}manuallyLogLayerExposure(e,t){var r;this.assertInitialized(this.statsigClient),null===(r=this.statsigClient.getLayer(e))||void 0===r||r.get(t)}shutdownStatsig(){this.assertInitialized(this.statsigClient),this.statsigClient.shutdown()}overrideGate(e,t){var r;(this.overrideAdapter.overrideGate(e,t),this.user)&&(null===(r=this.statsigClient)||void 0===r||r.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}));this.statsigValuesUpdated()}clearGateOverride(e){this.overrideAdapter.removeGateOverride(e),this.statsigValuesUpdated()}overrideConfig(e,t){this.overrideAdapter.overrideDynamicConfig(e,t),this.statsigValuesUpdated()}clearConfigOverride(e){this.overrideAdapter.removeDynamicConfigOverride(e),this.statsigValuesUpdated()}setOverrides(e){this.overrideAdapter.setOverrides(e),this.statsigValuesUpdated()}getOverrides(){return this.overrideAdapter.getOverrides()}clearAllOverrides(){this.overrideAdapter.removeAllOverrides(),this.statsigValuesUpdated()}isCurrentUser(e,t){return m(this.currentIdentifiers,e)&&m(this.currentAttributes,t)}onGateUpdated(e,t,r={}){return this.subscriptions.onGateUpdated(e,(i=>{const{fireGateExposure:n=!0}=r;n&&this.manuallyLogGateExposure(e);try{t(i)}catch(t){console.warn(`Error calling callback for gate ${e} with value ${i}`,t)}}),this.checkGate.bind(this),r)}onExperimentValueUpdated(e,t,r,i,n={}){return this.subscriptions.onExperimentValueUpdated(e,t,r,(t=>{const{fireExperimentExposure:r=!0}=n;r&&this.manuallyLogExperimentExposure(e);try{i(t)}catch(r){console.warn(`Error calling callback for experiment ${e} with value ${t}`,r)}}),this.getExperimentValue.bind(this),n)}onAnyUpdated(e){return this.subscriptions.onAnyUpdated(e)}async init(e,t,r){const i=K({},e);let n,s;try{const o=C.fetchClientSdk(e).then((e=>i.sdkKey=e.clientSdkKey)),a=C.fetchExperimentValues(e,t,r),[,l]=await Promise.all([o,a]);n=l.experimentValues,s=l.customAttributes}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client without values"),await this.initFromValues(i,t,r),e}return this.initFromValues(i,t,s,n)}async initWithProvider(e,t,r,i){const n=K(K({},e),{},{disableCurrentPageLogging:!0});let s,o;try{await t.setProfile(e,r,i);const a=t.getClientSdkKey().then((e=>n.sdkKey=e)),l=t.getExperimentValues(),[,u]=await Promise.all([a,l]);s=u.experimentValues,o=u.customAttributesFromFetch}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client without values"),await this.initFromValues(n,r,i),e}return this.initFromValues(n,r,o,s)}async initFromValues(e,t,r,i={}){var o;this.overrideAdapter.initFromStoredOverrides(),this.currentIdentifiers=t,this.currentAttributes=r;const a=(e=>{const{api:t,disableCurrentPageLogging:r,loggingIntervalMillis:i,loggingBufferMaxSize:s,localMode:o,eventLoggingApi:a,eventLoggingApiForRetries:l,disableLocalStorage:u,ignoreWindowUndefined:c,disableAllLogging:d,initTimeoutMs:h,disableNetworkKeepalive:f,overrideStableID:g,disableErrorLogging:p,disableAutoMetricsLogging:y}=e;return v(v({},(0,n.default)(e,_)),{},{networkConfig:{api:t,logEventUrl:a?a+"rgstr":void 0,logEventFallbackUrls:l?[l]:void 0,preventAllNetworkTraffic:o||!c&&"undefined"==typeof window},includeCurrentPageUrlWithEvents:!r,loggingIntervalMs:i,loggingBufferMaxSize:s,disableStorage:u,disableLogging:d})})(e);a.sdkKey||(a.sdkKey=V),null!==(o=a.networkConfig)&&void 0!==o&&o.logEventUrl||(a.networkConfig=K(K({},a.networkConfig),{},{logEventUrl:"https://xp.atlassian.com/v1/rgstr"})),a.perimeter===g.FEDRAMP_MODERATE&&(a.disableLogging=!0);const{sdkKey:l,environment:u,updateUserCompletionCallback:c,perimeter:d}=a,h=(0,n.default)(a,M);this.sdkKey=l,this.user=b(t,r,this.sdkKey);const f=K(K({},h),{},{environment:{tier:u},includeCurrentPageUrlWithEvents:!1,dataAdapter:this.dataAdapter,overrideAdapter:this.overrideAdapter});try{this.statsigClient=new s.StatsigClient(l,this.user,f),this.dataAdapter.setBootstrapData(i),await this.statsigClient.initializeAsync()}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to initialise the Statsig client, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client with default sdk key and without values"),this.statsigClient=new s.StatsigClient(V,this.user,f),this.dataAdapter.setBootstrapData(),await this.statsigClient.initializeAsync(),this.initWithDefaults=!0,e}}async updateUserUsingInitializeValuesProducer(e,t,r){if(this.assertInitialized(this.statsigClient),!this.initPromise)throw new Error("The client must be initialized before you can update the user.");if(this.isCurrentUser(t,r))return this.initPromise;const i=this.initPromise;try{await this.initPromise}catch(e){}const n=e(),s=this.updateStatsigClientUser(n,t,r);return this.initPromise=s.catch((async()=>{this.initPromise=i,this.provider&&await this.provider.setProfile(this.initOptions,this.currentIdentifiers,this.currentAttributes)})),s}async updateStatsigClientUser(e,t,r){var i,n;let s,o;this.assertInitialized(this.statsigClient);try{s=await e,o=b(t,s.customAttributesFromFetch,this.sdkKey)}catch(e){var a,l;const t=e instanceof Error?e.message:JSON.stringify(e);throw null===(a=(l=this.initOptions).updateUserCompletionCallback)||void 0===a||a.call(l,!1,t),e}let u=!0,c=null;try{this.dataAdapter.setBootstrapData(s.experimentValues),this.user=o,await this.statsigClient.updateUserAsync(this.user)}catch(e){u=!1,c=String(e)}if(null===(i=this.initOptions)||void 0===i||null===(n=i.updateUserCompletionCallback)||void 0===n||n.call(i,u,c),!u)throw new Error("Failed to update user. An unexpected error occured.");this.currentIdentifiers=t,this.currentAttributes=r,this.subscriptions.anyUpdated()}getPackageVersion(){return k}getLayer(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireLayerExposure:r=!0}=t;return S.fromLayer(this.statsigClient.getLayer(e,{disableExposureLog:!r}))}catch(t){return this.hasGetLayerErrorOccurred||(console.warn({msg:"An error has occurred getting the layer. Only the first occurrence of this error is logged.",layerName:e,error:t}),this.hasGetLayerErrorOccurred=!0),S.fromLayer((0,s._makeLayer)(e,{reason:"Error"},null))}}getLayerValue(e,t,r,i={}){const n=this.getLayer(e,i);try{const{typeGuard:e}=i;return n.get(t,r,e)}catch(t){return this.hasGetLayerValueErrorOccurred||(console.warn({msg:"An error has occurred getting the layer value. Only the first occurrence of this error is logged.",layerName:e,defaultValue:r,options:i,error:t}),this.hasGetLayerValueErrorOccurred=!0),r}}}),(0,i.default)(z,"hasCheckGateErrorOccurred",!1),(0,i.default)(z,"hasGetExperimentValueErrorOccurred",!1),(0,i.default)(z,"checkGate",((e,t)=>{try{if(window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getFeatureFlagOverride){const t=window.__CRITERION__.getFeatureFlagOverride(e);if(void 0!==t)return t}}catch(t){G.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate from criterion override. Only the first occurrence of this error is logged.",gateName:e,error:t}),G.hasCheckGateErrorOccurred=!0)}return G.client.checkGate(e,t)})),(0,i.default)(z,"getExperimentValue",((e,t,r,i)=>{try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getExperimentValueOverride){const r=window.__CRITERION__.getExperimentValueOverride(e,t);if(null!=r)return r}}catch(t){return G.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value from criterion override. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),G.hasGetExperimentValueErrorOccurred=!0),r}return G.client.getExperimentValue(e,t,r,i)})),(0,i.default)(z,"initializeCalled",G.client.initializeCalled.bind(G.client)),(0,i.default)(z,"initializeCompleted",G.client.initializeCompleted.bind(G.client)),(0,i.default)(z,"initialize",G.client.initialize.bind(G.client)),(0,i.default)(z,"initializeWithProvider",G.client.initializeWithProvider.bind(G.client)),(0,i.default)(z,"initializeFromValues",G.client.initializeFromValues.bind(G.client)),(0,i.default)(z,"manuallyLogGateExposure",G.client.manuallyLogGateExposure.bind(G.client)),(0,i.default)(z,"getExperiment",G.client.getExperiment.bind(G.client)),(0,i.default)(z,"manuallyLogExperimentExposure",G.client.manuallyLogExperimentExposure.bind(G.client)),(0,i.default)(z,"manuallyLogLayerExposure",G.client.manuallyLogLayerExposure.bind(G.client)),(0,i.default)(z,"shutdownStatsig",G.client.shutdownStatsig.bind(G.client)),(0,i.default)(z,"overrideGate",G.client.overrideGate.bind(G.client)),(0,i.default)(z,"clearGateOverride",G.client.clearGateOverride.bind(G.client)),(0,i.default)(z,"overrideConfig",G.client.overrideConfig.bind(G.client)),(0,i.default)(z,"clearConfigOverride",G.client.clearConfigOverride.bind(G.client)),(0,i.default)(z,"setOverrides",G.client.setOverrides.bind(G.client)),(0,i.default)(z,"getOverrides",G.client.getOverrides.bind(G.client)),(0,i.default)(z,"clearAllOverrides",G.client.clearAllOverrides.bind(G.client)),(0,i.default)(z,"isCurrentUser",G.client.isCurrentUser.bind(G.client)),(0,i.default)(z,"onGateUpdated",G.client.onGateUpdated.bind(G.client)),(0,i.default)(z,"onExperimentValueUpdated",G.client.onExperimentValueUpdated.bind(G.client)),(0,i.default)(z,"onAnyUpdated",G.client.onAnyUpdated.bind(G.client)),(0,i.default)(z,"updateUser",G.client.updateUser.bind(G.client)),(0,i.default)(z,"updateUserWithProvider",G.client.updateUserWithProvider.bind(G.client)),(0,i.default)(z,"updateUserWithValues",G.client.updateUserWithValues.bind(G.client)),(0,i.default)(z,"getPackageVersion",G.client.getPackageVersion.bind(G.client)),(0,i.default)(z,"getLayer",G.client.getLayer.bind(G.client)),(0,i.default)(z,"getLayerValue",G.client.getLayerValue.bind(G.client));let B=z;if("undefined"!=typeof window)if(void 0===window.__FEATUREGATES_JS__)window.__FEATUREGATES_JS__=z;else{var $,J;B=window.__FEATUREGATES_JS__;const e=(null===($=B)||void 0===$||null===(J=$.getPackageVersion)||void 0===J?void 0:J.call($))||"4.10.0 or earlier";if(e!==k){const t=`Multiple versions of FeatureGateClients found on the current page.\n      The currently bound version is ${e} when module version ${k} was loading.`;console.warn(t)}}var W=B}}]);
}catch(e){WRMCB(e)};