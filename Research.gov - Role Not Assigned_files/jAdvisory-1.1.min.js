var jAdvisory=function(){function i(i){if(void 0!=i){var e=i.substring(0,i.indexOf(" ")).split("-"),n=i.substring(i.indexOf(" ")+1,i.lastIndexOf(".")).split(":");return new Date(Date.UTC(e[0],e[1]-1,e[2],n[0],n[1],n[2]))}return s("jAdvisory: dateExpires or releaseDate is empty!!!"),null}function e(e,s){var o=jQuery.grep(e,function(i,e){return i.type==s});return o.sort(function(e,s){var o=n(e.weight,s.weight);return 0==o?n(i(e.effectiveDate),i(s.effectiveDate)):o})}function n(i,e){return i==e?0:e-i}function s(i){"console"in window&&console.log(i)}return{getAdvisories:function(n){var o;{if("jQuery"in window)return void 0==n?(s("One of the parameters are not defined!!!!"),[]):($.ajaxSetup({async:!1,cache:!1}),$.getJSON(n).done(function(n){null!=n?$.each(n,function(n,r){if(void 0!=r){var t=jQuery.grep(r,function(e,n){return i(e.effectiveDate)<=new Date&&i(e.expirationDate)>new Date&&void 0!=e.text&&""!=e.text});o=e(t,"ALERT").concat(e(t,"WARNING")).concat(e(t,"INFORMATION"))}else s("jAdvisory: Advisories in the response are empty!!!")}):s("jAdvisory: Response is empty!!!")}).fail(function(i,e,n){s("jAdvisory: Error while process request: "+(e+", "+n))}),o);s("jAdvisory is depended on jQuery library. Please include 'jQuery'!!!")}}}}(),jAdvisoryDisplay=function(){function i(i,e){return jQuery.grep(i,function(i,n){return i.type==e})}function e(e){var n=[],s=i(e,"ALERT");void 0!=s&&""!=s&&(n.push("<div class='alert alert-danger'>"),$.each(s,function(i,e){var s='<p id="'+i+'">'+e.text.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,"")+"</p>";n.push(s)}),n.push("</div>"));var o=i(e,"WARNING");void 0!=o&&""!=o&&(n.push("<div class='alert alert-warning'>"),$.each(o,function(i,e){var s='<p id="'+i+'">'+e.text.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,"")+"</p>";n.push(s)}),n.push("</div>"));var r=i(e,"INFORMATION");void 0!=r&&""!=r&&(n.push("<div class='alert alert-info'>"),$.each(r,function(i,e){var s='<p id="'+i+'">'+e.text.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,"")+"</p>";n.push(s)}),n.push("</div>")),$(jAdvisoryDisplay.selector).append(n.join(""))}function n(){var i;$(jAdvisoryDisplay.selector).html(""),e(jAdvisoryDisplay.advisories),i=jAdvisoryDisplay.advisories.length,$(jAdvisoryDisplay.selector).append("<div id='anchor'></div>"),$("div#anchor").append('<a id="hideNotification" href="javascript:void(0);" class="show-all"><strong><span>-</span>Hide all notifications</strong></a> &nbsp; <span class="muted-text">(Viewing <strong>'+i+"</strong> of <strong>"+jAdvisoryDisplay.advisories.length+"</strong> "+r()+")</span> <br />"),$("#hideNotification").click(function(){s(),document.cookie=jAdvisoryDisplay.cName+"=hide"})}function s(){$(jAdvisoryDisplay.selector).html(""),o(jAdvisoryDisplay.advisories.length,!1)}function o(i,e){$(jAdvisoryDisplay.selector).append("<div id='anchor'></div>"),e?$("div#anchor").append('<a id="showNotification" href="javascript:void(0);" class="show-all"><strong><span>+</span>Show all notifications</strong></a> &nbsp; <span class="muted-text">(Viewing <strong>'+i+"</strong> of <strong>"+jAdvisoryDisplay.advisories.length+"</strong> "+r()+")</span> <br />"):$("div#anchor").append('<a id="showNotification" href="javascript:void(0);" class="show-all"><strong><span>+</span>Show all notifications</strong></a> &nbsp; <span class="muted-text">(<strong>'+i+"</strong> "+r()+")</span> <br />"),$("#showNotification").click(function(){n(),document.cookie=jAdvisoryDisplay.cName+"=show"})}function r(){var i="notifications";return 1==jAdvisoryDisplay.advisories.length&&(i="notification"),i}function t(){var i=function(){for(var i=jAdvisoryDisplay.cName+"=",e=document.cookie.split(";"),n=0;n<e.length;n++){var s=$.trim(e[n]);if(0==s.indexOf(i))return s.substring(i.length,s.length)}return"init"}();if("init"==i){var r=jAdvisoryDisplay.advisories.length;r>3?(e(jAdvisoryDisplay.advisories.slice(0,3)),o(3,!0)):r>=1&&r<=3&&n()}else"show"==i?n():"hide"==i&&s()}function a(i){"console"in window&&console.log(i)}return{displayAdvisories:function(i,e,n){"jQuery"in window?void 0!=i&&void 0!=e&&void 0!=n?void 0!=i&&void 0!=e&&void 0!=n&&(jAdvisoryDisplay.advisories=i,jAdvisoryDisplay.selector=e,jAdvisoryDisplay.cName=n,t()):a("jAdvisoryDisplay: Parameter data or selector or cName is undefined!!!"):a("jAdvisoryDisplay is depended on jQuery library. Please include 'jQuery'!!!")}}}();