WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'confluence.extra.jira:macro-browser-resources', location = 'templates/extra/jira/view-in-jira.js' */
AJS.bind("add-handler.property-panel",function(k,g){AJS.log("add-handler.property-panel: panel name \x3d "+g.name);"macro"==g.name&&g.registerButtonHandler("view-in-jira",function(a,c){if(AJS.Editor.JiraConnector.servers){a=AJS.Editor.JiraConnector.servers;c=AJS.$(c);var b=c.attr("data-macro-default-parameter");c=c.attr("data-macro-parameters")||"";var e=Confluence.MacroParameterSerializer.deserialize(c);(b=b||e.jqlQuery||e.key)||(b=c.indexOf("|"),b=0<=b?c.substring(0,b):c);c=b;b=e.server;var h=e.serverId;
e=c.match(/=|!=|~|>|<|!~| is | in /i);for(var f=null,d=0;d<a.length;d++){if(h&&a[d].id==h){f=a[d];break}if(b&&a[d].name==b||!b&&a[d].selected){f=a[d];break}}null!=f&&(a="undefined"!==typeof f.displayUrl?f.displayUrl:f.url,"/"==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),b="confluence-goto-jiralink-"+AJS.params.pageId,(e?window.open(a+"/secure/IssueNavigator.jspa?reset\x3dtrue\x26jqlQuery\x3d"+encodeURIComponent(c),b):window.open(a+"/browse/"+encodeURIComponent(c),b)).opener=null)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:macro-browser-resources', location = 'templates/extra/jira/show-summary.js' */
AJS.bind("init.rte",function(){function a(b,d,e){if(e=AJS.$.grep(d,function(f){return"show-summary"==f.parameterName})[0])c(b)?"false"==AJS.SummaryHelper.getParam(b,"showSummary")?e.text="Show summary":e.text="Hide summary":e.className+=" hidden";else{AJS.logError("Jira Issues Macro - Show-summary : The system cannot find SummaryButton, all buttons are: ");for(var g in d)AJS.logError(d[g].text)}}function c(b){var d=
AJS.$(b).attr("src");if(!d)return!0;b=AJS.SummaryHelper.getParam(b,"count");return-1==d.indexOf("confluence.extra.jira/jira-table")&&"true"!=b?!0:!1}AJS.Confluence||AJS.Confluence.PropertyPanel||AJS.Confluence.PropertyPanel.Macro?(AJS.Confluence.PropertyPanel.Macro.registerInitHandler(a,"jira"),AJS.Confluence.PropertyPanel.Macro.registerInitHandler(a,"jiraissues")):AJS.logError("Jira Issues Macro : can't register property panel init handler since AJS.Confluence.PropertyPanel.Macro is undefined")});
AJS.bind("add-handler.property-panel",function(a,c){"macro"==c.name&&c.registerButtonHandler("show-summary",function(b,d){b=AJS.SummaryHelper.getParam(d,"showSummary");AJS.SummaryHelper.updateMacro("jira",d,"showSummary","false"==b?"true":"false")})});
AJS.SummaryHelper=function(){return{getCurrentParams:function(a){return Confluence.MacroParameterSerializer.deserialize(a.attr("data-macro-parameters"))},getParam:function(a,c){a=AJS.$(a);return AJS.SummaryHelper.getCurrentParams(a)[c]},updateMacro:function(a,c,b,d){c=AJS.$(c);AJS.Rte.getEditor().selection.select(c[0]);AJS.Rte.BookmarkManager.storeBookmark();var e=AJS.SummaryHelper.getCurrentParams(c);e[b]=d;a={contentId:Confluence.Editor.getContentId(),macro:{name:a,params:e,defaultParameterValue:c.attr("data-macro-default-parameter")}};
tinymce.confluence.MacroUtils.insertMacro(a)}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:lodash-AMD', location = '/lib/lodash-AMD.js' */
define("jira-integration-plugin/lodash",function(){return window._});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:fields', location = '/fields/fields.soy' */
// This file was automatically generated from fields.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace jiraIntegration.templates.fields.
 */

if (typeof jiraIntegration == 'undefined') { var jiraIntegration = {}; }
if (typeof jiraIntegration.templates == 'undefined') { jiraIntegration.templates = {}; }
if (typeof jiraIntegration.templates.fields == 'undefined') { jiraIntegration.templates.fields = {}; }


jiraIntegration.templates.fields.stringField = function(opt_data, opt_ignored) {
  return '' + jiraIntegration.templates.fields.fieldWithExtraAttributes(soy.$$augmentMap(opt_data, {extraFieldClasses: 'long-field'}));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.stringField.soyTemplateName = 'jiraIntegration.templates.fields.stringField';
}


jiraIntegration.templates.fields.textareaField = function(opt_data, opt_ignored) {
  return '<div class="field-group jira-field' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '" data-jira-type="' + soy.$$escapeHtml(opt_data.jiraType) + '"><label for="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.labelText) + ((opt_data.isRequired) ? '<span class="aui-icon icon-required"></span>' : '') + '</label><textarea rows="3" id="' + soy.$$escapeHtml(opt_data.name) + '" class="textarea long-field" data-name="' + soy.$$escapeHtml(opt_data.name) + '" name="' + soy.$$escapeHtml(opt_data.name) + '"' + ((opt_data.extraAttributes) ? ' ' + aui.renderExtraAttributes(opt_data) : '') + '>' + soy.$$escapeHtml(opt_data.value) + '</textarea>' + jiraIntegration.templates.fields.errors(opt_data) + '</div>';
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.textareaField.soyTemplateName = 'jiraIntegration.templates.fields.textareaField';
}


jiraIntegration.templates.fields.arrayField = function(opt_data, opt_ignored) {
  return '' + jiraIntegration.templates.fields.fieldWithExtraAttributes(soy.$$augmentMap(opt_data, {extraFieldClasses: 'long-field'}));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.arrayField.soyTemplateName = 'jiraIntegration.templates.fields.arrayField';
}


jiraIntegration.templates.fields.numberField = function(opt_data, opt_ignored) {
  return '' + jiraIntegration.templates.fields.fieldWithExtraAttributes(soy.$$augmentMap(opt_data, {extraFieldClasses: 'medium-field'}));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.numberField.soyTemplateName = 'jiraIntegration.templates.fields.numberField';
}


jiraIntegration.templates.fields.allowedValuesField = function(opt_data, opt_ignored) {
  return '' + ((opt_data.options.length) ? jiraIntegration.templates.fields.fieldWithExtraAttributes(soy.$$augmentMap(opt_data, {type: 'select'})) : jiraIntegration.templates.fields.fieldWithExtraAttributes(soy.$$augmentMap(opt_data, {type: 'value', value: 'None'})));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.allowedValuesField.soyTemplateName = 'jiraIntegration.templates.fields.allowedValuesField';
}


jiraIntegration.templates.fields.timeTrackingField = function(opt_data, opt_ignored) {
  return '' + jiraIntegration.templates.fields.fieldWithExtraAttributes(soy.$$augmentMap(opt_data, {extraFieldClasses: 'medium-field'}));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.timeTrackingField.soyTemplateName = 'jiraIntegration.templates.fields.timeTrackingField';
}


jiraIntegration.templates.fields.radioField = function(opt_data, opt_ignored) {
  return '' + aui.form.radioField(soy.$$augmentMap(opt_data, {legendContent: opt_data.labelText, extraAttributes: {'data-name': opt_data.name, name: opt_data.name, 'data-jira-type': opt_data.jiraType}, extraClasses: 'jira-field'}));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.radioField.soyTemplateName = 'jiraIntegration.templates.fields.radioField';
}


jiraIntegration.templates.fields.unrenderableTypeField = function(opt_data, opt_ignored) {
  return '<div class="field-group jira-field jira-field-unrenderable' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '"><label>' + soy.$$escapeHtml(opt_data.labelText) + ((opt_data.isRequired) ? '<span class="aui-icon icon-required"></span>' : '') + '</label>' + aui.form.value({content: opt_data.reasonContent}) + jiraIntegration.templates.fields.errors(opt_data) + '</div>';
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.unrenderableTypeField.soyTemplateName = 'jiraIntegration.templates.fields.unrenderableTypeField';
}


jiraIntegration.templates.fields.dateField = function(opt_data, opt_ignored) {
  return '' + jiraIntegration.templates.fields.fieldWithExtraAttributes(soy.$$augmentMap(opt_data, {extraFieldClasses: 'medium-field'}));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.dateField.soyTemplateName = 'jiraIntegration.templates.fields.dateField';
}


jiraIntegration.templates.fields.checkboxField = function(opt_data, opt_ignored) {
  return '' + aui.form.checkboxField(soy.$$augmentMap(opt_data, {legendContent: opt_data.labelText, extraAttributes: {'data-name': opt_data.name, name: opt_data.name, 'data-jira-type': opt_data.jiraType}, extraClasses: 'jira-field'}));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.checkboxField.soyTemplateName = 'jiraIntegration.templates.fields.checkboxField';
}


jiraIntegration.templates.fields.select2WithIconField = function(opt_data, opt_ignored) {
  var output = '<div class="field-group jira-field' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '" data-jira-type="' + soy.$$escapeHtml(opt_data.jiraType) + '"><label for="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.labelText) + ((opt_data.isRequired) ? '<span class="aui-icon icon-required"></span>' : '') + '</label><select id="' + soy.$$escapeHtml(opt_data.name) + '" class="medium-field" name="' + soy.$$escapeHtml(opt_data.name) + '" data-name="' + soy.$$escapeHtml(opt_data.name) + '"' + ((opt_data.extraAttributes) ? ' ' + aui.renderExtraAttributes(opt_data) : '') + '>';
  var optionList112 = opt_data.options;
  var optionListLen112 = optionList112.length;
  for (var optionIndex112 = 0; optionIndex112 < optionListLen112; optionIndex112++) {
    var optionData112 = optionList112[optionIndex112];
    output += '<option value="' + soy.$$escapeHtml(optionData112.value) + '" ' + ((optionData112.selected) ? 'selected' : '') + ' data-icon-url="' + soy.$$escapeHtml(optionData112.iconUrl) + '">' + soy.$$escapeHtml(optionData112.text) + '</option>';
  }
  output += '</select>' + jiraIntegration.templates.fields.errors(opt_data) + '</div>';
  return output;
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.select2WithIconField.soyTemplateName = 'jiraIntegration.templates.fields.select2WithIconField';
}


jiraIntegration.templates.fields.select2WithIconOption = function(opt_data, opt_ignored) {
  return ((opt_data.iconUrl) ? aui.avatar.avatar({avatarImageUrl: opt_data.iconUrl, size: 'xsmall', isProject: opt_data.isProject, extraClasses: 'select-option-image', tagName: 'span', lazyLoadImage: opt_data.lazyLoadImage}) : '') + '<span class="select-option" title="' + soy.$$escapeHtml(opt_data.optionValue) + '">' + soy.$$escapeHtml(opt_data.optionValue) + '</span>';
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.select2WithIconOption.soyTemplateName = 'jiraIntegration.templates.fields.select2WithIconOption';
}


jiraIntegration.templates.fields.labelFieldResult = function(opt_data, opt_ignored) {
  return '' + ((opt_data.label.isNew) ? soy.$$escapeHtml(AJS.format('\x22{0}\x22 - (New label)',opt_data.label.labelName)) : soy.$$escapeHtml(opt_data.label.labelName));
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.labelFieldResult.soyTemplateName = 'jiraIntegration.templates.fields.labelFieldResult';
}


jiraIntegration.templates.fields.userOptionSelect = function(opt_data, opt_ignored) {
  var output = '';
  var userOption__soy151 = '' + soy.$$escapeHtml(opt_data.displayName) + ((! opt_data.isSystemOption) ? ' - (' + soy.$$escapeHtml(opt_data.name) + ')' : '');
  output += '<span data-value="' + soy.$$escapeHtml(opt_data.name) + '" title="' + soy.$$filterNoAutoescape(userOption__soy151) + '">' + soy.$$filterNoAutoescape(userOption__soy151) + '</span>';
  return output;
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.userOptionSelect.soyTemplateName = 'jiraIntegration.templates.fields.userOptionSelect';
}


jiraIntegration.templates.fields.sprintSelect = function(opt_data, opt_ignored) {
  return '<span title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '<span class="sprint-detail">' + ((opt_data.state == 'FUTURE') ? soy.$$escapeHtml(AJS.format('(Future sprint in {0})',opt_data.board)) : '') + ((opt_data.state == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('(Active sprint in {0})',opt_data.board)) : '') + '</span></span>';
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.sprintSelect.soyTemplateName = 'jiraIntegration.templates.fields.sprintSelect';
}


jiraIntegration.templates.fields.epicSelect = function(opt_data, opt_ignored) {
  return '<span title="' + soy.$$escapeHtml(opt_data.name) + ' (' + soy.$$escapeHtml(opt_data.key) + ')">' + soy.$$escapeHtml(opt_data.name) + ((opt_data.key) ? '<span class="epic-detail">' + soy.$$escapeHtml(opt_data.key) + '</span>' : '') + '</span>';
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.epicSelect.soyTemplateName = 'jiraIntegration.templates.fields.epicSelect';
}


jiraIntegration.templates.fields.errors = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.errorTexts) {
    var errorList196 = opt_data.errorTexts;
    var errorListLen196 = errorList196.length;
    for (var errorIndex196 = 0; errorIndex196 < errorListLen196; errorIndex196++) {
      var errorData196 = errorList196[errorIndex196];
      output += '<div class="error">' + soy.$$escapeHtml(errorData196) + '</div>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.errors.soyTemplateName = 'jiraIntegration.templates.fields.errors';
}


jiraIntegration.templates.fields.fieldWithExtraAttributes = function(opt_data, opt_ignored) {
  var output = '<div class="field-group jira-field' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '" data-jira-type=' + soy.$$escapeHtml(opt_data.jiraType) + '>' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: '' + soy.$$escapeHtml(opt_data.labelText)});
  switch (opt_data.type) {
    case 'select':
      output += aui.form.select({id: opt_data.name, name: opt_data.name, labelContent: '' + soy.$$escapeHtml(opt_data.labelText), options: opt_data.options, isRequired: opt_data.isRequired, isMultiple: opt_data.isMultiple, extraAttributes: soy.$$augmentMap({'data-name': opt_data.name}, opt_data.extraAttributes), extraClasses: opt_data.extraFieldClasses});
      break;
    case 'value':
      output += aui.form.value({id: opt_data.name, content: '' + soy.$$escapeHtml(opt_data.value)});
      break;
    default:
      output += aui.form.input({id: opt_data.name, name: opt_data.name, type: 'text', value: opt_data.value, extraAttributes: soy.$$augmentMap({'data-name': opt_data.name}, opt_data.extraAttributes), extraClasses: opt_data.extraFieldClasses});
  }
  output += jiraIntegration.templates.fields.errors(opt_data) + '</div>';
  return output;
};
if (goog.DEBUG) {
  jiraIntegration.templates.fields.fieldWithExtraAttributes.soyTemplateName = 'jiraIntegration.templates.fields.fieldWithExtraAttributes';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:fields', location = '/fields/fields.js' */
define("jira-integration-plugin/fields",["jquery","jira-integration-plugin/lodash","jira-integration-plugin/label-picker"],function(n,m,W){function F(a,b,c,d){var e=b.schema.system||"customfield_"+b.schema.customId,f=b.schema.system||b.schema.custom||b.schema.customId,g=r[f],h=!(!g||g.canRender&&!g.canRender(b)),k=!(!b.operations||!b.operations.length);g=h&&k?g:X;return g.getContext({labelText:b.name,name:e,isRequired:b.required,value:c[e],errorTexts:d[e],jiraType:f,isRenderable:h,hasOperations:k,
handler:g,extraAttributes:b.required&&{"data-aui-validation-field":"",required:!0}},b,a,c)}function q(a,b,c){var d=a.name;a.value=(n.isPlainObject(a.value)?a.value.name:a.value)||c&&c.fields[d]||b&&b.defaultValue||"";return a}function v(a){return a.val()}function G(a){a=a.val();return/\d/.test(a)&&/^-?\d*\.?\d*$/.test(a)?Number(a):a||null}function H(a,b,c){var d=a.name;a.value=a.value&&a.value.join(",")||c&&c.fields[d]&&c.fields[d].join(",")||b&&b.defaultValue&&b.defaultValue.join(" ");return a}function I(a){return m.map(a.val().split(","),
n.trim)}function J(a,b,c){function d(h){return Array.isArray(h)?h.map(function(k){return k.name||k.id}):[h.name||h.id]}var e=a.name,f=a.value;c=c&&c.fields[e];e=b&&b.defaultValue;var g=f?d(f):c?d(c):e?d(e):[];a.options=m.map(b.allowedValues,function(h){return{value:h.id,text:h.name||h.value,selected:g.includes(h.name||h.id)}});b.required||"option"!==b.schema.type||a.options.unshift({value:-1,text:"None"});a.isMultiple=b.operations.includes("add");delete a.value;
return a}function z(a,b){var c=b.val(),d=function(e){var f={};f[a]=e;return f};return b.prop("multiple")?Array.isArray(c)?m.map(c,d):[d(c)]:d(c)}function K(a,b,c){var d=a.name;a.value=a.value&&a.value.name||c&&c.fields[d]&&c.fields[d].name||("assignee"===t(b)?-1:"")||b&&b.defaultValue&&b.defaultValue.name;a.extraClasses="array"===b.schema.type?"multi-user-picker":"single-user-picker";return a}function L(a,b,c){var d=a.value||c&&c.fields[a.name]||b&&b.defaultValue;a.fields=m.map(b.allowedValues,function(e){return{id:e.id,
value:e.id,labelText:e.name||e.value,isChecked:Array.isArray(d)?d.some(function(f){return f.id===e.id}):d&&d.id===e.id}});delete a.value;return a}function M(a){return a.find("input:checked").toArray().map(function(b){b=n(b);return{id:b.prop("value"),value:b.parent().find("label").text()}})}function A(a,b,c,d,e){var f=a.find("input"),g=a.attr("name");f.removeClass("text").removeClass("long-field").addClass("medium-long-field");f.auiSelect2(n.extend({minimumInputLength:1,id:g,name:g,query:function(h){u(b,
c,h.term,d).done(function(k){h.callback({results:k})})}},e));(e=f.auiSelect2("data"))&&-1!==e.id&&f.auiSelect2("val",e.id);a.find("div.aui-select2-container").addClass("jira-select2-drop-box")}function N(a,b,c,d,e){e=n.extend({},e,{multiple:"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker"===c,formatResult:function(f){return l.fields.userOptionSelect({name:f.id,displayName:f.text,isSystemOption:!!f.isSystemOption})}});A(a,b,c,d,e)}function u(a,b,c,d){a=n.extend({restType:b,issueKey:d&&
d.key||"",term:c},a);return n.ajax({type:"POST",timeout:0,contentType:"application/json",dataType:"json",url:AJS.contextPath()+"/rest/jira-integration/latest/fields/autocomplete",data:JSON.stringify(a)})}function O(a){var b;a.id&&(b=n(a.element).attr("data-icon-url"));return l.fields.select2WithIconOption({optionValue:a.text,iconUrl:b})}function B(a){return(a=a.auiSelect2("data"))&&-1===a.id?void 0:a}function t(a){return a.schema?a.schema.system||a.schema.custom||a.schema.customId:a}function C(a){return r[t(a)]}
function P(a){return(a=Q(a))&&C(a)}function Q(a){return a.closest(".jira-field").attr("data-jira-type")}function Y(a,b){return n.ajax({type:"GET",timeout:0,url:AJS.contextPath()+"/rest/jira-integration/1.0/servers/"+a.serverId+"/projects/"+a.projectKey+"/issue-types/"+a.issueType+"/fields-meta"}).pipe(function(c){var d=[];m.each(c.fields,function(e){var f=t(e);e.required&&!b.excludedFields.includes(f)&&d.push(e)});return d})}function R(a,b,c){var d=Q(a),e=d&&C(d);(e=e&&e.behavior)&&e(a,b,d,c)}function S(a){var b=
P(a);return b&&b.getValue&&b.getValue(a)}function w(a,b){return function(c,d){c=a[c.attr("id")];d(c||b)}}var l=window.jiraIntegration.templates,x={template:l.fields.stringField,getContext:q,getValue:v},Z={template:l.fields.stringField,getContext:function(a,b,c){var d={"data-aui-validation-field":"",pattern:"([a-zA-Z][a-zA-Z0-9-+.]*://.+)|^$","data-aui-validation-pattern-msg":"Enter a valid URL scheme"};return n.extend(!0,{},q(a,b,c),{extraAttributes:d})},getValue:v},aa=
{template:l.fields.stringField,getContext:K,getInternalValue:B,getValue:function(a){a=a.val();if("-1"!==a)return{name:a}},behavior:function(a,b,c,d){var e={minimumInputLength:0,initSelection:w(b,{id:-1,text:"Automatic",isSystemOption:!0}),query:function(f){function g(h){1===f.page&&(f.element.prop("required")||h.unshift({id:"",text:"Unassigned",isSystemOption:!0}),h.unshift({id:-1,text:"Automatic",isSystemOption:!0}));
f.callback({results:h})}0<f.term.length?u(b,c,f.term,d).done(g):g([])}};N(a,b,c,d,e)}},D={template:l.fields.stringField,getContext:K,getValue:function(a){var b=function(d){return{name:d}},c=a.val();a=a.closest(".jira-field").is(".multi-user-picker");return c?a?m.map(c.split(","),b):b(c):a?[]:null},behavior:function(a,b,c,d){var e=a.find(".long-field").prop("value")||"";e={formatInputTooShort:function(){return "Find users..."},initSelection:w(b,{id:-1,text:e,isSystemOption:!1})};
N(a,b,c,d,e)}},ba={template:l.fields.arrayField,getContext:H,getValue:I,behavior:function(a,b,c,d){a=a.find("input");W.build(a,function(e){return u(b,c,e,d)})}},E={template:l.fields.textareaField,getContext:q,getValue:v},ca={template:l.fields.numberField,getContext:function(a,b,c){var d={"data-aui-validation-field":"",pattern:"(([0-9]*[.])?[0-9]+)|^$","data-aui-validation-pattern-msg":"Enter a valid number"};return n.extend(!0,{},q(a,b,c),{extraAttributes:d})},getValue:G},
T={template:l.fields.arrayField,getContext:H,getValue:I},p={template:l.fields.allowedValuesField,getContext:J,getValue:m.bind(z,null,"id"),behavior:function(a){a.find("select[multiple]").auiSelect2()}},U={template:l.fields.allowedValuesField,getContext:J,getValue:m.bind(z,null,"id")},da={template:l.fields.timeTrackingField,getContext:function(a,b,c){b={"data-aui-validation-field":"",pattern:"(([0-9]+w|[0-9]+d|[0-9]+m|[0-9]+h|[0-9]+)\\s*)*","data-aui-validation-pattern-msg":"Enter a valid time estimate (eg. 3w 4d 12h)"};
a.value=a.value&&a.value.remainingEstimate||c&&c.fields[name]&&c.fields[name].remainingEstimate||"";return n.extend(!0,{},a,{extraAttributes:b})},getValue:function(a){return{remainingEstimate:a.val()}}},V={template:l.fields.dateField,getContext:function(a,b,c){var d={"data-aui-validation-field":"",pattern:"^([0-9]{2,4}-(0?[1-9]|10|11|12)-([0-2]?[1-9]|10|20|30|31))$|^$","data-aui-validation-pattern-msg":"Enter a valid date"};return n.extend(!0,{},q(a,b,c),{extraAttributes:d})},
getValue:function(a){a=a.val();return""===a?null:a},behavior:function(a){var b=a.find("input");navigator.userAgent.match(/Trident/)&&"5.3.5">AJS.version?(a="placeholder"in document.createElement("input"),b.attr("placeholder","YYYY-MM-DD"),a||b.on("focus",function(){b.val()===b.attr("placeholder")&&b.val("")}).on("blur",function(){""===b.val()&&b.val(b.attr("placeholder"))}).blur()):WRM.require("wr!com.atlassian.auiplugin:aui-date-picker").done(function(){b.datePicker({overrideBrowserDefault:!0})})}},
ea={template:l.fields.select2WithIconField,getContext:function(a,b,c){var d=a.name,e=a.value&&a.value.id||b&&b.defaultValue&&b.defaultValue.id||"",f=a.value&&a.value.name||c&&c.fields&&c.fields[d]&&c.fields[d].name||b&&b.defaultValue&&b.defaultValue.id||"";delete a.value;a.options=m.map(b.allowedValues,function(g){return{value:g.id,text:g.name,selected:f===g.name||e===g.id,iconUrl:g.iconUrl}});return a},getValue:m.bind(z,null,"id"),behavior:function(a,b,c,d){n.fn.auiSelect2?(a=a.find("select"),a.addClass("jira-select2-drop-box"),
a.auiSelect2({hasAvatar:!0,minimumResultsForSearch:-1,formatSelection:O,formatResult:O})):AJS.log("AUI version 5.2 or greater is required as this plugin needs the .auiSelect2() jQuery plugin.")}},X={template:l.fields.unrenderableTypeField,getContext:function(a,b,c){a.reasonContent=a.isRenderable?a.hasOperations?null:c?AJS.format("{0}Edit{1} this field in Jira.",'\x3ca href\x3d"'+c.url+'"\x3e',"\x3c/a\x3e"):AJS.escapeHtml("Edit this field in Jira after creation."):c?AJS.format("{0}Edit{1} this field in Jira.",
'\x3ca href\x3d"'+c.url+'"\x3e',"\x3c/a\x3e"):AJS.escapeHtml("Edit this field in Jira after creation.");return a}},r={"com.pyxis.greenhopper.jira:gh-epic-label":x,string:x,summary:x,"com.atlassian.jira.plugin.system.customfieldtypes:textfield":x,"com.atlassian.jira.plugin.system.customfieldtypes:url":Z,environment:E,"com.atlassian.jira.plugin.system.customfieldtypes:textarea":E,description:E,"com.atlassian.jira.plugin.system.customfieldtypes:float":ca,array:T,"com.atlassian.jira.plugin.system.customfieldtypes:labels":T,
labels:ba,priority:ea,resolution:p,fixVersions:p,versions:p,components:p,security:p,"com.atlassian.jira.plugin.system.customfieldtypes:version":p,"com.atlassian.jira.plugin.system.customfieldtypes:multiversion":p,"com.atlassian.jira.plugin.system.customfieldtypes:project":p,assignee:aa,reporter:D,"com.atlassian.jira.plugin.system.customfieldtypes:userpicker":D,"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker":D,timetracking:da,duedate:V,"com.atlassian.jira.plugin.system.customfieldtypes:datepicker":V,
"com.atlassian.jira.plugin.system.customfieldtypes:multiselect":U,"com.atlassian.jira.plugin.system.customfieldtypes:select":U,"com.pyxis.greenhopper.jira:gh-sprint":{template:l.fields.stringField,getContext:q,getInternalValue:B,getValue:G,behavior:function(a,b,c,d){var e={minimumInputLength:0,formatResult:function(f){return l.fields.sprintSelect({name:f.text,state:f.state,board:f.board})},query:function(f){u(b,c,f.term,d).done(function(g){var h=m.groupBy(g,function(k){return k.suggestion?"suggestions":
"all"});g=["suggestions","all"].filter(function(k){return h[k]&&0<h[k].length}).map(function(k){return{text:"suggestions"===k?"Suggestions":"All sprints",children:h[k]}});f.callback({results:m.compact(g)})})},initSelection:w(b,{id:-1,text:"Select a sprint"})};return A(a,b,c,d,e)}},"com.pyxis.greenhopper.jira:gh-epic-link":{template:l.fields.stringField,getContext:q,getInternalValue:B,getValue:function(a){return(a=
v(a))&&""!==a?a:void 0},behavior:function(a,b,c,d){var e={minimumInputLength:0,formatResult:function(f){return l.fields.epicSelect({name:f.text,key:f.id})},query:function(f){u(b,c,f.term,d).done(function(g){var h=m.uniq(g.map(function(k){return k.list})).map(function(k){return{text:k,children:g.filter(function(fa){return fa.list===k})}});f.callback({results:h})})},initSelection:w(b,{id:-1,text:"Select an epic"})};return A(a,b,c,d,e)}},"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes":{template:l.fields.checkboxField,
getContext:L,getValue:M},"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons":{template:l.fields.radioField,getContext:L,getValue:function(a){a=M(a);return 1===a.length?a[0]:null}}},ha={ignoreFieldsWithDefaultValue:!1},y={addFieldHandler:function(a,b){m.has(r,a)&&console&&console.warn&&console.warn("Redefining handler for type "+a+".");r[a]=b},getFieldHandler:C,getFieldType:t,isKnownRestType:function(a){return r.hasOwnProperty(a)},canRender:function(a){var b=t(a);return(b=r[b])?a.operations&&
a.operations.length&&(!b.canRender||b.canRender(a)):!1},getContext:function(a,b,c,d){return F(a,b,c||{},d||{})},renderField:function(a,b,c,d){a=F(a,b,c||{},d||{});return a.handler.template(a)},getInternalJSON:function(a){var b=P(a);return b&&b.getInternalValue&&b.getInternalValue(a)||S(a)},getJSON:S,attachFieldBehavior:R,attachFieldBehaviors:function(a,b,c){a.find(".jira-field").each(function(d,e){d=n(e);R(d,b,c)})},setFieldError:function(a,b){a.find(".error").remove();b&&(b=l.fields.errors({errorTexts:b}),
a.append(b))},renderCreateRequiredFields:function(a,b,c,d,e){function f(g){d.ignoreFieldsWithDefaultValue&&(g=m.filter(g,function(k){return!k.hasDefaultValue}));var h=m.filter(g,function(k){return!y.canRender(k)});h.length?e&&e(h):(a.html(m.map(g,function(k){return y.renderField(null,k,null,null)}).join("")),y.attachFieldBehaviors(a,{serverId:c.serverId,projectKey:c.projectKey},null))}d=m.extend({},ha,d);d.requiredFields?f(d.requiredFields):Y(c,d).done(f)}};return y});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:fields', location = '/fields/label-picker.js' */
define("jira-integration-plugin/label-picker",[],function(){var e=window.jiraIntegration.templates;return{build:function(c,f){c.auiSelect2({tags:!0,multiple:!0,tokenSeparators:[","," "],createSearchChoice:function(a){return a?{id:a,text:a,isNew:!0}:null},query:function(a){f(a.term).done(function(b){a.callback({results:b})})},formatResult:function(a){return e.fields.labelFieldResult({label:{labelName:a.text,isNew:a.isNew}})},initSelection:function(a,b){a=c.auiSelect2("val").map(function(d){return{id:d,
text:d}});b(a)}})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.0bd4341e97', location = 'aui.chunk.9dd17468d9e5401ddcea--1b007bd950ec1272386e.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[3002],{3104:(t,n,i)=>{i.r(n);i(1667),i(4997),i(3535)},3535:(t,n,i)=>{i.r(n),i.d(n,{appendDescription:()=>v,appendErrorMessages:()=>C,errorMessageTemplate:()=>k,getMessageContainer:()=>M,setFieldSpinner:()=>w,updateAriaInfo:()=>j});var e=i(6311),r=i(1415),a=i(6249),o=(i(3460),i(1005));const u="_aui-form-notification-initialised",s="aria-describedby",c="description",f="errors",l="data-aui-notification-",d=l+"wait",p=l+"info",h=l+"error",m=[h,l+"success",d,p];function g(t){$(t)||(!function(t){t.addClass(u),v(t)}(t),y(t))}function $(t){return t.hasClass(u)}function v(t,n){if(n=n||b(t),T(t)===p){t.parent().find(".description").length||t.after(function(t,n){const i=t.attr("id")||t.attr("name");if(n.length>1){let t=n.map((t=>`<li>${t}</li>`)).join("");return`<div class="description" id="${i}-${c}"><ul>${t}</ul></div>`}return`<div class="description" id="${i}-${c}">${n}</div>`}(t,n))}j(t)}function b(t){var n=T(t),i=n?t.attr(n):"";return""===i?i:function(t){var n;try{n=JSON.parse(t)}catch(i){n=[t]}return n}(i)}function T(t){let n;return m.some((function(i){if(t.is("["+i+"]"))return n=i,!0})),n}function y(t){const n=(0,e.default)(t);if(!$(n))return;const i=T(n);w(n,i===d);const r=b(n);r&&i===h?C(n,r):t.constructor.prototype.hasOwnProperty("jquery")||t.hasAttribute(h)||n.parent().find(".error").remove()}function j(t){const n=[],i=t.attr("id")||t.attr("name"),e=T(t);b(t)&&e===h&&n.push(`${i}-${f}`),M(t,"description").length&&n.push(`${i}-${c}`);const r=function(t){const n={"aui-select":'input[type="text"][role="combobox"]'};for(let[i,e]of Object.entries(n))if(t.is(i)){const n=t.find(e);if(n.length)return n}return t}(t);r.attr(s,n.length?n.join(" "):null)}function k(t,n){const i=t.attr("id")||t.attr("name"),e=n.map((t=>`<li><span class="aui-icon aui-icon-small aui-iconfont-error aui-icon-notification"></span>${t}</li>`)).join("");return`<div class="error" role="alert" id="${i}-${f}"><ul>${e}</ul></div>`}function C(t,n){let i=M(t,"error");i.length>0&&i.remove(),t.after(k(t,n)),j(t)}function M(t,n){return t.parent().find(`.${n}`)}function w(t,n){n&&!function(t){return t.next("aui-spinner").length>0}(t)?t.after('<aui-spinner class="form-notification-spinner" size="small"></aui-spinner>'):t.parent().find("aui-spinner").remove()}const A=(0,o.getMessageLogger)("data-aui-notification-field attribute",{deprecationType:"ATTRIBUTE",alternativeName:"HTML markup"});(0,a.default)("data-aui-notification-field",{attached:function(t){A(),g((0,e.default)(t))},attributes:function(){const t={};return m.forEach((function(n){t[n]=y})),t}(),type:a.default.type.ATTRIBUTE}),(0,r.default)("aui/form-notification")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.form-validation', location = 'aui.chunk.0b50154989ec9dda28e9--9bf45c2399b09972920a.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[7469],{5001:(a,e,t)=>{t(3104);var n=t(6311),i=t(3535),r=t(1415),u=(t(1262),t(7826)),o=t(5017),l=["displayfield","watchfield","when","novalidate","state"],d=[];var s={register:function(a,e){var t;if("string"==typeof a)t=a;else{var i=function(a){var e=!1;return a.some((function(a){var t=-1!==n.default.inArray(a,l);return t&&(e=a),t})),e}(a);if(i)return o.warn('Validators cannot be registered with the argument "'+i+'", as it is a reserved argument.'),!1;t="[data-aui-validation-"+a.join("],[data-aui-validation-")+"]"}var r={validatorFunction:e,validatorTrigger:t};return d.push(r),r},validators:function(){return d}};(0,r.default)("aui/form-validation/validator-register",s);const c=s;function f(a){var e=a.el.value.length;let t=0===e;var n=parseInt(a.args("minlength"),10),i=parseInt(a.args("maxlength"),10);if(n&&i&&n===i&&!t&&e!==n){const e=x("exactlength",a.args,[n]);a.invalidate(e)}else if(n&&e<n&&!t){const e=x("minlength",a.args);a.invalidate(e)}else if(i&&e>i){const e=x("maxlength",a.args);a.invalidate(e)}else a.validate()}function v(a){return"password"===a.getAttribute("type")}function g(a,e){var t=a.match(e);return!!t&&a===t[0]}function m(a){var e=x("pattern",a.args);g(a.el.value,new RegExp(a.args("pattern")))?a.validate():a.invalidate(e)}function h(a){var e=x("required",a.args);a.el.value?a.validate():a.invalidate(e)}function p(a){var e=x("validnumber",a.args),t=parseInt(a.el.value,10);if(isNaN(t))a.invalidate(e);else{var n=a.args("min"),i=a.args("max");n&&t<parseInt(n,10)?a.invalidate(x("min",a.args)):i&&t>parseInt(i,10)?a.invalidate(x("max",a.args)):a.validate()}}function x(a,e,t){var n;n=void 0!==u.I18n.keys?u.I18n.keys["aui.validation.message."+a]:I[a];var i=t;t||(i=[e(a)]);var r,o=e(a+"-msg");return r=o?[o].concat(i):[n].concat(i),AJS.format.apply(null,r)}c.register(["maxlength","minlength"],f),c.register("[maxlength],[minlength]",f),c.register(["matchingfield"],(function(a){var e=a.el.value,t=document.getElementById(a.args("matchingfield")),n=t.value,i=x("matchingfield",a.args,[e,n]);(v(a.el)||v(t))&&(i=x("matchingfield-novalue",a.args)),e&&n&&n!==e?a.invalidate(i):a.validate()})),c.register(["doesnotcontain"],(function(a){var e=x("doesnotcontain",a.args);-1===a.el.value.indexOf(a.args("doesnotcontain"))?a.validate():a.invalidate(e)})),c.register(["pattern"],m),c.register("[pattern]",m),c.register(["required"],h),c.register("[required]",h),c.register(["min","max"],p),c.register("[min],[max]",p),c.register(["dateformat"],(function(a){var e=a.args("dateformat"),t=x("dateformat",a.args),n={Y:"[0-9]{4}",y:"[0-9]{2}",m:"(0?[1-9]|10|11|12)",M:"[Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec]",D:"[Mon|Tue|Wed|Thu|Fri|Sat|Sun]",d:"([0-2]?[1-9]|10|20|30|31)"},i=e.split(""),r="";i.forEach((function(a){var e=n.hasOwnProperty(a);r+=e?n[a]:a}));var u=new RegExp(r+"$","i");g(a.el.value,u)?a.validate():a.invalidate(t)})),c.register(["minchecked","maxchecked"],(function(a){var e=(0,n.default)(a.el).find(":checked").length,t=!a.args("minchecked")||e>=a.args("minchecked"),i=!a.args("maxchecked")||e<=a.args("maxchecked"),r=x("minchecked",a.args),u=x("maxchecked",a.args);t&&i?a.validate():t?i||a.invalidate(u):a.invalidate(r)}));var I={minlength:"Must be greater than or equal to {0} characters",maxlength:"Must be fewer than or equal to {0} characters",exactlength:"Must be exactly {0} characters",matchingfield:"{0} and {1} do not match.","matchingfield-novalue":"These fields do not match.",doesnotcontain:"Do not include the phrase {0} in this field",pattern:"This field does not match the required format",required:"This is a required field",validnumber:"Please enter a valid number",min:"Enter a value greater than or equal to  {0}",max:"Enter a value less than or equal to {0}",dateformat:"Enter a valid date",minchecked:"aui.validation.message.minchecked",maxchecked:"aui.validation.message.maxchecked"};(0,r.default)("aui/form-validation/basic-validators");var T=t(1005),k=t(9392),w=t(6249);const y="aui-validation-",b="data-aui-notification-",A="aui-validation-state",E="invalid",O="valid",S="validating",D="unvalidated",F="_aui-form-validation-initialised",J="_aui-internal-field-state-changed";function M(a){(function(a){return a.hasClass(F)})(a)||(!function(a){a.addClass(F),(0,i.appendDescription)(a)}(a),function(a){(function(a){var e,t=function(){a.trigger("aui-stop-typing")};a.on("keyup",(function(){clearTimeout(e),e=setTimeout(t,1500)}))})(a),function(a){var e=q(a,"when"),t=q(a,"watchfield"),n=t?a.add("#"+t):a;n.on(e,(function(){N(a)}))}(a)}(a),V(a,D))}function N(a){if(!q(a,"novalidate"))return function(a){!function(a){_(j(a),"none")}(a);var e=function(a){var e=[];return C().forEach((function(t,n){var i=t.validatorTrigger;a.is(i)&&e.push(n)})),e}(a);V(a,S);var t=function(a,e){var t=[];return e.forEach((function(e){var i=C()[e].validatorFunction,r=new n.default.Deferred,u=function(a,e){var t={validate:function(){e.resolve()},invalidate:function(t){V(a,E,t),e.reject()},args:R(a),el:a[0],$el:a};return T.prop(t,"$el",{sinceVersion:"5.9.0",removeInVersion:"10.0.0",alternativeName:"el",extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-3263."}),t}(a,r);i(u),t.push(r)})),t}(a,e),i=n.default.when.apply(n.default,t);return i.done((function(){V(a,O)})),i}(a);V(a,O)}function q(a,e){var t=a.attr("data-"+y+e);return t||(t={when:"change"}[e]),t}function C(){return c.validators()}function R(a){return function(e){return a.attr("data-"+y+e)||a.attr(e)}}function V(a,e,t){if(a.attr("data-"+A,e),a.attr("aria-invalid",!1),e!==D){a.trigger(n.default.Event(J));var r=j(a),u={};u[S]="wait",u[E]="error",u[O]="success";var o=u[e];e===S?function(a){setTimeout((function(){B(a)===S&&(_(a,"wait"),(0,i.setFieldSpinner)(a,!0))}),500)}(a):_(r,o,t),e===E&&a.attr("aria-invalid",!0)}}function _(a,e,t){const n=function(a){return a.is("["+b+"wait]")}(a);!function(a){$(a,"wait"),(0,i.setFieldSpinner)(a,!1),$(a,"success")}(a);var r,u;if(!("success"===e&&!n))if("none"===e)$(a,"error");else{const n=a.attr(b+e)||"[]",o=t?(r=t,u=n,JSON.parse(u).concat([r])):[];a.attr(b+e,JSON.stringify(o)),"error"===e&&(0,i.appendErrorMessages)(a,o)}}function $(a,e){a.removeAttr(b+e),"error"===e&&((0,i.getMessageContainer)(a,e).remove(),(0,i.updateAriaInfo)(a))}function j(a){var e=q(a,"displayfield");return void 0===e?a:(0,n.default)("#"+e)}function B(a){return a.attr("data-"+A)}function P(a,e){e.preventDefault(),a.one(J,(function(){a.trigger("submit")}))}function U(a,e){var t="[data-"+A+"="+e+"]";return a.find(t)}(0,n.default)(document).on("submit",(function(a){var e=a.target,t=(0,n.default)(e),i=function(a){var e=a.find("."+F);return o=e,t=n.default.map(o,(function(a){return B((0,n.default)(a))})),i=-1!==t.indexOf(E),r=-1!==t.indexOf(D),u=-1!==t.indexOf(S),i?E:r?D:u?S:O;var t,i,r,u;var o}(t);if(i===D)P(t,a),function(a){var e=U(a,D);e.each((function(a,e){W.validate((0,n.default)(e))}))}(t);else if(i===S)P(t,a);else if(i===E)a.preventDefault(),function(a){var e=U(a,E).first();e.focus()}(t);else if(i===O){var r=n.default.Event("aui-valid-submit");t.trigger(r),r.isDefaultPrevented()&&a.preventDefault()}}));const W={register:c.register,validate:function(a){N(a=(0,n.default)(a))}};(0,w.default)("data-aui-validation-field",{attached:function(a){a.form&&a.form.setAttribute("novalidate","novalidate"),M((0,n.default)(a)),w.default.init(a)},type:w.default.type.ATTRIBUTE}),(0,r.default)("aui/form-validation",W),(0,k.default)("formValidation",W)}},a=>{a.O(0,[8658,2262,1221,2832,4496,1263,5131,5366,2178,3910,3447,9146,1661,5828,8574,5388,2016,1646,5907,9489,2323,1700,449,1545,328,381,1589,3002],(()=>{return e=5001,a(a.s=e);var e}));a.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:jira-create-issue-form', location = '/jira-create-issue-form/jira-create-issue-form.js' */
define("jira-integration-plugin/jira-create-issue-form",["jquery","jira-integration-plugin/lodash","jira-integration-plugin/jira-create-issue-form-data","jira-integration-plugin/jira-create-issue-form-field-helper","jira-integration-plugin/fields"],function(f,h,m,k,n){function e(a){this.configuration=h.extend({},e.defaults,a);this.configuration.renderSummaryAndDescription&&this.configuration.excludedField.push("summary","description");this._init()}function t(a,b){var c={};a.find(".create-issue-required-fields").find("input, select, textarea, fieldset").not(".select2-input, .select2-focusser").each(function(d){var g=
f(this),l=g.attr("data-name");l&&(c[l]=b(g,l,d))});return c}function r(a){f(".aui-message",a).remove()}var p=window.jiraIntegration.templates;e.defaults={allowUnsupportedFields:!1,ignoreFieldsWithDefaultValue:!0,excludedField:["project","issuetype","reporter"],formClass:"jira-interation-create-issue-form",requiredFieldsOnly:!0,renderSummaryAndDescription:!1,get$unsupportedFieldMessage:function(a,b){return f(p.jiraCreateIssueForm.unsupportedFieldsMessage({unsupportedFields:a,createIssueUrl:b}))},get$unexpectedError:function(a){return f(aui.message.error({content:AJS.escapeHtml(a)}))},
get$communicationError:function(a){return f(p.jiraCreateIssueForm.communicationErrorMessage({message:a}))},get$unauthorizeMessage:function(a){return f(p.jiraCreateIssueForm.authorize({extraClasses:"jira-oauth-dialog",applicationName:a}))},get$unsupportedServerMessage:function(a){return f(p.jiraCreateIssueForm.unsupportedServerMessage({serverUrl:a}))},get$unrenderableRequiredFieldsMessage:function(a,b){var c=a.map(function(d){return AJS.escapeHtml(d.name)}).join(", ");return f(p.jiraCreateIssueForm.unrenderableRequiredFieldsMessage({names:c,
count:a.length,serverUrl:b}))},ajax:function(a){alert("JiraCreateIssueForm requires the option 'ajax(options)' to be specified and respond like jQuery.ajax.\nThis method should handle response status codes other than 200 and 500 (those are handled by us).")}};e.prototype._trigger=function(a,b){var c=this.configuration[a];c&&c.apply(this,Array.prototype.slice.call(arguments,1))};e.prototype._selectServer=function(a,b){var c=this;if(this.currentServerId!==a||b)this.currentServerId=a,this.formIsLoading(this.defaultFields.server),
m.isIssueCreationSupported(a,this.configuration.ajax).done(function(d){d?(c._loadProjectData(a),c.formLoadingCompleted(c.defaultFields.server)):(d=m.getServerById(a).displayUrl,c._handleUnsupportedServer(d))}).fail(function(d){d[0]&&d[0].authenticationUri?c._handleAuthorizeError(d[0]):c._handleAjaxError(d)})};e.prototype._bindEventListener=function(){var a=this;this.defaultFields.server.on("change",function(b){a.fieldValues=h.extend({},a.fieldValues,a._getFieldValues());a.resetForm(!0);(b=this.value)?
a._selectServer(b):(k.resetSelectField(a.defaultFields.project),a.defaultFields.project.trigger("change"));a._trigger("onServerChanged",this.value)});this.defaultFields.project.on("change",function(){var b=this.value||f(this).select2("data").value,c=f(a.defaultFields.issueType).select2("data");a.fieldValues=h.extend({},a.fieldValues,a._getFieldValues());b?(f('option[value\x3d""]',a.defaultFields.project).remove(),a._loadIssueType(a.currentServerId,b,c)):k.resetSelectField(a.defaultFields.issueType);
a._trigger("onProjectChanged",this.value)});this.defaultFields.issueType.on("change",function(){a.fieldValues=h.extend({},a.fieldValues,a._getFieldValues());a.resetForm(!0);this.value?a._loadFields(a.fieldValues):(a.$containerRequireField&&a.$containerRequireField.html(""),r(this.$form));a._trigger("onTypeChanged",this.value)})};e.prototype._getFieldValues=function(){return this._getJSON({getFieldJSON:n.getInternalJSON,$form:this.$form})};e.prototype._init=function(){this.container=f(this.configuration.container);
this.fieldValues={};if(this.container.length)this._renderForm(),this._bindEventListener(),this._loadServerData();else throw Error("container property should be defined.");};e.prototype._renderForm=function(){var a=this;this.$form=f(p.jiraCreateIssueForm.form({formClass:this.configuration.formClass})).on("aui-valid-submit",function(b){a.configuration.onSubmit&&(b.preventDefault(),a.configuration.onSubmit())}).on("focus",".fake-tabbable",function(){const b=f("div#select2-drop.select2-drop-active").children()[0];
b&&b.children.length&&b.getElementsByTagName("input")[0].focus()});this.configuration.renderSummaryAndDescription&&this._renderSummaryAndDescription();this.container.append(this.$form);this.defaultFields=this._getDefaultFields();h.each(this.defaultFields,h.bind(function(b){this.createSelect2WithIcon(f(b))},this));this.$containerRequireField=f(".create-issue-required-fields",this.container);this._trigger("onFormRendered")};e.prototype._renderSummaryAndDescription=function(){var a=f(".create-issue-default-fields",
this.$form);a.append(aui.form.textField({labelContent:"Summary",isRequired:!0,name:"summary",value:this._getSummaryFromConfiguration()}));a.append(aui.form.textareaField({labelContent:"Description",name:"description"}))};e.prototype._getDefaultFields=function(){return{server:f(".server-select",this.$form),project:f(".project-select",this.$form),issueType:f(".issuetype-select",this.$form)}};e.prototype._loadServerData=
function(){var a=this;this.formIsLoading(this.defaultFields.server);m.loadServers(a.configuration.ajax).then(function(b){a.formLoadingCompleted(a.defaultFields.server);a._loadServerDataComplete(b)})};e.prototype._loadFields=function(a){const b=this,c=h.extend({},this.getContextJSON(),a);this.formIsLoading(this.defaultFields.issueType);m.getFieldMetadata(c,b.configuration.ajax).done(function(d){const g=b._filterFields(d);b.configuration.renderSummaryAndDescription&&(d=d.find(l=>"description"===l.fieldId),
b._setDescriptionAsRequiredField(!(!d||!d.required)));d=b._unrenderableRequiredFields(g);0===d.length?(b._renderFields(g,c),b._trigger("onFieldsRendered")):b._handleUnrenderableRequiredFields(d);b._fieldTypeAnalytics(g);b.formLoadingCompleted(b.defaultFields.issueType)}).fail(h.bind(b._handleAjaxError,this))};e.prototype._loadServerDataComplete=function(a){a.length?(1===a.length&&k.hideField(this.defaultFields.server),this._hasMultiServer=1<a.length,k.fillSelectData(this.defaultFields.server,a,this.configuration.serverId||
a[0].id),this._selectServer(this.configuration.serverId||a[0].id)):this._handlerUnexpectedError("Don\u0027t have any Jira server, please check the application link configuration.")};e.prototype._loadProjectData=function(a){var b=this;this.formIsLoading(this.defaultFields.project);m.loadProjects(a,b.configuration.ajax).then(function(c){c.errors&&c.errors.length?(c=c.errors[0],c.authenticationUri?b._handleAuthorizeError(c):b._handlerUnexpectedError(c.message)):c.length?k.fillSelectData(b.defaultFields.project,c,b.configuration.projectId):
b._handlerUnexpectedError("You do not have permission to create issues on this Jira server.");b.formLoadingCompleted(b.defaultFields.project)},h.bind(b._handleAjaxError,this))};e.prototype._loadIssueType=function(a,b,c){const d=this;this.formIsLoading(this.defaultFields.issueType);m.loadIssueTypes(a,b,d.configuration.ajax).then(function(g){k.fillSelectData(d.defaultFields.issueType,g,c&&c.id);d.formLoadingCompleted(d.defaultFields.issueType)}).fail(function(g){404===g.status&&d._handleCommunicationError(AJS.format("Could not communicate with Jira (HTTP error {0})",
404));d.formHasError()})};e.prototype._fieldTypeAnalytics=function(a){var b=a.map(function(c){var d=n.getFieldType(c);return{required:c.required,restType:d,knownRestType:n.isKnownRestType(d)}}).reduce(function(c,d){d.knownRestType?c[d.required?"requiredFields":"otherFields"].push(d.restType):c[d.required?"unknownRequiredFieldsCount":"unknownOtherFieldsCount"]++;return c},{requiredFields:[],otherFields:[],unknownRequiredFieldsCount:0,unknownOtherFieldsCount:0});b=Object.keys(b).reduce(function(c,d){var g=
b[d];if(!Array.isArray(g))return c[d]=g,c;var l=g.length;c[d+".size"]=l;for(var q=0;q<l;q++)c[d+"["+q+"]"]=g[q];return c},{});AJS.trigger("analytics",{name:"jira.integration.issue.create.form.displayed",data:b})};e.prototype._renderFields=function(a,b){this.$containerRequireField.html("");var c=h.reject(a,n.canRender);!this.configuration.allowUnsupportedFields&&c.length?this._handleUnsupportedFields(c):(this.$containerRequireField.html(h.map(a,function(d){return n.renderField(null,d,b,null)}).join("")),
n.attachFieldBehaviors(this.$containerRequireField,b,null),this._trigger("onRequiredFieldsRendered",a,c))};e.prototype._setError=function(a){r(this.$form);this.$form.prepend(a);this.formLoadingCompleted();this.formHasError()};e.prototype._handleCommunicationError=function(a){a=this.configuration.get$communicationError(a);this._setError(a)};e.prototype._handlerUnexpectedError=function(a){a=this.configuration.get$unexpectedError(a);this._setError(a)};e.prototype._handleUnsupportedFields=function(a){a=
h.map(a,function(b){return AJS.escapeHtml(b.name)});a=this.configuration.get$unsupportedFieldMessage(a,this._getCreateJiraIssueUrl());r(this.$form);this.$form.prepend(a);this._trigger("onError");this.formLoadingCompleted()};e.prototype._handleUnsupportedServer=function(a){a=this.configuration.get$unsupportedServerMessage(a);this._setError(a)};e.prototype._handleAjaxError=function(a){if(500<=a.status&&600>a.status){var b=a.responseJSON.errors&&a.responseJSON.errors[0],c=b&&b.exceptionName;c&&"com.atlassian.integration.jira.JiraCommunicationException"===
c?this._handleCommunicationError(b.message):this._handlerUnexpectedError(AJS.format("Could not communicate with Jira (HTTP error {0})",a.status))}else this._handlerUnexpectedError("An unexpected response was received from Jira.");this.formHasError()};e.prototype._handleAuthorizeError=function(a){var b=this;this.formHasError();var c=this.configuration.get$unauthorizeMessage(a.applicationName);this.$form.append(c);f(".applink-authenticate",c).on("click",function(d){AppLinks.authenticateRemoteCredentials(a.authenticationUri,
function(){b.resetForm();b._selectServer(b.currentServerId,!0)},function(){b._handlerUnexpectedError(AJS.format("You have refused to permit access to {0}.",a.applicationName))});d.preventDefault()})};e.prototype._handleUnrenderableRequiredFields=function(a){a=this.configuration.get$unrenderableRequiredFieldsMessage(a,this._getCreateJiraIssueUrl());r(this.$form);this.$form.append(a);this.formLoadingCompleted()};e.prototype._getCreateJiraIssueUrl=function(){var a=this.defaultFields.project.find("option:selected").val(),
b=this.defaultFields.issueType.find("option:selected").val(),c=m.getServerById(this.currentServerId).displayUrl;c=c+"/secure/CreateIssueDetails!Init.jspa?pid\x3d"+a+"\x26issuetype\x3d"+b;a=this._getFieldValue("summary");a.length&&(c=c+"\x26summary\x3d"+encodeURIComponent(a));a=this._getFieldValue("description");a.length&&(c=c+"\x26description\x3d"+encodeURIComponent(a));return c};e.prototype._filterFields=function(a){var b=this;return h.filter(a,function(c){var d=c.schema?c.schema.system||c.schema.custom||
c.schema.customId:c;return!(b.configuration.excludedField&&b.configuration.excludedField.includes(d)||b.configuration.ignoreFieldsWithDefaultValue&&c.hasDefaultValue||b.configuration.requiredFieldsOnly&&!c.required)})};e.prototype._unrenderableRequiredFields=function(a){return a.filter(function(b){return b.required&&!n.canRender(b)})};e.prototype._getFieldValue=function(a){return(a=f("[name\x3d'"+a+"']",this.$form))?f.trim(a.val()):""};e.prototype._setDescriptionAsRequiredField=function(a){var b=
f('.field-group [name\x3d"description"]',this.$form).prev("label");b.find(".aui-icon.aui-icon-required").remove();a&&b.append(aui.icons.icon({icon:"required"}))};e.prototype._getSummaryFromConfiguration=function(){var a=this.configuration.initialSummary;delete this.configuration.initialSummary;return a};e.prototype._getJSON=function(a){if(!a.verbose)return t(a.$form,function(d,g,l){return a.getFieldJSON(d)});var b=m.getCachedFieldMetadataEntry(this.getContextJSON()).value,c=Object.keys(b.fields).reduce(function(d,
g){d[g]=n.getContext(null,b.fields[g],null,null);return d},{});return t(this.$form,function(d,g,l){var q=c[g];return{name:g,jiraType:q.jiraType,required:q.isRequired,label:q.labelText,value:a.getFieldJSON(d),index:l}})};e.prototype.resetForm=function(a){r(this.$form);f(".field-group",this.$form).show();this.configuration.renderSummaryAndDescription&&this._setDescriptionAsRequiredField(!1);this._hasMultiServer||k.hideField(this.defaultFields.server);this.$containerRequireField.html("");this.fieldValues=
a?this.fieldValues:{}};e.prototype.formHasError=function(){f(".field-group",this.$form).hide();this.$containerRequireField.html("");this._hasMultiServer&&k.showField(this.defaultFields.server);k.setFieldDisabled(f(".insert-issue-button"),!0);this._trigger("onError");this.formLoadingCompleted()};e.prototype.getCurrentServer=function(){return m.getServerById(this.currentServerId)};e.prototype.formIsLoading=function(a){a&&k.setIsLoading(a,!0);a=f(":input",f(this.$form));k.setFieldDisabled(a,!0)};e.prototype.formLoadingCompleted=
function(a){a?k.setIsLoading(a,!1):f(".aui-icon.aui-icon-wait",this.$form).remove();a=f(":input",f(this.$form));k.setFieldDisabled(a,!1)};e.prototype.createSelect2WithIcon=function(a){if(a.is(".server-select"))a.auiSelect2({minimumResultsForSearch:-1});else{var b=a.is(".project-select")?{formatSelection:this.projectSelectFormat,formatResult:this.projectSelectFormat,extraAttributes:this.defaultFields}:{formatSelection:this.issueTypeSelectFormat,formatResult:this.issueTypeSelectFormat,minimumResultsForSearch:-1,
extraAttributes:this.defaultFields};a.auiSelect2(b)}a.auiSelect2("val","")};e.prototype.projectSelectFormat=function(a){var b=this.extraAttributes.server.select2("data").id;b=m.getProjectIconUrl(b,a.id);return p.fields.select2WithIconOption({optionValue:a.text,iconUrl:b,isProject:!0,lazyLoadImage:!0})};e.prototype.issueTypeSelectFormat=function(a){var b=this.extraAttributes.server.select2("data").id,c=this.extraAttributes.project.select2("data").id;b=m.getIssueTypeIconUrl(b,c,a.id);return p.fields.select2WithIconOption({optionValue:a.text,
iconUrl:b,isProject:!1})};e.prototype.getContextJSON=function(){var a=this.defaultFields.project.val()||f(this.defaultFields.project).select2("data").value;return{serverId:this.currentServerId,projectId:a,projectKey:m.getProjectById(this.currentServerId,a).key,issueTypeId:this.defaultFields.issueType.val(),summary:this._getSummaryFromConfiguration()}};e.prototype.getJSON=function(a){return e.prototype._getJSON({getFieldJSON:n.getJSON,verbose:a,$form:this.$form})};e.prototype.renderUnexpectedError=
function(a){a=this.configuration.get$unexpectedError(a);r(this.$form);this.$form.prepend(a);this.formLoadingCompleted()};e.prototype.renderErrors=function(a){t(this.$form,function(b,c){b=b.closest(".jira-field");var d=function(l){return 0===l.indexOf(c)};if(a.hasOwnProperty(c)||Object.keys(a).some(d)){a.hasOwnProperty(c)||(c=Object.keys(a).filter(d)[0]);var g=Array.isArray(a[c])?a[c]:[a[c]]}n.setFieldError(b,g)})};e.prototype.submit=function(){this.$form.submit()};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:jira-create-issue-form', location = '/jira-create-issue-form/jira-create-issue-form-data.js' */
define("jira-integration-plugin/jira-create-issue-form-data",["jquery"],function(g){function t(a){var c=new URL(a.avatarUrls["16x16"]);const b=c.searchParams;b.get("pid")||b.append("pid",a.id);b.get("avatarId")||(a=c.pathname.split("/"),c=a.lastIndexOf("avatar"),b.append("avatarId",a[c+1]));return b.toString()}function p(a){a=k(a.serverId,a.projectKey,a.issueTypeId);return{key:a,value:q[a]}}function n(a){if(!e[a])throw Error("Can only be called after server is loaded.");return e[a].projects}function k(a,
c,b){return a+(c?"-"+c:"")+(b?"-"+b:"")}var e={},q={},u=AJS.contextPath()+"/plugins/servlet/jira-integration/icons?serverId\x3d{0}\x26iconType\x3d{1}\x26{2}",l=[],h=function(a,c,b){return a({dataType:"json",timeout:0,url:AJS.contextPath()+"/rest/jira-integration/1.0/servers"+(c||""),statusCode:b})};const r=(a,c,b=[])=>{b=b.filter(m=>!m.subtask);const d={};b.forEach(m=>{d[m.id]=m.iconUrl});const f=t(a);l[k(c,a.id)]={iconUrl:AJS.format(u,c,"project",f),issueTypes:d};return b},v=(a,c)=>n(a).filter(function(b){return b.id===
c})[0];return{loadServers:function(a){return h(a,"").done(function(c){c.forEach(function(b){e[b.id]=b})})},loadProjects:function(a,c){var b=e[a]&&e[a].projects;return b?g.Deferred().resolve(b):h(c,"/"+a+"/projects").done(function(d){d.length&&(d.forEach(function(f){r(f,a)}),e[a].projects=d)})},loadIssueTypes:(a,c,b)=>h(b,`/${a}/projects/${c}/issue-types`,{404:!1}).then(d=>{const f=v(a,c);return d?r(f,a,d):[]}),getFieldMetadata:function(a,c){var b=p(a);return b.value?g.Deferred().resolve(b.value):
h(c,"/"+a.serverId+"/projects/"+a.projectKey+"/issue-types/"+a.issueTypeId+"/fields-meta").done(function(d){q[b.key]=d})},getCachedFieldMetadataEntry:p,getServerById:function(a){return e[a]},getProjectIconUrl:function(a,c){a=k(a,c);return l[a]?l[a].iconUrl:""},getIssueTypeIconUrl:function(a,c,b){a=k(a,c);return(a=l[a])&&a.issueTypes[b]?a.issueTypes[b]:""},getProjects:n,getProjectById:function(a,c){a=n(a);if(!a)return null;for(var b=0,d=a.length;b<d;b++){var f=a[b];if(f.id===c)return f}return null},
isIssueCreationSupported:function(a,c){if(!e[a])throw Error("Can only be called after server is loaded.");return"issueCreationSupported"in e[a]?g.Deferred().resolve(e[a].issueCreationSupported):h(c,"/"+a+"/features").then(function(b){if(b.errors)return g.Deferred().reject(b.errors);if(!Array.isArray(b))return g.Deferred().reject("Unexpected response from Jira");e[a].issueCreationSupported=-1!==b.indexOf("CREATE_ISSUE");return e[a].issueCreationSupported})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:jira-create-issue-form', location = '/jira-create-issue-form/jira-create-issue-form-field-helper.js' */
define("jira-integration-plugin/jira-create-issue-form-field-helper",["jquery","jira-integration-plugin/lodash"],function(f,l){function g(a){a=a.attr("data-placeholder");return aui.form.optionOrOptgroup({value:"",text:a,iconUrl:""})}return{fillSelectData:function(a,c,k){var e=[],d;c.forEach(function(b){var h={value:AJS.escapeHtml(b.id),text:b.name,iconUrl:b.iconUrl?b.iconUrl:b.avatarUrls?b.avatarUrls["16x16"]:""};k===b.id&&(h.selected=!0,d=b);e.push(aui.form.optionOrOptgroup(h))});d?(d.text=d.name,
a.html(e.join("")),a.auiSelect2("data",d).trigger("change")):(e.unshift(g(a)),a.html(e.join("")),a.auiSelect2("val","").trigger("change"))},resetSelectField:function(a){a.html(g(a));a.auiSelect2("val","").trigger("change")},hideField:function(a){a.parent().hide()},showField:function(a){a.parent().show()},setFieldDisabled:function(a,c){c?f.fn.disable?a.disable():a.prop("disabled",!0):f.fn.enable?a.enable():a.prop("disabled",!1)},setIsLoading:function(a,c){return c?a.after(aui.icons.icon({icon:"wait"})):
a.next(".aui-icon.aui-icon-wait").remove()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.integration.jira.jira-integration-plugin:jira-create-issue-form', location = '/jira-create-issue-form/jira-create-issue-form.soy' */
// This file was automatically generated from jira-create-issue-form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace jiraIntegration.templates.jiraCreateIssueForm.
 */

if (typeof jiraIntegration == 'undefined') { var jiraIntegration = {}; }
if (typeof jiraIntegration.templates == 'undefined') { jiraIntegration.templates = {}; }
if (typeof jiraIntegration.templates.jiraCreateIssueForm == 'undefined') { jiraIntegration.templates.jiraCreateIssueForm = {}; }


jiraIntegration.templates.jiraCreateIssueForm.form = function(opt_data, opt_ignored) {
  return '' + aui.form.form({extraClasses: (opt_data.formClass ? opt_data.formClass + ' ' : '') + 'jira-create-form', method: 'post', action: '#', content: '<fieldset class="create-issue-default-fields"><div class="fake-tabbable" tabindex="0" /><div class="field-group" data-jira-type="server"><label>' + soy.$$escapeHtml('Server') + '<span class="aui-icon icon-required"> required</span></label><select class="jira-select2-drop-box server-select medium-long-field" name="server" data-placeholder="' + soy.$$escapeHtml('Select a server') + '"><option disabled selected value="">' + soy.$$escapeHtml('Select a server') + '</option></select></div><div class="field-group" data-jira-type="project"><label>' + soy.$$escapeHtml('Project') + '<span class="aui-icon icon-required"> required</span></label><select class="jira-select2-drop-box project-select medium-long-field" name="project" data-placeholder="' + soy.$$escapeHtml('Select a project') + '"><option disabled selected value="">' + soy.$$escapeHtml('Select a project') + '</option></select></div><div class="field-group" data-jira-type="issuetype"><label>' + soy.$$escapeHtml('Issue Type') + '<span class="aui-icon icon-required"> required</span></label><select class="jira-select2-drop-box issuetype-select" name="issue-type" data-placeholder="' + soy.$$escapeHtml('Select an issue type') + '"><option disabled selected value="">' + soy.$$escapeHtml('Select an issue type') + '</option></select></div></fieldset><fieldset class="create-issue-required-fields"></fieldset>'});
};
if (goog.DEBUG) {
  jiraIntegration.templates.jiraCreateIssueForm.form.soyTemplateName = 'jiraIntegration.templates.jiraCreateIssueForm.form';
}


jiraIntegration.templates.jiraCreateIssueForm.unsupportedFieldsMessage = function(opt_data, opt_ignored) {
  var param28 = '';
  if (opt_data.unsupportedFields.length == 1) {
    var field__soy31 = '<strong>' + soy.$$escapeHtml(opt_data.unsupportedFields) + '</strong>';
    param28 += soy.$$filterNoAutoescape(AJS.format('The required field {0} is not available in this form. You will need to',field__soy31));
  } else {
    var fieldList__soy38 = '' + jiraIntegration.templates.jiraCreateIssueForm.buildFieldList({fields: opt_data.unsupportedFields});
    param28 += soy.$$filterNoAutoescape(AJS.format('The required fields {0} are not available in this form. You will need to',fieldList__soy38));
  }
  param28 += ' <a href="' + soy.$$escapeHtml(opt_data.createIssueUrl) + '" target="_blank">' + soy.$$escapeHtml('create your issue directly in Jira') + '</a>.';
  var output = '' + aui.message.warning({content: param28});
  return output;
};
if (goog.DEBUG) {
  jiraIntegration.templates.jiraCreateIssueForm.unsupportedFieldsMessage.soyTemplateName = 'jiraIntegration.templates.jiraCreateIssueForm.unsupportedFieldsMessage';
}


jiraIntegration.templates.jiraCreateIssueForm.buildFieldList = function(opt_data, opt_ignored) {
  var output = '';
  var joinText__soy50 = '' + ((opt_data.fields.length == 2) ? ' ' + soy.$$escapeHtml('and') + ' ' : ', ');
  var fieldList58 = opt_data.fields;
  var fieldListLen58 = fieldList58.length;
  for (var fieldIndex58 = 0; fieldIndex58 < fieldListLen58; fieldIndex58++) {
    var fieldData58 = fieldList58[fieldIndex58];
    output += ((! (fieldIndex58 == 0)) ? soy.$$escapeHtml(joinText__soy50) : '') + '<strong>' + soy.$$escapeHtml(fieldData58) + '</strong>';
  }
  return output;
};
if (goog.DEBUG) {
  jiraIntegration.templates.jiraCreateIssueForm.buildFieldList.soyTemplateName = 'jiraIntegration.templates.jiraCreateIssueForm.buildFieldList';
}


jiraIntegration.templates.jiraCreateIssueForm.authorize = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var applicationNameEscaped__soy67 = '' + soy.$$escapeHtml(opt_data.applicationName);
  output += aui.message.info({content: '' + soy.$$filterNoAutoescape(AJS.format('{0}Log in and approve{1} to retrieve data from {2}','<a class="oauth-init applink-authenticate" href="#">','</a>',applicationNameEscaped__soy67))});
  return output;
};
if (goog.DEBUG) {
  jiraIntegration.templates.jiraCreateIssueForm.authorize.soyTemplateName = 'jiraIntegration.templates.jiraCreateIssueForm.authorize';
}


jiraIntegration.templates.jiraCreateIssueForm.unsupportedServerMessage = function(opt_data, opt_ignored) {
  return '' + aui.message.warning({content: '' + soy.$$filterNoAutoescape(AJS.format('The version of selected Jira server is not supported. You may want to upgrade to at least version 5.x or {0}create issue in Jira{1}.','<a href="' + opt_data.serverUrl + '" target="_blank">','</a>'))});
};
if (goog.DEBUG) {
  jiraIntegration.templates.jiraCreateIssueForm.unsupportedServerMessage.soyTemplateName = 'jiraIntegration.templates.jiraCreateIssueForm.unsupportedServerMessage';
}


jiraIntegration.templates.jiraCreateIssueForm.unrenderableRequiredFieldsMessage = function(opt_data, opt_ignored) {
  return '' + aui.message.warning({content: '' + soy.$$filterNoAutoescape(AJS.format('The required {1,choice,1#field|1\x3cfields} \x3cstrong\x3e{0}\x3c/strong\x3e {1,choice,1#is|1\x3care} not available in this dialog. You will need to {2}create your issue directly in Jira{3}.',opt_data.names,opt_data.count,'<a href="' + opt_data.serverUrl + '" target="_blank">','</a>'))});
};
if (goog.DEBUG) {
  jiraIntegration.templates.jiraCreateIssueForm.unrenderableRequiredFieldsMessage.soyTemplateName = 'jiraIntegration.templates.jiraCreateIssueForm.unrenderableRequiredFieldsMessage';
}


jiraIntegration.templates.jiraCreateIssueForm.communicationErrorMessage = function(opt_data, opt_ignored) {
  return '' + aui.message.error({titleContent: '' + soy.$$escapeHtml('Unfortunately, we\x27ve encountered problems connecting to Jira'), content: '<p>' + soy.$$escapeHtml(opt_data.message) + '</p>'});
};
if (goog.DEBUG) {
  jiraIntegration.templates.jiraCreateIssueForm.communicationErrorMessage.soyTemplateName = 'jiraIntegration.templates.jiraCreateIssueForm.communicationErrorMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:proxy-js', location = '/jira/proxy.js' */
AppLinks=AJS.$.extend(window.AppLinks||{},{makeRequest:function(a){var b=contextPath||AJS.contextPath();if(a.processData)a.appId?a.data=AJS.$.extend(a.data||{},{appId:a.appId}):a.appType&&(a.data=AJS.$.extend(a.data||{},{appType:a.appType})),a.data=AJS.$.extend(a.data||{},{path:a.url});else{var d=a.url;a=AJS.$.extend(a,{beforeSend:function(c){a.appId?c.setRequestHeader("X-AppId",a.appId):a.appType&&c.setRequestHeader("X-AppType",a.appType);c.setRequestHeader("X-AppPath",d)}})}a=AJS.$.extend(a,{url:b+
"/plugins/servlet/applinks/proxy"});return AJS.$.ajax(a)},createProxyGetUrl:function(a){var b="";a.includeContext&&(b=contextPath||AJS.contextPath());b+="/plugins/servlet/applinks/proxy";if(a.appId)b+="?appId\x3d"+encodeURIComponent(a.appId);else if(a.appType)b+="?appType\x3d"+encodeURIComponent(a.appType);else return AJS.log("You need to specify an appType or appId"),"";a.path&&(b+="\x26path\x3d"+encodeURIComponent(a.path));return b}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jqlHelper', location = '/jira/jqlhelper.js' */
AJS.JQLHelper=function(){var m=/^\s*((key|issuekey)\s*=\s*)?"*([A-Z]+)([A-Z0-9]+)?-([0-9]+)"*\s*$/i,h=/\s*([A-Z][A-Z]+)-[0-9]+\s*/,n=/(issue|searchrequest)-xml/i,k=/\/(i#)?browse\/([\x00-\x19\x21-\x22\x24\x27-\x3E\x40-\x7F]+-[0-9]+$)/i,p=/\/jira\.issueviews:issue-xml\/([\x00-\x19\x21-\x22\x24\x27-\x3E\x40-\x7F]+-[0-9]+)\//,l=/(jqlQuery|jql)\s*=([^&]+)/i,e=/(\?|&)(requestId|filter)=([^&]+)/i,f=/(searchrequest-xml\/)([0-9]+)\/SearchRequest/i,q=/=|!=|~|>|<|!~| is | in | was | changed /i,g=function(a){var b=
"",c=k.exec(a);c?b="key\x3d"+c[2]:(c=l.exec(a))?b=c[2]:(a=h.exec(a))&&(b="key\x3d"+a[0]);return b=b.replace(/\+/g," ")},r=function(a,b){var c;a=decodeURIComponent(a);AJS.JQLHelper.getJqlQueryFromJiraFilter(a,b,function(d){d.jql&&(c=d.jql)});return c};return{isSingleKeyJQLExp:function(a){return m.exec(a)},isMultipleSingleKeyJQLExp:function(a){a=a.split(",");for(var b in a){var c=AJS.$.trim(a[b]);if(!AJS.JQLHelper.isSingleKeyJQLExp(c))return!1}return!0},isIssueUrlOrXmlUrl:function(a){return k.test(a)||
n.test(a)||l.test(a)||p.test(a)?!0:!1},isFilterUrl:function(a){return e.test(a)||f.test(a)},getFilterFromFilterUrl:function(a){if(e.test(a))return a=e.exec(a),a[2]+"\x3d"+a[3];if(f.test(a))return"filter\x3d"+f.exec(a)[2]},getJqlQueryFromJiraFilter:function(a,b,c,d){a=(e.exec(a)||f.exec(a))[2];b="/rest/jiraanywhere/1.0/jira/appLink/"+b+"/filter/"+a;AJS.$.ajax({async:!1,dataType:"json",url:Confluence.getContextPath()+b,success:c,error:d})},findServerIndexFromUrl:function(a,b){if("undefined"!==typeof b||
0<b.length)for(var c=a.toLowerCase(),d=0;d<b.length;d++)if(0==c.indexOf(b[d].url.toLowerCase())&&"/"==a.charAt(b[d].url.length))return d;return-1},getJqlQueryFromUrl:g,getJqlAndServerIndexFromUrl:function(a,b){var c={};c.serverIndex=this.findServerIndexFromUrl(a,b);c.jqlQuery=g(a);return c},checkQueryType:function(a){if(AJS.Editor.JiraAnalytics&&a&&0!=AJS.$.trim(a).length)return 0!=a.indexOf("http")?AJS.Editor.JiraAnalytics.linkTypes.jqlDirect:-1!=a.indexOf("jira.issueviews:searchrequest-xml")||-1!=
a.indexOf("jira.issueviews:issue-xml")?AJS.Editor.JiraAnalytics.linkTypes.xml:-1!=a.indexOf("jira.issueviews:searchrequest-rss")?AJS.Editor.JiraAnalytics.linkTypes.rss:-1!=a.indexOf("filter\x3d")||-1!=a.indexOf("filter\\\x3d")?AJS.Editor.JiraAnalytics.linkTypes.filter:AJS.Editor.JiraAnalytics.linkTypes.jql},convertToJQL:function(a,b){if(""!==AJS.$.trim(a))if(0===a.indexOf("http")&&this.isFilterUrl(a))var c=r(a,b);else 0===a.indexOf("http")&&this.isIssueUrlOrXmlUrl(a)?(a=g(decodeURIComponent(a)),0<
a.length&&(c=a)):c=0!==a.indexOf("http")&&a.match(q)?a:a.match(h)?"key\x3d"+a:'summary ~ "'+a+'" OR description ~ "'+a+'"';return c}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:legacy-editor-global-AVOID-IF-POSSIBLE', location = '/includes/js/amd/shim/confluence-editor-amd.js' */
define("confluence-editor/legacy",["confluence/legacy"],function(a){"undefined"===typeof a&&(a={});"undefined"===typeof a.Editor&&(a.Editor={});return a.Editor});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:draft-changes-js', location = '/includes/js/draft-changes.js' */
define("confluence/draft-changes","jquery ajs window confluence/legacy confluence/api/ajax confluence/api/event confluence/api/logger confluence/analytics-support confluence/meta confluence/aui-overrides wrm/context-path".split(" "),function(c,d,u,h,z,v,r,p,m,w,q){return{init:function(){var e,x=function(g){e=new d.Dialog(860,530,"view-diff-draft-dialog");var f="Unpublished Changes for \u0027{0}\u0027";e.addHeader(f.replace(/\{0\}/,""));f=c(h.Templates.DraftChanges.dialogContent());e.addPanel("Diff",f);g&&(e.addButton("Edit",
function(){e.hide();h.Editor&&h.Editor.Drafts?h.Editor.Drafts.useDraft():u.location=c(this).attr("data-href")},"resume-diff-link"),e.addButton("Discard",function(){if(""!==m.get("remote-user"))h.Editor.SafeSave.Draft.discardDraft(d.params.pageId,m.get("existing-draft-id")).done(h.Editor.SafeSave.Draft.onSuccessDiscardDraft).fail(h.Editor.SafeSave.Draft.onErrorDiscardDraft),e.hide();else if(h.Editor&&h.Editor.Drafts)e.hide(),h.Editor.Drafts.discardDraft(m.get("existing-draft-id")),
p.publish("rte.notification.draft.discard");else{var l=c(this).data("draftid");t(l)&&e.hide()}},"discard-diff-link"));e.addCancel("Close",function(){e.hide();return!1});f.removeClass("hidden")},y=function(g){var f,l,n;(function(a){var b=/draftPageId:([^ ]*)/.exec(a);f=b?b[1]:m.get("page-id");l=(b=/username:([^ ]*)/.exec(a))?b[1]:m.get("remote-user");n=(b=/draftId:([^ ]*)/.exec(a))?b[1]:null})(g.attr("class"));c.ajax({url:q()+"/draftchanges/viewdraftchanges.action",type:"GET",
dataType:"json",data:{pageId:f,username:l},success:function(a){if(a.actionErrors){var b="";a=a.actionErrors;for(var k=0;k<a.length;k++)r.log("error: "+a[k]),b=b+"\x3cdiv\x3e"+a[k]+"\x3c/div\x3e";c("#diff-view").html(b)}else b=n,c("#diff-view").html(a.htmlDiff),k=d.format("Unpublished Changes for \u0027\u0027{0}\u0027\u0027",d.escapeHtml(a.title)),e.addHeader(k),e.popup.element.find(".dialog-title").prepend(h.Templates.DraftChanges.helpLink()),c(".resume-diff-link").attr("data-href",q()+"/pages/resumedraft.action?draftId\x3d"+b),
c(".discard-diff-link").data("draftid",b),w.setVisible("#merge-warning",a.isMergeRequired)},error:function(a){a=a.errors||"An unknown error has occurred. Please check your logs";c("#diff-view").html(a)}})},t=function(g){var f="Are you sure you want to discard these unpublished changes?",l=c("#draft-"+g);if(confirm(f)){f=q()+"/rest/api/content/"+g+"?status\x3ddraft";var n=c.ajax;n({url:f,type:"DELETE",data:{draftId:g},contentType:"application/json",dataType:"json",success:function(a){if(a&&a.actionErrors){var b=["\x3cul\x3e"];
a=a.actionErrors;for(var k=0;k<a.length;k++)r.log("error: "+a[k]),b.push("\x3cli\x3e"+a[k]+"\x3c/li\x3e");b.push("\x3c/ul\x3e");d.messages.error("#errors",{title:"Error",body:"There were errors discarding your draft."+" "+b.join("\n")})}else b=l.closest("table"),a=b.closest(".drafts-container"),l.remove(),0===b.find("tbody tr").length&&a.append('\x3cspan id\x3d"no-drafts-message"\x3e'+"No drafts found."+"\x3c/span\x3e")},error:function(a){d.messages.error("#errors",
{title:"There were errors discarding your draft.",body:a.errors||"An unknown error has occurred. Please check your logs."})}});return!0}return!1};c("body").on("click",".view-diff-link",function(g){var f=this.id,l=c(this);e||x("view-diff-link-notification"===f);e.addHeader("Loading");c("#diff-view").html("\x3ctr\x3e\x3ctd id\x3d'draft-changes-waiting-icon'\x3eLoading...\x3c/td\x3e\x3c/tr\x3e");y(l);e.show();v.trigger("analytics",{name:"confluence.editor.view-diff-dialog.open",
data:{elementTriggerId:f}});g.stopPropagation();return!1});c(".drafts-by-space li.draft-actions-list-item").on("click",".discard-draft-link",function(g){g.preventDefault();p.publish("confluence.draft-list.discard");g=c(this).data("draftid");t(g)}).on("click",".resume-draft-link",function(){p.publish("confluence.drafts.referrer",{referrerPage:"drafts",lozengeType:"Draft"})})}}});require("confluence/module-exporter").safeRequire("confluence/draft-changes",function(c){require("ajs").toInit(c.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:draft-changes-js', location = '/includes/soy/draft-changes-dialog.soy' */
// This file was automatically generated from draft-changes-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.DraftChanges.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.DraftChanges == 'undefined') { Confluence.Templates.DraftChanges = {}; }


Confluence.Templates.DraftChanges.dialogContent = function(opt_data, opt_ignored) {
  return '<div id="draft-changes-dialog" class="hidden"><div id="diff-view" class="wiki-content"></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.DraftChanges.dialogContent.soyTemplateName = 'Confluence.Templates.DraftChanges.dialogContent';
}


Confluence.Templates.DraftChanges.helpLink = function(opt_data, opt_ignored) {
  return '' + Confluence.Templates.Dialog.helpLink({href: "https://docs.atlassian.com/confluence/docs-92/Drafts#viewchange"});
};
if (goog.DEBUG) {
  Confluence.Templates.DraftChanges.helpLink.soyTemplateName = 'Confluence.Templates.DraftChanges.helpLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:analytics', location = 'analytics/editor-ready-collab-mode-analytics.js' */
define("confluence-editor/analytics/editor-ready-collab-mode-analytics",["ajs","confluence/dark-features","confluence/meta"],function(a,d,b){return{trigger:function(){if(a.Rte&&a.Rte.getEditor()&&(a.$("#editpageform").length||a.$("#createpageform").length)){var c;c="confluence.editor.ready.collab.mode."+(d.isEnabled("site-wide.shared-drafts")?"on":"off");var e=b.get("synchrony-connection-order")?b.get("synchrony-connection-order"):"",f=b.get("synchrony-connection-type")?b.get("synchrony-connection-type"):
"";a.trigger("analyticsEvent",{name:c,data:{connectionOrder:e,connectionType:f}})}}}});require("confluence/module-exporter").safeRequire("confluence-editor/analytics/editor-ready-collab-mode-analytics",function(a){require("ajs").bind("rte-ready",function(){a.trigger()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-editor-plugin:split_page-editor-quit-dialog', location = 'page-editor-quit-dialog.js' */
(window.atlassianWebpackJsonp1126d6c3ec4535e33734b1025bd581ff=window.atlassianWebpackJsonp1126d6c3ec4535e33734b1025bd581ff||[]).push([["page-editor-quit-dialog"],{109:function(e,i,o){"use strict";o.r(i);var a=o(22),t=o(9);Object(t.a)("confluence-editor/editor/page-editor-quit-dialog",()=>a.a)}},[[109,"runtime","vendors~core~page-editor-quit-dialog","core~editor-notifications~page-editor-message~page-editor-quit-dialog","core~page-editor-message~page-editor-quit-dialog","core~page-editor-quit-dialog"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.reliablesave:reliable-save-conf-frontend', location = 'templates/reliable-save.soy' */
// This file was automatically generated from reliable-save.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Editor.Reliable.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Editor == 'undefined') { Confluence.Templates.Editor = {}; }
if (typeof Confluence.Templates.Editor.Reliable == 'undefined') { Confluence.Templates.Editor.Reliable = {}; }


Confluence.Templates.Editor.Reliable.draftMessage = function(opt_data, opt_ignored) {
  var output = '<div id="draft-messages">';
  if (opt_data.isNewPage) {
    if (opt_data.existingDraft.title) {
      var escapedTitle__soy8 = '' + soy.$$escapeHtml(opt_data.existingDraft.title);
      output += soy.$$filterNoAutoescape(AJS.format('A new page you were adding on {0} called \x26#8216;{1}\x26#8217; was saved as a draft.',opt_data.existingDraft.date,escapedTitle__soy8));
    } else {
      output += soy.$$filterNoAutoescape(AJS.format('A new page you were adding on {0} was saved as a draft.',opt_data.existingDraft.date));
    }
    output += ' ' + soy.$$filterNoAutoescape(AJS.format('Do you want to {0}resume editing{1} or {2}discard{3} it?','<a href="#" class="use-draft"> ','</a>','<a href="#" class="discard-draft"> ','</a>'));
  } else {
    output += soy.$$filterNoAutoescape(AJS.format('A version of this page you were editing at {0} was saved as a draft.',opt_data.existingDraft.date)) + ((opt_data.mergeRequired) ? ' ' + soy.$$escapeHtml('The page has since been updated. Your changes will be merged with the latest version.') : '') + ((opt_data.conflictFound) ? ' ' + soy.$$filterNoAutoescape(AJS.format('The page has since been updated. The changes made conflict with your changes and cannot be merged. Do you want to {0}view the conflict{1} or {2}discard{3} your changes?','<a href="?pageId=' + opt_data.pageId + '&viewConflict=true&spaceKey=' + opt_data.spaceKey + '" >','</a>','<a href="#" class="discard-draft">','</a>','<a href="' + "" + '/users/viewmydrafts.action">','</a>')) : (opt_data.mergeRequired) ? ' ' + soy.$$filterNoAutoescape(AJS.format('Do you want to {0}view{1}, {2}merge and resume editing{3} or {4}discard{5} it?','<a id="view-diff-link-notification" href="#" class="view-diff-link">','</a>','<a href="#" class="use-draft"> ','</a>','<a href="#" class="discard-draft">','</a>')) : ' ' + soy.$$filterNoAutoescape(AJS.format('Do you want to {0}view the change{1}, {2}resume editing{3} or {4}discard{5} it?','<a id="view-diff-link-notification" href="#" class="view-diff-link">','</a>','<a href="#" class="use-draft"> ','</a>','<a href="#" class="discard-draft">','</a>')));
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Editor.Reliable.draftMessage.soyTemplateName = 'Confluence.Templates.Editor.Reliable.draftMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.reliablesave:reliable-save-conf-frontend', location = 'js/reliable-save.js' */
define("confluence-editor-reliable-save/reliable-save","ajs confluence/legacy confluence/meta underscore jquery window document confluence/api/constants confluence-editor/editor/page-editor-message confluence-editor/editor/page-editor-quit-dialog".split(" "),function(a,f,c,y,g,L,X,w,e,M){function z(){return c.get("shared-drafts")}function A(){return c.getBoolean("new-page")}function B(){f.Editor.UI.toggleSavebarBusy(!1)}function E(h){var l="There was an error processing the request.";e.closeMessages(["generic-error"]);
e.handleMessage("generic-error",{type:"error",message:l},m);a.logError("Generic error: "+JSON.stringify(h))}function m(){var h=g("#draft-messages");0<h.length&&(h.is(":visible")&&a.Confluence.Analytics.publish("rte.notification.draft"),h.find("a.use-draft").click(function(l){l.stopPropagation();l.preventDefault();f.Editor.Drafts.useDraft();a.Confluence.Analytics.publish("rte.notification.draft.resume")}),h.find("a.discard-draft").click(function(l){l.stopPropagation();l.preventDefault();t.Draft.discardDraft(c.get("page-id"),
c.get("existing-draft-id")).done(t.Draft.onSuccessDiscardDraft).fail(t.Draft.onErrorDiscardDraft)}))}function S(){g("#editor-restore-title-link").click(function(h){h.stopPropagation();h.preventDefault();g("#content-title").val(c.get("latest-published-page-title"));e.closeMessages(["rename-during-limited-mode"])})}function F(){c.set("access-mode","READ_ONLY");e.closeMessages(["read-only-mode"]);e.handleMessage("read-only-mode",{title:"This site is read-only",type:"error",
message:"Starting now, any changes you make won\u0027t be saved. We\u0027ll let you know when you can start editing again."});f.Editor.UI.setButtonsState(!0);f.Editor.UI.toggleSavebarBusy(!1);f.Editor.UI.setButtonState(!1,f.Editor.UI.saveButton);f.Editor.UI.setButtonState(!1,f.Editor.UI.cancelButton)}function G(h){var l="Looks like your session expired. Log in again to keep working.\n \u003cdiv\u003e\u003ca href=\u0022dashboard.action\u0022 target=\u0022_blank\u0022\u003eLogin\u003c/a\u003e\u003c/div\u003e";e.closeMessages(["noauthorized"]);e.handleMessage("noauthorized",{title:"Can\u0027t connect to the server",type:"error",message:l},m);h&&a.trigger("rte.safe-save.invalid-xsrf-token")}
function N(){var h="Unable to communicate with server. Saving is not possible at the moment.";e.closeMessages(["server-offline"]);e.handleMessage("server-offline",{type:"error",message:h},m)}var O=[],C=!1,t={Draft:{discardDraft:function(h,l){h={draftId:l,pageId:h,type:c.get("draft-type"),spaceKey:c.get("space-key")};return g.ajax({type:"DELETE",url:w.CONTEXT_PATH+"/rest/tinymce/1/drafts/discard",data:g.toJSON(h),contentType:"application/json",dataType:"json"})},onSuccessDiscardDraft:function(){A()||c.set("draft-id","0");e.closeMessages(["draft-message"]);
e.handleMessage("discarding-successfull",{type:"info",message:"Your draft has been discarded.",close:"auto"},m);a.Confluence.Analytics.publish("rte.notification.draft.discard")},onErrorDiscardDraft:function(h){switch(h.status){case 403:G(!0);break;case 404:e.handleMessage("draft-deleted",{type:"info",message:"This draft has been discarded."},m);break;case 405:F();break;case 422:e.handleMessage("discarding-invalid",{type:"error",message:"This draft is invalid. It can be deleted by someone or looks like your session expired."},
m);break;default:e.handleMessage("discarding-error",{type:"error",message:"An unknown error has occurred. Please check your logs."},m)}}}};t._internal=f.SafeSafe&&f.SafeSave._internal?f.SafeSave._internal:{};t._internal.onSuccessfulResponse=function(h){g("#rte-button-overwrite").unbind("click.overwrite");var l={dataType:"json",contentId:c.get("content-id"),draftType:c.get("draft-type")};a.safe.post(w.CONTEXT_PATH+"/json/stopheartbeatactivity.action",l,function(){a.log("Stop heartbeat activity on",l.draftType,
"id",l.contentId)},"json").fail(function(n,H,I){a.logError("Server error on stop heartbeat activity request:");a.log(I)}).always(function(){var n=h._links.webui;n?0!==n.indexOf("/")?L.location=n:L.location=w.CONTEXT_PATH+n:(f.Editor.isPublishing(!1),B())})};t.resetUnrecoverableEditorError=function(){C=!1};t.initialize=function(){function h(b){B();switch(b.status){case 400:e.closeMessages(["empty-title","duplicate-title","title-too-long","legacy-draft-deprecated","utf8-validation-failed"]);0<=b.responseText.indexOf(n.duplicatedTitle)?
e.handleMessage("duplicate-title",{type:"error",message:a.format("A page with the title \u0027\u0027{0}\u0027\u0027 already exists in this space. Enter a different title for your page.",a.escapeHtml(g("#content-title").val()))}):0<=b.responseText.indexOf(n.titleTooLong)?e.handleMessage("title-too-long",{type:"error",message:"Title cannot be longer than 255 characters."},m):0<=b.responseText.indexOf(n.publishNewDraftDeprecated)||0<=b.responseText.indexOf(n.existingDraftNotFound)?c.get("new-page")&&z()&&!f.Editor.hasContentChanged()?(a.trigger("rte.legacy-draft-can-be-migrated"),
e.handleMessage("legacy-draft-deprecated",{type:"error",message:a.format("Collaborative editing is here! So that you can keep working on this page, we need to migrate the content to a new draft for you.\u003cbr\u003e \u003ca href={0}\u003eMigrate now\u003c/a\u003e",w.CONTEXT_PATH+"/pages/resumedraft.action?draftId\x3d"+c.get("draft-id"))},m)):(a.trigger("rte.legacy-draft-cannot-be-migrated"),e.handleMessage("legacy-draft-deprecated",{type:"error",message:"Collaborative editing is here! That means we need a little help from you to restart your editing session. All you need to do is copy the content, edit this page again, then paste it in and save."},m)):0<=b.responseText.indexOf(n.utf8ValidationFailed)?(b=b.responseJSON.message.split(n.utf8ValidationFailed)[1],e.handleMessage("utf8-validation-failed",
{title:"Unsupported character",type:"error",message:a.format("We can\u0027\u0027t save because the {0} character isn\u0027\u0027t supported by your database.\u003cbr\u003e\u003cbr\u003eRemove this character or use a Confluence symbol or emoticon instead. \u003ca href = \u0022https://confluence.atlassian.com/x/BYfsNg\u0022 target=\u0022_blank\u0022\u003eLearn more\u003c/a\u003e",b)},m)):E(b);break;case 403:G(!0);break;case 404:e.closeMessages(["page-not-accessible","noauthorized"]);e.handleMessage("page-not-accessible",{title:"This content cannot be accessed.",type:"error",message:a.format("Your session may have expired, you can attempt to \u003ca href=\u0022dashboard.action\u0022 target=\u0022_blank\u0022\u003elog in\u003c/a\u003e.",c.get("space-key"))},m);break;case 405:F();break;case 410:e.closeMessages(["page-deleted"]);
e.handleMessage("page-deleted",{title:"This content has been deleted",type:"error",message:a.format("Copy your content, then add it to a new page or \u003cdiv\u003e\u003ca href=\u0022viewtrash.action?key={0}\u0022 target=\u0022_blank\u0022\u003erestore this page from the trash\u003c/a\u003e and try again.\u003c/div\u003e",c.get("space-key"))},m);break;case 413:e.closeMessages(["page-too-big"]);e.handleMessage("page-too-big",{type:"error",message:"This page is too big to save. You could split it into multiple pages, then use the \u003ca href=\u0022https://confluence.atlassian.com/conf51/include-page-macro-336169384.html\u0022 target=\u0022_blank\u0022\u003einclude page macro\u003c/a\u003e to display the content."},m);break;case 0:case 500:case 503:N();break;case 501:0<=b.responseText.indexOf(n.renameDuringLimitedMode)?e.handleMessage("rename-during-limited-mode",{type:"error",message:"Changing page titles isn\u0027t possible right now, as collaborative editing is offline. \u003cdiv\u003e\u003ca id=\u0022editor-restore-title-link\u0022 href=\u0022#\u0022\u003eRestore the page title\u003c/a\u003e if you\u0027d like to publish the page.\u003c/div\u003e"},
S):E(b);break;default:E(b)}}function l(b){function u(d){J<T?(J++,K.push(setTimeout(function(){l()},U))):(a.trigger("analyticsEvent",{name:"editor.save.error.conflict"}),J=0,e.handleMessage("page-conflict",{title:"Can\u0027t sync with the server.",type:"error",message:a.format("Refresh the page to try to re-establish the connection.",k.space.key)},m),x(d))}function x(d){a.trigger("rte.safe-save.error",{status:d.status})}function D(d){return(10>d?"0":"")+d}function V(d){d=parseInt(d,10);if(Number.isNaN(d))return"";
const q=0>d?"-":"+";d=Math.abs(d);d=Math.floor(d/1E3/60);const P=d%60;return q+D((d-P)/60)+":"+D(P)}function Q(){f.Editor.isPublishing(!0);g.ajax({type:R,url:r,contentType:"application/json; charset\x3dutf-8",dataType:"json",data:JSON.stringify(k),success:function(d){"page"!==k.type&&"blogpost"!==k.type||a.trigger("analytics",{name:"confluence.editor.close",data:{source:"publishButton"}});a.trigger("rte.safe-save.success",d);t._internal.onSuccessfulResponse(d)},error:function(d){f.Editor.isPublishing(!1);
B();var q=!1;switch(d.status){case 409:z()?(q=!0,u(d)):(f.Editor.restoreDefaultSave(),f.Editor.UI.saveButton.click());break;case 0:case 500:case 503:for(;K.length;)clearTimeout(K.shift());h(d);break;default:h(d)}q||x(d);a.trigger("synchrony.start",{id:"confluence.editor.publish"})}})}a.trigger("synchrony.stop",{id:"confluence.editor.publish"});b&&b.preventDefault();var v=g("#content-title");if(v.hasClass("placeholded")||""===v.val().trim())a.trigger("rte.safe-save.error"),a.trigger("synchrony.start",
{id:"confluence.editor.publish"}),e.closeMessages(["title-too-long","duplicate-title"]),e.handleMessage("empty-title",{title:"This page needs a name",type:"error",message:"Add a page title before hitting publish."},m),B();else{f.Editor.Drafts.unBindUnloadMessage();var k={};b=c.get("draft-id");var W=c.get("content-id"),r=w.CONTEXT_PATH+"/rest/api/content",p=g("#sourceTemplateId").val();k.status="current";k.title=v.val();k.space={key:c.get("space-key")};k.body={editor:{value:function(d){O.forEach(function(q){d=
q(d)});return d}(a.Rte.getEditor().getContent()),representation:"editor"}};p&&(k.extensions={sourceTemplateId:p});v=(v=g("#PostingDate")[0])&&v.value;"blogpost"===H.type&&v&&(p=(p=g("#PostingTime")[0])&&p.value,p||(p=new Date,p=D(p.getHours())+":"+D(p.getMinutes())),p+=":00",v+="T"+p+V(c.get("user-timezone-offset")),k.history={createdDate:(new Date(v)).toISOString()});if(A()&&!c.get("shared-drafts")){var R="POST";c.get("is-blueprint-page")&&(r=r+"/blueprint/instance/"+b);r+="?status\x3ddraft";k.id=
b;k.type=c.get("content-type");k.body.editor.content={id:b}}else R="PUT",A()&&c.get("is-blueprint-page")&&(r+="/blueprint/instance"),r=r+"/"+W,A()&&z()?(k.id=b,k.body.editor.content={id:b}):(k.id=c.get("page-id"),k.body.editor.content={id:c.get("page-id")}),r="0"===b?r+"?status\x3dcurrent":r+"?status\x3ddraft",r+="\x26asyncReconciliation\x3dtrue",b=c.getNumber("page-version")||0,k.type=c.get("content-type"),k.version={number:b+1,message:g("#versionComment").val(),minorEdit:!g("#notifyWatchers").is(":checked"),
syncRev:g("#syncRev").val()};b=function(){var d={};d.id=c.get("parent-page-id")||"0";d.type=c.get("content-type");var q=c.get("parent-page-id");q&&k.space.key===c.get("space-key")||(d.id="0");q&&d.id!==q&&(d.id=g("#parentPageString").val()===c.get("from-page-title")?d.id:q);return d}();"0"!==b.id&&(k.ancestors=[b]);(b=f.Editor.Drafts.getDraftSavingPromise())?b.always(Q):Q()}}if(0!==g("#editpageform").length||0!==g("#createpageform").length){var n={duplicatedTitle:"A page with this title already exists",
titleTooLong:"Title cannot be longer than 255 characters.",publishNewDraftDeprecated:"Unsupported call to publishNewDraft",existingDraftNotFound:"Could not find existing draft, perhaps you're trying to publish a personal draft?",renameDuringLimitedMode:"Unable to perform a page rename when limited mode is enabled",utf8ValidationFailed:"Unsupported character found in content: "},H={existingDraftId:c.get("existing-draft-id")?c.get("existing-draft-id"):0,pageId:c.get("page-id"),type:c.get("draft-type"),
spaceKey:c.get("space-key")};if(!0===c.get("show-draft-message")){if(0<g("#conflict-diffs").length)return;g.ajax({type:"GET",url:w.CONTEXT_PATH+"/rest/tinymce/1/drafts/message",data:H,contentType:"application/json",dataType:"text json",success:function(b){b&&b.draftData&&(b=f.Templates.Editor.Reliable.draftMessage({existingDraft:b.draftData,conflictFound:b.conflictFound,mergeRequired:b.mergeRequired,isNewPage:b.newPage,pageId:c.get("page-id"),spaceKey:c.get("space-key")}),e.handleMessage("draft-message",
{type:"info",message:b},m))}})}var I=0<g("#editor-notifications-container #all-messages .aui-message-error").length;z()?(M.init({saveHandler:l,cancelErrorHandler:h}),f.Editor.overrideSave(M.process)):I?f.Editor.restoreDefaultSave():f.Editor.overrideSave(l);g("#rte-button-overwrite").bind("click.overwrite",l);var J=0,T=3,U=1E3,K=[];a.bind("rte.heartbeat-error",function(b,u){switch(u.status){case 401:case 403:e.isDisplayed(["page-not-accessible"])||G(!1);break;case 405:if(u.responseText){b=JSON.parse(u.responseText);
e.isDisplayed(["read-only-mode"])||"READ_ONLY"!==b.reason||F();break}case 0:case 404:case 500:case 503:f.Editor.metadataSyncRequired()||N();break;default:a.logError("Heartbeat action error: "+JSON.stringify(u))}});a.bind("rte.heartbeat",function(b){var u=!1;y.each(e.displayedErrors(),function(x){y.contains(["noauthorized","server-offline","page-not-accessible","read-only-mode"],x)&&(u=!0,e.closeMessages([x]))});(b="READ_ONLY"===c.get("access-mode"))&&c.set("access-mode","READ_WRITE");(u||b)&&e.handleMessage("reconnect",
{type:"info",title:"Successfully reconnected",message:"We\u0027re back in business. You\u0027re free to save your page again.",close:"auto"},m);f.Editor.UI.isButtonEnabled(f.Editor.UI.saveButton)||C||f.Editor.UI.setButtonState(!0,f.Editor.UI.saveButton);f.Editor.UI.isButtonEnabled(f.Editor.UI.cancelButton)||C||f.Editor.UI.setButtonState(!0,f.Editor.UI.cancelButton)});a.bind("synchrony.history.evicted",function(){C=!0})}};t.registerCleanupFunction=function(h){O.push(h)};return t});
require("confluence/module-exporter").safeRequire("confluence-editor-reliable-save/reliable-save",function(a){var f=require("ajs"),c=require("confluence/meta"),y=0<window.document.referrer.indexOf("createDialog\x3dtrue\x26flashId");if(""!==c.get("remote-user")&&!y){var g=require("confluence/legacy");f.bind("rte.init.ui",function(){a.initialize();g.Editor=g.Editor||{};g.Editor.SafeSave=g.Editor.SafeSave||{};g.Editor.SafeSave.Draft=a.Draft;g.Editor.SafeSave._internal=a._internal||{}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.reliablesave:reliable-save-conf-frontend', location = 'js/ajax-login.js' */
define("confluence-editor-reliable-save/ajax-login",["confluence/dark-features","confluence/meta","ajs","jquery","document"],function(v,t,g,h,D){return function(){function E(m,k,a){function r(b){b=b.getResponseHeader("X-AUSERNAME");return y===b}function F(b){for(var c=0,d=b.length;c<d;c++){var e=b[c];g.debug("Rerunning ajax query to: "+e.url,e);z.call(h,e.url,e.settings).done(function(){g.debug("Rerunning done");e.deferred.resolve(arguments)}).fail(function(){g.debug("Rerunning failed");e.deferred.reject(arguments)})}}
function G(b){u.push({deferred:n,url:m,settings:k,defaultCallback:b});w||(x=!1,p||(p=new g.Dialog(840,700),p.addPanel("ajax-login","ajax-login-content","ajax-login-panel",1),b=h(".ajax-login-panel"),q=h("\x3ciframe\x3e\x3c/iframe\x3e"),q.bind("load",function(c){(c=q[0].contentDocument.location.pathname)&&0<=c.indexOf("/ajaxlogincomplete.action")&&(w=!1,x=!0,p.hide(),q.attr("src","about:blank"))}),b.append(q),h(D).bind("hideLayer",function(c,d,e){if("popup"===d&&e===p.popup){g.debug("hiding login dialog");
if(x)F(u);else for(c=u,d=0,e=c.length;d<e;d++){var l=c[d];g.debug("Executing with original response for: "+l.url,l);l.defaultCallback&&l.defaultCallback()}u=[]}})),q.attr("src",H),p.show(),w=!0)}function A(b,c,d,e){function l(){f.readyState=b.readyState;f.status=b.status;f.statusText=b.statusText;b.responseXML?f.responseXML=b.responseXML:f.responseText=b.responseText;c.apply(d,e)}r(b)?l():G(l)}g.debug("Using authenticatingPromise");var f={abort:function(){a.abort.apply(a,arguments)},getAllResponseHeaders:function(){a.getAllResponseHeaders.apply(a,
arguments)},getResponseHeader:function(){a.getResponseHeader.apply(a,arguments)},overrideMimeType:function(){a.overrideMimeType.apply(a,arguments)},readyState:a.readyState,setRequestHeader:function(b,c){a.setRequestHeader.apply(a,arguments)},state:function(){a.state.apply(a,arguments)},status:a.status,statusCode:function(){a.statusCode.apply(a,arguments)},statusText:a.statusText},n=h.Deferred();n.promise(f);f.success=f.done;f.error=f.fail;a.done(function(b,c,d){A(d,n.resolve,n,arguments)});a.fail(function(b,
c,d){A(b,n.reject,n,arguments)});return f}if(v.isEnabled("ajax.login")){g.debug("AJAX login support enabled");var w=!1,p,q,x,u=[],z=h.ajax,y=t.get("remote-user"),B=t.get("base-url"),C=t.get("context-path"),H=t.get("context-path")+"/login.action?os_destination\x3d%2Fajaxlogincomplete.action";h.ajax=function(m,k){var a=z.call(h,m,k),r=m&&m.url;return y&&(!k||k&&!k.preventAjaxLogin)&&r&&(B&&0===r.indexOf(B)||C&&0===r.indexOf(C))?E(m,k,a):a}}}});
require("confluence/module-exporter").safeRequire("confluence-editor-reliable-save/ajax-login",function(v){require("ajs").toInit(v)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:editor-resources', location = 'tinymce3/plugins/confluencepaste/linkify.js' */
define("confluence-editor/tinymce3/plugins/confluencepaste/linkify",function(){return{RE_EMAIL_PATTERN:"(?:\\s|\\A|^)[\\w.-]+\\+*[\\w.-]+@(?:(?:[\\w-]+\\.)+[A-Za-z]{2,6}|(?:\\d{1,3}\\.){3}\\d{1,3})",RE_URL_SCHEME:"(?:[\\w-]{2,}):/{1,3}",RE_TLD:"(?:aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|travel|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|fi|fj|fk|fm|fo|fr|ga|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|qa|re|ro|ru|rw|sa|sb|sc|sd|se|sg|si|sj|sk|sl|sm|sn|so|sr|st|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)",
RE_URL_MIDCHAR:"(?:[^\\s()]+|\\((\\S+)\\))",RE_URL_ENDCHAR:"(?:\\((\\S+)\\)|[^\\s`!()\\[\\]{};:'\".,<>?])",init:function(){this.RE_URL_ENDING||(this.RE_URL_ENDING="(?:"+this.RE_URL_MIDCHAR+"*"+this.RE_URL_ENDCHAR+")?",this.RE_FULL_URL=this.RE_URL_SCHEME+"\\w+(?:.\\w+)"+this.RE_URL_ENDING,this.RE_OTHER_URL="\\w[\\w_-]*(?:\\.\\w[\\w_-]*)*\\."+this.RE_TLD+"(?:[\\/\\?#]"+this.RE_URL_ENDING+"|\\b)")},linkify:function(f,b,i){this.init();f=this.match_and_replace(this.RE_EMAIL_PATTERN,f,!0,!1,b,i);
f=this.match_and_replace(this.RE_FULL_URL,f,!1,!1,b,i);return f=this.match_and_replace(this.RE_OTHER_URL,f,!1,!0,b,i)},match_and_replace:function(f,b,i,o,k,h){for(var c=0,a=0,d=0,c=0,l=/<\/[aA]>/,f=RegExp(f,"g"),p=h.hasOwnProperty("add_wbrs")?h.add_wbrs:null,j=h.hasOwnProperty("truncate_length")?h.truncate_length:100,m=h.hasOwnProperty("link_target")?h.link_target:"_blank",h=h.hasOwnProperty("link_titles")?h.link_titles:null,d={},n=0;d=f.exec(b);){n++;if(20<n)break;c=d.index;d=d[0].length;if(0<=b.substring(a,
c).search(/<[aA]/)){l.lastIndex=a;c=b.substring(a,b.length).search(l);if(0>c)break;c+=a;f.lastIndex=c+4;a=c+4}else{var a=b.substr(c,d),g=a.search(/&(amp|gt|lt)$/);if(0<g&&b.length>c+d&&";"==b[c+d]){d-=a.length-g;for(a=b.substr(c,d);!a.match(this.RE_URL_ENDCHAR+"$")&&0<d;)d--,a=b.substr(c,d)}g=a;o&&(g="http://"+g);var e="<a";m&&(e+=' target="'+m+'"');e+=' href="';i&&(e+="mailto:");g=g.replace(/"/g,"%22");e+=g+'"';h&&(e+=' title="'+(i?"Email "+g:g)+'"');j&&a.length>j&&(a=a.substr(0,j)+"...");p&&(a=
a.replace(/([/=])/g,"<wbr>$1"));e+=">"+a+"</a>";k&&k.push(g);b=b.slice(0,c)+e+b.slice(c+d,b.length);f.lastIndex=c+e.length;a=c+e.length}}return b}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/tinymce3/plugins/confluencepaste/linkify","linkify");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:editor-resources', location = 'tinymce3/plugins/confluencepaste/post-paste-node-filter.js' */
define("confluence-editor/tinymce3/plugins/confluencepaste/post-paste-node-filter","jquery confluence/legacy confluence-editor/tinymce3/plugins/confluencepaste/linkify ajs document tinymce".split(" "),function(e,B,q,r,y,z){function u(a,b){for(var f=e(a).find("["+b+"]"),c="",d="",g="",h=0,k=f.length;h<k;h++){d=(c=e(f[h]))&&["/",c.attr(b)].join("");g=c&&["/",c.attr("data-mce-"+b)].join("");r.contextPath()&&d.indexOf(r.contextPath())===0&&(f[h]=c.attr(b,d));r.contextPath()&&g.indexOf(r.contextPath())===
0&&(f[h]=c.attr("data-mce-"+b,g))}return f}function m(a,b,f){var a=e(a).find("["+b+"]"),c="",d,g;if(a)for(var h=0,k=a.length;h<k;h++){d=e(a[h]);g=f.standard;for(var n in f)if(f.hasOwnProperty(n)&&d.is(n)){g=f[n];break}if(b.indexOf("style")>-1){var c=d,i=g;g=[];for(var o="",o=void 0,p=c.attr("style"),l=c.attr("data-mce-style"),j=0,m=i.length;j<m;j++)if(p&&p.toLowerCase().indexOf(i[j])>-1)g.push(i[j]+": "+c.css(i[j])+";");else if(l&&l.toLowerCase().indexOf(i[j])>-1){o=RegExp(i[j]+":.+?(?:;|$)");o=l.match(o);
g.push(o[0].indexOf(";")>-1?o:o+";")}c=g.join(" ")}else{c=d;i=b;p=[];if(g){l=0;for(j=g.length;l<j;l++)c.is("["+i+"~="+g[l]+"]")&&p.push(g[l])}c=p.join(" ")}d.removeAttr(b);c.length&&d.attr(b,c)}}function A(a,b){function f(f){var d;if(c.index){d=a.splitText(c.index);a&&b.push(a);a=d}(d=a.splitText(c[0].length))&&b.push(d);e(a).wrap("<a href='"+f+a.data+"'></a>")}var c,d,g;d=s.exec(a.data);g=t.exec(a.data);if(d){c=d;f("mailto:")}else if(g){d=(c=g)&&c[0].indexOf("://")===-1?"http://":"";f(d)}}var t;
q.init();var v=RegExp(q.RE_FULL_URL),w=RegExp(q.RE_OTHER_URL);t={exec:function(a){return v.exec(a)||w.exec(a)},test:function(a){return v.test(a)||w.test(a)}};var s,x=RegExp(q.RE_EMAIL_PATTERN);s={exec:function(a){if((a=x.exec(a))&&/\s/.test(a[0][0])){a[0]=a[0].replace(/\s/,"");a.index++}return a},test:function(a){return x.test(a)}};e(y).bind("postPaste",function(a,b,f){a=f.node;b={standard:["text-decoration","text-align","margin-left"],".wysiwyg-macro":["background-image"],p:["margin-left","text-align"],
span:["color","text-decoration"],pre:["margin-left"]};b.td=b.th=["text-align","vertical-align"];b.li=["list-style-type","background-image"];b.col=["width"];b["table.confluenceTable.relative-table"]=["width"];m(a,"style",b);m(a,"data-mce-style",b);if(e.browser.mozilla){u(a,"src");u(a,"href")}m(a,"face",{standard:[]});m(a,"id",{standard:[]});m(a,"data-mce-href",{standard:[]});a=f.node;b=[];b.push({elements:["div"],attribute:"class",blackValue:"aui-buttons"});for(var c=0;c<b.length;c++)for(var d=b[c],
g=0;g<d.elements.length;g++)for(var h=e(a).find(d.elements[g]+"["+d.attribute+"]"),k=0;k<h.length;k++){var n=h.eq(k).attr(d.attribute),n=n.replace(d.blackValue,"");h.eq(k).attr(d.attribute,n)}var i=f.node;e.each([".contentLayout",".contentLayout2",".columnLayout",".header",".footer",".cell",".innerCell",".panelContent",".panel",".panelHeader",".Apple-converted-space","font",".jira-status",".jira-issue",".diff-html-removed",".diff-html-added",".diff-html-changed"],function(a,b){e(b,i).contents().unwrap()});
e("img",i).map(function(){e(this).attr("data-attachment-copy","");!e(this).attr("src")&&e(this).remove()});e("dl",i).map(function(){e(this).replaceWith(e("<p></p>").text(e(this).text()))});e("a",i).map(function(){e(this).removeClass("confluence-userlink userLogoLink")});for(a=e.makeArray(f.node.childNodes);a.length;){b=a.pop();e(b).is("a")||(b.nodeType===3?A(b,a):b.nodeType===1&&(b.childNodes&&b.nodeName.toLowerCase()!=="pre")&&(a=a.concat(e.makeArray(b.childNodes))))}if(a=e.browser.mozilla){a=e(f.node);
a=a.children("br").length&&!a.find(":not(br)").length&&!e(z.activeEditor.selection.getStart()).closest("[data-macro-body-type='PLAIN_TEXT']").length}if(a){f=e(f.node);a="<p>"+f.html().replace(/<br>/gi,"</p><p>")+"</p>";f.html(a)}});return{URL:t,EMAIL:s}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/tinymce3/plugins/confluencepaste/post-paste-node-filter","Confluence.Editor.regex");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:editor-resources', location = 'com/atlassian/confluence/tinymceplugin/tinymce-adapter-deprecated.js' */
define("confluence-editor/tinymceplugin/tinymce-adapter-deprecated",["tinymce","ajs","confluence/legacy","jquery"],function(e,b,g,h){return{putCursorAtPostionInElement:function(a,b,c){var d=e.activeEditor,i=d.getDoc(),a=h(a,c||i),a=a.contents().length?a.contents().filter(function(){return 3===this.nodeType})[0]||a.contents().filter(function(){return 1===this.nodeType})[0]:a[0],c=d.selection.getRng(!0);c.setStart(a,b);c.setEnd(a,b);d.selection.setRng(c)},storeCurrentSelectionState:b.Rte.BookmarkManager.storeBookmark,
restoreSelectionState:b.Rte.BookmarkManager.restoreBookmark,insertLink:function(a,f){f&&b.Rte.getEditor().selection.select(f);g.Editor.LinkAdapter.setLink(a)},getCurrentBaseUrl:b.Rte.getCurrentBaseUrl,addOnInitCallback:function(a){b.debug("Adding callback to AJS.Rte.BootstrapManager. AJS.Rte.BootstrapManager = "+b.Rte.BootstrapManager);b.Rte.BootstrapManager.addOnInitCallback(a)},bindScroll:function(a,f){b.Rte.bindScroll(a,f)},unbindScroll:function(a){b.Rte.unbindScroll(a)},getTinyMceHasInit:function(){return b.Rte.BootstrapManager.isInitComplete()},
getEditor:b.Rte.getEditor,addTinyMcePluginInit:function(a){b.Rte.BootstrapManager.addTinyMcePluginInit(a)},isExternalLink:function(a){return g.Link.isExternalLink(a)},isInMacroPlaceholder:function(a){return e.confluence.MacroUtils.isInMacro(a)},initialiseTinyMce:function(){var a=b.Editor.Adapter;e.EditorManager.preInit.apply(e.EditorManager);e.EditorManager.init(a.settings)},offset:function(a){b.Rte.Content.offset(a)},getSelectedText:function(){return b.Rte.Content.getSelectedText()},setEditorValue:function(a){b.Rte.Content.setHtml(a)},
editorHasContentChanged:function(){return b.Rte.getEditor().isDirty()},editorResetContentChanged:function(){b.Rte.getEditor().setDirty(!1)},getChildIndex:function(a,b){for(var c=a.childNodes,d=0,e=c.length;d<e;d++)if(c[d]==b)return d;return-1},getEditorContainer:function(){return b.Rte.getEditorContainer()},getEditorFrame:function(){return b.Rte.getEditorFrame()},webResourcePath:b.Rte.webResourcePath,getResourceUrlPrefix:function(){return b.Rte.getResourceUrlPrefix()},getTinyMceBaseUrl:function(){return b.Rte.getTinyMceBaseUrl()},
getMinEditorHeight:function(){return b.Rte.getMinEditorHeight()},getTinyMceEditorMinHeight:function(a){return b.Rte.getTinyMceEditorMinHeight(a)}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/tinymceplugin/tinymce-adapter-deprecated","AJS.Editor.Adapter");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jiraAnalytics', location = '/jira/jiraanalytics.js' */
AJS.Editor.JiraAnalytics={events:{paste:{key:"confluence.jira.plugin.paste"},search:{key:"confluence.jira.plugin.search"},trigger:{key:"confluence.jira.plugin.trigger"},customizeColumn:{key:"confluence.jira.plugin.column.customize"}},linkTypes:{jqlDirect:"direct_jql",jql:"jql_link",xml:"xml_link",rss:"rss_link",filter:"filter_link"},getDisplayType:function(b){var a="single";b.container.find("#opt-table").is(":checked")?a="table":b.container.find("#opt-total").is(":checked")&&(a="count");return a},
setupAnalyticPanelActionObject:function(b,a,d){return{name:b.analyticPanelActionName,properties:this.setupPanelActionProperties(b,a,d)}},setupPanelActionProperties:function(b,a,d){var c={};a===AJS.Editor.JiraConnector.source.instructionalText&&("confluence.jira.plugin.issuecreated"===b.analyticPanelActionName?c.issueType=b.container.find('select[name\x3d"issuetype"] :selected').text():"confluence.jira.plugin.searchadded"===b.analyticPanelActionName&&(c.display=this.getDisplayType(b)),c.label=d);return c},
triggerPasteEvent:function(b){AJS.EventQueue=AJS.EventQueue||[];AJS.EventQueue.push({name:AJS.Editor.JiraAnalytics.events.paste.key,properties:b})},triggerPannelActionEvent:function(b){AJS.EventQueue=AJS.EventQueue||[];AJS.EventQueue.push(b)},triggerSearchEvent:function(b){AJS.EventQueue=AJS.EventQueue||[];AJS.EventQueue.push({name:AJS.Editor.JiraAnalytics.events.search.key,properties:b})},triggerMarkupEvent:function(b){this.triggerSearchEvent(b)},triggerPannelTriggerEvent:function(b){AJS.EventQueue=
AJS.EventQueue||[];AJS.EventQueue.push({name:AJS.Editor.JiraAnalytics.events.trigger.key,properties:b})},triggerCustomizeColumnEvent:function(b){AJS.EventQueue=AJS.EventQueue||[];AJS.EventQueue.push({name:AJS.Editor.JiraAnalytics.events.customizeColumn.key,properties:b})}};
(function(b){b.aop.before({target:AJS.MacroBrowser,method:"loadMacroInBrowser"},function(a,d){a&&a[0]&&"confluence.extra.jira"==a[0].pluginKey&&AJS.Editor.JiraAnalytics.triggerPannelTriggerEvent({source:AJS.Editor.JiraConnector.source.macroBrowser})});b.aop.before({target:tinymce.confluence.macrobrowser,method:"macroBrowserToolbarButtonClicked"},function(a,d){a&&a[0]&&a[0].presetMacroMetadata&&"confluence.extra.jira"==a[0].presetMacroMetadata.pluginKey&&AJS.Editor.JiraAnalytics.triggerPannelTriggerEvent({source:AJS.Editor.JiraConnector.source.editorBraceKey})});
AJS.bind("init.rte",function(){b.aop.before({target:tinyMCE.activeEditor,method:"execCommand"},function(a,d){if(a&&"mceInsertContent"==a[0]&&a[2]&&(d=[Node.ELEMENT_NODE],a=b.parseHTML(a[2]),a.length)){var c=a[0];if(d.includes(c.nodeType)&&(d=c.getAttribute("data-macro-name"),["jira","jiraissues"].includes(d)&&(d=AJS.Editor.JiraAnalytics,a={source:"wiki_markup"},c.getAttribute("data-macro-parameters")))){c=c.getAttribute("data-macro-parameters").split("|");for(var f=0;f<c.length;f++){var e=b.trim(c[f]);
if(0==e.indexOf("jql")||0==e.indexOf("jqlQuery")){a.type=d.linkTypes.jqlDirect;break}else if(0==e.indexOf("url")){c=b.trim(e.substring(e.indexOf("\x3d")+1,e.length));a.type=AJS.JQLHelper.checkQueryType(c);break}else if(0==e.indexOf("http")){c=e;a.type=AJS.JQLHelper.checkQueryType(c);break}}"undefined"===typeof a.type&&(a.type=d.linkTypes.jqlDirect);d.triggerMarkupEvent(a)}}})})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:split_jquery-selection-plugin', location = 'jquery-selection-plugin.js' */
(window.atlassianWebpackJsonpe19a4f58490c3d96a3072d1e47cd0e73=window.atlassianWebpackJsonpe19a4f58490c3d96a3072d1e47cd0e73||[]).push([["jquery-selection-plugin"],{463:function(e,t,n){"use strict";n.r(t);var s=n(17),o=n.n(s),i=n(23);!function(e,t){if(t.selection){const n=function(e){return e.replace(/\u000D/g,"")};e.fn.selection=function(e){const n=this[0];if(this.focus(),!n)return!1;if(null==e)return t.selection.createRange().text;const{scrollTop:s}=n,o=t.selection.createRange();o.text=e,o.select(),n.focus(),n.scrollTop=s},e.fn.selectionRange=function(e,s){const o=this[0];this.focus();const i=t.selection.createRange();if(null==e){const e=this.val(),t=e.length,s=i.duplicate();s.moveToElementText(o),s.setEndPoint("StartToEnd",i);let c=t-n(s.text).length;s.setEndPoint("StartToStart",i);const l=t-n(s.text).length;return c!==l&&"\n"===e.charAt(c+1)&&(c+=1),{end:c,start:l,text:e.substring(l,c),textBefore:e.substring(0,l),textAfter:e.substring(c)}}i.moveToElementText(o),i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",s-e),i.select()}}else e.fn.selection=function(e){const t=this[0];if(!t)return!1;if(null==e)return!!t.setSelectionRange&&t.value.substring(t.selectionStart,t.selectionEnd);const{scrollTop:n}=t;if(t.setSelectionRange){const{selectionStart:n}=t;t.value=t.value.substring(0,n)+e+t.value.substring(t.selectionEnd),t.selectionStart=n,t.selectionEnd=n+e.length}t.focus(),t.scrollTop=n},e.fn.selectionRange=function(e,t){if(null==e){const e={start:this[0].selectionStart,end:this[0].selectionEnd},t=this.val();return e.text=t.substring(e.start,e.end),e.textBefore=t.substring(0,e.start),e.textAfter=t.substring(e.end),e}this[0].selectionStart=e,this[0].selectionEnd=t};e.fn.wrapSelection=function(e,t){this.selection(e+this.selection()+(t||""))}}(o.a,i.document)}},[[463,"manifest","vendors~backbone~color-scheme~copy-heading-link~date-time~deprecated-dialog~form-state-control~inlin~b2589942","vendors~backbone~copy-heading-link~date-time~deprecated-dialog~form-state-control~inline-dialog~jque~28f2adbc","deprecated-dialog~inline-dialog~jquery-selection-plugin"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = '/jira/datatable.js' */
(function(d){AJS.DataTable=function(a,b,c){c=null;a&&a.jquery?c=a:"string"==typeof a&&(c=d(a));c.addClass("data-table");if(b&&b.length){this.columns=b;a=d("\x3ctr\x3e\x3c/tr\x3e").appendTo(c);a.addClass("data-table-header");for(var e=0;e<b.length;e++){var f=b[e];a.append('\x3cth class\x3d"'+f.className+'"\x3e'+f.title+"\x3c/th\x3e")}}this.tbl=c;this.rowIdx=0};AJS.DataTable.prototype.addRow=function(a){for(var b=d("\x3ctr\x3e\x3c/tr\x3e").appendTo(this.tbl),c=this.columns,e=0;e<this.columns.length;e++){var f=
c[e],h=d("\x3ctd\x3e\x3c/td\x3e").appendTo(b);h.addClass(f.className);f.renderCell(h,a)}b.data("row-data",a);this._bindRowJs(b,this.rowIdx,"selected","hover");this.rowIdx+=1;b.attr("tabindex","-1")};AJS.DataTable.prototype.selectRow=function(a){a=d("tbody tr",this.tbl)[a+1];d(a).focus()};AJS.DataTable.prototype._bindRowJs=function(a,b,c,e){var f=this;a.click(function(g){c&&(d(f.tbl).find("."+c).removeClass(c),d(this).addClass(c));g=a.data("row-data");f.tbl.trigger("row-select",[g])});var h=function(g){switch(g.keyCode){case 13:var k,
l=a.data("row-data");a.keyup(k=function(m){f.tbl.trigger("row-action",[l]);a.unbind("keyup",k);m.stopPropagation();return!1});g.stopPropagation();return!1;case 38:return 0<b&&a.prev().focus(),g.stopPropagation(),!1;case 40:var n=d("tbody tr",f.tbl).length;b<n-1&&a.next().focus();g.stopPropagation();return!1}};d.browser.mozilla?a.keypress(h):a.keydown(h);a.focus(function(g){a.click()});e&&a.hover(function(){d(this).addClass(e)},function(){d(this).removeClass(e)})}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = '/jira/dialogs.js' */
(function(){tinymce.PluginManager.add("jiraconnector",function(){return{init:function(e){e.addCommand("mceJiralink",AJS.Editor.JiraConnector.hotKey);e.on("PostRender",function(){AJS.$.ajax({url:Confluence.getContextPath()+"/rest/jiraanywhere/1.0/servers",async:!1,success:function(k){AJS.Editor.JiraConnector.servers=k}});AJS.$("#jiralink").click(function(k){AJS.Editor.JiraConnector.open(AJS.Editor.JiraConnector.source.editorDropdownLink,!0);k.stopPropagation();return!1});AJS.$("#insert-menu .macro-jiralink").show();
e.addShortcut("ctrl+shift+j","","mceJiralink")})},getInfo:function(){return{longname:"Confluence Jira Connector",author:"Atlassian",authorurl:"http://www.atlassian.com",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}})})();AJS.Editor.Adapter.addTinyMcePluginInit(function(e){e.plugins+=",jiraconnector";var k=e.theme_advanced_buttons1,p=k.indexOf("confimage");e.theme_advanced_buttons1=k.substring(0,p)+"jiralinkButton,"+k.substring(p)});
AJS.Editor.JiraConnector=function(e){var k=require("confluence/form-state-control"),p="Insert Jira Issue/Filter",v="Insert",w="Cancel",q=AJS.format("Hint: type \u0022{0}+Shift+J\u0022 in the editor to quickly access this dialog.",-1!=navigator.platform.toLowerCase().indexOf("mac")?"Cmd":"Ctrl"),l,m,f,x=function(){var a=e("#createPageLabelsString");0<a.length?(m=a.val().split(" ").join(),AJS.Editor.JiraAnalytics.triggerPannelTriggerEvent({source:l,
label:m})):e.getJSON(AJS.Meta.get("base-url")+"/rest/ui/1.0/content/"+AJS.Meta.get("page-id")+"/labels",function(c){var b=[];e.each(c.labels,function(h,n){b.push(n.name)});m=b.join();AJS.Editor.JiraAnalytics.triggerPannelTriggerEvent({source:l,label:m})})},t=function(a){if(!f){f=new AJS.ConfluenceDialog({width:840,height:590,id:"jira-connector"});f.addHeader(p);for(var c=AJS.Editor.JiraConnector.Panels,b=0;b<c.length;b++){f.addPanel(c[b].title());var h=f.getCurrentPanel();c[b].init(h)}f.addLink("Select Macro",
function(){f.hide();AJS.MacroBrowser.open(!1)},"dialog-back-link");f.addHelpText(q);e("#jira-connector .dialog-tip").attr("title",q);f.addButton(v,function(){var g=f.getCurrentPanel().id;g=c[g];var r=c[0];AJS.Editor.JiraAnalytics&&(AJS.Editor.JiraConnector.analyticPanelActionObject=AJS.Editor.JiraAnalytics.setupAnalyticPanelActionObject(g,l,m),r.customizedColumn&&AJS.Editor.JiraAnalytics.triggerCustomizeColumnEvent({columns:r.customizedColumn}));g.insertLink()},"insert-issue-button");k.disableElement(AJS.$(".insert-issue-button"));
f.addCancel(w,function(){AJS.Editor.JiraConnector.closePopup()});f.gotoPanel(0);if(AJS.Editor.JiraConnector.servers)for(b=0;b<AJS.Editor.JiraConnector.servers.length;b++){var n=AJS.Editor.JiraConnector.servers[b];AppLinks.makeRequest({appId:n.id,type:"GET",url:"/rest/api/2/field",dataType:"json",serverIndex:b,success:function(g){g&&g.length&&(AJS.Editor.JiraConnector.servers[this.serverIndex].columns=g)},error:function(){AJS.log("Jira Issues Macro: unable to retrieve fields from AppLink: "+n.id)}})}e("#jira-connector ul.dialog-page-menu").append(Confluence.Templates.ConfluenceJiraPlugin.addCrossMacroLink({id:"open-jira-chart-dialog",
label:"Jira Charts"}));e("#jira-connector .dialog-page-menu button").click(function(){var g=AJS.Editor.JiraConnector.Panels[f.getCurrentPanel().id];g.setInsertButtonState&&g.setInsertButtonState();g.focusForm&&g.focusForm()});e("#open-jira-chart-dialog").click(function(){AJS.Editor.JiraConnector.closePopup();AJS.Editor.JiraChart&&AJS.Editor.JiraChart.open()})}AJS.Editor.JiraConnector.Panels[0].refreshSearchForm();if(a){f.gotoPanel(1);var d=AJS.Editor.JiraConnector.Panels[1];
d.setSummary(a);setTimeout(function(){d.focusForm&&d.focusForm()},0)}else f.gotoPanel(0);f.overrideLastTab();f.show()},u=function(){AJS.Editor.JiraConnector.clickConfigApplink&&AJS.$.ajax({url:Confluence.getContextPath()+"/rest/jiraanywhere/1.0/servers",async:!1,success:function(a){AJS.Editor.JiraConnector.servers=a}});if("undefined"===typeof AJS.Editor.JiraConnector.servers||0===AJS.Editor.JiraConnector.servers.length)return AJS.Editor.JiraConnector.warningPopup(AJS.Meta.get("is-admin")),!1;AJS.Editor.JiraConnector.clickConfigApplink=
!1;AJS.Editor.JiraConnector.refreshAppLink&&(AJS.Editor.JiraConnector.refreshAppLink.call(),AJS.Editor.JiraConnector.refreshAppLink=!1);return!0};return{warningPopup:function(a){var c=new AJS.ConfluenceDialog({width:600,height:400,id:"warning-applink-dialog"}),b="Connect Confluence To Jira";c.addHeader(b);b=Confluence.Templates.ConfluenceJiraPlugin.warningDialog({isAdministrator:a});c.addPanel("Panel 1",b);c.get("panel:0").setPadding(0);a?(c.addButton("Set connection",
function(h){AJS.Editor.JiraConnector.clickConfigApplink=!0;h.hide();tinymce.confluence.macrobrowser.macroBrowserCancel();window.open(Confluence.getContextPath()+"/admin/listapplicationlinks.action").opener=null},"create-dialog-create-button app_link"),c.popup.element.find(".create-dialog-create-button").removeClass("button-panel-button").addClass("aui-button aui-button-primary")):c.addButton("Contact admin",function(h){h.hide();tinymce.confluence.macrobrowser.macroBrowserCancel();
window.open(Confluence.getContextPath()+"/wiki/contactadministrators.action").opener=null});c.addLink("Cancel",function(h){h.hide();tinymce.confluence.macrobrowser.macroBrowserCancel()});c.show();c.gotoPanel(0)},closePopup:function(){f.hide();tinymce.confluence.macrobrowser.macroBrowserCancel()},open:function(a,c){if(u()){AJS.Editor.Adapter.storeCurrentSelectionState();l=a;AJS.Editor.JiraAnalytics&&l&&(l===AJS.Editor.JiraConnector.source.instructionalText?
x():(m=null,AJS.Editor.JiraAnalytics.triggerPannelTriggerEvent({source:l})));a=tinymce.confluence.macrobrowser;var b=a.getCurrentNode();a.isMacroTag(b)&&"jira"==e(b).attr("data-macro-name")?a.editMacro(b):AJS.Editor.JiraConnector.openCleanDialog(c)}},openCleanDialog:function(a){a=a&&tinyMCE.activeEditor.selection&&tinyMCE.activeEditor.selection.getContent({format:"text"});t(a);AJS.Editor.JiraConnector.Panels[0].setMacroParams(null)},edit:function(a){if(u())if("undefined"==typeof a.params)AJS.Editor.JiraConnector.openCleanDialog(!1);
else{m=l="";var c={};if(a.params.url)c.searchStr=a.params.url;else{c.maximumIssues=a.params.maximumIssues;var b;if(!(b=a.defaultParameterValue))b:if(b=a.params,b.hasOwnProperty("jqlQuery"))b=b.jqlQuery;else{var h=/^([0-9]\d*)$/,n="count columns columnIds title renderMode cache width height server serverId anonymous baseurl showSummary".split(" ");for(d in b)if(-1==e.inArray(d,n)&&b.hasOwnProperty(d)){b=h.test(d)?b[d]:d+(" \x3d "+b[d]);break b}b=""}var d=b;c.searchStr="undefined"==typeof d?"":d;if("undefined"!=
typeof a.params.server)c.serverName=a.params.server;else for(d=0;d<AJS.Editor.JiraConnector.servers.length;d++)if(AJS.Editor.JiraConnector.servers[d].selected){c.serverName=AJS.Editor.JiraConnector.servers[d].name;break}c.columnIds=a.params.columnIds}d=a.params.count;"undefined"===typeof d&&(d="false");c.count=d;d=a.params.columns;"undefined"!=typeof d&&d.length&&(c.columns=d);a&&!AJS.Editor.inRichTextMode()&&e("#markupTextarea").selectionRange(a.startIndex,a.startIndex+a.markup.length);t();c.searchStr&&
(f.gotoPanel(0),d=AJS.Editor.JiraConnector.Panels[0],d.setMacroParams(c),a={searchValue:c.searchStr,serverName:c.serverName,isJqlQuery:a.params.hasOwnProperty("jqlQuery"),isAutoSearch:!0},d.doSearch(a))}},source:{macroBrowser:"macro_browser",editorBraceKey:"editor_brace_key",editorHotKey:"editor_hot_key",editorDropdownLink:"editor_dropdown_link",instructionalText:"instructional text"}}}(AJS.$);AJS.MacroBrowser.setMacroJsOverride("jira",{opener:AJS.Editor.JiraConnector.edit});
AJS.MacroBrowser.setMacroJsOverride("jiraissues",{opener:AJS.Editor.JiraConnector.edit});AJS.Editor.JiraConnector.Panels=[];AJS.Editor.JiraConnector.clickConfigApplink=!1;AJS.Editor.JiraConnector.hotKey=function(){AJS.Editor.JiraConnector.open(AJS.Editor.JiraConnector.source.editorHotKey,!0)};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = '/jira/panelhelper.js' */
(function(AJS){var FormStateControl=require("confluence/form-state-control");AJS.Editor.JiraConnector.Panel=function(){};AJS.Editor.JiraConnector.Panel.prototype={SHOW_MESSAGE_ON_TOP:false,insertIssueLink:function(key){this.insertIssueLinkWithParams({"key":key})},insertJqlLink:function(jql){this.insertIssueLinkWithParams({"jqlQuery":jql})},insertIssueLinkWithParams:function(params){var insertMacroAtSelectionFromMarkup=function(macro){tinymce.confluence.macrobrowser.macroBrowserComplete(macro)};params["server"]=
this.selectedServer.name;params["serverId"]=this.selectedServer.id;if(AJS.Editor.inRichTextMode())insertMacroAtSelectionFromMarkup({name:"jira","params":params});else{var markup="{jira:";for(var key in params)markup=markup+key+"\x3d"+params[key]+"|";if(markup.charAt(markup.length-1)=="|")markup=markup.substr(0,markup.length-1);var textArea=AJS.$("#markupTextarea");var selection=textArea.selectionRange();textArea.selectionRange(selection.start,selection.end);textArea.selection(markup);selection=textArea.selectionRange();
textArea.selectionRange(selection.end,selection.end)}if(AJS.Editor.JiraAnalytics&&AJS.Editor.JiraConnector.analyticPanelActionObject){AJS.Editor.JiraAnalytics.triggerPannelActionEvent(AJS.Editor.JiraConnector.analyticPanelActionObject);AJS.Editor.JiraConnector.analyticPanelActionObject=null}AJS.Editor.JiraConnector.closePopup()},disableInsert:function(){FormStateControl.disableElement(AJS.$(".insert-issue-button"))},isInsertDisabled:function(){return AJS.$(".insert-issue-button").is(":disabled")},
getOAuthRealm:function(xhr){var authHeader=xhr.getResponseHeader("WWW-Authenticate")||"";var realmRegEx=/OAuth realm="([^"]+)"/;var matches=realmRegEx.exec(authHeader);if(matches)return matches[1];else return null},enableInsert:function(){FormStateControl.enableElement(AJS.$(".insert-issue-button"))},handleInsertWaiting:function(isWaiting){var $insertButton=AJS.$(".insert-issue-button");return isWaiting?$insertButton.before(aui.icons.icon({icon:"wait"})):$insertButton.prev(".aui-icon.aui-icon-wait").remove()},
msg:function(container,messageObject,messageType){if(aui&&aui.message)try{var auiMessageContainer=AJS.$('\x3cdiv class\x3d"aui-message-container"/\x3e');var message=messageObject;if(messageObject.html)message=messageObject.html();var templateParameters={"content":message};var formattedMessage;switch(messageType){case "error":formattedMessage=aui.message.error(templateParameters);break;case "success":formattedMessage=aui.message.success(templateParameters);break;case "warning":formattedMessage=aui.message.warning(templateParameters);
break;default:formattedMessage=aui.message.info(templateParameters)}auiMessageContainer.append(formattedMessage);messageObject=auiMessageContainer}catch(e){if(AJS&&AJS.logError)AJS.logError("jira-connector",e)}container.append(messageObject)},errorMsg:function(container,messageObject){this.removeError(container);var errorBlock=this.SHOW_MESSAGE_ON_TOP?AJS.$('\x3cdiv class\x3d"jira-error"\x3e\x3c/div\x3e').prependTo(container):AJS.$('\x3cdiv class\x3d"jira-error"\x3e\x3c/div\x3e').appendTo(container);
this.msg(errorBlock,messageObject,"error")},warningMsg:function(container,messageObject){this.removeError(container);var warningBlock=this.SHOW_MESSAGE_ON_TOP?AJS.$('\x3cdiv class\x3d"jira-error"\x3e\x3c/div\x3e').prependTo(container):AJS.$('\x3cdiv class\x3d"jira-error"\x3e\x3c/div\x3e').appendTo(container);this.msg(warningBlock,messageObject,"warning")},noServerMsg:function(container,messageObject){var dataContainer=AJS.$('\x3cdiv class\x3d"data-table jiraSearchResults" \x3e\x3c/div\x3e').appendTo(container);
var messagePanel=this.SHOW_MESSAGE_ON_TOP?AJS.$('\x3cdiv class\x3d"message-panel"/\x3e').prependTo(dataContainer):AJS.$('\x3cdiv class\x3d"message-panel"/\x3e').appendTo(dataContainer);this.msg(messagePanel,messageObject,"info")},ajaxError:function(xhr,onOauthFail){if(xhr.status==401){var authUrl=this.getOAuthRealm(xhr);this.selectedServer.authUrl=authUrl;onOauthFail.call(this)}else this.errorMsg(this.container,"Received the following HTTP error code from the server"+": "+xhr.status)},removeError:function(container){AJS.$("div.jira-error",
container).remove()},setActionOnEnter:function(input,f,source){input.unbind("keydown").keydown(function(e){if(e.which==13){var keyup=function(e){input.unbind("keyup",keyup);f(source);e.stopPropagation();return false};input.keyup(keyup);e.stopPropagation();return false}})},createOauthForm:function(success){var server=this.selectedServer;var oauthCallbacks={onSuccess:function(){server.authUrl=null;success(server)},onFailure:function(){}};var oauthMessage='\x3ca class\x3d"oauth-init" href\x3d"javascript:void(0)"\x3e'+
"Login & Approve"+"\x3c/a\x3e "+"to retrieve data from"+" "+AJS.escapeHtml(this.selectedServer.name);var oauthForm=AJS.$('\x3cdiv class\x3d"jira-oauth-message-marker"/\x3e');if(!(aui&&aui.message))oauthForm.addClass("oauth-message");this.msg(oauthForm,oauthMessage,"info");AJS.$(".oauth-init",oauthForm).click(function(e){AppLinks.authenticateRemoteCredentials(server.authUrl,oauthCallbacks.onSuccess,oauthCallbacks.onFailure);e.preventDefault()});
return oauthForm},applinkServerSelect:function(container,onchange){var servers=AJS.Editor.JiraConnector.servers;AJS.$(servers).each(function(){var option="\x3coption ";if(this.selected){selectedServer=this;option+='selected\x3d"selected"'}option+='value\x3d"'+this.id+'"\x3e\x3c/option\x3e';option=AJS.$(option);option.text(this.name);AJS.$(container).append(option);option.data("jiraapplink",this)});AJS.$(container).change(function(e){var option=AJS.$("option:selected",container);var server=option.data("jiraapplink");
onchange(server)})},showSpinner:function(element,radius,centerWidth,centerHeight){AJS.$.data(element,"spinner",Raphael.spinner(element,radius,"#666"));if(centerWidth)AJS.$(element).css("marginLeft",-radius*1.2);if(centerHeight)AJS.$(element).css("marginTop",-radius*1.2)},hideSpinner:function(element){AJS.$(element).css("marginTop","");AJS.$(element).css("marginLeft","");var spinner=AJS.$.data(element,"spinner");if(spinner){spinner();delete spinner;AJS.$.data(element,"spinner",null)}},setSelectedIssue:function(issue){this.selectedIssue=
issue;this.enableInsert()},insertSelected:function(){if(this.selectedIssue)this.insertIssueLink(this.selectedIssue.key)},createIssueTableFromUrl:function(container,appId,url,selectHandler,enterHandler,noRowsHandler,onSuccess,onError,isShowCheckBox){AJS.$("div.data-table",container).remove();var dataContainer=AJS.$('\x3cdiv class\x3d"data-table jiraSearchResults" \x3e\x3c/div\x3e').appendTo(container);var spinnyContainer=AJS.$('\x3cdiv class\x3d"loading-data"\x3e\x3c/div\x3e').appendTo(dataContainer);
this.removeError(container);this.showSpinner(spinnyContainer[0],50,true,true);var thiz=this;this.currentXhr=AppLinks.makeRequest({appId:appId,type:"GET",url:url,dataType:"xml",success:function(data){spinnyContainer.remove();var issues=AJS.$("item",data);FormStateControl.enableElement(AJS.$(":disabled",container));if(issues.length){var table=AJS.$('\x3ctable class\x3d"my-result aui"\x3e\x3c/table\x3e');AJS.$(".jiraSearchResults",container).append(table);var columns=[];if(isShowCheckBox){var checkBoxColumn=
{className:"issue-checkbox-column",title:'\x3cinput type\x3d"checkbox" name\x3d"jira-issue-all" checked/\x3e',renderCell:function(td,issue){var issueCheckbox=Confluence.Templates.ConfluenceJiraPlugin.issueCheckbox({"issueKey":issue.key});AJS.$(issueCheckbox).appendTo(td)}};columns.push(checkBoxColumn)}var defaultColumns=[{className:"issue-key-column",title:"Key",renderCell:function(td,issue){var {rpcUrl,displayUrl}=thiz.selectedServer;var rebasedUrl=issue.iconUrl.replace(rpcUrl,
displayUrl);var issueKey=Confluence.Templates.ConfluenceJiraPlugin.issueKey({"issueIconUrl":rebasedUrl,"issueKey":issue.key});AJS.$(issueKey).appendTo(td)}},{className:"issue-summary-column",title:"Summary",renderCell:function(td,issue){td.text(issue.summary)}}];columns=columns.concat(defaultColumns);var dataTable=new AJS.DataTable(table,columns);AJS.$(issues).each(function(){var issue={iconUrl:AJS.$("type",this).attr("iconUrl"),key:AJS.$("key",this).text(),summary:AJS.$("summary",
this).text(),url:AJS.$("link",this).text()};dataTable.addRow(issue)});table.bind("row-action",function(e,data){enterHandler.call(thiz,data)});table.bind("row-select",function(e,data){selectHandler.call(thiz,data)});dataTable.selectRow(0);if(onSuccess){var totalIssues=AJS.$("issue",data).attr("total");onSuccess.call(thiz,totalIssues)}}else{if(noRowsHandler)noRowsHandler();var message="No search results found.";var messagePanel=AJS.$('\x3cdiv class\x3d"message-panel"/\x3e');
thiz.msg(messagePanel,message,"info");AJS.$(".jiraSearchResults",container).append(messagePanel)}},error:function(xhr){FormStateControl.enableElement(AJS.$(":disabled",container));spinnyContainer.remove();onError.call(thiz,xhr)}})},retrieveJson:function(appId,url,onSuccess,onError){AppLinks.makeRequest({appId:appId,type:"GET",url:url,dataType:"json",success:onSuccess,error:onError})}}})(AJS);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = '/jira/searchpanel.js' */
AJS.Editor.JiraConnector.Panel.Search=function(){this.jql_operators=/=|!=|~|>|<|!~| is | in /i};AJS.Editor.JiraConnector.Select2=AJS.Editor.JiraConnector.Select2||{};AJS.Editor.JiraConnector.Panel.Search.prototype=AJS.$.extend(AJS.Editor.JiraConnector.Panel.Search.prototype,AJS.Editor.JiraConnector.Panel.prototype);
AJS.Editor.JiraConnector.Panel.Search.prototype=AJS.$.extend(AJS.Editor.JiraConnector.Panel.Search.prototype,{defaultColumns:"key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution",defaultColumnIds:"issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution",aliases:[{id:"issuekey",clauseName:"key"},{id:"issuetype",clauseName:"type"},{id:"duedate",clauseName:"due"}],DEFAULT_MAX_ISSUES_VAL:20,MAXIMUM_MAX_ISSUES_VAL:1E3,MINIMUM_MAX_ISSUES_VAL:1,
title:function(){return "Search"},init:function(a){var c=require("confluence/form-state-control");a.html('\x3cdiv id\x3d"my-jira-search"\x3e\x3c/div\x3e');var b=this,d=AJS.$("#my-jira-search");this.container=d;var f=function(){d.children(":not(div.jira-search-form)").remove()},p=function(){c.enableElement(AJS.$("input.text,button",d))},n=function(){c.disableElement(AJS.$("input.text,button",d))},l=function(e){f();b.disableInsert();e&&(b.selectedServer=e);b.selectedServer.authUrl?
(n(),e=b.createOauthForm(function(){f();p()}),d.append(e)):(p(),AJS.$(".search-help").show())};this.authCheck=l;this.doSearch=function(e){var m=e&&e.searchValue,g=e&&e.serverName;m&&AJS.$("input:text",d).val(m);if(g&&g!=this.selectedServer.name){for(var q=AJS.Editor.JiraConnector.servers,t=!1,r=0;r<q.length;r++)if(q[r].name==g){AJS.$('option[value\x3d"'+q[r].id+'"]',d).prop("selected",!0);AJS.$("select",d).change();t=!0;break}if(!t){k(AJS.Meta.get("is-admin"));return}}this.currentXhr&&4!=this.currentXhr.readyState||
(g=m||AJS.$("input",d).val(),AJS.Editor.JiraAnalytics&&(m=AJS.JQLHelper.checkQueryType(g))&&AJS.Editor.JiraAnalytics.triggerSearchEvent({type:m,source:"dialog"}),m=function(w,v,x){v=d.find("#jiraIssueColumnSelector");var y=v.val()&&v.val();c.disableElement(AJS.$("select",d));n();b.lastSearch=w;b.createIssueTableFromUrl(d,b.selectedServer.id,"/sr/jira.issueviews:searchrequest-xml/temp/SearchRequest.xml?jqlQuery\x3d"+encodeURIComponent(w)+"\x26returnMax\x3dtrue\x26tempMax\x3d20\x26field\x3dsummary\x26field\x3dtype\x26field\x3dlink",
b.selectHandler,b.insertLinkFromForm,function(){b.addDisplayOptionPanel();b.loadMacroParams(y);b.bindEventToDisplayOptionPanel(!0,e);b.enableInsert()},function(u){b.addDisplayOptionPanel();b.loadMacroParams(y);b.bindEventToDisplayOptionPanel(!1,e);b.updateTotalIssuesDisplay(u);b.checkAutoSelectColumns();e&&e.isAutoSearch&&b.focusForm()},function(u){b.disableInsert();400==u.status?x?x():(AJS.$("div.data-table",d).remove(),b.warningMsg(d,AJS.format("The Jira server didn\u0027\u0027t understand your search query. If you entered JQL, please ensure that it\u0027\u0027s correctly formed. If you entered an issue key, ensure that it exists and you have permission to view it. {0}",Confluence.Templates.ConfluenceJiraPlugin.learnMore()))):
(AJS.$("div.data-table",d).remove(),b.ajaxError(u,l));e&&e.isAutoSearch&&b.focusForm()},!0)},AJS.JQLHelper.isFilterUrl(g)?(g=decodeURIComponent(g),q=AJS.JQLHelper.findServerIndexFromUrl(g,AJS.Editor.JiraConnector.servers),-1!=q?(AJS.$('option[value\x3d"'+AJS.Editor.JiraConnector.servers[q].id+'"]',d).prop("selected",!0),AJS.$("select",d).change(),(g=AJS.JQLHelper.getFilterFromFilterUrl(g))?(AJS.$("input",d).val(g),m(g)):(f(),b.warningMsg(d,AJS.format("The Jira server didn\u0027\u0027t understand your search query. If you entered JQL, please ensure that it\u0027\u0027s correctly formed. If you entered an issue key, ensure that it exists and you have permission to view it. {0}",Confluence.Templates.ConfluenceJiraPlugin.learnMore())))):
(f(),b.disableInsert(),k(AJS.Meta.get("is-admin")))):AJS.JQLHelper.isIssueUrlOrXmlUrl(g)?(g=decodeURIComponent(g),g=AJS.JQLHelper.getJqlAndServerIndexFromUrl(g,AJS.Editor.JiraConnector.servers),h(g)&&(AJS.$("input",d).val(g.jqlQuery),m(g.jqlQuery,!1,null))):g.match(b.jql_operators)?m(g,!1,null):AJS.JQLHelper.isSingleKeyJQLExp(g)?m("key \x3d "+g,!0):AJS.JQLHelper.isMultipleSingleKeyJQLExp(g)?m("key in ("+g+")",!0):m('summary ~ "'+g+'" OR description ~ "'+g+'"',!1,null))};b.addSearchForm();var h=function(e){if(-1!=
e.serverIndex)if(AJS.$('option[value\x3d"'+AJS.Editor.JiraConnector.servers[e.serverIndex].id+'"]',d).prop("selected",!0),AJS.$("select",d).change(),0==e.jqlQuery.length)f(),b.errorMsg(d,"The Jira server didn\u0027t understand your search query. If you entered JQL, please ensure that it\u0027s correctly formed. If you entered an issue key, ensure that it exists and you have permission to view it. {0}");else var m=e.jqlQuery;else f(),b.disableInsert(),k(AJS.Meta.get("is-admin"));return m};b.processJiraParams=h;var k=function(e){e=Confluence.Templates.ConfluenceJiraPlugin.showMessageNoServer({isAdministrator:e,contextPath:Confluence.getContextPath()});b.noServerMsg(d,
e);AJS.$("#open_applinks").bind("click",function(){AJS.Editor.JiraConnector.clickConfigApplink=!0;AJS.Editor.JiraConnector.refreshAppLink=function(){b.refreshSearchForm()}})};b.bindPasteEvent();AJS.$(a).select(function(){b.validate()});$(document).tooltip({live:".jql-display-opts-open.disabled",title:function(){return AJS.$(".jql-display-opts-open.disabled").data("title")},gravity:"s",delayIn:300,delayOut:0})},focusForm:function(){AJS.$('input[name\x3d"jiraSearch"]',this.container).focus()},addSearchForm:function(){var a=
this;a.container.empty();var c=AJS.Editor.JiraConnector.servers;a.selectedServer=c[0];var b=!1;1<c.length&&(b=!0);b=Confluence.Templates.ConfluenceJiraPlugin.searchForm({isMultiServer:b});b=AJS.$(b).appendTo(a.container);1<c.length&&(c=AJS.$('\x3cselect class\x3d"select" tabindex\x3d"0"\x3e\x3c/select\x3e').insertAfter("div.search-input",b),a.applinkServerSelect(c,a.authCheck));a.authCheck(a.selectedServer);AJS.$("button",a.container).click(function(){a.doSearch()});a.setActionOnEnter(AJS.$("input.text",
a.container),a.doSearch)},bindPasteEvent:function(){var a=this;AJS.$("#my-jira-search input:text").bind("paste",function(){var c=this;setTimeout(function(){var b=AJS.$(c).val();AJS.JQLHelper.isFilterUrl(b)?a.doSearch():AJS.JQLHelper.isIssueUrlOrXmlUrl(b)&&(b=decodeURIComponent(b),b=AJS.JQLHelper.getJqlAndServerIndexFromUrl(b,AJS.Editor.JiraConnector.servers),a.processJiraParams(b)&&(AJS.$(c).val(b.jqlQuery),a.doSearch()))},100)})},refreshSearchForm:function(){this.container.empty();this.addSearchForm();
this.bindPasteEvent()},validate:function(a,c){var b=this.container,d=AJS.$("input:checkbox[name\x3djira-issue]",b),f=AJS.Editor.JiraConnector.Panel.Search.prototype;d.length||a?(b=AJS.$("input:checkbox[name\x3djira-issue]:checked",b).length,0<b||a?f.enableInsert():f.disableInsert(),f.changeInsertOptionStatus(b,a,c)):(AJS.$(".jira-oauth-message-marker",b).length&&f.authCheck(this.selectedServer),AJS.$("input",b).focus(),f.disableInsert());f.isInsertDisabled()||f.validateMaxIssues()},isValidMaxIssues:function(a){return AJS.$.isNumeric(a)&&
this.MINIMUM_MAX_ISSUES_VAL<=a&&a<=this.MAXIMUM_MAX_ISSUES_VAL},validateMaxIssues:function(a){function c(){b.next("#jira-max-number-error").remove()}var b=AJS.$("#jira-maximum-issues");switch(AJS.$("input:radio[name\x3dinsert-advanced]:checked").val()){case "insert-single":case "insert-count":c();b.prop("disabled",!0);break;case "insert-table":var d=AJS.Editor.JiraConnector.Panel.Search.prototype;b.prop("disabled",!1);var f=b.val();if(""===AJS.$.trim(f)){if(a&&"keyup"===a.type){c();break}if(a&&"blur"===
a.type){f=d.MAXIMUM_MAX_ISSUES_VAL;b.val(f);break}}d.isValidMaxIssues(f)?(c(),d.enableInsert()):(c(),b.after(Confluence.Templates.ConfluenceJiraPlugin.warningValMaxiumIssues()),d.disableInsert())}},customizedColumn:null,checkAndSetDefaultValueMaximumIssues:function(a){if(a){var c=a.element||AJS.$("#jira-maximum-issues");a=a.defaultVal||this.MAXIMUM_MAX_ISSUES_VAL;""===AJS.$.trim(c.val())&&c.val(a)}else AJS.log("Cannot set default value for Maximum Issues")},setMacroParams:function(a){this.macroParams=
a},getMacroParamsFromUserInput:function(){var a=this,c="insert-count"==AJS.$("input:radio[name\x3dinsert-advanced]:checked").val(),b=[],d=[],f=[],p=[],n=[],l={};AJS.$("#my-jira-search .my-result.aui input:checkbox[name\x3djira-issue]").each(function(h){h=AJS.$(this);h.is(":checked")?d[d.length]=h.val():f[f.length]=h.val()});if(c)l.count="true";else{if(!AJS.Editor.JiraConnector.Panel.Search.jiraColumnSelectBox){l.columns=this.defaultColumns;l.columnIds=this.defaultColumnIds;return}b=AJS.Editor.JiraConnector.Panel.Search.jiraColumnSelectBox.select2("data");
b.length?(l.columns=b.map(function(h){return a.selectedServer.columns.find(function(k){return k.id===h.id}).custom?h.text.replace(/%/g,encodeURIComponent("%")).replace(/,/g,encodeURIComponent(",")).replace(/;/g,encodeURIComponent(";")):h.id}).map(function(h){var k=a.aliases.find(function(e){return e.id===h});return k?k.clauseName:h}).join(","),l.columnIds=b.map(function(h){return h.id}).join(","),(p=a.selectedServer.columns.find(function(h){return h.clauseNames.find(function(k){k=k.toLowerCase();
return"epic link"===k||"gh.epic.link.name"===k})}))&&!b.some(function(h){return h.id===p.id})&&(n=a.selectedServer.columns.filter(function(h){return h.clauseNames.find(function(k){k=k.toLowerCase();return"epic name"===k||"gh.epic.label.name"===k||"epic colour"===k||"gh.epic.color.name"===k||"epic status"===k||"gh.epic.status.name"===k})}),b.some(function(h){return n.some(function(k){return k.id===h.id})})&&(l.epicLinkId=p.id))):(l.columns=this.defaultColumns,l.columnIds=this.defaultColumnIds)}c=AJS.$("input:radio[name\x3dinsert-advanced]:checked").val();
"insert-single"===c?l.key=d.toString():l.jqlQuery=0==f.length?this.lastSearch+" ":1==d.length?"key \x3d "+d.toString():"key in ("+d.toString()+")";"insert-table"===c&&(l.maximumIssues=AJS.$("#jira-maximum-issues").val());return l},insertLinkFromForm:function(){var a=this.container;AJS.$("input:checkbox[name\x3djira-issue]",a).length&&0<AJS.$("input:checkbox[name\x3djira-issue]:checked",a).length&&this.insertLink()},insertLink:function(a){a=a&&"function"===typeof a.insertIssueLinkWithParams?a:this;
var c=a.getMacroParamsFromUserInput();a.insertIssueLinkWithParams(c);return!0},loadMacroParams:function(a){var c=this.macroParams;c?(c.maximumIssues||AJS.$("#jira-maximum-issues").prop("disabled",!0),"true"==c.count?AJS.$("#opt-total").prop("checked",!0):(AJS.$("#opt-table").prop("checked",!0),AJS.$("#jira-maximum-issues").prop("disabled",!1),this.checkAndSetDefaultValueMaximumIssues({defaultVal:c.maximumIssues||this.DEFAULT_MAX_ISSUES_VAL}))):this.checkAndSetDefaultValueMaximumIssues({defaultVal:20});
this.prepareColumnSelect(a)},selectHandler:function(){var a=this.container.find("tr.selected");a.length&&a.unbind("keydown.space").bind("keydown.space",function(c){32!=c.which&&32!=c.keyCode||a.find("[type\x3dcheckbox]").trigger("click")})},addDisplayOptionPanel:function(){var a=Confluence.Templates.ConfluenceJiraPlugin.displayOptsOverlayHtml;AJS.$(".jiraSearchResults").after(a());AJS.$("#jiraMacroDlg").unbind("submit").on("submit",function(c){return!1})},updateTotalIssuesDisplay:function(a){var c=
this.selectedServer.url+"/issues/?jql\x3d"+this.lastSearch;20<a&&AJS.$(".my-result.aui").after(Confluence.Templates.ConfluenceJiraPlugin.viewAll({jiraIssuesLink:c}));a=AJS.format("{0} issues",a);AJS.$(".total-issues-text").html(a);AJS.$(".total-issues-link").attr("href",c)},prepareColumnSelect:function(a){var c=this,b=!(this.macroParams&&!this.macroParams.columnIds),d=a||this.macroParams&&this.macroParams.columnIds&&this.macroParams.columnIds.split(",")||this.macroParams&&
this.macroParams.columns&&this.macroParams.columns.toLowerCase().split(",")||this.defaultColumnIds.split(","),f=this.selectedServer,p=function(n){var l=AJS.$("#jiraIssueColumnSelector"),h="",k="";n.filter(function(e){return e.navigable}).sort(function(e,m){var g=d.map(function(q){var t=c.aliases.find(function(r){return r.clauseName===q});return t?t.id:q});return g.indexOf(b||!e.custom?e.id:e.name.toLowerCase())-g.indexOf(b||!m.custom?m.id:m.name.toLowerCase())}).forEach(function(e){d.find(function(m){return b?
m===e.id:e.clauseNames.includes(m)||m===e.name.toLowerCase()})?k+=AJS.template('\x3coption selected\x3d"true" value\x3d"{fieldId}"\x3e{fieldName}\x3c/option\x3e').fill({fieldId:e.id,fieldName:e.name}):h+=AJS.template('\x3coption value\x3d"{fieldId}"\x3e{fieldName}\x3c/option\x3e').fill({fieldId:e.id,fieldName:e.name})});l.hide();l.html(k+h);l.show();l.auiSelect2({width:"415px",containerCssClass:"select2-container-jira-issue-columns"});AJS.Editor.JiraConnector.Panel.Search.jiraColumnSelectBox=l};f.columns&&
0<f.columns.length?p(f.columns):this.retrieveJson(f.id,"/rest/api/2/field",function(n){n&&n.length&&(f.columns=n,p(f.columns))})},expandDisplayOptPanel:function(){var a=AJS.$(".jql-display-opts-overlay"),c=a.height();a.css("top","");a.css("bottom",-(c-40)+"px");a.animate({bottom:0},500)},minimizeDisplayOptPanel:function(){var a=AJS.$(".jql-display-opts-overlay");a.css("top",a.position().top+"px");a.css("bottom","");a.animate({top:414},500)},disableAutoSelectColumns:function(){AJS.Editor.JiraConnector.Panel.Search.jiraColumnSelectBox.auiSelect2("enable",
!1)},enableAutoSelectColumns:function(){AJS.Editor.JiraConnector.Panel.Search.jiraColumnSelectBox.auiSelect2("enable",!0)},checkAutoSelectColumns:function(){AJS.$("#opt-table").prop("checked")?this.enableAutoSelectColumns():(this.disableAutoSelectColumns(),this.enableInsert())},bindEventToDisplayOptionPanel:function(a,c){var b=this,d=AJS.$(".jql-display-opts-close, .jql-display-opts-open"),f=AJS.$(".jql-display-opts-overlay"),p=AJS.$(".jql-display-opts-inner .radio"),n=AJS.$("#my-jira-search input:checkbox[name\x3djira-issue-all]"),
l=AJS.$("#my-jira-search input:checkbox[name\x3djira-issue]");AJS.$("#jira-maximum-issues").on("blur keyup",AJS.Editor.JiraConnector.Panel.Search.prototype.validateMaxIssues);f.css("top","414px");d.click(function(h){h.preventDefault();AJS.$(this).hasClass("disabled")||(AJS.$(this).hasClass("jql-display-opts-open")?(b.expandDisplayOptPanel(),jQuery(this).addClass("jql-display-opts-close"),jQuery(this).removeClass("jql-display-opts-open")):(b.minimizeDisplayOptPanel(),jQuery(this).removeClass("jql-display-opts-close"),
jQuery(this).addClass("jql-display-opts-open")))});p.change(function(){b.checkAutoSelectColumns();b.validateMaxIssues()});n.bind("click",function(){AJS.$(this).prop("checked")?l.prop("checked","checked"):l.prop("checked",!1);b.validate()});l.change(function(){0<AJS.$("#my-jira-search input:checkbox[name\x3djira-issue]:not(:checked)").length?n.prop("checked",!1):n.prop("checked","checked");b.validate()});b.validate(a,c)},changeInsertOptionStatus:function(a,c,b){var d=AJS.$("#opt-single"),f=AJS.$("#opt-total"),
p=AJS.$("#opt-table"),n=AJS.$("#my-jira-search input:checkbox[name\x3djira-issue]:checked");a=!0===AJS.$("#my-jira-search input:checkbox[name\x3djira-issue-all]").prop("checked");var l=1===n.length,h=1<n.length;n=0===n.length;var k=AJS.JQLHelper.isSingleKeyJQLExp(AJS.$("#my-jira-search input[name\x3djiraSearch]").val()),e=function(){b&&b.isJqlQuery?p.click():d.click()},m=function(){f.prop("disabled",!0);p.prop("disabled",!1);d.prop("disabled",!1);e();setTimeout(function(){e()},100)},g=function(){d.prop("disabled",
!0);f.prop("disabled",!1);"insert-single"===AJS.$("input[name\x3dinsert-advanced]:checked").val()&&setTimeout(function(){p.prop("disabled",!1).click()},100)},q=function(){p.prop("disabled",!1);f.prop("disabled",!1);d.prop("disabled",!1);"insert-single"===AJS.$("input:radio[name\x3dinsert-advanced]:checked").val()&&setTimeout(function(){p.click()},100)};AJS.$(".jql-display-opts-open").removeClass("disabled");d.prop("disabled",!1);f.prop("disabled",!1);p.prop("disabled",!1);a&&l&&k?m():a&&l&&!k?q():
h?g():l&&!a?m():c?g():n&&(d.prop("disabled",!0),f.prop("disabled",!0),p.prop("disabled",!0),AJS.$(".jql-display-opts-close").click(),AJS.$(".jql-display-opts-open").addClass("disabled"))},isInsertTableType:function(){return"insert-table"===AJS.$("input:radio[name\x3dinsert-advanced]:checked").val()},setInsertButtonState:function(){var a=AJS.$(".jql-display-opts-close, .jql-display-opts-open"),c=AJS.$("#jira-maximum-issues");!a.length||a.length&&this.isInsertTableType()&&!this.isValidMaxIssues(c.val())?
this.disableInsert():this.enableInsert()},analyticPanelActionName:"confluence.jira.plugin.searchadded"});AJS.Editor.JiraConnector.Panels.push(new AJS.Editor.JiraConnector.Panel.Search);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = '/jira/jip_createissuepanel.js' */
AJS.Editor.JiraConnector.Panel.Create=function(){};AJS.Editor.JiraConnector.Panel.Create.prototype=AJS.$.extend(AJS.Editor.JiraConnector.Panel.Create.prototype,AJS.Editor.JiraConnector.Panel.prototype);
AJS.Editor.JiraConnector.Panel.Create.prototype=AJS.$.extend(AJS.Editor.JiraConnector.Panel.Create.prototype,{DEFAULT_PROJECT_VALUE:"-1",SHOW_MESSAGE_ON_TOP:!0,EXCLUDED_FIELDS:["project","issuetype","summary","description"],PROJECTS_META:{},setSummary:function(a){var b=AJS.$('.field-group [name\x3d"summary"]',this.jipForm.formEl);b.length&&b.val(a)},resetIssue:function(){AJS.$(".issue-summary",this.container).empty();AJS.$(".issue-description",this.container).empty()},focusForm:function(){var a=AJS.$("select.server-select",
this.container);a.length?a.focus():(a=AJS.$(".project-select",this.container),a.length&&a.focus())},authCheck:function(){this.selectedServer=this.jipForm.getCurrentServer();this.selectedServer.authUrl?this.showOauthChallenge():this.serverSelect()},ajaxAuthCheck:function(a){var b=this;this.endLoading();this.ajaxError(a,function(){b.authCheck(b.jipForm.getCurrentServer())})},showOauthChallenge:function(){AJS.$("div.field-group",this.container).not(".servers").hide();AJS.$(".jira-oauth-message-marker",
this.container).remove();var a=this,b=this.createOauthForm(function(){a.serverSelect()});this.container.append(b)},projectOk:function(){var a=AJS.$(".project-select option:selected",this.container).val();return a&&a.length&&a!=this.DEFAULT_PROJECT_VALUE},setInsertButtonState:function(){if(!1===this.formHasError&&this.projectOk())return this.enableInsert(),!0;this.disableInsert();return!1},startLoading:function(){var a=require("confluence/form-state-control");this.removeError(this.container);AJS.$(".loading-blanket",
this.container).removeClass("hidden");a.disableElement(AJS.$("input,select,textarea",this.container));this.disableInsert();this.handleInsertWaiting(!0)},endLoading:function(){var a=require("confluence/form-state-control");AJS.$(".loading-blanket",this.container).addClass("hidden");a.enableElement(AJS.$("input,select,textarea",this.container));AJS.$(".project-select",this.container).val()===this.DEFAULT_PROJECT_VALUE&&a.disableElement(AJS.$(".issuetype-select",this.container));this.setInsertButtonState();
this.handleInsertWaiting(!1)},bindEvent:function(){var a=this;AJS.$('.field-group [name\x3d"summary"]',this.jipForm.formEl).keyup(function(){a.setInsertButtonState()});this.container.on("focus","input[data-aui-dp-uuid]",function(){var b=AJS.$(this).attr("data-aui-dp-uuid");setTimeout(function(){AJS.$("[data-aui-dp-popup-uuid\x3d"+b+"]").parents(".aui-inline-dialog").addClass("datepicker-patch")},0)})},title:function(){return "Create New Issue"},init:function(a){var b=this;
a.html('\x3cdiv class\x3d"create-issue-container"\x3e\x3c/div\x3e');this.container=AJS.$("div.create-issue-container");this.selectedServer=AJS.Editor.JiraConnector.servers[0];this.jipForm=new (require("jira-integration-plugin/jira-create-issue-form"))({container:".create-issue-container",renderSummaryAndDescription:!0,onError:function(){AJS.$(".field-group .error",this.container).remove();b.formHasError=!0;b.disableInsert()},onServerChanged:function(){AJS.$(".field-group .error",this.container).remove();
b.setInsertButtonState();b.selectedServer=this.getCurrentServer()},onRequiredFieldsRendered:function(f,d){AJS.$(".field-group .error",this.container).remove();b.formHasError=!!d.length;b.setInsertButtonState()},ajax:AJS.$.ajax});a.onselect=function(){b.onselect()};this.bindEvent()},convertFormToJSON:function(a){const b=require("jira-integration-plugin/fields");if(!b)return AJS.logError("Jira integration plugin is missing!"),"";var f={issues:[]},d={};d.fields={project:{id:AJS.$(".project-select option:selected",
a).val()},issuetype:{id:AJS.$(".issuetype-select option:selected",a).val()},summary:AJS.$('.field-group [name\x3d"summary"]',a).val(),description:AJS.$('.field-group [name\x3d"description"]',a).val()};a.children(".create-issue-required-fields").children(".jira-field").children("input,select,textarea").not(".select2-input").each(function(c,e){c=AJS.$(e);d.fields[c.attr("name")]=b.getJSON(c)});a.children(".create-issue-required-fields").children("fieldset.jira-field").each(function(c,e){c=AJS.$(e);
d.fields[c.attr("name")]=b.getJSON(c)});f.issues.push(d);return JSON.stringify(f)},validateRequiredFieldInForm:function(a){var b=!0,f="placeholder"in document.createElement("input");a.find(".field-group .icon-required, .field-group .aui-icon-required").each(function(d,c){c=AJS.$(c).parent();d=c.text();var e=c.nextAll("input,select,textarea"),g=AJS.$.trim(e.val());if(!g||!f&&g==e.attr("placeholder"))b=!1,c=c.parent(),d=AJS.format("{0} is required",d),c.append(aui.form.fieldError({message:d}))});
return b},clearFieldErrors:function(){AJS.$("form div.error",this.container).remove()},insertLink:function(){var a=this,b=Confluence.getContextPath()+"/rest/jira-integration/1.0/issues",f=AJS.$("div.create-issue-container form"),d=this.jipForm.getCurrentServer();a.clearFieldErrors();a.validateRequiredFieldInForm(f)&&(this.startLoading(),AJS.$.ajax({type:"POST",contentType:"application/json",url:b+"?applicationId\x3d"+this.selectedServer.id,data:this.convertFormToJSON(f),success:function(c){var e=
c&&c.issues&&c.issues[0]&&c.issues[0].issue&&c.issues[0].issue.key;e?(a.insertIssueLink(e,d.displayUrl+"/browse/"+e),a.resetIssue()):(_.isEmpty(c.errors[0].elementErrors.errorMessages)||(e=Confluence.Templates.ConfluenceJiraPlugin.renderCreateErrorPanel({errors:c.errors[0].elementErrors.errorMessages,serverUrl:d.displayUrl}),a.errorMsg(AJS.$("div.create-issue-container"),e)),_.each(c.errors[0].elementErrors.errors,function(g,h){g=aui.form.fieldError({message:g});AJS.$(AJS.format(".field-group [name\x3d{0}]",
h),f).after(g)}));a.endLoading()},error:function(c,e){a.ajaxAuthCheck(c)}}))},onselect:function(){var a=!!AJS.$(".aui-message \x3e .oauth-init",this.container).length;this.selectedServer&&!this.selectedServer.authUrl&&a?this.jipForm.defaultFields.server.trigger("change"):this.setInsertButtonState()},analyticPanelActionName:"confluence.jira.plugin.issuecreated"});AJS.Editor.JiraConnector.Panels.push(new AJS.Editor.JiraConnector.Panel.Create);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = '/jira/recentlyviewedpanel.js' */
AJS.Editor.JiraConnector.Panel.Recent=function(){};AJS.Editor.JiraConnector.Panel.Recent.prototype=AJS.$.extend(AJS.Editor.JiraConnector.Panel.Recent.prototype,AJS.Editor.JiraConnector.Panel.prototype);
AJS.Editor.JiraConnector.Panel.Recent.prototype=AJS.$.extend(AJS.Editor.JiraConnector.Panel.Recent.prototype,{title:function(){return "Recently Viewed"},init:function(d){var a=AJS.Editor.JiraConnector.servers;d.html('\x3cdiv id\x3d"my-recent-issues" '+(1<a.length?'class\x3d"multi-server" ':"")+"\x3e\x3c/div\x3e");var b=this;this.selectedServer=a[0];1<a.length&&(a=AJS.$('\x3cdiv class\x3d"jira-server-select"\x3e\x3cform action\x3d"#" method\x3d"post" class\x3d"aui"\x3e\x3cdiv class\x3d"field-group"\x3e\x3clabel\x3eServer\x3c/label\x3e\x3cselect class\x3d"select" \x3e\x3c/select\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e').appendTo("div#my-recent-issues"),
this.applinkServerSelect(AJS.$(".select",a),function(e){b.selectedServer=e;b.onselect()}));d.onselect=function(){b.onselect()}},insertLink:function(){this.insertSelected()},onselect:function(){var d=require("confluence/form-state-control"),a=this,b=AJS.$("div#my-recent-issues");this.container=b;var e=function(){b.children().not(".jira-server-select").remove()},g=function(){if(a.selectedServer.authUrl){e();var c=a.createOauthForm(function(){f()});b.append(c)}else f()};var f=function(){if(!a.currentXhr||
4==a.currentXhr.readyState){var c=AJS.$(".select",b);d.disableElement(c);e();a.createIssueTableFromUrl(b,a.selectedServer.id,"/sr/jira.issueviews:searchrequest-xml/temp/SearchRequest.xml?jqlQuery\x3dkey+in+issueHistory()+ORDER+BY+lastViewed+DESC\x26field\x3dsummary\x26field\x3dtype\x26field\x3dlink\x26tempMax\x3d50\x26returnMax\x3dtrue",a.setSelectedIssue,a.insertLink,a.disableInsert,function(){c.length&&c.focus()},function(h){AJS.$("div.data-table",b).remove();a.ajaxError(h,g)},!1)}};g()},analyticPanelActionName:"confluence.jira.plugin.recentlyviewadded"});
AJS.Editor.JiraConnector.Panels.push(new AJS.Editor.JiraConnector.Panel.Recent);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = 'templates/soy/dialog.soy' */
// This file was automatically generated from dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.ConfluenceJiraPlugin.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.ConfluenceJiraPlugin == 'undefined') { Confluence.Templates.ConfluenceJiraPlugin = {}; }


Confluence.Templates.ConfluenceJiraPlugin.displayOptsHtml = function(opt_data, opt_ignored) {
  return '<div class=\'jql-display-opts-bar data-table\'><a href="javascript:void(0)" class=\'jql-display-opts-open\' data-title="' + soy.$$escapeHtml('Display options panel is not available without a selection.') + '"><span></span><strong>' + soy.$$escapeHtml('Display options') + '</strong></a></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.displayOptsHtml.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.displayOptsHtml';
}


Confluence.Templates.ConfluenceJiraPlugin.displayOptsOverlayHtml = function(opt_data, opt_ignored) {
  return '<div class=\'jql-display-opts-overlay data-table\' data-js="display-option-wrapper"><form id="jiraMacroDlg" class="aui" action="#"><div class=\'jql-display-opts-inner\'><a href="javascript:void(0)" class=\'jql-display-opts-open\' data-js="display-option-trigger" data-title="' + soy.$$escapeHtml('Display options panel is not available without a selection.') + '"><span></span><strong>' + soy.$$escapeHtml('Display options') + '</strong></a><fieldset class="group"><legend><span>' + soy.$$escapeHtml('Display as') + '</span></legend><div class="radio"><input type=\'radio\' class=\'radio\' name=\'insert-advanced\' id=\'opt-single\' value=\'insert-single\'><label for=\'opt-single\'>' + soy.$$escapeHtml('Single issue') + '</label><div class=\'description\'>' + soy.$$escapeHtml('Display the macro as a single issue.') + '</div></div><div class="radio"><input type=\'radio\' class=\'radio\' name=\'insert-advanced\' id=\'opt-total\' value=\'insert-count\'><label for=\'opt-total\'>' + soy.$$escapeHtml('Total issue count') + '</label><div class=\'description\'>' + soy.$$escapeHtml('Display total number of issues as a link. E.g.') + '<a class=\'total-issues-link\' target=\'_blank\' href=\'#\'><span class=\'total-issues-text\'>' + soy.$$escapeHtml(AJS.format('{0} issues',12)) + '</span></a></div></div><div class="radio"><input type=\'radio\' class=\'radio\' checked=\'checked\' name=\'insert-advanced\' id=\'opt-table\' value=\'insert-table\'><label for=\'opt-table\'>' + soy.$$escapeHtml('Table') + '</label><div class=\'description\'>' + soy.$$escapeHtml('Customize your columns below.') + '</div></div></fieldset><fieldset><div class="field-group"><label>' + soy.$$escapeHtml('Maximum issues') + '</label><input type="text" name="jira-maximum-issues" id="jira-maximum-issues" class="text short-field" /><div class="description">' + soy.$$escapeHtml('Leave empty to get all issues.') + '</div></div></fieldset><fieldset><div class="field-group"><label>' + soy.$$escapeHtml('Columns to display') + '</label><select id="jiraIssueColumnSelector" data-placeholder="' + soy.$$escapeHtml('Start typing to see possible columns') + '" multiple="true" class="select long-field"></select></div></fieldset></div></form></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.displayOptsOverlayHtml.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.displayOptsOverlayHtml';
}


Confluence.Templates.ConfluenceJiraPlugin.searchForm = function(opt_data, opt_ignored) {
  return '<div class=\'jira-search-form\'><form class=\'aui\'><fieldset class=\'inline\'>' + ((opt_data.isMultiServer == true) ? '<div class=\'search-input\'><input type=\'text\' class=\'text search-text\' name=\'jiraSearch\' placeholder="' + soy.$$escapeHtml('e.g. filter \x3d \x22My Jira filter\x22') + '"/></div>' : '<div class=\'search-input one-server\'><input type=\'text\' class=\'text one-server long-field\' name=\'jiraSearch\' placeholder="' + soy.$$escapeHtml('e.g. filter \x3d \x22My Jira filter\x22') + '"/></div>') + '<button type=\'button\' title="' + soy.$$escapeHtml('Search') + '" class=\'button\'><span class="aui-icon aui-icon-small aui-iconfont-search"></span></button></fieldset><div class=\'search-help\'>' + soy.$$escapeHtml('Search using any issue key, search URL, Jira link, JQL, plain text or filter') + '</div></form></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.searchForm.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.searchForm';
}


Confluence.Templates.ConfluenceJiraPlugin.warningDialog = function(opt_data, opt_ignored) {
  return '<div class=\'warning-body\'><p>' + soy.$$escapeHtml('If you connect Confluence to Jira you can easily link issues...') + '</p>' + ((opt_data.isAdministrator == false) ? '<p>' + soy.$$escapeHtml('Your administrator can set this up.') + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.warningDialog.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.warningDialog';
}


Confluence.Templates.ConfluenceJiraPlugin.issueCheckbox = function(opt_data, opt_ignored) {
  return '<input type=\'checkbox\' name=\'jira-issue\' value=\'' + soy.$$escapeHtml(opt_data.issueKey) + '\' checked/>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.issueCheckbox.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.issueCheckbox';
}


Confluence.Templates.ConfluenceJiraPlugin.issueKey = function(opt_data, opt_ignored) {
  return '<span><img class="icon" src="' + soy.$$escapeHtml(opt_data.issueIconUrl) + '"/> ' + soy.$$escapeHtml(opt_data.issueKey) + '</span>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.issueKey.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.issueKey';
}


Confluence.Templates.ConfluenceJiraPlugin.showMessageNoServer = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isAdministrator == true) ? soy.$$escapeHtml('No server found match with your URL.') + '<a id="open_applinks" target="_blank" href="' + soy.$$escapeHtml(opt_data.contextPath) + '/admin/listapplicationlinks.action">' + soy.$$escapeHtml('Click here to set this up') + '</a>' : soy.$$escapeHtml('No server found match with your URL. Your administrator can set this up.') + '<a id="open_applinks" target="_blank" href="' + soy.$$escapeHtml(opt_data.contextPath) + '/wiki/contactadministrators.action">' + soy.$$escapeHtml('Click here to contact your admin') + '</a>');
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.showMessageNoServer.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.showMessageNoServer';
}


Confluence.Templates.ConfluenceJiraPlugin.viewAll = function(opt_data, opt_ignored) {
  return '<div class=\'view-all\'>' + soy.$$escapeHtml('Displaying first 20 results.') + '<a href=\'' + soy.$$escapeHtml(opt_data.jiraIssuesLink) + '\' target=\'_blank\'>' + soy.$$escapeHtml('View all.') + '</a></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.viewAll.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.viewAll';
}


Confluence.Templates.ConfluenceJiraPlugin.learnMore = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml('https://confluence.atlassian.com/display/DOC/Jira+Issues+Macro') + '" target=\'_blank\'>' + soy.$$escapeHtml('Learn More') + '</a>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.learnMore.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.learnMore';
}


Confluence.Templates.ConfluenceJiraPlugin.contentJiraChart = function(opt_data, opt_ignored) {
  return '<div id="jira-chart-content-' + soy.$$escapeHtml(opt_data.chartType) + '"><div class=\'jira-chart-search\'><form class=\'aui\'><fieldset class=\'inline\'>' + ((opt_data.isMultiServer == true) ? '<div class=\'jira-chart-search-input\'><input type=\'text\' id="jira-chart-search-input" class=\'text search-text\' name=\'jiraSearch\' placeholder="' + soy.$$escapeHtml('e.g. filter \x3d \x22My Jira filter\x22') + '"/></div><select id="jira-chart-servers" class="select" name="server" tabindex="0"></select>' : '<div class=\'jira-chart-search-input one-server\'><input type=\'text\' id="jira-chart-search-input" class=\'text one-server long-field\' name=\'jiraSearch\' placeholder="' + soy.$$escapeHtml('e.g. filter \x3d \x22My Jira filter\x22') + '"/></div>') + '<button id="jira-chart-search-button" type=\'button\' class=\'button\'>' + soy.$$escapeHtml('Preview') + '</button></fieldset><div class=\'search-help\'>' + soy.$$escapeHtml('Search using any issue key, search URL, Jira link, JQL, plain text or filter') + '</div></form></div><div class="jira-chart-img"></div><div class="jira-chart-option" data-js="display-option-wrapper" ><form action="#" class="aui" id="jiraChartMacroOption"><div class="jiraChartOption"><a class="jirachart-display-opts-open" data-js="display-option-trigger" href="javascript:void(0)"><span class="display-option-icon"></span><strong>' + soy.$$escapeHtml('Display options') + '</strong></a>' + ((opt_data.chartType == 'pie') ? Confluence.Templates.ConfluenceJiraPlugin.piechartForm(null) : (opt_data.chartType == 'createdvsresolved') ? Confluence.Templates.ConfluenceJiraPlugin.createdVsResolved(null) : (opt_data.chartType == 'twodimensional') ? Confluence.Templates.ConfluenceJiraPlugin.twoDimensional(null) : '') + '</div></form></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.contentJiraChart.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.contentJiraChart';
}


Confluence.Templates.ConfluenceJiraPlugin.piechartForm = function(opt_data, opt_ignored) {
  return '<fieldset><div class="field-group"><label for="jira-chart-statType">' + soy.$$escapeHtml('Chart by') + '</label><select name="type" id="jira-chart-statType" class="select"></select></div></fieldset><fieldset class="group"><div class="field-group"><label for="jira-chart-width">' + soy.$$escapeHtml('Width') + '</label><input type="text" name="jira-chart-width" id="jira-chart-width" class="text short-field"><span class="aui-icon aui-icon-small aui-iconfont-help help-aligment widthInfo" title="' + soy.$$escapeHtml('Enter pixels, percent or leave blank to auto-resize.') + '"></span><div class="checkbox"><input type="checkbox" id="jira-pie-chart-show-border" class="checkbox jira-chart-show-border"><label for="jira-pie-chart-show-border">' + soy.$$escapeHtml('Show border') + '</label></div><div class="checkbox"><input type="checkbox" id="jira-pie-chart-show-infor" class="checkbox jira-chart-show-infor"><label for="jira-pie-chart-show-infor">' + soy.$$escapeHtml('Show chart information') + '</label></div></div></fieldset>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.piechartForm.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.piechartForm';
}


Confluence.Templates.ConfluenceJiraPlugin.createdVsResolved = function(opt_data, opt_ignored) {
  return '<fieldset><div class="field-group"><label for="created-vs-resolved-chart-periodName">' + soy.$$escapeHtml('Period') + '</label><select class="select" id="created-vs-resolved-chart-periodName" name="created-vs-resolved-chart-periodName"><option value="hourly">' + soy.$$escapeHtml('Hourly') + '</option><option value="daily">' + soy.$$escapeHtml('Daily') + '</option><option value="weekly">' + soy.$$escapeHtml('Weekly') + '</option><option value="monthly">' + soy.$$escapeHtml('Monthly') + '</option><option value="quarterly">' + soy.$$escapeHtml('Quarterly') + '</option><option value="yearly">' + soy.$$escapeHtml('Yearly') + '</option></select><div class="error"></div></div><div class="field-group"><label for="created-vs-resolved-chart-daysprevious">' + soy.$$escapeHtml('Days previously') + '<span class="aui-icon icon-required"></span></label><input type="text" class="text" id="created-vs-resolved-chart-daysprevious" value="30"><span class="aui-icon aui-icon-small aui-iconfont-help help-aligment daysPreviousInfo" title="' + soy.$$escapeHtml('Number of days to include (counting back from today).') + '"></span><div class="error days-previous-error"></div></div><fieldset class="group"><div class="checkbox"><input type="checkbox" id="created-vs-resolved-chart-cumulative" name="created-vs-resolved-chart-cumulative" class="checkbox"><label for="created-vs-resolved-chart-cumulative">' + soy.$$escapeHtml('Cumulative totals') + '</label><span class="aui-icon aui-icon-small aui-iconfont-help help-aligment cumulativeInfo" title="' + soy.$$escapeHtml('Progressively add totals (1, 2, 3) or show individual values (1,1,1).') + '"></span></div><div class="checkbox"><input type="checkbox" id="created-vs-resolved-chart-showunresolvedtrend" name="created-vs-resolved-chart-showunresolvedtrend" class="checkbox"><label for="created-vs-resolved-chart-showunresolvedtrend">' + soy.$$escapeHtml('Show unresolved trend') + '</label><span class="aui-icon aui-icon-small aui-iconfont-help help-aligment showunresolvedtrendInfo" title="' + soy.$$escapeHtml('Include a subplot showing unresolved issues.') + '"></span></div></fieldset><div class="field-group"><label for="created-vs-resolved-chart-versionLabel">' + soy.$$escapeHtml('Show versions') + '</label><select class="select" id="created-vs-resolved-chart-versionLabel" name="created-vs-resolved-chart-versionLabel"><option value="all">' + soy.$$escapeHtml('All versions') + '</option><option value="major">' + soy.$$escapeHtml('Only major versions') + '</option><option value="none">' + soy.$$escapeHtml('None') + '</option></select><span class="aui-icon aui-icon-small aui-iconfont-help help-aligment versionLabelInfo" title="' + soy.$$escapeHtml('Mark version release dates in the chart.') + '"></span><div class="error"></div></div></fieldset><fieldset class="group"><div class="field-group"><label for="jira-chart-width">' + soy.$$escapeHtml('Width') + '</label><input type="text" name="jira-chart-width" id="jira-chart-width" class="text short-field"><span class="aui-icon aui-icon-small aui-iconfont-help help-aligment widthInfo" title="' + soy.$$escapeHtml('Enter pixels, percent or leave blank to auto-resize.') + '"></span><div class="checkbox"><input type="checkbox" id="jira-createdvsresolved-chart-show-border" class="checkbox jira-chart-show-border"><label for="jira-createdvsresolved-chart-show-border">' + soy.$$escapeHtml('Show border') + '</label></div><div class="checkbox"><input type="checkbox" id="jira-createdvsresolved-chart-show-infor" class="checkbox jira-chart-show-infor"><label for="jira-createdvsresolved-chart-show-infor">' + soy.$$escapeHtml('Show chart information') + '</label></div></div></fieldset>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.createdVsResolved.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.createdVsResolved';
}


Confluence.Templates.ConfluenceJiraPlugin.twoDimensional = function(opt_data, opt_ignored) {
  return '<fieldset><div id="jira-chart-support-all-version" class="hidden"></div><div class="field-group"><label for="twodimensional-xaxis">' + soy.$$escapeHtml('XAxis') + '</label><select class="select" id="twodimensional-xaxis"><option value="statuses">' + soy.$$escapeHtml('Status') + '</option><option value="priorities">' + soy.$$escapeHtml('Priority') + '</option><option value="assignees">' + soy.$$escapeHtml('Assignee') + '</option><option value="allFixfor">' + soy.$$escapeHtml('Fix For Versions (all)') + '</option><option value="components">' + soy.$$escapeHtml('Component') + '</option><option value="issuetype">' + soy.$$escapeHtml('Issue Type') + '</option></select></div><div class="field-group"><label for="twodimensional-yaxis">' + soy.$$escapeHtml('YAxis') + '</label><select class="select" id="twodimensional-yaxis"><option value="statuses">' + soy.$$escapeHtml('Status') + '</option><option value="priorities">' + soy.$$escapeHtml('Priority') + '</option><option value="assignees">' + soy.$$escapeHtml('Assignee') + '</option><option value="allFixfor">' + soy.$$escapeHtml('Fix For Versions (all)') + '</option><option value="components">' + soy.$$escapeHtml('Component') + '</option><option value="issuetype">' + soy.$$escapeHtml('Issue Type') + '</option></select></div><div class="field-group"><label for="twodimensional-number-of-result">' + soy.$$escapeHtml('Rows to display') + '</label><input type="text" name="twodimensional-number-of-result" id="twodimensional-number-of-result" class="text short-field"><div class="error twodimensional-number-of-result-error"></div></div></fieldset>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.twoDimensional.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.twoDimensional';
}


Confluence.Templates.ConfluenceJiraPlugin.jiraChartErrorMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message-container"><div class="aui-message error closeable shadowed"><span class=\'message\'>' + soy.$$escapeHtml(opt_data.message) + '</span><span class="aui-icon icon-close" role="button" tabindex="0"></span></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.jiraChartErrorMessage.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.jiraChartErrorMessage';
}


Confluence.Templates.ConfluenceJiraPlugin.noServerWarning = function(opt_data, opt_ignored) {
  return '<div class="aui-message-container"><div class="aui-message warning">' + ((opt_data.isAdministrator == true) ? soy.$$escapeHtml('No server found match with your URL.') + '<a id="open_applinks" target="_blank" href="' + soy.$$escapeHtml(opt_data.contextPath) + '/admin/listapplicationlinks.action">' + soy.$$escapeHtml('Click here to set this up') + '</a>' : soy.$$escapeHtml('No server found match with your URL. Your administrator can set this up.') + '<a id="open_applinks" target="_blank" href="' + soy.$$escapeHtml(opt_data.contextPath) + '/wiki/contactadministrators.action">' + soy.$$escapeHtml('Click here to contact your admin') + '</a>') + '</div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.noServerWarning.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.noServerWarning';
}


Confluence.Templates.ConfluenceJiraPlugin.addMoreToComeLink = function(opt_data, opt_ignored) {
  return '<li class="page-menu-item"><button class="item-button moreToCome"><a target="_blank" href="http://go.atlassian.com/confluencejiracharts">' + soy.$$escapeHtml('More to come...') + '</a></button></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.addMoreToComeLink.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.addMoreToComeLink';
}


Confluence.Templates.ConfluenceJiraPlugin.addCrossMacroLink = function(opt_data, opt_ignored) {
  return '<li class="page-menu-item"><hr><span class="aui-nav-heading jira-padding-left-10px"><strong>' + soy.$$escapeHtml('OTHER Jira CONTENT') + '</strong></span><nav class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><ul class="aui-nav"><li><button class="item-button jira-left-panel-link" id="' + soy.$$escapeHtml(opt_data.id) + '">' + soy.$$escapeHtml(opt_data.label) + '</button></li></ul></div></nav></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.addCrossMacroLink.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.addCrossMacroLink';
}


Confluence.Templates.ConfluenceJiraPlugin.jqlInvalid = function(opt_data, opt_ignored) {
  return '<div class="aui-message-container"><div class="aui-message warning">' + soy.$$escapeHtml('The Jira server didn\x27t understand your search query. If you entered JQL, please ensure that it\x27s correctly formed. If you entered an issue key, ensure that it exists and you have permission to view it.') + '</div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.jqlInvalid.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.jqlInvalid';
}


Confluence.Templates.ConfluenceJiraPlugin.warningValWidthColumn = function(opt_data, opt_ignored) {
  return '<div class="error width-error">' + ((opt_data.error == 'wrongFormat') ? soy.$$escapeHtml('The width must be in correct format') : (opt_data.error == 'wrongNumber') ? soy.$$escapeHtml('The width must be a number between 100 and 9000') : '') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.warningValWidthColumn.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.warningValWidthColumn';
}


Confluence.Templates.ConfluenceJiraPlugin.warningValMaxiumIssues = function(opt_data, opt_ignored) {
  return '<div id="jira-max-number-error" class="error">' + soy.$$escapeHtml('Must be a number between 1 and 1000.') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.warningValMaxiumIssues.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.warningValMaxiumIssues';
}


Confluence.Templates.ConfluenceJiraPlugin.showJiraUnsupportedVersion = function(opt_data, opt_ignored) {
  return '<div class="jira-unsupported-version aui-message-container"><div class="aui-message warning">' + soy.$$escapeHtml('Jira Charts are not available for your version of Jira. Upgrade to Jira 6.1.1 or later to use this macro.') + '</div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.showJiraUnsupportedVersion.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.showJiraUnsupportedVersion';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:dialogsJs', location = 'templates/soy/create_issues.soy' */
// This file was automatically generated from create_issues.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.ConfluenceJiraPlugin.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.ConfluenceJiraPlugin == 'undefined') { Confluence.Templates.ConfluenceJiraPlugin = {}; }


Confluence.Templates.ConfluenceJiraPlugin.createIssuesForm = function(opt_data, opt_ignored) {
  return '<form action="#" method="post" class="aui" id="create-issues-form"><div class="loading-blanket hidden"><div class="loading-data"></div></div><div class="field-group servers"><label>' + soy.$$escapeHtml('Server') + '</label><select class="select server-select"></select></div><div class="field-group project-select-parent" ><label>' + soy.$$escapeHtml('Project') + '</label><select class="select project-select" name="pid"></select></div><div class="field-group type-select-parent issues-type-group" ><label>' + soy.$$escapeHtml('Issue Type') + '</label><select class="select type-select" name="issuetype"></select></div><div class="field-group"><label>' + soy.$$escapeHtml('Summary') + '<span class="aui-icon icon-required"></span></label><input class="text issue-summary" type="text" name="summary"/></div><div id="jira-required-fields-panel"></div><div class="field-group"><label>' + soy.$$escapeHtml('Description') + '</label><textarea class="issue-description textarea" rows="5" name="description"></textarea></div></form>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.createIssuesForm.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.createIssuesForm';
}


Confluence.Templates.ConfluenceJiraPlugin.renderOptions = function(opt_data, opt_ignored) {
  var output = '';
  var optionList15 = opt_data.options;
  var optionListLen15 = optionList15.length;
  for (var optionIndex15 = 0; optionIndex15 < optionListLen15; optionIndex15++) {
    var optionData15 = optionList15[optionIndex15];
    output += '<option value="' + soy.$$escapeHtml(optionData15.id) + '">' + soy.$$escapeHtml(optionData15.name) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.renderOptions.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.renderOptions';
}


Confluence.Templates.ConfluenceJiraPlugin.renderOption = function(opt_data, opt_ignored) {
  return '<option value="' + soy.$$escapeHtml(opt_data.option.id) + '" data-jira-option-key="' + soy.$$escapeHtml(opt_data.option.key) + '">' + soy.$$escapeHtml(opt_data.option.name) + '</option>';
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.renderOption.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.renderOption';
}


Confluence.Templates.ConfluenceJiraPlugin.renderCreateErrorPanel = function(opt_data, opt_ignored) {
  var output = '<div>' + soy.$$escapeHtml('There were errors creating an issue in') + '<a target="_blank" href=' + soy.$$escapeHtml(opt_data.serverUrl) + '>Jira</a></div><ul>';
  var errorList36 = opt_data.errors;
  var errorListLen36 = errorList36.length;
  for (var errorIndex36 = 0; errorIndex36 < errorListLen36; errorIndex36++) {
    var errorData36 = errorList36[errorIndex36];
    output += '<li>' + soy.$$escapeHtml(errorData36) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.ConfluenceJiraPlugin.renderCreateErrorPanel.soyTemplateName = 'Confluence.Templates.ConfluenceJiraPlugin.renderCreateErrorPanel';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:text-placeholders-jira', location = '/jira/placeholder.js' */
(function(){AJS.bind("init.rte",function(){AJS.bind("editor.text-placeholder.activated",function(b,a){a&&"jira"===a.placeholderType&&AJS.Editor.JiraConnector.open(AJS.Editor.JiraConnector.source.instructionalText)});AJS.Rte.Placeholder&&AJS.Rte.Placeholder.addPlaceholderType&&AJS.Rte.Placeholder.addPlaceholderType({type:"jira",label:"Jira Macro",tooltip:"Instructional text is replaced with a Jira Macro on click.",activation:{click:!0,keypress:!1}})})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-macro', location = '/jirachart/jirachart-dialog.js' */
AJS.Editor.JiraChart=function(h){var l=require("confluence/form-state-control"),x="Insert",y="Cancel",z="Insert Jira Chart",c,d,u=function(a){if(!c){c=new AJS.ConfluenceDialog({width:840,height:590,id:"jira-chart"});c.addHeader(z);d=AJS.Editor.JiraChart.Panels;for(var b=0;b<d.length;b++){"function"===typeof d[b].title?c.addPanel(d[b].title()):void 0!==d[b].title&&c.addPanel(d[b].title);
var f=c.getCurrentPanel();d[b].init(f)}h("#jira-chart ul.dialog-page-menu").show().append(Confluence.Templates.ConfluenceJiraPlugin.addCrossMacroLink({id:"open-jira-issue-dialog",label:"Jira Issue/Filter"}));c.addButton(x,function(){var e=d[c.getCurrentPanel().id],g=e.chartType;0<c.getCurrentPanel().body.find("#jira-chart-content-"+g).length&&e.isImageChartExisted()?(e=e.getMacroParamsFromDialog(),t(e),AJS.Editor.JiraChart.close()):m(h("#jira-chart-content-"+e.chartType))},"insert-jira-chart-macro-button");
c.addLink("Select Macro",function(){c.hide();AJS.MacroBrowser.open(!1)},"dialog-back-link");c.addCancel(y,function(){AJS.Editor.JiraChart.close()})}AJS.$("#jira-chart .dialog-page-menu button").click(function(){var e=d[c.getCurrentPanel().id],g=c.getCurrentPanel().body,n=AJS.Editor.JiraChart.Helper.getSelectedServer(g);p(g,n);k(g);e.handleInsertButton();e.focusForm();e.resetDisplayOption()});b=c.getCurrentPanel().body;k(b);var q=q||function(e){var g={};_.each(e,
function(n,A){g[n.chartType]=A});return g}(d);B(q,a);r();b=c;f=b.gotoPanel;a=a&&a.params?q[a.params.chartType]:0;f.call(b,a);c.overrideLastTab();c.show();C()},D=function(){_.each(AJS.Editor.JiraChart.Panels,function(a){a.preBinding&&"function"===typeof a.preBinding&&a.preBinding()})},C=function(){h("#open-jira-issue-dialog").click(function(){AJS.Editor.JiraChart.close();AJS.Editor.JiraConnector&&AJS.Editor.JiraConnector.openCleanDialog(!1)})},m=function(a){void 0!==AJS.Editor.JiraChart.Helper.convertSearchTextToJQL(a)&&
d[c.getCurrentPanel().id].renderChart()},k=function(a){if(a.find("#jira-chart-support-all-version").length)return!0;var b=AJS.Editor.JiraChart.Helper.getSelectedServer(a).buildNumber;return-1==b||6109<=b&&6155>b?(a.find(".jira-chart-img").html(Confluence.Templates.ConfluenceJiraPlugin.showJiraUnsupportedVersion()),a.find("#jira-chart-search-input").prop("disabled",!0),a.find("#jira-chart-search-button").prop("disabled",!0),a=a.find(".jirachart-display-opts-close, .jirachart-display-opts-open"),a.hasClass("jirachart-display-opts-close")&&
a.click(),a.addClass("disabled"),r(),!1):!0},t=function(a){AJS.Editor.inRichTextMode()&&tinymce.confluence.macrobrowser.macroBrowserComplete({name:"jirachart",params:a})},B=function(a,b){for(var f=0;f<d.length;f++)d[f].resetDialogValue();D();b&&b.params&&d[a[b.params.chartType]].bindingDataFromMacroToForm(b.params)},v=function(a){a.find(".jira-oauth-message-marker").remove();a.find(".jira-chart-img").empty();a.find("#jira-chart-search-input").empty()},r=function(){l.disableElement(h("#jira-chart").find(".insert-jira-chart-macro-button"))},
p=function(a,b){h(".jira-oauth-message-marker",a).remove();var f={selectedServer:b,msg:AJS.Editor.JiraConnector.Panel.prototype.msg};b&&b.authUrl&&(b=AJS.Editor.JiraConnector.Panel.prototype.createOauthForm.call(f,function(){h(".jira-oauth-message-marker",a).remove();AJS.Editor.JiraChart.search(a)}),a.find("div.jira-chart-search").append(b))},w=function(a){a.find("#jira-chart-search-input").prop("disabled",!1);a.find("#jira-chart-search-button").prop("disabled",!1);a.find(".jirachart-display-opts-open").removeClass("disabled")};
return{close:function(){c.hide();tinymce.confluence.macrobrowser.macroBrowserCancel()},edit:function(a){if(void 0===AJS.Editor.JiraConnector.servers||0===AJS.Editor.JiraConnector.servers.length){AJS.Editor.JiraConnector.warningPopup(AJS.Meta.get("is-admin"));var b=!1}else b=!0;b&&(u(a),b=c.getCurrentPanel().body,k(b)&&(w(b),void 0!==a.params&&void 0!==a.params.serverId&&m(b),a=AJS.Editor.JiraChart.Helper.getSelectedServer(b),p(b,a)))},search:m,disableInsert:r,enableInsert:function(){var a=AJS.$("#jira-chart").find(".insert-jira-chart-macro-button");
a.is(":disabled")&&l.enableElement(a)},disableSearch:function(a){l.disableElement(a.find("#jira-chart-search-button"))},enableSearch:function(a){a.find("#jira-chart-search-button").is(":disabled")&&l.enableElement(a.find("#jira-chart-search-button"))},insertJiraChartMacroWithParams:t,open:u,clearChartContent:v,loadServers:function(a){0<AJS.Editor.JiraConnector.servers.length&&AJS.Editor.JiraConnector.Panel.prototype.applinkServerSelect(a.find("#jira-chart-servers"),function(b){v(a);k(a)&&(p(a,b),
w(a))})},validateServerSupportedChart:k}}(AJS.$);AJS.Editor.JiraChart.Panels=[];AJS.MacroBrowser.setMacroJsOverride("jirachart",{opener:AJS.Editor.JiraChart.edit});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-macro', location = '/jirachart/jirachart-helper.js' */
AJS.Editor.JiraChart.Helper=function(p){var m=/^\d+$/,f={},g=function(a){a=a&&"string"===typeof a?a.replace("px",""):"";"auto"===a&&(a="");0<a.indexOf("%")&&(a=4*a.replace("%",""));return a},k=function(a){return m.test(a)},h=function(a){var b=AJS.Editor.JiraConnector.servers;return 1<b.length?a.find("#jira-chart-servers option:selected").data("jiraapplink"):b[0]};return{getSelectedServer:h,bindingCommonChartElements:function(a){return{jql:a.find("#jira-chart-search-input"),width:a.find("#jira-chart-width"),
border:a.find(".jira-chart-show-border"),showinfor:a.find(".jira-chart-show-infor"),displayOption:a.find(".jirachart-display-opts-close, .jirachart-display-opts-open"),server:a.find("#jira-chart-servers")}},bindingCommonDataFromMacroToForm:function(a,b){a.jql.val(decodeURIComponent(b.jql));a.width.val(b.width);a.border.prop("checked","true"===b.border);a.showinfor.prop("checked","true"===b.showinfor);1<AJS.Editor.JiraConnector.servers.length&&a.server.val(b.serverId)},getCommonMacroParamsFromDialog:function(a,
b){b=h(b);return{jql:encodeURIComponent(a.jql.val()),width:g(a.width.val()),border:a.border.prop("checked"),showinfor:a.showinfor.prop("checked"),serverId:b.id,server:b.name,isAuthenticated:!b.authUrl}},getCommonChartParamsRequest:function(a,b){return{contentId:AJS.Meta.get("page-id"),macro:{name:"jirachart",params:{jql:a.jql,serverId:a.serverId,width:a.width,border:a.border,showinfor:a.showinfor,chartType:b}}}},convertSearchTextToJQL:function(a){var b=AJS.Editor.JiraConnector.servers,c=a.find("#jira-chart-search-input").val();
if(0===c.indexOf("http")){var e=AJS.JQLHelper.findServerIndexFromUrl(c,b);if(-1!==e)e=b[e].id,a.find("#jira-chart-servers").val(e);else{b=Confluence.Templates.ConfluenceJiraPlugin.noServerWarning({isAdministrator:AJS.Meta.get("is-admin"),contextPath:Confluence.getContextPath()});a.find(".jira-chart-img").html(b);AJS.Editor.JiraChart.disableInsert();return}}(b=AJS.JQLHelper.convertToJQL(c,e))?a.find("#jira-chart-search-input").val(b):(a.find(".jira-chart-img").html(Confluence.Templates.ConfluenceJiraPlugin.jqlInvalid()),
AJS.Editor.JiraChart.disableInsert());return b},convertFormatWidth:g,isChartWidthValid:function(a){a.next().next(".width-error").remove();var b=g(a.val());if(b)if(k(b)){if(100>b||9E3<b)var c="wrongNumber"}else c="wrongFormat";return c?(a.next().after(Confluence.Templates.ConfluenceJiraPlugin.warningValWidthColumn({error:c})),AJS.Editor.JiraChart.disableInsert(),!1):!0},isNumber:k,isJqlNotEmpty:function(a){return a?""!==AJS.$.trim(a.val())&&a.val()!==a.attr("placeholder"):!1},populateStatType:function(a,
b){var c=h(a);if(b){var e=f[c.id];e||AppLinks.makeRequest({appId:c.id,type:"GET",url:"/rest/gadget/1.0/statTypes",dataType:"json",async:!1,success:function(d){d&&(e=f[c.id]=d)},error:function(d){if(d)try{f[c.id]=JSON.parse(d.responseText),e=JSON.parse(d.responseText)}catch(n){AJS.error("Error contacting the server "+c.id+" with response "+d.response)}AJS.log("Jira Chart Macro: unable to retrieve statTypes from AppLink: "+c.id)}}).fail(function(d){if(d)try{f[c.id]=JSON.parse(d.responseText),e=JSON.parse(d.responseText)}catch(n){AJS.error("Error contacting the server "+
c.id+" with response "+d.response)}});var l="";e&&"undefined"!==typeof e.stats&&_.each(e.stats,function(d){l+="\x3coption value \x3d '"+d.value+"'\x3e"+AJS.escapeHtml(d.label)+" \x3c/option\x3e"});b.html(l)}}}}(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-macro', location = '/jirachart/jirachart-panel.js' */
AJS.Editor.JiraChart.Panel=function(){};
AJS.Editor.JiraChart.Panel.prototype={init:function(a){var d=Confluence.Templates.ConfluenceJiraPlugin.contentJiraChart({isMultiServer:1<AJS.Editor.JiraConnector.servers.length,chartType:this.chartType});a.html(d);this.container=AJS.$(this.containerId);AJS.Editor.JiraChart.clearChartContent(this.container);AJS.Editor.JiraChart.loadServers(this.container);this.bindingChartElements();this.bindingActions()},bindingActions:function(){var a=this,d=function(){a.isFormValid()?AJS.Editor.JiraChart.search(a.container):
AJS.Editor.JiraChart.disableInsert()};a.container.find(a.clickableElements).click(d);a.container.find(a.onChangeElements).change(d);a.chartElements.jql.change(function(){this.value!==a.jqlWhenEnterKeyPress&&(a.container.find(".jira-chart-img").empty(),AJS.Editor.JiraChart.disableInsert());a.jqlWhenEnterKeyPress=""}).bind("paste",function(){setTimeout(function(){a.isFormValid()&&(a.jqlWhenEnterKeyPress=a.chartElements.jql.val(),AJS.Editor.JiraChart.search(a.container))},100)});var c=a.container.find("input[type\x3d'text']");
c.unbind("keydown").keydown(function(b){if(13==b.which){var f=function(e){c.unbind("keyup",f);a.isFormValid()&&AJS.Editor.JiraChart.search(a.container);"jira-chart-search-input"===c.attr("id")&&(a.jqlWhenEnterKeyPress=c.val());e.stopPropagation();return!1};c.keyup(f);b.stopPropagation();return!1}});a.bindSelectOption();a.bindingServerChange()},bindingServerChange:function(){var a=this;a.chartElements.server.change(function(){a.isFormValid()&&AJS.Editor.JiraChart.validateServerSupportedChart(a.container)?
AJS.Editor.JiraChart.search(a.container):AJS.Editor.JiraChart.disableInsert()})},renderChart:function(){var a=this,d=this.getChartParamsRequest(),c=Confluence.getContextPath()+"/rest/tinymce/1/macro/preview",b=this.container.find(".jira-chart-img");b.html('\x3cdiv class\x3d"loading-data"\x3e\x3c/div\x3e');var f=b.find(".loading-data")[0];AJS.$.data(f,"spinner",Raphael.spinner(f,50,"#666"));a.request&&a.request.abort();a.request=AJS.$.ajax({url:c,type:"POST",contentType:"application/json",data:JSON.stringify(d)}).done(function(e){b.html("").hide();
var g=AJS.$('\x3ciframe frameborder\x3d"0" id\x3d"chart-preview-iframe"\x3e\x3c/iframe\x3e');g.appendTo(b);var k=g[0].contentWindow,h=k.document;g.on("load",function(){k.AJS.$("#main").addClass("chart-preview-main");b.show();a.handleInsertButton()});e=e.replace("window.onload","var chartTest");h.open();h.write(e);h.close()}).error(function(e){"abort"!=e.statusText&&(AJS.log("Jira Chart Macro - Fail to get data from macro preview"),b.html(Confluence.Templates.ConfluenceJiraPlugin.jiraChartErrorMessage({message:"Unable to render Jira chart macro due to an execution error."})));
AJS.Editor.JiraChart.disableInsert()})},resetDialogValue:function(){var a=AJS.$("input",this.container);a.filter(":text").val("");a.filter(":checked").prop("checked",!1);this.container.find("#jira-chart-search-input").val();this.container.find(".jira-chart-img").empty();this.resetDisplayOption()},resetDisplayOption:function(){var a=this,d=this.chartElements.displayOption;d.addClass("jirachart-display-opts-open");d.removeClass("jirachart-display-opts-close");setTimeout(function(){var c=a.container.find(".jira-chart-option");
c.scrollTop(0);c.css({overflow:"hidden",top:"430px"})},0)},bindSelectOption:function(){var a=this.container.find(".jira-chart-option"),d=function(c){var b=a.position().top+"px",f="",e={top:430};c?(b="",f=40-a.find("#jiraChartMacroOption").height()+"px",e={bottom:0},a.css("overflow","auto")):a.css("overflow","hidden");a.css("top",b);a.css("bottom",f);a.animate(e,500)};a.css("top","430px");this.chartElements.displayOption.click(function(c){var b=AJS.$(this);c.preventDefault();b.hasClass("disabled")||
(b.hasClass("jirachart-display-opts-open")?(d(!0),b.addClass("jirachart-display-opts-close"),b.removeClass("jirachart-display-opts-open")):(d(),b.removeClass("jirachart-display-opts-close"),b.addClass("jirachart-display-opts-open")))})},isImageChartExisted:function(){return 0<this.container.find("#chart-preview-iframe").contents().find(".jira-chart-macro-img").length},focusForm:function(){this.container.find("#jira-chart-search-input").focus()},handleInsertButton:function(){this.isFormValid()&&this.isResultValid()?
AJS.Editor.JiraChart.enableInsert():AJS.Editor.JiraChart.disableInsert()}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-macro', location = '/jirachart/piechart-panel.js' */
AJS.Editor.JiraChart.Panel.PieChart=function(d){AJS.Editor.JiraChart.Panel.call(this);var b=this;this.title="Pie Chart";this.chartType="pie";this.containerId="#jira-chart-content-pie";this.clickableElements=".jira-chart-search button, .jira-chart-show-border, .jira-chart-show-infor";this.onChangeElements="#jira-chart-statType, #jira-chart-width";this.isFormValid=function(){return AJS.Editor.JiraChart.Helper.isChartWidthValid(b.chartElements.width)&&AJS.Editor.JiraChart.Helper.isJqlNotEmpty(b.chartElements.jql)};
this.isResultValid=function(){return this.container.find("#chart-preview-iframe").contents().find(".jira-chart-macro-wrapper").length};this.bindingActions=function(){AJS.Editor.JiraChart.Panel.prototype.bindingActions.call(this);this.container.find(".widthInfo").tooltip({gravity:"w"})};this.bindingServerChange=function(){b.chartElements.server.change(function(){AJS.Editor.JiraChart.Helper.populateStatType(b.container,b.chartElements.statType);b.isFormValid()?AJS.Editor.JiraChart.search(b.container):
AJS.Editor.JiraChart.disableInsert()})};this.bindingChartElements=function(){this.chartElements=AJS.Editor.JiraChart.Helper.bindingCommonChartElements(this.container);this.chartElements.statType=this.container.find("#jira-chart-statType")};this.getChartParamsRequest=function(){var a=this.getMacroParamsFromDialog(),c=AJS.Editor.JiraChart.Helper.getCommonChartParamsRequest(a,this.chartType);c.macro.params.statType=a.statType;return c};this.getMacroParamsFromDialog=function(){var a=AJS.Editor.JiraChart.Helper.getCommonMacroParamsFromDialog(this.chartElements,
this.container);a.chartType="pie";a.statType=this.chartElements.statType.val();return a};this.bindingDataFromMacroToForm=function(a){a&&(AJS.Editor.JiraChart.Helper.bindingCommonDataFromMacroToForm(this.chartElements,a),this.chartElements.statType.val(a.statType))};this.preBinding=function(){AJS.Editor.JiraChart.Helper.populateStatType(this.container,this.container.find("#jira-chart-statType"))}};AJS.Editor.JiraChart.Panel.PieChart.prototype=AJS.Editor.JiraChart.Panel.prototype;
AJS.Editor.JiraChart.Panel.PieChart.prototype.constructor=AJS.Editor.JiraChart.Panel.PieChart;AJS.Editor.JiraChart.Panels.push(new AJS.Editor.JiraChart.Panel.PieChart(AJS.$));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-macro', location = '/jirachart/createdvsresolvedchart-panel.js' */
AJS.Editor.JiraChart.Panel.CreatedVsResolvedChart=function(e){AJS.Editor.JiraChart.Panel.call(this);var c=this,f=function(){c.container.find("#created-vs-resolved-chart-periodName").val("daily");c.container.find("#created-vs-resolved-chart-daysprevious").val("30")},g=function(){var a=c.chartElements.periodName.val(),b=e.trim(c.chartElements.daysprevious.val()),d=c.container.find(".days-previous-error");if(""===b)return c.container.find(".days-previous-error").html("Days Previously is required field."),
!1;if(!AJS.Editor.JiraChart.Helper.isNumber(b)||0>b)return d.html("Days Previously must be a number and positive."),!1;switch(a){case "hourly":(isValid=10>=b)||d.html(AJS.format("Days must not exceed {0} for {1} period",10,a));break;case "daily":(isValid=300>=b)||d.html(AJS.format("Days must not exceed {0} for {1} period",300,a));break;case "weekly":(isValid=1750>=b)||d.html(AJS.format("Days must not exceed {0} for {1} period",
1750,a));break;case "monthly":(isValid=7500>=b)||d.html(AJS.format("Days must not exceed {0} for {1} period",7500,a));break;case "quarterly":(isValid=22500>=b)||d.html(AJS.format("Days must not exceed {0} for {1} period",22500,a));break;case "yearly":(isValid=36500>=b)||d.html(AJS.format("Days must not exceed {0} for {1} period",36500,a));break;default:isValid=!1}isValid&&d.empty();return isValid};this.title="Created vs Resolved";
this.chartType="createdvsresolved";this.containerId="#jira-chart-content-createdvsresolved";this.clickableElements=".jira-chart-search button, .jira-chart-show-border, .jira-chart-show-infor, #created-vs-resolved-chart-cumulative, #created-vs-resolved-chart-showunresolvedtrend";this.onChangeElements="#created-vs-resolved-chart-periodName, #created-vs-resolved-chart-daysprevious, #created-vs-resolved-chart-versionLabel, #jira-chart-width";this.isFormValid=function(){var a=AJS.Editor.JiraChart.Helper.isChartWidthValid(c.chartElements.width);
return g()&&a&&AJS.Editor.JiraChart.Helper.isJqlNotEmpty(c.chartElements.jql)};this.isResultValid=function(){return this.container.find("#chart-preview-iframe").contents().find(".jira-chart-macro-wrapper").length};this.init=function(a){AJS.Editor.JiraChart.Panel.prototype.init.call(this,a);f()};this.bindingChartElements=function(){this.chartElements=AJS.Editor.JiraChart.Helper.bindingCommonChartElements(this.container);this.chartElements.periodName=this.container.find("#created-vs-resolved-chart-periodName");
this.chartElements.daysprevious=this.container.find("#created-vs-resolved-chart-daysprevious");this.chartElements.isCumulative=this.container.find("#created-vs-resolved-chart-cumulative");this.chartElements.showUnresolvedTrend=this.container.find("#created-vs-resolved-chart-showunresolvedtrend");this.chartElements.versionLabel=this.container.find("#created-vs-resolved-chart-versionLabel")};this.bindingActions=function(){AJS.Editor.JiraChart.Panel.prototype.bindingActions.call(this);this.container.find(".widthInfo").tooltip({gravity:"w"});
this.container.find(".showunresolvedtrendInfo").tooltip({gravity:"w"});this.container.find(".cumulativeInfo").tooltip({gravity:"w"});this.container.find(".versionLabelInfo").tooltip({gravity:"w"});this.container.find(".daysPreviousInfo").tooltip({gravity:"w"})};this.getChartParamsRequest=function(){var a=this.getMacroParamsFromDialog(),b=AJS.Editor.JiraChart.Helper.getCommonChartParamsRequest(a,this.chartType);b.macro.params.periodName=a.periodName;b.macro.params.daysprevious=a.daysprevious;b.macro.params.isCumulative=
a.isCumulative;b.macro.params.showUnresolvedTrend=a.showUnresolvedTrend;b.macro.params.versionLabel=a.versionLabel;return b};this.getMacroParamsFromDialog=function(){var a=AJS.Editor.JiraChart.Helper.getCommonMacroParamsFromDialog(this.chartElements,this.container);a.chartType="createdvsresolved";a.periodName=this.chartElements.periodName.val();a.daysprevious=e.trim(this.chartElements.daysprevious.val());a.isCumulative=this.chartElements.isCumulative.prop("checked");a.showUnresolvedTrend=this.chartElements.showUnresolvedTrend.prop("checked");
a.versionLabel=this.chartElements.versionLabel.val();return a};this.resetDialogValue=function(){AJS.Editor.JiraChart.Panel.prototype.resetDialogValue.call(this);f()};this.bindingDataFromMacroToForm=function(a){a&&(AJS.Editor.JiraChart.Helper.bindingCommonDataFromMacroToForm(c.chartElements,a),c.chartElements.isCumulative.prop("checked","false"!==a.isCumulative),c.chartElements.showUnresolvedTrend.prop("checked","true"===a.showUnresolvedTrend),c.chartElements.periodName.val(""===a.periodName?"daily":
a.periodName),c.chartElements.versionLabel.val(a.versionLabel),c.chartElements.daysprevious.val(""===a.daysprevious?"30":a.daysprevious))}};AJS.Editor.JiraChart.Panel.CreatedVsResolvedChart.prototype=AJS.Editor.JiraChart.Panel.prototype;AJS.Editor.JiraChart.Panel.CreatedVsResolvedChart.prototype.constructor=AJS.Editor.JiraChart.Panels.CreatedVsResolvedChart;AJS.Editor.JiraChart.Panels.push(new AJS.Editor.JiraChart.Panel.CreatedVsResolvedChart(AJS.$));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-macro', location = '/jirachart/twodimensionalchart-panel.js' */
AJS.Editor.JiraChart.Panel.TwoDimensionalChart=function(d){AJS.Editor.JiraChart.Panel.call(this);var b=this,e=function(){b.chartElements.numberToShow.val(5);b.chartElements.xstattype.val("statuses");b.chartElements.ystattype.val("assignees")};this.title="Two Dimensional";this.chartType="twodimensional";this.containerId="#jira-chart-content-twodimensional";this.clickableElements=".jira-chart-search button, .jira-chart-show-border, .jira-chart-show-infor, #twodimensional-show-total";
this.onChangeElements="#twodimensional-xaxis, #twodimensional-yaxis, #twodimensional-number-of-result";this.isFormValid=function(){var a=d(".twodimensional-number-of-result-error");var c=b.chartElements.numberToShow.val();AJS.Editor.JiraChart.Helper.isNumber(c)&&0<c?(a.empty(),a=!0):(a.html("The number of rows should be a positive integer"),a=!1);return a&&AJS.Editor.JiraChart.Helper.isJqlNotEmpty(b.chartElements.jql)};this.isResultValid=function(){return this.container.find("#chart-preview-iframe").contents().find(".two-dimensional-chart-table").length};
this.init=function(a){AJS.Editor.JiraChart.Panel.prototype.init.call(this,a);e()};this.bindingChartElements=function(){this.chartElements=AJS.Editor.JiraChart.Helper.bindingCommonChartElements(this.container);this.chartElements.xstattype=this.container.find("#twodimensional-xaxis");this.chartElements.ystattype=this.container.find("#twodimensional-yaxis");this.chartElements.sortBy=this.container.find("#twodimensional-sortby");this.chartElements.sortDirection=this.container.find("#twodimensional-sort-direction");
this.chartElements.showTotals=this.container.find("#twodimensional-show-total");this.chartElements.numberToShow=this.container.find("#twodimensional-number-of-result")};this.getChartParamsRequest=function(){var a=this.getMacroParamsFromDialog(),c=AJS.Editor.JiraChart.Helper.getCommonChartParamsRequest(a,this.chartType);c.macro.params.xstattype=a.xstattype;c.macro.params.ystattype=a.ystattype;c.macro.params.sortBy=a.sortBy;c.macro.params.sortDirection=a.sortDirection;c.macro.params.showTotals=a.showTotals;
c.macro.params.numberToShow=a.numberToShow;return c};this.getMacroParamsFromDialog=function(){var a=AJS.Editor.JiraChart.Helper.getCommonMacroParamsFromDialog(this.chartElements,this.container);a.chartType="twodimensional";a.xstattype=this.chartElements.xstattype.val();a.ystattype=d.trim(this.chartElements.ystattype.val());a.sortBy=d.trim(this.chartElements.sortBy.val());a.sortDirection=d.trim(this.chartElements.sortDirection.val());a.showTotals=this.chartElements.showTotals.prop("checked");a.numberToShow=
this.chartElements.numberToShow.val();return a};this.bindingDataFromMacroToForm=function(a){a&&(AJS.Editor.JiraChart.Helper.bindingCommonDataFromMacroToForm(b.chartElements,a),b.chartElements.xstattype.val(a.xstattype),b.chartElements.ystattype.val(a.ystattype),b.chartElements.sortBy.val(a.sortBy),b.chartElements.sortDirection.val(a.sortDirection),b.chartElements.showTotals.prop("checked","true"===a.showTotals),b.chartElements.numberToShow.val(a.numberToShow))};this.resetDialogValue=function(){AJS.Editor.JiraChart.Panel.prototype.resetDialogValue.call(this);
e()};this.isImageChartExisted=function(){return 0<this.container.find("#chart-preview-iframe").contents().find(".two-dimensional-chart-table").length};this.preBinding=function(){AJS.Editor.JiraChart.Helper.populateStatType(this.container,this.container.find("#twodimensional-xaxis"));AJS.Editor.JiraChart.Helper.populateStatType(this.container,this.container.find("#twodimensional-yaxis"));b.chartElements.xstattype.val("statuses");b.chartElements.ystattype.val("assignees")};this.bindingServerChange=
function(){b.chartElements.server.change(function(){AJS.Editor.JiraChart.Helper.populateStatType(b.container,b.chartElements.xstattype);AJS.Editor.JiraChart.Helper.populateStatType(b.container,b.chartElements.ystattype);b.chartElements.xstattype.val("statuses");b.chartElements.ystattype.val("assignees");b.isFormValid()?AJS.Editor.JiraChart.search(b.container):AJS.Editor.JiraChart.disableInsert()})}};AJS.Editor.JiraChart.Panel.TwoDimensionalChart.prototype=AJS.Editor.JiraChart.Panel.prototype;
AJS.Editor.JiraChart.Panel.TwoDimensionalChart.prototype.constructor=AJS.Editor.JiraChart.Panel.TwoDimensionalChart;AJS.Editor.JiraChart.Panels.push(new AJS.Editor.JiraChart.Panel.TwoDimensionalChart(AJS.$));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:editor-support-util', location = 'support/atlassian-editor-support.js' */
define("confluence-editor/support/atlassian-editor-support",["ajs","confluence/meta"],function(c,b){return{inlineTasks:function(){var a=b.get("use-inline-tasks");return"true"===a||!0===a},isCollaborativeContentType:function(){var a=b.get("content-type");return b.get("collaborative-content")&&("page"===a||"blogpost"===a)}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/support/atlassian-editor-support","AJS.Rte.Support");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/util/is-valid-uri.js' */
define("confluence-collaborative-editor-plugin/util/is-valid-uri",[],function(){function d(a,c){var b=a.lastIndexOf(c);return-1!==b&&b===a.length-c.length}var e=/^(((?![':"<>])[\s-\$\+<->\^`\|~-------------------------------------------------------------------------!-#%-\*,-/:;\?@\[-\]_\{\}-------------------------------------------------A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-9-------------------------------------------------------------])+|\#(\w)+)$/,
f=/^(?:\s*(?:([a-zA-Z]*):\/\/|mailto:|skype:|callto:|facetime:|git:|irc:|irc6:|news:|nntp:|feed:|cvs:|svn:|mvn:|ssh:|itms:|notes:|smb:|sourcetree:|urn:|tel:|xmpp:|telnet:|vnc:|rdp:|whatsapp:|slack:|sip:|sips:|magnet:)[A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-9-------------------------------------------------------------\/]+(?:(?!['"<>])[\s-\$\+<->\^`\|~-------------------------------------------------------------------------!-#%-\*,-/:;\?@\[-\]_\{\}-------------------------------------------------A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-9-------------------------------------------------------------])*(?:\s)*)$/;
return function(a){if(null===a)return!1;var c=e.test(a),b=(a=a.match(f))&&a.length&&a[1];a=a&&a.length&&(!b||!d(b,"script")&&!d(b,"data"));return c||a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/template/synchrony-presence.soy' */
// This file was automatically generated from synchrony-presence.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.SynchronyPresence.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.SynchronyPresence == 'undefined') { Confluence.Templates.SynchronyPresence = {}; }


Confluence.Templates.SynchronyPresence.container = function(opt_data, opt_ignored) {
  return '<ul id="avatar-list" class="synchrony-doc-' + soy.$$escapeHtml(opt_data.docId) + ' collaborative-avatars-list"></ul><aui-inline-dialog id="more-avatars" alignment="bottom right" responds-to="toggle" aria-hidden="true"><h3 aria-hidden="true">' + soy.$$escapeHtml('Also edited') + '</h3><ul id="more-avatars-list" class="collaborative-avatars-list" aria-hidden="true"></ul></aui-inline-dialog>';
};
if (goog.DEBUG) {
  Confluence.Templates.SynchronyPresence.container.soyTemplateName = 'Confluence.Templates.SynchronyPresence.container';
}


Confluence.Templates.SynchronyPresence.avatar = function(opt_data, opt_ignored) {
  return '<li class="avatar-item' + ((opt_data.active) ? ' p' + soy.$$escapeHtml(opt_data.telepointer) + ' active' : '') + ((opt_data.currentUser) ? ' no-animate-entry' : '') + '"><span title="' + soy.$$escapeHtml(opt_data.title) + '" avatar="' + soy.$$escapeHtml(opt_data.initial) + '"' + ((opt_data.active) ? ' data-origin="' + soy.$$escapeHtml(opt_data.origin) + '"' : '') + ' class="avatar' + ((opt_data.active) ? ' active' : '') + '"' + ((opt_data.username) ? ' data-username="' + soy.$$escapeHtml(opt_data.username) + '"' : '') + '><img src="' + soy.$$escapeHtml(opt_data.avatarUrl) + '" alt="' + soy.$$escapeHtml(AJS.format('Profile picture for {0}',opt_data.username)) + '"/></span></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.SynchronyPresence.avatar.soyTemplateName = 'Confluence.Templates.SynchronyPresence.avatar';
}


Confluence.Templates.SynchronyPresence.overlay = function(opt_data, opt_ignored) {
  return '<span id="synchrony-presence-overlay" class="overlay avatar" hidden><a href="#" aria-controls="more-avatars" class="aui-button" data-aui-trigger aria-label="' + soy.$$escapeHtml('More avatars') + '"></a></span>';
};
if (goog.DEBUG) {
  Confluence.Templates.SynchronyPresence.overlay.soyTemplateName = 'Confluence.Templates.SynchronyPresence.overlay';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/synchrony-presence.js' */
define("confluence-collaborative-editor-plugin/synchrony-presence","backbone confluence-collaborative-editor-plugin/avatar-list-view confluence-collaborative-editor-plugin/overlay-view ajs confluence/legacy confluence/meta confluence/templates jquery underscore".split(" "),function(A,B,u,e,C,f,D,l,h){function v(){q=l(D.SynchronyPresence.container({docId:C.getContentId()}));l("#rte-toolbar").append(q);new B({el:"#avatar-list",collection:c});m=new u({collection:c});l("#rte-toolbar").append(m.render())}
function w(b){var a=l.extend({},b);a.id=b.origin;a.fullname=b.fullname||"Anonymous";a.name=b.name||"anonymous";a.username=b.name;a.avatarURL=b.currentUser?b.avatarURL:e.contextPath()+b.avatarURL;a.active=b.active||!0;a.currentUser=b.currentUser||r===b.origin;return a}function E(){return c.filter(function(b){return b.get("active")}).length}function t(){var b=[];c.each(function(a){a.get("active")||h.some(n,function(g){return a.get("id")===g.name})||b.push(a)});h.each(b,function(a){c.remove(a)});
h.each(n,function(a){a.name===f.get("remote-user")||c.any(function(g){return g.get("id")===a.name||g.get("name")===a.name})||(a.active=!1,a.id=a.name,c.add(a))})}var c=new A.Collection;c.add(w({origin:"current-user",fullname:f.get("current-user-fullname"),name:f.get("remote-user"),avatarURL:f.get("current-user-avatar-uri-reference"),active:!0,currentUser:!0}));var x=!1,r="",p,n=[],q=null,m,y=!1;e.Rte.getEditor()&&e.Rte.getEditor().initialized?v():e.bind("rte-collab-ready",v);return{appendTo:function(b,
a,g){r=b;x||(p=p||require("tinymce"),x=!0,n=g,a.on("presence",function(z){m.hideInlineDialog();z.joined.filter(function(d){return d.origin!==r}).forEach(function(d){d=w(d);var k=c.findWhere({active:!1,id:d.name});k&&c.remove(k);c.add(d,{at:E()})});z.left.forEach(function(d){d.id=d.origin;c.remove(d);t()});t();y||(e.bind("editor-heartbeat",function(d,k){h.isArray(k.contributors)&&(n=k.contributors,t())}),y=!0);e.trigger("analyticsEvent",{name:"confluence.synchrony.user.in.session",data:{numOtherUsers:c.length,
draftId:f.get("draft-id"),contentId:f.get("content-id")}})}),p.EditorManager.activeEditor.on("click",h.bind(u.prototype.hideInlineDialog,m)));return q},setTinyMce:function(b){p=b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/avatar-list-view.js' */
define("confluence-collaborative-editor-plugin/avatar-list-view",["backbone","confluence-collaborative-editor-plugin/avatar-view","ajs","jquery","underscore"],function(e,f,d,h,g){return e.View.extend({initialize:function(){this.collection.on("add",this.addAvatar,this);this.collection.on("remove",this.removeAvatar,this);this.collection.each(this.addAvatar,this)},addAvatar:function(a){var b=new f({model:a});a.get("active")?(d.log(a.get("fullname")+" joined. ("+a.get("origin")+")"),a=this.$el.find("li.active").last(),
b=a.length?b.render().insertAfter(a):b.render().prependTo(this.$el)):b=b.render().appendTo(this.$el);a=function(c){c.addClass("show");c.children(".avatar").tooltip({fade:!0,gravity:"ne"})};6===this.collection.length?a(b):g.defer(a,b);this._manageOverlayClass()},removeAvatar:function(a){a.get("active")&&d.log(a.get("fullname")+" left. ("+a.get("origin")+")");this._manageOverlayClass()},_manageOverlayClass:function(){var a=this.collection.length;this.collection.each(function(b,c){b.set("hidden",5<a&&
4<=c)});5<a?this.$el.addClass("has-overlay"):this.$el.removeClass("has-overlay")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/avatar-view.js' */
define("confluence-collaborative-editor-plugin/avatar-view",["backbone","ajs","confluence/templates","jquery"],function(f,d,g,e){return f.View.extend({initialize:function(){this.model.on("remove",this.remove,this)},render:function(){return this.$el=e(g.SynchronyPresence.avatar({title:this._determineTitle(),initial:this.model.get("fullname").charAt(0).toUpperCase(),fullname:this.model.get("fullname"),username:this.model.get("username"),avatarUrl:this.model.get("avatarURL"),origin:this.model.get("origin"),
active:this.model.get("active"),currentUser:this.model.get("currentUser"),telepointer:this._synchronyTelepointerId()}))},remove:function(){this.$el.removeClass().addClass("avatar-item animate");this.model.get("hidden")||this.$el.addClass("removing");this.$el.one(this._getSupportedTransition(),function(){e(this).removeClass("animate removing");e(this).remove()})},_determineTitle:function(){if(this.model.get("currentUser")){var a=["It\u0027s you, but smaller!","Look at you, getting stuff done!"];
return a[Math.floor(Math.random()*a.length)]}return this.model.get("fullname")+" "+(this.model.get("active")?"is editing this page.":"has made changes that haven\u0027t been published.")},_getSupportedTransition:function(){var a={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",MsTransition:"msTransitionEnd",WebkitTransition:"webkitTransitionEnd"},b=document.createElement("_"),c;for(c in a)if(void 0!==b.style[c])return a[c]},_synchronyTelepointerId:function(){for(var a=
""+(this.model.get("sub")||this.model.get("origin")||""),b=0,c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b&=b;return Math.abs(b)%10}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/overlay-view.js' */
define("confluence-collaborative-editor-plugin/overlay-view","backbone aui/inline-dialog2 confluence-collaborative-editor-plugin/avatar-view confluence/templates ajs jquery underscore".split(" "),function(d,h,e,f,g,b,k){return d.View.extend({initialize:function(){this.collection.on("add remove",this.reconcile,this);this.inlineDialog2=document.querySelector("#more-avatars")},render:function(){this.$el=b(f.SynchronyPresence.overlay());this.$el.children("a").tooltip({fade:!0,gravity:"ne"});this.$el.on("click",
function(a){a.target&&b(a.target).tooltip("hide")});return this.$el},reconcile:function(){var a=this.collection.where({hidden:!0});0<a.length?(this.$el.addClass("show"),this.$el.prop("hidden",!1),this.$el.children(".aui-button").html("+"+a.length).attr("title",a.length+" "+"other users are editing."),b("#more-avatars-list").children().remove(),a.forEach(function(c){c=new e({model:c});b("#more-avatars-list").append(c.render())})):(this.$el.removeClass("show"),this.$el.prop("hidden",
!0),this.hideInlineDialog())},hideInlineDialog:function(){this.inlineDialog2&&this.inlineDialog2.isVisible&&this.inlineDialog2.isVisible()&&(this.inlineDialog2.open=!1)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/template/status-indicator.soy' */
// This file was automatically generated from status-indicator.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.CollaborativeEditor.StatusIndicator.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.CollaborativeEditor == 'undefined') { Confluence.Templates.CollaborativeEditor = {}; }
if (typeof Confluence.Templates.CollaborativeEditor.StatusIndicator == 'undefined') { Confluence.Templates.CollaborativeEditor.StatusIndicator = {}; }


Confluence.Templates.CollaborativeEditor.StatusIndicator.container = function(opt_data, opt_ignored) {
  return '<div class="synchrony-status-indicator"><div class="status-indicator-icon aui-icon aui-icon-small' + ((opt_data.error) ? ' aui-iconfont-warning' : (opt_data.saving) ? ' aui-iconfont-devtools-task-in-progress' : ' aui-iconfont-approve') + '" data-tooltip="' + soy.$$escapeHtml(opt_data.tooltipMessage) + '"></div><div class="status-indicator-message" data-tooltip="' + soy.$$escapeHtml(opt_data.tooltipMessage) + '">' + soy.$$escapeHtml(opt_data.statusMessage) + '</div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.CollaborativeEditor.StatusIndicator.container.soyTemplateName = 'Confluence.Templates.CollaborativeEditor.StatusIndicator.container';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/status-indicator-view.js' */
define("confluence-collaborative-editor-plugin/status-indicator-view",["confluence/templates","backbone","ajs","jquery","underscore"],function(f,g,c,h,d){return g.View.extend({initialize:function(){this.$el.addClass("synchrony");this.listenTo(this.model,"change:saving change:error",this.render);this.model.set("confluenceUnreachable",!1);this.model.set("synchronyUnreachable",!1);this.model.set("tokenExpired",!1);c.bind("rte.heartbeat",d.bind(this.onConfluenceConnectedState,this));c.bind("rte.safe-save.error",
d.bind(this._errorPublishing,this));c.bind("rte.preview.error",d.bind(this._errorPublishing,this));this.model.set("connecting",!0);this._setProgressState()},render:function(){this.$el.html(f.CollaborativeEditor.StatusIndicator.container(this.model.attributes))},onConnectedState:function(a){this.model.set("synchronyUnreachable",!1);if(!this.model.has("synchronyEntity")){this.model.set("synchronyEntity",a);var b=this;this.model.get("synchronyEntity").on("update",function(e){b._handleSynchronyUpdateEvent(e,
b)});this.model.get("synchronyEntity").on("ack",function(e){b._handleSynchronyAckEvent(e,b)})}this._setSavedState()},onDisconnectedState:function(){this.model.set("synchronyUnreachable",!0);this.model.set("connecting",!0);this._setErrorState()},onConfluenceConnectedState:function(){this.model.get("confluenceUnreachable")&&(this.model.set("confluenceUnreachable",!1),this._setSavedState())},onConfluenceDisconnectedState:function(){this.model.set("confluenceUnreachable",!0);this.model.set("connecting",
!0);this._setErrorState()},onTokenRenewedState:function(){this.model.get("tokenExpired")&&(this.model.set("tokenExpired",!1),this._setSavedState())},onTokenExpiredState:function(){this.model.set("tokenExpired",!0);this.model.set("connecting",!0);this._setErrorState()},_handleSynchronyUpdateEvent:function(a,b){"local"===a.updateType&&(b.model.set("pendingChanges",!0),b._saving())},_handleSynchronyAckEvent:function(a,b){a=0<a.pending.length;b.model.set("pendingChanges",a);a||b.model.set("lastSavedTime",
(new Date).getTime())},_saving:function(){var a=this,b=function(){setTimeout(function(){a.model.get("pendingChanges")||(new Date).getTime()-a.model.get("lastSavedTime")<a.model.get("minActiveTime")?b():a._setSavedState()},a.model.get("minActiveTime"))};this.model.get("saving")||(this.model.set("connecting",!1),this._setProgressState(),b())},_reachable:function(){return!this.model.get("confluenceUnreachable")&&!this.model.get("synchronyUnreachable")&&!this.model.get("tokenExpired")},_errorPublishing:function(a,
b){switch(b.status){case 0:this.onConfluenceDisconnectedState();break;case 500:case 503:this.onConfluenceDisconnectedState()}},_setSavedState:function(){this._reachable()&&"READ_ONLY"!==c.Meta.get("access-mode")?(this.model.set("statusMessage",this.model.get("connecting")?"Ready to go":"Changes saved"),this.model.set("isReadyToGo",!!this.model.get("connecting")),this.model.set("tooltipMessage","We\u0027re automatically saving all of your changes in a draft."),this.model.set("connecting",
!1),this.model.set("saving",!1),this.model.set("error",!1)):this._setErrorState()},_setErrorState:function(){var a="READ_ONLY"!==c.Meta.get("access-mode");this.model.set("statusMessage","Can\u0027t save changes");this.model.set("tooltipMessage",a?"Can\u0027t reach the server. Check your internet connection, and we\u0027ll keep trying to reconnect you.":"This site is read-only. You can\u0027t make changes right now.");this.model.set("saving",!1);this.model.set("error",!0)},_setProgressState:function(){this._reachable()?(this.model.set("statusMessage",
this.model.get("connecting")?"Connecting...":"Saving changes"),this.model.set("tooltipMessage","We\u0027re automatically saving all of your changes in a draft."),this.model.set("saving",!0),this.model.set("error",!1)):this._setErrorState()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/initialise-metrics.js' */
define("collaborative-editing-initialise-metrics-collection",["confluence/legacy"],function(a){return function(){var b={"confluence.editor":!0,"confluence.editor.preload":!0,"confluence.editor.quick.fetchContent":!0,"confluence.editor.tinymce":!0,"confluence.editor.synchrony":!0,"confluence.editor.synchrony.CR":!0,"confluence.editor.synchrony.connect":!0,"confluence.editor.synchrony.deps":!0,"confluence.editor.synchrony.init":!0,"confluence.editor.synchrony.jsLoad":!0,"confluence.editor.synchrony.snapshot":!0,
"confluence.editor.synchrony.unmarshal":!0},c={"confluence.editor.synchrony.connect":!0};a.registerPerformanceSession&&a.registerPerformanceSession("confluence.editor.quickedit.loading.times",b,c)}});require("confluence/module-exporter").safeRequire("collaborative-editing-initialise-metrics-collection",function(a){a()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/lib/SyncManager.js' */
define("confluence-collaborative-editor-plugin/lib/SyncManager",["ajs","jquery"],function(e,f){var h=["id"],k={START_SYNCHRONIZING_EVENT_NAME:"start",STOP_SYNCHRONIZING_EVENT_NAME:"stop",MAX_CONSECUTIVE_AUTO_RECOVERY_TRIGGERED:10,MAX_WAIT_TIME_TO_RESTART:3E4,DEBUG_MODE:!1},l=function(a){return h.every(function(b){return"undefined"!==typeof a[b]})},c=function(a,b){this.entity=a;this.settings=f.extend({},k,b||{});this.controlSyncState={};this.recoveryTimeoutTasks={};a=function(d,m,g){l(g)?d(g):this.displayLogMessage("Invalid payload, missing required params",
m,g)};e.bind("synchrony."+this.settings.START_SYNCHRONIZING_EVENT_NAME,a.bind(this,this.enableSynchronization.bind(this)));e.bind("synchrony."+this.settings.STOP_SYNCHRONIZING_EVENT_NAME,a.bind(this,this.disableSynchronization.bind(this)))};c.prototype.getOrCreateControlSyncState=function(a){return this.controlSyncState[a]=this.controlSyncState[a]||{DISABLED_SYNC_STATUS:!1,RECOVERY_TIMER_RUNNING:!1,CONSECUTIVE_AUTO_RECOVERY_TRIGGERED:0}};c.prototype.enableDebug=function(a){this.settings.DEBUG_MODE=
"undefined"!==typeof a?a:!0};c.prototype.displayLogMessage=function(){if(this.settings.DEBUG_MODE){var a=Array.prototype.slice.call(arguments);a.splice(0,0,"DEBUG: "+(new Date).toLocaleTimeString());console.log.apply(console,a)}};c.prototype.disableSynchronization=function(a){var b=a.id;this.getOrCreateControlSyncState(b).DISABLED_SYNC_STATUS=!0;this.clearAutoRecoveryTimer(b);this.setAutoRecoveryTimer(a);this.entity.stop(b);this.displayLogMessage("Stoping entity synchronization",b,f.extend(!0,{},
this.controlSyncState))};c.prototype.enableSynchronization=function(a){a=a.id;this.getOrCreateControlSyncState(a).DISABLED_SYNC_STATUS=!1;this.clearAutoRecoveryTimer(a);this.entity.start(a);this.displayLogMessage("Starting entity synchronization",a,f.extend(!0,{},this.controlSyncState))};c.prototype.clearAutoRecoveryTimer=function(a){var b=this.getOrCreateControlSyncState(a);clearTimeout(this.recoveryTimeoutTasks[a]);delete this.recoveryTimeoutTasks[a];b.RECOVERY_TIMER_RUNNING=!1};c.prototype.setAutoRecoveryTimer=
function(a){var b=a.id,d=this.getOrCreateControlSyncState(b);d.RECOVERY_TIMER_RUNNING=!0;this.recoveryTimeoutTasks[b]=setTimeout(function(){this.displayLogMessage("Auto recovery has been triggered",b);this.clearAutoRecoveryTimer(b);d.DISABLED_SYNC_STATUS=!1;d.RECOVERY_TIMER_RUNNING=!1;d.CONSECUTIVE_AUTO_RECOVERY_TRIGGERED++;e.trigger("analyticsEvent",{name:"confluence.synchrony.syncmanager.failed-to-restart",data:{id:b}});d.CONSECUTIVE_AUTO_RECOVERY_TRIGGERED>=this.settings.MAX_CONSECUTIVE_AUTO_RECOVERY_TRIGGERED&&
(this.displayLogMessage("Auto recovery has been triggered too many times for the same action",b,this.controlSyncState[b].CONSECUTIVE_AUTO_RECOVERY_TRIGGERED),e.trigger("analyticsEvent",{name:"confluence.synchrony.syncmanager.consecutive-failed-to-restart",data:{id:b}}));this.entity.start(b)}.bind(this),a.maxWaitTimeToRestart||this.settings.MAX_WAIT_TIME_TO_RESTART)};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/telepointer-cleaner.js' */
define("confluence-collaborative-editor-plugin/telepointer-cleaner",["confluence-editor-reliable-save/reliable-save","jquery"],function(b,c){b.registerCleanupFunction(function(d){var a=c("\x3cdiv\x3e");a.append(d);a.find(".synchrony-container, .synchrony-tp").remove();return a.html()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/editor-blanket.js' */
define("confluence-collaborative-editor-plugin/editor-blanket",["ajs","jquery","confluence/meta","confluence-editor/support/atlassian-editor-support"],function(l,a,m,h){var c,d;function f(b){switch(b){case "block":c="editor-block";d="aria-disabled";e="";break;default:c="editor-loading editor-loading-spinner",d="aria-busy",e="editor-loading"}b=a("#editpageform, #createpageform");b.addClass(c);b.attr(d,!0);a("#content-title").attr("tabindex",-1);a("#wysiwygTextarea_ifr").attr("tabindex",-1);a(".aui-toolbar2-primary").addClass(e)}
function k(){var b=a("#editpageform, #createpageform");b.removeClass(c);b.attr(d,!1);a("#rte").css("opacity",1).addClass("editor-blanket-ease-in");a("#content-title").attr("tabindex",0);a("#wysiwygTextarea_ifr").attr("tabindex",0);a("#content-title-div").css("opacity",1).addClass("editor-blanket-ease-in");a(".aui-toolbar2-primary").removeClass(e);e=d=c=void 0}function g(){a("#rte").css("opacity",1);a("#content-title-div").css("opacity",1)}var e=d=c=void 0;return{applyBlanket:function(b){h.isCollaborativeContentType()&&
"pending"===b.state()?(f(),b.done(k)):g()},showEditor:g,showBlanket:f}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/synchrony-auth.js' */
define("confluence-collaborative-editor-plugin/synchrony-auth",["jquery","ajs","confluence/meta","confluence/legacy","confluence-collaborative-editor-plugin/synchrony-util"],function(l,d,m,n,f){function p(c,a){f.time("confluence.editor.synchrony.token");var b=a&&a.errorType?"?errorType\x3d"+a.errorType:"";l.ajax({dataType:"json",method:"GET",url:encodeURI(d.contextPath()+"/rest/synchrony/1.0/token/"+n.getContentId()+"/generate"+b)}).done(function(g){m.set("synchrony-token",g.synchronyToken);m.set("synchrony-expiry",
g.synchronyExpiry);h=0;c.resolve(g.synchronyToken);e&&(e.onConfluenceConnectedState(),e.onTokenRenewedState());d.trigger("dismiss.editor.error.message",{messageKey:"synchrony-token-expired",enablePublish:!0});d.debug("Synchrony JWT token updated.");f.timeEnd("confluence.editor.synchrony.token")}).fail(function(){h++;10<=h&&d.trigger("editor.error.message",{messageKey:"synchrony-token-expired",message:"We couldn\u0027t process your request, as it was missing a required security token. Copy your work, then re-submit the form or reload the page.",disablePublish:!0});e&&(e.onConfluenceDisconnectedState(),
e.onTokenExpiredState());d.log(a?a.message:"Confluence failed to renew JWT token.");c.reject("token")})}function k(c){var a=l.Deferred(),b;if(b=!c)b=parseInt(f.retrieveMetadata("synchrony-expiry")),b=isNaN(b)?!1:b>Date.now()/1E3;b?a.resolve(f.retrieveMetadata("synchrony-token")):(d.log("["+new Date+"] Synchrony JWT expired or invalid, retrieving new token."),p(a,c));return a.promise()}var e,h=0;return{init:function(c){e=c},performRequest:function(c){return k().pipe(c).pipe(function(a){var b="error"===
a[1]&&a[0].responseText?JSON.parse(a[0].responseText):a[0];return"error"===a[1]&&b.type&&b.type.match(/^jwt\//)?k({errorType:b.type,message:b.message}).pipe(c):a})},getTokenPromise:k}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/unsupported-extension.js' */
define("confluence-collaborative-editor-plugin/unsupported-extension","ajs jquery confluence/legacy confluence-editor/editor/page-editor-message window confluence-collaborative-editor-plugin/editor-blanket".split(" "),function(a,c,d,e,f,g){function h(){var b=a.Rte.getEditor().getBody();b.hasAttribute("data-gramm")&&b.hasAttribute("data-gramm_id")&&(a.trigger("synchrony.stop",{id:"confluence.editor.block.by.grammarly",maxWaitTimeToRestart:31536E6}),a.trigger("analyticsEvent",{name:"confluence.synchrony.editor.grammarly.block"}),
b.setAttribute("contentEditable",!1),c(b).find(".contentLayout2 .innerCell").each(function(){this.setAttribute("contentEditable",!1)}),g.showBlanket("block"),d.Editor.UI.setButtonsState(!1,d.Editor.UI.buttons),e.handleMessage("collaborative-editor-unsupported-extension",{type:"error",title:"Grammarly isn\u0027t supported",message:a.format("The Grammarly extension doesn\u0027\u0027t play well with collaborative editing. Disable it and \u003ca {0}\u003ereload the page\u003c/a\u003e to keep working.",'href\x3d"#" id\x3d"collabGrammarlyReload"')}),c("#collabGrammarlyReload").click(function(){a.trigger("analyticsEvent",
{name:"confluence.synchrony.editor.grammarly.reload.click"});f.location.reload();return!1}),a.trigger("synchrony-unsupported-extension"))}return{check:function(){h()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/synchrony-entity.js' */
define("confluence-collaborative-editor-plugin/synchrony-entity","jquery ajs confluence-collaborative-editor-plugin/synchrony-auth confluence-collaborative-editor-plugin/synchrony-util confluence-collaborative-editor-plugin/unsupported-extension confluence-collaborative-editor-plugin/util/is-valid-uri".split(" "),function(g,l,q,m,r,t){function k(b){return function(d){return null===d||b.test(d)}}function p(b){var d=k(/^[\w\.\-\+%]+$/i),f=k(/^[\w-]+$/),h=k(/^data:image\/png;base64,([\w+\/%\-]+)=*$/),
a=k(/^(var\(--ds-[\w-]+, ?#[a-fA-F\d]{6}\))|(?:#[a-f\d]+|rgb\(\s*[\d\.\-\+]+%?\s*,\s*[\d\.\-\+]+%?\s*,\s*[\d\.\-\+]+%?\s*\)|\w+)$/i),c=b.whitelists.tinymce.attributes.src;return g.extend({},b.whitelists.tinymce,{styles:g.extend({},b.whitelists.tinymce.styles,{"padding-top":!1,"padding-right":!1,"padding-bottom":!1,"padding-left":!1,padding:!1,display:d,"list-style-type":d,color:a}),attributes:g.extend({},b.whitelists.tinymce.attributes,{"confluence-query-params":!0,"data-element-title":!0,"data-ref":!0,
accesskey:!0,datetime:!0,"data-anchor":!0,"data-encoded-xml":!0,"data-highlight-class":!0,"data-highlight-colour":!0,"data-space-key":!0,"data-username":!0,"data-emoticon-name":f,"data-emoji-id":!0,"data-hipchat-emoticon":!0,"data-entity-id":!0,"data-entity-type":!0,"data-favourites-bound":!0,"data-macro-id":!0,"data-macro-name":!0,"data-macro-schema-version":!0,"data-macro-body-type":!0,"data-macro-parameters":!0,"data-macro-default-parameter":!0,"data-atlassian-layout":!0,"data-placeholder-type":!0,
"data-layout":!0,"data-title":!0,"data-type":!0,"data-inline-task-id":!0,"data-uuid":!0,"data-inline-tasks-content-id":!0,"data-base-url":!0,"data-linked-resource-id":!0,"data-linked-resource-type":!0,"data-linked-resource-version":!0,"data-linked-resource-default-alias":!0,"data-linked-resource-container-version":!0,"data-linked-resource-content-type":!0,"data-unresolved-comment-count":!0,"data-location":!0,"data-image-height":!0,"data-image-width":!0,"data-attachment-copy":!0,"data-content-title":!0,
"data-snooker-locked-cols":!0,"data-snooker-col-series":!0,"data-mce-resize":!0,"data-filename":!0,username:!0,src:function(e){return h(e)||c(e)},href:t,role:!0,tabindex:!0,"aria-haspopup":!0,"aria-label":!0}),classes:function(e){switch(e){case "mceSelected":case "active-resizable":case "valid":case "active":return!1;default:return!0}},elements:g.extend({},b.whitelists.tinymce.elements,{time:!0,mark:!0,label:!0,form:!0}),elementsByClass:g.extend({},b.whitelists.tinymce.elementsByClass,{"mce-pastebin":!1})})}
function u(b,d,f){var h=p(b);return{profile:"tinymce",selectionCorrections:!1,telepointer:{refreshOnResize:!0,label:{hover:!0,movement:1E3,text:function(a){try{return(a.fullname||"Anonymous").charAt(0).toUpperCase()}catch(c){l.log(c)}return"\x26#9786;"}}},tinymce:{monkeyPatchUndoManager:!0,instance:d},whitelist:function(a){var c=a.domNode,e="node"===a.type,n="attribute"===a.type&&"data-title"===a.name;if(c===f)return e||n;e=c&&c.classList.contains("numberingColumn")&&("TD"===
c.nodeName||"TH"===c.nodeName);n=!!c&&c.hasAttribute("data-hipchat-emoticon");if("attribute"===a.type&&"contenteditable"===a.name&&(e||n))return!0;if(a.name&&a.name.includes("mce-visual-caret")&&"class"===a.type&&c){const {classList:v,attributes:w,nodeName:x}=c||{};if(v.contains("mce-visual-caret")&&"all"===w["data-mce-bogus"].value&&"DIV"===x)return!1}return b.isWhitelisted(h,a)},domReadHook:function(){l.trigger("cursor-target-refresh");r.check()}}}return{bind:function(b,d,f,h,a){return b.entity({url:m.getServiceUrl(),
entityId:m.getEntityId(),jwt:q.getTokenPromise,initRev:a.confRev,history:h,presence:!0,useFallback:m.getXhrFallbackFlag()}).bind(f,u(b,d,f))},makeWhitelist:p}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/util/url-parser.js' */
define("confluence-collaborative-editor-plugin/util/url-parser",["window"],function(b){return{parseUrl:function(c){var a=b.document.createElement("a");a.href=c;return{protocol:a.protocol.replace(":",""),hostname:a.hostname,port:a.port,pathname:"/"===a.pathname?"":a.pathname,search:a.search,hash:a.hash.substr(a.hash.indexOf("#")+1,a.hash.length),host:a.host}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/util/location-provider.js' */
define("confluence-collaborative-editor-plugin/util/location-provider",["window"],function(a){return{getLocation:function(){return a.location}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/util/editor-format-fixer.js' */
define("confluence-collaborative-editor-plugin/util/editor-format-fixer",["underscore","confluence/meta","confluence-collaborative-editor-plugin/util/url-parser"],function(q,p,k){var r=function(a){a=a.querySelectorAll("a[data-linked-resource-id][data-linked-resource-type\x3d'userinfo'][userkey]");Array.prototype.forEach.call(a,function(n){n.removeAttribute("data-linked-resource-id")});return a.length};return{fixStaleBaseUrl:function(a){var n=0;for(var l=p.get("base-url"),f=k.parseUrl(l),g=a.querySelectorAll("img[data-base-url]"),
h=0;h<g.length;h++){var b=g[h],c=k.parseUrl(b.attributes["data-base-url"].value);if(!q.isEqual(c,f)){var d=b.attributes.src.value,e=b.attributes["data-image-src"].value.replace(c.pathname,f.pathname);c=d.replace(c.pathname,f.pathname);b.setAttribute("data-base-url",l);b.setAttribute("data-image-src",e);b.setAttribute("src",c);n++}}l=0;f=k.parseUrl(p.get("base-url"));g=a.querySelectorAll("img[data-macro-name\x3d'view-file']");for(h=0;h<g.length;h++)for(b=g[h],e=b.attributes.src.value,c=["/rest/documentConversion/latest/",
"/plugins/servlet/confluence/placeholder/unknown-attachment?"],d=0;d<c.length;d++){var m=e.indexOf(c[d]);-1!=m&&e.substr(0,m)!==f.pathname&&(m=f.pathname+e.substr(m),b.setAttribute("src",m),l++)}f=0;g=p.get("base-url");h=k.parseUrl(g);a=a.querySelectorAll("a[data-base-url][href][data-linked-resource-type\x3d'page'],a[data-base-url][href][data-linked-resource-type\x3d'blogpost'],a[data-base-url][href][data-linked-resource-type\x3d'comment'],a[data-base-url][href][data-linked-resource-type\x3d'space'],a[data-base-url][href][data-linked-resource-type\x3d'attachment'],a[data-base-url][href][data-linked-resource-type\x3d'custom']");
for(b=0;b<a.length;b++)e=a[b],c=k.parseUrl(e.attributes["data-base-url"].value),q.isEqual(c,h)||(d=k.parseUrl(e.attributes.href.value),c=g+d.pathname.replace(c.pathname,"")+d.search+(d.hash?"#"+d.hash:""),e.setAttribute("data-base-url",g),e.setAttribute("href",c),f++);return n+l+f},fixMentions:function(a){return r(a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/synchrony-handlers.js' */
define("confluence-collaborative-editor-plugin/synchrony-handlers","underscore jquery ajs confluence/meta confluence/analytics-support confluence/legacy confluence-editor/editor/page-editor-message confluence-collaborative-editor-plugin/lib/SyncManager confluence-collaborative-editor-plugin/synchrony-util confluence-collaborative-editor-plugin/synchrony-content confluence-collaborative-editor-plugin/synchrony-presence confluence-collaborative-editor-plugin/util/location-provider confluence-collaborative-editor-plugin/util/url-parser confluence-collaborative-editor-plugin/util/editor-format-fixer confluence-collaborative-editor-plugin/editor-blanket confluence/api/event window".split(" "),
function(I,k,f,g,J,p,z,K,l,m,L,M,y,A,N,c,q){function B(a,b){b.contributors&&(C=b.contributors,c.unbind(a,B))}function O(a){w=!0;u.val(a.rev.toString())}function P(a){u.val(a.rev.toString());c.trigger("synchrony.entity.ack",{pendingChanges:0<a.pending.length})}function Q(){v.onDisconnectedState();f.log("Synchrony disconnected!")}function R(a){if("null/no-such-sequence"===a.errorType||"null/entity-evicted"===a.errorType||"hub.error/locked"===a.errorType){c.trigger("analyticsEvent",{name:"confluence.editor.data.evicted.error",
data:{errorType:a.errorType,onLoad:!w,afterReload:null!==q.sessionStorage.getItem(x())}});e.destroy();c.trigger("synchrony.history.evicted");a=null===q.sessionStorage.getItem(x());var b=w?"\u003cb\u003eWe couldnt sync your changes\u003c/b\u003e\u003cbr/\u003eCopy the changes you want to keep, then refresh the page to continue editing.":a?"Reloading this page to get it back in sync.":"\u003cb\u003eIts taking a while to sync this page\u003c/b\u003e\u003cbr/\u003eGive it a minute, then refresh the page to start editing. Contact your Confluence admin if this keeps happening.";c.trigger("editor.error.message",{disablePublish:!0,close:"never",message:b});if(w)v.onDisconnectedState();
else N.showBlanket("block"),a&&(q.sessionStorage.setItem(x(),"false"),q.location.reload());S()}else"fatal"===a.level&&c.trigger("editor.error.message",{disablePublish:!0})}function S(){q.onerror=function(a,b,d,r,t){if(!(b||d||r||t)){if(D)return!0;D=!0}else if(t&&t.message&&"entity destroyed"===t.message)return!0;return!1}}function x(){return"_reload_for_"+g.get("draft-id")}function T(a){l.timeEnd("confluence.editor.synchrony.connect");f.log("Synchrony connected.");L.appendTo(a.sid,e,C);v.onConnectedState(e);
c.trigger("synchrony.connected");m.fixTinymceCaretContainer(n,h);q.sessionStorage.removeItem(x())}function E(a,b,d){return{origin:"synchrony",cause:a,messageKey:b,disablePublish:d}}function U(a){function b(r){r.pending.length||(e.off("ack",b),u.val(r.rev.toString()),d.resolve(a))}var d=k.Deferred();e.ackState().pending.length?(e.on("ack",b),setTimeout(function(){e.off("ack",b);d.reject(E("timeout"))},5E3)):d.resolve(a);return k.when(d,F).promise()}function G(a){return(a=l.getLatestRevisionWithAttr(a.revisions,
"user"))?a.meta.user:"Anonymous"}function V(a){z.handleMessage("editor.synchrony.page-published",{type:"info",message:f.format("{0} published this page.",f.escapeHtml(a)),close:"auto"});c.trigger("analyticsEvent",{name:"confluence.synchrony.external-changes.publish"});c.trigger("editor-shared-drafts-published")}function W(a){if("remote"===a.updateType){u.val(a.revisions[a.revisions.length-1].rev.toString());l.hasRevisionTrigger(a.revisions,"reset")&&(z.handleMessage("editor.synchrony.revert-page",
{type:"info",message:f.format("{0} reverted to a previous version of this page.",f.escapeHtml(G(a)))}),g.set("has-collaborated",!1),H(),c.trigger("analyticsEvent",{name:"confluence.synchrony.external-changes.revert"}),c.trigger("editor-shared-drafts-discarded"),p.Editor.heartbeat());l.hasRevisionTrigger(a.revisions,"publish")&&(m.isUnpublished()&&(g.set("new-page",!1),g.set("page-id",p.getContentId()),g.set("draft-id","0"),p.Editor.isLimitedModeEnabled()||p.Editor.UI.setButtonState(!0,k("#rte-button-discard"))),
g.set("has-collaborated",!1),H(),V(G(a)),p.Editor.heartbeat());l.hasRevisionType(a.revisions,"external")&&c.trigger("editor.external.change");var b=l.getLatestRevisionWithAttr(a.revisions,"confVersion");b&&b.meta.confVersion&&(k('meta[name\x3d"page-version"]').attr("content",b.meta.confVersion),k('meta[name\x3d"ajs-page-version"]').attr("content",b.meta.confVersion),g.set("page-version",b.meta.confVersion))}setTimeout(function(){if("init"===a.updateType||"remote"===a.updateType)c.trigger("editor.remote.change"),
m.readTitleFromRootElement(n);"init"==a.updateType&&(X(M.getLocation())?h.undoManager.ignore(function(){var d=A.fixStaleBaseUrl(n);0<d&&J.publish("collab.edit.format.stale.fix.count",{staleformatfixed:d})}):f.log("Request url does not match the configured base url. Not performing fixStaleBaseUrl()."),h.undoManager.ignore(function(){A.fixMentions(n)}));m.fixTinymceCaretContainer(n,h);"local"===a.updateType&&(h.undoManager.hasUndo()||h.setDirty(!1),c.trigger("editor.local.change"))},0)}function H(){0===
e.ackState().pending.length&&h.setDirty(!1)}function X(a){var b=g.get("context-path"),d=y.parseUrl(g.get("base-url"));a=y.parseUrl(a);b=y.parseUrl(a.protocol+"://"+a.host+b);return I.isEqual(d,b)}var u,v,h,n,e,F,C=[],w=!1,D=!1;c.bind("editor-heartbeat",B);return{handle:function(a,b,d,r){l.time("confluence.editor.synchrony.connect");e=a;h=b;v=d;F=r.pipe(null,function(t){e.destroy();v.onDisconnectedState();return E(t,"collaborative-editor-load-failure",!0)});u=k("#syncRev");n=h.getBody();e.on("init",
O).on("update",W).on("ack",P).on("connected",T).on("disconnected",Q).on("error",R);new K(e,{DEBUG_MODE:!0});m.bindPostPasteFix();m.readTitleFromRootElement(n);p.Editor.overrideBeforeSave(U);k("#content-title").keyup(m.writeTitleToRootElement)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-resources', location = '/js/synchrony-editor.js' */
define("confluence-collaborative-editor-plugin/synchrony-editor","window jquery ajs confluence/legacy confluence-collaborative-editor-plugin/editor-blanket confluence-collaborative-editor-plugin/synchrony-util confluence-collaborative-editor-plugin/synchrony-content confluence-collaborative-editor-plugin/synchrony-auth confluence-collaborative-editor-plugin/synchrony-entity confluence-collaborative-editor-plugin/synchrony-handlers confluence-editor/support/atlassian-editor-support confluence-editor/loader/collaborative-helper".split(" "),
function(t,g,d,p,I,f,y,H,J,T,U,V){function z(a){g('meta[name\x3d"ajs-collaborative-editor-status"]').attr("content",a)}function W(){return!d.Rte.isQuickEdit}function X(){var a=g.Deferred();d.$(function(){d.$("body").addClass("synchrony-active");A=new (require("confluence-collaborative-editor-plugin/status-indicator-view"))({el:"#pluggable-status",model:new Backbone.Model({minActiveTime:500})});H.init(A);a.resolve()});return a}function B(a){if(!0!==K){switch(a){case "timeout":a="The editor didn\u0027t load this time";
var b="The connection timed out. If it happens again, speak to your Confluence admin. You may be using a proxy server that prevents WebSocket connections.\u003c/br\u003e\u003ca href=\u0022#\u0022 id=\u0022websocketRetry\u0022\u003eTry again\u003c/a\u003e&nbsp;.&nbsp;\u003ca href=\u0022https://confluence.atlassian.com/display/CONFKB/Confluence+throws+The+editor+didn%27t+load+this+time+error+when+trying+to+edit+a+page\u0022 target=\u0022_blank\u0022 id=\u0022websocketFindmore\u0022\u003eFind out more\u003c/a\u003e";break;case "synchrony-requests":C=!0;a="";b="Something went wrong after loading the editor. Copy your unsaved changes and refresh the page to keep editing.";break;case "limited-mode":C=!0;a="";b="Something went wrong while loading the editor, please try again.";break;default:C=!0,a="",b="This page is taking longer to load than usual. Give it a few moments, then try refreshing. Still having issues? Contact your Confluence admin."}d.trigger("editor.error.message",{title:a,messageKey:"collaborative-editor-load-failure",message:b,disablePublish:!0,close:"manual"})}}
function L(){d.trigger("dismiss.editor.error.message",{messageKey:"collaborative-editor-load-failure",enablePublish:!0})}function M(a,b){var c=g.Deferred();a.done(function(){f.timeEnd(b)},c.resolve);a.fail(c.resolve);return c.promise()}function N(a,b){var c="error"===b[1]&&b[0].responseText?JSON.parse(b[0].responseText):"",e=!1;"invalid-ancestor"===c.type?e="synchrony":"out-of-order-revision"===c.type&&(e="confluence");return e?(d.log("Performing synchrony recovery"),g.ajax({url:d.contextPath()+"/rest/synchrony/1.0/content/"+
p.getContentId()+"/recovery?behind\x3d"+e+"\x26conflictingRev\x3d"+c["conflicting-rev"],type:"PUT"}),"synchrony-requests"):"success"!==b[1]&&"success"!==a[1]||"success"!==b[1]&&"duplicate-mismatch"!==c.type?(d.trigger("analyticsEvent",{name:"confluence.synchrony.client.content.reconciliation.failure",data:{type:c.type,contentId:p.getContentId()}}),"synchrony-requests"):!1}function O(a){return H.performRequest(function(b){f.time("confluence.editor.synchrony.snapshot");return M(g.ajax({type:"POST",
url:encodeURI(f.getServiceUrl()+"/data"+f.getEntityId()+"?state-at\x3d@head\x26state-format\x3dtype-tagged\x26rewrite-request\x3dtrue\x26cached\x3d"+a),contentType:"text/plain",dataType:"json",data:JSON.stringify({headers:{"content-type":"application/json","x-token":b},method:"GET"})}).pipe(f.asArray,f.asArray),"confluence.editor.synchrony.snapshot")})}function Y(a){return a.syncRev||!y.isUnpublished()||0!==a.raw.length&&!/^\s+$/.test(a.raw)?y.isContentEmpty(a.raw)?(d.trigger("analyticsEvent",{name:"confluence.synchrony.client.content.reconciliation.blank-content",
data:{contentId:p.getContentId()}}),g.Deferred().resolve([{},"success"])):H.performRequest(function(b){f.time("confluence.editor.synchrony.CR");return M(g.ajax({type:"POST",url:encodeURI(f.getServiceUrl()+"/data"+f.getEntityId()+"?optimistic\x3dtrue\x26rewrite-request\x3dtrue"),dataType:"json",contentType:"text/plain",data:JSON.stringify({body:{ancestor:a.syncRev,rev:a.confRev,state:{format:"html",value:a.html},merges:{master:{meta:{type:"client-reconciliation"}}}},headers:{"content-type":"application/json",
"x-token":b},method:"PUT"})}).pipe(f.asArray,f.asArray),"confluence.editor.synchrony.CR")}):g.Deferred().resolve([{},"success"])}function Z(a){f.time("confluence.editor.synchrony");g.when(Date.now(),a).pipe(function(b){z("on");var c=Date.now();d.trigger("analyticsEvent",{name:"confluence.synchrony.editor.loaded",data:{durationMillis:c-b,contentId:p.getContentId()}});d.trigger("rte-collab-ready");f.timeEnd("confluence.editor.synchrony");f.timeEnd("confluence.editor")})}function aa(){var a=D("synchrony.connected synchrony.connected.fake");
D("synchrony.connected synchrony.connected.fake synchrony-unsupported-extension",3E4).fail(function(b){B(b);d.trigger("analyticsEvent",{name:"confluence.synchrony.editor.load.timeout",data:{contentId:p.getContentId()}});ba();P=!0;a.done(function(){C||(Q=!0,L())})})}function ca(a,b,c){var e=m._initialiseSynchrony(),l=D("synchrony.connected.fake"),h=D(null);b.pipe(function(){setTimeout(h.reject,3E4,"synchrony-requests")});var q=m._initialiseCollabEditingComponents(h),r=Date.now(),u=null,E=null;d.DarkFeatures.isEnabled("synchrony-pessimistic-snapshot")||
(u=e.pipe(function(){return O(!0)}),u.done(function(k){E=k[1]}));var v=g.when(a,e).pipe(function(){return!u||"rejected"===u.state()||"error"===E||6E5<Date.now()-r?O(!1):u});c.pipe(function(){aa();Z(l);I.applyBlanket(l)});b.pipe(function(k){var F=e.pipe(function(){return Y(k)});v=g.when(v,e).pipe(function(n,w){f.time("confluence.editor.synchrony.unmarshal");var R=n;"success"===n[1]&&(R=[{stateAt:n[0].stateAt,state:w.unmarshal(n[0].state.value)},n[1]]);f.timeEnd("confluence.editor.synchrony.unmarshal");
return R});g.when(v,F).pipe(function(n,w){(n=N(n,w))?h.reject(n):h.resolve()});return d.DarkFeatures.isEnabled("synchrony-pessimistic-CR")||"synchrony-ack"!==k.syncRevSource&&!y.isUnpublished()?g.when(k,c,v,F,q):(d.debug("confluence.editor.synchrony: content up to date, not waiting for CR"),h.fail(B),g.when(k,c,v,[{},"success"],q))}).pipe(function(k,F,n,w){if(!m._bindEditor(k,F,n,w,h))return d.trigger("analyticsEvent",{name:"confluence.synchrony.bind.failure",data:{contentId:p.getContentId()}}),g.Deferred().reject("editor-binding-failed");
l.resolve()}).fail(function(k){c.always(function(){"synchrony-not-enabled"!==k&&(d.log("Failed to load the collaborative editor",k),B(k),d.$(function(){A.onDisconnectedState()}),z("failed"),d.trigger("analyticsEvent",{name:"confluence.synchrony.error",data:{error:k,contentId:p.getContentId()}}))})})}function D(a,b,c){var e=g.Deferred();a&&d.bind(a,function r(h,q){d.debug("confluence.editor.synchrony.event: "+h.type+"."+h.namespace);d.unbind(a,r);e.resolve(q)});b&&setTimeout(e.reject,b,c||"timeout");
return e}function x(a,b,c,e,l){var h=l||g.Deferred();if(f.isEditorInitialised()||b&&f.synchronyReady())return S(h,c);d.bind(a,function E(r,u){d.debug("confluence.editor.event "+r.type+"."+r.namespace);h.always(function(){d.unbind(a,E)});S(h,c,u,e)});return h}function S(a,b,c,e){return f.synchronyReady()?!e||e()?(b=b?b(c):c)&&b.error?a.reject(b.error):a.resolve(b):a:a.reject("synchrony-not-enabled")}function ba(){g("#websocketRetry").on("click",function(){d.trigger("analyticsEvent",{name:"confluence.synchrony.editor.websocket.retry.click"});
t.location.reload();return!1});g("#websocketFindmore").on("click",function(){d.trigger("analyticsEvent",{name:"confluence.synchrony.editor.websocket.findmore.click"})})}var m={};f.time("confluence.editor.synchrony.jsLoad");var A,C=!1,K=!1,Q=!1,P=!1,G;g(t).bind("beforeunload",function(){Q||d.trigger("analyticsEvent",{name:"confluence.synchrony.exit.before.connecting",data:{afterTimeout:P,contentId:p.getContentId()}})});d.bind("synchrony.history.evicted",function(a){K=!0});m._bindEditor=function(a,
b,c,e,l){f.time("confluence.editor.synchrony.init");if(N(c,e))return null;e=g("#syncRev");var h=null;"success"===c[1]&&(c=c[0],h={base:{rev:Synchrony.rev(c.stateAt),state:c.state}},e.val(h.base.rev.toString()));d.log("Synchrony will load with contentId: ",p.getContentId());try{var q=b.getBody();q.setAttribute("data-title",a.title);G=J.bind(Synchrony,b,q,h,a);T.handle(G,b,A,l);d.trigger("editor.remote.change");b.setDirty(!1);f.timeEnd("confluence.editor.synchrony.init");return G}catch(r){return d.logError(r),
null}};m._initialiseCollabEditingComponents=function(a){var b=X();g(t).one("synchrony.connected.fake",function(c){"connected.fake"===c.namespace&&(b.resolve(),a.resolve(),L(),z("fake"))});return b};m._initialiseSynchrony=function(){f.time("confluence.editor.synchrony.deps");(function(b){var c=b.Synchrony=b.Synchrony||{};if(!c.ready){var e=c._cbs=c._cbs||[];c.ready=function(q){e.push(q)}}var l=function(){1===c.state&&(c.SockJS=b.SockJS,c.init())};if(b.SockJS)c.init&&l();else{var h=b._sockjs_onload;
b._sockjs_onload=function(){l();h&&h.apply(this,arguments)}}})(t);var a=g.Deferred();Synchrony.ready(a.resolve);return g.when(a.promise(),f.loadScript(["/js/vendor/sockjs.min.js","/js/synchrony.min.js"])).pipe(function(b){f.timeEnd("confluence.editor.synchrony.deps");d.log("Synchrony successfully initialised.");return b})};m.init=function(){if(U.isCollaborativeContentType()){var a=x("rte-quick-edit-init rte-collaborative-content-ready rte-initial-raw-content-ready",!0),b=x("rte-quick-edit-init rte-collaborative-content-ready rte-initial-raw-content-ready rte-collab-editor-loaded",
!1),c=x("rte-collaborative-content-ready rte-initial-raw-content-ready",!1,y.getContent),e=x("rte-collab-editor-loaded",!1,d.Rte.getEditor);e=x("rte-ready rte-begin-collab-editing",!1,d.Rte.getEditor,W,e);a.pipe(function(){ca(b.promise(),c.promise(),e.promise())});c.fail(B);d.trigger("synchrony-events-bound");e.fail(function(l){"synchrony-not-enabled"===l&&(I.showEditor(),z("off"),d.log("Synchrony is not available in this context."))})}};m.register=function(){V.registerPlugin(m)};m.getSynchronisedEditorContent=
function(){var a=G.ackState();if(a.rev){var b=Synchrony.makeDom(a.state,{document,whitelist:J.makeWhitelist(Synchrony)});return{content:require("tinymce").activeEditor.serializer.serialize(b),syncRev:a.rev.toString()}}d.logError("Synchrony hasn't acked any data, can't fetch draft data");return null};f.timeEnd("confluence.editor.synchrony.jsLoad");return m});require("confluence/module-exporter").safeRequire("confluence-collaborative-editor-plugin/synchrony-editor",function(t){t.register();t.init()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.tabs', location = 'aui.chunk.6c6e23dfa1e1e39f1cca--885798dca090abc9e824.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[953],{5994:(t,a,e)=>{e.r(a),e.d(a,{TabContainerEl:()=>R,TabItemEl:()=>E,TabPaneEl:()=>O});e(6103),e(9002);var i=e(5017),n=e(7364),r=e(6311),s=e(9392),o=e(8082);function u(t,a=""){var e=(0,r.default)(t),i=a||!1;e.each((function(){var t=(0,r.default)(this);t.attr("id")||t.attr("id",(0,o.default)(i))}))}(0,s.default)("_addID",u);const d=u;function l(t){return(t=(0,r.default)(t)).prop("scrollWidth")>t.prop("clientWidth")}(0,s.default)("isClipped",l);const c=l;var f=e(6249),b=window.skateTemplateHtml,p="_internal-aui-tabs-",v='.aui-tabs.horizontal-tabs[data-aui-responsive]:not([data-aui-responsive="false"]), aui-tabs[responsive]:not([responsive="false"])';function h(t){let a=(0,r.default)(t),e=String(a.attr("href")||"").trim();return 0===e.indexOf("#")?e.substr(1):null}function m(t){let a=h(t);return a?document.getElementById(a):null}var g={totalTabsWidth:function(t,a){var e=this.totalVisibleTabWidth(t),i=0;return a.find("li").each((function(t,a){i+=parseInt(a.getAttribute("data-aui-tab-width"))})),e+i},totalVisibleTabWidth:function(t){var a=0;return t.each((function(t,e){a+=(0,r.default)(e).outerWidth()})),a},removeResponsiveDropdown:function(t,a){t.remove(),a.remove()},createResponsiveDropdownTrigger:function(t,a){var e=`<li class="menu-item aui-tabs-responsive-trigger-item">\n            <a\n                class="aui-dropdown2-trigger aui-tabs-responsive-trigger aui-dropdown2-trigger-arrowless"\n                id="aui-tabs-responsive-trigger-${a}"\n                aria-haspopup="true"\n                aria-controls="aui-tabs-responsive-dropdown-${a}"\n                href="#aui-tabs-responsive-dropdown-${a}">...</a>\n            </li>`;return t.append(e),t.find(".aui-tabs-responsive-trigger-item")},createResponsiveDropdown:function(t,a){var e='<div class="aui-dropdown2 aui-tabs-responsive-dropdown" id="aui-tabs-responsive-dropdown-'+a+'"><ul></ul></div>';return t.append(e),t.find("#aui-tabs-responsive-dropdown-"+a)},findNewVisibleTabs:function(t,a,e){function i(t,a,e){return t+a<=e}for(var n=0,s=0;i(n,e,a)&&s<t.length;s++){n+=(0,r.default)(t[s]).outerWidth(!0)}return t.slice(0,s-1)},moveVisibleTabs:function(t,a,e){for(var i=e.find("a").attr("aria-controls"),n=(0,r.default)("#"+i),s=this.findNewVisibleTabs(t,a.outerWidth(),e.parent().outerWidth(!0)),o=s.length-1,u=t.length-1;u>=o;u--){var d=(0,r.default)(t[u]);this.moveTabToResponsiveDropdown(d,n,e)}return(0,r.default)(s)},moveTabToResponsiveDropdown:function(t,a,e){var i=t.find("a");t.attr("data-aui-tab-width",t.outerWidth(!0)),i.addClass("aui-dropdown2-radio aui-tabs-responsive-item"),t.hasClass("active-tab")&&(i.addClass("aui-dropdown2-checked"),e.addClass("active-tab")),a.find("ul").prepend(t)},moveInvisibleTabs:function(t,a,e){function i(t){return t>0}for(var n=0;i(a)&&n<t.length;n++){var s=(0,r.default)(t[n]),o=parseInt(s.attr("data-aui-tab-width"),10);o<a&&this.moveTabOutOfDropdown(s,e),a-=o}},moveTabOutOfDropdown:function(t,a){t.find("a").hasClass("aui-dropdown2-checked")&&(t.addClass("active-tab"),a.removeClass("active-tab")),t.children("a").removeClass("aui-dropdown2-radio aui-tabs-responsive-item aui-dropdown2-checked"),a.before(t)}};function w(t){var a=(0,r.default)(t);if(!a.hasClass("aui-tabs-responsive-trigger")){var e=m(a);if(e){var n=(0,r.default)(e);n.addClass("active-pane").siblings(".tabs-pane").removeClass("active-pane");var s=a.parents(".aui-tabs").find(".aui-tabs-responsive-trigger-item a").attr("aria-controls"),o=(0,r.default)(document.getElementById(s));if(o.find("li a").attr("aria-checked",!1).removeClass("checked aui-dropdown2-checked"),o.find("li").removeClass("active-tab"),a.parent("li.menu-item").addClass("active-tab").siblings(".menu-item").removeClass("active-tab"),a.hasClass("aui-tabs-responsive-item")){var u=n.parent(".aui-tabs").find("li.menu-item:not(.aui-tabs-responsive-trigger-item)");u.removeClass("active-tab"),u.find("a").removeClass("checked").removeAttr("aria-checked")}a.hasClass("aui-tabs-responsive-item")&&n.parent(".aui-tabs").find("li.menu-item.aui-tabs-responsive-trigger-item").addClass("active-tab"),a.closest(".tabs-menu").find("a").attr("aria-selected","false"),a.attr("aria-selected","true"),a.trigger("tabSelect",{tab:a,pane:n})}else i.error("Cannot switch to tab panel because it does not exist. Check whether the tab link href is correct.",t)}}function C(t){return void 0!==t.attr("data-aui-persist")&&"false"!==t.attr("data-aui-persist")}function T(t){var a=t.attr("id"),e=t.attr("data-aui-persist");return p+(a||"")+(e&&"true"!==e?"-"+e:"")}function k(t){S.change((0,r.default)(t.target).closest("a")),t&&t.preventDefault()}function y(t){t.forEach((function(t,a){!function(t,a){var e=(0,r.default)(t),i=e.find(".tabs-menu").first(),n=i.find("li:not(.aui-tabs-responsive-trigger-item)"),s=i.find(".aui-tabs-responsive-trigger").parent(),o=s.find("a"),u=o.attr("aria-controls"),d=(0,r.default)(document.getElementById(u)).attr("aria-checked",!1),l=d.length>0,c=g.totalTabsWidth(n,d)>e.outerWidth();if(!l&&c&&(s=g.createResponsiveDropdownTrigger(i,a),d=g.createResponsiveDropdown(e,a)),o.attr("aria-controls","aui-tabs-responsive-dropdown-"+a),o.attr("id","aui-tabs-responsive-trigger-"+a),o.attr("href","#aui-tabs-responsive-trigger-"+a),d.attr("id","aui-tabs-responsive-dropdown-"+a),c){var f=g.moveVisibleTabs(n.toArray(),e,s),b=g.totalVisibleTabWidth(f),p=e.outerWidth()-b-s.outerWidth(!0);if(p>0){var v=d.find("li");g.moveInvisibleTabs(v.toArray(),p,s)}e.hasClass("aui-tabs-disabled")||d.on("click.aui-tabs","a",k),i.is(":visible")&&i.hide().show()}l&&!c&&(d.find("li").each((function(){g.moveTabOutOfDropdown((0,r.default)(this),s)})),g.removeResponsiveDropdown(d,s))}(t,a)}))}function A(){return(0,r.default)(v).toArray()}function W(t){var a=(0,r.default)(t);if(t.setAttribute("role","application"),!a.data("aui-tab-events-bound")){var e=a.children("ul.tabs-menu");e.attr("role","tablist"),e.children("li").attr("role","presentation"),e.find("> .menu-item a").each((function(){var t,a,e;t=this,a=(0,r.default)(t),e=m(a),h(t)||i.error('A tab link must use an anchor link (e.g., <a href="#a-valid-id"></a>) to work correctly.',t),e?(d(a),a.attr("role","tab"),(0,r.default)(e).attr("aria-labelledby",a.attr("id")),a.parent().hasClass("active-tab")?a.attr("aria-selected","true"):a.attr("aria-selected","false")):i.warn("A tab panel could not be found with the tab link's configured href. Check whether the tab link href is correct.",t)})),e.on("click.aui-tabs","a",k),a.data("aui-tab-events-bound",!0),function(t){[].slice.call(t.querySelectorAll(".tabs-pane")).forEach(I)}(t)}}function D(){var t=(0,r.default)(".aui-tabs:not(.aui-tabs-disabled)");t.each((function(){W(this)})),function(t){for(var a=0,e=t.length;a<e;a++){var n=t.eq(a),r=t.get(a);if(C(n)&&window.localStorage)if(n.attr("id")){var s=window.localStorage.getItem(T(n));if(s){var o=r.querySelector(`a[href$="${s}"]`);o&&w(o)}}else i.warn("A tab group must specify an id attribute if it specifies data-aui-persist.")}}(t)}function I(t){t.setAttribute("role","tabpanel")}var S={setup:function(){!function(){const t=(0,n.debounce)(y,200);t(A()),(0,r.default)(window).on("resize.aui-tabs",(()=>t(A())))}(),D(),(0,r.default)(".aui-tabs.vertical-tabs").find("a").each((function(){var t=(0,r.default)(this);t.attr("title")||c(t)&&t.attr("title",t.text())}))},change:function(t){var a=t instanceof HTMLElement||t instanceof r.default?t:document.querySelector(t),e=(0,r.default)(a).first(),n=e.closest(".aui-tabs");w(e),C(n)&&window.localStorage&&function(t){var a=t.closest(".aui-tabs");if(a.attr("id")){var e=h(t);e&&window.localStorage.setItem(T(a),"#"+e)}else i.warn("A tab group must specify an id attribute if it specifies data-aui-persist.")}(e)}};(0,r.default)(S.setup);const R=(0,f.default)("aui-tabs",{created:function(t){(0,r.default)(t).addClass("aui-tabs horizontal-tabs"),f.default.init(t),W(t)},template:b('<ul class="tabs-menu">','<content select="li[is=aui-tabs-tab]"></content>',"</ul>",'<content select="aui-tabs-pane"></content>'),prototype:{select:function(t){var a=(0,r.default)(function(t){return t.querySelectorAll("aui-tabs-pane")}(this)).index(t);return a>-1&&S.change(function(t){return t.querySelectorAll("li[is=aui-tabs-tab]")}(this)[a].children[0]),this}}}),E=(0,f.default)("aui-tabs-tab",{extends:"li",created:function(t){(0,r.default)(t).addClass("menu-item")},template:b('<a href="#">',"<strong>","<content></content>","</strong>","</a>")}),O=(0,f.default)("aui-tabs-pane",{attached:function(t){var a=(0,r.default)(function(t){return(0,r.default)(t).closest("aui-tabs").get(0)}(t)),e=(0,r.default)(t),i=a.find("aui-tabs-pane").index(e),n=new E,s=(0,r.default)(n);e.addClass("tabs-pane"),n.firstChild.setAttribute("href","#"+t.id),b.wrap(n).textContent=e.attr("title"),0===i&&e.addClass("active-pane"),e.hasClass("active-pane")&&s.addClass("active-tab"),e.siblings("ul").append(n)},template:b("<content></content>")});(0,s.default)("tabs",S)}},t=>{t.O(0,[8658,2262,1221,5183,4496,1263,5131,5366,2178,3447,9146,1661,9121,8574,5388,2016,1646,8235,5907,2323,6534,9869,6843,700,9610,7794,1545,614,1166,8308,151,9064,2598,7199,5159,3499],(()=>{return a=5994,t(t.s=a);var a}));t.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.d9c35205a2', location = 'aui.chunk.1feadfdc60d0b532f233--0578665e50572a5f41ef.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[9065],{8042:(u,i,a)=>{a.r(i),a.d(i,{INPUT_SUFFIX:()=>n});const n="-input"}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.766101891a', location = 'aui.chunk.f7deb0d52e14fa5573a8--c17318767c223f2a4fcb.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[3509],{4222:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var s=i(7364),u=i(8239),r=i.n(u),a=i(9392),h=r().Collection.extend({initialize:function(t,e){e||(e={}),e.matcher&&(this.matcher=e.matcher),e.model&&(this.model=e.model),this._idAttribute=(new this.model).idAttribute,this._maxResults=e.maxResults||5,this._queryData=e.queryData||{},this._queryParamKey=e.queryParamKey||"q",this._queryEndpoint=e.queryEndpoint||"",this.value=null,this.queryCache={},this.activeQueryCount=0,(0,s.bindAll)(this,"query","respond")},url:function(){return this._queryEndpoint},query:function(t){var e,i;this.value=t,i=this.getFilteredResults(t),this.respond(t,i),t&&this._queryEndpoint&&!this.hasQueryCache(t)&&this.shouldGetMoreResults(i)&&(e=this.fetch(t),this.activeQueryCount++,this.trigger("activity",{activity:!0}),e.always((()=>{this.activeQueryCount--,this.trigger("activity",{activity:!!this.activeQueryCount})})),e.done(((e,i,s)=>{this.addQueryCache(t,e,s)})),e.done((()=>{t=this.value,i=this.getFilteredResults(t),this.respond(t,i)})))},getQueryData:function(t){var e=(0,s.isFunction)(this._queryData)?this._queryData(t):this._queryData,i=(0,s.extend)({},e);return i[this._queryParamKey]=t,i},fetch:function(t){var e={add:!0,update:!0,remove:!1,data:this.getQueryData(t)};return r().Collection.prototype.fetch.call(this,e)},respond:function(t,e){return this.trigger("respond",{query:t,results:e}),e},matcher:function(t,e){},getFilteredResults:function(t){var e=[];return t?(e=this.filter((function(e){return!!this.matcher(e,t)}),this),this._maxResults&&(e=(0,s.first)(e,this._maxResults)),e):e},addQueryCache:function(t,e,i){var u=this.queryCache,r=this.parse(e,i);u[t]=(0,s.pluck)(r,this._idAttribute)},hasQueryCache:function(t){return this.queryCache.hasOwnProperty(t)},findQueryCache:function(t){return this.queryCache[t]},shouldGetMoreResults:function(t){return t.length<this._maxResults},setMaxResults:function(t){this._maxResults=t,this.value&&this.respond(this.value,this.getFilteredResults(this.value))}});(0,a.default)("ProgressiveDataSet",h);const n=h}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.form.single-select', location = 'aui.chunk.6d2d57d4bbb7bfdd0359--6674e55336d1a5a1d586.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[4700],{8376:(e,t,i)=>{i.r(t),i.d(t,{SelectEl:()=>Y});i(1667);var n=i(6311),u=(i(7601),i(7826)),s=(i(849),i(6249)),o=i(9106);const l=(0,s.default)("aui-option",{created:function(e){Object.defineProperty(e,"value",{get:function(){return e.getAttribute("value")||(0,o.default)(this.textContent)},set:function(t){e.setAttribute("value",t)}})},prototype:{serialize:function(){var e={};return this.hasAttribute("img-src")&&(e["img-src"]=encodeURI(this.getAttribute("img-src"))),e.value=this.value,e.label=(0,o.default)(this.textContent),e}}});var a=i(1415),r=i(5214),c=i(9392),d=i(2390),g=i(4222),h=i(2618),f=i(8239);const v=i.n(f)().Model.extend({idAttribute:"value",getLabel:function(){return this.get("label")||this.get("value")}});function _(){this._suggestions=[],this._activeIndex=-1}_.prototype={onChange:function(){},onHighlightChange:function(){},get:function(e){return this._suggestions[e]},set:function(e){var t=this._suggestions;return this._suggestions=e||[],this.onChange(t),this},getNumberOfResults:function(){return this._suggestions.length},setHighlighted:function(e){if(e)for(var t=0;t<this._suggestions.length;t++)this._suggestions[t].id===e.id&&this.highlight(t);return this},highlight:function(e){return this._activeIndex=e,this.onHighlightChange(),this},highlightPrevious:function(){const e=this._activeIndex,t=0===e?this._suggestions.length-1:e-1;return this.highlight(t),this},highlightNext:function(){const e=this._activeIndex,t=e===this._suggestions.length-1?0:e+1;return this.highlight(t),this},highlighted:function(){return this.get(this._activeIndex)},highlightedIndex:function(){return this._activeIndex}};const p=_;var b=i(5338),m=i(2496);function y(e,t){return e+"-"+t}function w(e,t){this.el=e,this.anchor=t}function A(e){(0,n.default)(e).find(".aui-select-active").removeClass("aui-select-active")}w.prototype={render:function(e,t,i,n){this.currListId=i;let s="";if(e.length){for(let o=0;o<e.length;o++){const l=e[o],a=o+t,r=l.getLabel(),c=l.get("img-src"),d=c?`<img src="${encodeURI(c)}"/>`:"",g=l.get("new-value")?` (<em>${"new value"}</em>)`:"";s+=`<li role="option" class="aui-select-suggestion" aria-selected="${n===a}" id="${y(i,a)}">${d}${r}${g}</li>`}t?this.el.querySelector("ul").innerHTML+=s:this.el.querySelector("ul").innerHTML=s}else t||(this.el.querySelector("ul").innerHTML=`<li role="option" class="aui-select-no-suggestions">${"No suggestions"}</li>`);return this},setActive:function(e){A(this.el),(0,n.default)(this.el).find("#"+y(this.currListId,e)).addClass("aui-select-active")},getActive:function(){return this.el.querySelector(".aui-select-active")},show:function(){var e;e=this,(0,n.default)(e.el).css("min-width",(0,n.default)(e.anchor).outerWidth()),(0,m.default)(this.el).show(),function(e){e.anchor&&!e._auiAlignment&&(e._auiAlignment=new b.default(e.el,e.anchor,{flipContainer:"scrollParent",positionFixed:!1,preventOverflow:!1,flip:!1})),e._auiAlignment&&(e._auiAlignment.enable(),e._auiAlignment.scheduleUpdate())}(this)},hide:function(){var e;A(this.el),(0,m.default)(this.el).hide(),(e=this)._auiAlignment&&e._auiAlignment.disable()},destroy:function(){var e;this.hide(),(e=this)._auiAlignment&&(e._auiAlignment.destroy(),delete e._auiAlignment),delete this.currListId},isVisible:function(){return(0,n.default)(this.el).is(":visible")}};const x=w;var S=i(9002);const C=i.n(S)()('\n    <input type="text" class="text" role="combobox" aria-expanded="false">\n    <select></select>\n    <datalist>\n        <content select="aui-option"></content>\n    </datalist>\n    <button class="aui-button" tabindex="-1" type="button"></button>\n    <div class="aui-popover" data-aui-alignment="bottom left" hidden>\n        <ul role="listbox" class="aui-optionlist"></ul>\n    </div>\n    <div class="aui-select-status assistive" aria-live="polite" role="status"></div>\n');var I=i(8082),M=i(8042),q=i(7582);const k=-1,T=-1,V=50;function D(e){e._select.selectedIndex=k,function(e){e._input.removeAttribute("style"),(0,n.default)(e._input).removeClass("aui-select-has-inline-image")}(e)}function E(e){return e._suggestionModel.getNumberOfResults()}function L(e,t){return 0===e.get("label").toLowerCase().indexOf(t.toLowerCase())}function H(e){e._input.setAttribute("aria-expanded","false"),e._button.setAttribute("aria-expanded","false"),e._input.removeAttribute("aria-activedescendant"),B(e,"")}function O(e){e._suggestionsView.hide(),H(e)}function $(e,t,i){e._autoHighlight=t,void 0===i&&(i=e._input.value),e._progressiveDataSet.query(i)}function R(e){var t=e._suggestionModel.highlighted()&&e._suggestionModel.highlighted().get("img-src");t&&function(e,t){(0,n.default)(e._input).addClass("aui-select-has-inline-image"),e._input.setAttribute("style","background-image: url("+encodeURI(t)+")")}(e,t)}function N(e,t){if(t){var i,n=document.createElement("option"),u=e._select,s=t.get("value")||t.get("label"),o=(i=t.getLabel(),(new DOMParser).parseFromString(i,"text/html").documentElement.textContent);n.setAttribute("selected",""),n.setAttribute("value",s),n.textContent=o,e._input.value=o,u.innerHTML="",u.options.add(n),u.dispatchEvent(new r.default("change",{bubbles:!0}))}}function P(e){N(e,e._suggestionModel.highlighted()),R(e),O(e)}function U(e){return new v(e.serialize())}function W(e){for(var t=[],i=0;i<e._datalist.children.length;i++){var n=e._datalist.children[i];t.push(U(n))}return t}function F(e){var t=e._dropdown.querySelector(".aui-select-active");return t&&t.id}function Q(e,t){return n.default.map(t,(function(e){return e.id})).indexOf(e)}function z(e){e._progressiveDataSet=new g.default(W(e),{model:v,matcher:L,queryEndpoint:e._queryEndpoint,maxResults:20}),e._isSync=!e._queryEndpoint,e._progressiveDataSet.on("activity",(function(){e._progressiveDataSet.activeQueryCount&&!e._isSync?(!function(e){e._button.isBusy()||(e._button.busy(),e._input.setAttribute("aria-busy","true"),e._dropdown.setAttribute("aria-busy","true"))}(e),(0,h.default)(e).set("should-flag-new-suggestions",!1)):(!function(e){e._button.idle(),e._input.setAttribute("aria-busy","false"),e._dropdown.setAttribute("aria-busy","false")}(e),(0,h.default)(e).set("should-flag-new-suggestions",!0))})),e._progressiveDataSet.on("respond",(function(t){if(t.query&&!e._input.value)return;if((0,h.default)(e).get("should-cancel-response"))return void(e._progressiveDataSet.activeQueryCount||(0,h.default)(e).set("should-cancel-response",!1));t.query||(t.results=W(e));var i=-1!==Q(e._input.value,t.results),n=!e._input.value;!e.hasAttribute("can-create-values")||i||n||t.results.push(function(e){var t=new l;t.setAttribute("value",e._input.value);var i=U(t);return i.set("new-value",!0),i}(e));let s=Q(e.value,t.results);s=-1===s?0:s;const o=function(e,t){const i=e._suggestionModel.getNumberOfResults();return e._suggestionModel.set(),e._suggestionModel.set(t.results),i!==e._suggestionModel.getNumberOfResults()}(e,t),a=t.results[s];e._autoHighlight&&(e._suggestionModel.setHighlighted(a),setTimeout((function(){const t=F(e);null!=t?e._input.setAttribute("aria-activedescendant",t):e._input.removeAttribute("aria-activedescendant")}),V)),e._input.setAttribute("aria-expanded","true"),e._button.setAttribute("aria-expanded","true"),!e._isSync&&o&&e._suggestionsView.getActive()&&(0,h.default)(e).get("should-flag-new-suggestions")&&(e.querySelector(".aui-select-status").innerHTML="New suggestions added. Please use the up and down arrows to select."),e._suggestionsView.show()}))}function B(e,t){clearTimeout(e.assistiveStatusTimerId),e.assistiveStatusTimerId=setTimeout((()=>{const i=e._assistiveStatus.innerText;t!==i&&(e._assistiveStatus.innerText=t)}),V)}function j(e){$(e,!0,e.value?"":e._input.value)}function G(e){(function(e){return e._progressiveDataSet.activeQueryCount>0})(e)&&(0,h.default)(e).set("should-cancel-response",!0)}function X(e){if(e._select.selectedIndex>=0)return e._select.options[e._select.selectedIndex].textContent}function J(e){G(e),function(e){var t=!e.hasAttribute("no-empty-values"),i=!e._input.value,n=e._input.value!==X(e);if(i||n)if(t)D(e);else{var u=X(e);void 0===u?D(e):e._input.value=u}}(e),function(e){e._suggestionModel.highlight(T)}(e),O(e)}const K=(0,s.default)("aui-select",{template:C,created:function(e){e._listId=(0,I.default)(),e._input=e.querySelector("input"),e._select=e.querySelector("select"),e._dropdown=e.querySelector(".aui-popover"),e._datalist=e.querySelector("datalist"),e._button=e.querySelector("button"),e._assistiveStatus=e.querySelector(".aui-select-status.assistive"),e._suggestionsView=new x(e._dropdown,e._input),e._suggestionModel=new p,e._suggestionModel.onChange=function(t){const i=[];e._suggestionModel._suggestions.forEach((function(e){t.some((t=>e.id===t.id))||i.push(e)}));const n=W(e),s=Q(e.value,n),o=t.length+i.length?"":`${"No suggestions"}`;e._suggestionsView.render(i,t.length,e._listId,s),B(e,o)},e._suggestionModel.onHighlightChange=function(){const t=e._suggestionModel.highlightedIndex();e._suggestionsView.setActive(t);const i=F(e);null!=i?e._input.setAttribute("aria-activedescendant",i):e._input.removeAttribute("aria-activedescendant")}},attached:function(e){s.default.init(e),z(e),function(e){e._dropdown.id=e._listId,e.querySelector("button").setAttribute("aria-controls",e._listId)}(e),e._input.setAttribute("aria-controls",e._listId),function(e){(0,n.default)(e._dropdown).on("mouseover","li",(function(t){E(e)&&e._suggestionModel.highlight((0,n.default)(t.target).index())}))}(e),function(e){let t=!1;(0,n.default)(document).on("aui-close-layers-on-outer-click.single-select",(e=>{t&&(e.preventDefault(),t=!1)})),(0,n.default)(e._dropdown).on("mousedown","li",(function(i){if(!E(e))return!1;e._suggestionModel.highlight((0,n.default)(i.target).index()),P(e),(0,n.default)(e).closest(".aui-layer").length>0&&(t=!0)}))}(e),function(e){var t=e._datalist.querySelector("aui-option[selected]");t&&N(e,U(t))}(e),function(e){var t=E(e)?0:T;e._suggestionModel.highlight(t),O(e)}(e),R(e)},detached:function(e){(0,n.default)(document).off("aui-close-layers-on-outer-click"),(0,q.ifGone)(e).then((()=>{O(e),e._suggestionsView.destroy()}))},attributes:{id(e,t){e.id&&(e.querySelector("input").id=t.newValue+M.INPUT_SUFFIX)},name(e,t){e.querySelector("select").setAttribute("name",t.newValue),e.querySelector("select").setAttribute("aria-label",`${t.newValue} list`),e.querySelector("button").setAttribute("aria-label",`${t.newValue} list`),e.querySelector('ul[role="listbox"]').setAttribute("aria-label",`${t.newValue} list`)},placeholder(e,t){e.querySelector("input").setAttribute("placeholder",t.newValue)},src(e,t){e._queryEndpoint=t.newValue}},events:{"blur input":function(e){J(e)},"mousedown button":function(e){document.activeElement!==e._input||e._dropdown.hasAttribute("hidden")||(0,h.default)(e).set("prevent-open-on-button-click",!0)},"click input":function(e){j(e)},"click button":function(e){var t=(0,h.default)(e);t.get("prevent-open-on-button-click")?t.set("prevent-open-on-button-click",!1):((0,h.default)(e).set("button-clicked-prevent-dropdown-hide",!0),e.focus())},input:function(e){e._input.value?$(e,!0):(0,h.default)(e).get("button-clicked-prevent-dropdown-hide")?(0,h.default)(e).set("button-clicked-prevent-dropdown-hide",!1):O(e)},"keydown input":function(e,t){var i=e._input.value,n=!1;if(t.keyCode===d.default.ESCAPE)return G(e),void H(e);e._suggestionsView.isVisible()&&E(e)?t.keyCode===d.default.ENTER?(G(e),P(e),t.preventDefault()):t.keyCode===d.default.TAB?(P(e),n=!0):t.keyCode===d.default.UP?(e._suggestionModel.highlightPrevious(),t.preventDefault()):t.keyCode===d.default.DOWN&&(e._suggestionModel.highlightNext(),t.preventDefault()):t.keyCode!==d.default.UP&&t.keyCode!==d.default.DOWN||(j(e),t.preventDefault()),n=n||t.defaultPrevented,setTimeout((function(){e._input.value===i||n||e.dispatchEvent(new r.default("input",{bubbles:!0}))}),0)}},prototype:{get value(){var e=this._select.options[this._select.selectedIndex];return e?e.value:""},set value(e){if(""===e)(n=this)._input.value="",n._select.innerHTML="";else if(e){var t=this._progressiveDataSet,i=t.findWhere({value:e})||t.findWhere({label:e});!i&&this.hasAttribute("can-create-values")&&(i=new v({value:e,label:e})),N(this,i)}var n;return this},get displayValue(){return this._input.value},blur:function(){return this._input.blur(),J(this),this},focus:function(){return this._input.focus(),j(this),this}}});(0,a.default)("aui/select",K),(0,c.default)("select",K);const Y=K}},e=>{e.O(0,[8658,2262,1221,5183,7624,4496,1263,5131,5366,2178,3910,3447,9146,1661,5828,9121,8574,5388,2016,1646,8235,5907,9489,2323,6534,9869,6843,700,1700,9610,7794,449,1545,328,614,1166,151,2598,2297,6158,9065,3509,2914],(()=>{return t=8376,e(e.s=t);var t}));e.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.form.toggle', location = 'aui.chunk.abde61441eb45a1be47d--0779bf3d32bccb926d8d.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[6991],{7948:(e,t,i)=>{i.r(t),i.d(t,{ToggleEl:()=>L});i(1667),i(7935),i(849),i(8054);var n=i(6311),a=i(3398),u=i(1963),s=i(2703),o=i(2390),l=i(9002),c=i.n(l),r=i(6249),d=i(8042),f=i(5214),h=i(3460),b=i(7826);function g(e){return e._input||(e._input=e.querySelector("input"))}function p(e){return e._spinner||(e._spinner=new h.default)}function v(e,t){g(t).removeAttribute(e)}function m(e,t,i){g(t).setAttribute(e,i.newValue)}function k(e){return{removed:v.bind(this,e),fallback:m.bind(this,e)}}const A={removed:function(e){v.call(this,"form",e),e._formId=null},fallback:function(e,t){m.call(this,"form",e,t),e._formId=t.newValue}},y={removed:v.bind(void 0,"id"),fallback:function(e,t){const i=`${t.newValue}${d.INPUT_SUFFIX}`;g(e).setAttribute("id",i)}},w={removed:function(e){v.call(this,"value",e),g(e).value="on"},fallback:function(e,t){m.call(this,"value",e,t)}},_={removed:function(e){g(e).checked=!1},fallback:function(e){g(e).checked=!0}},E={removed:function(e){g(e).removeAttribute("aria-label")},fallback:function(e,t){g(e).setAttribute("aria-label",t.newValue)}};const I=(0,r.default)("aui-toggle",{template:c()('<input type="checkbox" role="switch" class="aui-toggle-input assistive">','<span class="aui-toggle-view">','<span class="aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success"></span>','<span class="aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog"></span>',"</span>"),created:function(e){g(e),p(e).setAttribute("size",h.SIZE.SMALL.name),(0,n.default)(g(e)).tooltip({title:function(){return this.checked?this.getAttribute("tooltip-on"):this.getAttribute("tooltip-off")},gravity:"s",hoverable:!1}),function(e){g(e).addEventListener("keydown",(function(t){e.busy&&t.keyCode===o.default.SPACE&&t.preventDefault()})),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g(e).addEventListener("click",(function(t){e.busy&&t.preventDefault()})),(0,u.supportsFocusWithin)()||(e._input.addEventListener("focus",(()=>e.classList.add("active"))),e._input.addEventListener("blur",(()=>e.classList.remove("active"))))}(e),e.hasAttribute("checked")&&g(e).setAttribute("checked",""),e._canFireEventsNow=!0},attached:function(e){(0,s.default)(e).attributeExists("label")},events:{click:function(e,t){const i=g(e);e.disabled||e.busy||t.target===i||(i.checked=!i.checked,function(e){e._canFireEventsNow&&e.dispatchEvent(new f.default("change",{bubbles:!0}))}(e)),(0,a.setBooleanAttribute)(e,"checked",i.checked)}},attributes:{id:y,checked:_,disabled:k("disabled"),form:A,name:k("name"),value:w,"tooltip-on":{value:"On",fallback:function(e,t){g(e).setAttribute("tooltip-on",t.newValue||"On")}},"tooltip-off":{value:"Off",fallback:function(e,t){g(e).setAttribute("tooltip-off",t.newValue||"Off")}},label:E},prototype:{focus:function(){return g(this).focus(),this},get checked(){return g(this).checked},set checked(e){g(this).checked!==e&&(g(this).checked=e,(0,a.setBooleanAttribute)(this,"checked",e))},get disabled(){return g(this).disabled},set disabled(e){return(0,a.setBooleanAttribute)(this,"disabled",e)},get form(){return document.getElementById(this._formId)},set form(e){return A.fallback.call(this,this,{newValue:e||null}),this.form},get name(){return g(this).name},set name(e){return this.setAttribute("name",e),e},get value(){return g(this).value},set value(e){let t=null===e?"":e;return this.setAttribute("value",t),t},get busy(){return"true"===g(this).getAttribute("aria-busy")},set busy(e){const t=g(this),i=p(this);var u,s;return(0,a.setBooleanAttribute)(this,"busy",e),e?(t.setAttribute("aria-busy","true"),t.indeterminate=!0,this.checked?(t.classList.add("indeterminate-checked"),(0,n.default)(this.querySelector(".aui-toggle-tick")).append(i)):(0,n.default)(this.querySelector(".aui-toggle-cross")).append(i)):(t.classList.remove("indeterminate-checked"),t.indeterminate=!1,t.removeAttribute("aria-busy"),i.parentNode&&i.parentNode.removeChild(this._spinner)),s=!!e,(u=this).id&&Array.prototype.forEach.call(document.querySelectorAll(`aui-label[for="${u.id}"]`),(function(e){e.disabled=s})),e}}}),L=I}},e=>{e.O(0,[8658,2262,1221,5183,2832,4496,1263,5131,5366,2178,3910,3447,9146,1661,5828,9121,8574,5388,1646,5907,9489,2323,6843,1700,449,1545,328,9064,381,2721,6297,6158,2190,9065],(()=>{return t=7948,e(e.s=t);var t}));e.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.form.label', location = 'aui.chunk.dc91f95d3acf4a6f5e5b--30d255e33b0c494b5944.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[2775],{3158:(t,e,r)=>{r.r(e),r.d(e,{LabelEl:()=>s});r(1667);var i=r(6249),a=r(9002),u=r.n(a),l=r(2703),n=r(8042);function b(t){return t.querySelector("label")}const s=(0,i.default)("aui-label",{template:u()("<label><content></content></label>"),created:function(t){t._label=b(t)},attached:function(t){(0,l.default)(t).attributeExists("for")},attributes:{for:function(t,e){t.hasAttribute("for")?b(t).setAttribute("for",`${e.newValue}${n.INPUT_SUFFIX}`):b(t).removeAttribute("for")},form:function(t,e){t.hasAttribute("form")?b(t).setAttribute("form",e.newValue):b(t).removeAttribute("form")}},prototype:{get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}},events:{click:function(t,e){t.disabled&&e.preventDefault()}}})}},t=>{t.O(0,[8658,5183,4496,1263,5131,5366,2178,3910,9146,1661,5828,8574,5388,9489,1700,449,328,2721,9065],(()=>{return e=3158,t(t.s=e);var e}));t.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--4a3ab9ef75', location = 'aui.chunk.7a11bb7f7f3bc3906399--e216f19afb36331803f3.js' */
(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[7381],{906:(t,i,e)=>{var s,h,n;
/*!
 * jQuery UI Disable Selection 1.13.3
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */!function(o){"use strict";h=[e(4440),e(3309)],void 0===(n="function"==typeof(s=function(t){return t.fn.extend({disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(i+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var i})?s.apply(i,h):s)||(t.exports=n)}()},746:(t,i,e)=>{var s,h,n;
/*!
 * jQuery UI Resizable 1.13.3
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */!function(o){"use strict";h=[e(4440),e(7228),e(906),e(6786),e(3309),e(9229)],s=function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.13.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(i,e){if("hidden"===t(i).css("overflow"))return!1;var s=e&&"left"===e?"scrollLeft":"scrollTop",h=!1;if(i[s]>0)return!0;try{i[s]=1,h=i[s]>0,i[s]=0}catch(t){}return h},_create:function(){var i,e=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,i={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(i),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(i),this._proportionallyResize()),this._setupHandles(),e.autoHide&&t(this.element).on("mouseenter",(function(){e.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())})).on("mouseleave",(function(){e.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var i,e=function(i){t(i).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(e(this.element),i=this.element,this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,i){switch(this._super(t,i),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!i}},_setupHandles:function(){var i,e,s,h,n,o=this.options,a=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this._addedHandles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},e=0;e<s.length;e++)h="ui-resizable-"+(i=String.prototype.trim.call(s[e])),n=t("<div>"),this._addClass(n,"ui-resizable-handle "+h),n.css({zIndex:o.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.children(this.handles[i]).length||(this.element.append(n),this._addedHandles=this._addedHandles.add(n));this._renderAxis=function(i){var e,s,h,n;for(e in i=i||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=t(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth(),h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),i.css(h,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")})),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(i){var e,s,h=!1;for(e in this.handles)((s=t(this.handles[e])[0])===i.target||t.contains(s,i.target))&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(i){var e,s,h,n=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(e+=t(n.containment).scrollLeft()||0,s+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:s},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,h=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===h?this.axis+"-resize":h),this._addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(i){var e,s,h=this.originalMousePosition,n=this.axis,o=i.pageX-h.left||0,a=i.pageY-h.top||0,l=this._change[n];return this._updatePrevProperties(),!!l&&(e=l.apply(this,[i,o,a]),this._updateVirtualBoundaries(i.shiftKey),(this._aspectRatio||i.shiftKey)&&(e=this._updateRatio(e,i)),e=this._respectSize(e,i),this._updateCache(e),this._propagate("resize",i),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",i,this.ui()),this._applyChanges()),!1)},_mouseStop:function(i){this.resizing=!1;var e,s,h,n,o,a,l,r=this.options,p=this;return this._helper&&(h=(s=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:p.sizeDiff.height,n=s?0:p.sizeDiff.width,o={width:p.helper.width()-n,height:p.helper.height()-h},a=parseFloat(p.element.css("left"))+(p.position.left-p.originalPosition.left)||null,l=parseFloat(p.element.css("top"))+(p.position.top-p.originalPosition.top)||null,r.animate||this.element.css(t.extend(o,{top:l,left:a})),p.helper.height(p.size.height),p.helper.width(p.size.width),this._helper&&!r.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",i),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.helper.css(t),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px",this.helper.width(t.width)),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px",this.helper.height(t.height)),t},_updateVirtualBoundaries:function(t){var i,e,s,h,n,o=this.options;n={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(i=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,e=n.maxHeight*this.aspectRatio,h=n.maxWidth/this.aspectRatio,i>n.minWidth&&(n.minWidth=i),s>n.minHeight&&(n.minHeight=s),e<n.maxWidth&&(n.maxWidth=e),h<n.maxHeight&&(n.maxHeight=h)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var i=this.position,e=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=i.left+(e.width-t.width),t.top=null),"nw"===s&&(t.top=i.top+(e.height-t.height),t.left=i.left+(e.width-t.width)),t},_respectSize:function(t){var i=this._vBoundaries,e=this.axis,s=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,h=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,n=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,o=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,r=/sw|nw|w/.test(e),p=/nw|ne|n/.test(e);return n&&(t.width=i.minWidth),o&&(t.height=i.minHeight),s&&(t.width=i.maxWidth),h&&(t.height=i.maxHeight),n&&r&&(t.left=a-i.minWidth),s&&r&&(t.left=a-i.maxWidth),o&&p&&(t.top=l-i.minHeight),h&&p&&(t.top=l-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var i=0,e=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],h=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];i<4;i++)e[i]=parseFloat(s[i])||0,e[i]+=parseFloat(h[i])||0;return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,i=0,e=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)t=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})},_renderProxy:function(){var i=this.element,e=this.options;this.elementOffset=i.offset(),this._helper?(this.helper=this.helper||t("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,i){return{width:this.originalSize.width+i}},w:function(t,i){var e=this.originalSize;return{left:this.originalPosition.left+i,width:e.width-i}},n:function(t,i,e){var s=this.originalSize;return{top:this.originalPosition.top+e,height:s.height-e}},s:function(t,i,e){return{height:this.originalSize.height+e}},se:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},sw:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[i,e,s]))},ne:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},nw:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[i,e,s]))}},_propagate:function(i,e){t.ui.plugin.call(this,i,[e,this.ui()]),"resize"!==i&&this._trigger(i,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(i){var e=t(this).resizable("instance"),s=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&e._hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseFloat(e.element.css("left"))+(e.position.left-e.originalPosition.left)||null,p=parseFloat(e.element.css("top"))+(e.position.top-e.originalPosition.top)||null;e.element.animate(t.extend(l,p&&r?{top:p,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(e.element.css("width")),height:parseFloat(e.element.css("height")),top:parseFloat(e.element.css("top")),left:parseFloat(e.element.css("left"))};h&&h.length&&t(h[0]).css({width:s.width,height:s.height}),e._updateCache(s),e._propagate("resize",i)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,e,s,h,n,o,a,l=t(this).resizable("instance"),r=l.options,p=l.element,d=r.containment,g=d instanceof t?d.get(0):/parent/.test(d)?p.parent().get(0):d;g&&(l.containerElement=t(g),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(g),e=[],t(["Top","Right","Left","Bottom"]).each((function(t,s){e[t]=l._num(i.css("padding"+s))})),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-e[3],width:i.innerWidth()-e[1]},s=l.containerOffset,h=l.containerSize.height,n=l.containerSize.width,o=l._hasScroll(g,"left")?g.scrollWidth:n,a=l._hasScroll(g)?g.scrollHeight:h,l.parentData={element:g,left:s.left,top:s.top,width:o,height:a}))},resize:function(i){var e,s,h,n,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||i.shiftKey,d={top:0,left:0},g=o.containerElement,u=!0;g[0]!==document&&/static/.test(g.css("position"))&&(d=l),r.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),p&&(o.size.height=o.size.width/o.aspectRatio,u=!1),o.position.left=a.helper?l.left:0),r.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),p&&(o.size.width=o.size.height*o.aspectRatio,u=!1),o.position.top=o._helper?l.top:0),h=o.containerElement.get(0)===o.element.parent().get(0),n=/relative|absolute/.test(o.containerElement.css("position")),h&&n?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,p&&(o.size.height=o.size.width/o.aspectRatio,u=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,p&&(o.size.width=o.size.height*o.aspectRatio,u=!1)),u||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var i=t(this).resizable("instance"),e=i.options,s=i.containerOffset,h=i.containerPosition,n=i.containerElement,o=t(i.helper),a=o.offset(),l=o.outerWidth()-i.sizeDiff.width,r=o.outerHeight()-i.sizeDiff.height;i._helper&&!e.animate&&/relative/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r}),i._helper&&!e.animate&&/static/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var i=t(this).resizable("instance").options;t(i.alsoResize).each((function(){var i=t(this);i.data("ui-resizable-alsoresize",{width:parseFloat(i.css("width")),height:parseFloat(i.css("height")),left:parseFloat(i.css("left")),top:parseFloat(i.css("top"))})}))},resize:function(i,e){var s=t(this).resizable("instance"),h=s.options,n=s.originalSize,o=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};t(h.alsoResize).each((function(){var i=t(this),s=t(this).data("ui-resizable-alsoresize"),h={},n=i.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(n,(function(t,i){var e=(s[i]||0)+(a[i]||0);e&&e>=0&&(h[i]=e||null)})),i.css(h)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var i=t(this).resizable("instance"),e=i.size;i.ghost=i.originalElement.clone(),i.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),i._addClass(i.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof i.options.ghost&&i.ghost.addClass(this.options.ghost),i.ghost.appendTo(i.helper)},resize:function(){var i=t(this).resizable("instance");i.ghost&&i.ghost.css({position:"relative",height:i.size.height,width:i.size.width})},stop:function(){var i=t(this).resizable("instance");i.ghost&&i.helper&&i.helper.get(0).removeChild(i.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var i,e=t(this).resizable("instance"),s=e.options,h=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,r=l[0]||1,p=l[1]||1,d=Math.round((h.width-n.width)/r)*r,g=Math.round((h.height-n.height)/p)*p,u=n.width+d,c=n.height+g,f=s.maxWidth&&s.maxWidth<u,m=s.maxHeight&&s.maxHeight<c,z=s.minWidth&&s.minWidth>u,w=s.minHeight&&s.minHeight>c;s.grid=l,z&&(u+=r),w&&(c+=p),f&&(u-=r),m&&(c-=p),/^(se|s|e)$/.test(a)?(e.size.width=u,e.size.height=c):/^(ne)$/.test(a)?(e.size.width=u,e.size.height=c,e.position.top=o.top-g):/^(sw)$/.test(a)?(e.size.width=u,e.size.height=c,e.position.left=o.left-d):((c-p<=0||u-r<=0)&&(i=e._getPaddingPlusBorderDimensions(this)),c-p>0?(e.size.height=c,e.position.top=o.top-g):(c=p-i.height,e.size.height=c,e.position.top=o.top+n.height-c),u-r>0?(e.size.width=u,e.position.left=o.left-d):(u=r-i.width,e.size.width=u,e.position.left=o.left+n.width-u))}}),t.ui.resizable},void 0===(n="function"==typeof s?s.apply(i,h):s)||(t.exports=n)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.resizable', location = 'aui.chunk.ff9491b366797e5e1654--8476917e0bc072c25272.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[2842],{9070:(u,a,e)=>{e.r(a),e.d(a,{default:()=>i});e(746);const i="jquery"}},u=>{u.O(0,[9100,5947,5996,9067,7381,4496],(()=>{return a=9070,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e391672cb5b01257bc77ea0d3c2a9e60', location = 'build/8220.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8220],{57132:function(t,e,n){var r=n(86005).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},88220:function(t,e,n){var r=n(92128),c=n(88052),i=n(2484),o=n(92360),u=n(19859),f=n(70671),s=n(3844),l=n(24956).f,a=n(37837),g=n(34584),p=n(17267),h=n(83614),v=n(42537),_=n(57132),d=n(25236),x=n(42675),y=n(44461),k=n(16369).enforce,w=n(80461),E=n(54175),S=n(50991),b=n(35722),R=E("match"),m=c.RegExp,A=m.prototype,C=c.SyntaxError,I=i(A.exec),D=i("".charAt),O=i("".replace),P=i("".indexOf),T=i("".slice),U=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Y=/a/g,K=/a/g,M=new m(Y)!==Y,N=v.MISSED_STICKY,j=v.UNSUPPORTED_Y,q=r&&(!M||N||S||b||x((function(){return K[R]=!1,m(Y)!==Y||m(K)===K||"/a/i"!==String(m(Y,"i"))})));if(o("RegExp",q)){for(var z=function(t,e){var n,r,c,i,o,l,v=a(A,this),_=g(t),d=void 0===e,x=[],w=t;if(!v&&_&&d&&t.constructor===z)return t;if((_||a(A,t))&&(t=t.source,d&&(e=h(w))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),w=t,S&&"dotAll"in Y&&(r=!!e&&P(e,"s")>-1)&&(e=O(e,/s/g,"")),n=e,N&&"sticky"in Y&&(c=!!e&&P(e,"y")>-1)&&j&&(e=O(e,/y/g,"")),b&&(i=function(t){for(var e,n=t.length,r=0,c="",i=[],o=s(null),u=!1,f=!1,l=0,a="";r<=n;r++){if("\\"===(e=D(t,r)))e+=D(t,++r);else if("]"===e)u=!1;else if(!u)switch(!0){case"["===e:u=!0;break;case"("===e:if(c+=e,"?:"===T(t,r+1,r+3))continue;I(U,T(t,r+1))&&(r+=2,f=!0),l++;continue;case">"===e&&f:if(""===a||y(o,a))throw new C("Invalid capture group name");o[a]=!0,i[i.length]=[a,l],f=!1,a="";continue}f?a+=e:c+=e}return[c,i]}(t),t=i[0],x=i[1]),o=u(m(t,e),v?this:A,z),(r||c||x.length)&&(l=k(o),r&&(l.dotAll=!0,l.raw=z(function(t){for(var e,n=t.length,r=0,c="",i=!1;r<=n;r++)"\\"!==(e=D(t,r))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),c+=e):c+="[\\s\\S]":c+=e+D(t,++r);return c}(t),n)),c&&(l.sticky=!0),x.length&&(l.groups=x)),t!==w)try{f(o,"source",""===w?"(?:)":w)}catch(t){}return o},B=l(m),F=0;B.length>F;)_(z,m,B[F++]);A.constructor=z,z.prototype=A,d(c,"RegExp",z,{constructor:!0})}w("RegExp")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:016a17be52cc399c55a7026cf8dfe922', location = 'build/9859.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9859],{19859:function(t,e,o){var n=o(321),c=o(94102),l=o(31715);t.exports=function(t,e,o){var r,u;return l&&n(r=e.constructor)&&r!==o&&c(u=r.prototype)&&u!==o.prototype&&l(t,u),t}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:9510affddacf5e712704ed6289ed2fcd', location = 'build/3049.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3049],{73049:function(t,e,n){var u=n(64690).PROPER,c=n(25236),l=n(10659),o=n(17267),s=n(42675),f=n(83614),r="toString",a=RegExp.prototype,i=a[r],p=s((function(){return"/a/b"!==i.call({source:"a",flags:"b"})})),_=u&&i.name!==r;(p||_)&&c(a,r,(function(){var t=l(this);return"/"+o(t.source)+"/"+o(f(t))}),{unsafe:!0})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:c050638cbee993f7f0b6e27d2f4948f1', location = 'build/3614.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3614],{83614:function(t,e,l){var n=l(93625),f=l(44461),s=l(37837),o=l(28303),c=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in c||f(t,"flags")||!s(c,t)?e:n(o,t)}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:0254fe3a121f8d145122f93e9c4a3210', location = 'build/2708.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2708],{38785:function(t,n,e){var r=e(61955).charAt;t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},61955:function(t,n,e){var r=e(2484),i=e(7391),l=e(17267),u=e(64834),c=r("".charAt),o=r("".charCodeAt),a=r("".slice),s=function(t){return function(n,e){var r,s,f=l(u(n)),h=i(e),g=f.length;return h<0||h>=g?t?"":void 0:(r=o(f,h))<55296||r>56319||h+1===g||(s=o(f,h+1))<56320||s>57343?t?c(f,h):r:t?a(f,h,h+2):s-56320+(r-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},62708:function(t,n,e){var r=e(93625),i=e(2484),l=e(17808),u=e(10659),c=e(59601),o=e(64834),a=e(3985),s=e(38785),f=e(13026),h=e(17267),g=e(39538),p=e(79198),v=e(42537),d=e(42675),b=v.UNSUPPORTED_Y,_=Math.min,x=i([].push),m=i("".slice),A=!d((function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]})),k="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;l("split",(function(t,n,e){var i="0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r(n,this,t,e)}:n;return[function(n,e){var l=o(this),u=c(n)?void 0:g(n,t);return u?r(u,n,l,e):r(i,h(l),n,e)},function(t,r){var l=u(this),c=h(t);if(!k){var o=e(i,l,c,r,i!==n);if(o.done)return o.value}var g=a(l,RegExp),v=l.unicode,d=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"g":"y"),A=new g(b?"^(?:"+l.source+")":l,d),C=void 0===r?4294967295:r>>>0;if(0===C)return[];if(0===c.length)return null===p(A,c)?[c]:[];for(var w=0,y=0,E=[];y<c.length;){A.lastIndex=b?0:y;var I,P=p(A,b?m(c,y):c);if(null===P||(I=_(f(A.lastIndex+(b?y:0)),c.length))===w)y=s(c,y,v);else{if(x(E,m(c,w,y)),E.length===C)return E;for(var R=1;R<=P.length-1;R++)if(x(E,P[R]),E.length===C)return E;y=w=I}}return x(E,m(c,w)),E}]}),k||!A,b)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7c345447e3d76860d62fae4c4eddbf54', location = 'build/2209.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2209],{17808:function(e,n,t){t(4267);var r=t(93625),o=t(25236),c=t(863),u=t(42675),i=t(54175),l=t(70671),f=i("species"),a=RegExp.prototype;e.exports=function(e,n,t,p){var s=i(e),v=!u((function(){var n={};return n[s]=function(){return 7},7!==""[e](n)})),x=v&&!u((function(){var n=!1,t=/a/;return"split"===e&&((t={}).constructor={},t.constructor[f]=function(){return t},t.flags="",t[s]=/./[s]),t.exec=function(){return n=!0,null},t[s](""),!n}));if(!v||!x||t){var _=/./[s],g=n(s,""[e],(function(e,n,t,o,u){var i=n.exec;return i===c||i===a.exec?v&&!u?{done:!0,value:r(_,n,t,o)}:{done:!0,value:r(e,t,n,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(a,s,g[1])}p&&l(a[s],"sham",!0)}},79198:function(e,n,t){var r=t(93625),o=t(10659),c=t(321),u=t(72748),i=t(863),l=TypeError;e.exports=function(e,n){var t=e.exec;if(c(t)){var f=r(t,e,n);return null!==f&&o(f),f}if("RegExp"===u(e))return r(i,e,n);throw new l("RegExp#exec called on incompatible receiver")}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:common-resources', location = 'build/common.js' */
!function(){"use strict";var t,e={88121:function(t,e,r){r(88220),r(4267),r(73049),r(62708);var o={stringPrototype:{},regExpPrototype:{},isNative:function(t){return-1!=t.toString().indexOf("native code")},isNeedLoadNativeFunctions:function(){return $("div[data-macro-name=code]").length&&!this.isNative(String.prototype.match)},saveOriginalNativeFunctions:function(){var t=this;!t.stringPrototype.matchOriginal&&t.isNative(String.prototype.match)&&(t.stringPrototype.replaceOriginal=String.prototype.replace,t.stringPrototype.matchOriginal=String.prototype.match,t.stringPrototype.splitOriginal=String.prototype.split,t.regExpPrototype.execOriginal=RegExp.prototype.exec,t.regExpPrototype.testOriginal=RegExp.prototype.test,t.regExpPrototype.applyOriginal=RegExp.prototype.apply,t.regExpPrototype.callOriginal=RegExp.prototype.call)},loadOriginalNativeFunctions:function(){var t=this;t.stringPrototype.matchOriginal&&(t.isNeedLoadNativeFunctions()?(t.stringPrototype.replaceSave=String.prototype.replace,t.stringPrototype.matchSave=String.prototype.match,t.stringPrototype.splitSave=String.prototype.split,t.regExpPrototype.execSave=RegExp.prototype.exec,t.regExpPrototype.testSave=RegExp.prototype.test,t.regExpPrototype.applySave=RegExp.prototype.apply,t.regExpPrototype.callSave=RegExp.prototype.call,String.prototype.replace=t.stringPrototype.replaceOriginal,String.prototype.match=t.stringPrototype.matchOriginal,String.prototype.split=t.stringPrototype.splitOriginal,RegExp.prototype.exec=t.regExpPrototype.execOriginal,RegExp.prototype.test=t.regExpPrototype.testOriginal,RegExp.prototype.apply=t.regExpPrototype.applyOriginal,RegExp.prototype.call=t.regExpPrototype.callOriginal):t.stringPrototype.matchSave=null)},loadSavedCurrentNativeFunctions:function(){var t=this;t.stringPrototype.matchOriginal&&t.stringPrototype.matchSave&&(String.prototype.replace=t.stringPrototype.replaceSave,String.prototype.match=t.stringPrototype.matchSave,String.prototype.split=t.stringPrototype.splitSave,RegExp.prototype.exec=t.regExpPrototype.execSave,RegExp.prototype.test=t.regExpPrototype.testSave,RegExp.prototype.apply=t.regExpPrototype.applySave,RegExp.prototype.call=t.regExpPrototype.callSave)}},p=r(68631);document.addEventListener("submit",(t=>{t.target.classList.contains(p.PREVENT_DEFAULT_FORM_CLASS)&&t.preventDefault()})),window.TFSolutionBug=o,o.saveOriginalNativeFunctions()}},r={};function o(t){var p=r[t];if(void 0!==p)return p.exports;var i=r[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.m=e,t=[],o.O=function(e,r,p,i){if(!r){var n=1/0;for(c=0;c<t.length;c++){r=t[c][0],p=t[c][1],i=t[c][2];for(var a=!0,l=0;l<r.length;l++)(!1&i||n>=i)&&Object.keys(o.O).every((function(t){return o.O[t](r[l])}))?r.splice(l--,1):(a=!1,i<n&&(n=i));if(a){t.splice(c--,1);var g=p();void 0!==g&&(e=g)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[r,p,i]},o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={2076:0,8540:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var p,i,n=r[0],a=r[1],l=r[2],g=0;if(n.some((function(e){return 0!==t[e]}))){for(p in a)o.o(a,p)&&(o.m[p]=a[p]);if(l)var c=l(o)}for(e&&e(r);g<n.length;g++)i=n[g],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(c)},r=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var p=o.O(void 0,[7062,8810,7267,8303,7073,3844,6467,4267,1141,2209,4584,2708,3614,3049,9859,8220,8631,8540],(function(){return o(88121)}));p=o.O(p)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:cfcb231d2229c5c25cc8f05ed0548611', location = 'build/116.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[116],{30116:function(t,e,l){l.r(e),l.d(e,{getColumnValues:function(){return n}});const n=(t,e)=>t.map((t=>t[e])).filter(((t,e)=>e&&t))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e348f3bd9581714f397cec9b99905f36', location = 'build/5511.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5511],{21201:function(t,e,r){r.r(e);var n=[1e3,6e4,36e5];e.default=t=>{var e=!1,r=0===t.indexOf("-");r&&(t=t.substring(1));var l=t.split(":");if(l.length>1){e=0;for(var a=l.length-1,u=0;a>=0;a--,u++)e+=l[a]*n[u]}return r?-e:e}},25511:function(t,e,r){r.r(e),r.d(e,{default:function(){return i}});var n=r(80326),l=r(14412),a=r(21201),u=(r(4267),r(62708),r(63544),r(99153)),f=r(78556),i=(t,e,r,i,s)=>(e=(0,n.clearString)(e),t===l.DATA_TYPES.worklog?((t,e,r)=>{var n=!1,l=1;return 0===(t=t.replace(/,\s/g," ")).indexOf("-")&&(t=t.substring(1),l=-1),e.worklogPlaces.forEach((function(l,a){l.some((function(l){var f=t.split(l);if(2===f.length){var i=e.mult[a]*(0,u.default)(f[0],r);isNaN(i)||(!1===n&&(n=0),n+=i,t=f[1])}}))})),n&&(n*=l),n})(e,i,r):t===l.DATA_TYPES.duration?(0,a.default)(e):s?(0,u.default)(e,r):(0,f.default)(e,r))},78556:function(t,e,r){r.r(e);r(16335),r(4267);var n=r(51271);e.default=(t,e)=>{var r=(0,n.clearNumberString)(t,e),l=r.match(/-?\.?\d+/);return parseFloat(l?r.substring(l.index):r)}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7c800aafeb0a1bc1fd55f7f809d218b5', location = 'build/5082.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5082],{25082:function(e,t,l){l.r(t),l.d(t,{getLocale:function(){return c}});const c=()=>{try{return(AJS.Meta.get("user-locale")||window.parent.AJS.Meta.get("user-locale")).replace("-","_")}catch(e){return console.error("Failed to get user locale",e),"en_US"}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:3e3d5432533b6dbb90eeb6ac885fed77', location = 'build/3589.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3589],{2117:function(e,t,a){a.r(t),a.d(t,{toDateObject:function(){return r}});const r=e=>"string"==typeof e||"number"==typeof e||e instanceof Number||e instanceof String?new Date(e):e},3801:function(e,t,a){a.r(t);a(88220),a(4267),a(73049),a(73406);var r=a(14412),n=a(99153);t.default=(e,t,a,i)=>{var o=i?null:r.DATA_TYPES.number;if(void 0===e)return o;if("number"==typeof e)return r.DATA_TYPES.number;if(new RegExp("^-?\\d{1,2}:\\d{2}").test(e))return r.DATA_TYPES.duration;if(e.trim()){var s=e.replace(/,\s/g," ");s.trim()&&a.worklogPlaces.some((function(e){var t=!1;return e.some((function(e){var a=new RegExp("^-?\\d+([ '\\.,]\\d+)*"+e);if(!(s=s.replace(a,"").trim()))return o=r.DATA_TYPES.worklog,t=!0,!0})),t}))}return null===o?isNaN((0,n.default)(e,t))?null:r.DATA_TYPES.number:o}},12508:function(e,t,a){a.r(t);a(2304),a(4267),a(73406);var r=a(32524),n=a(37269);t.default=(e,t,a)=>{var i=t,o=e,s=[];i=(0,r.default)(i);var u=t.replace(i,"").trim(),l=e.indexOf(":");if(l>=0){l-=2;var m=e.substring(l,l+u.length).trim();o=e.replace(m,"").replace(/[a,p]\.?m\.?/i,"").trim();var d=e.replace(m,"").replace(o,"").trim().toLocaleLowerCase();s=m.split(":");var c=[];a&&(c=a.map((e=>n.default.get(e).pm))),-1!==d.indexOf("pm")||-1!==d.indexOf("p.m")||-1!==c.indexOf(d)?"12"!==s[0]&&(s[0]=parseInt(s[0])+12):d.length&&(s[0]=s[0]%12)}return{dateFormat:i,timeFormat:u,timeString:m,dateString:o,time:s}}},15923:function(e,t,a){a.r(t);var r=a(78392);t.default=(e,t,a,n,i)=>(0,r.default)(e,t,a,n,i).date},16873:function(e,t,a){a.r(t),a.d(t,{default:function(){return n}});var r=a(89494);var n={addToUnloadPageAction:e=>{e.isWasSavedEarlier||(e.needRemind=!0)},removeFromUnloadPageAction:e=>{e.isWasSavedEarlier||(e.needRemind=!1,e.isWasSavedEarlier=!0)},bindUnloadPage:(e,t)=>{if(!e.isWasSavedEarlier){var a=document.getElementById("main"),n=t.hasClass("chart-settings")?"menuChart":"menuPivot",i=null;try{i=new Event("TableFilterBeforeunload")}catch(e){(i=document.createEvent("Event")).initEvent("TableFilterBeforeunload",!1,!0)}a.addEventListener("TableFilterBeforeunload",(()=>e.needRemind=!1),!1),window.addEventListener("beforeunload",(function(o){if(e.needRemind&&t.closest("body").length){i&&a.dispatchEvent(i),setTimeout((()=>{t.hasClass("active")||(e.content.hasClass("hidden-pane")&&e.content.removeClass("hidden-pane"),t.trigger("mousedown"),t.trigger("aui-button-invoke")),e.btn.blinkFromClass("active");var a,i=t.offset().top;(document.documentElement.scrollTop>i||document.documentElement.scrollTop+document.documentElement.clientHeight<i+150)&&document.documentElement.scrollTo({top:i-150,behavior:"smooth"}),a=n,setTimeout((()=>{(0,r.ga4SendEvent)(`${a}_remindedToSave_used`)}),2e3)}),2e3),u=n,(0,r.ga4SendEvent)(`${u}_remindedToSave_opened`),o.preventDefault();var s="Changes to macro parameters will be lost";return o.returnValue=s,s}var u}),{once:!0})}}}},19718:function(e,t,a){a.r(t),a.d(t,{findDateMacroInTables:function(){return i},findDateMacros:function(){return n}});var r=a(19503);const n=e=>$(e.querySelectorAll(r.GENERIC_DATEMACRO_SELECTOR)),i=e=>e.find(r.GENERIC_DATEMACRO_SELECTOR).not('[data-macro-name="page-info"]')},19738:function(e,t,a){a.r(t),a.d(t,{default:function(){return s},stringToMatches:function(){return o}});a(63348),a(4267),a(73049),a(22901);var r=a(34388),n=a(38094);const i=e=>!e||0===(0,n.clearStringBasic)(e).length;var o=e=>{var t=(0,r.clearStringLowerCase)(e),a=/([+-])(\d+[yY]\s*)?(\d+[mM]\s*)?(\d+[wW]\s*)?(\d+[dD]\s*)?/g.exec(t);return null!==a&&a[0]===t&&a.slice(2,6).some((e=>!i(e)))?a:null},s=(e,t)=>{if(i(e))return null;var a=o(e);if(null===a)return null;var r="-"===a[1]?-1:1,n=a.slice(2,6).filter((e=>!!e)),s=(e=>"[object Date]"===Object.prototype.toString.call(e))(t)?new Date(t):new Date;for(var u of(s.setHours(0,0,0,0),n)){var[,l,m]=/(\d+)([ymwd])/.exec(u),d=r*l;switch(m){case"y":s.setFullYear(s.getFullYear()+d);break;case"m":s.setMonth(s.getMonth()+d);break;case"w":s.setDate(s.getDate()+7*d);break;default:s.setDate(s.getDate()+d)}}return s}},23589:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});a(64707),a(63348),a(24034),a(2304),a(6558),a(4267),a(62708),a(73406),a(63544),a(22901);var r,n=a(24571),i=a(18984),o=a(12544),s=a.n(o),u=a(16873),l=["Key","Summary","T","Created","Updated","Due","Assignee","Reporter","P","Status","Resolution","Labels"," Original Estimate","Linked Issues","Component/s","Sub-Tasks","Votes","Project","Resolved","Watches","Original Estimate","Description","Environment","Fix Version/s","Remaining Estimate","Affected Version/s"," Remaining Estimate"," Progress","Progress","Time Spent"," Time Spent","Security Level","Description","Due date","Assignee","Task appears on","Epic Link","Title","Owner","Modified","Labels","Comments:","Unresolved comments:","Reactions:"],m={en_GB:l,en_US:[...l],cs_CZ:["Kl","Shrnut","T","Vytvoen","Aktualizovno","Termn","Poven osoba","Zadavatel","P","Stav","Stav een","ttky"," Pvodn odhad","Propojen poadavky","Komponent/y","Dl kol","Hlasy","Projekt","Vyeeno","Sledovan","Pvodn odhad","Popis","Prosted","Opraveno pro verzi","Zbvajc odhad","Postien/ verze"," Zbvajc odhad"," Pokrok","Postup","Strven as"," Strven as","rove zabezpeen","Popis","Rozhodnout do","Poven osoba","kol je zadn na","Epick Odkaz","Nzev","Vlastnk","Upraveno","ttky","Komente:","Nevyeen komente:","Reakce:"],da_DK:["Ngle","Opsummering","T","Oprettet","Opdateret","Deadline","Tildelte","Reporter","P","Status","Lsning","Labels"," originalt estimat","Linkede opgaver","Komponent(er)","Under-opgaver","Stemmer","Projekt","Lst","Flger","Original estimat","Beskrivelse","Milj","Ret version(er)","Resterende estimat","Berrt(e) version(er)"," resterende estimat"," fremgang","Fremgang","Brugt tid"," brugt tid","Sikkerhedsniveau","Beskrivelse","Deadline","Tildelte","Opgaven vises p","Epic-Link","Titel","Ejer","ndret","Mrkater","Kommentarer:","Ulste kommentarer:","Reaktioner:"],de_DE:["Schlssel","Zusammenfassung","S","Erstellt","Aktualisiert","Fllig","Bearbeiter","Autor","Prioritt","Status","Lsung","Stichwrter"," Ursprngliche Schtzung","Verknpfte Vorgnge","Komponente(n)","Unteraufgaben","Stimmen","Projekt","Erledigt","Beobachtungen","Ursprngliche Schtzung","Beschreibung","Umgebung","Lsungsversion(en)","Verbleibende Schtzung","Betroffene Version(en)"," Verbleibende Schtzung"," Fortschritt","Fortschritt","Bentigte Zeit"," Bentigte Zeit","Sicherheitsstufe","Beschreibung","Flligkeitsdatum","Bearbeiter","Aufgabe wird angezeigt auf","Epic Link","berschrift","Besitzer","Gendert","Stichwrter","Kommentare:","Nicht erledigte Kommentare:","Reaktionen:"],et_EE:["Vti","Kokkuvte","T","Loodud","Uuendatud","Thtaeg","Omanik","Teataja","P","Olek","Lahendus","Sildid","S Esialgne kalkulatsioon","Seotud teemad","Osa(d)","Alamlesanded","Hled","Projekt","Lahendatud","Jlgib","Esialgne kalkulatsioon","Kirjeldus","Keskkond","Paranda versioon(id)","jrelejnud kalkulatsioon","Mjutatud versioon(id)"," jrelejnud kalkulatsioon","S progress","Edusamm","Aega kulunud","S Aega kulunud","Turvalisuse tase","Kirjeldus","Thtaeg","Omanik","lesanne ilmub","Mikroprotsessori Ksustiku Link","Pealkiri","Owner","Modified","Labels","Kommentaar:","Unresolved comments:","Reactions:"],es_ES:["Clave","Resumen","T","Creado","Actualizado","Fecha de entrega","Asignado","Informante","P","Estado","descripcin","Etiquetas"," de estimacin original","Incidencias vinculadas","Componente(s)","Subtareas","Votos","Proyecto","Resuelto","Visitas","Estimacin original","Descripcin","Entorno","Versiones de resolucin","Estimacin de tiempo restante","Versiones afectadas"," trabajo restante estimado"," de progreso","Progreso","Tiempo dedicado"," de tiempo dedicado","Nivel de seguridad","Descripcin","Fecha de vencimiento","Asignado","La tarea aparece en","Enlace De Epic","Ttulo","Propietario","Modificado","Etiquetas","Comentarios:","Comentarios sin resolver:","Reacciones:"],fr_FR:["Cl","Rsum","T","Cration","Mise  jour","Echance","Personne assigne","Rapporteur","Pr","tat","Rsolution","tiquettes"," Estimation originale","Demandes lies","Composants","Sous-tche","Votes","Projet","Rsolue","Espions","Estimation originale","Description","Environnement","Versions corriges","Estimation restante","Versions concernes"," Estimation restante"," Progrs","Progression","Temps consacr"," Temps consacr","Niveau de scurit","Description","Date d'chance","Attribution","La tche apparat sur","Lien pique","Titre","Propritaire","Modifi","tiquettes","Commentaires:","Commentaires non rsolus:","Ractions:"],is_IS:["Lykill","Yfirlit","T","Bi til","Uppfrt","Lokadagur","Hverjum thluta","Skrslugjafi","P","Staa","Lausn","Merki","S Upprunalegt Mat","Tengd Ml","hlutur/ir","Undirverkefni","Atkvi","Verk","Leyst r","Fylgist me","Upprunalegt Mat","Lsing","Umhverfi","Gera vi tgfu/r","Mat  v sem eftir er","tgfa/ur sem etta hefur hrif "," Mat  v sem eftir er","S rangur","rangur","Tmi notaur","S Tmi notaur","ryggisstig","Lsing","Lokadagsetning","thluta til","Verkefni birtist ","Hlekkur  Yfirsgu","Titill","Owner","Modified","Labels","Athugasemd:","Unresolved comments:","Reactions:"],it_IT:["Chiave","Riepilogo","T","Creato","Aggiornato","Scadenza","Incaricato","Segnalante","P","Stato","Risoluzione","Etichette"," stima originale","Issue collegate","Componente(i)","Task sottostante","Voti","Progetto","Risolta","Persone che seguono","Stima originale","Descrizione","Ambiente","Correggi versione(i)","Stima tempo rimasto","Versione/i interessata/e","Stima rimanente "," Avanzamento","Avanzamento","Tempo impiegato"," Tempo impiegato","Livello di sicurezza","Descrizione","Data di scadenza","Incaricato","Il task appare su","Collegamento all'epic","Titolo","Responsabile","Modificato","Etichette","Commenti:","Commenti non risolti:","Reazioni:"],hu_HU:["Kulcs","sszefoglals","T","Ltrehozva","Frisstve","Esedkes","Megbzott","Jelentstev","P","llapot","Megolds","Cmkk"," Eredeti becsls","Hivatkozott hibk","Rsz(ek)","Alfeladatok","Szavazatok","Projekt","Megoldva","Megfigyelsek","Eredeti becsls","Lers","Krnyezet","Fix verzi(k)","Becslt htralv","rintett verzi(k)"," becslt htralv munka"," Elrehalads","Elmenetel","Eltlttt id"," Eltelt id","Biztonsgi szint","Lers","Hatrid","Megbzott","A feladat a kvetkezben szerepel","Epic Link","Cim","Letrehozo","Modostva","Cmkk","Megjegyzesek:","Megoldatlan mejegyzsek:","Kedvelsek:"],nl_NL:["Code","Samenvatting","T","Gemaakt","Bijgewerkt","Streefdatum","Toegewezen aan","Melder","P","Status","Oplossing","Labels"," Originele inschatting","Gelinkte issues","Component/en","Subtaken","Stemmen","Project","Opgelost","Volgers","Originele inschatting","Omschrijving","Omgeving","Opgelost in versie(s)","Resterende inschatting","Geraakte versie(s)"," Resterende inschatting"," Voortgang","Voortgang","Bestede tijd"," Bestede tijd","Beveiligingsniveau","Beschrijving","Einddatum","Toegewezen aan","Taak staat op","Epic Link","Titel","Eigenaar","Gewijzigd","Labels","Opmerkingen:","Onopgeloste opmerkingen:","Reacties:"],no_NO:["Nkkel","Sammendrag","T","Opprettet","Oppdatert","Forfaller","Ansvarlig","Innmelder","P","Status","Lsning","Etiketter"," Opprinnelig estimat","Lenkede saker","Komponent(er)","Underoppgaver","Stemmer","Prosjekt","Lst","Observeringer","Opprinnelig estimat","Beskrivelse","Milj","Fiks versjon(er)","Gjenvrende estimat","Pvirket(e) versjon(er)"," Gjenvrende estimat"," Fremdrift","Fremdrift","Tidsbruk"," Tidsbruk","Sikkerhetsniv","Beskrivelse","Tidsfrist","Ansvarlig","Oppgave vises p","Epic-Kobling","Tittel","Eier","Endret","Etiketter","Kommentarer:","Ulste kommentarer:","Reaksjoner:"],pl_PL:["ID","Podsumowanie","T","Utworzony","Zaktualizowany","Wane","Przydzielone do","Zgaszajcy","Pr","Status","Rozwizanie","Etykiety"," pierwotny szacunek","Powizane zagadnienia","Skadnik(i)","Zadania podrzdne","Gosy","Projekt","Rozwizane","Oglda","Pierwotne oszacowanie","Opis","rodowisko","Wersja/wersje poprawki","Pozostay szacunek","Wersja/-e, na ktre ma to wpyw"," pozostay szacunek"," postp","Postp","Spdzony czas"," spdzony czas","Poziom bezpieczestwa","Opis","Termin","Beneficjent","Zadanie pojawia si na","Link Do Epic","Tytu","Waciciel","Zmodyfikowano","Etykiety","Komentarze:","Komentarze bez rozwizania:","Reakcje:"],pt_BR:["Chave","Resumo","T","Criado","Atualizado","Ficar pronto","Responsvel","Criada por","P","Situao","Resoluo","Rtulos"," da Estimativa Original","itens vinculados","Componente(s)","Subtarefas","Votos","Projeto","Resolvido","Acompanhamentos","Estimativa Original","Descrio","Ambiente","Verses Corrigidas","Estimativa Restante","Verses afetadas"," Estimativa de trabalho restante"," de Progresso","Andamento","Tempo Gasto"," de Tempo Gasto","Nvel de Segurana","Descrio","Data de concluso","Atribudo","AS tarefa aparece em","Link pico","Ttulo","Proprietrio","Modificada","Categorias","Comentrios:","Comentrios no resolvidos:","Reaes:"],ro_RO:["Cheie","Rezumat","T","Creat","Actualizat","Din cauza","Responsabil","Reporter","P","Status","Rezoluie","Etichete"," Estimare Original","Probleme conexe","Component/e","Sub Sarcini","Voturi","Proiect","Rezolvat","Urmriri","Estimare Iniial","Descriere","Mediu","Versiune/i Remediu","Estimare rmas","Versiunile afectate"," Estimare volum de munc rmas"," Progres","Progres","Timp Petrecut"," Timp Petrecut","Nivel Securitate","Descriere","Data-limit","Responsabil","Activitatea apare pe","Link Epic","Titlu","Owner","Modified","Labels","Comentariu:","Unresolved comments:","Reactions:"],sk_SK:["K","Zhrnutie","T","Vytvoren","Aktualizovan","Termn","Zodpovedn","Ohlasovate","P","Stav","Vyrieenie","ttky"," Pvodn odhad","Prepojen poloky","Komponent(y)","iastkov lohy","Hlasy","Projekt","Vyrieen","Sledovan","Pvodn odhad","Opis","Prostredie","Verzia/e oprv","Zostvajci odhad","Ovplyvnen verzia/e"," Zostvajci odhad"," Pokrok","Pokrok","Strven as"," Strven as","rove zabezpeenia","Opis","Termn","Zodpovedn","loha sa nachdza v","Odkaz Na Epik","Nadpis","Owner","Modified","Labels","Komentr:","Unresolved comments:","Reactions:"],fi_FI:["Avain","Yhteenveto","T","Luotu","Pivitetty","Erpiv","Ksittelij","Raportoija","P","Tila","Resoluutio","Leimat"," Alkuperinen arvio","Yhdistetyt ongelmat","Komponentit","Alitehtvt","net","Projekti","Ratkaistu","Seurattava sislt","Alkuperinen arvio","Kuvaus","Ymprist","Korjaa versio(t)","Jljell oleva aika-arvio","Vaikutuksen alaiset versiot"," Jljell arviolta"," Edistyminen","Edistyminen","Kytetty aika"," Aikaa kytetty","Turvataso","Kuvaus","Erpiv","Ksittelij","Tehtv nkyy kohteessa","Epic-Linkki","Otsikko","Tekij","Muokattu","Tunnisteet","Kommentit:","Ratkaisemattomat kommentit:","Tykkykset:"],sv_SE:["Nyckel","Sammanfattning","T","Skapad","Uppdaterad","Frfallen","Ansvarig","Reporter","P","Status","tgrd","Etiketter"," Ursprunglig uppskattning","Lnkade renden","Komponent/er","Under-uppgifter","Rster","Projekt","tgrdat","Bevakningar","Ursprunglig uppskattning","Beskrivning","Milj","tgrdad version/er","Uppskattning av terstende","Pverkade versioner"," Uppskattning av terstende"," Framsteg","Framsteg","Nedlagd tid"," Tid tillbringad","Skerhetsniv","Beskrivning","Frfallodatum","Ansvarig","Uppgiften terfinns p","Epic-Lnk","Titel","gare","ndrad","Etiketter","Kommentarer:","Olsta kommentarer:","Reaktioner:"],ru_RU:["",""," ","","","","","","","","",""," "," ","","","",""," ",""," ","","","  ","  ( )"," ","  ","",""," "," "," ",""," ",""," "," ","","","","",":"," :",":"],zh_CN:["","","T","","","","","","P","","","","","","","","","","","","","","","","",""," ","","","","","","","","","","","","","","","","",""],ja_JP:["","","T","","","","","","P","","",""," ","","","","","","","","","","","","",""," "," ","",""," ","","","","","","","","","","",":",":",":"],ko_KR:["","","","","","","","Reporter","","","","","   "," "," ","","","","","","  ","",""," ","  ","  ","  ","  ",""," ","  "," ","","",""," "," ","","","","",":"," :",":"],zh_TW:["","","T","","","","","","P","","","","","","","","","","","","","","","","",""," ","","","","","","","","","","","","","","","","",""],tr_TR:["Anahtar","zet","S","Oluturulma","Gncellenme Tarihi","Biti Tarihi","Atanan","Raporlayan","","Durum","zm","Etiketler"," Orijinal Tahmin","Balanan Konular","Bileenler","Alt Grevler","Oylar","Proje","zlme Tarihi","Takip Etmeler","Orijinal Tahmin","Aklama","Ortam","Dzeltme Srmleri","Kalan Sre Tahmini","Etkilenen Srmler"," Kalan Sre Tahmini"," lerleme","lerleme","Harcanan Sre"," Harcanan Sre","Gvenlik Dzeyi","Aklama","Biti tarihi","Atanan","Grev urada grnr","Epik Balants","Balk","Sahibi","Deitirilme","Etiketler","Yorumlar:","zlmemi yorumlar:","Tepkiler:"]},d=!1;function c(e,t){!function(){if(!d){var e;d=!0;var t=null===(e=window.AJS)||void 0===e||null===(e=e.params)||void 0===e?void 0:e.versionNumber;t&&((r=h(t))<h("9.0")&&(m.fr_FR[6]="Attribution"),r<h("7.6")&&(m.fr_FR[9]="Etat",m.nl_NL[4]="Gewijzigd",m.es_ES[10]="Descripcin",m.en_US[23]="Fix Version(s)"))}}();var a=function(e){var t={headline:"berschrift",Keywords:"Stichwrter",Changed:"Gendert","Unfinished comments:":"Nicht erledigte Kommentare:",'"Likes:':"Reaktionen:",Creator:"Owner","Likes:":"Reactions:",Autor:"Vlastnk","To se mi lb:":"Reakce:",Skaber:"Ejer","Synes godt om:":"Reaktioner:","Meeldib:":"Reactions:","Me gusta:":"Reacciones:",Creada:"Creado",Actualizada:"Actualizado",Responsable:"Asignado",Estatus:"Estado","Resolucin":"Descripcin","Crateur":"Propritaire","Mentions J'aime:":"Ractions:","Lka:":"Reactions:",Autore:"Responsabile","Mi piace:":"Reazioni:",Maker:"Eigenaar","Vind-ik-leuks:":"Reacties:",Opphavsperson:"Eier","Likerklikk:":"Reaksjoner:","Polubienia:":"Reakcje:",Criador:"Proprietrio","Curtidas:":"Reaes:","Apreciere:":"Reactions:","Ako:":"Reactions:","Skapad av":"gare","Gilla-markeringar:":"Reaktioner:","":""," :":":","":"","":"","":"","!:":":","":"",":":":","":"","":"","Oluturan":"Sahibi","Beeniler:":"Tepkiler:"};t[e]&&(e=t[e]);if(r>=h("7.6"))switch(e){case"Etat":e="tat";break;case"Gewijzigd":e="Bijgewerkt";break;case"Descripcin":e="descripcin";break;case"Fix Version(s)":e="Fix Version/s"}if((!r||r>=h("9.0"))&&"Attribution"===e)e="Personne assigne";return e}(e);t=f(t);var n=function(e){return function(e){if(e){var t=e.charAt(0);return t===t.toLocaleLowerCase()}}(e)?e=>e.map((e=>e.toLocaleLowerCase())):e=>e}(a),i=function(e,t,a){for(var r of Object.keys(m))if(t!==r&&-1!==a(m[r]).indexOf(e))return r}(a,t,n);if(i){var o=n(m[i]).indexOf(a);if(-1!==o)return m[t][o]}if(a!==e)return a}var f=e=>m[e]?e:"en_US";function h(e){return e.split(".").reduce(((e,t,a)=>e+parseInt(t)*Math.pow(10,5-2*a)),0)}var p=a(89287),g=a(80326),y=a(14412),v=a(37269),S=a(22835),b=a.n(S),k=a(47446),T=a(68631),N=a(59265),M=a(17598),A=a(12932),j=a(55416),D=a(89494);a(25372);var E=a(71030);const R=[36e5,6e4,1e3],O=(e,t,a)=>{const r=[];let n="";return e<0&&(n="-",e=-e),t.places.forEach((function(n,i){const o=e/n.mult;let s;s=i<t.places.length-1||1===n.mult?Math.floor(o):Math.round(10*o)/10,(s||i===t.places.length-1&&!r.length)&&(r.push(((e,t)=>(e+"").replace(".",t))(s,a)+n.place),e-=s*n.mult)})),n+r.join(" ")};var P=a(29313),w=a(23317),L=a(56834),x=a(63936),C=a(30663);const z={script:["script"],"pivot-hidden":[".pivot-hidden",".pivot-controls",".no-table-message",".waiting-for-table-message",".preview-tutorial"].map((e=>`[data-pivot-hidden=true] > ${e}`)),"tj-hidden":[".tj-hidden",".tj-exports"]};var _=a(19718),F=a(73730),J=a(91733),V=a(19503);const I=(e,t)=>t.some((t=>e.classList.contains(t)));var Y=a(34388),H=a(32524),K=a(3801),B=a(78392),G=a(15923),U=a(57853),W=a(42312),q={worklogPlaces:[[" years"," year","y"],[" weeks"," week","w"],[" days"," day","d"],[" hours"," hour","h"],[" minutes"," minute","m"]],minute:6e4,hour:36e5,visualType:!0,textType:!1,mixedType:1,editorType:2,textNViewType:3,textNCellHtml:4,monthDayCount:y.MONTH_DAY_COUNT,unescapeStrings:function(e){return e.map((e=>b()(e)))},unescapeString:function(e){return b()(e)},escapeString:function(e){return AJS.escapeHtml(e)},getMinValueByType:function(e){return e===y.DATA_TYPES.worklog?q.minute:1},getWorklog:function(e){e=e&&"string"==typeof e?e.split("|"):[365,5,8,y.DEFAULT_WORKLOG_STRING],isNaN(e[2])&&e.unshift(365),e[2]=q.hour*e[2];var t=[e[0]*e[2],e[1]*e[2],e[2],q.hour,q.minute],a=["y","w","d","h","m"],r=a,n=e[4];if(n){(r=n.split(" ")).length<5&&r.unshift("y");var i=q.worklogPlaces.length;n=r.slice(0,i).map((function(e,t){var a=q.worklogPlaces[t].slice();return a[2]=e,a}))}else n=q.worklogPlaces;var o=[];return("string"==typeof e[3]?e[3].split(" "):[]).forEach((function(e){var n=a.indexOf(e);o.push({place:r[n],mult:t[n]})})),{mult:t,places:o,worklogPlaces:n}},isFireFox:function(){return navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox")},isSafari:function(){var e,t,a;return-1!==(null===(e=navigator)||void 0===e||null===(e=e.vendor)||void 0===e?void 0:e.toLowerCase().indexOf("apple"))&&-1===(null===(t=navigator)||void 0===t||null===(t=t.userAgent)||void 0===t?void 0:t.indexOf("CriOS"))&&-1===(null===(a=navigator)||void 0===a||null===(a=a.userAgent)||void 0===a?void 0:a.indexOf("FxiOS"))},updateI18nSettings:function(e,t,a,r){if(q.hasI18nMacros(r)){var n=[],i=q.getPivotJiraFields(r);if(i){var o=i.slice();q.updateI18nFields(e,o,a),i.forEach(((e,t)=>{e!==o[t]&&n.push({old:e,new:o[t]})}))}return t.forEach((t=>q.updateI18nFields(e,t,a,n))),!0}},updateI18nFields:function(e,t,a,r){t.slice().forEach((n=>{if(null===(0,U.default)(e,n)){var i=q.getFieldI18nTranslation(e,n,a);if(!i&&r&&r.some((e=>{if(-1!==n.indexOf(e.old))return i=n.replace(e.old,e.new),!0})),i&&i!==n)-1!==t.indexOf(i)?t.splice(t.indexOf(n),1):t[t.indexOf(n)]=i}}))},getFieldI18nTranslation:function(e,t,a){return c(t,a)},hasI18nMacros:function(e){return this.hasJira(e)||this.hasTaskReport(e)||this.hasPPR(e)},hasJira:function(e){return e.hasClass("jira-based")||e.find(".jira-table, .jira-based").length>0},hasTaskReport:function(e){return e.find(".tasks-report").length>0},hasPPR:function(e){return e.find(".metadata-summary-macro").length>0},getPivotJiraFields:function(e){var t=e.attr("columns")||e.find(".jira-based.pivot-based").attr("columns");return t?JSON.parse(t):t},getCellPositions:function(e,t){var a=[];if(e.length){var r=(0,Y.clearStringLowerCase)(t);e[0].forEach((function(e,t){(0,Y.clearStringLowerCase)(e)===r&&a.push(t)}))}return a},getColumnPosition:function(e,t){var a=q.getColumnPositions(e,t);return a.length?a[0]:null},getColumnPositions:function(e,t){var a=[],r=(0,Y.clearStringLowerCase)(t);return e.eq(0).find("td, th").each((function(e){(0,Y.clearStringLowerCase)(this.textContent)===r&&a.push(e)})),a},getNthTd:function(e,t){return q.getNthTdElem(e,t).text()},getNthTdIcons:function(e,t){return q.getTdIcons(q.getNthTdElem(e,t))},getTdIcons:function(e){return $((0,F.findVisualElements)(e[0]))},getNthTdElem:function(e,t){return $(e.children[t])},convertToDate:function(e,t,a){if($.isNumeric(e)){e=parseInt(e);var r=new Date(e+new Date(e).getTimezoneOffset()*q.minute);e=(0,E.formatDate)(r,t,a)}return e},getTimeFormatWithoutDate:function(e){return e.replace((0,H.default)(e),"").trim()},setDateFormatForColumn:function(e,t,a,r,n,i,o,s,u){var l;if(!e[i])if(o.eq(0).is("#issuetable tr, .spreadsheets-sheet tr")||o.each((function(){if(this.children&&this.children.length>i&&(l=(0,_.findDateMacros)(this.children[i]).not('[data-macro-name="page-info"]')).length)return!1})),l&&l.length){if(q.setDateMacroDateFormat(l,e,t,r,[n,a],i),s){var m=q.getTimeFormatWithoutDate(a);0===a.toLowerCase().indexOf("hh:mm")?e[i]=m+" "+e[i]:e[i]=e[i]+" "+m}}else{var d=u.map((e=>e[i])).filter(((e,t)=>t&&e)),c=(0,W.detectDateFormat)(d,r,a);e[i]=c||a,t[i]=r}},setDateMacroDateFormat:function(e,t,a,r,n,i){if(e.length){var{dateFormat:o,locale:s}=q.getDateMacroDateFormat(e,r,n);t[i]=o,a[i]=s}},getDateMacroDateFormat:function(e,t,a){if(e.length){var r=a;for(var n of r)try{return(0,G.default)(e[0].textContent,n,t),{dateFormat:n,locale:t}}catch(e){}return{dateFormat:"dd M yy",locale:t||"en_US"}}},dateFormatAutocomplete:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;q.inputAutocomplete(e,t,T.DATE_FORMAT_CONSTANTS,(function(){i.default.storeValue("tf-dateformat",e.val()),a()}))},inputAutocomplete:function(e,t,a,r){e.autocomplete({source:a,minLength:0,appendTo:t,change:r,select:function(){e.trigger("selected")}}),e.focus((function(){e.autocomplete("search","")})).change(r);var n=e.autocomplete("widget");n?n.click((function(e){e.stopPropagation()})):WRM.require("com.stiltsoft.confluence.plugin.tablefilter.tablefilter:jquery-ui-resources",(function(){q.inputAutocomplete(e,t,a,r)}))},getAnyValueType:function(e,t,a,r,n,i,o){try{var s=Array.isArray(i)?i:[i],{date:u,formats:l,isRelative:m=!1}=(0,B.default)(e,n,s,r,o);if(u&&(m||!q.isDateHaveStringAtEnd(u,e,l,s)))return y.DATA_TYPES.date}catch(e){}return(0,K.default)(e,t,a,r)},isDateHaveStringAtEnd:function(e,t,a,r){return!(Array.isArray(r)?r:[r]).some((r=>(0,C.clearArticles)(t,r).length<=(0,E.formatDate)(e,a,r).length))},getNumberFormatter:function(e,t){return(new p.default).getFormatter(e,t,!1)},formatAnyValueByType:function(e,t,a,r,n,i,o){return t===y.DATA_TYPES.date?(0,E.formatDate)(e,n,i):q.formatValueByType(e,t,a,r,o)},formatValueByType:function(e,t,a,r,n){return isFinite(e)?t===y.DATA_TYPES.worklog?O(e,r,n):t===y.DATA_TYPES.duration?(e=>{const t=[];let a=!0;return R.forEach((function(r,n){const i=Math.floor(e/r);(i||n)&&(t.push(!a&&i<10?"0"+i:i),e-=i*r,a=!1)})),t.join(":")})(e):a(e):e},hasTaskList:function(e,t){return t.find('[data-inline-task-id="'.concat(e.taskId,'"]')).length},bindTaskList:function(e,t){$(window).bind("inline-tasks.status-update.complete",(function(a,r){e.find('[data-inline-task-id="'.concat(r.taskId,'"]')).length&&t()}))},setPaginationMsg:function(e){if("hidden"!==i.default.getStoredValue("tf-hide-pagination")){var t=e.find(":not(.tablefilter-pagination, li) > .aui-nav-pagination").not(".confluenceTable .aui-nav-pagination"),a=$();t.length&&0===t.find(".tfac-pagination").length&&(a=$(s().paginationMsg()),t.last().append(a));var r=e.find(".refresh-issues-bottom").not(".confluenceTable .refresh-issues-bottom");if(r.length&&0===r.find(".tfac-pagination").length){var n=$(s().jiraIssuesMsg());r.append(n),a=a.add(n)}a.find(".hide").click((function(){a.remove(),i.default.storeValue("tf-hide-pagination","hidden")}))}},hasTabs:function(e){return e.find(".aui-tabs").length>0},hasInactiveTab:function(e){var t=e.parents(".tabs-pane");return t.length&&!t.eq(0).hasClass("active-pane")},onTabChange:function(e,t){q.hasTabs(e)&&e.find(".aui-tabs").bind("tabSelect",(function(){t()}))},getTables:function(e,t,a,r,n){return q.getTablesAndRows(e,t,a,r,n).tables},getMaxRowspan:function(e){var t=1;return e.find("td, th").each((function(e,a){t=Math.max(a.rowSpan,t)})),t-1},getTableAndExcerptNodes:function(e){var t=(0,P.extractTables)(e,"".concat(T.DEFAULT_TABLE_SELECTOR,", ").concat(T.TEI_NOCOPY_SELECTOR)).toArray().reduce(((e,t)=>{var a=$(t);if("table-excerpt-include"===a.attr("name")){var r=a.data("excerpt");if(null!=r&&r.length){var n=q.getTableAndExcerptNodes(r).toArray();e.push(...n)}}else e.push(t);return e}),[]);return $(t)},getTablesAndRows:function(e,t,a,r,n){var i=(0,P.extractTables)(e);return q.getTablesAndRowsFromTables(i,t,a,r,n)},getTablesAndRowsFromTables:function(e,t,a,r,n,i){var o=[],s=[],u=q.getCellValueGetter(t);return e.each((function(){var e=$((0,w.getRows)({table:this,horizontal:r,visible:n,totalRow:i}).allRows);s.push(e),o.push(q.getRowsValues(e,a,u))})),r&&(o=q.transpose(o)),{tables:o,rows:s,$tables:e}},getTablesRowsValues:function(e,t,a){var r=[],n=q.getCellValueGetter(t);return e.forEach((function(e){r.push(q.getRowsValues(e,a,n))})),r},getRowsValues:function(e,t,a){!t||t instanceof Object||(t={skip:[t],include:[]});var r=[];return e.each((function(){var e=Array.from(this.cells).filter((e=>!q.shouldSkipCell(e,t))).map(a);e.length>0&&r.push(e)})),r},shouldSkipCell:(e,t)=>I(e,(null==t?void 0:t.skip)||[])&&!I(e,(null==t?void 0:t.include)||[]),getCellValueGetter:function(e){return{[q.visualType]:q.getCellVisualHtml,[q.mixedType]:q.getCellTextOrImg,[q.textNViewType]:q.getTextAndHTML,[q.textNCellHtml]:q.getTextAndCellHTML,[q.editorType]:q.getEditorCellText}[e]||q.getCellText},getTextAndHTML:function(e){return{text:q.getCellTextOrImg(e),html:e.innerHTML}},getTextAndCellHTML:function(e){return{text:q.getCellTextOrImg(e),html:e.outerHTML}},getCellText:function(e){return(0,g.clearString)((e=>{const t=[],a=e.innerHTML;if(Object.entries(z).forEach((([e,r])=>{a.includes(e)&&t.push(...r)})),0===t.length)return e;const r=e.cloneNode(!0);return r.querySelectorAll(t.join()).forEach((e=>{e.remove()})),r})(e).textContent)},getCellVisualHtml:function(e){var t="";return(0,F.findVisualElements)(e).forEach((function(e){t+=e.outerHTML})),t},getCellTextOrImg:function(e){var t=q.getCellText(e),a=e.getElementsByClassName("file-type-desc-overlay");for(var r of a)t=t.replace(r.textContent.trim(),"");if(!t){var n=(0,F.findVisualElements)(e);if(n.length)for(var i of n)"img"===i.tagName.toLowerCase()?t+=i.alt||i.src:(0,J.containsCheckedTask)(i)?t+="Completed":t+="Incomplete"}return t},getEditorCellText:function(e){var t=q.getCellText(e);if(!t){var a=e.querySelectorAll("img.editor-inline-macro");if(a.length)for(var r of a){var n=r.getAttribute("data-macro-name");if("status"===n){var i=(0,k.default)(r);t+=i.title||i.colour||"Grey"}else"status-handy"===n?t+=(0,k.default)(r).Status:"timestamp"===n?t+=decodeURIComponent(r.getAttribute("src").split("=")[1]).replace(/\+/g," "):["easy-dropdown-menu-status","easy-dropdown-menu-predefined"].includes(n)?t+=(0,k.default)(r)["current-option-value"]:"easy-dropdown-menu"===n&&(t+=(0,k.default)(r)["current-option"])}}return t},getPlainTableRowsReader:function(e){return q.textNViewType===e?function(e){return e.map((function(e){return e.text}))}:function(e){return e}},getCommonColumns:function(e,t){var a=q.getPlainTableRowsReader(t),r=[];return e.some((function(e){if(e.length)return r=a(e[0]),!0})),$.each(e,(function(e,t){t.length&&(r=$.grep(r,(function(e){return-1!==$.inArray(e,a(t[0]))})))})),r},getRawColumns:function(e){var t=[];return $.each(e,(function(e,a){a.length&&$.each(a[0],(function(e,a){a=(0,g.clearString)(a),-1==$.inArray(a,t)&&t.push(a)}))})),t},getColumns:function(e){return q.getRawColumns(e).sort(((e,t)=>e.localeCompare(t)))},getContentId:function(){return AJS.params.contentId||AJS.Meta.get("content-id")||AJS.params.pageId||AJS.Meta.get("page-id")},transpose:function(e){var t=[];return e.forEach((function(e){var a,r,n=e.length?e.length:0,i=e[0]instanceof Array?e[0].length:0;if(0===i||0===n)return[];var o=[];for(a=0;a<i;a++)for(o[a]=[],r=0;r<n;r++)o[a][r]=e[r][a];t.push(o)})),t},sortSelectedOptions:function(e,t){for(var a=e.parent().find(".chosen-choices"),r=t.length-1;r>=0;r--)a.prepend(a.find(".search-choice").filter((function(){return this.textContent===t[r].replace(T.ALTERNATE_COMMA_REGEXP,",")})));return a},sortSelectOptions:function(e){var t=e.find("option");t.sort((function(e,t){return $(e).text()>$(t).text()?1:-1})),e.append(t)},createDialog:function(e,t,a){var r={Czech:{hyperlink:"HYPERTEXTOV.ODKAZ"},Danish:{hyperlink:"LINK"},Dutch:{hyperlink:"HYPERLINK"},English:{hyperlink:"HYPERLINK"},Finnish:{hyperlink:"HYPERLINKKI"},French:{hyperlink:"LIEN_HYPERTEXTE"},German:{hyperlink:"HYPERLINK"},Hungarian:{hyperlink:"HIPERHIVATKOZS"},Italian:{hyperlink:"COLLEG.IPERTESTUALE"},Norwegian:{hyperlink:"HYPERKOBLING"},Polish:{hyperlink:"HIPERCZE"},Portugese:{hyperlink:"HIPERLIGAO"},Russian:{hyperlink:""},Spanish:{hyperlink:"HIPERVINCULO"},Swedish:{hyperlink:"HYPERLNK"},Turkish:{hyperlink:"KPR"}},n="\t",o="",u=n,l=o,m=!0,d=e[0].querySelector(V.GENERIC_TASK_CONTAINER_SELECTOR)?(0,x.getBooleanValue)(i.default.getStoredValue(T.LOCAL_STORAGE_KEY_SHOW_ALL_TASKS)):null;$("body").append(s().exportToCSV({macroId:a,separator:n,quote:o,headers:R(function(){var e=[],a=t.eq(0).find("th, td");a.length>0&&a.each((function(){var t=$(this);"none"!=t.css("display")?e.push(t.text()):!t.hasClass("fake")||t.hasClass("tf-hidden-column")||t.hasClass("pivot-hidden-column")||e.push("")}));return e}()),linkSeparator:i.default.getStoredValue("tf-csvexport-link-sep")||";",exportLinks:i.default.getStoredValue("tf-csvexport-link"),hyperlink:i.default.getStoredValue("tf-csvexport-hyperlink")||"English",initialShowAllTasksState:d}));var c=AJS.dialog2("#export-csv-dialog-"+a),f=$("#export-csv-dialog-"+a),h=f.find(".export-csv-separator"),p=f.find(".export-csv-quote"),g=f.find(".export-csv-headers"),y=f.find("#tf-csv-export-type"),v=f.find("#tf-csv-export-default-message"),S=f.find("#tf-csv-export-params"),b=f.find(".tf-csv-export-links"),k=f.find("#tf-csv-export-link-separator"),N=f.find("#tf-csv-export-hyperlink"),M=f.find("#csv-export-"+a),A=f.find("#csv-cancel-"+a);h.bind("keyup",(function(){i.default.storeValue("tf-csvexport-sep",h.val().trim()),E()})),p.bind("keyup",(function(){i.default.storeValue("tf-csvexport-quote",p.val().trim()),E()})),y.change((function(){"custom"==y.val()?(v.hide(),S.show(),h.val(i.default.getStoredValue("tf-csvexport-sep")||","),p.val(i.default.getStoredValue("tf-csvexport-quote")||'"'),E(),m=!1):(v.show(),S.hide(),h.val("\t"),p.val('"'),E(),m=!0)})),b.change((function(){var e=b.val();i.default.storeValue("tf-csvexport-link",e),f.find(".tf-csv-link.param").toggle("false"!==e)})).trigger("change"),k.change((function(){i.default.storeValue("tf-csvexport-link-sep",k.val())})),N.change((()=>i.default.storeValue("tf-csvexport-hyperlink",N.val())));var D=d;return f.find("#show-all-tasks").change((function(){D=this.checked,i.default.storeValue(T.LOCAL_STORAGE_KEY_SHOW_ALL_TASKS,D)})),(0,j.bindExportCSVEvent)(a,e.attr("class")||""),M.on("click",(function(){n=h.val(),o=p.val(),q.exportToCsv(e,n||",",o||'"',g.val()?O(g.val()):[],m,b.val(),k.val(),r[N.val()].hyperlink,D),c.hide()})),A.on("click",(function(){c.hide()})),c.show(),c;function E(){var e=O(g.val());u=h.val(),l=p.val(),g.val(R(e))}function R(e){return l?l+e.join(l+(u||",")+l)+l:e.join(u||",")}function O(e){return l?e.slice(l.length,-l.length).split(l+(u||",")+l):e.split(u||",")}},createDialogRemoveMacro:function(e,t,a){document.querySelector(".view-processor-container")&&(t="Table Toolbox"),$("body").append(s().dialogRemoveMacro({macroName:t,macroId:e.macroId}));var r=AJS.dialog2("#remove-macro-dialog-"+e.macroId),n=$("#remove-macro-dialog-"+e.macroId);return n.find("#warning-dialog-confirm").on("click",(function(){u.default.removeFromUnloadPageAction(e),i.default.unwrapMacro(e.pageId,e.macroId,t),(e=>{let t;"Table Filter"===e?t="menuTF":"Chart from Table"===e&&(t="menuChart"),t&&(0,D.ga4SendEvent)(`${t}_removeMacro_clicked`)})(t),r.hide()})),n.find("#warning-dialog-cancel").on("click",(function(){r.hide()})),r.show(),r},exportToCsv:function(e,t,a,r,i,o,s,u,l){var m=e.table2CSV({separator:t,quote:a,headers:r,exportLinks:o,linkSeparator:s,hyperlink:u,showAllTasks:l}),d="utf-16le";-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(d="application/octet-stream");var c=m;i&&(c=(0,N.default)(m));var f=new Blob([c],{type:d});(0,n.saveAs)(f,"export.csv")},browserPrint:function(e){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.onload=function(){setTimeout((function(){t.focus(),t.contentWindow.print(),document.body.removeChild(t)}),1)};var a=$("<div></div>").append($('style, link[type="text/css"], link[rel="stylesheet"]').clone()).html(),r=e.filter("#pngdataurl").find("img"),n=q.getTablesForExport(e),i=$("<div></div>").append(r.clone()).append(n.clone()).html(),o="<html>\n        <head>\n          ".concat(a,'\n        </head>\n        <body id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default synchrony-active">\n          <div id="page">\n            <div id="full-height-container">\n              <div id="main" class="aui-page-panel" style="border-bottom: none">\n                <div id="content" class="page view">\n                  <div id="main-content" class="wiki-content">\n                    ').concat(i,"                                                                          \n                  </div>\n                </div>\n              </div>\n            </div>  \n          </div>  \n        </body>\n      </html>"),s=t.contentDocument||t.contentWindow.document;s.write(o),s.close()},exportToDoc:function(e){for(var t=e.clone(),a=e.find("img"),r=t.find("img"),n=0;n<a.length;n++)r[n].width=a[n].width,r[n].height=a[n].height;(0,L.removeTFControlElements)(t),t.find(".tj-hidden, .excerpt-hidden").remove(),t.find(".pivot-hidden, .chart-hidden").not(".table-excerpt").remove(),t.find(".tablefilter-pagination").remove(),t.find(".lockDisabled, .lockEnabled").remove(),t.find(".pivot-controls").remove(),t.find("tr").filter((function(){return"none"===$(this).css("display")})).remove(),t.find(".tf-header-hidden, .tf-hidden-column, .pivot-hidden-column").remove(),t.find("thead.tableFloatingHeader").remove(),t.find("td,th").css({border:"1px solid",padding:"0 5px"}).filter((function(){return"none"===$(this).css("display")})).remove(),t.find("table").css("border-collapse","collapse"),t.find("a[href]").each((function(){$(this).attr("href",this.href)})),t.find(".pivot-null-value").remove(),t.wordExport("export")},initDatePickerLocalisations:function(e){AJS.DatePicker.prototype.localisations.monthNames?AJS.DatePicker.prototype.localisations=v.default.get(e):AJS.DatePicker.prototype.localisations[e]=v.default.get(e)},getLongestWordInArr:function(e){return e.reduce((function(e,t){return e.length<t.length?t:e}),"")},getTablesForExport:function(e){return(0,M.default)(e).not(".tj-source.tj-hidden table").not("#i_confiform_registration_form table").not(e.find(".tj-hidden, .pivot-hidden:not(.table-excerpt), .chart-hidden:not(.table-excerpt), .excerpt-hidden").find("table"))},getTablesAndPlaintTextForExport:function(e){var t=this.getTablesForExport(e),a=(0,A.default)(e);return t.add(a)}},Z=q},30663:function(e,t,a){a.r(t),a.d(t,{clearArticles:function(){return i}});var r=a(37269),n=a(92127);function i(e,t){const a=r.default.get(t);let i=e;return a?.article&&(i=e.replace(new RegExp(" "+(0,n.default)(a.article)+" ","g")," ")),i}},32524:function(e,t,a){a.r(t);a(4267),a(73406);t.default=e=>e.replace(/hh:mm/i,"").replace(":ss","").replace(/[a,p]\.?m\.?/i,"").trim()},37269:function(e,t,a){a.r(t);a(63348),a(29902),a(54802),a(4267),a(63544),a(22901);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={ar_SA:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},az_AZ:{monthNames:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","yun","yul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertsi","rnb axam","rnb","Cm axam","Cm","nb"],dayNamesShort:["B","Be","a","","Ca","C",""],dayNamesMin:["B","B","","","","C",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},be_BY:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bg_BG:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bs_BA:{monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","e","Pe","Su"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ca_ES:{monthNames:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","mar","abr","maig","juny","jul","ag","set","oct","nov","des"],dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],dayNamesMin:["dg","dl","dt","dc","dj","dv","ds"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},cs_CZ:{monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],monthNamesShort:["led","no","be","dub","kv","er","vc","srp","z","j","lis","pro"],dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],dayNamesMin:["ne","po","t","st","t","p","so"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dnes",yesterday:"Vera",am:"dop.",pm:"odp."},da_DK:{monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],monthNamesShort:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],dayNames:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],dayNamesMin:["S","Ma","Ti","On","To","Fr","L"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"I dag",yesterday:"I gr",am:"AM",pm:"PM"},de_CH:{monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Heute",yesterday:"Gestern",am:"AM",pm:"PM"},de_DE:{monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Heute",yesterday:"Gestern",am:"AM",pm:"PM"},el_GR:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},en_GB:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0,isRTL:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"AM",pm:"PM"},en_US:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0,isRTL:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",weekstart:"weekstart",weekend:"weekend",monthstart:"monthstart",monthend:"monthend",am:"AM",pm:"PM"},es_AR:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_MX:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_VE:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_ES:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},et_EE:{monthNames:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Mrts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Phapev","Esmaspev","Teisipev","Kolmapev","Neljapev","Reede","Laupev"],dayNamesShort:["Phap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Tna",yesterday:"Eile",am:"AM",pm:"PM"},eu_ES:{monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig.","al.","ar.","az.","og.","ol.","lr."],dayNamesMin:["ig","al","ar","az","og","ol","lr"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},fa_IR:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},fi_FI:{monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Keskuu","Heinkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kes","Hein","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Tnn",yesterday:"Eilen",am:"ap.",pm:"ip."},fr_BE:{monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd'hui",yesterday:"Hier",am:"AM",pm:"PM"},fr_CA:{monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avril","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd'hui",yesterday:"Hier",am:"AM",pm:"PM"},fr_FR:{monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd'hui",yesterday:"Hier",am:"AM",pm:"PM"},hi_IN:{monthNames:[" ","","","","","",""," ","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},hu_HU:{monthNames:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december"],monthNamesShort:["jan.","febr.","mrc.","pr.","mj.","jn.","jl.","aug.","szept.","okt.","nov.","dec."],dayNames:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat"],dayNamesShort:["Vas","Ht","Ked","Sze","Cs","Pn","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"Ma",yesterday:"Tegnap",am:"DE",pm:"DU"},in_ID:{monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},is_IS:{monthNames:["janar","febrar","mars","aprl","ma","jn","jl","gst","september","oktber","nvember","desember"],monthNamesShort:["jan.","feb.","mar.","apr.","ma","jn.","jl.","g.","sep.","okt.","nv.","des."],dayNames:["Sunnudagur","Mnudagur","rijudagur","Mivikudagur","Fimmtudagur","Fstudagur","Laugardagur"],dayNamesShort:["Sun","Mn","ri","Mi","Fim","Fs","Lau"],dayNamesMin:["Su","M","r","Mi","Fi","F","La"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:" dag",yesterday:" gr",am:"AM",pm:"PM"},it_IT:{monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Oggi",yesterday:"Ieri",am:"AM",pm:"PM"},iw_IL:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesMin:["'","'","'","'","'","'",""],firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},ja_JP:{monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""},ka_GE:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ko_KR:{monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""},lt_LT:{monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegu","Birelis","Liepa","Rugpjtis","Rugsjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","treiadienis","ketvirtadienis","penktadienis","etadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","e"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","e"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},lv_LV:{monthNames:["Janvris","Februris","Marts","Aprlis","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svtdiena","pirmdiena","otrdiena","trediena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},mk_MK:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},nl_BE:{monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Vandaag",yesterday:"Gisteren",am:"AM",pm:"PM"},nl_NL:{monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Vandaag",yesterday:"Gisteren",am:"AM",pm:"PM"},no_NO:{monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["sn","man","tir","ons","tor","fre","lr"],dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesMin:["s","ma","ti","on","to","fr","l"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"I dag",yesterday:"I gr",am:"AM",pm:"PM"},pl_PL:{monthNames:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],dayNames:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],dayNamesShort:["Nie","Pn","Wt","r","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","r","Cz","Pt","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dzisiaj",yesterday:"Wczoraj",am:"AM",pm:"PM"},pt_BR:{monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoje",yesterday:"Ontem",am:"AM",pm:"PM",article:"de"},pt_PT:{monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoje",yesterday:"Ontem",am:"AM",pm:"PM",article:"de"},ro_RO:{monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Astzi",yesterday:"Ieri",am:"AM",pm:"PM"},ru_RU:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"",yesterday:"",am:"AM",pm:"PM"},sk_SK:{monthNames:["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december"],monthNamesShort:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],dayNames:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],dayNamesShort:["Ned","Pon","Uto","Str","tv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","t","Pia","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dnes",yesterday:"Vera",am:"AM",pm:"PM"},sl_SL:{monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","et","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","e","Pe","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},sr_SR:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},sv_SE:{monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],dayNames:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesMin:["S","M","Ti","On","To","Fr","L"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Idag",yesterday:"Igr",am:"fm",pm:"em"},th_TH:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["..","..","..","..","..","..","..","..","..","..","..",".."],dayNames:["","","","","","",""],dayNamesShort:[".",".",".",".",".",".","."],dayNamesMin:[".",".",".",".",".",".","."],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"",pm:""},tr_TR:{monthNames:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],monthNamesShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","a","Pe","Cu","Ct"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},uk_UA:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"AM",pm:"PM"},vi_VN:{monthNames:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"],monthNamesShort:["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],dayNames:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},zh_CN:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""},zh_TW:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""}},s="_picker",u="_point";Object.entries({da_DK:{monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]},de_DE:{monthNamesShort:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."]},en_GB:{monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]},hu_HU:{monthNames:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],monthNamesShort:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Szep","Okt","Nov","Dec"]},is_IS:{monthNames:["Janar","Febrar","Mars","Aprl","Ma","Jn","Jl","gst","September","Oktber","Nvember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Ma","Jn","Jl","g","Sep","Okt","Nv","Des"]},ja_JP:{monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"]},nl_NL:{monthNames:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthNamesShort:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."]},pl_PL:{monthNames:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthNamesShort:["sty","lu","mar","kw","maj","cze","lip","sie","wrz","pa","lis","gru"]},ru_RU:{monthNames:["","","","","","","","","","","",""],monthNamesShort:[".",".",".",".","",".",".",".",".",".",".","."]},cs_CZ:{monthNamesShort:["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"]},es_ES:{monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],generateMonthNamesShortWithPoint:!0},no_NO:{monthNamesShort:["jan.","feb.","mar.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."]},pt_BR:{monthNamesShort:["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."]},ro_RO:{monthNamesShort:["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."]},fi_FI:{monthNamesShort:["tammik.","helmik.","maalisk.","huhtik.","toukok.","kesk.","heink.","elok.","syysk.","lokak.","marrask.","jouluk."]},sv_SE:{monthNamesShort:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."]},zh_CN:{monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"]}}).forEach((e=>{var[t,a]=e;o[t+s]=n(n({},o[t]),a)})),Object.entries(o).forEach((e=>{var[t,a]=e;if(a.generateMonthNamesShortWithPoint){var r=a.monthNamesShort.map((e=>"".concat(e,"."))),i=t.replace(s,"");o[i+u]=n(n({},a),{},{monthNamesShort:r,generateMonthNamesShortWithPoint:!1})}}));var l={get:e=>o[e],set:(e,t)=>{o[e]=t},has:e=>!!o[e],findAlternateLocales:e=>[s,u].map((t=>e+t)).filter(l.has)};t.default=l},42312:function(e,t,a){a.r(t),a.d(t,{detectDateFormat:function(){return o}});var r=a(47057),n=a(15923),i=a(43509);const o=(e,t,a)=>{const o=["dd/M/yy HH:mm","dd/M/y HH:mm",a,"dd.mm.yy","m/d/yy","d M yy","d M y","M dd, yy",r.DEFAULT_DATE_FORMAT,"m/d/y","d. m. yy.","dd-mm-yy","dd-mm-y","dd.mm.y","dd/mm/yy","yy.dd.mm","yy/mm/dd"],s=.3*(e=e.length>10?(0,i.getSelectionFromArray)(e,10):e).length;let u=0,l=null;return o.some((a=>{const r=e.reduce(((e,r)=>{try{if((0,n.default)(r,a,t))return e+1}catch(e){}return e}),0);if(r>u&&r>=s&&(u=r,l=a,u===e.length))return!0})),l}},44540:function(e,t,a){a.r(t),a.d(t,{pushIfAbsent:function(){return r}});var r=function(e,t){-1===e.indexOf(t)&&e.push(t)}},47446:function(e,t,a){a.r(t),t.default=e=>Confluence.MacroParameterSerializer.deserialize(e.getAttribute("data-macro-parameters"))},51271:function(e,t,a){a.r(t),a.d(t,{clearNumberString:function(){return r}});const r=(e,t)=>e?("."===t?e=e.replace(/,/g,""):","===t&&(e=e.replace(/\./g,"")),e.replace(/\s/g,"").replace(/,/g,".").replace(/[$%]/,"").replace(/'/g,"").trim()):""},57853:function(e,t,a){a.r(t);var r=a(34388);t.default=(e,t)=>{if(e.length){var a=(0,r.clearStringLowerCase)(t),n=e[0].findIndex((function(e){return(0,r.clearStringLowerCase)(e)===a}));if(n>-1)return n}return null}},63936:function(e,t,a){a.r(t),a.d(t,{decimalSeparatorToLongForm:function(){return i},decimalSeparatorToShortForm:function(){return o},default:function(){return y},getBooleanValue:function(){return s.default},getBooleanValueOrNull:function(){return u},getShowNRowsValue:function(){return l},numberingToLongForm:function(){return m},removeEmptyPTag:function(){return d},thousandsSeparatorToLongForm:function(){return c},thousandsSeparatorToShortForm:function(){return f},transformOldCellWidthFormat:function(){return g},transformOldDefValueFormat:function(){return p},transformOldFilterColumns:function(){return h}});a(4267),a(58142);function r(e,t){return"string"==typeof e&&(e=~e.search(/point|\./i)?t.POINT:t.COMMA),e}var n=a(68631);function i(e){return r(e,n.SEPARATORS.LONG)}function o(e){return r(e,n.SEPARATORS.SHORT)}var s=a(92898);function u(e){return null==e?null:(0,s.default)(e)}function l(e){return e?"1000000"==e?"all":e:"all"}function m(e){if(!e||"false"===e||"string"!=typeof e)return"";var t=~e.search(/dynamic/i)||"true"===e?"Dynamic":"Static",a=~e.search(/desc/i)?"Descending":"Ascending";return"".concat(t+" "+a)}function d(e){return e.replace(/<p>&nbsp;<\/p>/g,"").replace(/<p \/>/g,"")}function c(e){return e?/point|\./i.test(e)?n.SEPARATORS.LONG.POINT:/space/i.test(e)?n.SEPARATORS.LONG.SPACE:/comma|,/i.test(e)?n.SEPARATORS.LONG.COMMA:/apostrophe|'/i.test(e)?n.SEPARATORS.LONG.APOSTROPHE:"":e}function f(e){switch(e){case n.SEPARATORS.LONG.COMMA:return n.SEPARATORS.SHORT.COMMA;case n.SEPARATORS.LONG.POINT:return n.SEPARATORS.SHORT.POINT;case n.SEPARATORS.LONG.SPACE:return n.SEPARATORS.SHORT.SPACE;case n.SEPARATORS.LONG.APOSTROPHE:return n.SEPARATORS.SHORT.APOSTROPHE;default:return""}}function h(e){return decodeURIComponent(e).replace(/\,/g,n.ALTERNATE_COMMA).replace(/\|/g,",")}a(73406);function p(e){return decodeURIComponent(e).trim().replace(//g,"&&").replace(/\d/g,"-Empty-").replace(//g,n.ALTERNATE_COMMA).replace(//g,".").replace(//g,"->")}a(63348),a(29902),a(63544),a(22901);function g(e,t){var a=(0,s.default)(t.globalFilter),r=(0,s.default)(t.hideColumns),n="",i=0,o={widths:e?e.split(","):[],columns:t.column?t.column.split(","):[],userfilters:t.userfilter?t.userfilter.split(","):[],numberfilters:t.numberfilter?t.numberfilter.split(","):[],datefilters:t.datefilter?t.datefilter.split(","):[],globalfilter:a?["true"]:[],hidecolumns:r?["true"]:[]};return Object.entries(o).forEach((e=>{var[t,a]=e;"widths"!==t&&("datefilters"!==t&&"numberfilters"!==t?a.forEach((function(){"150"!==o.widths[i]?n+=o.widths[i]+",":n+=",",i+=1})):i+=o[t].length)})),n.slice(0,-1)}var y=Object.freeze({decimalSeparatorToLongForm:i,decimalSeparatorToShortForm:o,getBooleanValue:s.default,getBooleanValueOrNull:u,getShowNRowsValue:l,numberingToLongForm:m,removeEmptyPTag:d,thousandsSeparatorToLongForm:c,thousandsSeparatorToShortForm:f,transformOldFilterColumns:h,transformOldDefValueFormat:p,transformOldCellWidthFormat:g})},70247:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});a(88220),a(4267),a(73049);var r=a(37269),n=a(19738),i=(e,t,a,r,n)=>{t=t||0,a=a||0,(r=r||"AM")===n&&"12"!==t&&(t=+t+12),e.setHours(t,a,0,0)};var o=[function(e){return"Just now"===e?new Date:null},function(e){var t=e.match(/(\d+) (minutes?|hours?|days?|weeks?) ago( (\d+):(\d\d) ([AP]M))?/);if(!t)return null;var a=t[1],r=t[2],n=new Date;switch(r){case"minute":case"minutes":n.setMinutes(n.getMinutes()-a);break;case"hour":case"hours":n.setHours(n.getHours()-a);break;case"day":case"days":n.setDate(n.getDate()-a),i(n,t[4],t[5],t[6],"PM");break;case"week":case"weeks":n.setDate(n.getDate()-7*a),i(n,t[4],t[5],t[6],"PM")}return n},function(e){var t=arguments.length>2?arguments[2]:void 0,a=null;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((n=>{var o=r.default.get(n),s=o.today||"Today",u=o.yesterday||"Yesterday",l=o.weekend||"weekend",m=o.weekstart||"weekstart",d=o.monthend||"monthend",c=o.monthstart||"monthstart",f=o.firstDay||0,h=o.pm||"PM",p=o.am||"AM",g="",y=o.dayNamesShort||o.dayNamesMin;t||(g=y.join("|")+"|");var v=new RegExp("^(".concat(o.dayNames.join("|"),"|").concat(g).concat(s,"|").concat(u,"|").concat(l,"|").concat(m,"|").concat(c,"|").concat(d,")( (\\d+):(\\d\\d)( (").concat(p,"|").concat(h,"))?)?$"),"i"),S=e.match(v);if(S){var b=S[1],k=b.toLowerCase();a=new Date,i(a,S[3],S[4],S[6],h);var T=0;if(b===u)T=1;else if(k===l)T=a.getDay()-6-f;else if(k===m)T=a.getDay()-f;else if(k===d)a.setMonth(a.getMonth()+1),a.setDate(0);else if(k===c)a.setDate(1);else if(b!==s){var N=o.dayNames.indexOf(b);-1===N&&(N=y.indexOf(b)),(T=a.getDay()-N)<0&&(T+=7)}return a.setDate(a.getDate()-T),!0}})),a},n.default],s=(e,t,a)=>{var r=null;return o.some((n=>null!=(r=n(e,t,a)))),r}},71030:function(e,t,a){a.r(t),a.d(t,{formatDate:function(){return d}});var r=a(14412),n=a(89455),i=a(2117),o=a(32524),s=a(37269);var u=a(70247),l=a(15923),m=a(42312);const d=(e,t,a)=>{if(!e)return"";let d=(0,i.toDateObject)(e);if("object"==typeof t&&(t=t[t.length-1]),(e=>isNaN(e.getTime?.()))(d)){const r=((e,t,a)=>{const r=Array.isArray(t)?t:[t],n=(0,u.default)(e,r);if(n)return n;const i=(0,m.detectDateFormat)([e],r,a);return i?(0,l.default)(e,i,r):null})(String(e),a,t);if(!r)return"";d=r}"object"==typeof a&&(a=a[a.length-1]);const c=t.toLowerCase().indexOf("hh:mm");let f=t,h="";if(c>=0&&(f=(0,o.default)(f),h=(0,n.formatTime)(d,t)),f.indexOf("i")>=0&&(f=f.replace("i","m"),d=new Date(d.getTime()),d.setDate(1),d.setMonth(d.getMonth()/3)),f.includes("w")){d=new Date(d.getTime()),d.setDate(d.getDate()+4-d.getDay());const e=d.getMonth();let t=d.getDate();e>1&&d.getFullYear()%4==0&&t++;const a=(t+r.MONTH_DAY_COUNT[e]-1)/7+1;let n="o";f.includes("ww")&&a<10&&(n="0"+n),f=f.replace(/w+/,n),d.setMonth(0),d.setDate(a)}let p=$.datepicker.formatDate(f,d,s.default.get(a));return 0===c?p=h+" "+p:c>0&&(p=p+" "+h),p}},73730:function(e,t,a){a.r(t),a.d(t,{findVisualElements:function(){return n}});var r=a(19503);const n=e=>e.querySelectorAll(`img, ${r.GENERIC_TASK_CONTAINER_SELECTOR}`)},78392:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});a(64707),a(4267),a(73406),a(63544);var r=a(70247),n=a(14412),i=a(37269),o=a(44540),s=a(30663),u=a(12508),l=/(^(\d{1,4}\.){4})/g,m=(e,t,a,m,d)=>{if(!e||!e.trim())return{date:null,formats:t};if((e=>{var t=e.toLowerCase();return"today"===t||"heute"===t})(e))return(h=new Date).setHours(0,0,0,0),{date:h,formats:t,isRelative:!0};var c;"string"==typeof t&&(t=[t]),"string"==typeof a&&(a=[a]),["en_US","en_GB"].includes(a[0])||(0,o.pushIfAbsent)(a,"en_US"),i.default.findAlternateLocales(a[0]).forEach((e=>(0,o.pushIfAbsent)(a,e)));for(var f=0;f<t.length;f++){var h,p=(c=t[f]).toLowerCase().indexOf("hh:mm")>=0,g=c.indexOf("i")>=0,y=c.indexOf("w")>=0,v=c,S=e,b=[];if(p){var k=(0,u.default)(e,c,a);if(v=k.dateFormat,S=k.dateString,b=k.time,!v&&0===b.length)throw"Not a date"}else g&&(v=v.replace("i","m")),y&&(v=v.replace(/w/g,"o"));-1===v.toLowerCase().indexOf("m")&&(v="mm/"+v,S="01/"+S),-1===v.indexOf("d")&&(v="dd/"+v,S="01/"+S),-1===v.indexOf("y")&&(v="yy/"+v,S=(new Date).getFullYear()+"/"+S);try{for(var T=0;T<a.length;T++){var N=a[T],M=i.default.get(N),A=(0,s.clearArticles)(S,N);try{(h=$.datepicker.parseDate(v,A,M)).getTime()}catch(e){if(-1===e.indexOf("Extra/unparsed characters found in date: ")||m||l.test(A)){if(-1===v.indexOf("yy")||-1===e.indexOf("Missing number at position")){if(T<a.length-1)continue;throw e}(h=$.datepicker.parseDate(v.replace("yy","y"),A,M)).getTime()}else(h=$.datepicker.parseDate(v,A.replace(e.split("Extra/unparsed characters found in date: ")[1],""),M)).getTime()}break}}catch(n){if(f<t.length-1)continue;if(null==(h=(0,r.default)(e,a,d)))throw n;return{date:h,formats:t,isRelative:!0}}if(h){if(h.setHours(b[0]||0,b[1]||0,b[2]||0),g&&h.setMonth(3*h.getMonth()),y){var j=h.getMonth(),D=h.getDate();j>1&&h.getYear()%4==0&&D++,h.setMonth(0),h.setDate(1);var E=h.getDay();h.setDate(1-E),E>4&&h.setDate(h.getDate()+7),h.setDate(h.getDate()+7*(D+n.MONTH_DAY_COUNT[j]-1))}break}}return{date:h,formats:[c]}}},89287:function(e,t,a){a.r(t);a(64707),a(88220),a(4267),a(73049),a(37567);function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=(e,t)=>{var a=e.indexOf(t);return-1===a?e.length:a};t.default=class{constructor(){var e=this;r(this,"getFormatter",(function(t,a){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="."===a?",":".",o="-?[".concat(a,"]?\\d([\\d\\s").concat(i,"']*\\d+)?[").concat(a,"]?\\d*([Ee]-?\\d+)?"),s=t.match(new RegExp(o)),u=e=>e;if(s){var l=!r,m=s[0];if(r){l=!1,u=e.formatter;var d=n(m,a);(d>e.maxNumLength||!e.formatter)&&(e.maxNumLength=d,l=!0)}if(l){var c=t.replace(m,"{%s}"),f=m.includes(" ")?" ":m.includes(",")&&"."===a?",":m.includes(".")&&","===a?".":m.includes("'")?"'":"";u=c.length>9?function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e.replace(/ /g,f)}:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?c.replace("{%s}",e):c.replace("{%s}",e.replace(/ /g,f))}}r&&(e.formatter=u)}return u})),this.formatter=null,this.maxNumLength=0}}},89455:function(e,t,a){a.r(t),a.d(t,{formatTime:function(){return i}});const r=(e,t)=>{const a=new Array(t).join("0")+e;return a.substring(a.length-t,a.length)};var n=a(2117);const i=(e,t)=>{if(!e)return"";e=(0,n.toDateObject)(e);const a=-1!==t.indexOf("HH:"),i=t.indexOf(":ss")>=0;let o=e.getHours(),s="";a&&(s=o>11?" p.m.":" a.m.",0===o?o=12:o>12&&(o%=12));let u=r(o,2)+":"+r(e.getMinutes(),2);return i&&(u=u+":"+r(e.getSeconds(),2)),u+s}},99153:function(e,t,a){a.r(t);a(16335),a(4267);var r=a(51271);t.default=(e,t)=>{var a=(0,r.clearNumberString)(e,t);return/^[+-]?\d*\.?\d+(?:[Ee][+-]?\d+)?$/.test(a)?parseFloat(a):NaN}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:898522ccca8479b73b8adc6c2bdf95c1', location = 'build/3509.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3509],{43509:function(r,e,t){t.r(e),t.d(e,{escapeQuotes:function(){return n},escapeTemplateValue:function(){return o},getChildren:function(){return c},getChildrenFromHtmlCollection:function(){return u},getCloudClientUrl:function(){return i},getSelectionFromArray:function(){return a},spliceSelectors:function(){return l}});t(63348),t(6558),t(4267),t(58142),t(5809),t(71035),t(94853),t(4003),t(30204),t(17709),t(92391),t(33256),t(40327),t(46),t(86266),t(28530),t(83452),t(52826),t(65183),t(64555),t(63544),t(22901),t(37628);var n=r=>r&&"string"==typeof r?r&&r.replace(/"/g,"&#34").replace(/'/g,"&#39"):r,o=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var o="";return r.forEach(((r,e)=>{var n=e<t.length?t[e]:"";"string"==typeof n&&(n=n.replace(/"/g,"&#34").replace(/'/g,"&#39")),o+=r+n})),new String(o)},a=(r,e)=>{for(var t=[],n=r.length/e,o=(r.length-(e-1)*n)/2;o<r.length;o+=n)t.push(r[Math.floor(o)]);return t},l=(r,e,t)=>{if(!e||!e.length)return r;var n=r.toArray(),o=e.toArray();return Array.prototype.push.apply(n,o),n=t?Array.from(new Set(n)):n,$(n)},c=r=>u(r.toArray()),u=r=>{var e=[];return r&&r.length&&Array.prototype.forEach.call(r,(r=>Array.prototype.push.apply(e,r.children))),$(e)},i=()=>new URLSearchParams(window.location.search).get("xdm_e")||window.AP&&AP._hostOrigin||AJS.params&&AJS.params.versionNumber.match(/\d+\.\d+/)[0]||void 0}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:31a9951398a1ed7ce580cba1ff9924e8', location = 'build/6005.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6005],{19503:function(n,e,t){t.r(e),t.d(e,{FORMATWIKI_STATUS_TYPE_MAPPING:function(){return l},GENERIC_CHECKED_TASK_SELECTOR:function(){return o},GENERIC_DATEMACRO_SELECTOR:function(){return f},GENERIC_MENTION_SELECTOR:function(){return E},GENERIC_TASK_CHECKED_PATTERN:function(){return a},GENERIC_TASK_CONTAINER_SELECTOR:function(){return i},GENERIC_TASK_MARKERS:function(){return u},GENERIC_TASK_MATCH_SELECTOR:function(){return c},GENERIC_UNCHECKED_TASK_SELECTOR:function(){return s}});var r=t(68631);const i=r.TASK_LIST_SELECTOR,o=r.CHECKED_TASK_SELECTOR,s=r.UNCHECKED_TASK_SELECTOR,c=r.TASK_SELECTOR,u=['<ul class="inline-task-list"'],a=/<li .*?class="[^"]*?checked[^"]*?".*?>/,f=r.DATEMACRO_TAG,E=r.MENTION_SELECTOR,l={Grey:"",Red:"error",Yellow:"moved",Green:"success",Blue:"current",Purple:"complete"}},59265:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});t(63348),t(28403),t(63645),t(10765),t(4496),t(97865),t(49465),t(70649),t(73406),t(63544);function r(n){if(void 0===n)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function i(n){this.tokens=[].slice.call(n)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var o={};[{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16le"}],heading:"Legacy miscellaneous encodings"}].forEach((function(n){n.encodings.forEach((function(n){n.labels.forEach((function(e){o[e]=n}))}))}));var s={};function c(n,e){if(!(this instanceof c))return new c(n,e);var t;if(n=void 0!==n?String(n):"utf-8",e=r(e),this._encoding=(t=n,t=String(t).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(o,t)?o[t]:null),null===this._encoding||"replacement"===this._encoding.name)throw RangeError("Unknown encoding: "+n);var i=Boolean(e.NONSTANDARD_allowLegacyEncoding),u="utf-8"!==this._encoding.name&&"utf-16le"!==this._encoding.name&&"utf-16be"!==this._encoding.name;if(null===this._encoding||u&&!i)throw RangeError("Unknown encoding: "+n);if(!s[this._encoding.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js?");return this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{value:this._encoding.name}):this.encoding=this._encoding.name,this}function u(n,e){var t=n>>8,r=255&n;return e?[t,r]:[r,t]}function a(n,e){this.handler=function(e,t){if(i=65535,0<=(r=t)&&r<=i)return u(t,n);var r,i,o=u(55296+(t-65536>>10),n),s=u(56320+(t-65536&1023),n);return o.concat(s)}}c.prototype={encode:function(n,e){n=n?String(n):"",e=r(e);var t=this;this._streaming||(this._encoder=s[this._encoding.name](this._options)),this._streaming=Boolean(e.stream);var o,c=[],u=new i(function(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)i.push(65533);else{var s=n.charCodeAt(r+1);if(56320<=s&&s<=57343){var c=1023&o,u=1023&s;i.push(65536+(c<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(n));return u.tokens.forEach((function(n){o=t._encoder.handler(u,n),Array.isArray(o)?c.push.apply(c,o):c.push(o)})),new Uint8Array(c)}},s["utf-16le"]=function(n){return new a(!1,n)};var f=new c("utf-16le",{NONSTANDARD_allowLegacyEncoding:!0});function E(n){var e=f.encode([n]),t=new Uint8Array(2+e.length);return t[0]=255,t[1]=254,t.set(e,2),t}},91733:function(n,e,t){t.r(e),t.d(e,{containsCheckedTask:function(){return i},isCheckedTask:function(){return o}});var r=t(19503);const i=n=>n.querySelector(r.GENERIC_CHECKED_TASK_SELECTOR),o=n=>n.matches(r.GENERIC_CHECKED_TASK_SELECTOR)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:ea7327dbae722c717ad5f547d8ef45e3', location = 'build/1731.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1731],{12544:function(e){if(void 0===(t=window.TableUtilsTemplate=window.TableUtilsTemplate||{}))var t={};t.exportToCSV=function(e,t){return'<section role="dialog" id="export-csv-dialog-'+soy.$$escapeHtml(e.macroId)+'" class="aui-layer aui-dialog2 aui-dialog2-medium tf-csv-export-dialog" aria-hidden="true" data-aui-remove-on-hide="true" data-aui-modal="true" style="height: 440px; width: 600px;"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Export Options")+'</h2></header><div class="aui-dialog2-content"><form class="aui prevent-default-form"><div class="export-csv-input tf-csv-link tf-csv-export-links-wrapper"><label for="tf-csv-export-link">'+soy.$$escapeHtml("Export clickable links")+'</label><select class="select tf-csv-export-links" id="tf-csv-export-link"><option value="false" '+("false"==e.exportLinks?"selected":"")+">"+soy.$$escapeHtml("None")+'</option><option value="true" '+("true"!=e.exportLinks&&e.exportLinks?"":"selected")+">"+soy.$$escapeHtml("Excel friendly")+'</option><option value="all" '+("all"==e.exportLinks?"selected":"")+">"+soy.$$escapeHtml("All links")+'</option></select></div><div class="export-csv-input tf-csv-link param separator"><label class="tf-csv-export-link-separator-label" for="tf-csv-export-link-separator">'+soy.$$escapeHtml("List Separator")+'</label><select class="select" id="tf-csv-export-link-separator"><option value=";" '+(";"==e.linkSeparator?"selected":"")+'>;</option><option value="," '+(","==e.linkSeparator?"selected":"")+'>,</option></select></div><div class="export-csv-input tf-csv-link param hyperlink"><label for="tf-csv-export-hyperlink">'+soy.$$escapeHtml("Office language")+'</label><select class="select" id="tf-csv-export-hyperlink"><option value="Czech" '+("Czech"==e.hyperlink?"selected":"")+'>Czech</option><option value="Danish" '+("Danish"==e.hyperlink?"selected":"")+'>Danish</option><option value="Dutch" '+("Dutch"==e.hyperlink?"selected":"")+'>Dutch</option><option value="English" '+("English"==e.hyperlink?"selected":"")+'>English</option><option value="Finnish" '+("Finnish"==e.hyperlink?"selected":"")+'>Finnish</option><option value="French" '+("French"==e.hyperlink?"selected":"")+'>French</option><option value="German" '+("German"==e.hyperlink?"selected":"")+'>German</option><option value="Hungarian" '+("Hungarian"==e.hyperlink?"selected":"")+'>Hungarian</option><option value="Italian" '+("Italian"==e.hyperlink?"selected":"")+'>Italian</option><option value="Norwegian" '+("Norwegian"==e.hyperlink?"selected":"")+'>Norwegian</option><option value="Polish" '+("Polish"==e.hyperlink?"selected":"")+'>Polish</option><option value="Portugese" '+("Portugese"==e.hyperlink?"selected":"")+'>Portugese</option><option value="Russian" '+("Russian"==e.hyperlink?"selected":"")+'>Russian</option><option value="Spanish" '+("Spanish"==e.hyperlink?"selected":"")+'>Spanish</option><option value="Swedish" '+("Swedish"==e.hyperlink?"selected":"")+'>Swedish</option><option value="Turkish" '+("Turkish"==e.hyperlink?"selected":"")+'>Turkish</option></select></div><select class="select" id="tf-csv-export-type"><option value="default">'+soy.$$escapeHtml("Default settings")+'</option><option value="custom">'+soy.$$escapeHtml("Custom settings")+'</option></select><div id="tf-csv-export-default-message">'+soy.$$escapeHtml("Default settings work well for most spreadsheet management applications, such as MS Excel and others.")+'</div><div id="tf-csv-export-params"><div><div class="export-csv-input" style="width: 49%;"><label>'+soy.$$escapeHtml("Delimiter character")+'</label><div><input class="text export-csv-separator" type="text" style="width: 100%; max-width: none;" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="150px" value="'+soy.$$escapeHtml(e.separator)+'" /></div></div><div class="export-csv-input" style="width: 49%; margin-right: 0 !important;"><label>'+soy.$$escapeHtml("Quote character")+'</label><div><input class="text export-csv-quote" type="text" style="width: 100%; max-width: none;" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="150px" value="'+soy.$$escapeHtml(e.quote)+'" /></div></div></div><div class="export-csv-textarea"><label>'+soy.$$escapeHtml("Export table header")+'</label><textarea class="textarea max-textarea export-csv-headers" rows="3" cols="54">'+soy.$$escapeHtml(e.headers)+"</textarea></div>"+(null!=e.initialShowAllTasksState?'<div class="export-csv-toggle"><aui-toggle id="show-all-tasks" label="show-all-tasks" '+(1==e.initialShowAllTasksState?"checked":"")+'></aui-toggle><aui-label for="show-all-tasks">Show all tasks</aui-label></div>':"")+'</div></form></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="csv-export-'+soy.$$escapeHtml(e.macroId)+'" class="aui-button aui-button-primary">'+soy.$$escapeHtml("Export")+'</button><button id="csv-cancel-'+soy.$$escapeHtml(e.macroId)+'" class="aui-button aui-button-link">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},{}.DEBUG&&(t.exportToCSV.soyTemplateName="TableUtilsTemplate.exportToCSV"),t.dialogRemoveMacro=function(e,t){return'<section id="remove-macro-dialog-'+soy.$$escapeHtml(e.macroId)+'" class="aui-dialog2 aui-dialog2-small aui-layer remove-macro-dialog" role="dialog" aria-hidden="true" data-aui-remove-on-hide="true" style="width: 454px;"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml(AJS.format("Remove {0} Macro",e.macroName))+'</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a></header><div class="aui-dialog2-content" style="max-height: 100%;"><p>'+soy.$$escapeHtml("Are you sure you want to remove the macro? All your content will remain on the page safely.")+'</p><p><span class="aui-icon aui-icon-small aui-iconfont-info"></span> '+soy.$$escapeHtml("You can restore the macro by rolling back to a previous page version in the Page History section.")+'</p></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="warning-dialog-confirm" class="aui-button aui-button-primary">'+soy.$$escapeHtml("Remove")+'</button><button id="warning-dialog-cancel" class="aui-button aui-button-link">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},{}.DEBUG&&(t.dialogRemoveMacro.soyTemplateName="TableUtilsTemplate.dialogRemoveMacro"),t.userMentionPopup=function(e,t){return'<div class="ajs-content-hover aui-box-shadow tf-user-mention-popup"><div class="contents" style="width: 300px;"><div class="profile-macro hipchat-status-applied"><div class="vcard"><a class="userLogoLink" data-username="admin" href="" target="_blank"><img class="userLogo logo" src="'+soy.$$escapeHtml(e.logoUrl)+'" alt="User icon: '+soy.$$escapeHtml(e.publicName)+'" title="'+soy.$$escapeHtml(e.publicName)+'" data-fallback-img-loaded-listener="true" width="48" height="48"></a><div class="values"><h4><a href="'+soy.$$escapeHtml(e.baseUrl)+"/people/"+soy.$$escapeHtml(e.accountId)+'" class="url fn confluence-userlink" data-username="'+soy.$$escapeHtml(e.publicName)+'" target="_blank">'+soy.$$escapeHtml(e.displayName)+'</a></h4><a href="mailto:'+soy.$$escapeHtml(e.email)+'" title="Send Email to '+soy.$$escapeHtml(e.displayName)+'" class="email" target="_self">'+soy.$$escapeHtml(e.email)+"</a></div></div></div></div></div>"},{}.DEBUG&&(t.userMentionPopup.soyTemplateName="TableUtilsTemplate.userMentionPopup"),t.paginationMsg=function(e,a){return'<li class="tfac-pagination">'+t.displayedRowsMsg(null)+"</li>"},{}.DEBUG&&(t.paginationMsg.soyTemplateName="TableUtilsTemplate.paginationMsg"),t.jiraIssuesMsg=function(e,a){return'<span class="tfac-pagination">'+t.displayedRowsMsg(null)+"</span>"},{}.DEBUG&&(t.jiraIssuesMsg.soyTemplateName="TableUtilsTemplate.jiraIssuesMsg"),t.displayedRowsMsg=function(e,t){return'<a><span class="aui-icon aui-icon-small aui-iconfont-info"></span></a>'+soy.$$escapeHtml("Set the maximum number of rows to display in the source table to process it correctly.")+'<span class="aui-icon aui-icon-small aui-iconfont-remove-label hide" title="'+soy.$$escapeHtml("Hide this message")+'"></span>'},{}.DEBUG&&(t.displayedRowsMsg.soyTemplateName="TableUtilsTemplate.displayedRowsMsg"),t.mergedHeader=function(e,a){return'<thead class="tf-header-hidden synchrony-exclude" contenteditable="false">'+t.mergedHeaderRow(e)+"</thead>"},{}.DEBUG&&(t.mergedHeader.soyTemplateName="TableUtilsTemplate.mergedHeader"),t.mergedHeaderRow=function(e,t){for(var a='<tr class="tf-header-hidden">',l=e.data,s=l.length,i=0;i<s;i++){var o=l[i];a+="<th>"+soy.$$filterNoAutoescape(o.html)+"</th>"}return a+="</tr>"},{}.DEBUG&&(t.mergedHeaderRow.soyTemplateName="TableUtilsTemplate.mergedHeaderRow"),e.exports=t},23317:function(e,t,a){"use strict";a.r(t),a.d(t,{getRows:function(){return i}});var l=a(37460),s=a(14412);const i=({table:e,horizontal:t=!1,visible:a=!1,totalRow:i=!1,includePivotHeader:h=!1})=>{const g=[],f=[],v=[],y=[...e.rows].filter(o);if(y.length){const o=e.classList.contains("attachments"),x=!o&&e.classList.contains("rlabs-ifc-insight-objects-macro-view-table")&&e.tFoot?1:0,b=(e,t)=>0===t||n(e)||e.classList.contains(s.TF_HEADER_HIDDEN);for(let e=0;e<y.length-x;e++){const s=y[e];(!a||(0,l.isRowVisible)(s))&&(h||!n(s))&&(t||i||!r(s))&&!c(s)&&!p(s)&&!(d(s)&&u(s))&&(!o||!m(s))&&(b(s,e)?g.push(s):f.push(s),v.push(s))}}return{headerRows:g,bodyRows:f,allRows:v}},o=e=>e.children.length,n=e=>e.classList.contains(s.PIVOT_HEADER),r=e=>e.classList.contains("total-row"),c=e=>e.classList.contains("pagination-row"),p=e=>e.parentElement?.classList.contains("tableFloatingHeader"),d=e=>e.classList.contains("issueRow"),u=e=>e.classList.contains("meta-data-container"),m=e=>e.classList.contains("attachment-summary")},34388:function(e,t,a){"use strict";a.r(t),a.d(t,{clearStringLowerCase:function(){return s}});var l=a(80326);const s=e=>(e=>(e||"").toLocaleLowerCase())((0,l.clearString)(e))},37460:function(e,t,a){"use strict";a.r(t),a.d(t,{isRowVisible:function(){return l}});const l=e=>"none"!==e.style.display},38094:function(e,t,a){"use strict";a.r(t),a.d(t,{clearStringBasic:function(){return l}});const l=e=>void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/[\u200B\uFEFF]/g,"").trim())},80326:function(e,t,a){"use strict";a.r(t),a.d(t,{REGEXP_SEARCH_SPACES:function(){return s},REPLACE_SPACES_VALUE:function(){return i},clearString:function(){return o}});var l=a(38094);const s=/\s{2,}|\u00A0/g,i=" ",o=e=>(0,l.clearStringBasic)(e).replace(s,i).trim()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:d9faf846fc66e6ff2750a516b41ffd98', location = 'build/2898.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2898],{92898:function(t,e,n){function u(t){return"boolean"==typeof t?t:"true"===t}n.r(e),n.d(e,{default:function(){return u}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:bcb4e4fdde7ec4b3865cc2d127fe3653', location = 'build/3152.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3152],{12932:function(n,t,e){e.r(t);var f=e(68631),l="div.".concat(f.PLAIN_TEXT_CLASS);t.default=n=>{var t=n.find("table ".concat(l));return n.find(l).not(t)}},17598:function(n,t,e){e.r(t),t.default=n=>{var t=n.find("table table");return n.find("table").not(t)}},56834:function(n,t,e){e.r(t),e.d(t,{removeTFControlElements:function(){return l}});var f=e(14412);function l(n){n.find(f.TF_CONTROL_ELEMENTS_SELECTOR).remove()}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:f1b7c7685b188368e0792b64d206f8dc', location = 'build/9313.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9313],{29313:function(t,n,_){_.r(n),_.d(n,{extractTables:function(){return e}});var E=_(68631);const e=(t,n=E.DEFAULT_TABLE_SELECTOR)=>t.map((function(){const t=$(this),_=t.find(`${E.PIVOT_ORIGINAL_TABLE_SELECTOR}, ${E.TT_ORIGINAL_TABLE_SELECTOR}`).find(n),e=t.find(E.INNER_TABLE_SELECTOR);return t.find(n).not(E.EXCLUDE_TABLE_SELECTOR).not(_).not(e).toArray()}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:fd594f379baefbef63dcfbaa8d45fe27', location = 'build/5372.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5372],{25372:function(t,e,n){n.r(e);n(4267);$.fn.changeElementType=function(t){var e={};$.each(this[0].attributes,(function(t,n){e[n.nodeName]=n.nodeValue})),this.replaceWith((function(){return $("<".concat(t,"></").concat(t,">"),e).append($(this).contents())}))},$.fn.filterByAttr=function(t,e){return this.filter((function(){return this.attributes[t].textContent===e}))},$.fn.getClassStartsWith=function(t){var e=this.length?this[0].className.match(t):null;return e?e[0]:null},$.fn.blinkFromClass=function(t,e,n){1==arguments.length&&(e=500,n=3);var s=this[0].style.transition;this[0].style.transition="all .3s ease-out";var i=a=>{a<2*n-1?(a%2==1?this.removeClassWithDelay(t,e):this.addClassWithDelay(t,a&&e),i(a+1)):this.delay(e).queue((function(){return this.style.transition=s,$(this).dequeue()}))};return i(0),this},$.fn.addClassWithDelay=function(t,e){return this.delay(e).queue((()=>this.addClass(t).dequeue()))},$.fn.removeClassWithDelay=function(t,e){return this.delay(e).queue((()=>this.removeClass(t).dequeue()))}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:f6141397adba3bc9491b61a9b45a38d0', location = 'build/9986.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9986],{2304:function(t,e,r){var n=r(88810),o=r(43555);n({global:!0,forced:parseInt!==o},{parseInt:o})},16335:function(t,e,r){var n=r(88810),o=r(18948);n({global:!0,forced:parseFloat!==o},{parseFloat:o})},18948:function(t,e,r){var n=r(88052),o=r(42675),c=r(2484),a=r(17267),i=r(65150).trim,f=r(74912),l=c("".charAt),u=n.parseFloat,s=n.Symbol,p=s&&s.iterator,b=1/u(f+"-0")!=-1/0||p&&!o((function(){u(Object(p))}));t.exports=b?function(t){var e=i(a(t)),r=u(e);return 0===r&&"-"===l(e,0)?-0:r}:u},43555:function(t,e,r){var n=r(88052),o=r(42675),c=r(2484),a=r(17267),i=r(65150).trim,f=r(74912),l=n.parseInt,u=n.Symbol,s=u&&u.iterator,p=/^[+-]?0x/i,b=c(p.exec),g=8!==l(f+"08")||22!==l(f+"0x16")||s&&!o((function(){l(Object(s))}));t.exports=g?function(t,e){var r=i(a(t));return l(r,e>>>0||(b(p,r)?16:10))}:l},92127:function(t,e,r){function n(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r.r(e),r.d(e,{default:function(){return n}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:1ad004fcdb79bc363f393374942c1ac1', location = 'build/579.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[579],{46:function(t,e,r){var n=r(88810),i=r(93625),o=r(72454),a=r(3107);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return i(a,this,o(t))}})},861:function(t,e,r){var n=r(88810),i=r(2484),o=r(6526),a=RangeError,u=String.fromCharCode,s=String.fromCodePoint,f=i([].join);n({target:"String",stat:!0,arity:1,forced:!!s&&1!==s.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,i=0;n>i;){if(e=+arguments[i++],o(e,1114111)!==e)throw new a(e+" is not a valid code point");r[i]=e<65536?u(e):u(55296+((e-=65536)>>10),e%1024+56320)}return f(r,"")}})},3107:function(t,e,r){var n=r(42404),i=r(11990).has,o=r(7358),a=r(84665),u=r(88711),s=r(91151);t.exports=function(t){var e=n(this),r=a(t);if(o(e)<r.size)return!1;var f=r.getIterator();return!1!==u(f,(function(t){if(!i(e,t))return s(f,"normal",!1)}))}},4003:function(t,e,r){var n=r(88810),i=r(29004),o=r(42404),a=r(66417);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!1!==a(e,(function(t){if(!r(t,t,e))return!1}),!0)}})},5809:function(t,e,r){var n=r(88810),i=r(42404),o=r(11990).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=i(this),e=0,r=arguments.length;e<r;e++)o(t,arguments[e]);return t}})},7358:function(t,e,r){var n=r(18438),i=r(11990);t.exports=n(i.proto,"size","get")||function(t){return t.size}},11990:function(t,e,r){var n=r(2484),i=Set.prototype;t.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},17706:function(t,e,r){var n=r(42404),i=r(11990),o=r(7358),a=r(84665),u=r(66417),s=r(88711),f=i.Set,c=i.add,h=i.has;t.exports=function(t){var e=n(this),r=a(t),i=new f;return o(e)>r.size?s(r.getIterator(),(function(t){h(e,t)&&c(i,t)})):u(e,(function(t){r.includes(t)&&c(i,t)})),i}},17709:function(t,e,r){var n=r(88810),i=r(29004),o=r(42404),a=r(66417);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=a(e,(function(t){if(r(t,t,e))return{value:t}}),!0);return n&&n.value}})},22690:function(t,e,r){r(63348),r(861);var n=r(88810),i=r(88052),o=r(46977),a=r(33163),u=r(93625),s=r(2484),f=r(92128),c=r(95940),h=r(25236),l=r(56038),v=r(13179),d=r(98819),p=r(47270),g=r(16369),y=r(55755),S=r(321),w=r(44461),m=r(29004),b=r(35719),k=r(10659),x=r(94102),R=r(17267),U=r(3844),z=r(25936),L=r(56221),C=r(74951),I=r(50381),P=r(90464),E=r(54175),j=r(84492),_=E("iterator"),O="URLSearchParams",q=O+"Iterator",A=g.set,F=g.getterFor(O),T=g.getterFor(q),D=o("fetch"),N=o("Request"),Q=o("Headers"),G=N&&N.prototype,B=Q&&Q.prototype,H=i.TypeError,J=i.encodeURIComponent,M=String.fromCharCode,$=a("String","fromCodePoint"),K=parseInt,V=s("".charAt),W=s([].join),X=s([].push),Y=s("".replace),Z=s([].shift),tt=s([].splice),et=s("".split),rt=s("".slice),nt=s(/./.exec),it=/\+/g,ot=/^[0-9a-f]+$/i,at=function(t,e){var r=rt(t,e,e+2);return nt(ot,r)?K(r,16):NaN},ut=function(t){for(var e=0,r=128;r>0&&t&r;r>>=1)e++;return e},st=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},ft=function(t){for(var e=(t=Y(t,it," ")).length,r="",n=0;n<e;){var i=V(t,n);if("%"===i){if("%"===V(t,n+1)||n+3>e){r+="%",n++;continue}var o=at(t,n+1);if(o!=o){r+=i,n++;continue}n+=2;var a=ut(o);if(0===a)i=M(o);else{if(1===a||a>4){r+="",n++;continue}for(var u=[o],s=1;s<a&&!(++n+3>e||"%"!==V(t,n));){var f=at(t,n+1);if(f!=f){n+=3;break}if(f>191||f<128)break;X(u,f),n+=2,s++}if(u.length!==a){r+="";continue}var c=st(u);null===c?r+="":i=$(c)}}r+=i,n++}return r},ct=/[!'()~]|%20/g,ht={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},lt=function(t){return ht[t]},vt=function(t){return Y(J(t),ct,lt)},dt=p((function(t,e){A(this,{type:q,target:F(t).entries,index:0,kind:e})}),O,(function(){var t=T(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,I(void 0,!0);var n=e[r];switch(t.kind){case"keys":return I(n.key,!1);case"values":return I(n.value,!1)}return I([n.key,n.value],!1)}),!0),pt=function(t){this.entries=[],this.url=null,void 0!==t&&(x(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===V(t,0)?rt(t,1):t:R(t)))};pt.prototype={type:O,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,o,a,s,f=this.entries,c=C(t);if(c)for(r=(e=L(t,c)).next;!(n=u(r,e)).done;){if(o=(i=L(k(n.value))).next,(a=u(o,i)).done||(s=u(o,i)).done||!u(o,i).done)throw new H("Expected sequence with length 2");X(f,{key:R(a.value),value:R(s.value)})}else for(var h in t)w(t,h)&&X(f,{key:h,value:R(t[h])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,i=et(t,"&"),o=0;o<i.length;)(e=i[o++]).length&&(r=et(e,"="),X(n,{key:ft(Z(r)),value:ft(W(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],X(r,vt(t.key)+"="+vt(t.value));return W(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var gt=function(){y(this,yt);var t=A(this,new pt(arguments.length>0?arguments[0]:void 0));f||(this.size=t.entries.length)},yt=gt.prototype;if(v(yt,{append:function(t,e){var r=F(this);P(arguments.length,2),X(r.entries,{key:R(t),value:R(e)}),f||this.length++,r.updateURL()},delete:function(t){for(var e=F(this),r=P(arguments.length,1),n=e.entries,i=R(t),o=r<2?void 0:arguments[1],a=void 0===o?o:R(o),u=0;u<n.length;){var s=n[u];if(s.key!==i||void 0!==a&&s.value!==a)u++;else if(tt(n,u,1),void 0!==a)break}f||(this.size=n.length),e.updateURL()},get:function(t){var e=F(this).entries;P(arguments.length,1);for(var r=R(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=F(this).entries;P(arguments.length,1);for(var r=R(t),n=[],i=0;i<e.length;i++)e[i].key===r&&X(n,e[i].value);return n},has:function(t){for(var e=F(this).entries,r=P(arguments.length,1),n=R(t),i=r<2?void 0:arguments[1],o=void 0===i?i:R(i),a=0;a<e.length;){var u=e[a++];if(u.key===n&&(void 0===o||u.value===o))return!0}return!1},set:function(t,e){var r=F(this);P(arguments.length,1);for(var n,i=r.entries,o=!1,a=R(t),u=R(e),s=0;s<i.length;s++)(n=i[s]).key===a&&(o?tt(i,s--,1):(o=!0,n.value=u));o||X(i,{key:a,value:u}),f||(this.size=i.length),r.updateURL()},sort:function(){var t=F(this);j(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=F(this).entries,n=m(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new dt(this,"keys")},values:function(){return new dt(this,"values")},entries:function(){return new dt(this,"entries")}},{enumerable:!0}),h(yt,_,yt.entries,{name:"entries"}),h(yt,"toString",(function(){return F(this).serialize()}),{enumerable:!0}),f&&l(yt,"size",{get:function(){return F(this).entries.length},configurable:!0,enumerable:!0}),d(gt,O),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:gt}),!c&&S(Q)){var St=s(B.has),wt=s(B.set),mt=function(t){if(x(t)){var e,r=t.body;if(b(r)===O)return e=t.headers?new Q(t.headers):new Q,St(e,"content-type")||wt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),U(t,{body:z(0,R(r)),headers:z(0,e)})}return t};if(S(D)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return D(t,arguments.length>1?mt(arguments[1]):{})}}),S(N)){var bt=function(t){return y(this,G),new N(t,arguments.length>1?mt(arguments[1]):{})};G.constructor=bt,bt.prototype=G,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:bt})}}t.exports={URLSearchParams:gt,getState:F}},23560:function(t,e,r){var n=r(42404),i=r(11990).add,o=r(60466),a=r(84665),u=r(88711);t.exports=function(t){var e=n(this),r=a(t).getIterator(),s=o(e);return u(r,(function(t){i(s,t)})),s}},25596:function(t,e,r){var n=r(42404),i=r(11990),o=r(60466),a=r(7358),u=r(84665),s=r(66417),f=r(88711),c=i.has,h=i.remove;t.exports=function(t){var e=n(this),r=u(t),i=o(e);return a(e)<=r.size?s(e,(function(t){r.includes(t)&&h(i,t)})):f(r.getIterator(),(function(t){c(e,t)&&h(i,t)})),i}},28530:function(t,e,r){var n=r(88810),i=r(29004),o=r(42404),a=r(11990),u=r(66417),s=a.Set,f=a.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new s;return u(e,(function(t){f(n,r(t,t,e))})),n}})},30204:function(t,e,r){var n=r(88810),i=r(29004),o=r(42404),a=r(11990),u=r(66417),s=a.Set,f=a.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new s;return u(e,(function(t){r(t,t,e)&&f(n,t)})),n}})},30779:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},33256:function(t,e,r){var n=r(88810),i=r(93625),o=r(72454),a=r(52285);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return i(a,this,o(t))}})},35462:function(t,e,r){var n=r(42404),i=r(11990),o=r(60466),a=r(84665),u=r(88711),s=i.add,f=i.has,c=i.remove;t.exports=function(t){var e=n(this),r=a(t).getIterator(),i=o(e);return u(r,(function(t){f(e,t)?c(i,t):s(i,t)})),i}},37628:function(t,e,r){r(22690)},40327:function(t,e,r){var n=r(88810),i=r(93625),o=r(72454),a=r(80282);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return i(a,this,o(t))}})},42404:function(t,e,r){var n=r(11990).has;t.exports=function(t){return n(t),t}},52285:function(t,e,r){var n=r(42404),i=r(11990).has,o=r(7358),a=r(84665),u=r(66417),s=r(88711),f=r(91151);t.exports=function(t){var e=n(this),r=a(t);if(o(e)<=r.size)return!1!==u(e,(function(t){if(r.includes(t))return!1}),!0);var c=r.getIterator();return!1!==s(c,(function(t){if(i(e,t))return f(c,"normal",!1)}))}},52826:function(t,e,r){var n=r(88810),i=r(29004),o=r(42404),a=r(66417);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!0===a(e,(function(t){if(r(t,t,e))return!0}),!0)}})},60466:function(t,e,r){var n=r(11990),i=r(66417),o=n.Set,a=n.add;t.exports=function(t){var e=new o;return i(t,(function(t){a(e,t)})),e}},64555:function(t,e,r){var n=r(88810),i=r(93625),o=r(72454),a=r(23560);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return i(a,this,o(t))}})},65183:function(t,e,r){var n=r(88810),i=r(93625),o=r(72454),a=r(35462);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return i(a,this,o(t))}})},66417:function(t,e,r){var n=r(2484),i=r(88711),o=r(11990),a=o.Set,u=o.proto,s=n(u.forEach),f=n(u.keys),c=f(new a).next;t.exports=function(t,e,r){return r?i({iterator:f(t),next:c},e):s(t,e)}},71035:function(t,e,r){var n=r(88810),i=r(42404),o=r(11990).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),r=!0,n=0,a=arguments.length;n<a;n++)t=o(e,arguments[n]),r=r&&t;return!!r}})},72454:function(t,e,r){var n=r(33163),i=r(321),o=r(76855),a=r(94102),u=n("Set");t.exports=function(t){return function(t){return a(t)&&"number"==typeof t.size&&i(t.has)&&i(t.keys)}(t)?t:o(t)?new u(t):t}},76855:function(t,e,r){var n=r(35719),i=r(44461),o=r(59601),a=r(54175),u=r(56609),s=a("iterator"),f=Object;t.exports=function(t){if(o(t))return!1;var e=f(t);return void 0!==e[s]||"@@iterator"in e||i(u,n(e))}},80282:function(t,e,r){var n=r(42404),i=r(7358),o=r(66417),a=r(84665);t.exports=function(t){var e=n(this),r=a(t);return!(i(e)>r.size)&&!1!==o(e,(function(t){if(!r.includes(t))return!1}),!0)}},83452:function(t,e,r){var n=r(88810),i=r(54334),o=r(42404),a=r(66417),u=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),r=arguments.length<2,n=r?void 0:arguments[1];if(i(t),a(e,(function(i){r?(r=!1,n=i):n=t(n,i,i,e)})),r)throw new u("Reduce of empty set with no initial value");return n}})},84665:function(t,e,r){var n=r(54334),i=r(10659),o=r(93625),a=r(7391),u=r(30779),s="Invalid size",f=RangeError,c=TypeError,h=Math.max,l=function(t,e){this.set=t,this.size=h(e,0),this.has=n(t.has),this.keys=n(t.keys)};l.prototype={getIterator:function(){return u(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new c(s);var r=a(e);if(r<0)throw new f(s);return new l(t,r)}},86266:function(t,e,r){var n=r(88810),i=r(2484),o=r(42404),a=r(66417),u=r(17267),s=i([].join),f=i([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=o(this),r=void 0===t?",":u(t),n=[];return a(e,(function(t){f(n,t)})),s(n,r)}})},92391:function(t,e,r){var n=r(88810),i=r(93625),o=r(72454),a=r(17706);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return i(a,this,o(t))}})},94853:function(t,e,r){var n=r(88810),i=r(93625),o=r(72454),a=r(25596);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return i(a,this,o(t))}})},95940:function(t,e,r){var n=r(42675),i=r(54175),o=r(92128),a=r(36007),u=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),r.delete("a",2),r.delete("b",void 0),a&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(a||!o)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[u]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7e94645a54e13b4c017f83f09d69b981', location = 'build/8217.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8217],{2283:function(t,r,n){var e=n(94102),o=Math.floor;t.exports=Number.isInteger||function(t){return!e(t)&&isFinite(t)&&o(t)===t}},2438:function(t){var r=4503599627370496;t.exports=function(t){return t+r-r}},4496:function(t,r,n){var e=n(49680),o=n(79249),i=n(55314),f=n(35719),u=n(93625),a=n(2484),c=n(42675),s=e.aTypedArray,y=e.exportTypedArrayMethod,h=a("".slice);y("fill",(function(t){var r=arguments.length;s(this);var n="Big"===h(f(this),0,3)?i(t):+t;return u(o,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)}),c((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})))},6594:function(t){t.exports=Math.sign||function(t){var r=+t;return 0===r||r!=r?r:r<0?-1:1}},6879:function(t,r,n){var e=n(29004),o=n(93625),i=n(73112),f=n(68649),u=n(88770),a=n(56221),c=n(74951),s=n(53709),y=n(64291),h=n(49680).aTypedArrayConstructor,p=n(55314);t.exports=function(t){var r,n,g,v,l,w,A,d,b=i(this),T=f(t),I=arguments.length,E=I>1?arguments[1]:void 0,x=void 0!==E,R=c(T);if(R&&!s(R))for(d=(A=a(T,R)).next,T=[];!(w=o(d,A)).done;)T.push(w.value);for(x&&I>2&&(E=e(E,arguments[2])),n=u(T),g=new(h(b))(n),v=y(g),r=0;n>r;r++)l=x?E(T[r],r):T[r],g[r]=v?p(l):+l;return g}},7545:function(t,r,n){var e=n(66306),o=RangeError;t.exports=function(t,r){var n=e(t);if(n%r)throw new o("Wrong offset");return n}},10765:function(t,r,n){n(66587)("Uint8",(function(t){return function(r,n,e){return t(this,r,n,e)}}))},13070:function(t){var r=Array,n=Math.abs,e=Math.pow,o=Math.floor,i=Math.log,f=Math.LN2;t.exports={pack:function(t,u,a){var c,s,y,h=r(a),p=8*a-u-1,g=(1<<p)-1,v=g>>1,l=23===u?e(2,-24)-e(2,-77):0,w=t<0||0===t&&1/t<0?1:0,A=0;for((t=n(t))!=t||t===1/0?(s=t!=t?1:0,c=g):(c=o(i(t)/f),t*(y=e(2,-c))<1&&(c--,y*=2),(t+=c+v>=1?l/y:l*e(2,1-v))*y>=2&&(c++,y/=2),c+v>=g?(s=0,c=g):c+v>=1?(s=(t*y-1)*e(2,u),c+=v):(s=t*e(2,v-1)*e(2,u),c=0));u>=8;)h[A++]=255&s,s/=256,u-=8;for(c=c<<u|s,p+=u;p>0;)h[A++]=255&c,c/=256,p-=8;return h[A-1]|=128*w,h},unpack:function(t,r){var n,o=t.length,i=8*o-r-1,f=(1<<i)-1,u=f>>1,a=i-7,c=o-1,s=t[c--],y=127&s;for(s>>=7;a>0;)y=256*y+t[c--],a-=8;for(n=y&(1<<-a)-1,y>>=-a,a+=r;a>0;)n=256*n+t[c--],a-=8;if(0===y)y=1-u;else{if(y===f)return n?NaN:s?-1/0:1/0;n+=e(2,r),y-=u}return(s?-1:1)*n*e(2,y-r)}}},28403:function(t,r,n){var e=n(88810),o=n(88052),i=n(75374),f=n(80461),u="ArrayBuffer",a=i[u];e({global:!0,constructor:!0,forced:o[u]!==a},{ArrayBuffer:a}),f(u)},29902:function(t,r,n){var e=n(88810),o=n(48801).entries;e({target:"Object",stat:!0},{entries:function(t){return o(t)}})},31273:function(t,r,n){var e=n(88052),o=n(42675),i=n(99976),f=n(49680).NATIVE_ARRAY_BUFFER_VIEWS,u=e.ArrayBuffer,a=e.Int8Array;t.exports=!f||!o((function(){a(1)}))||!o((function(){new a(-1)}))||!i((function(t){new a,new a(null),new a(1.5),new a(t)}),!0)||o((function(){return 1!==new a(new u(2),1,void 0).length}))},37612:function(t,r,n){var e=n(7391),o=n(13026),i=RangeError;t.exports=function(t){if(void 0===t)return 0;var r=e(t),n=o(r);if(r!==n)throw new i("Wrong length or index");return n}},41075:function(t){var r=Math.round;t.exports=function(t){var n=r(t);return n<0?0:n>255?255:255&n}},49465:function(t,r,n){var e=n(88052),o=n(71904),i=n(42675),f=n(54334),u=n(84492),a=n(49680),c=n(53409),s=n(30719),y=n(22763),h=n(33539),p=a.aTypedArray,g=a.exportTypedArrayMethod,v=e.Uint16Array,l=v&&o(v.prototype.sort),w=!(!l||i((function(){l(new v(2),null)}))&&i((function(){l(new v(2),{})}))),A=!!l&&!i((function(){if(y)return y<74;if(c)return c<67;if(s)return!0;if(h)return h<602;var t,r,n=new v(516),e=Array(516);for(t=0;t<516;t++)r=t%4,n[t]=515-t,e[t]=t-2*r+3;for(l(n,(function(t,r){return(t/4|0)-(r/4|0)})),t=0;t<516;t++)if(n[t]!==e[t])return!0}));g("sort",(function(t){return void 0!==t&&f(t),A?l(this,t):u(p(this),function(t){return function(r,n){return void 0!==t?+t(r,n)||0:n!=n?-1:r!=r?1:0===r&&0===n?1/r>0&&1/n<0?1:-1:r>n}}(t))}),!A||w)},49680:function(t,r,n){var e,o,i,f=n(93071),u=n(92128),a=n(88052),c=n(321),s=n(94102),y=n(44461),h=n(35719),p=n(68379),g=n(70671),v=n(25236),l=n(56038),w=n(37837),A=n(65927),d=n(31715),b=n(54175),T=n(42868),I=n(16369),E=I.enforce,x=I.get,R=a.Int8Array,_=R&&R.prototype,U=a.Uint8ClampedArray,B=U&&U.prototype,L=R&&A(R),F=_&&A(_),m=Object.prototype,O=a.TypeError,M=b("toStringTag"),V=T("TYPED_ARRAY_TAG"),C="TypedArrayConstructor",S=f&&!!d&&"Opera"!==h(a.opera),N=!1,W={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Y={BigInt64Array:8,BigUint64Array:8},D=function(t){var r=A(t);if(s(r)){var n=x(r);return n&&y(n,C)?n[C]:D(r)}},P=function(t){if(!s(t))return!1;var r=h(t);return y(W,r)||y(Y,r)};for(e in W)(i=(o=a[e])&&o.prototype)?E(i)[C]=o:S=!1;for(e in Y)(i=(o=a[e])&&o.prototype)&&(E(i)[C]=o);if((!S||!c(L)||L===Function.prototype)&&(L=function(){throw new O("Incorrect invocation")},S))for(e in W)a[e]&&d(a[e],L);if((!S||!F||F===m)&&(F=L.prototype,S))for(e in W)a[e]&&d(a[e].prototype,F);if(S&&A(B)!==F&&d(B,F),u&&!y(F,M))for(e in N=!0,l(F,M,{configurable:!0,get:function(){return s(this)?this[V]:void 0}}),W)a[e]&&g(a[e],V,e);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:N&&V,aTypedArray:function(t){if(P(t))return t;throw new O("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!d||w(L,t)))return t;throw new O(p(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,r,n,e){if(u){if(n)for(var o in W){var i=a[o];if(i&&y(i.prototype,t))try{delete i.prototype[t]}catch(n){try{i.prototype[t]=r}catch(t){}}}F[t]&&!n||v(F,t,n?r:S&&_[t]||r,e)}},exportTypedArrayStaticMethod:function(t,r,n){var e,o;if(u){if(d){if(n)for(e in W)if((o=a[e])&&y(o,t))try{delete o[t]}catch(t){}if(L[t]&&!n)return;try{return v(L,t,n?r:S&&L[t]||r)}catch(t){}}for(e in W)!(o=a[e])||o[t]&&!n||v(o,t,r)}},getTypedArrayConstructor:D,isView:function(t){if(!s(t))return!1;var r=h(t);return"DataView"===r||y(W,r)||y(Y,r)},isTypedArray:P,TypedArray:L,TypedArrayPrototype:F}},51478:function(t,r,n){var e=n(88770);t.exports=function(t,r,n){for(var o=0,i=arguments.length>2?n:e(r),f=new t(i);i>o;)f[o]=r[o++];return f}},55314:function(t,r,n){var e=n(90573),o=TypeError;t.exports=function(t){var r=e(t,"number");if("number"==typeof r)throw new o("Can't convert number to bigint");return BigInt(r)}},59240:function(t,r,n){var e=n(6594),o=n(2438),i=Math.abs;t.exports=function(t,r,n,f){var u=+t,a=i(u),c=e(u);if(a<f)return c*o(a/f/r)*f*r;var s=(1+r/2220446049250313e-31)*a,y=s-(s-a);return y>n||y!=y?c*(1/0):c*y}},63645:function(t,r,n){var e=n(88810),o=n(71904),i=n(42675),f=n(75374),u=n(10659),a=n(6526),c=n(13026),s=f.ArrayBuffer,y=f.DataView,h=y.prototype,p=o(s.prototype.slice),g=o(h.getUint8),v=o(h.setUint8);e({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new s(2).slice(1,void 0).byteLength}))},{slice:function(t,r){if(p&&void 0===r)return p(u(this),t);for(var n=u(this).byteLength,e=a(t,n),o=a(void 0===r?n:r,n),i=new s(c(o-e)),f=new y(this),h=new y(i),l=0;e<o;)v(h,l++,g(f,e++));return i}})},64291:function(t,r,n){var e=n(35719);t.exports=function(t){var r=e(t);return"BigInt64Array"===r||"BigUint64Array"===r}},66306:function(t,r,n){var e=n(7391),o=RangeError;t.exports=function(t){var r=e(t);if(r<0)throw new o("The argument can't be less than 0");return r}},66587:function(t,r,n){var e=n(88810),o=n(88052),i=n(93625),f=n(92128),u=n(31273),a=n(49680),c=n(75374),s=n(55755),y=n(25936),h=n(70671),p=n(2283),g=n(13026),v=n(37612),l=n(7545),w=n(41075),A=n(91261),d=n(44461),b=n(35719),T=n(94102),I=n(73401),E=n(3844),x=n(37837),R=n(31715),_=n(24956).f,U=n(6879),B=n(2961).forEach,L=n(80461),F=n(56038),m=n(86005),O=n(33071),M=n(51478),V=n(16369),C=n(19859),S=V.get,N=V.set,W=V.enforce,Y=m.f,D=O.f,P=o.RangeError,k=c.ArrayBuffer,j=k.prototype,G=c.DataView,q=a.NATIVE_ARRAY_BUFFER_VIEWS,z=a.TYPED_ARRAY_TAG,H=a.TypedArray,J=a.TypedArrayPrototype,K=a.isTypedArray,Q="BYTES_PER_ELEMENT",X="Wrong length",Z=function(t,r){F(t,r,{configurable:!0,get:function(){return S(this)[r]}})},$=function(t){var r;return x(j,t)||"ArrayBuffer"===(r=b(t))||"SharedArrayBuffer"===r},tt=function(t,r){return K(t)&&!I(r)&&r in t&&p(+r)&&r>=0},rt=function(t,r){return r=A(r),tt(t,r)?y(2,t[r]):D(t,r)},nt=function(t,r,n){return r=A(r),!(tt(t,r)&&T(n)&&d(n,"value"))||d(n,"get")||d(n,"set")||n.configurable||d(n,"writable")&&!n.writable||d(n,"enumerable")&&!n.enumerable?Y(t,r,n):(t[r]=n.value,t)};f?(q||(O.f=rt,m.f=nt,Z(J,"buffer"),Z(J,"byteOffset"),Z(J,"byteLength"),Z(J,"length")),e({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:rt,defineProperty:nt}),t.exports=function(t,r,n){var f=t.match(/\d+/)[0]/8,a=t+(n?"Clamped":"")+"Array",c="get"+t,y="set"+t,p=o[a],A=p,d=A&&A.prototype,b={},I=function(t,r){Y(t,r,{get:function(){return function(t,r){var n=S(t);return n.view[c](r*f+n.byteOffset,!0)}(this,r)},set:function(t){return function(t,r,e){var o=S(t);o.view[y](r*f+o.byteOffset,n?w(e):e,!0)}(this,r,t)},enumerable:!0})};q?u&&(A=r((function(t,r,n,e){return s(t,d),C(T(r)?$(r)?void 0!==e?new p(r,l(n,f),e):void 0!==n?new p(r,l(n,f)):new p(r):K(r)?M(A,r):i(U,A,r):new p(v(r)),t,A)})),R&&R(A,H),B(_(p),(function(t){t in A||h(A,t,p[t])})),A.prototype=d):(A=r((function(t,r,n,e){s(t,d);var o,u,a,c=0,y=0;if(T(r)){if(!$(r))return K(r)?M(A,r):i(U,A,r);o=r,y=l(n,f);var h=r.byteLength;if(void 0===e){if(h%f)throw new P(X);if((u=h-y)<0)throw new P(X)}else if((u=g(e)*f)+y>h)throw new P(X);a=u/f}else a=v(r),o=new k(u=a*f);for(N(t,{buffer:o,byteOffset:y,byteLength:u,length:a,view:new G(o)});c<a;)I(t,c++)})),R&&R(A,H),d=A.prototype=E(J)),d.constructor!==A&&h(d,"constructor",A),W(d).TypedArrayConstructor=A,z&&h(d,z,a);var x=A!==p;b[a]=A,e({global:!0,constructor:!0,forced:x,sham:!q},b),Q in A||h(A,Q,f),Q in d||h(d,Q,f),L(a)}):t.exports=function(){}},70649:function(t,r,n){var e=n(88052),o=n(50133),i=n(49680),f=n(42675),u=n(24540),a=e.Int8Array,c=i.aTypedArray,s=i.exportTypedArrayMethod,y=[].toLocaleString,h=!!a&&f((function(){y.call(new a(1))}));s("toLocaleString",(function(){return o(y,h?u(c(this)):c(this),u(arguments))}),f((function(){return[1,2].toLocaleString()!==new a([1,2]).toLocaleString()}))||!f((function(){a.prototype.toLocaleString.call([1,2])})))},75374:function(t,r,n){var e=n(88052),o=n(2484),i=n(92128),f=n(93071),u=n(64690),a=n(70671),c=n(56038),s=n(13179),y=n(42675),h=n(55755),p=n(7391),g=n(13026),v=n(37612),l=n(78437),w=n(13070),A=n(65927),d=n(31715),b=n(79249),T=n(24540),I=n(19859),E=n(81704),x=n(98819),R=n(16369),_=u.PROPER,U=u.CONFIGURABLE,B="ArrayBuffer",L="DataView",F="prototype",m="Wrong index",O=R.getterFor(B),M=R.getterFor(L),V=R.set,C=e[B],S=C,N=S&&S[F],W=e[L],Y=W&&W[F],D=Object.prototype,P=e.Array,k=e.RangeError,j=o(b),G=o([].reverse),q=w.pack,z=w.unpack,H=function(t){return[255&t]},J=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Q=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},X=function(t){return q(l(t),23,4)},Z=function(t){return q(t,52,8)},$=function(t,r,n){c(t[F],r,{configurable:!0,get:function(){return n(this)[r]}})},tt=function(t,r,n,e){var o=M(t),i=v(n),f=!!e;if(i+r>o.byteLength)throw new k(m);var u=o.bytes,a=i+o.byteOffset,c=T(u,a,a+r);return f?c:G(c)},rt=function(t,r,n,e,o,i){var f=M(t),u=v(n),a=e(+o),c=!!i;if(u+r>f.byteLength)throw new k(m);for(var s=f.bytes,y=u+f.byteOffset,h=0;h<r;h++)s[y+h]=a[c?h:r-h-1]};if(f){var nt=_&&C.name!==B;y((function(){C(1)}))&&y((function(){new C(-1)}))&&!y((function(){return new C,new C(1.5),new C(NaN),1!==C.length||nt&&!U}))?nt&&U&&a(C,"name",B):((S=function(t){return h(this,N),I(new C(v(t)),this,S)})[F]=N,N.constructor=S,E(S,C)),d&&A(Y)!==D&&d(Y,D);var et=new W(new S(2)),ot=o(Y.setInt8);et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||s(Y,{setInt8:function(t,r){ot(this,t,r<<24>>24)},setUint8:function(t,r){ot(this,t,r<<24>>24)}},{unsafe:!0})}else N=(S=function(t){h(this,N);var r=v(t);V(this,{type:B,bytes:j(P(r),0),byteLength:r}),i||(this.byteLength=r,this.detached=!1)})[F],Y=(W=function(t,r,n){h(this,Y),h(t,N);var e=O(t),o=e.byteLength,f=p(r);if(f<0||f>o)throw new k("Wrong offset");if(f+(n=void 0===n?o-f:g(n))>o)throw new k("Wrong length");V(this,{type:L,buffer:t,byteLength:n,byteOffset:f,bytes:e.bytes}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=f)})[F],i&&($(S,"byteLength",O),$(W,"buffer",M),$(W,"byteLength",M),$(W,"byteOffset",M)),s(Y,{getInt8:function(t){return tt(this,1,t)[0]<<24>>24},getUint8:function(t){return tt(this,1,t)[0]},getInt16:function(t){var r=tt(this,2,t,arguments.length>1&&arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=tt(this,2,t,arguments.length>1&&arguments[1]);return r[1]<<8|r[0]},getInt32:function(t){return Q(tt(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return Q(tt(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return z(tt(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return z(tt(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,r){rt(this,1,t,H,r)},setUint8:function(t,r){rt(this,1,t,H,r)},setInt16:function(t,r){rt(this,2,t,J,r,arguments.length>2&&arguments[2])},setUint16:function(t,r){rt(this,2,t,J,r,arguments.length>2&&arguments[2])},setInt32:function(t,r){rt(this,4,t,K,r,arguments.length>2&&arguments[2])},setUint32:function(t,r){rt(this,4,t,K,r,arguments.length>2&&arguments[2])},setFloat32:function(t,r){rt(this,4,t,X,r,arguments.length>2&&arguments[2])},setFloat64:function(t,r){rt(this,8,t,Z,r,arguments.length>2&&arguments[2])}});x(S,B),x(W,L),t.exports={ArrayBuffer:S,DataView:W}},78437:function(t,r,n){var e=n(59240);t.exports=Math.fround||function(t){return e(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},79249:function(t,r,n){var e=n(68649),o=n(6526),i=n(88770);t.exports=function(t){for(var r=e(this),n=i(r),f=arguments.length,u=o(f>1?arguments[1]:void 0,n),a=f>2?arguments[2]:void 0,c=void 0===a?n:o(a,n);c>u;)r[u++]=t;return r}},93071:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},97865:function(t,r,n){var e=n(88052),o=n(93625),i=n(49680),f=n(88770),u=n(7545),a=n(68649),c=n(42675),s=e.RangeError,y=e.Int8Array,h=y&&y.prototype,p=h&&h.set,g=i.aTypedArray,v=i.exportTypedArrayMethod,l=!c((function(){var t=new Uint8ClampedArray(2);return o(p,t,{length:1,0:3},1),3!==t[1]})),w=l&&i.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new y(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));v("set",(function(t){g(this);var r=u(arguments.length>1?arguments[1]:void 0,1),n=a(t);if(l)return o(p,this,n,r);var e=this.length,i=f(n),c=0;if(i+r>e)throw new s("Wrong length");for(;c<i;)this[r+c]=n[c++]}),!l||w)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:8f5b34486236057e17d116f2df950fb7', location = 'build/2835.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2835],{22835:function(e){e.exports=function(e){return String(e).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#x3A;/g,":").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:79b648da47fee2e789438fa12e308ab6', location = 'build/9449.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9449],{13179:function(t,e,n){var o=n(25236);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},88711:function(t,e,n){var o=n(93625);t.exports=function(t,e,n){for(var r,f,i=n?t:t.iterator,u=t.next;!(r=o(u,i)).done;)if(void 0!==(f=e(r.value)))return f}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:b3eb4999c9062320701f4faefdeaf427', location = 'build/8801.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8801],{48801:function(e,n,t){var u=t(92128),l=t(42675),r=t(2484),c=t(65927),f=t(64700),i=t(28969),s=r(t(7769).f),o=r([].push),a=u&&l((function(){var e=Object.create(null);return e[2]=2,!s(e,2)})),_=function(e){return function(n){for(var t,l=i(n),r=f(l),_=a&&null===c(l),p=r.length,b=0,h=[];p>b;)t=r[b++],u&&!(_?t in l:s(l,t))||o(h,e?[t,l[t]]:l[t]);return h}};e.exports={entries:_(!0),values:_(!1)}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e2278e6a91412b949fba5a17af9cb36d', location = 'build/3406.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3406],{790:function(t,n,r){var e=r(64690).PROPER,u=r(42675),f=r(74912);t.exports=function(t){return u((function(){return!!f[t]()||""!==""[t]()||e&&f[t].name!==t}))}},65150:function(t,n,r){var e=r(2484),u=r(64834),f=r(17267),i=r(74912),o=e("".replace),c=RegExp("^["+i+"]+"),s=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(t){return function(n){var r=f(u(n));return 1&t&&(r=o(r,c,"")),2&t&&(r=o(r,s,"$1")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},73406:function(t,n,r){var e=r(88810),u=r(65150).trim;e({target:"String",proto:!0,forced:r(790)("trim")},{trim:function(){return u(this)}})},74912:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:921946efef787164fe1acc7717416f10', location = 'build/4571.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4571],{24571:function(e,t,n){var o,a,i;a=[],void 0===(i="function"==typeof(o=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,c=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(e,t,n){var c=r.URL||r.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?i(s):a(s.href)?o(e,t,n):i(s,s.target="_blank")):(s.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(s.href)}),4e4),setTimeout((function(){i(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),n);else if(a(e))o(e,n,r);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){i(c)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var i="application/octet-stream"===e.type,s=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s||c)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var f=r.URL||r.webkitURL,d=f.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});r.saveAs=s.saveAs=s,e.exports=s})?o.apply(t,a):o)||(e.exports=i)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:0106ed394ec90e282e39174d16ed5425', location = 'build/8142.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8142],{27778:function(n){n.exports=Object.is||function(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}},58142:function(n,t,e){var u=e(93625),r=e(17808),i=e(10659),l=e(59601),s=e(64834),c=e(27778),a=e(17267),f=e(39538),o=e(79198);r("search",(function(n,t,e){return[function(t){var e=s(this),r=l(t)?void 0:f(t,n);return r?u(r,t,e):new RegExp(t)[n](a(e))},function(n){var u=i(this),r=a(n),l=e(t,u,r);if(l.done)return l.value;var s=u.lastIndex;c(s,0)||(u.lastIndex=0);var f=o(u,r);return c(u.lastIndex,s)||(u.lastIndex=s),null===f?-1:f.index}]}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:991b617e3314066205db26237cfc5b0c', location = 'build/2901.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2901],{3597:function(t,r,e){var n,o,i,u=e(42675),a=e(321),c=e(94102),s=e(3844),f=e(65927),p=e(25236),l=e(54175),y=e(36007),v=l("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=f(f(i)))!==Object.prototype&&(n=o):h=!0),!c(n)||u((function(){var t={};return n[v].call(t)!==t}))?n={}:y&&(n=s(n)),a(n[v])||p(n,v,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},8676:function(t,r,e){var n=e(88810),o=e(93625),i=e(36007),u=e(64690),a=e(321),c=e(47270),s=e(65927),f=e(31715),p=e(98819),l=e(70671),y=e(25236),v=e(54175),h=e(56609),k=e(3597),A=u.PROPER,O=u.CONFIGURABLE,_=k.IteratorPrototype,x=k.BUGGY_SAFARI_ITERATORS,I=v("iterator"),g="keys",R="values",b="entries",m=function(){return this};t.exports=function(t,r,e,u,v,k,w){c(e,r,u);var P,d,T,E=function(t){if(t===v&&B)return B;if(!x&&t&&t in F)return F[t];switch(t){case g:case R:case b:return function(){return new e(this,t)}}return function(){return new e(this)}},G=r+" Iterator",j=!1,F=t.prototype,S=F[I]||F["@@iterator"]||v&&F[v],B=!x&&S||E(v),C="Array"===r&&F.entries||S;if(C&&(P=s(C.call(new t)))!==Object.prototype&&P.next&&(i||s(P)===_||(f?f(P,_):a(P[I])||y(P,I,m)),p(P,G,!0,!0),i&&(h[G]=m)),A&&v===R&&S&&S.name!==R&&(!i&&O?l(F,"name",R):(j=!0,B=function(){return o(S,this)})),v)if(d={values:E(R),keys:k?B:E(g),entries:E(b)},w)for(T in d)(x||j||!(T in F))&&y(F,T,d[T]);else n({target:r,proto:!0,forced:x||j},d);return i&&!w||F[I]===B||y(F,I,B,{name:v}),h[r]=B,d}},22901:function(t,r,e){var n=e(88052),o=e(25004),i=e(87140),u=e(63348),a=e(70671),c=e(98819),s=e(54175)("iterator"),f=u.values,p=function(t,r){if(t){if(t[s]!==f)try{a(t,s,f)}catch(r){t[s]=f}if(c(t,r,!0),o[r])for(var e in u)if(t[e]!==u[e])try{a(t,e,u[e])}catch(r){t[e]=u[e]}}};for(var l in o)p(n[l]&&n[l].prototype,l);p(i,"DOMTokenList")},47270:function(t,r,e){var n=e(3597).IteratorPrototype,o=e(3844),i=e(25936),u=e(98819),a=e(56609),c=function(){return this};t.exports=function(t,r,e,s){var f=r+" Iterator";return t.prototype=o(n,{next:i(+!s,e)}),u(t,f,!1,!0),a[f]=c,t}},50381:function(t){t.exports=function(t,r){return{value:t,done:r}}},63348:function(t,r,e){var n=e(28969),o=e(62153),i=e(56609),u=e(16369),a=e(86005).f,c=e(8676),s=e(50381),f=e(36007),p=e(92128),l="Array Iterator",y=u.set,v=u.getterFor(l);t.exports=c(Array,"Array",(function(t,r){y(this,{type:l,target:n(t),index:0,kind:r})}),(function(){var t=v(this),r=t.target,e=t.index++;if(!r||e>=r.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(e,!1);case"values":return s(r[e],!1)}return s([e,r[e]],!1)}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!f&&p&&"values"!==h.name)try{a(h,"name",{value:"values"})}catch(t){}},65927:function(t,r,e){var n=e(44461),o=e(321),i=e(68649),u=e(93779),a=e(92407),c=u("IE_PROTO"),s=Object,f=s.prototype;t.exports=a?s.getPrototypeOf:function(t){var r=i(t);if(n(r,c))return r[c];var e=r.constructor;return o(e)&&r instanceof e?e.prototype:r instanceof s?f:null}},92407:function(t,r,e){var n=e(42675);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:editor-extensions', location = 'build/editor-extensions.js' */
!function(){"use strict";var t,e={10715:function(t,e,r){r(24034),r(16335),r(2304),r(88220),r(4267),r(73049),r(73406);var o=r(71121),n=r(25082),i=r(93622),a=r(25511),s=r(47057);!function(t){t.extend({tablesorterEditor:new function(){this.version="2.3.10";var e=[],r=[];function o(t){"undefined"!=typeof console&&void 0!==console.log?console.log(t):alert(t)}function n(t,e){o(t+" ("+((new Date).getTime()-e.getTime())+"ms)")}function i(e,r,o){if(!r)return"";var n=e.config,i=n.textExtraction,a="";return a="simple"===i?n.supportsTextContent?r.textContent:r.childNodes[0]&&r.childNodes[0].hasChildNodes()?r.childNodes[0].innerHTML:r.innerHTML:"function"==typeof i?i(r,e,o):"object"==typeof i&&i.hasOwnProperty(o)?i[o](r,e,o):n.supportsTextContent?r.textContent:t(r).text(),t.trim(a)}function a(t){var r,o=e.length;for(r=0;r<o;r++)if(e[r].id.toLowerCase()===t.toString().toLowerCase())return e[r];return!1}function s(t,r,n,a){for(var s,l=e.length,c=!1,d="",u=!0;""===d&&u;)r[++n]?(d=i(t,c=r[n].cells[a],a),t.config.debug&&o("Checking if value was empty on row "+n+", column: "+a+": "+d)):u=!1;for(s=1;s<l;s++)if(e[s].is(d,t,c))return e[s];return e[0]}function l(e,r){var n,i,l,c,d,u,f,h=e.config,p=t(e.tBodies).filter(":not(."+h.cssInfoBlock+")"),g=t.tablesorterEditor,m="";if(0!==p.length){if((n=Array.from(e.rows).splice(1))[0])for(i=[],l=n[0].cells.length,c=0;c<l;c++)d=r.filter(':not([colspan])[data-column="'+c+'"]:last,[colspan="1"][data-column="'+c+'"]:last'),u=h.headers[c],f=a(g.getData(d,u,"sorter")),h.empties[c]=g.getData(d,u,"empty")||h.emptyTo||(h.emptyToBottom?"bottom":"top"),h.strings[c]=g.getData(d,u,"string")||h.stringTo||"max",f||(f=s(e,n,n.length>1?0:-1,c)),h.debug&&(m+="column:"+c+"; parser:"+f.id+"; string:"+h.strings[c]+"; empty: "+h.empties[c]+"\n"),i.push(f);return h.debug&&o(m),i}}function c(e){var r,o,a,s,l,c,d,u,f,h=e.tBodies,p=e.config,g=p.parsers;for(p.cache={},p.debug&&(f=new Date),c=0;c<h.length;c++)if(p.cache[c]={row:[],normalized:[]},!t(h[c]).hasClass(p.cssInfoBlock)){for(t(h[c]).addClass("tablesorter-hidden"),r=h[c]&&h[c].rows.length||0,o=h[c].rows[0]&&h[c].rows[0].cells.length||0,s=0;s<r;++s)if(!t(h[c].rows[s]).hasClass("tablesorter-header"))if(u=[],(d=t(h[c].rows[s])).hasClass(p.cssChildRow))p.cache[c].row[p.cache[c].row.length-1]=p.cache[c].row[p.cache[c].row.length-1].add(d);else{for(p.cache[c].row.push(d),l=0;l<o;++l){var m;a=i(e,d[0].cells[l],l),u.push(null===(m=g[l])||void 0===m?void 0:m.format(a,e,d[0].cells[l],l))}u.push(p.cache[c].normalized.length),p.cache[c].normalized.push(u)}t(h[c]).removeClass("tablesorter-hidden")}p.debug&&n("Building cache for "+r+" rows",f)}function d(t){var e,o,n=r.length;for(e=0;e<n;e++)if((o=r[e])&&o.hasOwnProperty("id")&&o.id.toLowerCase()===t.toLowerCase())return o}function u(t,e){var o,i,a,s=t.config,l=s.widgets,c=l.length;for(s.debug&&(o=new Date),i=0;i<c;i++)(a=d(l[i]))&&(!0===e&&a.hasOwnProperty("init")?a.init(t,r,a):!e&&a.hasOwnProperty("format")&&a.format(t));s.debug&&n("Completed "+(!0===e?"initializing":"applying")+" widgets",o)}function f(e,r){var o,i,a,s,l,c,d,f,h,p,g,m=e.config,b=e.tBodies,y=[],v=m.cache;for(m.debug&&(g=new Date),f=0;f<b.length;f++)if(!t(b[f]).hasClass(m.cssInfoBlock)){for(t(b[f]).addClass("tablesorter-hidden"),l=document.createDocumentFragment(),o=v[f].row,s=(a=(i=v[f].normalized).length)?i[0].length-1:0,c=0;c<a;c++)if(p=i[c][s],y.push(o[p]),!m.appender||!m.removeRows)for(h=o[p].length,d=0;d<h;d++)l.appendChild(o[p][d]);e.tBodies[f].appendChild(l),t(b[f]).removeClass("tablesorter-hidden")}m.appender&&m.appender(e,y),m.debug&&n("Rebuilt table",g),r||u(e),t(e).trigger("sortEnd",e)}function h(t){return/^d/i.test(t)||1===t}function p(e){var r,i,a,s,l,c=function(e){var r,o,n,i,a,s,l,c,d,u,f,h,p=[],g={},m=t(e).find("tr:has(td,th):first");for(r=0;r<m.length;r++)for(s=m[r].cells,o=0;o<s.length;o++){for(c=(l=(a=s[o]).parentNode.rowIndex)+"-"+a.cellIndex,d=a.rowSpan||1,u=a.colSpan||1,void 0===p[l]&&(p[l]=[]),n=0;n<p[l].length+1;n++)if(void 0===p[l][n]){f=n;break}for(g[c]=f,t(a).attr({"data-column":f}),n=l;n<l+d;n++)for(void 0===p[n]&&(p[n]=[]),h=p[n],i=f;i<f+u;i++)h[i]="x"}return g}(e),d=e.config,u=t.tablesorterEditor;return d.headerList=[],d.debug&&(s=new Date),l=t(e).find(d.selectorHeaders).each((function(e){i=t(this),r=d.headers[e],d.onRenderHeader&&d.onRenderHeader.apply(i,[e]),this.column=c[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=h(u.getData(i,r,"sortInitialOrder")||d.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,"false"===u.getData(i,r,"sorter")&&(this.sortDisabled=!0),this.lockedOrder=!1,void 0!==(a=u.getData(i,r,"lockedOrder")||!1)&&!1!==a&&(this.order=this.lockedOrder=h(a)?[1,1,1]:[0,0,0]),this.sortDisabled||i.addClass(d.cssHeader),d.headerList[e]=this,i.parent().addClass(d.cssHeader)})),e.config.debug&&(n("Built headers:",s),o(l)),l}function g(e,r,o){var n,i,a,s,l=[],c=[e.config.cssDesc,e.config.cssAsc];for(r.removeClass(c.join(" ")).each((function(){this.sortDisabled||(l[this.column]=t(this))})),s=o.length,i=0;i<s;i++)if(2!==o[i][1]&&(l[o[i][0]]&&l[o[i][0]].addClass(c[o[i][1]]),n=r.filter('[data-column="'+o[i][0]+'"]'),s>1&&n.length))for(a=0;a<n.length;a++)n[a].sortDisabled||t(n[a]).addClass(c[o[i][1]])}function m(t,e){return t&&t[e]&&t[e].type||""}function b(t,e){var r,o,i,a,s,l,c,d,u,f,h,p,g,b=0,w=0,T=t.config,S=e.length,D=t.tBodies.length;T.debug&&(i=new Date);var L=function(){for(r="return function(sortNumeric, sortNumericDesc, sortText, sortTextDesc, table,  a, b) {",d=T.cache[l],u=d.normalized.length,a=0;a<S;a++){if(c=e[a][0],p=e[a][1],f=/n/i.test(m(T.parsers,c))?"Numeric":"Text",h="e"+a,/Numeric/.test(f+=0===p?"":"Desc")&&T.strings[c]){for(s=0;s<u;s++)o=Math.abs(parseFloat(d.normalized[s][c])),b=Math.max(b,isNaN(o)?0:o);w="boolean"==typeof T.string[T.strings[c]]?(0===p?1:-1)*(T.string[T.strings[c]]?-1:1):T.strings[c]&&T.string[T.strings[c]]||0}r+="var "+h+" = sort"+f+"(table,a["+c+"],b["+c+"],"+c+","+b+","+w+"); ",r+="if ("+h+") { return "+h+"; } ",r+="else { "}for(g=d.normalized&&d.normalized[0]?d.normalized[0].length-1:0,r+="return a["+g+"]-b["+g+"];",a=0;a<S;a++)r+="}; ";r+="return 0; ",r+="}; ";var n=Function(r)();d.normalized.sort((function(e,r){return n(C,x,y,v,t,e,r)}))};for(l=0;l<D;l++)L();T.debug&&n("Sorting on "+e.toString()+" and dir "+p+" time",i)}function y(e,r,o,n){if(r===o)return 0;var i,a,s,l,c,d,u,f,h=e.config,p=h.string[h.empties[n]||h.emptyTo],g=t.tablesorterEditor.regex;if(""===r&&0!==p)return"boolean"==typeof p?p?-1:1:-p||-1;if(""===o&&0!==p)return"boolean"==typeof p?p?1:-1:p||1;if("function"==typeof h.textSorter)return h.textSorter(r,o,e,n);if(i=r.replace(g[0],"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),s=o.replace(g[0],"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),a=parseInt(r.match(g[2]))||1!==i.length&&r.match(g[1])&&Date.parse(r),l=parseInt(o.match(g[2]))||a&&o.match(g[1])&&Date.parse(o)||null){if(a<l)return-1;if(a>l)return 1}for(f=Math.max(i.length,s.length),u=0;u<f;u++){if(c=!(i[u]||"").match(g[3])&&parseFloat(i[u])||i[u]||0,d=!(s[u]||"").match(g[3])&&parseFloat(s[u])||s[u]||0,isNaN(c)!==isNaN(d))return isNaN(c)?1:-1;if(typeof c!=typeof d&&(c+="",d+=""),c<d)return-1;if(c>d)return 1}return 0}function v(t,e,r,o){if(e===r)return 0;var n=t.config,i=n.string[n.empties[o]||n.emptyTo];return""===e&&0!==i?"boolean"==typeof i?i?-1:1:i||1:""===r&&0!==i?"boolean"==typeof i?i?1:-1:-i||-1:"function"==typeof n.textSorter?n.textSorter(r,e,t,o):y(t,r,e)}function w(t,e,r){if(e){var o,n=t.length,i=e+r;for(o=0;o<n;o++)i+=t.charCodeAt(o);return r*i}return 0}function C(t,e,r,o,n,i){if(e===r)return 0;var a=t.config,s=a.string[a.empties[o]||a.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:-s||-1:""===r&&0!==s?"boolean"==typeof s?s?1:-1:s||1:(isNaN(e)&&(e=w(e,n,i)),isNaN(r)&&(r=w(r,n,i)),e-r)}function x(t,e,r,o,n,i){if(e===r)return 0;var a=t.config,s=a.string[a.empties[o]||a.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:s||1:""===r&&0!==s?"boolean"==typeof s?s?1:-1:-s||-1:(isNaN(e)&&(e=w(e,n,i)),isNaN(r)&&(r=w(r,n,i)),r-e)}function T(t,e,r){var o=t[0];!1!==e?t.trigger("sorton",[o.config.sortList,function(){t.trigger("updateComplete"),"function"==typeof r&&r(o)}]):(t.trigger("updateComplete"),"function"==typeof r&&r(o))}this.defaults={widthFixed:!1,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",usNumberFormat:!0,delayInit:!1,headers:{},ignoreCase:!1,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:(t,e)=>t.localeCompare(e),widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,onRenderHeader:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerSortUp",cssChildRow:"expand-child",cssDesc:"tablesorter-headerSortDown",cssHeader:"tablesorter-header",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"tr:has(td,th):first td, tr:has(td,th):first th",selectorRemove:"tr.remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},this.benchmark=n,this.hasInitialized=!1,this.construct=function(e){return this.each((function(){if(0!==this.tBodies.length){var r,o,n,a,s,h,m,y,v,w,C=t.metadata;this.config={},(n=t.extend(!0,this.config,t.tablesorterEditor.defaults,e)).debug&&t.data(this,"startoveralltimer",new Date),o=t(this).addClass(n.tableClass),t.data(this,"tablesorter",n),n.supportsTextContent="x"===t("<span>x</span>")[0].textContent,n.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,null:0,top:!0,bottom:!1},r=p(this),n.parsers=l(this,r),n.delayInit||c(this),function(e){if(e.config.widthFixed){var r=t("<colgroup>");t("tr:first td",e.tBodies[0]).each((function(){r.append(t("<col>").css("width",t(this).width()))})),t(e).prepend(r)}}(this),r.bind("mousedown.tablesorter mouseup.tablesorter",(function(e,i){if(e.ctrlKey||e.metaKey){if("mousedown"===e.type)return w=(new Date).getTime(),!n.cancelSelection;if(!0!==i&&(new Date).getTime()-w>500)return!1;if(n.delayInit&&!n.cache&&c(o[0]),!this.sortDisabled){if(o.trigger("sortStart",o[0]),t(this),h=!e[n.sortMultiSortKey],this.count=(this.count+1)%(n.sortReset?3:2),n.sortRestart&&(a=this,r.each((function(){this===a||!h&&t(this).is("."+n.cssDesc+",."+n.cssAsc)||(this.count=-1)}))),a=this.column,h){if(n.sortList=[],null!==n.sortForce)for(m=n.sortForce,s=0;s<m.length;s++)m[s][0]!==a&&n.sortList.push(m[s]);if((v=this.order[this.count])<2&&(n.sortList.push([a,v]),this.colSpan>1))for(s=1;s<this.colSpan;s++)n.sortList.push([a+s,v])}else if(function(t,e){var r,o=e.length;for(r=0;r<o;r++)if(e[r][0]===t)return!0;return!1}(a,n.sortList))for(s=0;s<n.sortList.length;s++)y=n.sortList[s],v=n.headerList[y[0]],y[0]===a&&(y[1]=v.order[v.count],2===y[1]&&(n.sortList.splice(s,1),v.count=-1));else if((v=this.order[this.count])<2&&(n.sortList.push([a,v]),this.colSpan>1))for(s=1;s<this.colSpan;s++)n.sortList.push([a+s,v]);if(null!==n.sortAppend)for(m=n.sortAppend,s=0;s<m.length;s++)m[s][0]!==a&&n.sortList.push(m[s]);return o.trigger("sortBegin",o[0]),g(o[0],r,n.sortList),b(o[0],n.sortList),f(o[0]),!1}}})),n.cancelSelection&&r.each((function(){this.onselectstart=function(){return!1}})),o.bind("update",(function(e,i,a){t(n.selectorRemove,this).remove(),n.parsers=l(this,r),c(this),T(o,i,a)})).bind("updateCell",(function(e,r,a,s){var l,c=this,d=t(this).find("tbody"),u=d.index(t(r).closest("tbody"));l=[d.eq(u).find("tr").index(t(r).closest("tr")),r.cellIndex],c.config.cache[u].normalized[l[0]][l[1]]=n.parsers[l[1]].format(i(c,r,l[1]),c,r,l[1]),T(o,a,s)})).bind("addRows",(function(e,r,a,l){var c,d=r.filter("tr").length,u=[],f=r[0].cells.length,h=t(this).find("tbody").index(r.closest("tbody"));for(c=0;c<d;c++){for(s=0;s<f;s++)u[s]=n.parsers[s].format(i(this,r[c].cells[s],s),this,r[c].cells[s],s);u.push(n.cache[h].row.length),n.cache[h].row.push([r[c]]),n.cache[h].normalized.push(u),u=[]}T(o,a,l)})).bind("sorton",(function(e,o,i,a){t(this).trigger("sortStart",this);var s=n.headerList.length;n.sortList=[],t.each(o,(function(t,e){e[0]<s&&n.sortList.push(o[t])})),function(t,e){var r,o,n,i=t.config,a=e.length;for(r=0;r<a;r++)o=e[r],(n=i.headerList[o[0]])&&(n.count=o[1]%(i.sortReset?3:2))}(this,n.sortList),g(this,r,n.sortList),b(this,n.sortList),f(this,a),"function"==typeof i&&i(this)})).bind("appendCache",(function(t,e){f(this,e)})).bind("applyWidgetId",(function(t,e){d(e).format(this)})).bind("applyWidgets",(function(t,e){u(this,e)})).bind("destroy",(function(e,r){t.tablesorterEditor.destroy(this,r)})),o.data()&&void 0!==o.data().sortlist?n.sortList=o.data().sortlist:C&&o.metadata()&&o.metadata().sortlist&&(n.sortList=o.metadata().sortlist),u(this,!0),n.sortList.length>0?o.trigger("sorton",[n.sortList,{},!n.initWidgets]):n.initWidgets&&u(this),this.hasInitialized=!0,n.debug&&t.tablesorterEditor.benchmark("Overall initialization time",t.data(this,"startoveralltimer")),o.trigger("tablesorter-initialized",this),"function"==typeof n.initialized&&n.initialized(this)}}))},this.destroy=function(e,r){var o=t(e),n=e.config;o.find("thead:first .tablesorter-resizer").remove(),o.unbind("update updateCell addRows sorton appendCache applyWidgetId applyWidgets destroy mouseup mouseleave").find(n.selectorHeaders).unbind("click mousedown mousemove mouseup").removeClass(n.cssHeader+" "+n.cssAsc+" "+n.cssDesc),!1!==r&&o.removeClass(n.tableClass)},this.addParser=function(t){var r,o=e.length,n=!0;for(r=0;r<o;r++)e[r].id.toLowerCase()===t.id.toLowerCase()&&(n=!1);n&&e.push(t)},this.addWidget=function(t){r.push(t)},this.formatFloat=function(e,r){if("string"!=typeof e||""===e)return e;e=!1!==r.config.usNumberFormat?e.replace(/,/g,""):e.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(e)&&(e=e.replace(/^\s*\(/,"-").replace(/\)/,""));var o=parseFloat(e);return isNaN(o)?t.trim(e):o},this.isDigit=function(t){return/^[\-+(]?\d+[)]?$/.test(t.replace(/[,.'\s]/g,""))},this.regex=[/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i,/^0/],this.characterEquivalents={a:"",A:"",c:"",C:"",e:"",E:"",i:"",I:"",o:"",O:"",S:"",u:"",U:""},this.replaceAccents=function(t){var e,r="[",o=this.characterEquivalents;if(!this.characterRegex){for(e in this.characterRegexArray={},o)"string"==typeof e&&(r+=o[e],this.characterRegexArray[e]=new RegExp("["+o[e]+"]","g"));this.characterRegex=new RegExp(r+"]")}if(this.characterRegex.test(t))for(e in o)"string"==typeof e&&(t=t.replace(this.characterRegexArray[e],e));return t},this.getData=function(e,r,o){var n,i,a="",s=t(e);return s.length?(n=!!t.metadata&&s.metadata(),i=" "+(s.attr("class")||""),!s.data()||void 0===s.data(o)&&void 0===s.data(o.toLowerCase())?n&&void 0!==n[o]?a+=n[o]:r&&void 0!==r[o]?a+=r[o]:i&&i.match(" "+o+"-")&&(a=i.match(new RegExp(" "+o+"-(\\w+)"))[1]||""):a+=s.data(o)||s.data(o.toLowerCase()),t.trim(a)):""},this.clearTableBody=function(e){t(e.tBodies).filter(":not(."+e.config.cssInfoBlock+")").empty()}}})();var e,r,l,c,d=t.tablesorterEditor;t.fn.extend({tablesorterEditor:d.construct}),d.addParser({id:"text",is:function(t,e,r){return!0},format:function(e,r,o,n){var i=r.config;return e=t.trim(i.ignoreCase?e.toLocaleLowerCase():e),i.sortLocaleCompare?d.replaceAccents(e):e},type:"text"}),d.addParser({id:"currency",is:function(t){return/^\(?[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+/.test(t)},format:function(t,e){return d.formatFloat(t.replace(/[^\w,. \-()]/g,""),e)},type:"numeric"}),d.addParser({id:"ipAddress",is:function(t){return/^\d{2,3}[\.]\d{2,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(t)},format:function(t,e){var r,o,n=t.split("."),i="",a=n.length;for(r=0;r<a;r++)2===(o=n[r]).length?i+="0"+o:i+=o;return d.formatFloat(i,e)},type:"numeric"}),d.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\//.test(t)},format:function(e){return t.trim(e.replace(/(https?|ftp|file):\/\//,""))},type:"text"}),d.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},format:function(t,e){return d.formatFloat(""!==t&&new Date(t.replace(/-/g,"/")).getTime()||"",e)},type:"numeric"}),d.addParser({id:"percent",is:function(t){return/\d%\)?$/.test(t)},format:function(t,e){return d.formatFloat(t.replace(/%/g,""),e)},type:"numeric"}),d.addParser({id:"usLongDate",is:function(t){return t.match(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/)},format:function(t,e){return d.formatFloat(new Date(t).getTime()||"",e)},type:"numeric"}),d.addParser({id:"time",is:function(t){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(t)},format:function(t,e){return d.formatFloat(new Date("2000/01/01 "+t).getTime()||"",e)},type:"numeric"}),d.addParser({id:"digit",is:function(t){e=(0,o.default)(s.DEFAULT_DATE_FORMAT),r=(0,n.getLocale)(),l=(0,i.default)(localStorage.getItem("tf-decimalSeparator"))||".",c=TableUtils.getWorklog();var a=TableUtils.getAnyValueType(t,l,c,!0,e,r);return null!==a&&a<3},format:function(t){var o=TableUtils.getAnyValueType(t,l,c,!0,e,r);return(0,a.default)(o,t,l,c)},type:"numeric"}),d.addParser({id:"metadata",is:function(t){return!1},format:function(e,r,o){var n=r.config,i=n.parserMetadataName?n.parserMetadataName:"sortValue";return t(o).metadata()[i]},type:"numeric"}),d.addWidget({id:"zebra",format:function(e){var r,o,n,i,a,s,l,c=e.config,u=new RegExp(c.cssChildRow,"i"),f=t(e).children("tbody:not(."+c.cssInfoBlock+")"),h=["even","odd"];for(h=c.widgetZebra&&c.hasOwnProperty("css")?c.widgetZebra.css:c.widgetOptions&&c.widgetOptions.hasOwnProperty("zebra")?c.widgetOptions.zebra:h,c.debug&&(s=new Date),l=0;l<f.length;l++)(r=t(f[l])).children("tr").length>1&&(i=0,o=r.find("tr:visible"),r.addClass("tablesorter-hidden"),o.each((function(){n=t(this),u.test(this.className)||i++,a=i%2==0,n.removeClass(h[a?1:0]).addClass(h[a?0:1])})),r.removeClass("tablesorter-hidden"));c.debug&&d.benchmark("Applying Zebra widget",s)}})}(jQuery);var l=r(62896);!function(t){try{AJS.bind("init.rte",(function(){function e(e,r){Confluence.Editor.tableToolbar?Confluence.Editor.tableToolbar.Buttons.splice(Confluence.Editor.tableToolbar.Buttons.length-r,0,e):t(document).bind("createContextToolbarRow.Toolbar.tf",(function(){var o=t(tinymce.activeEditor.plugins.customtoolbar.getToolbarRow());if(o.length){t(document).unbind("createContextToolbarRow.Toolbar.tf");var n=o.children();n.eq(n.length-r-1).after(e.render())}}))}var r=function(){var e=t(tinymce.activeEditor.selection.getNode());return e.is("table")||(e=e.parents("table").eq(0)),tinymce.activeEditor.selection.select(e[0]),e},o=function(e){if(!t("#rte-toolbar-row-default").is(".disabled")){var o,n=r(),i='<table class="wysiwyg-macro" data-macro-name="'+e+'" data-macro-parameters="" data-macro-schema-version="1" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body">'+AJS.Rte.getEditor().serializer.serialize(n.clone()[0],{forced_root_block:!1})+"</td></tr></tbody></table>";(0,l.makeRequest)({type:"POST",contentType:"application/json; charset=utf-8",url:"/rest/tinymce/1/macro/definition",async:!1,data:t.toJSON({contentId:AJS.params.contentId||AJS.Meta.get("content-id")||AJS.params.pageId||AJS.Meta.get("page-id"),macroHtml:i}),dataType:"text",success:function(e){o=t.secureEvalJSON(e)}}),tinymce.confluence.macrobrowser.macroBrowserToolbarButtonClicked({presetMacroName:e,selectedMacro:o})}};e(new Confluence.Editor.Toolbar.Components.Group([new Confluence.Editor.Toolbar.Components.Button({text:"Filter table data",iconClass:"table-filter-insert",click:function(){o("table-filter")}}),new Confluence.Editor.Toolbar.Components.Button({text:"Create a pivot table",iconClass:"pivot-table-insert",click:function(){o("pivot-table")}}),new Confluence.Editor.Toolbar.Components.Button({text:"Create a chart from data series",iconClass:"table-chart-insert",click:function(){o("table-chart")}}),new Confluence.Editor.Toolbar.Components.Button({text:"Join, merge and query tables",iconClass:"table-joiner-insert",click:function(){o("table-joiner")}})]),2);var n=t("#wysiwygTextarea_ifr")[0].contentDocument;e(new Confluence.Editor.Toolbar.Components.Group([new Confluence.Editor.Toolbar.Components.Button({text:"Copy table",iconClass:"tf-copy-table",click:function(){if(!t("#rte-toolbar-row-default").is(".disabled")){tinymce.activeEditor.focus();var e=tinymce.activeEditor.selection.getRng(),o=r().addClass("tf-copy-table");n.execCommand("copy"),tinymce.activeEditor.selection.setRng(e),o.removeClass("tf-copy-table")}}})]),2),AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("unwrap-tf",(function(e,r){AJS.Rte.BookmarkManager.storeBookmark();var o=t(r);AJS.trigger("tf-unwrap",o.attr("id")),AJS.Rte.getEditor().selection.select(r),AJS.Rte.getEditor().execCommand("mceInsertContent",!1,o.find(".wysiwyg-macro-body").html()),AJS.Rte.BookmarkManager.restoreBookmark()}))}))}catch(t){console.error(t)}}(jQuery);var c,d,u=r(23589),f=r(15923),h=r(30116),p=r(42312);window.TableUtils=u.default,$.tablesorterEditor.addParser({id:"tfDateSorter",is:function(t,e,r,i){var a,l,f,g,{config:m={}}=e,{$table:b=$(e)}=m,y=(null!=i?i:$(r)).index();null!==(a=m.tfTableArray)&&void 0!==a||(m.tfTableArray=null===(l=u.default.getTablesAndRowsFromTables(b,u.default.textType).tables)||void 0===l?void 0:l[0]);var v=(0,h.getColumnValues)(m.tfTableArray,y);null!=d||(d=(0,o.default)(s.DEFAULT_DATE_FORMAT)),null!=c||(c=(0,n.getLocale)());var w=(0,p.detectDateFormat)(v,c,d);return!!w&&(null!==(f=m.tfDateFormats)&&void 0!==f||(m.tfDateFormats=[]),m.tfDateFormats[y]=w,null!==(g=e.config)&&void 0!==g||(e.config=m),!0)},format:function(t,e,r,o){try{var n=e.config.tfDateFormats[o];return(0,f.default)(t,n,c,!0).getTime()}catch(t){return 0}},type:"numeric"})}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var i=r[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.m=e,t=[],o.O=function(e,r,n,i){if(!r){var a=1/0;for(d=0;d<t.length;d++){r=t[d][0],n=t[d][1],i=t[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((function(t){return o.O[t](r[l])}))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[r,n,i]},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={3091:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var d=l(o)}for(e&&e(r);c<a.length;c++)i=a[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(d)},r=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var n=o.O(void 0,[7062,8810,7267,8303,7073,3844,6467,4267,1141,1314,6558,5344,2901,2209,4802,4584,2708,7809,4492,3614,8142,3049,3985,4034,4571,3406,8801,9859,9449,2835,8217,579,8220,9986,2896,4412,8631,6099,8984,5416,5372,9313,3152,2898,1731,6005,3509,3589,1121,3622,5082,5511,116],(function(){return o(10715)}));n=o.O(n)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:116cdd1915f927e9f2c75ed0ed70221b', location = 'build/9663.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9663],{4288:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var i=a(68631);function r(e){return e.map((e=>""===e?i.FAKE_EMPTY_SYMBOL:e)).join(",")}},9468:function(e,t,a){"use strict";a.r(t);a(2304);var i,r=a(43509),l=a(14412),n=a(37460);function o(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class s{constructor(e,t,a,i,s,c){o(this,"removePaginationAttribute",(()=>{this.removeRowsPaginationAttribute((0,r.spliceSelectors)($(this.rows,this.rowHeader))),$(this.table).removeAttr("pagination")})),o(this,"removeRowsPaginationAttribute",(e=>{var t=e.filter("[visibleForPagination]");t.removeAttr("visibleForPagination visibleForPaginationAnim"),t.children("td[visibleForPagination]").each(((e,t)=>{var a=$(t);a.removeAttr("visibleForPagination");var i=a.data("savedRowSpan");i&&a.attr("rowspan",i);var r=a.data("savedColSpan");r&&a.attr("colspan",r)}))})),o(this,"getParentTableElement",(e=>{var t=$(e).closest(".tablefilter-table-wrapper .table-wrap:not(.pm-table-wrapper)");if(t.length)return t[0];if(this.tablefilter.isCloud){var a=e.parentElement;return e.matches(".pm-table-container > .pm-table-wrapper > table ")?a.parentElement:a}return this.findParentTableElement(e)})),o(this,"findParentTableElement",(e=>{var t=$(e).parent();return t.length?t.hasClass("tablefilter-table-wrapper")?e:this.findParentTableElement(t[0]):null})),o(this,"getPaginationPages",(e=>{this.removeRowsPaginationAttribute($(this.rows));var t=[],a=0,i=0;t[a]=[];var r=this.rows.length,l=!1;this.tablefilter.filtered||(l=!0,this.tablefilter.params.showNRows>0&&(r=Math.min(r,parseInt(this.tablefilter.params.showNRows))));for(var o=0;o<r;o++){var s=this.rows[o];(l||(0,n.isRowVisible)(s))&&(i>=e&&(i=0,t[++a]=[]),t[a][i]=s,i++)}return t})),o(this,"addPaginationPanel",(e=>{var t=$(this.render());$(e).after(t),this.panel=t,this.paginationItems=t.find("li:not(.aui-nav-pages)"),this.itemPrev=$(this.paginationItems[0]),this.itemFirst=$(this.paginationItems[1]),this.itemTruncationLeft=$(this.paginationItems[2]),this.itemTruncationRight=$(this.paginationItems[this.paginationItems.length-3]),this.itemLast=$(this.paginationItems[this.paginationItems.length-2]),this.itemNext=$(this.paginationItems[this.paginationItems.length-1]),this.items=this.paginationItems.slice(3,this.paginationItems.length-3);var a=e=>(this.showPaginationsPage(e,this.pages),!1);return this.paginationItems.off("click").click((function(){return a($(this).data("index-page"))})),t})),o(this,"showPaginationsPage",((e,t)=>{e=e||0,e=Math.min(Math.max(e,0),this.pages.length-1);var a=$(t[this.indexCurrentPage]);this.removeRowsPaginationAttribute(a),this.indexCurrentPage=e;var i=$(t[e]);i.attr("visibleForPagination","true"),setTimeout((()=>i.attr("visibleForPaginationAnim","true")),0),this.showMergeCells(i),this.selectedPagination(),this.table.classList.contains("attachments")&&(this.$table.find(".attachment-summary").addClass("hidden"),this.rows.find(".icon-section-opened").removeClass("icon-section-opened").addClass("icon-section-closed"))})),o(this,"showMergeCells",(e=>{!function(e){e.children("td.fake").each(((e,t)=>{for(var a=$(t),i=a;i.data("parentCell");){var r=i.data("parentCell"),l=r.parentNode;if(l.getAttribute("visibleForPagination"))break;if("none"!==r.style.display&&(0,n.isRowVisible)(l)){a.attr("visibleForPagination","true");var o=a.attr("rowspan");if("-1"===o){var s=d(a);a.data("savedRowSpan",o),a.attr("rowspan",s)}var c=a.attr("colspan"),f=r.getAttribute("colspan");"-1"===c&&f>0&&(a.data("savedColSpan",c),a.attr("colspan",f));break}i=$(r)}}))}(e)})),o(this,"selectedPagination",(()=>{var e=0,t=this.pages.length-1;this.pages.length>9&&(e=this.indexCurrentPage-3,t=this.indexCurrentPage+3,e<0?(t+=-e,e=0):t>=this.pages.length&&(e-=t-(this.pages.length-1),t=this.pages.length-1)),0===e?this.itemTruncationLeft.addClass("hidePaginationBtn"):this.itemTruncationLeft.removeClass("hidePaginationBtn"),t===this.pages.length-1?this.itemTruncationRight.addClass("hidePaginationBtn"):this.itemTruncationRight.removeClass("hidePaginationBtn"),0===this.indexCurrentPage?(this.itemPrev.addClass("passivePaginationBtn"),this.itemFirst.addClass("aui-nav-selected")):(this.itemPrev.removeClass("passivePaginationBtn"),this.itemFirst.removeClass("aui-nav-selected")),this.indexCurrentPage===this.pages.length-1?(this.itemNext.addClass("passivePaginationBtn"),this.itemLast.addClass("aui-nav-selected")):(this.itemNext.removeClass("passivePaginationBtn"),this.itemLast.removeClass("aui-nav-selected")),this.items.addClass("hidePaginationBtn"),this.items.filter("li.aui-nav-selected").removeClass("aui-nav-selected"),$(this.items[this.indexCurrentPage-1]).addClass("aui-nav-selected"),this.items.slice(e,t-1).removeClass("hidePaginationBtn"),this.itemTruncationLeft.data("index-page",e),this.itemTruncationRight.data("index-page",t),this.itemPrev.data("index-page",this.indexCurrentPage-1),this.itemNext.data("index-page",this.indexCurrentPage+1)})),o(this,"render",(()=>{for(var e="",t=1;t<this.pages.length-1;t++){e+='<li data-index-page="'.concat(t,'"><a>').concat(t+1,"</a></li>")}return'\n     <div contenteditable = "false" class="tablefilter-pagination synchrony-exclude">\n       <ol class="aui-nav aui-nav-pagination" style = "display: inline-block; padding: 0;">\n         <li class="aui-nav-previous"><a>'.concat("Prev",'</a></li>\n         <li class="aui-nav-first" data-index-page="0"><a>1</a></li>\n         <li class="aui-nav-truncation"><a>&hellip;</a></li>\n         <li class="aui-nav-pages">\n           <ol class="aui-nav aui-nav-pagination" style="padding: 0;">').concat(e,'</ol>\n         </li>\n         <li class="aui-nav-truncation"><a>&hellip;</a></li>\n         <li class="aui-nav-last" data-index-page="').concat(this.pages.length-1,'"><a>').concat(this.pages.length,'</a></li>\n         <li class="aui-nav-next"><a>').concat("Next","</a></li>\n       </ol>\n     </div>")})),this.tablefilter=e,this.table=t,this.$table=$(t),this.rows=a.slice(1);var f=$(a[0]);this.rowHeader=f.hasClass(l.TF_HEADER_HIDDEN)?this.$table.find("tr.pivot-header"):f,this.indexCurrentPage=c,this.parentTableElement=this.getParentTableElement(t),this.parentTableElement&&(this.pages=this.getPaginationPages(s),this.pages.length>1?(this.addPaginationPanel(this.parentTableElement),this.showPaginationsPage(c,this.pages),this.$table.attr("pagination","true"),this.rowHeader.attr("visibleForPagination","true").attr("visibleForPaginationAnim","true")):this.removePaginationAttribute())}}function d(e){for(var t=1,a=e;a.data("childCell");){var i=(a=$(a.data("childCell"))).parent();i.length&&i.attr("visibleForPagination")&&t++}return t}function c(e){e.find(".tablefilter-pagination").remove(),e.find("table[pagination]").removeAttr("pagination").find("tr[visibleForPagination]").removeAttr("visibleForPagination visibleForPaginationAnim").children("[visibleForPagination]").removeAttr("visibleForPagination")}i=s,o(s,"create",((e,t)=>{if(e.params.rowsPerPage>0&&e.tables.length){var a=[];e.tableWrapper.find(".tablefilter-pagination").remove();var l=t?i.getIndexesCurrentPage(e):null;e.tables.each(((t,n)=>{var o=l?l[t]:0;a.push(new i(e,n,(0,r.spliceSelectors)(e.rows[t],e.totalRows[t]),e.tableWrapper,e.params.rowsPerPage,o))})),e.paginations=a}else c(e.tableWrapper),e.paginations=null})),o(s,"remove",c),o(s,"getIndexesCurrentPage",(e=>e.paginations?e.paginations.map((e=>e.indexCurrentPage)):null)),t.default=s},10611:function(e,t,a){"use strict";a.r(t);a(67228);var i=a(37968),r=a.n(i);t.default=r()},18314:function(e,t,a){"use strict";a.r(t),a.d(t,{IMAGE_CONFIG:function(){return i},VISUAL_FILTER_CONFIG:function(){return r}});const i={ALLOWED_TAGS:["img"],ALLOWED_URI_REGEXP:/^(?:(?:http|https|blob):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,FORBID_ATTR:["style"]},r={...i,ALLOWED_TAGS:[...i.ALLOWED_TAGS,"ul","li"]}},23890:function(e,t,a){"use strict";a.r(t);a(64707),a(63348),a(24034),a(4267),a(37567),a(62708),a(73406),a(63544),a(22901);var i=a(92898),r=a(68631),l=a(38414);function n(e){return e.replace(r.ALTERNATE_COMMA_REGEXP,",").replace(/\u200C/g,"").trim()}function o(e){return{split:function(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];return Array.isArray(r)?r:["true","false"].includes(String(r))?"true"===String(r):r?r.split(a):i}}}t.default=e=>{var t,a,s=new o(e),d=s.split("inverse",",",!1),c=s.split("cell-width",","),f=s.split("default",","),p=s.split("labels",r.ALTERNATE_COMMA,!1),u=s.split("ddSeparator",r.ALTERNATE_COMMA,""),h=s.split("ddOperator",",",[]),m=1!==u.length||e.ddSeparators?"":u[0],b={globalFilter:"Filter whole table",hideColumns:"Hide Columns"},g=(t=s.split("order",","),a=0,e=>(null==t?void 0:t.length)>0?Number(t[a++]):(null==e?void 0:e.orderWeight)||0),v=(e,t)=>(null==p?void 0:p.length)>e&&p[e]?p[e]:t,w=e=>f.length>e?f[e].replace(r.ALTERNATE_COMMA_REGEXP,",").trim():"",y=e=>{return Array.isArray(d)?"string"==typeof(t=d[e])?"true"===t.toLowerCase():Boolean(t):d;var t},T=s.split("hideFilters",",").map((e=>Number(e))),C=e=>T.includes(e),x=function(e,t,a){return a.filter((e=>"column"===e.source)).forEach((a=>{var i;Array.isArray(e)?(a.ddSeparator=null!==(i=e[0])&&void 0!==i?i:t,e.shift()):a.ddSeparator=e})),a}(u,m,function(e,t){return["column","iconfilter"].forEach((a=>{t.filter((e=>e.source===a)).forEach((t=>{t.ddOperator=e[0]||"OR",e.shift()}))})),t}(h,function(e,t){var a=0;return t.map((t=>{var i=l.default[t.sourceIndex];return i.fixedWidth?t.columnWidth=i.fixedWidth:a>=e.length?1===e.length?t.columnWidth=e[0]:t.columnWidth=i.fixedWidth:(t.columnWidth=e[a]||l.DEFAULT_WIDTH,a++),t}))}(c,l.default.reduce(((t,a,r)=>{var l=t.length;return(t=>{var{source:a}=t;return t.isBoolean?(0,i.default)(e[a])?[b[a]]:[]:s.split(a,",")})(a).map(n).map(((e,t)=>{var i=l+t,n=w(i),o=n?n.split("&&"):[],[s,d=""]=n.split("->"),c=g(a);return{type:a.type,sourceIndex:r,source:a.source,name:e,label:v(i,e),defaultValue:n,options:o,defaultFromValue:s,defaultToValue:d,inverse:y(i),order:c,hidden:C(c),hasSettings:a.hasSettings}})).map((t=>function(e,t,a){return(t.converters||[]).reduce(((t,a)=>a.call(null,e,t)),a)}(e,a,t))).forEach((e=>t.push(e))),t}),[]))));return{filterConfigs:x.slice().sort(((e,t)=>e.order-t.order))}}},36932:function(e,t,a){"use strict";a.r(t);var i,r,l;a(24034),a(2304),a(4267);class n{}i=n,l=e=>{var t,a=parseInt(e.showNRowsifNotFiltered),i=parseInt(e.ignoreFirstNrows),r=parseInt(e.rowsPerPage);a>=0||(e.showNRowsifNotFiltered="all"),i>0||(e.ignoreFirstNrows=""),r>0||(e.rowsPerPage=""),0==parseInt(e.showNRows)&&(e.showNRows="0+"),e.showNRows&&(-1!=e.showNRows.indexOf("*")?e.ignoreFirstNrows=e.showNRows.replace("*",""):-1!=e.showNRows.indexOf("+")?e.showNRowsifNotFiltered=e.showNRows.replace("+",""):e.showNRows>0&&(e.rowsPerPage=e.showNRows.replace("+","")),e.showNRows=""),null!==(t=e.sorts)&&void 0!==t||(e.sorts=e.sort||[])},(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r="adaptOldParamsTF"))in i?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.default=n},37968:function(e){if(void 0===(t=window.TableFilterTemplate=window.TableFilterTemplate||{}))var t={};t.totalRow=function(e,t){for(var a='<tr class="total-row synchrony-exclude">',i=e.length,r=0;r<i;r++)a+=1==e.numbering&&0==r?'<td class="confluenceTd totalCell" '+(e.isFireFox?"":'contenteditable="false"')+"></td>":'<th class="confluenceTh totalCell '+(e.totals[r]?"number":"")+" "+soy.$$escapeHtml(e.classes[r])+'" '+(e.isFireFox?"":'contenteditable="false"')+">"+(e.totals[r]?e.totals[r].total?soy.$$escapeHtml(e.totals[r].total):"0":r-e.numbering==0?e.title?soy.$$escapeHtml(e.title):soy.$$escapeHtml("Total\u200b"):"")+"</th>";return a+="</tr>"},{}.DEBUG&&(t.totalRow.soyTemplateName="TableFilterTemplate.totalRow"),t.totalCol=function(e,t){return'<th class="total-col synchrony-exclude confluenceTh '+(e.rowNumber>0?"number":"")+'" contenteditable="false"><p></p></th>'},{}.DEBUG&&(t.totalCol.soyTemplateName="TableFilterTemplate.totalCol"),t.labelChanger=function(e,t){return'<input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.value)+'" style="width: '+soy.$$escapeHtml(e.width)+';" title="'+soy.$$escapeHtml("Press the Enter button to change the filter label")+'">'},{}.DEBUG&&(t.labelChanger.soyTemplateName="TableFilterTemplate.labelChanger"),t.editorCloseButton=function(e,t){return'<div class="aui-buttons close"><button type="button" class="aui-button" data-tooltip="'+soy.$$escapeHtml("Close")+'" original-title=""><span class="icon icon-close aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+"</span></button></div>"},{}.DEBUG&&(t.editorCloseButton.soyTemplateName="TableFilterTemplate.editorCloseButton"),t.addFilterDialog=function(e,t){var a='<form class="aui top-label tf-add-filter-dialog__container">';if(e.filters.length>0||e.globalfilter||e.columnhider){for(var i=e.filters,r=i.length,l=0;l<r;l++){var n=i[l];a+='<div class="'+soy.$$escapeHtml(n.type)+' tf-add-filter-column field-group"><label for="'+soy.$$escapeHtml(n.type)+'">'+soy.$$escapeHtml("Filter Column")+'</label><select class="select filter-column '+soy.$$escapeHtml(n.type)+'" name="'+soy.$$escapeHtml(n.type)+'" id="tf-add-filter-dialog__'+soy.$$escapeHtml(n.type)+'">';for(var o=n.columns,s=o.length,d=0;d<s;d++){var c=o[d];a+='<option value="'+soy.$$escapeHtml(c)+'">'+soy.$$escapeHtml(c)+"</option>"}a+="</select></div>"}a+='<div class="field-group"><label for="filter-type">'+soy.$$escapeHtml("Filter Type")+'</label><select class="select filter-type" name="filter-type" id="tf-add-filter-dialog__filter-type">';for(var f=e.filters,p=f.length,u=0;u<p;u++){var h=f[u];a+='<option value="'+soy.$$escapeHtml(h.type)+'" title="'+soy.$$escapeHtml(h.desc)+'">'+soy.$$escapeHtml(h.name)+"</option>"}a+=(e.globalfilter?'<option value="globalfilter" title="'+soy.$$escapeHtml("Enter custom text query or regular expression to filter data in the whole table")+'">'+soy.$$escapeHtml("Filter whole table")+"</option>":"")+(e.columnhider?'<option value="columnhider" title="'+soy.$$escapeHtml("Select table columns to hide")+'">'+soy.$$escapeHtml("Hide Columns")+"</option>":"")+'</select></div><div class="date-format-param field-group" style="display: none"><label for="date-format-input">'+soy.$$escapeHtml("Date format")+'</label><input class="date-format-input text" type="text" value="'+soy.$$escapeHtml(e.dateFormat)+'"></div><div class="buttons-container"><div class="buttons"><button class="aui-button tf-button-save" resolved="">'+soy.$$escapeHtml("Add filter")+'</button><button class="aui-button aui-button-link tf-button-cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></div>"}else a+='<div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("Filters are not available")+'</p></div><div class="buttons-container"><div class="buttons"><button class="aui-button aui-button-link tf-button-cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></div>";return a+="</form>"},{}.DEBUG&&(t.addFilterDialog.soyTemplateName="TableFilterTemplate.addFilterDialog"),t.changeSettingsDialog=function(e,t){return'<form class="aui top-label inline-dialog-form prevent-default-form" style="padding: 10px"><div class="change-settings-dialog-parameter"><label for="tf-cs-dialog-datepattern">'+soy.$$escapeHtml("Date format")+'</label><input type="text" class="text" id="tf-cs-dialog-datepattern" value="'+soy.$$escapeHtml(e.datepattern)+'"></div><div class="buttons-container"><div class="buttons"><input class="aui-button" type="button" value="'+soy.$$escapeHtml("Update")+'" id="tf-cs-save"/><a class="cancel" id="tf-cs-cancel">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"},{}.DEBUG&&(t.changeSettingsDialog.soyTemplateName="TableFilterTemplate.changeSettingsDialog"),t.panel=function(e,a){return'<div class="tablefilter-outer-wrapper'+(e.isCloud?" tf-cloud-macro":"")+" "+(e.hideLabels?"hide-labels":"")+" "+("true"==e.hidePane?"hide-pane":"")+(e.hideControls?" hide-controls":"")+'" id="table-filter-'+soy.$$escapeHtml(e.macroId)+'" data-id="'+soy.$$escapeHtml(e.macroId)+'" data-pageid="'+soy.$$escapeHtml(e.pageId)+'" data-sessionid="'+soy.$$escapeHtml(e.sessionId)+'">'+(e.isEmail?"":(e.isCloud?'<div id="tf-preview-tutorial" class="preview-tutorial"><h2>'+soy.$$escapeHtml("Welcome to Table Filter!")+"</h2><h3>"+soy.$$escapeHtml("To start filtering:")+'</h3><ol type="1"><li>'+soy.$$filterNoAutoescape("Click \u003cdiv class=\u0022tutorial-img img-insert-btn\u0022\u003e\u003c/div\u003e to add the macro to the page")+"</li><li>"+soy.$$escapeHtml("Place one or multiple tables (including macros outputting tables) within the macro body")+"</li><li>"+soy.$$escapeHtml("Edit the macro in the page view or edit mode")+'</li></ol><div class="tf-tutorial-img tutorial-img"></div></div>':"")+("Table header"!=e.hidePane||e.isEditor?'<div id="comboBoxDiv-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'" class="tableFilterCbStyle conf-macro-render"><div class="lockDisabled not-empty"><form class="aui tf-form aui-legacy-forms prevent-default-form" name="inlinecommentform"><div class="filter-container filter-icon filter-logo default '+(e.fd?"tf-fd":"")+'" title="'+soy.$$escapeHtml(AJS.format("Nothing filtered. Showing {0} rows",0))+'"></div><div class="filter-buttons-container"><div class="tf-menu-buttons aui-toolbar2" role="toolbar"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-primary"><div class="tf-btn-container"><div id="tf-settings-row-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'" class="tf-btn-row"><div class="tf-settings-wrapper"><div id=\'filter-settings-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'\' class="filter-settings aui-button aui-button-subtle aui-dropdown2-trigger" aria-owns="filter-menu-view-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.pageId)+"-"+soy.$$escapeHtml(e.sessionId)+'" aria-haspopup="true" data-container="" resolved="" aria-expanded="false"><span class="aui-icon aui-icon-small aui-iconfont-configure"></span><span class="tfac-unsaved">*</span></div>'+t.menu({macroId:e.macroId,pageId:e.pageId,sessionId:e.sessionId,editable:e.editable,disableSave:e.disableSave,isCloud:e.isCloud,inHeader:!1,isMacroViewContext:e.isMacroViewContext,courseBtn:e.courseBtn})+'</div></div></div></div></div></div></div><div class="sortable-container"></div><div class="filter-container show-n-rows-only-message"><label>'+soy.$$escapeHtml(AJS.format("Showing the first {0} rows",e.showNRowsifNotFiltered))+'</label></div><div class="filter-container empty-message"><label>'+soy.$$filterNoAutoescape("Start \u003ca class=\u0022tf-add-start\u0022\u003eadding filters\u003c/a\u003e in the filter tools menu.")+'</label></div></form></div><div class="lockEnabled"><div class="filter-container filter-icon filter-logo default" title="'+soy.$$escapeHtml(AJS.format("Nothing filtered. Showing {0} rows",0))+'"></div><div class="lockPosition"><div class="filter-container"><label class="hideble">'+soy.$$escapeHtml("The filter is disabled at the moment.")+'</label></div><div class="tf-menu-buttons aui-toolbar2" role="toolbar"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-primary"><div class="tf-btn-container"><div class="tf-btn-row settings-row"><div class="tf-settings-wrapper"><div class="filter-settings aui-button aui-button-subtle aui-dropdown2-trigger" aria-owns="filter-menu-view-lock-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.pageId)+"-"+soy.$$escapeHtml(e.sessionId)+'"><span class="aui-icon aui-icon-small aui-iconfont-configure"></span></div><div id="filter-menu-view-lock-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.pageId)+"-"+soy.$$escapeHtml(e.sessionId)+'" class="aui-style-default aui-dropdown2 tfac-menu" style="display: none; z-index: 3001;"><div class="aui-dropdown2-section"><ul class="aui-list-truncate first"><li><a class="enableLock cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-successful-build"></span>'+soy.$$escapeHtml("Enable all filters")+'</a></li></ul></div><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a class="export-file-pdf cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-pdf"></span>'+soy.$$escapeHtml("Export to PDF")+'</a></li><li><a class="export-file-csv cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-table"></span>'+soy.$$escapeHtml("Export to CSV")+'</a></li><li><a class="export-file-doc cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-document"></span>'+soy.$$escapeHtml("Export to Word")+'</a></li><li><a class="export-file-print cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-activity"></span>'+soy.$$escapeHtml("Print")+"</a></li></ul></div>"+MacroHelpers.helpfullLinks({courseBtn:e.courseBtn,isCloud:e.isCloud,docLink:"https://docs.stiltsoft.com/tfac/dc-server/how-to-use-table-filter-macro-42239756.html"})+"</div></div></div></div></div></div></div></div></div>"+t.noTableMessage(null)+'<div class="filter-container waiting-for-table"><div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("The table is being loaded. Please wait for a bit ...")+'<span class="aui-icon aui-icon-wait" style="margin-left: 5px"></span></p></div></div><div class="tf-hider-wrapper" title="'+soy.$$escapeHtml("Hide filtration pane")+'"><div class="tf-hider"><span class="tf-hide-show-icon"></span></div></div></div><div id="tf-shower-'+soy.$$escapeHtml(e.macroId)+'" class="tf-shower-wrapper" title="'+soy.$$escapeHtml("Show filtration pane")+'"><div class="tf-shower"><span class="tf-hide-show-icon"></span></div></div>':'<div class="tf-floating-btn-container conf-macro-render"><div id=\'filter-settings-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+"' class=\"aui-button aui-button-compact aui-button-subtle filter-container filter-icon filter-logo default floating aui-dropdown2-trigger "+(e.fd?"tf-fd":"")+'" title="'+soy.$$escapeHtml(AJS.format("Nothing filtered. Showing {0} rows",0))+'" aria-owns="filter-menu-view-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.pageId)+"-"+soy.$$escapeHtml(e.sessionId)+'" aria-haspopup="true" aria-expanded="false"><span class="aui-icon aui-icon-small"></span><span class="tfac-unsaved">*</span><span class="filter-count"></span></div></div>'+t.menu({macroId:e.macroId,pageId:e.pageId,sessionId:e.sessionId,editable:e.editable,disableSave:e.disableSave,isCloud:e.isCloud,inHeader:!0,isMacroViewContext:e.isMacroViewContext,courseBtn:e.courseBtn})+'<aui-inline-dialog id="comboBoxDiv-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'" alignment="right middle" class="tf-inline-filters wiki-content conf-macro-render"><div class="tableFilterCbStyle"><form class="aui tf-form aui-legacy-forms prevent-default-form" name="inlinecommentform"><div class="sortable-container"></div></form></div></aui-inline-dialog><span data-aui-trigger aria-controls="comboBoxDiv-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'" class="tf-inline-filter trigger '+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'" title="'+soy.$$escapeHtml("Filter column")+'"></span><span class="tf-inline-filter btn '+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'" title="'+soy.$$escapeHtml("Filter column")+'"></span>'+t.noTableMessage(null)))+(e.isEditor?"":'<div id="tf-table-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.sessionId)+'" class="tablefilter-table-wrapper tf-source '+(e.isCloud?"tf-cloud-table":"")+" "+("Table header"==e.hidePane?"table-header-filter":"")+'">'+soy.$$filterNoAutoescape(e.body)+"</div>")+"</div>"},{}.DEBUG&&(t.panel.soyTemplateName="TableFilterTemplate.panel"),t.filterApplicator=function(e,t){return'<label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.label)+'</span><span class="eq" title="'+soy.$$escapeHtml("Click to reverse the filter")+'">&nbsp;=</span><span class="not-eq" title="'+soy.$$escapeHtml("Click to reverse the filter")+'">&nbsp;&ne;</span></label>'},{}.DEBUG&&(t.filterApplicator.soyTemplateName="TableFilterTemplate.filterApplicator"),t.filterSelectOptions=function(e,t){for(var a="",i=e.options,r=i.length,l=0;l<r;l++){var n=i[l];a+='<option selected="selected" '+("-Empty-"==n?' class="tf-empty-option"':"")+">"+("-Empty-"==n?soy.$$escapeHtml("-Empty-"):soy.$$escapeHtml(n))+"</option>"}return a},{}.DEBUG&&(t.filterSelectOptions.soyTemplateName="TableFilterTemplate.filterSelectOptions"),t.renderFilter=function(e,a){var i="",r="filter-container sortable "+(e.filterConfig.inverse?"inverse":"")+" "+(e.filterConfig.hidden?"filter-locked":"");return i+=("selectfilter"==e.filterConfig.type?'<div class="selectfilter-element '+soy.$$escapeHtml(r)+'">'+t.filterApplicator({label:e.filterConfig.label})+'<select class="select '+(e.filterConfig.inverse?"inverse":"")+'" name="'+soy.$$escapeHtml(e.filterConfig.name)+'" style="width: '+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px;" multiple data-width="'+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px">'+t.filterSelectOptions({options:e.filterConfig.options})+"</select>"+t.crossIcon(null)+"</div>":"")+("userfilter"==e.filterConfig.type?'<div class="userfilter-element input '+soy.$$escapeHtml(r)+'">'+(e.filterConfig.hidden?'<div class="filter-locked"></div>':"")+t.filterApplicator({label:e.filterConfig.label})+'<div class="tf-resizeable" style="width: '+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px;"><input class="user-filter text '+(e.filterConfig.inverse?"inverse":"")+'" type="text" name="'+soy.$$escapeHtml(e.filterConfig.name)+'" style="width: 100%; max-width: none;" value="'+soy.$$escapeHtml(e.filterConfig.defaultValue)+'" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="'+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px"/></div>'+t.crossIcon(null)+"</div>":"")+("numberfilter"==e.filterConfig.type?'<div class="numberfilter-element '+soy.$$escapeHtml(r)+'">'+t.filterApplicator({label:e.filterConfig.label})+'<div class="range numbers" name="'+soy.$$escapeHtml(e.filterConfig.name)+'">'+soy.$$escapeHtml("from")+'<input class="number from text '+(e.filterConfig.inverse?"inverse":"")+'" type="text" name="'+soy.$$escapeHtml(e.filterConfig.name)+'" style="width: 90px;" value="'+soy.$$escapeHtml(e.filterConfig.defaultFromValue)+'" placeholder="'+soy.$$escapeHtml("Type value")+'"/>'+soy.$$escapeHtml("to")+'<input class="number to text '+(e.filterConfig.inverse?"inverse":"")+'" type="text" name="'+soy.$$escapeHtml(e.filterConfig.name)+'" style="width: 90px;" value="'+soy.$$escapeHtml(e.filterConfig.defaultToValue)+'" placeholder="'+soy.$$escapeHtml("Type value")+'"/></div>'+t.crossIcon(null)+"</div>":"")+("datefilter"==e.filterConfig.type?'<div class="datefilter-element '+soy.$$escapeHtml(r)+'">'+t.filterApplicator({label:e.filterConfig.label})+'<div class="range dates" name="'+soy.$$escapeHtml(e.filterConfig.name)+'">'+soy.$$escapeHtml("from")+'<input class="date from text '+(e.filterConfig.inverse?"inverse":"")+'" type="text" autocomplete="off" name="'+soy.$$escapeHtml(e.filterConfig.name)+'" style="width: 93px;" value="'+soy.$$escapeHtml(e.filterConfig.defaultFromValue)+'" placeholder="'+soy.$$escapeHtml("Pick date")+'"/>'+soy.$$escapeHtml("to")+'<input class="date to text '+(e.filterConfig.inverse?"inverse":"")+'" type="text" autocomplete="off" name="'+soy.$$escapeHtml(e.filterConfig.name)+'" style="width: 93px;" value="'+soy.$$escapeHtml(e.filterConfig.defaultToValue)+'" placeholder="'+soy.$$escapeHtml("Pick date")+'"/></div>'+t.crossIcon(null)+"</div>":"")+("iconfilter"==e.filterConfig.type?'<div class="iconfilter-element '+soy.$$escapeHtml(r)+'">'+t.filterApplicator({label:e.filterConfig.label})+'<select class="icon-select '+(e.filterConfig.inverse?"inverse":"")+'" name="'+soy.$$escapeHtml(e.filterConfig.name)+'" style="width: '+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px;" multiple data-width="'+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px" data-html="true">'+t.filterSelectOptions({options:e.filterConfig.options})+"</select>"+t.crossIcon(null)+"</div>":"")+("globalfilter"==e.filterConfig.type?'<div class="globalfilter-element input '+soy.$$escapeHtml(r)+'">'+t.filterApplicator({label:e.filterConfig.label})+'<div class="tf-resizeable" style="width: '+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px;"><input class="global-filter text '+(e.filterConfig.inverse?"inverse":"")+'" type="text" style="width: 100%; max-width: none;" value="'+soy.$$escapeHtml(e.filterConfig.defaultValue)+'" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="'+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px"/></div>'+t.crossIcon(null)+"</div>":"")+("columnhider"==e.filterConfig.type?'<div class="columnhider-element '+soy.$$escapeHtml(r)+'">'+t.filterApplicator({label:e.filterConfig.label})+'<select class="column-select '+(e.filterConfig.inverse?"inverse":"")+'" style="width: '+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px;" multiple data-width="'+soy.$$escapeHtml(e.filterConfig.columnWidth)+'px">'+t.filterSelectOptions({options:e.filterConfig.options})+"</select>"+t.crossIcon(null)+"</div>":"")},{}.DEBUG&&(t.renderFilter.soyTemplateName="TableFilterTemplate.renderFilter"),t.renderFilters=function(e,a){for(var i="",r=e.filterConfigs,l=r.length,n=0;n<l;n++){var o=r[n];i+=t.renderFilter({filterConfig:o})}return i},{}.DEBUG&&(t.renderFilters.soyTemplateName="TableFilterTemplate.renderFilters"),t.renderCopyUrlSubmenu=function(e,t){return'<div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a class="get-tf-url cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-copy"></span>'+soy.$$escapeHtml("Copy the filter URL")+"</a></li></ul></div>"},{}.DEBUG&&(t.renderCopyUrlSubmenu.soyTemplateName="TableFilterTemplate.renderCopyUrlSubmenu"),t.menu=function(e,a){return'<div id="filter-menu-view-'+soy.$$escapeHtml(e.macroId)+"-"+soy.$$escapeHtml(e.pageId)+"-"+soy.$$escapeHtml(e.sessionId)+'" class="aui-style-default aui-dropdown2 tfac-menu conf-macro-render" style="display: none; z-index: 3001;"><div class="aui-dropdown2-section"><ul class="aui-list-truncate first">'+(e.editable&&!e.disableSave?'<li><a class="filter-save cursor-pointer tf-disabled-link"><span class="aui-icon aui-icon-small aui-iconfont-check"></span>'+soy.$$escapeHtml("Save changes")+'<span class="tfac-unsaved">*</span></a></li>':"")+(e.inHeader?'<li><a class="show-filter cursor-pointer" data-filter-type="globalfilter"><span class="aui-icon aui-icon-small aui-iconfont-search"></span>'+soy.$$escapeHtml("Filter whole table")+'</a></li><li><a class="show-filter cursor-pointer" data-filter-type="columnhider"><span class="aui-icon aui-icon-small aui-iconfont-remove-column"></span>'+soy.$$escapeHtml("Hide columns")+"</a></li>":'<li><a class="filter-add cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-add"></span>'+soy.$$escapeHtml("Add filter")+"</a></li>")+'<li><a class="filter-reset cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-cross"></span>'+soy.$$escapeHtml("Reset all filters")+"</a></li>"+(e.inHeader?"":'<li><a class="disableLock cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-plan-disabled"></span>'+soy.$$escapeHtml("Disable all filters")+'</a></li><li><a class="filter-sort-reset cursor-pointer tf-disabled-link"><span class="aui-icon aui-icon-small aui-iconfont-refresh"></span>'+soy.$$escapeHtml("Reset column sorting")+'</a></li><li><a class="tf-change-settings cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-more"></span>'+soy.$$escapeHtml("Modify Settings")+"</a></li>")+(e.editable?'<li><a class="tf-remove" '+(e.isMacroViewContext?"":'style="display: none;"')+'><span class="aui-icon aui-icon-small aui-iconfont-trash"></span>'+soy.$$escapeHtml("Remove the macro")+"</a></li>":"")+"</ul></div>"+(e.isMacroViewContext?t.renderCopyUrlSubmenu(null):"")+'<div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a class="export-file-pdf cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-pdf"></span>'+soy.$$escapeHtml("Export to PDF")+'</a></li><li><a class="export-file-csv cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-table"></span>'+soy.$$escapeHtml("Export to CSV")+'</a></li><li><a class="export-file-doc cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-document"></span>'+soy.$$escapeHtml("Export to Word")+'</a></li><li><a class="export-file-print cursor-pointer"><span class="aui-icon aui-icon-small aui-iconfont-activity"></span>'+soy.$$escapeHtml("Print")+"</a></li></ul></div>"+MacroHelpers.helpfullLinks({courseBtn:e.courseBtn,isCloud:e.isCloud,docLink:"https://docs.stiltsoft.com/tfac/dc-server/how-to-use-table-filter-macro-42239756.html"})+"</div>"},{}.DEBUG&&(t.menu.soyTemplateName="TableFilterTemplate.menu"),t.fail=function(e,t){return'<div class="tablefilter-outer-wrapper error"><div class="tableFilterCbStyle"><div class="filter-container"><div class="aui-message warning aui-message-warning"><p>'+("no_table"==e.failureCause?soy.$$escapeHtml("Oops, it seems that you need to place a table or a macro generating a table within the Table Filter macro."):"license"==e.failureCause?soy.$$filterNoAutoescape(AJS.format("Table Filter Plugin license is not active, please \u003ca href=\u0022{0}/plugins/servlet/upm#manage/com.stiltsoft.confluence.plugin.tablefilter.tablefilter\u0022\u003egenerate a trial license or purchase\u003c/a\u003e the product.",e.contextPath)):"bad_request"==e.failureCause?soy.$$escapeHtml("Oops! We are sorry but the Table Filter macro cannot be previewed on Confluence page."):"no_params"==e.failureCause?soy.$$escapeHtml("Oops! It seems that the macro body is not reachable as the macro ID parameter is missing."):soy.$$escapeHtml("Oops! We are sorry but the current complex table cannot be filtered."))+'</p></div></div></div><div class="tablefilter-table-wrapper">'+soy.$$filterNoAutoescape(e.body)+"</div></div>"},{}.DEBUG&&(t.fail.soyTemplateName="TableFilterTemplate.fail"),t.crossIcon=function(e,t){return'<span class="aui-icon aui-icon-small aui-iconfont-cross" title="'+soy.$$escapeHtml("Clear filter")+'"></span>'},{}.DEBUG&&(t.crossIcon.soyTemplateName="TableFilterTemplate.crossIcon"),t.noTableMessage=function(e,t){return'<div class="filter-container no-table-message conf-macro-render"><div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("Oops, it seems that you need to place a table or a macro generating a table within the Table Filter macro.")+"</p></div></div>"},{}.DEBUG&&(t.noTableMessage.soyTemplateName="TableFilterTemplate.noTableMessage"),e.exports=t},38414:function(e,t,a){"use strict";a.r(t),a.d(t,{DEFAULT_WIDTH:function(){return l},createDefaultFilterConfig:function(){return d}});var i=a(48957),r=a(79463);const l="150";function n(e,t){return t?(0,r.default)(t)?String(t):$.datepicker.formatDate(e,new Date(+t)):""}const o={};o[i.default.SELECT]={inverse:!1,type:i.default.SELECT,columnWidth:l,options:[],hasSettings:!0,ddSeparator:"",ddOperator:"OR"},o[i.default.USER]={inverse:!1,type:i.default.USER,columnWidth:l,defaultValue:""},o[i.default.NUMBER]={inverse:!1,type:i.default.NUMBER,columnWidth:"93",defaultFromValue:"",defaultToValue:""},o[i.default.DATE]={inverse:!1,type:i.default.DATE,columnWidth:"93",defaultFromValue:"",defaultToValue:"",defaultStrFromValue:"",defaultStrToValue:""},o[i.default.ICON]={inverse:!1,type:i.default.ICON,columnWidth:"90",options:[],hasSettings:!0},o[i.default.GLOBAL]={inverse:!1,type:i.default.GLOBAL,columnWidth:l,defaultValue:""},o[i.default.HIDER]={inverse:!1,type:i.default.HIDER,columnWidth:l,options:[]};const s=[{source:"column",type:i.default.SELECT,hasSettings:!0},{source:"userfilter",type:i.default.USER},{source:"numberfilter",type:i.default.NUMBER,fixedWidth:l},{source:"datefilter",type:i.default.DATE,fixedWidth:l,converters:[(e,t)=>{const{datepattern:a}=e;return t.dateFormat=a,t.defaultStrFromValue=n(a,t.defaultFromValue),t.defaultStrToValue=n(a,t.defaultToValue),t}]},{source:"globalFilter",type:i.default.GLOBAL,isBoolean:!0,orderWeight:100},{source:"hideColumns",type:i.default.HIDER,isBoolean:!0,orderWeight:200},{source:"iconfilter",type:i.default.ICON,hasSettings:!0}];function d(e,t,a){const i=o[e];return Object.assign({type:e,label:t,name:t,isVisible:!0},i,{columnWidth:a||i.columnWidth})}t.default=s},41896:function(e,t,a){"use strict";a.r(t),a.d(t,{getAvailableFilters:function(){return l}});var i=a(48957),r=a(68631);const l=(e,t)=>{const a=[{type:i.default.SELECT,name:"Dropdown Filter",desc:"Select from the list of column unique values",columns:[],existing:e.selectfilters},{type:i.default.USER,name:"Free Text Filter",desc:"Enter custom text query or regular expression to filter data in the selected column",columns:[],existing:e.userfilters},{type:i.default.NUMBER,name:"Number Filter",desc:"Specify the number range to filter data in the selected column",columns:[],existing:e.numberfilters},{type:i.default.DATE,name:"Date Filter",desc:"Select the time period to filter dates in the selected column",columns:[],existing:e.datefilters},{type:i.default.ICON,name:"Visual Filter",desc:"Select icons, emoticons, images or state of checkboxes from the list of unique column values",columns:[],existing:e.iconfilters}],l=[];return $.each(a,(function(e,a){$.each(t,(function(e,t){-1==$.inArray(t.replace(/\,/g,r.ALTERNATE_COMMA),a.existing)&&a.columns.push(t)})),a.columns.length&&l.push(a)})),l}},48957:function(e,t,a){"use strict";a.r(t);const i=Object.freeze({SELECT:"selectfilter",USER:"userfilter",NUMBER:"numberfilter",DATE:"datefilter",GLOBAL:"globalfilter",HIDER:"columnhider",ICON:"iconfilter"});t.default=i},50773:function(e,t,a){"use strict";a.r(t),a.d(t,{createFilterDialog:function(){return H},createTotalRowDialog:function(){return k},createWorklogDialog:function(){return N},getSelectedDropdownOptions:function(){return O},getUpdatedDropdownOptions:function(){return L},initDatePicker:function(){return R},initWorklogInputs:function(){return P}});a(64707),a(63348),a(10326),a(24034),a(4267),a(37567),a(62708),a(39972),a(73406),a(5809),a(71035),a(94853),a(4003),a(30204),a(17709),a(92391),a(33256),a(40327),a(46),a(86266),a(28530),a(83452),a(52826),a(65183),a(64555),a(63544),a(22901);var i=a(37968),r=a.n(i),l=a(18984),n=a(23589),o=a(99629),s=a(3809),d=a.n(s),c=a(68631),f=a(48957),p=a(75201),u=a(41896),h=a(19503),m=a(73511),b=a(14412),g=a(40709),v=a(25414),w=a(18314);const y=e=>v.default.sanitize(e.outerHTML,w.IMAGE_CONFIG);var T=a(40929),C=a(34388),x=a(32524),E=a(12508),S=a(40616),F=a(71270),I=a(47057),A='<ul class="inline-task-list"><li></li></ul>',D='<ul class="inline-task-list"><li class="checked"></li></ul>',R=function(e,t,a){n.default.initDatePickerLocalisations(a),e.attr("dateformat",t),e.attr("locale",a),e.attr("placeholder",t);var i={overrideBrowserDefault:!0,locale:a,dateFormat:t};t.match(/[iw]/)||(i.dateFormat=(0,x.default)(t));var r=e.datePicker(i);t.toLowerCase().indexOf("hh:mm")>=0?(e.width(120),e.bind("focus click keyup input paste",(function(){setTimeout((function(){r.setDate((0,E.default)(e.val(),t).dateString)}),1)}))):e.width(93)},k=e=>{var{$container:t,tableFilter:a}=e,i=t.parent().find("#macro-param-totalrow").first(),r=[],l=[],n=["","Sum","Average","Multiplication","Min","Max","Count","Count not empty"],s=["","Sum","Average","Multiplication","Min","Max","Count","Count not empty"];a.tables.forEach((function(e){e.length&&(l=$.merge(l,e[0]))})),a.body.find("tr:first-child").find("th.tf-numbering, th.tf-sparkline-header, th.total-col").each((function(){var e=$.inArray(this.textContent.trim(),l);e>=0&&l.splice(e,1)})),l.forEach((function(e,t){r.push({field:e,value:[a.totalRow[t]||""],type:"single-select",selects:n,labels:s,fakeSelects:[],variant:o.default.FIELD_VARIANTS.SINGLE_SELECT})}));var c=t.find(".aui-inline-dialog-contents").first(),f="tf-total-dialog";c.html(d().inlineDialog({clazz:"",name:"total-row",inputs:r,dialogId:f}));var p=c.find("#apply-".concat(f)),u=c.find("#cancel-".concat(f));p.on("click",(function(e){e.preventDefault();var r=[];c.find("div.field-group").find("select").each((function(){r.push($(this).val())})),a.totalRow=r,a.totalRowInput.val(r.join(",")).trigger("change"),i.val(r.join(",")).trigger("change"),t.removeAttr("open")})),u.on("click",(function(e){e.preventDefault(),t.removeAttr("open")})),t.off("aui-hide.tf").on("aui-hide.tf",(function(){var e=i.val().split(",").reverse();c.find(".field-group").each((function(){var t=$(this);t.has("select")?t.find("select").first().val(e.pop()).trigger("change"):e.pop()}))}))},P=(e,t)=>{var a="https://docs.stiltsoft.com/tfac/dc-server/how-to-set-the-date-format-and-worklog-settings-42239878.html#Howtosetthedateformatandworklogsettings-Settheworklogsettings";return[{field:"Days in year",value:e[0],type:"number",variant:o.default.FIELD_VARIANTS.NUMBER,min:1,max:366},{field:"Days in week",value:e[1],type:"number",variant:o.default.FIELD_VARIANTS.NUMBER,min:1,max:7},{field:"Hours in day",value:e[2],type:"number",variant:o.default.FIELD_VARIANTS.NUMBER,min:1,max:24},{field:"Time format",value:[e[3]],type:"single-select",variant:o.default.FIELD_VARIANTS.SINGLE_SELECT,selects:b.DEFAULT_WORKLOG_FORMATS,fakeSelects:[]},{field:"Year shortening",value:t[0],type:"text",variant:o.default.FIELD_VARIANTS.TEXT,help:a},{field:"Week shortening",value:t[1],type:"text",variant:o.default.FIELD_VARIANTS.TEXT,help:a},{field:"Day shortening",value:t[2],type:"text",variant:o.default.FIELD_VARIANTS.TEXT,help:a},{field:"Hour shortening",value:t[3],type:"text",variant:o.default.FIELD_VARIANTS.TEXT,help:a},{field:"Minute shortening",value:t[4],type:"text",variant:o.default.FIELD_VARIANTS.TEXT,help:a}]},N=e=>{var{$container:t,worklog:a}=e,i=t.parent().find("#macro-param-worklog").val(a||l.default.getStoredValue("tf-worklog")||"365|5|8|y w d h m|y w d h m"),r="tfilter-worklog-dialog",{params:n,worklogPlaces:o}=(0,m.parseWorklog)(i.val()),s=P(n,o),c=t.find(".aui-inline-dialog-contents").first();c.html(d().inlineDialog({clazz:"",name:"worklog",inputs:s,dialogId:r}));var f=c.find("#apply-".concat(r)),p=c.find("#cancel-".concat(r)),u=c,h="input[type=text], input[type=number], select";f.on("click",(function(e){e.preventDefault();var a=[],r=u.find(h);a.push(r.eq(0).val()),a.push(r.eq(1).val()),a.push(r.eq(2).val()),a.push(r.eq(3).val());var n=[];n.push(r.eq(4).val().trim()||"y"),n.push(r.eq(5).val().trim()||"w"),n.push(r.eq(6).val().trim()||"d"),n.push(r.eq(7).val().trim()||"h"),n.push(r.eq(8).val().trim()||"m"),a.push(n.join(" ")),a=a.join("|"),i.val(a),l.default.storeValue("tf-worklog",a),t.removeAttr("open")})),p.on("click",(function(e){e.preventDefault(),t.removeAttr("open")})),t.on("aui-hide",(function(){var{params:e,worklogPlaces:t}=(0,m.parseWorklog)(i.val());e.length=4;var a=[...e,...t].reverse();c.find(".field-group").each((function(){var e=$(this),t=a.pop();e.find(h).first().val(t).change()}))}))},H=e=>{var{parent:t,tableColumns:a,filters:i,params:l,onAddFilter:o,detectFilterType:s}=e,d=(0,u.getAvailableFilters)(i,a),h=t.find(".aui-inline-dialog-contents").first();h.html(r().addFilterDialog({filters:d,globalfilter:!i.globalfilter,columnhider:!i.columnhider,dateFormat:(l.datepattern||I.DEFAULT_DATE_FORMAT).replace("yyyy","yy"),dateFormatOptions:c.DATE_FORMAT_CONSTANTS}));var m=h.find(".date-format-param"),b=m.find(".date-format-input").first(),g=h.find(".filter-type").first(),v=h.find(".tf-add-filter-column select");v.filter(":not(:first)").parent().hide(),n.default.dateFormatAutocomplete(b,null),t.find(".tf-button-save").on("click",(function(e){e.preventDefault();var a=t.find("select.select.filter-type").first().val(),i=(0,p.getDefaultFilterLabel)(a,(()=>t.find("select.select.filter-column.".concat(a)).first().val())),r=b.val().trim();o(a,i,r),t.removeAttr("open")})),t.find(".tf-button-cancel").on("click",(function(e){e.preventDefault(),t.removeAttr("open")}));var w=!0;g.change((function(){var e=g.val(),t=v.filter((function(){return"none"!==this.parentNode.style.display})).val();h.find("div.tf-add-filter-column").hide(),h.find("div."+e).show().find("option").filter((function(){return this.textContent===t})).attr("selected","selected"),e===f.default.DATE?m.fadeIn():w?m.hide():m.fadeOut(),w=!1,g.attr("title",g.find("option:selected").attr("title"))})),g.trigger("change");var y=l.datepattern,T=new Set;d.forEach((e=>{var{existing:t}=e;t.forEach((e=>T.add(e)))})),v.change((function(){if(!T.has(this.value)){var e=y,t=s(this.value);if(t){t===f.default.DATE&&(b.val(y),((e,t)=>{e.datepattern=t})(l,e));var a=g.find("option[value=".concat(t,"]"));a.length&&(a.attr("selected","selected"),g.change())}}})),v.first().find("option").each((function(){return $(this).attr("selected","selected").parent().trigger("change"),!1}))};function L(e){var{tables:t,rows:a,rawTables:i,rawIconTables:r,shouldUpdateSelectOptions:l,filterContainers:o,selectParent:s,ddSeparator:d,isAND:c,isIcon:f,lookForCheckboxes:p,columnTitle:u,options:m,values:b}=e,v=[...m],w=[...b];return $.each(i,(function(e,i){var b=n.default.getCellPositions(i,u),x=null;l&&i.length&&((x=i.map((()=>!0))).length=i.length,o.not(s).each((function(){var t=$(this).data("state");if(t&&t[e])for(var a=0;a<t[e].length;a++)x[a]=c?x[a]&&t[e][a]:x[a]&&!t[e][a]}))),b.forEach((function(l){if($.each(f?r[e]:i,(function(e,t){if(0!==e&&(!x||x[e-1])){var a=t[l];if(void 0===a)return;if(f&&a){var i=$(a);i.filter("img").each(((e,t)=>{a=(0,T.getImageId)(t);var i=(0,F.findImageIdIndex)(v,a);if(-1===i)v.push(a),w.push(y(t));else if(v[i].startsWith(S.BLOB_SRC)){var r=m.indexOf(v[i]);s.find("option").eq(r).text(y(t))}})),i.filter(h.GENERIC_TASK_CONTAINER_SELECTOR).length&&p&&(p=!1,v.includes(A)||(w.push(A),v.push(A)),v.includes(D)||(w.push(D),v.push(D)))}else d&&""!==a?a.split(d).forEach((function(e){(e=e.trim())&&(a=(0,C.clearStringLowerCase)(e),v.includes(a)||(v.push(a),w.push(e)))})):(a=(0,C.clearStringLowerCase)(a),v.includes(a)||(v.push(a),w.push(t[l])))}})),!f&&!v.includes(g.currentUser)){var o=t.eq(e),c=!1;if(a[e].length>1&&o.hasClass("tasks-report")&&n.default.getNthTdElem(a[e][1],l).hasClass("tasks-report-assignee"))c=!0;else if(l++,o.find(h.GENERIC_MENTION_SELECTOR).length){var u=o.find("tr td:nth-child("+l+"), tr th:nth-child("+l+")").find(h.GENERIC_MENTION_SELECTOR).eq(0);u.length&&u.parents("td").eq(0).text().trim()===u.text().trim()&&(c=!0)}c&&(v.push(g.currentUser),w.push(g.currentUser))}}))})),w.sort(((e,t)=>e.localeCompare(t))),w}function O(e){var{select:t,isIcon:a}=e,i=[];return t.find("option").each((function(){var e=this.textContent.trim();if(a)if(e!=="-Empty-"){var t=$(e);i.push(t.is("img")?(0,T.getImageId)(t[0]):e.toLocaleLowerCase())}else i.push("");else i.push($(this).hasClass("tf-empty-option")?"":(0,C.clearStringLowerCase)(e))})),{options:i,values:[]}}},53885:function(e,t,a){"use strict";a.r(t),a.d(t,{gaBrowserTFFilterUpdated:function(){return f},gaFilterSaveChangesEditor:function(){return o},gaFilterUpdated:function(){return c},gaPanelFilterDeleted:function(){return s},gaPanelFilterReordered:function(){return d},gaResetColumnSorting:function(){return b},gaTFApplyFilterURL:function(){return m},gaTFCopyFilterURL:function(){return h},gaTFDisableFilters:function(){return u},gaTFResetFilters:function(){return p}});var i=a(60745),r=a(64125),l=a(89494);const n={isOR:{event:"multiFilterOperator",hasProperty:!0},ddSeparator:{event:"cellValueDelimiter",hasProperty:!0},worklog:{event:"worklog",hasProperty:!0},updateSelectOptions:{event:"dropdownFiltersOptions",hasProperty:!0},disableSave:{event:"disableChangeSaving",hasProperty:!0},hideControls:{event:"hideControlButtons",hasProperty:!0},hidePane:{event:"hideFiltrationPanel",hasProperty:!0},disabled:{event:"disableFiltrationAtStart",hasProperty:!0},totalcol:{event:"totalColumn",hasProperty:!0},totalrow:{event:"setTotalRow",hasProperty:!0},thousandSeparator:{event:"thousandsSeparator",hasProperty:!0},showNRowsifNotFiltered:{event:"showFirstNRowsIfNotFiltered",hasProperty:!0},rowsPerPage:{event:"rowsPerPage",hasProperty:!0},ignoreFirstNrows:{event:"ignoreFirstNRows",hasProperty:!0},limitHeight:{event:"freezeFirstNRows",hasProperty:!0},heightValue:{event:"tableHeight",hasProperty:!0},fixedCols:{event:"freezeFirstNColumns",hasProperty:!0},separator:{event:"decimalSeparator",hasProperty:!0},sort:{event:"defaultSorting"},numbering:{event:"rowNumberingType",hasProperty:!0},sparkline:{event:"sparklineCharts",hasProperty:!0},datepattern:{event:"dateFormat",hasProperty:!0}},o=(e,t)=>{(0,i.saveChanges)(e,t,n,"browserTF")},s=e=>{(0,l.ga4SendEvent)("panelTF_filter_deleted",{type:r.mapFilterName[e]})},d=e=>{(0,l.ga4SendEvent)("panelTF_filter_reordered",{type:r.mapFilterName[e]})},c=(e,t,a)=>{(0,l.ga4SendEvent)((a?"panelTF":"headerTF")+"_filter_updated",{type:r.mapFilterName[e],filterType:t})},f=(e,t)=>{const a=t?"inversed":"normal";(0,l.ga4SendEvent)("browserTF_filter_updated",{type:r.mapFilterName[e],filterType:a})},p=()=>{(0,l.ga4SendEvent)("menuTF_resetAllFilters_clicked")},u=e=>{(0,l.ga4SendEvent)(e?"menuTF_disableAllFilters_clicked":"menuTF_enableAllFilters_clicked")},h=()=>{(0,l.ga4SendEvent)("menuTF_copyUrlTF_clicked")},m=()=>{(0,l.ga4SendEvent)("page_applyUrlTF_clicked")},b=()=>{(0,l.ga4SendEvent)("menuTF_resetSorting_clicked")}},69663:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ke}});a(64707),a(63348),a(16335),a(2304),a(6558),a(88220),a(4267),a(73049),a(37567),a(62708),a(73406),a(5809),a(71035),a(94853),a(4003),a(30204),a(17709),a(92391),a(33256),a(40327),a(46),a(86266),a(28530),a(83452),a(52826),a(65183),a(64555),a(63544),a(22901);$.fn.tableHeadFixer=function(e){return this.each((function(){t.call(this)}));function t(){var t=$.extend({},{head:!0,foot:!1,left:0,right:0,"z-index":1},e);function a(){if(t.head>0){var e=t.parent.scrollTop();t.table.dataset.scrollTop=e,t.headCells.forEach((function(t){t.style.top="".concat(e,"px")}))}if(t.left>0){var a=t.parent.scrollLeft();t.leftColumns.forEach((function(e){e.style.left="".concat(a,"px")}))}}function i(e,a){for(var i=t.left,l=0;l<i;l++){var n=e.children[l];if(n){var o=n.colSpan>1;o&&(l+=n.colSpan-1),n&&(!o||$(n).position().left+n.clientWidth<r())&&a(n)}}}function r(){return void 0===t.parentWidth&&(t.parentWidth=t.parent.width()),t.parentWidth}t.table=this,t.parent.bind("scroll.tf scroll-tf",a),t.head>0&&function(){for(var e=[],a=t.table.rows,i=0;i<t.head;i++){var r=a[i];if(r){var l=r.children;if(l.length)for(var n=0;n<l.length;n++){var o=l[n];o&&(o.classList.add("tf-floating"),o.classList.add("tf-float-head"),o.style.top=0,e.push(o))}else t.head++}}t.headCells=e}(),t.left>0&&function(){for(var e=t.table,a=[],r=e.rows,l=0;l<r.length;l++)i(r[l],(function(e){e.classList.add("tf-floating"),0===l&&e.classList.add("tf-float-head"),e.style.left=0,a.push(e)}));t.leftColumns=a}(),function(){if(t.head>0&&t.left>0)for(var e=t.table.rows,a=0;a<t.head;a++){var i=e[a];if(i)for(var r=i.children,l=0;l<t.left;l++)r[l]&&(r[l].style["z-index"]=3)}}(),t.table.dataset.scrollTop&&t.parent.scrollTop(t.table.dataset.scrollTop),$(window).resize(a)}};var i=a(24571),r=a(23589),l=a(18984),n=a(25414),o=a(36932),s=a(73677),d=a(10611),c=a(9468),f=a(14412),p=a(43509),u=a(68631),h=a(47446);const m=(e,t)=>e.index(t.closest("table"));var b=a(37460),g=".wysiwyg-macro",v={bindEditorDOMChange:e=>{var t,a=null,i=null,r=!1,l=e.tableWrapper.html(),n=!1,o=t=>t.is("table:not(".concat(g,")"))&&-1===e.tables.index(t),s=function(t,a){if(t.is("td")||t.is("th")||(t=t.parents("td, th").eq(0)),(parseInt(t.attr("rowspan"))>1||parseInt(t.attr("colspan"))>1)&&(e.normalizeTable(),e.showOrHideTables()),t.hasClass("tablesorter-header")){var r=e.comboBoxDiv.find("[name]").filterByAttr("name",i).attr("name",a);r.closest(".filter-container").find("label .tf-label-name").each(((e,t)=>{var r=$(t);r.text(r.text().replace(i,a))})),e.updateRawTables(!0),r.length>0&&e.enableSaveBtn()}else{if(t.length){var l=t[0].parentNode,n=m(e.tables,$(l));if(n>=0){var o=e.rawTables[n][l.rowIndex];o&&(o[t[0].cellIndex]=t.text())}e.setTextForFakeCells(t)}else e.updateRawTables();e.appendTotalRow(),e.appendTotalCol()||(e.tables.trigger("update",!1),e.updateRawTables()),e.appendSparklines(),e.sparkline&&e.fixedRows>0&&e.updateFixedCells()}i=null,e.setFiltrationPanel()},d=function(i,d,p){if(!(r||e.pauseUpdate||e.sorting||e.resorting||e.editorSave||i.is("span[id^=mce_]")||i.closest(".tablefilter-pagination").length||i.is("br")||i.hasClass("tablesorter-savemyplace")))if(i.is(".tf-numbering")){var u=(0,h.default)(e.editorMacro[0]);e.numbering=u.numbering?u.numbering.toLocaleLowerCase():""}else{if(i.hasClass("fake")){if(i.attr("colspan")||i.attr("rowspan"))return;i.removeClass("fake synchrony-exclude"),i.removeClass(i.getClassStartsWith(/tf-colspan-\d+/)),i.removeClass(i.getClassStartsWith(/tf-rowspan-\d+/)),i.css("display","")}clearTimeout(a);var b=t&&!t.is("td"),g=function(){if(t=null,"DOMNodeInserted"!==p||i.is("table")||0!==i.parents(".confluenceTable").length){var a=e.tableWrapper.html();if(a!=l){l=a;var u=i.is("tr");if(u||i.is("td")||i.is("th")||o(i)||n){n=!1,r=!0;var h=d.closest("table");!function(e,t){t.hasClass(f.TABLE_MERGED_HEADER)?function(e,t){var a=t.attr(f.TABLE_ATTRIBUTE_READY);t.attr(f.TABLE_ATTRIBUTE_READY,"false"),e.getTable(),t.attr(f.TABLE_ATTRIBUTE_READY,a)}(e,t):e.getTable();t.data("tf-update-spans")&&v.fixEditorCellHighlight(t.find(".fake"))}(e,h),e.addNumbering(),e.setFiltrationPanel(),u?(e.filterTable(),e.allowRowList=null):e.filterTable(),i.find("tr").show(),!b&&i.is("td")||i.parents("tr").show(),e.tables.not(".tablesorter").tablesorterEditor({cancelSelection:!1,dateFormat:e.dateFormat,locale:e.localeDateFormat}),i.is(".tablesorter-header")&&h.tablesorterEditor({cancelSelection:!1,dateFormat:e.dateFormat,locale:e.localeDateFormat}),e.appendTotalRow(),e.appendTotalCol()||e.tables.trigger("update",!1),e.appendSparklines(),o(i)?e.makeTablesScrollable():(e.sparkline&&e.fixedRows>0||i.is("th")||i.is("td")||u)&&e.updateFixedCells(),c.default.create(e,!0),r=!1}else s(i,i.text())}}};if(o(i))g();else{var w=i.is("tr")&&-1!==m(e.tables,i);if(w||i.hasClass("numberingColumn")){if(n=!0,w&&(e.totalCol||e.sparkline||e.numbering)){var y=i.children(),T=y.length-1;v.fixTotalCellClass(e.numbering,y,"tf-numbering",0),T=v.fixTotalCellClass(e.sparkline,y,"tf-sparkline-container",T),v.fixTotalCellClass(e.totalCol,y,"total-col",T)}}else if(w||i.is("th,td")||0!==i.closest(".total-col").length)d.hasClass("total-row")&&"DOMNodeInserted"===p&&i.length&&!d.children(".totalCell:not(.tf-numbering)").length?d.removeClass("total-row synchrony-exclude"):i.is(f.TABLE_RELATED_TAGS.join())&&(n=!0);else{var C=i.closest("tr");C.hasClass("total-row")&&(C.removeClass("total-row synchrony-exclude"),C.children().removeClass("number totalCell confluenceTh").addClass("confluenceTd").removeAttr("contenteditable"),C.html(C.html().replace(/(<\/?t)h/g,"$1d")))}a=setTimeout(g,500)}t=i}};e.observerCallback=function(t){t.forEach((function(t){var r=$(t.target);if(t.addedNodes.length)d($(t.addedNodes),r,"DOMNodeInserted");else if(t.removedNodes.length)d($(t.removedNodes),r,"DOMNodeRemoved");else if("characterData"===t.type){var n=$(t.target);!function(t,r,n){e.editorSave||e.sorting||e.resorting||(clearTimeout(a),null==i&&(i=r),a=setTimeout((function(){l=e.tableWrapper.html(),s(t,n)}),501))}(n,t.oldValue,n.text())}}))},e.observer=new MutationObserver(e.observerCallback),e.observerParams={childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0},e.observer.observe(e.tableWrapper[0],e.observerParams),e.observersTd=[],e.tableWrapper.find("td").each((function(){var t=new MutationObserver((function(e){e.forEach((function(e){var a=e.target,i=$(a),r=i.hasClass("tf-hidden-column"),l=a.parentElement;(r||l&&!(0,b.isRowVisible)(l))&&(t.disconnect(),i.attr(e.attributeName,e.oldValue),i.toggleClass("tf-hidden-column",r),t.observe(a,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","data-highlight-colour"]}))}))}));t.observe(this,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","data-highlight-colour"]}),e.observersTd.push(t)})),c.default.create(e,!1)},bindEditorTableResize:e=>{var t="active-resizable";e.tables.each((function(){var e=[],a=new MutationObserver((function(a){a.forEach((function(a){var i=-1!==a.oldValue.split(" ").indexOf(t),r=a.target.classList.contains(t);i!==r&&(r?(e=[],$(a.target).find(".fake").filter("[colspan],[rowspan]").not(":visible").each((function(){var t=$(this);e.push({fakeCell:t,prevSibling:this.previousElementSibling,parentNode:this.parentNode}),t.detach()}))):e.forEach((e=>{e.prevSibling?$(e.prevSibling).after(e.fakeCell):$(e.parentNode).prepend(e.fakeCell)})))}))}));a.observe(this,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})}))},bindEditorPopup:e=>{e.popup.click((function(){return!1}))},storeEditorMacroParams:(e,t)=>{t.column?e.macroParams.column=t.column:delete e.macroParams.column,t.userfilter?e.macroParams.userfilter=t.userfilter:delete e.macroParams.userfilter,t.numberfilter?e.macroParams.numberfilter=t.numberfilter:delete e.macroParams.numberfilter,t.datefilter?e.macroParams.datefilter=t.datefilter:delete e.macroParams.datefilter,t.globalfilter?e.macroParams.globalFilter=t.globalfilter:delete e.macroParams.globalFilter,t.columnhider?e.macroParams.hideColumns=t.columnhider:delete e.macroParams.hideColumns,t.iconfilter?e.macroParams.iconfilter=t.iconfilter:delete e.macroParams.iconfilter,t.width?e.macroParams["cell-width"]=t.width:delete e.macroParams["cell-width"],t.defaults?e.macroParams.default=t.defaults:delete e.macroParams.default,t.inverse?e.macroParams.inverse=t.inverse:delete e.macroParams.inverse,t.datepattern?e.macroParams.datepattern=t.datepattern:delete e.macroParams.datepattern,t.labels?e.macroParams.labels=t.labels:delete e.macroParams.labels,t.ddSeparator?e.macroParams.ddSeparator=t.ddSeparator:delete e.macroParams.ddSeparator,t.ddOperator?e.macroParams.ddOperator=t.ddOperator:delete e.macroParams.ddOperator,e.editorMacro.attr("data-macro-parameters",Confluence.MacroParameterSerializer.serialize(e.macroParams))},fixEditorResizeSensor:e=>{e.tableWrapper.find(".resize-sensor, .resize-sensor-shrink, .resize-sensor-expand").remove()},wrapEditorTable:e=>{e.wrap('<div class="table-wrap editor" contenteditable></div>')},afterEditorFiltration:e=>{e.editorMacro.data("tf-self",!0),"true"!==e.params.enabledInEditor&&"none"!==e.outerWrapper.css("display")&&e.editorMacro.attr("type",JSON.stringify(e.getFilters())),e.params.enabledInEditor=""},fixEditorCellHighlight:e=>{e.filter("[rowspan]:not(:visible)").attr("rowspan",-1),e.filter("[colspan]:not(:visible)").attr("colspan",-1)},fixTotalCellClass:(e,t,a,i)=>{if(e){var r=t.eq(i--);r.hasClass(a)||r.addClass(a)}return i},setupFreezeColumns:(e,t,a,i)=>{if(e.fixedCols>0&&e.rawTables[a][0].length-e.fixedCols>1){var r=function(e,t,a){var i=e.rows[a].eq(0).children();return 2*(i.eq(Number(e.fixedCols)+1).offset().left-t.offset().left)}(e,t,a),l=i.parents(".innerCell, body").eq(0).width()-33*i.parents(g).length;i.css("max-width",Math.max(r,l)+"px")}}};var w=v,y=a(50773),T=a(8637),C=a(17862),x=a(62438),E=a(26511),S=a(53885),F=a(34401),I=a(84682),A=a(86422),D=a(23890);const R={selectfilters:"column",userfilters:"userfilter",numberfilters:"numberfilter",datefilters:"datefilter",iconfilters:"iconfilter",defaults:"default",sorts:"sort",width:"cell-width",globalfilter:"globalFilter",columnhider:"hideColumns"};var k=function(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[R[e]||e,t])))},P=a(38414),N=a(48957),H=a(56565),L=a(92127),O=a(71121),B=a(33893),M=a(77259),_=a(4288),W=a(986),U=a(22055),J=a(75201),V=a(41896),z=(a(29902),a(85124),a(69740),a(37628),()=>new URL(window.location));function q(e,t,a,i,r,l,n){try{var o=e[l](n),s=o.value}catch(e){return void a(e)}o.done?t(s):Promise.resolve(s).then(i,r)}function G(e){return function(){var t=this,a=arguments;return new Promise((function(i,r){var l=e.apply(t,a);function n(e){q(l,i,r,n,o,"next",e)}function o(e){q(l,i,r,n,o,"throw",e)}n(void 0)}))}}function j(e,t){var a=new URL(t),i=Y(t);return i["tf-filters"]=JSON.stringify(e),a.hash=function(e){return Object.entries(e).map((e=>{var[t,a]=e;return t+"="+encodeURIComponent(a)})).join("&")}(i),a.href}function Y(e){var t=e.hash.replace(/^#/,"");return t?t.split("&").reduce(((e,t)=>{var[a,i]=t.split("=");return e[a]=decodeURIComponent(i),e}),{}):{}}function K(){return(K=G((function*(e){!function(e){var t=$("<span></span>");$("body").append(t),t.text(e);var a=document.createRange();a.selectNode(t[0]);var i=window.getSelection();i.removeAllRanges(),i.addRange(a),document.execCommand("copy"),t.remove()}(j(e,yield z()))}))).apply(this,arguments)}var X={apply:function(e){function t(){e.apply(this,arguments),this.isCloud||this.trackUrlHashChange(),this.applyHashChangeHandler(),this.applyCopyUrlHandler()}return t.prototype=Object.create(e.prototype),t.prototype.applyCopyUrlHandler=function(){var e=this.menu.find(".get-tf-url");this.attachToCopyUrlMenuItem(e)},t.prototype.attachToCopyUrlMenuItem=function(e){e.on("click",(e=>{var{rawTables:t}=this,a=this.getFilters();a.sorts=[],this.tables.toArray().forEach(((e,i)=>{var r;null===(r=e.config)||void 0===r||null===(r=r.sortList)||void 0===r||r.forEach((e=>{var r=0===e[1]?"":"";a.sorts.push(t[i][0][e[0]]+" "+r)}))})),function(e){K.apply(this,arguments)}(a),e.preventDefault(),(0,S.gaTFCopyFilterURL)()}))},t.prototype.hashChangeHandler=G((function*(){var e=Y(yield z())["tf-filters"];e&&this.updateFilters(JSON.parse(e))})),t.prototype.trackUrlHashChange=function(){$(window).bind("hashchange",this.hashChangeHandler.bind(this))},t.prototype.applyHashChangeHandler=function(){$(".tablefilter-table-wrapper").one("tf-filtered",this.hashChangeHandler.bind(this)),this.hashChangeHandler()},Object.defineProperty(t.prototype,"constructor",{value:t,enumerable:!1,writable:!0}),t}},Q=a(71030),Z=a(3644),ee=a(29313),te=a(23317);const ae=e=>{const t=e.querySelector(`.${f.JIRA_ISSUES_COUNT_CLASS}`);return t&&e.textContent?.trim()===t.textContent?.trim()};var ie=a(25082),re=a(87600),le=a(19718),ne=a(91733),oe=a(73730),se=a(19503);var de=a(18314),ce=a(40929),fe=a(34388),pe=a(80326),ue=a(68868),he=a(50024),me=a(92387),be=a(16416),ge=a(51011),ve=a(10459),we=a(80265),ye=a(89835),Te=a(32524),Ce=a(12508),xe=a(15923),$e=a(3801),Ee=a(25511),Se=a(58021),Fe=a(40452),Ie=a(78447),Ae=a(57853),De=a(54988),Re=a(37583),ke=a(71270),Pe=a(47057),Ne=a(9858),He=a(30116),Le=a(80356);class Oe{constructor(){this.timer=void 0,this.priority=0}setTimer(e,t,a){e<this.priority||(clearTimeout(this.timer),this.priority=e,this.timer=setTimeout((()=>{t(),this.priority=0}),a))}resetTimer(){clearTimeout(this.timer),this.priority=0}}var Be=function(e){var t=this;o.default.adaptOldParamsTF(e),t.params=e,t.editorMacro=e.editorMacro,t.macroParams=e.macroParams,t.pageId=e.pageId,t.macroId=e.id,t.sessionId=e.sessionId||1,t.tableWrapperId=(({macroId:e,sessionId:t="1"})=>`tf-table-${e}-${t}`)(t),this.eventData={id:t.tableWrapperId,tf:this,macroId:this.macroId},t.params.showNRows=e.showNRowsifNotFiltered,t.numbering=!!e.numbering&&e.numbering.toLocaleLowerCase(),t.dateFormat=(e.datepattern||Pe.DEFAULT_DATE_FORMAT).replace("yyyy","yy"),t.localeDateFormat=(0,O.default)(t.dateFormat),t.separator=e.separator,t.fixedRows="true"===e.limitHeight?1:e.limitHeight,t.fixedCols=e.fixedCols,t.heightValue=!!e.heightValue&&parseInt(e.heightValue),t.sorts=e.sorts,"string"==typeof t.sorts&&t.sorts&&(t.sorts=t.sorts.replace(/,/g,u.SPECIFIC_SEPARATOR).replace(u.ALTERNATE_COMMA_REGEXP,",").split(u.SPECIFIC_SEPARATOR)),t.totalRow=e.totalrow?e.totalrow.split(","):[],t.totalCol=e.totalcol,t.cbState=null,t.allowRowList=null,t.tdNumbers=null,t.tables=null,t.rows=null,t.outerWrapper=$("".concat(".tablefilter-outer-wrapper",'[data-id="').concat(t.macroId,'"][data-pageid="').concat(t.pageId,'"][data-sessionid="').concat(t.sessionId,'"]')),t.tableWrapper=t.getTableWrapper(e),t.tableWrapper=(0,W.default)(t.tableWrapper,"tablefilter-table-wrapper").attr("id",t.tableWrapperId).trigger("tf-added",t.tableWrapperId),t.tableWrapper=(0,we.addIframe)(t.tableWrapper,"tablefilter-table-wrapper",(function(e){t.tableWrapper=e,t.getTable(),t.addNumbering(),t.setFiltrationPanel(),t.tableUpdated=!0,t.filterTable()})),t.previewTutorial=t.outerWrapper.find(".preview-tutorial"),t.comboBoxDiv=t.outerWrapper.find("#comboBoxDiv-".concat(t.macroId,"-").concat(t.sessionId)),t.filterIcon=t.outerWrapper.find(".filter-logo").eq(0),t.lockDisabled=t.comboBoxDiv.find("div.lockDisabled"),t.lockEnabled=t.comboBoxDiv.find("div.lockEnabled"),t.showBtn=t.outerWrapper.children(".tf-shower-wrapper").find(".tf-shower"),t.rawTables=null,t.columns=null,t.locale=(0,ie.getLocale)(),t.hideParamName=t.pageId+"_"+t.macroId+"_hidden",t.menu=t.outerWrapper.find("#filter-menu-view-".concat(t.macroId,"-").concat(t.pageId,"-").concat(t.sessionId,", #filter-menu-view-lock-").concat(t.macroId,"-").concat(t.pageId,"-").concat(t.sessionId)),t.saveBtn=t.menu.find(".filter-save").not("body.content-preview .filter-save"),t.removeBtn=t.menu.find(".tf-remove"),t.resetSortBtn=t.menu.find(".filter-sort-reset"),t.isLockEnabled=e.isLockEnabled,t.tabs=e.tabs,t.worklog=r.default.getWorklog(e.worklog),t.sparkline=e.sparkline,t.sparkName="$sparkName"===e.sparkName?"":e.sparkName,t.isAND="OR"!==e.isOR,t.ddSeparator=e.ddSeparator.split(u.ALTERNATE_COMMA),t.defaultDDSeparator=1!==t.ddSeparator.length||e.ddSeparators?"":t.ddSeparator[0],t.ddOperator=e.ddOperator.split(","),t.totalRows=[],t.tableUpdated=!0,t.outerWrapper.data("tf",t).trigger("tf-init",t.macroId),t.shouldUpdateSelectOptions=e.updateSelectOptions,t.totalColName=e.totalColName,t.totalRowName=e.totalRowName,t.formatDecimal=(0,Z.getWnumbFormatter)({separator:t.separator,thousandSeparator:e.thousandSeparator}),t.spakLinesFinished=!0,t.isCloud=t.outerWrapper.hasClass("tf-cloud-macro"),t.isEditor=e.isEditor,t.isPreview=l.default.isPreview(),t.isAtlaskitRendererEnabled=e.isAtlaskitRendererEnabled,this.filterConfigs=(0,D.default)(this.params).filterConfigs,t.getTable(),t.addNumbering(),t.sortTable(),t.appendTotalCol(),t.createSelects(t.comboBoxDiv),t.createDatePickers(t.comboBoxDiv),t.bindInputs(),t.bindReset(),t.bindDisable(),t.bindDOMChange(),t.bindInnerFiltration(),t.bindHideBtn(),t.bindAddFilter(),t.bindChangeSettings(),t.bindSave(),t.bindRemove(),t.bindRate(),t.bindExport(),t.bindSortReset(),t.bindMakeInverse(),t.bindChangeLabel(),t.setSelects(),t.setFiltrationPanel(),t.makeSortable(),t.makeResizable(t.comboBoxDiv),t.filterTable(),t.makeTablesScrollable(),t.comboBoxDiv.find("form").bind("keydown",(e=>13!==e.keyCode)),!t.editorMacro&&window.KarmaUser&&t.tables.find("a[data-username]").length&&setTimeout((function(){t.setFiltrationPanel(),t.filterTable()}),1e3)};Be.prototype.getTableWrapper=function(e){var{editorPreview:t}=e;if(t)return t.find(".tablefilter-table-wrapper").first();var{editorMacro:a}=this;return a?a.find(".tablefilter-table-wrapper"):this.outerWrapper.find("div#".concat(this.tableWrapperId))},Be.prototype.getFirstTableWrapper=function(){var e=this.getTableWrapper({}).first();return e.length?e:null},Be.prototype.sortTable=function(){var{tables:e,sorts:t}=this;e.bind("tablesorter-initialized.tf",((e,t)=>{!function(e){if(!e.offsetParent){var t=e.querySelectorAll(":scope > thead"),a=t.length;if(!(a<2)){var i=t[a-1],r=$(i.querySelectorAll("button.headerButton"));r.unwrap(".tablesorter-header-inner"),r.contents().unwrap(),e.removeChild(i),e.tBodies[0].prepend(...i.rows),$(e).trigger("updateAll",!1)}}}(t);var a=$(t);a.append(a.children("div.resize-sensor")),((e,t,a)=>{const i=e.data("tablesorter");if(i){const r=(0,x.default)(t,a);Object.assign(i,r),e.trigger("updateCache")}})(a,this.dateFormat,this.separator)}));var a=(e,t)=>this.sortOneTable($(t));t.length&&(e.filter(".pivot-table-result").one("pivot-sorted",a),e.not(".pivot-table-result").one("tablesorter-initialized.tf",a),e.filter(".tablesorter").each(a))},Be.prototype.sortTables=function(){var e=this;e.tables.each((function(){e.sortOneTable($(this))}))},Be.prototype.sortOneTable=function(e){var t=this;if(t.sorts.length){var a=[];if($.each(t.sorts,(function(i,l){var n=-1===(l=l.replace(" (Asc)"," ").replace(" (Desc)"," ")).indexOf("")?1:0,o=l.replace("","").replace("","").trim();r.default.getCellPositions(t.rawTables[t.tables.index(e)],o).forEach((function(e){a.push([e,n])}))})),0===a.length)return void t.prepareExport(!0);t.sortWait=!0,t.resorting=!0,t.setMutationObserver(),e.hasClass("pivot-table-result")||t.updateSorter(e),t.restoreNumbering=!0,e.trigger("sorton",[a]),t.resorting=!1,t.resetSortBtn.addClass("tf-disabled-link"),t.setMutationObserver()}},Be.prototype.normalizeTable=function(){var e=this;e.pauseUpdate=!0,e.setMutationObserver(!0),(0,T.default)(e.tables,f.TABLE_ATTRIBUTE_READY,e.editorMacro),e.pauseUpdate=!1,e.setMutationObserver(!0),(0,ye.default)(e.tables.not(".pivot-table-result"))},Be.prototype.addNumbering=function(){var e=this;(0,U.hasLoadingContent)(e.tableWrapper)||(e.numbering?(e.pauseUpdate=!0,e.setMutationObserver(),e.tables.each((function(t){var a=$(this),i=a.find("tr.pivot-header");if(0===i.find(".tf-numbering").length)for(var l=i.length,n=0;n<l;n++)i.eq(n).prepend('<th class="confluenceTh tf-numbering '.concat(n&&"fake",'" rowspan="').concat(l-n,'"></th>'));var o=e.rows[t];if(0===a.find("".concat(u.COLGROUP_ELEMENT," ").concat(u.TFN_COLUMN_SELECTOR)).length){var s=a.hasClass("relative-table")?"0.1%":29+8*((""+o.length).length-1)+"px";a.find(u.COLGROUP_ELEMENT).prepend('<col class="'.concat(u.NUMBERING_CLASS,' synchrony-exclude" style="width: ').concat(s,'">'))}o.each((function(a){for(var i=$(this),l=this.children,n=null,s=null,d=0;d<l.length;d++)if(!l[d].classList.contains("fake")){n=$(l[d]);break}l[0].classList.contains("tf-numbering")&&(s=$(l[0]));var c=n.attr("class");if(0===a)s?s.attr("contenteditable",!1):("th"===n.prop("tagName").toLowerCase()?i.prepend('<th class="'+c+' tf-numbering synchrony-exclude" contenteditable="false"></th>'):i.prepend('<td class="'+c+' tf-numbering synchrony-exclude" contenteditable="false"></td>'),e.rawTables[t][a].unshift(""),e.columns=r.default.getColumns(e.rawTables),e.rawIconTables&&e.rawIconTables[t][a].unshift(""));else{var f=-1!==e.numbering.indexOf("desc")?o.length-a:a;s?(s.attr("contenteditable",!1).html("<span>"+f+"</span>"),e.rawTables[t][a][0]=""+f):(i.prepend('<td class="'+c+' tf-numbering synchrony-exclude" contenteditable="false"><span>'+f+"</span></td>"),e.rawTables[t][a].unshift(""+f),e.rawIconTables&&e.rawIconTables[t][a].unshift(""))}})),e.updateSorter(a,!0),a.hasClass("metadata-summary-macro")&&e.tableWrapper.find("ol.aui-nav").eq(t).find("li a[href]").one("mouseup",(function(){e.pauseUpdate=!0,a.find(".tf-numbering").remove(),a[0].config&&a[0].config.headerContent&&a[0].config.headerContent.splice(0,1),a.trigger("updateAll",!1),e.pauseUpdate=!1}))})),e.pauseUpdate=!1,e.setMutationObserver()):(e.tables.each((function(t){var a=$(this).find(".tf-numbering");a.length&&(e.rawTables[t].forEach((e=>e.shift())),a.remove())})),e.tables.find("".concat(u.COLGROUP_ELEMENT," ").concat(u.TFN_COLUMN_SELECTOR)).remove()))},Be.triggerTablesorterUpdateHelper=(e,t)=>{var a=$.tablesorter||$.tablesorterEditor,i=a.restoreHeaders;a.restoreHeaders=function(){};try{t()}catch(e){a.restoreHeaders=i,AJS.log("Error while updating sorting: ",e)}e.one("updateComplete",(function(){a.restoreHeaders=i})),setTimeout((function(){a.restoreHeaders=i}),2e3)},Be.prototype.updateSorter=function(e,t){var a=this,i=$.tablesorter||$.tablesorterEditor;if(e.hasClass("pivot-cumulative")&&e.find("thead > tr > th:first-child").addClass("sorter-false"),e.hasClass("pivot-cumulative-recount")){e.trigger("update",!1);var r=e.data("sortBehavior");Be.triggerTablesorterUpdateHelper(e,(()=>{e.addClass("pivot-cumulative-refresh"),e.trigger("updateAll",[r,()=>{e.removeClass("pivot-cumulative-refresh"),i.getWidgetById("staticRow").format(e)}])}))}else if(e.hasClass("appfire-table-plus-parms")){if(t&&!a.appFireUpdated&&window.org_swift_TableSorter&&window.getTableParms){a.appFireUpdated=!0;var l=new window.org_swift_TableSorter,n=window.getTableParms(e);l.customizeMacroTable(e,n.tableParms,n.columnAttributes)}}else if(e.trigger("update",!1),!a.resorting&&!e.hasClass(f.TABLE_MERGED_HEADER)){Be.triggerTablesorterUpdateHelper(e,(()=>e.trigger("updateAll",!1)))}},Be.prototype.createSelects=function(e){var t=this;e.find("select").change((function(e,a){var i=$(this);a.selected?i.find("option").filter((function(){return this.textContent===a.selected})).prop("selected",!0):a.deselected&&i.find("option").filter((function(){return this.textContent===a.deselected})).prop("selected",!1),t.comboBoxDiv.find(".search-choice").filter((function(){return(0,pe.clearString)(this.textContent)==="-Empty-"})).addClass("tf-empty-option"),t.enableSaveBtn(),t.filterTable(i),t.gaFilterUpdated(this)})).each((function(){var e=$(this),t=e.data("html");t&&e.find("option").each((function(){this.textContent=n.default.sanitize(this.textContent,de.VISUAL_FILTER_CONFIG)})),e.chosenTF({no_results_text:t?"No matches found":"No matches found. Press \u0027Enter\u0027 to add",placeholder_text_multiple:e.is(".icon-select")?"Select items...":"Click and start typing...",display_selected_options:!1,width:e.data("width"),addUserOption:!t,search_contains:!t,isHtml:t})}))},Be.prototype.createDatePickers=function(e){var t=this;AJS.DatePicker.prototype.localisations||(AJS.DatePicker.prototype.localisations=[]),t.datePickerOptions={overrideBrowserDefault:!0,languageCode:t.locale},e.find("input.date").each((function(){var e=$(this),{dateFormat:a,locale:i}=t.getDateFormat(e);r.default.initDatePickerLocalisations(i),t.initDatePicker(e,a,i);var l=e.val();e.val(r.default.convertToDate(l,a,i))}))},Be.prototype.bindInputs=function(){var e=this,t=[],a=[];e.comboBoxDiv.delegate("input.user-filter, input.global-filter, input.date, input.number","input keyup",(function(){var i=$(this);clearTimeout(t[i]),clearTimeout(a[i]),t[i]=setTimeout((function(){e.enableSaveBtn(),e.filterTable(i)}),330),a[i]=setTimeout((function(){e.gaFilterUpdated(i)}),2e3)})),e.comboBoxDiv.delegate("input.date","change",(function(){e.enableSaveBtn(),e.filterTable($(this)),e.gaFilterUpdated(this)}))},Be.prototype.gaFilterUpdated=function(e){var t=$(e).closest(".filter-container"),a=Ge(t),i=t.hasClass("inverse")?"inverse":"normal";a&&(0,S.gaFilterUpdated)(a,i,this.params.hidePane!==u.HIDE_PANE.HEADER)},Be.prototype.bindReset=function(){var e=this;e.menu.find(".filter-reset").click((function(t){var a;$("body").trigger("filter-options-disable-and-reset",{type:"Reset Filters",pageMode:e.isPreview?"Macro Preview":"Page View"}),(0,S.gaTFResetFilters)(e.isPreview?"preview":"view"),e.clearFilters(e.comboBoxDiv).filterTable(),a=e.menu,[N.default.HIDER,N.default.GLOBAL].forEach((e=>Me(a,e,"list-item"))),t.preventDefault()})),e.comboBoxDiv.on("click",".aui-iconfont-cross",(function(){var t=$(this).parent();e.hasFilterValues(t.find("select, input.text"))&&e.clearFilters(t).filterTable()}))},Be.prototype.clearFilters=function(e){var t=(e,t)=>!$(t).closest(".filter-container").hasClass("filter-locked");return e.find("input.user-filter, input.global-filter, input.date, input.number").filter(t).val(""),e.find("select").filter(t).find("option:selected").prop("selected",!1).trigger("chosen:updated"),this.enableSaveBtn()},Be.prototype.bindDisable=function(){var e=this,t=e.lockEnabled.show().width()+2;e.lockEnabled.hide(),e.comboBoxDiv.find("div.lockDisabled.not-empty").css("min-width",t>270?t:"270px"),e.menu.find(".disableLock").click((function(t){$("body").trigger("filter-options-disable-and-reset",{type:"Disable All Filters",pageMode:e.isPreview?"Macro Preview":"Page View"}),(0,S.gaTFDisableFilters)(!0),e.editorMacro||e.lockEnabled.width(e.lockDisabled.width()),e.lockEnabled.height(e.lockDisabled.height()),e.lockDisabled.hide(),e.lockEnabled.show(),e.isLockEnabled=!0,e.showTableWithoutFilters(),t.preventDefault()})),e.menu.find(".enableLock").click((function(t){(0,S.gaTFDisableFilters)(!1),e.editorMacro||e.lockEnabled.width(""),e.lockDisabled.show(),e.lockEnabled.hide(),e.isLockEnabled=!1,e.filterTable(),t.preventDefault()}))},Be.prototype.bindDOMChange=function(){var e=this;if(e.editorMacro)w.bindEditorDOMChange(e);else{var t=new Oe,a=function(a,i){if(e.sorting||e.resorting||e.pauseUpdate)return!0;if(!a.hasClass("tablefilter-pagination")&&!a.parents(".tablefilter-pagination").length&&!(0,ge.default)(a)){var r=(0,ue.default)(a),l=r&&e.tables.has(a).length;if((null==i?void 0:i.id)===e.tableWrapperId||r&&!l){function n(){e.getTable(),e.addNumbering()}function o(){e.sortTables(),e.setFiltrationPanel(),e.tableUpdated=!0,e.filterTable(),(e.fixedRows||e.fixedCols)&&e.makeTablesScrollable()}if(a.hasClass("tfac-tj")){if(t.resetTimer(),a.closest('.tj-source:not(.table-excerpt)[data-tj-not-ready="false"]').length)return!0;n(),o()}else t.setTimer(3,(()=>{n(),setTimeout(o,1e3)}),50);return!0}(0,he.default)(a)?t.setTimer(2,(()=>{e.getTable(),e.addNumbering(),e.setFiltrationPanel(),e.sortTables(),e.tableUpdated=!0,e.filterTable(),(e.fixedRows||e.fixedCols)&&e.updateFixedCells()}),10):(l||(0,be.default)(a,i)||(0,me.default)(a))&&t.setTimer(1,(()=>{e.updateRawTables(),e.setFiltrationPanel(),e.tableUpdated=!0,e.filterTable()}),10)}};e.observerCallback=function(e){(0,ve.default)(e,a)},e.observer=new MutationObserver(e.observerCallback),e.observerParams={childList:!0,subtree:!0},e.tableWrapper.each((function(){e.observer.observe(this,e.observerParams)})),e.tableWrapper.bind("DOMCharacterDataModified changed.chk",(function(a){(0,Le.default)(a)||(clearTimeout(t),setTimeout((function(){e.updateRawTables(!0),e.setFiltrationPanel()}),50),function(e){throw new TypeError('"'+e+'" is read-only')}("insertTimer"))})),r.default.bindTaskList(e.tableWrapper,(()=>{e.updateRawTables(),e.setFiltrationPanel(),e.appendTotalRow()})),e.tabs&&r.default.onTabChange(e.tableWrapper,(function(){e.getTable(),e.addNumbering(),e.setFiltrationPanel(),e.sortTables(),e.tableUpdated=!0,e.filterTable(),(e.fixedRows||e.fixedCols)&&e.updateFixedCells()})),e.tableWrapper.bind("tf-save",(function(){return e.outerWrapper.trigger("tf-save"),!1}))}},Be.prototype.setMutationObserver=function(e){var t=this;if(t.observer)if(t.sorting||t.resorting||t.pauseUpdate)e||(t.prevRowsLength=0,t.rows.forEach((function(e){t.prevRowsLength+=e.length}))),t.observerCallback(t.observer.takeRecords()),t.observer.disconnect();else{if(!e){if(t.observerRestoring)return;t.observerRestoring=!0,t.getTable(!0);var a=0;t.rows.forEach((function(e){a+=e.length})),null!=t.prevRowsLength&&a!=t.prevRowsLength&&(t.prevRowsLength=a,t.tableUpdated=!0,t.setFiltrationPanel(),t.filterTable()),t.observerRestoring=!1}t.tableWrapper.each((function(){t.observer.observe(this,t.observerParams)}))}},Be.prototype.processInnerFiltration=function(e,t){var a=this,i=!1;if(e&&e.tf){e.tf.blockEvent=!0,e.tf.filterTable(),e.tf.pauseUpdate=!0,e.tf.setMutationObserver(!0);var r=0;a.numbering&&!e.tf.numbering?r=1:!a.numbering&&e.tf.numbering&&(r=-1),e.tf.tables.each((function(t){var a=e.tf.tables.eq(t);if(e.tf.rows[t].each((function(a){var l=$(this);if(a>e.tf.headerSize[t]&&(e.tf.cbState[t][a-1]||(l.remove(),i=!0)),e.tf.tdNumbers[t].length){var n=$(l[0].children);$.each(e.tf.tdNumbers[t],(function(e,t){n.eq(t+r).remove(),i=!0}))}})),e.tf.tdNumbers[t].length){var l=a.hasClass("relative-table"),n=0,o=$(this).children("colgroup").find("col");$.each(e.tf.tdNumbers[t],(function(e,t){(t+=r)<o.length&&(o.eq(t).remove(),l&&"none"!==o[t].style.display&&(n+=parseFloat(o[t].style.width)))})),n>0&&(a.css("width",parseFloat(a[0].style.width)*(1-n/100)+"%"),o.each((function(a){a-=r,-1===e.tf.tdNumbers[t].indexOf(a)&&(this.style.width=parseFloat(this.style.width)/(1-n/100)+"%")})))}}))}return i&&(e.tf.tables.find(".fake").each((function(){var e=$(this);"none"!==e.css("display")&&e.removeClass("fake")})),(0,ye.default)(e.tf.tables,!0)),t&&e&&e.tf&&a.filterTable(),e&&e.tf&&(e.tf.pauseUpdate=!1,e.tf.setMutationObserver(!0),e.tf.blockEvent=!1),i},Be.prototype.bindInnerFiltration=function(){var e=this,t=[];e.tableWrapper.find(".pivot-content, .tablefilter-table-wrapper").each((function(){var a=$(this);a.parents("table, .tablefilter-table-wrapper, .pivot-content, .table-joiner").eq(0).is(e.tableWrapper)&&t.push(a.attr("id"))})),t.length&&(e.tableWrapper.bind("tf-filtered pt-calculated",(function(a,i){if(-1!==t.indexOf(i.id)){"tf-filtered"!==a.type&&(e.tableUpdated=!0);var r=e.processInnerFiltration(i,!0);return e.getTable(!0),r&&e.setFiltrationPanel(),i.tf||(e.addNumbering(),(e.fixedRows||e.fixedCols)&&e.makeTablesScrollable(),e.setFiltrationPanel()),e.filterTable(),!1}})),e.tableWrapper.bind("pivot-collapse-change",(function(a,i){if(-1!==t.indexOf(i.id))return e.showOrHideTables({fromPivot:!0}),!1})),e.tableWrapper.bind("pivot-collapse-change pivot-collapsed",(function(){e.addNumbering(),e.appendTotalRow(),e.appendTotalCol()}))),e.tableWrapper.bind("tf-export-ready",(function(t,a){return e.macroId===a.macroId})),e.processInnerFiltration(e.tableWrapper.data("inner-filter"),!1)&&e.getTable(!0)},Be.prototype.bindHideBtn=function(){var e=this,t=parseInt(e.outerWrapper.css("margin-top"));e.comboBoxDiv.find(".tf-hider").click((function(){var a=e.tables.eq(0),i=e.comboBoxDiv.outerHeight(!0);e.comboBoxDiv.css({position:"absolute",top:e.comboBoxDiv.position().top-i});var r=a.outerWidth()-2,l={"margin-top":2*t+i+"px"};e.outerWrapper.css(l),e.comboBoxDiv.animate({top:a.position().top,opacity:0,width:r,height:14},{complete:function(){e.comboBoxDiv.hide().css({width:"",height:"",position:""}),l={"margin-top":t+"px"},e.outerWrapper.animate(l,{complete:function(){e.outerWrapper.css("width","")}}),e.showBtn.show().width(r)},duration:300}),(0,Ne.setCookie)(e.hideParamName,!0)})),e.showBtn.click((function(){var a=e.tables.eq(0);e.showBtn.hide(),e.comboBoxDiv.show();var i=e.comboBoxDiv.width(),r=e.comboBoxDiv.height(),l=e.comboBoxDiv.outerHeight(!0);e.comboBoxDiv.css({position:"absolute",opacity:0}),e.comboBoxDiv.css({width:a.width()-2,height:14});var n={"margin-top":2*t+l+"px"};e.outerWrapper.animate(n,{complete:function(){e.comboBoxDiv.css({top:0}).animate({top:-l,opacity:1,width:i,height:r},{complete:function(){e.comboBoxDiv.css({position:"",width:"",height:""}),e.outerWrapper.css({"margin-top":t+"px",width:""})},duration:300})}}),(0,Ne.setCookie)(e.hideParamName,!1)}))},Be.prototype.bindTableEvents=function(){var e=this;if(e.editorMacro)w.bindEditorTableResize(e);else if(e.params.hidePane===u.HIDE_PANE.HEADER)e.initInlineFilterButton();else{var t=e.tables.eq(0),a=t.data("iframe"),i=e.fixedRows>0?t.parent():t.eq(0);i.unbind("mouseover.tf"+e.macroId).bind("mouseover.tf"+e.macroId,(function(){var t=i.offset(),r=(null==a?void 0:a.offset())||{top:0,left:0};e.showBtn.parent().offset({top:t.top+r.top-14,left:t.left+r.left+i.parent().scrollLeft()}),e.showBtn.css("visibility","visible"),e.showBtn.width(i.outerWidth()-2),e.showBtn.css("max-width",e.outerWrapper.width()-2+"px")})).unbind("mouseout.tf"+e.macroId).bind("mouseout.tf"+e.macroId,(function(){e.showBtn.css("visibility","")}))}e.tables.unbind("sortStart.tfs"+e.macroId).bind("sortStart.tfs"+e.macroId,(function(){e.sorting=!0,e.setMutationObserver()})).unbind("sortEnd.tfs"+e.macroId).bind("sortEnd.tfs"+e.macroId,(function(){if(e.sorting=!1,e.getTable(!0),e.resetSortBtn.removeClass("tf-disabled-link"),e.restoreNumbering?(e.restoreNumbering=!1,e.addNumbering(),e.filterTable()):e.filtered?e.filterContainer(e.getFilterContainers()):e.params.showNRows>0&&!e.isLockEnabled&&e.showOrHideTables(),e.totalRows){var t=e.totalRows[e.tables.index(this)];t&&$(this).append(t)}e.fixedRows>1&&e.updateFixedCells(),e.setMutationObserver(),c.default.create(e)}))},Be.prototype.bindAddFilter=function(){var e=this,t=AJS.InlineDialog(e.comboBoxDiv.find(".lockDisabled .filter-settings"),"tf-add-filter-"+e.macroId,(function(t,a,i){t.css({"min-height":"166px"});var r=e.getFilters(),l=(0,V.getAvailableFilters)(r,e.columns);t.html(d.default.addFilterDialog({filters:l,globalfilter:!r.globalfilter,columnhider:!r.columnhider,dateFormat:e.dateFormat})),i()}),{offsetX:-20,width:270,noBind:!0,gravity:"n",initCallback:function(){var t=this,a=t.popup.find(".filter-type"),i=t.popup.find(".date-format-param"),l=i.find(".date-format-input"),n=t.popup.find(".tf-add-filter-column select");n.filter(":not(:first)").parent().hide(),a.change((function(){var e=a.val(),r=n.filter((function(){return"none"!==this.parentNode.style.display})).val();t.popup.find("div.tf-add-filter-column").hide(),t.popup.find("div."+e).show().find("option").filter((function(){return this.textContent==r})).attr("selected","selected"),"datefilter"===e?i.fadeIn():i.fadeOut(),a.attr("title",a.find("option:selected").attr("title"))})),a.trigger("change");var o=new Set;e.comboBoxDiv.find("span.tf-label-name").each((function(){o.add(this.innerText)})),n.change((function(){if(!o.has(this.value)){var t=e.dateFormat,i=e.detectFilterType(this.value);if(i){"datefilter"===i&&(l.val(e.dateFormat),e.dateFormat=t);var r=a.find("option[value=".concat(i,"]"));r.length&&(r.attr("selected","selected"),a.change())}}})),n.first().find("option").each((function(){if(!o.has(this.value))return $(this).attr("selected","selected").parent().trigger("change"),!1})),t.popup.find(".tf-button-cancel").click((function(){return t.hide(),je(),!1})),t.popup.find(".tf-button-save").click((function(){$(this).prop("disabled",!0);var i=a.val();i===N.default.DATE&&e.changeSettings(l.val().trim());var r=(0,J.getDefaultFilterLabel)(i,(()=>t.popup.find("select."+i).val()));return e.addFilter(i,r),t.hide(),$("body").trigger("filter-added-deleted",{action:"Filter Added from Panel",type:i,pageMode:e.isPreview?"Macro Preview":e.editorMacro?"Editor":"Page View"}),(0,E.gaPanelFilterAdded)(i,"normal"),je(),!1})),r.default.dateFormatAutocomplete(l,t.popup),e.editorMacro&&w.bindEditorPopup(t)},hideCallback:function(){je()}}),a=(e.params.hidePane!==u.HIDE_PANE.HEADER?e.comboBoxDiv:e.outerWrapper).find("#filter-settings-".concat(e.macroId,"-").concat(e.sessionId));e.menu.find(".filter-add").bind("click",(function(i){return"undefined"!=typeof AP&&i.clientY+190>$("body").height()-10&&i.clientY-240<0&&AP.resize("100%",i.clientY+190),t.show(),"false"!=e.menu.attr("aria-hidden")&&void 0===e.menu.attr("open")||a.trigger("aui-button-invoke"),!1})),e.comboBoxDiv.find(".tf-add-start").click((function(t){return e.isCloud?(a.trigger("mousedown",[t]),a.trigger("click")):a.trigger("aui-button-invoke"),e.menu.find(".filter-add").blinkFromClass("active aui-dropdown2-active"),!1}))},Be.prototype.addFilter=function(e,t){var a=(0,P.createDefaultFilterConfig)(e,t),i=$(d.default.renderFilter({filterConfig:a}));return this.comboBoxDiv.find(".sortable-container").append(i),e!==N.default.ICON||this.rawIconTables||this.updateRawIconTables(),e===N.default.SELECT||e===N.default.HIDER||e===N.default.ICON?this.createSelects(i):e===N.default.DATE&&this.createDatePickers(i),e===N.default.SELECT&&i.find("select").data("ddSeparator",this.defaultDDSeparator),this.setFiltrationPanel().makeResizable(i).enableSaveBtn(),i},Be.prototype.bindChangeSettings=function(){var e=this,t=AJS.InlineDialog(e.outerWrapper.find(".lockDisabled .filter-settings, .filter-logo.floating"),"tf-change-settings-"+e.macroId,(function(t,a,i){t.css({"min-height":"120px"}),t.html(d.default.changeSettingsDialog({datepattern:e.dateFormat})),i()}),{offsetX:-20,width:270,noBind:!0,gravity:"n",arrowOffsetX:e.params.hidePane!==u.HIDE_PANE.HEADER?0:-12,initCallback:function(){var t=this,a=t.popup.find("#tf-cs-dialog-datepattern");r.default.dateFormatAutocomplete(a,t.popup),t.popup.find("#tf-cs-cancel").click((function(){return t.hide(),je(),!1})),t.popup.find("#tf-cs-save").click((function(){return e.changeSettings(a.val()),t.hide(),je(),!1})),e.editorMacro&&w.bindEditorPopup(t)},hideCallback:function(){je()}});e.menu.find(".tf-change-settings").bind("click",(function(a){return t.show(),"false"!=e.menu.attr("aria-hidden")&&void 0===e.menu.attr("open")||e.outerWrapper.find("#filter-settings-".concat(e.macroId,"-").concat(e.sessionId)).trigger("aui-button-invoke"),!1}))},Be.prototype.changeSettings=function(e){var t=this;t.dateFormat!=e&&(t.enableSaveBtn(),t.dateFormat=e,t.updateDateFilters(),t.filterTable())},Be.prototype.updateDateFilters=function(){var e=this;e.comboBoxDiv.find("input.date").each((function(){var t=$(this),{dateFormat:a,locale:i}=e.getDateFormat(t),r=t.attr("dateformat");if(a!=r){var l=t.val(),n=null;try{n=(0,xe.default)(l,r,i)}catch(e){}var o=$(t[0].outerHTML);t.replaceWith(o),o.attr("value",null!=n?(0,Q.formatDate)(n,a,i):l),$(".aui-datepicker-dialog").remove(),e.initDatePicker(o,a,i)}}))},Be.prototype.initDatePicker=function(e,t,a){var i=this;if(e.attr("dateformat",t),e.attr("locale",a),e.attr("placeholder",t),!t.match(/[iw]/)){var r;i.datePickerOptions.dateFormat=(0,Te.default)(t),i.datePickerOptions.languageCode=a;var n=e.datePicker(i.datePickerOptions);null===(r=l.default.fixDatePicker)||void 0===r||r.call(l.default,n)}t.toLowerCase().indexOf("hh:mm")>=0?(e.width(120),e.bind("focus click keyup input paste",(function(){setTimeout((function(){n.setDate((0,Ce.default)(e.val(),t).dateString)}),1)}))):e.width(93)},Be.prototype.getDateFormat=function(e){var t=this,a=e.attr("name"),i=t.dateFormat,r=t.locale;return t.getDateMacroFormatIfPresent(a)||{dateFormat:i,locale:r}},Be.prototype.getDateMacroFormatIfPresent=function(e){for(var t=this,a=0;a<t.rows.length;a++){var i=(0,Ae.default)(t.rawTables[a],e);if(null!=i){var l=t.rows[a];if(0===l.parents("#issuetable, .spreadsheets-sheet").length)for(var n=1;n<l.length;n++){var o=l[n].children;if(o.length>i){var s=(0,le.findDateMacros)(o[i]);if(s.length){if(s.is('[data-macro-name="page-info"]'))break;var d=[t.localeDateFormat,t.dateFormat];return t.isCloud&&"es_ES"===t.locale?-1===d.indexOf("dd M yy")&&d.push("dd M yy"):-1===d.indexOf("dd.mm.yy")&&d.unshift("dd.mm.yy"),r.default.getDateMacroDateFormat(s,t.locale,d)}}}}}},Be.prototype.bindSave=function(){var e=this;e.saveBtn.click((function(t){var a=e.saveBtn;if(!a.hasClass("tf-disabled-link")){$("body").trigger("filter-options-save"),e.params.liveMode&&((0,E.gaQuickTFMacroTFAdded)(e.tables.length),e.params.liveMode=!1);var i=e.getFilters(),r={pageId:e.pageId,id:e.macroId,defaults:i.defaults.join(","),width:i.width.join(","),inverse:i.inverse.join(","),order:i.order.join(","),labels:i.labels.join(u.ALTERNATE_COMMA),ddSeparator:e.defaultDDSeparator?e.defaultDDSeparator:i.ddSeparator.join(u.ALTERNATE_COMMA),ddOperator:i.ddOperator.join(","),datepattern:e.dateFormat,hidePane:e.params.hidePane,hideFilters:i.hideFilters.join(",")};r.ddSeparator=r.ddSeparator.replace(/ /g,"\\u0020"),i.selectfilters.length&&(r.column=(0,_.default)(i.selectfilters)),i.userfilters.length&&(r.userfilter=(0,_.default)(i.userfilters)),i.numberfilters.length&&(r.numberfilter=(0,_.default)(i.numberfilters)),i.datefilters.length&&(r.datefilter=(0,_.default)(i.datefilters)),i.iconfilters.length&&(r.iconfilter=(0,_.default)(i.iconfilters)),i.globalfilter&&(r.globalfilter="true"),i.columnhider&&(r.columnhider="true");var n=function(){a.addClass("tf-disabled-link"),e.outerWrapper.add(a).find(".tfac-unsaved").hide(),e.filterIcon.removeClass("unsaved"),e.removeBtn.css("display","")};e.editorMacro?(w.storeEditorMacroParams(e,r),n()):(l.default.saveMacroParams(r,e.outerWrapper),n(),e.tableWrapper.trigger("tf-save")),t.preventDefault()}}))},Be.prototype.bindRemove=function(){var e=this;e.removeBtn.click((function(t){t.preventDefault(),r.default.createDialogRemoveMacro(e,"Table Filter","Table Filter")}))},Be.prototype.bindRate=function(){(0,F.gaMenuAppendRateEvent)("TF",this.menu)},Be.prototype.bindExport=function(){var e=this,t=new re.ThemeHandler;void 0===i.saveAs?(e.menu.find(".export-file-pdf").hide(),e.menu.find(".export-file-doc").hide(),e.menu.find(".export-file-csv").hide(),e.menu.find(".export-file-print").hide()):(e.menu.find(".export-file-pdf").bind("click",(function(a){l.default.loadScriptsBeforeExport((function(){t.withThemeSupport((()=>(0,C.default)(e.tableWrapper)))})),a.preventDefault()})),e.menu.find(".export-file-doc").bind("click",(function(a){t.withThemeSupport((()=>r.default.exportToDoc(e.tableWrapper))),a.preventDefault()})),e.menu.find(".export-file-print").bind("click",(function(a){t.withThemeSupport((()=>r.default.browserPrint(e.tableWrapper))),a.preventDefault()})),e.menu.find(".export-file-csv").click((function(t){r.default.createDialog(e.tables,e.rows[0],e.macroId),t.preventDefault()})))},Be.prototype.bindSortReset=function(){var e=this;e.resetSortBtn.bind("click",(function(t){(0,S.gaResetColumnSorting)(),t.preventDefault(),e.resetSortBtn.hasClass("tf-disabled-link")||(e.sorts.length?e.sortTables():e.tables.trigger("sorton",[[]]),e.resetSortBtn.addClass("tf-disabled-link"))}))},Be.prototype.updateFilters=function(e){var{dateFormat:t,comboBoxDiv:a}=this;e.datepattern=t;var{filterConfigs:i}=(0,D.default)(k(e));this.filterConfigs=i,this.comboBoxDiv.find(".sortable-container").empty().append(d.default.renderFilters({filterConfigs:i})),this.createSelects(a),this.createDatePickers(a);var r=e=>i.map((t=>{var{[e]:a}=t;return a}));this.ddSeparator=r("ddSeparator"),this.ddOperator=r("ddOperator"),this.setSelects(),this.setFiltrationPanel(),this.makeResizable(a),this.filterTable(),(0,S.gaTFApplyFilterURL)()},Be.prototype.bindMakeInverse=function(){var e=this;e.comboBoxDiv.delegate(".eq","click",(function(){var t=$(this).parents(".filter-container:eq(0)");t.addClass("inverse");var a=t.find("input, select").addClass("inverse");e.gaFilterUpdated(a),$("body").trigger("filter-inverse-direct",{type:Ge(t),pageMode:e.isPreview?"Macro Preview":"Page View",filterMode:"Inverse"}),e.enableSaveBtn(),e.filterTable(a)})),e.comboBoxDiv.delegate(".not-eq","click",(function(){var t=$(this).parents(".filter-container:eq(0)");t.removeClass("inverse");var a=t.find("input, select").removeClass("inverse");e.gaFilterUpdated(a),$("body").trigger("filter-inverse-direct",{type:Ge(t),pageMode:$("body").find("div#macro-browser-preview").length?"Macro Preview":"Page View",filterMode:"Normal"}),e.enableSaveBtn(),e.filterTable(a)}))},Be.prototype.hasRawTables=function(){return this.rawTables.length>0},Be.prototype.setFiltrationPanel=function(){var e=this,t=e.columns.map((e=>e.toLocaleLowerCase())),a=e.comboBoxDiv.find("select.select, input.user-filter, div.range, select.icon-select"),i=a.add(e.comboBoxDiv.find("select.column-select, input.global-filter")),l=[];a.each((function(){var a=$(this),i=a.closest(".filter-container"),n=a.attr("name"),o=[n];r.default.updateI18nSettings([e.columns],[o],e.locale,e.tableWrapper);var s=a.attr("class")+o[0];if(-1===$.inArray((0,fe.clearStringLowerCase)(o[0]),t)||-1!==l.indexOf(s))i[0].style.display="none";else if(l.push(s),i[0].style.display="block",n!==o[0]){a.attr("name",o[0]),a.find("input").attr("name",o[0]);var d=a.parents(".filter-container").find(".tf-label-name");d.text().trim()===n&&d.text(o[0])}})),e.setSelectOptions();var n=e.comboBoxDiv.find("select.column-select");n.find("option:not(:selected)").remove();var o=[];n.find("option").each((function(){var t;if($(this).hasClass("tf-empty-option"))t="";else{var a=[t=(0,pe.clearString)(this.textContent)];r.default.updateI18nSettings([e.columns],[a],e.locale,e.tableWrapper),a[0]!==t&&(t=a[0],this.textContent=t)}o.push(t)})),$.each(e.columns,(function(e,t){if(-1===$.inArray(t,o)){var a="",i=t;""==t&&(a=' class="tf-empty-option"',i="-Empty-"),n.append($("<option"+a+"></option>").text(i))}})),n.trigger("chosen:updated"),e.comboBoxDiv.find(".search-choice").filter((function(){return(0,pe.clearString)(this.textContent)==="-Empty-"})).addClass("tf-empty-option"),e.updateDateFilters();var s=i.filter(((e,t)=>"none"!==$(t).parent().css("display"))).length>0,d=e.params.showNRows>=0,c=e.outerWrapper.find(".no-table-message"),f=e.comboBoxDiv.find(".waiting-for-table");if(e.comboBoxDiv.removeClass("hidden"),0===e.rawTables.length){var{isEditor:p,isCloud:u,previewTutorial:h,params:m,comboBoxDiv:b,tableWrapper:g}=e,v=(0,A.default)({isEditor:p,isCloud:u,hasLoadingContent:(0,U.hasLoadingContent)(g),tableContainer:g,params:m});(0,I.default)({messageState:v,previewTutorial:h,noTableMessage:c,waitingMessage:f,customNoTableMsgText:m.customNoTableMsgText,wrapper:b}),v!==A.MessageState.Tutorial&&(e.comboBoxDiv.find(".empty-message").hide(),e.lockDisabled.hide(),e.lockEnabled.hide(),e.outerWrapper.addClass("no-table"),e.comboBoxDiv.find(".tf-hider-wrapper").hide(),v===A.MessageState.Empty&&e.comboBoxDiv.addClass("hidden"))}else if(e.previewTutorial.hide(),e.comboBoxDiv.find(".tf-hider-wrapper").show(),e.outerWrapper.removeClass("no-table"),c.hide(),f.hide(),e.isLockEnabled=e.isLockEnabled&&(s||d),e.isLockEnabled?(e.lockDisabled.hide(),e.lockEnabled.show()):(e.lockDisabled.show(),e.lockEnabled.hide()),s||d||!(e.numbering||e.fixedRows||e.sorts.length||e.sparkline||e.fixedCols||e.totalRow.join("")||e.totalCol)?e.editorMacro||!0!==(0,Ne.getCookie)(e.hideParamName)?(e.comboBoxDiv.show(),e.showBtn.hide()):(e.comboBoxDiv.hide(),e.showBtn.show()):e.editorMacro||(e.comboBoxDiv.hide(),e.showBtn.show()),!s&&d?(e.menu.find(".disableLock").show(),e.comboBoxDiv.find(".show-n-rows-only-message").show()):e.comboBoxDiv.find(".show-n-rows-only-message").hide(),s||d){e.comboBoxDiv.find(".filter-buttons-container").show(),e.comboBoxDiv.find(".empty-message").hide(),e.lockDisabled.addClass("not-empty").removeClass("empty");var w=e.outerWrapper.css("display");e.outerWrapper.show();var y=e.comboBoxDiv.css("display");if(e.comboBoxDiv.show(),!e.editorMacro){e.lockEnabled.css("width","").css("display","inline-flex");var T=Math.max(302,Math.ceil(e.lockEnabled.show().width())+1);e.lockDisabled.css("min-width",T+"px")}e.lockDisabled.show(),e.editorMacro||e.lockEnabled.width(Math.max(334,Math.ceil(e.lockDisabled.width()))),e.lockEnabled.height(Math.max(40,e.lockDisabled.height())),e.comboBoxDiv.css("display",y),e.outerWrapper.css("display",w),e.lockEnabled.css("display","block"),e.isLockEnabled?e.lockDisabled.hide():e.lockEnabled.hide()}else e.lockDisabled.addClass("empty").removeClass("not-empty").css("min-width",""),e.comboBoxDiv.find(".filter-buttons-container").show(),e.comboBoxDiv.find(".empty-message").show();return e.outerWrapper.css("visibility","visible"),this},Be.prototype.setSelects=function(){var e=this;e.comboBoxDiv.find("select.select, select.icon-select").each((function(t){var a=e.ddOperator.length>t?e.ddOperator[t]:"OR";$(this).data("ddOperator",a)})),e.comboBoxDiv.find("select.select").each((function(t){var a=e.ddSeparator.length>t?e.ddSeparator[t]:e.defaultDDSeparator;$(this).data("ddSeparator",a)}))},Be.prototype.getSelectOptions=function(){var e=this,t=e.comboBoxDiv.find("select.select, select.icon-select").filter((function(){return"none"!=this.parentNode.style.display}));if(t.find("option:not(:selected)").remove(),e.shouldUpdateSelectOptions)var a=e.getFilterContainers().not(".columnhider-element");return t.map((function(){var t=$(this),i=t.attr("name").toLocaleLowerCase(),r=t.data("html"),{values:l,options:n}=(0,y.getSelectedDropdownOptions)({select:t,isIcon:r}),o=r?"":t.data("ddSeparator");return{values:l=(0,y.getUpdatedDropdownOptions)({tables:e.tables,rows:e.rows,rawTables:e.rawTables,rawIconTables:e.rawIconTables,isIcon:r,isAND:e.isAND,shouldUpdateSelectOptions:e.shouldUpdateSelectOptions,selectParent:t.parent(),columnTitle:i,lookForCheckboxes:!0,ddSeparator:o,filterContainers:a,options:[...n],values:[...l]}),select:t}})).get()},Be.prototype.setSelectOptions=function(){this.getSelectOptions().forEach((e=>{var{select:t,values:a}=e,i="";$.each(a,(function(e,t){var a="",r=t;""==t&&(a=' class="tf-empty-option"',r="-Empty-"),i+=$("<option"+a+"></option>").text(r)[0].outerHTML})),t.append(i),t.trigger("chosen:updated")}))},Be.prototype.makeSortable=function(){(this.params.editorMacro||-1===[u.HIDE_PANE.HEADER,u.HIDE_PANE.HIDDEN].indexOf(this.params.hidePane))&&this.comboBoxDiv.find(".sortable-container").sortable({cancel:"input,textarea,button,select,option,.chosen-drop",scroll:!1,items:".sortable",start:(e,t)=>{t.item.width(Math.ceil(t.item.width())+1)},sort:(e,t)=>{this.highlightRemoveFilter(t.offset,t.helper)},beforeStop:(e,t)=>{this.enableSaveBtn(),this.removeFilter(t.offset,t.item)},update:(e,t)=>{(0,S.gaPanelFilterReordered)(Ge(t.item))}})},Be.prototype.makeResizable=function(e){if($("body.content-preview").length>0)return this;var t=e.find(".chosen-container, div.tf-resizeable");return 0===t.length||t.resizable({handles:"e",resize:(e,t)=>{t.element.hasClass("chosen-container")?t.element.parent().find("select").attr("data-width",t.size.width):t.element.find("input").attr("data-width",t.size.width),this.enableSaveBtn()}}),this},Be.prototype.makeTablesScrollable=function(){var e=this;(0,U.hasLoadingContent)(e.tableWrapper)||(e.pauseUpdate=!0,e.setMutationObserver(!0),e.tables.find(".tf-fixed-column-border").remove(),e.tables.parents(".table-wrap, .table-wrap-aui").unbind("scroll.fh scroll-tf"),e.tables.find("td.tf-floating,th.tf-floating").removeClass("tf-floating").removeClass("tf-float-head").css({top:"",left:""}),e.tableWrapper.find(e.editorMacro?".table-wrap.tf-fixed":".table-wrap.editor, .table-wrap-aui").each((function(){var e=$(this);e.before(e.children("table, .table-wrap")),e.remove()})),e.tableWrapper.removeClass("fixed"),e.editorMacro&&w.fixEditorResizeSensor(e),e.fixColumns(),e.pauseUpdate=!1,e.setMutationObserver(!0))},Be.prototype.fixColumns=function(){var e=this;(e.fixedCols>0||e.fixedRows>0)&&(e.tables.each((function(t){var a=$(this);e.editorMacro?w.wrapEditorTable(a):e.fixedRows>0&&a.hasClass("aui")?a.wrap('<div class="table-wrap-aui"></div>'):0==a.parents(".table-wrap").length&&a.wrap('<div class="table-wrap"></div>');var i=a.parents(".table-wrap, .table-wrap-aui").eq(0);if(i.addClass("tf-fixed"),a.find(".tableFloatingHeader").remove(),e.fixedRows>0){var r=e.rows[t].length>e.fixedRows?2*(e.rows[t].eq(e.fixedRows).offset().top-a.offset().top):a.height(),l=e.heightValue?e.heightValue:Math.floor(.7*window.innerHeight)||600;i.css("max-height",Math.max(r,l)+"px"),i.addClass("tf-fixed-rows")}e.editorMacro&&w.setupFreezeColumns(e,a,t,i),a.tableHeadFixer({left:e.fixedCols,head:parseInt(e.fixedRows)+a.find("tr.tf-header-hidden").length,parent:i})})),e.tableWrapper.addClass("fixed"))},Be.prototype.updateFixedCells=function(){var e=this;(e.fixedCols>0||e.fixedRows>0)&&(e.pauseUpdate=!0,e.setMutationObserver(!0),e.tables.parents(".table-wrap, .table-wrap-aui").unbind("scroll.tf scroll-tf"),e.tables.find("td.tf-floating,th.tf-floating").removeClass("tf-floating").css({top:"",left:""}),e.tables.each((function(){var t=$(this),a=t.parents(".table-wrap, .table-wrap-aui").eq(0);t.tableHeadFixer({left:e.fixedCols,head:parseInt(e.fixedRows)+t.find("tr.tf-header-hidden").length,parent:a})})),e.pauseUpdate=!1,e.setMutationObserver(!0))},Be.prototype.enableSaveBtn=function(){return this.saveBtn.removeClass("tf-disabled-link"),this.outerWrapper.add(this.saveBtn).find(".tfac-unsaved").show(),this.filterIcon.addClass("unsaved"),this},Be.prototype.shouldRemoveFilter=function(e){var t=this,a=t.comboBoxDiv.offset(),i=a.left+t.comboBoxDiv.width()+10,r=a.left-10,l=a.top+t.comboBoxDiv.height()-10,n=a.top-20;return e.top<n||e.top>l||e.left>i||e.left<r},Be.prototype.removeFilter=function(e,t){var a=this;if(a.outerWrapper.click(),a.shouldRemoveFilter(e)){t.remove();var i=Ge(t);(0,S.gaPanelFilterDeleted)(i),$("body").trigger("filter-added-deleted",{action:"Filter Deleted",type:i,pageMode:a.isPreview?"Macro Preview":"Page View"}),setTimeout((function(){a.filterTable(),a.setFiltrationPanel()}),500)}else t.removeClass("filter-removing")},Be.prototype.highlightRemoveFilter=function(e,t){t.toggleClass("filter-removing",this.shouldRemoveFilter(e))},Be.prototype.getFilters=function(){var{comboBoxDiv:e}=this,t={selectfilters:[],userfilters:[],numberfilters:[],datefilters:[],globalfilter:e.find("input.global-filter"),columnhider:e.find("select.column-select"),iconfilters:[],defaults:[],width:[],inverse:[],order:[],ddSeparator:[],ddOperator:[]},a=e.find(".sortable-container .filter-container"),i=e=>e.attr("name").replace(/\,/g,u.ALTERNATE_COMMA),r=e=>e.closest(".filter-container").find(".tf-label-name").text(),l=e=>e.attr("data-width").replace("px",""),n=e=>a.index(e.parents(".filter-container")),o=e=>e.hasClass("inverse"),s=e=>e.val().replace(/\,/g,u.ALTERNATE_COMMA),d=(e,t)=>a=>a.find(e).toArray().map(t),c=d("option:selected",(e=>e.textContent.replace(/\,/g,u.ALTERNATE_COMMA))),f=d("input.number",(e=>s($(e)))),p=d("input.date",(e=>{var t=$(e);return(0,B.default)(t.val(),t.attr("dateformat"),t.attr("locale"))})),h=e=>e.closest(".filter-container").hasClass("filter-locked"),m=[],b=[];if(e.find("select.select").each((function(){var e=$(this);t.selectfilters.push(i(e)),b.push(r(e)),t.width.push(l(e)),t.defaults.push(c(e).join("&&")),t.inverse.push(o(e));var a=n(e);t.order.push(a),h(e)&&m.push(a),t.ddSeparator.push(e.data("ddSeparator")),t.ddOperator.push(e.data("ddOperator"))})),e.find("input.user-filter").each((function(){var e=$(this);t.userfilters.push(i(e)),b.push(r(e)),t.width.push(l(e)),t.defaults.push(s(e)),t.inverse.push(o(e));var a=n(e);t.order.push(a),h(e)&&m.push(a)})),e.find(".range.numbers").each((function(){var e=$(this);t.numberfilters.push(i(e)),b.push(r(e)),t.defaults.push(f(e).join("->")),t.inverse.push(o(e.parent()));var a=n(e);t.order.push(a),h(e)&&m.push(a)})),e.find(".range.dates").each((function(){var e=$(this);t.datefilters.push(i(e)),b.push(r(e)),t.defaults.push(p(e).join("->")),t.inverse.push(o(e.parent()));var a=n(e);t.order.push(a),h(e)&&m.push(a)})),t.globalfilter.length){b.push(r(t.globalfilter)),t.defaults.push(s(t.globalfilter)),t.width.push(l(t.globalfilter)),t.inverse.push(o(t.globalfilter));var g=n(t.globalfilter);t.order.push(g),h(t.globalfilter)&&m.push(g),t.globalfilter=!0}else t.globalfilter=!1;if(t.columnhider.length){b.push(r(t.columnhider)),t.defaults.push(c(t.columnhider).join("&&")),t.width.push(l(t.columnhider)),t.inverse.push(o(t.columnhider));var v=n(t.columnhider);t.order.push(v),h(t.columnhider)&&m.push(v),t.columnhider=!0}else t.columnhider=!1;return e.find("select.icon-select").each((function(){var e=$(this);t.iconfilters.push(i(e)),b.push(r(e)),t.width.push(l(e)),t.defaults.push(c(e).join("&&")),t.inverse.push(o(e)),t.ddOperator.push(e.data("ddOperator"));var a=n(e);t.order.push(a),h(e)&&m.push(a)})),(0,M.default)(t.defaults),t.hideFilters=m,t.labels=b,t},Be.prototype.getTable=function(e){var t=this,a=t.tabs&&r.default.hasTabs(t.tableWrapper);t.tables=(0,ee.extractTables)(t.tableWrapper,t.editorMacro?"table.confluenceTable":"table").filter((function(){var e=$(this);if(a&&r.default.hasInactiveTab(e))return!1;var i=e.parents("table:not(.wysiwyg-macro), .tablefilter-table-wrapper");return i.eq(0).is(t.tableWrapper)||i.eq(0).is(".tablefilter-table-wrapper")&&i.eq(1).is(t.tableWrapper)})),t.tables.addClass("tf-macro"),e||t.normalizeTable(),t.rows=[],t.headerSize=[],t.tables.each((function(){var e=$((0,te.getRows)({table:this}).allRows);t.rows.push(e),t.headerSize.push(r.default.getMaxRowspan($(e[0])))})),t.updateRawTables(),r.default.setPaginationMsg(t.tableWrapper),!e&&t.tables.length&&t.bindTableEvents()},Be.prototype.updateRawTables=function(e){return this.rawTables=r.default.getTablesRowsValues(this.rows,this.editorMacro?r.default.editorType:r.default.textType),e||(this.rawIconTables=null,(this.comboBoxDiv.find("select.icon-select").length||-1!==this.totalRow.indexOf("Count not empty"))&&this.updateRawIconTables()),this.columns=r.default.getColumns(this.rawTables),this},Be.prototype.updateRawIconTables=function(){this.rawIconTables=r.default.getTablesRowsValues(this.rows,r.default.visualType)},Be.prototype.filterTable=function(e){var t=this;if(!(0,U.hasLoadingContent)(t.tableWrapper)){if(t.isLockEnabled)return t.appendTotalRow(),t.appendTotalCol(),t.appendSparklines(),t.setTablesReady(),t.prepareExport(),void c.default.create(this,this.editorMacro);var a=t.getFilterContainers();e?t.filterContainer(e.parents(".filter-container.sortable")):t.filterContainer(a),t.showTable(t.isAND),t.filtered=!1,a.not(".columnhider-element").each((function(){var e=$(this);t.filtered=t.filtered||e.data("filtered");var a=e.data("state");if(a)for(var i=0;i<a.length;i++)for(var r=0;r<a[i].length;r++)t.isAND?t.cbState[i][r]=t.cbState[i][r]&&a[i][r]:t.cbState[i][r]=t.cbState[i][r]||a[i][r];t.correctionWithAllowRowList()})),t.filtered||t.isAND||t.showTable(!0);var i=a.filter(".columnhider-element").data("state");i&&i.length&&(t.tdNumbers=i),t.setTablesReady(),t.showOrHideTables(),t.appendTotalRow(),(t.updateSparkline||t.tableUpdated)&&(t.rows[0]&&!t.rows[0].eq(0).find(".total-col.tf-hidden-column").length&&t.appendTotalCol(),t.appendSparklines(),t.updateSparkline=!1,t.tableUpdated=!1,t.sparkline&&t.fixedRows>0&&t.updateFixedCells()),this.trigger(this.tableWrapper,"tf-filtered-total",this.getEventData()),t.shouldUpdateSelectOptions&&t.setSelectOptions(),t.filtered||i&&i.length?(t.menu.find(".filter-reset").removeClass("tf-disabled-link"),t.menu.find(".disableLock").removeClass("tf-disabled-link")):(t.menu.find(".filter-reset").addClass("tf-disabled-link"),t.params.showNRows>=0||t.menu.find(".disableLock").addClass("tf-disabled-link")),t.prepareExport(),t.editorMacro&&w.afterEditorFiltration(t),c.default.create(t,t.editorMacro)}},Be.prototype.prepareExport=function(e){var t=this;t.sortWait=t.sortWait||!t.sorts.length||e,t.blockEvent||(0,U.hasLoadingContent)(t.tableWrapper)||!t.sortWait||(clearTimeout(t.exportTimer),t.exportTimer=setTimeout((function(){t.tableWrapper.trigger("tf-export-ready",{macroId:t.macroId})}),300))},Be.prototype.setTablesReady=function(){this.tables.attr(f.TABLE_ATTRIBUTE_READY,"true")},Be.prototype.getFilterContainers=function(){return this.comboBoxDiv.find(".filter-container.sortable").filter((function(){return"none"!==this.style.display}))},Be.prototype.filterContainer=function(e){var t=this;e.find("select, input").each((function(){var e=$(this);if(e.is(".select"))t.treatSelectFilter(e);else if(e.is(".user-filter"))t.treatUserFilter(e);else if(e.is(".number"))t.treatNumberFilter(e);else if(e.is(".date"))t.treatDateFilter(e);else if(e.is(".global-filter"))t.treatGlobalFilter(e);else if(e.is(".column-select"))t.treatColumnFilter(e);else{if(!e.is(".icon-select"))return;t.treatIconFilter(e)}t.highlightFilteredColumn(e)}))},Be.prototype.showTable=function(e){var t=this,a=t.tables.length;t.cbState=new Array(a),t.tdNumbers=new Array(a);for(var i=0;i<a;i++){t.tdNumbers[i]=[],t.cbState[i]=new Array(t.rows[i].length>0?t.rows[i].length-1:0);for(var r=0;r<t.cbState[i].length;r++)t.cbState[i][r]=e}},Be.prototype.treatSelectFilter=function(e){var t=this,a=[];e.find("option:selected").each((function(){var e=$.trim(this.textContent);e==="-Empty-"?e="":(0,Fe.default)(e)?(e=l.default.getCurrentUserFullName(),a.push(l.default.getCurrentUserName())):"@pageTitle"===e&&(e=l.default.getPageTitle()),a.push((0,fe.clearStringLowerCase)(e))}));var i=e.parent();if(0===a.length)return i.data("state",[]),void i.data("filtered",!1);var n,o=e.attr("name"),s=e.hasClass("inverse"),d=e.data("ddSeparator"),c="AND"===e.data("ddOperator");n=d?function(e,t){var a=!c,i=e.split(d).map((e=>e.trim()));return i.length>1&&(i=i.filter((e=>e))),c?t.some((function(e){return a=a||-1===i.indexOf(e)})):i.some((function(e){return!(a=-1===t.indexOf(e))})),a}:function(e,t){return-1===$.inArray(e,t)};var f=[];t.rawTables.forEach((function(e,i){var l=r.default.getCellPositions(e,o);f[i]=[],l.length&&e.forEach((function(e,r){if(r>0){var o=!0;l.forEach((function(t){var i=(0,fe.clearStringLowerCase)(e[t]);o=o&&n(i,a)})),o=t.isAND?o:!o,f[i][r-1]=s!=o?!t.isAND:t.isAND}}))})),i.data("state",f),i.data("filtered",!0)},Be.prototype.treatIconFilter=function(e){var t=this,a=[],i=[],l=!1;e.find("option:selected").each((function(){var e=$.trim(this.textContent);if(e=="-Empty-")l=!0;else{var t=$(e);if(t.length)if(t.is(se.GENERIC_TASK_CONTAINER_SELECTOR)){var r=(0,ne.containsCheckedTask)(t[0]);i.push(r?se.GENERIC_CHECKED_TASK_SELECTOR:se.GENERIC_UNCHECKED_TASK_SELECTOR)}else e=(0,ce.getImageId)(t[0]),a.push(e)}}));var n=e.parent();if(0==a.length&&0==i.length&&!l)return n.data("state",[]),void n.data("filtered",!1);var o=e.attr("name"),s=e.hasClass("inverse"),d="AND"===e.data("ddOperator");d||(i=i.join(","));var c=[];t.tables.each((function(e){var n=t.rows[e],f=r.default.getCellPositions(t.rawTables[e],o);c[e]=[],f.length&&n.each((function(n){if(n>0){var o=!0,p=this;f.forEach((function(e){var t,n,s,c=r.default.getNthTdElem(p,e);if(a.length){var f=c.find("img").map(((e,t)=>(0,ce.getImageId)(t))).get();0===f.length&&f.push(""),d?(t=!1,a.some((function(e){return t=t||-1===(0,ke.findImageIdIndex)(f,e)}))):f.some((function(e){return!(t=-1===(0,ke.findImageIdIndex)(a,e))}))}i.length&&(d?(n=!1,i.some((e=>n=n||0===c.find(e).length))):n=0===c.find(i).length),l&&(s=(0,oe.findVisualElements)(c[0]).length>0),o=o&&(!1!==t&&!1!==s&&!0===n||!0===t&&!1!==s&&!1!==n||!1!==t&&!0===s&&!1!==n)})),o=t.isAND?o:!o,c[e][n-1]=s!=o?!t.isAND:t.isAND}}))})),n.data("state",c),n.data("filtered",!0)},Be.prototype.treatInputFilter=function(e,t){var a=e.val(),i=(0,fe.clearStringLowerCase)(a);((0,Fe.default)(a)?a=(0,L.default)(l.default.getCurrentUserFullName())+"|"+l.default.getCurrentUserName():"@pageTitle"===a&&(i=(0,fe.clearStringLowerCase)(l.default.getPageTitle())),i.indexOf("&")>0)&&(a=a.split("&").map((e=>"(?=.*"+e.trim()+")")).join(""));var n,o=function(){try{return new RegExp(a,"i")}catch(e){}}();t&&(n=e.attr("name"));var s=e.parents(".filter-container.sortable");if(""===i)return s.data("state",[]),void s.data("filtered",!1);var d=e.hasClass("inverse"),c=[],f=this.isAND;this.rawTables.forEach((function(e,a){var l=r.default.getCellPositions(e,n);c[a]=[],t&&!l.length||e.forEach((function(e,r){if(r>0){var n="";t?(l.forEach((function(t){e[t]&&(n=n+" "+e[t])})),n=n.trim()):n=e.join(" ");var s=-1===(0,fe.clearStringLowerCase)(n).indexOf(i)&&(!o||null==n.match(o));s=f?s:!s,c[a][r-1]=d!==s?!f:f}}))})),s.data("state",c),s.data("filtered",!0)},Be.prototype.treatGlobalFilter=function(e){this.treatInputFilter(e,!1)},Be.prototype.treatUserFilter=function(e){this.treatInputFilter(e,!0)},Be.prototype.treatDateFilter=function(e){var t=this,a=$.trim(e.val()),i=e.attr("name"),l=e.attr("dateformat"),n=e.attr("locale"),o=e.hasClass("from"),s=e.hasClass("inverse"),d=function(){return(0,Ie.default)(a,l,n)};if(o)t.rangeFilterValues={from:d()};else{var c=e.parent().parent();if(t.rangeFilterValues.to=d(),t.rangeFilterValues.from||t.rangeFilterValues.to){var f=[];t.rawTables.forEach((function(e,a){var o=r.default.getCellPositions(e,i);f[a]=[],o.length&&e.forEach((function(e,i){if(i>0){var r=!0;o.forEach((function(a){var i=e[a]||"";try{var o=(0,xe.default)(i,l,n);o?s?t.rangeFilterValues.from?r=t.rangeFilterValues.to?r&&t.rangeFilterValues.from<=o&&t.rangeFilterValues.to>=o:r&&t.rangeFilterValues.from<=o:t.rangeFilterValues.to&&(r=r&&t.rangeFilterValues.to>=o):t.rangeFilterValues.from?r=t.rangeFilterValues.to?r&&(t.rangeFilterValues.from>o||t.rangeFilterValues.to<o):r&&t.rangeFilterValues.from>o:t.rangeFilterValues.to&&(r=r&&t.rangeFilterValues.to<o):r=r&&!s}catch(e){r=!1,AJS.log("Error while filtering date '"+i+"': "+e)}})),r=t.isAND?r:!r,f[a][i-1]=r?!t.isAND:t.isAND}}))})),c.data("state",f),c.data("filtered",!0)}else c.data("state",[]),c.data("filtered",!1)}},Be.prototype.treatNumberFilter=function(e){var t=this,a=$.trim(e.val()).toLocaleLowerCase(),i=e.attr("name"),l=e.hasClass("inverse"),n=e.hasClass("from"),o=(0,$e.default)(a,t.separator,t.worklog),s=(0,Ee.default)(o,a,t.separator,t.worklog);if(s=!isNaN(s)&&s,n)t.rangeFilterValues={from:s,type:o};else{t.rangeFilterValues.type&&(o=t.rangeFilterValues.type),t.rangeFilterValues.to=s;var d=e.parent().parent();if(!1!==t.rangeFilterValues.from||!1!==t.rangeFilterValues.to){var c=[];t.rawTables.forEach((function(e,a){var n=r.default.getCellPositions(e,i);c[a]=[],n.length&&e.forEach((function(e,i){if(i>0){var r=!0;n.forEach((function(a){var i=e[a]||"";try{var n=(0,Ee.default)(o,i,t.separator,t.worklog);isNaN(n)?r=r&&!l:l?!1!==t.rangeFilterValues.from?r=!1!==t.rangeFilterValues.to?r&&t.rangeFilterValues.from<=n&&t.rangeFilterValues.to>=n:r&&t.rangeFilterValues.from<=n:!1!==t.rangeFilterValues.to&&(r=r&&t.rangeFilterValues.to>=n):!1!==t.rangeFilterValues.from?r=!1!==t.rangeFilterValues.to?r&&(t.rangeFilterValues.from>n||t.rangeFilterValues.to<n):r&&t.rangeFilterValues.from>n:!1!==t.rangeFilterValues.to&&(r=r&&t.rangeFilterValues.to<n)}catch(e){r=!1,AJS.log("Error while filtering number '"+i+"': "+e)}})),r=t.isAND?r:!r,c[a][i-1]=r?!t.isAND:t.isAND}}))})),d.data("state",c),d.data("filtered",!0)}else d.data("state",[]),d.data("filtered",!1)}},Be.prototype.treatColumnFilter=function(e){var t=this;t.updateSparkline=!0;var a=[];e.find("option:selected").each((function(){var e=$.trim(this.textContent);e=="-Empty-"&&(e=""),a.push(e.toLocaleLowerCase())}));var i=e.hasClass("inverse"),r=e.parent();if(0!==a.length){var l=[];t.rawTables.forEach((function(e,r){l[r]=[];var n=e[0]||[];n.forEach((function(e,o){i!=$.inArray((0,fe.clearStringLowerCase)(e),a)>=0&&(l[r].push(o),o===n.length-1&&(t.updateSparkline=!1))}))})),r.data("state",l)}else r.data("state",[])},Be.prototype.showOrHide=function(e,t,a,i,r){var l=0,{numbering:n}=this;if(t>this.headerSize[e])if(!this.cbState[e][t-1]&&r<t)$(a.children).filter("[rowspan]").trigger("hideCell"),a.style.display="none";else if(n&&(-1!==n.indexOf("dynamic")||"true"===n)){var o=a.children[0];o.classList.contains("tf-numbering")&&(o.children[0].textContent=i,this.rawTables[e][t][0]=""+i),l=1}var{tdNumbers:s}=this;if(s&&s[e].length){var d=a.children;s[e].forEach((function(e){$(d[e]).trigger("hideCol").addClass("tf-hidden-column")}))}return l},Be.prototype.showTableWithoutFilters=function(){var e=this;e.showTable(!0),e.showOrHideTables(),e.appendTotalRow(),e.appendTotalCol(),e.appendSparklines(),this.trigger(this.tableWrapper,"tf-filtered-total",this.getEventData()),e.sparkline&&e.fixedRows>0&&e.updateFixedCells(),c.default.create(e)},Be.prototype.trigger=function(e,t,a){this.blockEvent||e.trigger(t,a)},Be.prototype.showOrHideTables=function(e){var{tables:t,params:a}=this;t.trigger(H.TABLE_FILTERED_EVENT_BEFORE);var i=this,r=0,l=0,n=a.showNRows;i.isLockEnabled&&(a.showNRows="all"),t.each((function(e,t){var n=$(t),o=i.rows[e],s=n.hasClass("relative-table"),d=(0,p.getChildren)(o),c=Ye(d),f=n.children("colgroup").children("col");if(s){var u=0,h=[];f.each((function(){"none"===this.style.display?u+=parseFloat(this.style.width):h.push(this)})),u>0&&(n.css("width",parseFloat(t.style.width)/(1-u/100)+"%"),h.forEach((function(e){e.style.width=parseFloat(e.style.width)*(1-u/100)+"%"})))}f.show();var m=n.find("tr.pivot-header, thead.tableFloatingHeader tr"),g=Ye((0,p.getChildren)(m));if(m.each((function(){i.showOrHide(e,-1,this)})),i.tdNumbers&&i.tdNumbers[e].length){var v=0;$.each(i.tdNumbers[e],(function(e,t){t<f.length&&(f.eq(t).hide(),s&&(v+=parseFloat(f[t].style.width)))})),v>0&&(n.css("width",parseFloat(t.style.width)*(1-v/100)+"%"),f.each((function(t){-1===i.tdNumbers[e].indexOf(t)&&(this.style.width=parseFloat(this.style.width)/(1-v/100)+"%")})))}n.is(".attachments")&&n.find(".attachment-summary").each((function(t){i.cbState[e][t]||($(this).addClass("hidden"),o.eq(t+1).find(".icon-section-opened").removeClass("icon-section-opened").addClass("icon-section-closed"))})),d.each((function(e,t){t.hasAttribute("rowspan")&&(t.rowSpan=$.data(t,"rowspan")||1)})),o.each(((e,t)=>t.style.display="")),r+=o.length-1;var y=a.ignoreFirstNrows,T=$.grep(i.cbState[e],(function(e,t){return e||y>t})).length,C=1,x=1;if(i.numbering&&-1!==i.numbering.indexOf("desc")&&(C=T,x=-1),o.each((function(t){C+=i.showOrHide(e,t,this,C,y)*x})),"all"!==a.showNRows&&a.showNRows>=0&&!i.filtered){var E=a.showNRows;o.filter(((e,t)=>(0,b.isRowVisible)(t))).filter(":gt("+E+")").hide(),T=Math.min(T,E)}i.editorMacro&&(w.fixEditorCellHighlight(c),w.fixEditorCellHighlight(g)),l+=T})),r===l?i.filterIcon.removeClass("filtered").addClass("default").attr("title",AJS.format("Nothing filtered. Showing {0} rows",r)):i.filterIcon.removeClass("default").addClass("filtered").attr("title",AJS.format("Showing {0} of {1} rows",l,r)),i.filterIcon.children(".filter-count").text("".concat(l,"/").concat(r)),i.resize&&i.resize(),a.showNRows=n,this.trigger(this.tableWrapper,"tf-filtered",this.getEventData()),t.trigger(H.TABLE_FILTERED_EVENT,e).trigger("scroll-tf"),i.comboBoxDiv.parents(".tablefilter-table-wrapper, .pivot-content, table").eq(0).data("inner-filter",this.getEventData())},Be.prototype.getEventData=function(){return this.eventData},Be.prototype.appendSparklines=function(){var e=this;if(e.pauseUpdate=!0,e.setMutationObserver(!0),e.spakLinesFinished=!0,e.sparkline)e.rows.forEach((function(t,a){!function(t,a){var i=null,r=0;function l(e){return(e.find(":first-child").attr("class")||"").replace("tf-numbering","").replace("tf-hidden-column","")}function n(e,t){var a=100,i=25,r=$('<svg xmlns="http://www.w3.org/2000/svg"/>').attr("width",a).attr("height",i);function l(e){if(e.length>1){var t=a/(e.length-1),r=Math.min(...e),l=Math.max(...e)-r,n=0===l?i/2:i/l,o=e.map(((e,a)=>[t*a,0===l?n:i-n*(e-r)]));return"M".concat(o.join("L"))}return""}var n=$(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("d",l(t)).attr("style","stroke: rgb(100, 100, 255); stroke-width: 1; fill: none;");r.append(n),e.append(r)}t.each((function(o,s){var d=$(s);d.find(".tf-sparkline-header, .tf-sparkline-container").remove();var c=l(d);if(0===o){if(d.append($('<th class="'.concat(c,' tf-sparkline-header synchrony-exclude" contenteditable="false" data-sorter="false"></th>')).text(e.sparkName)),s.classList.contains(f.TF_HEADER_HIDDEN)){var p=$(a).find("tr.pivot-header"),u=p.eq(0);u.find(".tf-sparkline-header").remove(),u.append($('<th class="'.concat(l(u),' tf-sparkline-header synchrony-exclude" contenteditable="false" data-sorter="false" rowspan="').concat(p.length,'">\n                              </th>')).text(e.sparkName))}}else{var h=[];$(s.children).not(".tf-numbering, .total-col, .numberingColumn, .hidden-total-col").each((function(t){if($(this).hasClass("tf-hidden-column"))return!0;var a=(0,pe.clearString)(this.textContent);null==i&&a&&(i=(0,$e.default)(a,e.separator,e.worklog,!0));var r=(0,Ee.default)(i,a,e.separator,e.worklog,!0);isNaN(r)||h.push(r)}));var m=$('<td class="'.concat(c,' tf-sparkline-container synchrony-exclude" contenteditable="false"></td>'));if(n(m,h),d.append(m),!e.editorMacro){var b=d.find("svg").attr("version",1.1).prop("outerHTML");if("undefined"!=typeof btoa&&b){m.append("<canvas></canvas>");var g="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(b))),v=d.find("canvas").attr("width",100).attr("height",25)[0],w=v.getContext("2d"),y=new Image;y.src=g,y.onload=function(){w.drawImage(y,0,0);var e=v.toDataURL(),i='<img src="'.concat(e,'">');m.html(i),++r===t.length-1&&$(a).trigger("sparklines-converted")}}}}}))}((0,p.spliceSelectors)(t,e.totalRows[a]),e.tables[a])})),e.updateSorterAndRawTables(!0),e.pauseUpdate=!1,e.setMutationObserver(!0);else{var t=e.tableWrapper.find(".tf-sparkline-header, .tf-sparkline-container"),a=t.length;t.remove(),e.updateSorterAndRawTables(a>0),e.pauseUpdate=!1,e.setMutationObserver(!0)}},Be.prototype.appendTotalRow=function(){var e=this;if(e.pauseUpdate=!0,e.setMutationObserver(!0),e.tables.find("tr.total-row").remove(),e.totalRows=[],e.totalRow.some((e=>e))){var t=0;e.tableUpdated=!0,e.rawTables.forEach((function(a,i){for(var l={},n=e.numbering?1:0,o=e.rows[i].eq(0).children().not(".tf-sparkline-header, .total-col").length-n,s={},c=t;c<o+t;c++){var p=c-t+n;if(e.totalRow[c]){var u=Ue,h=!1,m=!1,g=!1;"Sum"==e.totalRow[c]?u=We:"Min"==e.totalRow[c]?u=Je:"Max"==e.totalRow[c]?u=Ve:"Multiplication"==e.totalRow[c]?u=_e:"Count"==e.totalRow[c]?(u=ze,m=!0):"Count not empty"==e.totalRow[c]?(u=ze,g=!0):h=!0,l[p]={calc:u,isAvg:h,isCount:m,isCountA:g}}s[p]=e.getTotalCellClasses(i,p)}t+=o;var v=null;if(Object.keys(l).length){var w={},y={};a.forEach((function(t,a){a>0&&(0,b.isRowVisible)(e.rows[i][a])&&$.each(l,(function(l,n){if(n.isCount)n.calc();else if(n.isCountA)if(t[l])n.calc();else{var o=e.rawIconTables[i][a][l];if(o){var s=!0;se.GENERIC_TASK_MARKERS.some((e=>o.includes(e)))&&(s=se.GENERIC_TASK_CHECKED_PATTERN.test(o)),s&&n.calc()}}else{null==w[l]&&t[l]&&(w[l]=(0,$e.default)(t[l],e.separator,e.worklog));var d=(0,Ee.default)(w[l],t[l],e.separator,e.worklog);(0,Se.default)(d)&&(n.calc(d),w[l]!==f.DATA_TYPES.number||y[l]||(y[l]=r.default.getNumberFormatter(t[l],e.separator)))}}))}));var T=!1,C=!0;if($.each(l,(function(t,a){a.total=r.default.formatValueByType(a.total,w[t],(function(i){if(void 0!==i){T=!0,a.isAvg&&(i=qe(i));var r=e.formatDecimal.to(i);return y[t]?y[t](r):r}return""}),e.worklog,e.separator),""!==a.total&&(T=!0)})),T){if(v=$(d.default.totalRow({title:e.totalRowName,length:o+n,totals:l,numbering:n,isFireFox:r.default.isFireFox(),classes:s})),e.tdNumbers&&e.tdNumbers[i].length){C=!1;var x=v.children("td,th");$.each(e.tdNumbers[i],(function(e,t){x.eq(t).addClass("tf-hidden-column")})),$.each(x,(function(e,t){if(t.textContent&&!$(t).hasClass("tf-hidden-column"))return C=!0,!1}))}C&&e.tables.eq(i).append(v)}}e.totalRows.push(v),e.updateSorterAndRawTables(!1,!0)}))}e.pauseUpdate=!1,e.setMutationObserver(!0)},Be.prototype.getTotalCellClasses=function(e,t){var a="";return a+=this.rows[e][0].cells[t].classList.contains("pivot-hidden-column")?"pivot-hidden-column":""},Be.prototype.appendTotalCol=function(){var e=this;if(!(0,U.hasLoadingContent)(e.tableWrapper)){e.pauseUpdate=!0,e.setMutationObserver(!0);var t=!1;if(e.totalCol){var a=Ue,i=!1,l=e.totalCol;"Sum"==e.totalCol?a=We:"Min"==e.totalCol?a=Je:"Max"==e.totalCol?a=Ve:"Multiplication"==e.totalCol?(a=_e,l="Product"):i=!0,l=e.totalColName?e.totalColName:l,e.tables.each((function(t){var n=$(this),o=null,s=null;if(e.rows[t].length&&e.rows[t][0].classList.contains(f.TF_HEADER_HIDDEN)){var c=n.find("tr.pivot-header"),h=c.eq(0);if(0===h.children("th.total-col").length){var m=$('<th class="total-col confluenceTh" rowspan="'.concat(c.length,'"></th>')).text(l);h.append(m)}}(0,p.spliceSelectors)(e.rows[t],e.totalRows[t]).each((function(t){for(var n={calc:a},c=this.children,p=null,u=c.length-1;u>=0;u--)if(c[u].classList.contains("total-col")){p=$(c[u]);break}if(p||(p=$(d.default.totalCol({rowNumber:t})),$(this).append(p)),0===t)p.find("p").text(l);else{for(u=0;u<c.length;u++){var h=c[u];if(!(h.classList.contains("tf-numbering")||h.classList.contains("total-col")||h.classList.contains("numberingColumn")||h.classList.contains("pivot-hidden-column"))){if(!h.classList.contains("tf-hidden-column")){var m=!0,b=(0,pe.clearString)(h.textContent);b&&(ae(h)?(m=!1,o=f.DATA_TYPES.number):null==o&&(o=(0,$e.default)(b,e.separator,e.worklog,m)));var g=(0,Ee.default)(o,b,e.separator,e.worklog,m);(0,Se.default)(g)&&(n.calc(g),o!==f.DATA_TYPES.number||s||(s=r.default.getNumberFormatter(b,e.separator)))}0}}var v=r.default.formatValueByType(n.total,o,(function(t){if(void 0===t)return"";i&&(t=qe(t));var a=e.formatDecimal.to(t);return s?s(a):a}),e.worklog,e.separator),w=p.children("p");w.length||(w=$("<p></p>"),p.prepend(w)),w.text(null!=v?v:"")}})),!e.isAtlaskitRendererEnabled&&e.isCloud&&n.attr("data-layout")&&0===n.find("".concat(u.COLGROUP_ELEMENT," ").concat(u.TFTC_COLUMN_SELECTOR)).length&&n.find(u.COLGROUP_ELEMENT).append('<col class="'.concat(u.TOTAL_COLUMN_CLASS,'" style="width: fit-content"> '))})),e.observeTableWrapperResize(),t=!0}else{e.unobserveTableWrapperResize();var n=e.tables.find("th.total-col");n.length&&(t=!0,n.remove(),e.tables.find("".concat(u.COLGROUP_ELEMENT," ").concat(u.TFTC_COLUMN_SELECTOR)).remove())}return t&&e.updateSorterAndRawTables(!0,!0),e.pauseUpdate=!1,e.setMutationObserver(!0),t}},Be.prototype.observeTableWrapperResize=function(){if(this.isAtlaskitRendererEnabled){var e=this.getFirstTableWrapper();e&&(this.resizeObserver?this.resizeObserver.unobserve(e[0]):this.resizeObserver=new ResizeObserver((()=>{requestAnimationFrame((()=>this.recalculateColGroup()))})),this.resizeObserver.observe(e[0]))}},Be.prototype.unobserveTableWrapperResize=function(){var e;if(this.isAtlaskitRendererEnabled){var t=this.getFirstTableWrapper();t&&(null===(e=this.resizeObserver)||void 0===e||e.unobserve(t[0]))}},Be.prototype.recalculateColGroup=function(){var e=this.getFirstTableWrapper();if(e){var t=e.outerWidth();t&&this.tables.each(((e,a)=>{var i=$(a).find(u.COLGROUP_ELEMENT);if(i.length){var r=i.find(u.TFN_COLUMN_SELECTOR).outerWidth()||0,l=this.sparkline?u.SPARKLINE_WIDTH:0,n=this.params.hidePane===u.HIDE_PANE.HEADER?u.HEADER_PANE_WIDTH:0,o=i.find(u.TFTC_COLUMN_SELECTOR),s=i.find(u.COLUMN_ELEMENT).not("".concat(u.TFN_COLUMN_SELECTOR,", ").concat(u.TFTC_COLUMN_SELECTOR)),d=Math.max(t-r-l-n,0),c=o.length>0?o:$('<col class="'.concat(u.TOTAL_COLUMN_CLASS,'" style="width: ').concat(d/(s.length+1),'px">')).appendTo(i),f=s.add(c),p=f.map(((e,t)=>$(t).outerWidth()||0)).get(),h=p.reduce(((e,t)=>e+t),0);f.each(((e,t)=>{$(t).css("width","".concat(Math.max(u.MIN_NATIVE_COLUMN_WIDTH,Math.floor(d*(p[e]/h))),"px"))}))}}))}},Be.prototype.updateSorterAndRawTables=function(e,t){var a=this;a.shouldUpdateSorter=a.shouldUpdateSorter||t,a.shouldUpdateRawTables=a.shouldUpdateRawTables||e,a.spakLinesFinished&&(a.shouldUpdateSorter&&(a.tables.not(".pivot-table-result,.merged-header").trigger("updateAll",!1),a.tables.not(".pivot-table-result").trigger("update",!1)),a.shouldUpdateRawTables&&a.updateRawTables(),a.shouldUpdateSorter=!1,a.shouldUpdateRawTables=!1,a.spakLinesFinished=!1)},Be.prototype.bindChangeLabel=function(){var e=this;e.comboBoxDiv.delegate(".filter-container label.hideble","dblclick",(function(){var t=$(this).find(".tf-label-name"),a=!0,i=$(this).parent(),r=t.css("width");t.hide(),i.prepend(d.default.labelChanger({value:t.text(),width:parseInt(r,10)+6+"px"}));var l=!1,n=i.find(".tf-label-changer");n.focus(),n[0].select(),n.bind("keydown",(function(i){13===i.keyCode&&(t.text(n.val()),n.remove(),t.show(),a=!1,e.enableSaveBtn()),32===i.keyCode&&(l=!0)})),n.bind("input",(function(){var e=n.textWidth(n.html())+6;l&&(e+=4,l=!1),n.css("width",(e<10?10:e)+"px")})),$(document).one("click",(function(e){!$(e.target).closest(".tf-label-changer").length&&a&&(n.remove(),t.show(),a=!1)}))})),$.fn.textWidth=function(e,t){return $.fn.textWidth.fakeEl||($.fn.textWidth.fakeEl=$("<span>").hide().appendTo(document.body)),$.fn.textWidth.fakeEl.text(e||this.val()||this.text()).css("font",t||this.css("font")),$.fn.textWidth.fakeEl.width()}};var Me=(e,t,a)=>e.find("a[data-filter-type=".concat(t,"]")).closest("li").css("display",a);function _e(e){void 0!==this.total?this.total=(0,Re.default)(e,this.total):this.total=e}function We(e){this.total?this.total=(0,De.default)(e,this.total):this.total=e}function Ue(e){void 0!==this.sum?(this.sum=(0,De.default)(e,this.sum),this.count++):(this.sum=e,this.count=1),this.total=this.sum/this.count}function Je(e){void 0!==this.total?this.total=Math.min(e,this.total):this.total=e}function Ve(e){void 0!==this.total?this.total=Math.max(e,this.total):this.total=e}function ze(){void 0!==this.total?this.total++:this.total=1}function qe(e){var t=2,a=Math.abs(e);a<1&&a>0&&(t=Math.ceil(Math.log(a)/Math.LN10*-1)+2);var i=Math.pow(10,t);return Math.round(e*i)/i}function Ge(e){return e.hasClass("selectfilter-element")?"Dropdown Filter":e.hasClass("userfilter-element")?"Free Text Filter":e.hasClass("numberfilter-element")?"Number Filter":e.hasClass("datefilter-element")?"Date Filter":e.hasClass("iconfilter-element")?"Icon Filter":e.hasClass("globalfilter-element")?"Global Filter":e.hasClass("columnhider-element")?"Hide Columns":void 0}function je(e,t){"undefined"!=typeof AP&&AP.resize(e,t)}function Ye(e){return e.filter(".tf-hidden-column").removeClass("tf-hidden-column"),e.each((function(){if(this.hasAttribute("colspan")){var e=$.data(this,"colspan");e&&(this.colSpan=e)}})),e.filter(".fake").hide()}Be.prototype.initInlineFilterButton=function(){var e=this,t=e.tables.eq(0),a=e.filterIcon.parent();e.inlineFilterBtns=e.outerWrapper.find(".tf-inline-filter.".concat(e.macroId,"-").concat(e.sessionId)),e.inlineFilterBtn=e.inlineFilterBtns.filter(".btn"),e.inlineFilterTrigger=e.inlineFilterBtns.filter(".trigger");var i,l,n,o,s,d,c,p=!1;e.inlineFilterBtn.unbind("click").click((e=>{e.stopPropagation(),n=i,I(o=l,this.inlineFilterTrigger);var t=v(h(i,m(l)));1===t.length&&t.hasClass("filter-locked")?this.inlineFilterTrigger.addClass("filter-locked-btn"):(this.comboBoxDiv.removeAttr("open"),this.comboBoxDiv.attr("open",!0))}));var u="Filter Added from "+(e.params.liveMode?"Live":"Header");function h(e,t){return e?'[name="'.concat(t,'"]'):"."+("globalfilter"===s?"global-filter":"column-select")}function m(e){return e?r.default.getCellText(e[0]):""}var b,g,v=e=>this.comboBoxDiv.find(".filter-container").find("input,select").filter(e).parents(".filter-container");this.comboBoxDiv.unbind("aui-hide aui-show").bind("aui-hide",(()=>{p=!1,e.inlineFilterTrigger.removeClass("active mimic"),e.filterIcon.removeClass("open"),S(),je()})).bind("aui-show",(()=>{p||(n=i,o=l),this.comboBoxDiv.find(".filter-container").addClass("hidden");var t=m(n),a=h(n,t),r=v(a).removeClass("hidden");if(!r.length){var f=n?this.detectFilterType(t):s;r=this.addFilter(f,t),$("body").trigger("filter-added-deleted",{action:u,type:f,pageMode:e.isPreview?"Macro Preview":"Page View"}),(0,E.gaHeaderFilterAdded)(f,"normal")}if(this.inlineFilterTrigger.addClass("active"),this.inlineFilterTrigger.removeClass("visible"),!p||c){clearTimeout(d);var b=p?c:r.find("input").eq(0);d=setTimeout((()=>b.focus()),10)}p=!0})),b=this.menu,g=this.filterConfigs,[N.default.HIDER,N.default.GLOBAL].filter((e=>function(e,t){var a;return null===(a=e.find((e=>e.type===t)))||void 0===a?void 0:a.hidden}(g,e))).forEach((e=>Me(b,e,"none"))),this.menu.find(".show-filter").unbind("click").click((function(){i=null,l=null,n=null,o=null;var a=e.tables.eq(0).offset();e.inlineFilterTrigger.addClass("mimic").offset({top:a.top+5,left:Math.max(a.left,e.tableWrapper.offset().left)+Math.min(t.width(),e.tableWrapper.width())+11}),e.filterIcon.addClass("open"),s=$(this).attr("data-filter-type"),e.comboBoxDiv[0].open=!0})),this.visibleHeaderCells=[];var w,y,T,C="comboBoxDiv-".concat(e.macroId,"-").concat(e.sessionId),x=(e,t)=>{var a=$(t[0]);return a.hasClass(f.TF_HEADER_HIDDEN)?this.tables.eq(e).find(f.PIVOT_HEADER_CLASS).last():a};function S(){T&&(T.unwrap(),T.css(T.orig_sizes),T.elclone.before(T),T.elclone.remove(),T=null)}function F(){l&&I(l,e.inlineFilterBtn),o&&(I(o,e.inlineFilterTrigger),p&&(e.comboBoxDiv.find("select").trigger("chosen:close"),e.comboBoxDiv.removeAttr("open"),p=!0,e.comboBoxDiv.attr("open",!0)))}function I(t,a){var i=t.offset();a.offset({top:y?void 0:i.top-3,left:Math.min(i.left+t.outerWidth(),e.tableWrapper.offset().left+e.tableWrapper.width())-16}).addClass("visible")}function A(){var i=e.tables.eq(0).offset(),r=e.tableWrapper.eq(0).offset();a.offset({top:Math.max(i.top,r.top)+5,left:Math.max(i.left,r.left)+Math.min(t.width(),e.tableWrapper.width())-(e.isCloud?4:2)})}this.rows.forEach(((t,a)=>{var r=$(t[0]).children(),s=x(a,t).children();this.visibleHeaderCells.push(s);var d=e.numbering&&!r[0].classList.contains("tf-numbering")?1:0;e.tables.eq(a).off("mouseleave.tf mouseenter.tf","td,th").on("mouseleave.tf","td,th",(()=>{!p&&e.inlineFilterTrigger.removeClass("visible"),e.inlineFilterBtn.removeClass("visible")})).on("mouseenter.tf","td,th",(function(){if(i=r.eq(this.cellIndex-d),l=e.getVisibleHeaderCell(a,this.cellIndex-d),i.length&&l.length){var t=e.isFilteredByCell(i);e.inlineFilterBtn.toggleClass("filtered",t),I(l,e.inlineFilterBtn);var s=v(h(i,m(l))),c=1===s.length&&s.hasClass("filter-locked");e.inlineFilterTrigger.attr("aria-controls",c?"":C),(p?e.inlineFilterBtn:e.inlineFilterTrigger).toggleClass("filter-locked-btn",c),p||(n=i,o=l,e.inlineFilterTrigger.toggleClass("filtered",t),I(l,e.inlineFilterTrigger))}else i=null,l=null}))})),this.tables.parents(".table-wrap, .table-wrap-aui").unbind("scroll.live").bind("scroll.live",(()=>{y=!0,F(),clearTimeout(w),w=setTimeout((()=>y=!1),50)})),this.tableWrapper.unbind("tf-filtered.live").bind("tf-filtered.live",(()=>{i&&e.inlineFilterBtn.toggleClass("filtered",e.isFilteredByCell(i)),p&&(c=e.comboBoxDiv.find("input:focus")),setTimeout((()=>{F(),A()}),20)})),t.unbind("mouseleave.tft mouseover.tf").bind("mouseover.tf",(function(){A(),e.filterIcon.addClass("visible")})).bind("mouseleave.tft",(()=>e.filterIcon.removeClass("visible"))),this.comboBoxDiv.undelegate("chosen:showing_dropdown.live").delegate("select","chosen:showing_dropdown.live",(function(t,a){if(S(),"true"!==e.comboBoxDiv.attr("aria-hidden")){var i=(T=a.chosen.container)[0],r=i.style,l=i.getBoundingClientRect();T.orig_sizes={width:T.width(),height:T.height(),position:r.position,top:r.top,left:r.left,zIndex:r.zIndex};var n=$.extend({},T.orig_sizes);n.position="absolute",n.top=l.top+window.pageYOffset,n.left=l.left+window.pageXOffset,n.zIndex=999999;var o=T.elclone=T.clone();o.find(".chosen-drop").remove(),T.before(o),T.css(n),$("body").append($('<div class="wiki-content"></div>').append(T)),T.click((e=>e.stopPropagation()))}})).undelegate("chosen:hiding_dropdown.live tf-close.live").delegate("select","chosen:hiding_dropdown.live tf-close.live",S)},Be.prototype.highlightFilteredColumn=function(e){if(this.params.hidePane===u.HIDE_PANE.HEADER&&!this.editorMacro){var t=this.hasFilterValues(e),a=e.attr("name");this.rawTables.forEach(((e,i)=>{r.default.getCellPositions(e,a).forEach((e=>{this.getVisibleHeaderCell(i,e).toggleClass("filtered-header",t),this.inlineFilterTrigger.toggleClass("filtered",t)}))}))}},Be.prototype.getVisibleHeaderCell=function(e,t){for(var a=this.visibleHeaderCells[e].eq(t);a.length&&("none"===a[0].style.display||a.hasClass("tf-hidden-column"));){var i=a.data("parentCell");a=i?$(i):a.prev()}return a},Be.prototype.hasFilterValues=function(e){var t=Boolean(e.val());return(e.hasClass("date")||e.hasClass("number"))&&(t=t||Boolean(e.parents(".range").find("input").not(e).val())),t},Be.prototype.getFilterByCell=function(e){var t=r.default.getCellText(e[0]);return this.comboBoxDiv.find("input,select").filter('[name="'.concat(t,'"]'))},Be.prototype.isFilteredByCell=function(e){return this.getFilterByCell(e).toArray().some((e=>this.hasFilterValues($(e))))},Be.prototype.detectFilterType=function(e){if(this.getDateMacroFormatIfPresent(e))return"datefilter";var t="userfilter";return this.rawTables.some(((a,i)=>{var r=(0,Ae.default)(a,e);if(null!=r){var l=(new s.default).getColumnData(a,r,this.dateFormat,this.locale,this.separator,this.worklog);if(l)return l.type===f.DATA_TYPES.date?(this.dateFormat=l.dateFormat,t=N.default.DATE):l.type===f.DATA_TYPES.number?t=N.default.NUMBER:l.type===f.DATA_TYPES.label&&(t=N.default.SELECT),!0;if(this.rawIconTables||this.updateRawIconTables(),(0,He.getColumnValues)(this.rawIconTables[i],r).length)return t="iconfilter",!0}})),t},Be.prototype.addToAllowRowList=function(e){var t=this,a=e.closest("table");if(a.length){var i=t.tables.index(a);t.allowRowList||(t.allowRowList=new Array(t.tables.length)),t.allowRowList[i]||(t.allowRowList[i]=[]),t.allowRowList[i].push(e[0].rowIndex)}},Be.prototype.correctionWithAllowRowList=function(){var e=this;e.allowRowList&&e.allowRowList.forEach((function(t,a){t&&t.forEach((function(t){e.cbState[a][t-1]=!0}))}))},Be.prototype.setTextForFakeCells=function(e){var t=e.html();!function(e,t){var a=e;for(;a.data("childCell");)(a=$(a.data("childCell"))).html(t)}(e,t),function(e,t){var a=e;for(;a.data("childCell");)(a=$(a.data("childCell"))).html(t)}(e,t)};var Ke=X.apply(Be)},71270:function(e,t,a){"use strict";a.r(t),a.d(t,{findImageIdIndex:function(){return s}});var i=a(40616);const r=/\/attachments\/([0-9]+)\//,l=/^https?:\/\/[^/]+/,n=(e,t)=>`${e}-${t}`.toLowerCase(),o=e=>e.startsWith(i.BLOB_SRC)?(e=>{const{searchParams:t}=new URL(e),a=t.get("contextid")||"",i=t.get("name")||"";return n(a,i)})(e):l.test(e)&&r.test(e)?(e=>{const{pathname:t}=new URL(e),a=t.match(r)?.[1]||"_",i=decodeURIComponent(t.split("/").pop()||"_");return n(a,i)})(e):e,s=(e,t)=>{let a;return e.findIndex((e=>e===t||""!==e&&""!==t&&(a??=o(t),a===o(e))))}},75201:function(e,t,a){"use strict";a.r(t),a.d(t,{getDefaultFilterLabel:function(){return r}});var i=a(48957);const r=(e,t)=>e===i.default.GLOBAL?"Filter whole table":e===i.default.HIDER?"Hide columns":t()},77259:function(e,t,a){"use strict";a.r(t),t.default=e=>{for(let t=0;t<e.length;t++)e[t]&&(e[t]=e[t].replace("-Empty-","-Empty-"))}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:4e304a8e50ac19fb26056cadb7111bdc', location = 'build/3511.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3511],{73511:function(t,n,e){e.r(n),e.d(n,{parseChartWorklog:function(){return r},parseWorklog:function(){return l}});var s=e(14412);const l=t=>{const n=t.split("|");isNaN(Number(n[2]))&&n.unshift("365"),n.length<5&&(n[4]=s.DEFAULT_WORKLOG_STRING);const e=n[4].split(" ");return e.length<5&&e.unshift("y"),{params:n,worklogPlaces:e}},r=t=>{const{params:n,worklogPlaces:e}=l(t);return n[4].split(" ").length<5&&(n[4]=e.join(" ")),n}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:5e8cfac4ca2751480686b8991c55e01a', location = 'build/2239.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2239],{37583:function(t,e,n){n.r(e);n(51048),n(16335);var r=n(2068);e.default=(t,e)=>parseFloat(parseFloat(t*e).toFixed((0,r.default)(t,0)+(0,r.default)(e,0)))},40616:function(t,e,n){n.r(e),n.d(e,{BLOB_SRC:function(){return r}});const r="blob:https://"},40929:function(t,e,n){n.r(e),n.d(e,{getImageId:function(){return c}});var r=n(34388),a=n(40616);const s=/\/[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}(?:#media-blob-url=true&)?/,c=function(t){const{dataset:{emojiId:e,fileName:n,contextId:c}}=t;if(e)return e;let i=(0,r.clearStringLowerCase)(t.src);const u=i.indexOf("images/icons/emoticons/");return u>=0?i.substring(u,i.length):i.startsWith(a.BLOB_SRC)?(i=i.replace(s,"?"),i=o(i,"name",n),i=o(i,"contextid",c),i):i},o=(t,e,n)=>{if(!n)return t;try{const r=new URL(t);return r.searchParams.has(e)?t:(r.searchParams.append(e,n),r.toString())}catch{return t}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:b70bb721497f468c68f7512650ec8336', location = 'build/3644.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3644],{3644:function(t,e,n){n.r(e),n.d(e,{getWnumbFormatter:function(){return c}});var a=n(68631),o=n(8493),s=n.n(o);const c=({separator:t,thousandSeparator:e,decimals:n})=>s()({mark:t,thousand:e!==t?e:a.SEPARATORS.SHORT.SPACE,decimals:n||void 0})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:5293b92f45a518e99a8cbc58b4ecab68', location = 'build/7228.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7228],{67228:function(e){if(void 0===(l=window.MacroHelpers=window.MacroHelpers||{}))var l={};l.helpfullLinks=function(e,l){return'<div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a target="_blank" href='+soy.$$escapeHtml(e.docLink)+'><span class="aui-icon aui-icon-small aui-iconfont-document-filled"></span>'+soy.$$escapeHtml("Documentation")+"</a></li><li>"+(e.isCloud?soy.$$filterNoAutoescape(e.courseBtn):'<a target="_blank" href="https://docs.stiltsoft.com/tfac/dc-server/release-notes-42241260.html"><span class="aui-icon aui-icon-small aui-iconfont-new-help"></span>'+soy.$$escapeHtml("What\u0027s new")+"</a>")+'</li><li><a target="_blank" href="https://survey.alchemer.com/s3/7010834/5a06fc05ce8b" class="tf-menu-star"><span class="aui-icon aui-icon-small aui-iconfont-star"></span>'+soy.$$escapeHtml("Rate our app")+"</a></li></ul></div>"},{}.DEBUG&&(l.helpfullLinks.soyTemplateName="MacroHelpers.helpfullLinks"),e.exports=l}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:49ed755abfcda5af122783c9b7ccdf6a', location = 'build/3677.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3677],{73677:function(t,e,a){a.r(e);a(63348),a(5809),a(71035),a(94853),a(4003),a(30204),a(17709),a(92391),a(33256),a(40327),a(46),a(86266),a(28530),a(83452),a(52826),a(65183),a(64555),a(63544),a(22901);var l=a(23589),r=a(14412),s=a(18984),u=a(3801),o=a(68631),n=a(8637),i=a(71121),f=a(93622),h=a(25082),g=a(89835),d=a(57853),A=a(47057),c=a(30116),m=a(42312);e.default=class{init(t){t.hasClass("pivot-table-result")||((0,n.default)(t,r.TABLE_ATTRIBUTE_READY),(0,g.default)(t));var e=l.default.getTablesAndRowsFromTables(t,l.default.mixedType);this.rowsArray=e.rows,this.tablesArray=e.tables,this.tableColumns=l.default.getRawColumns(this.tablesArray),this.dateFormat=s.default.getStoredValue("tf-dateformat")||(0,i.default)(A.DEFAULT_DATE_FORMAT),this.locale=(0,h.getLocale)(),this.worklog=l.default.getWorklog(s.default.getStoredValue("tf-worklog")),this.separator=(0,f.default)(s.default.getStoredValue("tf-decimalSeparator"))||o.SEPARATORS.SHORT.POINT}get rows(){return this.rowsArray}get tables(){return this.tablesArray}get columns(){return this.tableColumns}get userLocale(){return this.locale}get columnsData(){var t={};return this.tableColumns.forEach(((e,a)=>{this.tablesArray.some((a=>{var l=(0,d.default)(a,e),r=this.getColumnData(a,l,this.dateFormat,this.locale,this.separator,this.worklog);if(r)return t[r.type]||(t[r.type]=[]),t[r.type].push({column:e,columnData:r}),!0}))})),t}getColumnData(t,e,a,l,s,o){var n=(0,c.getColumnValues)(t,e),i=new Set(n);if(n.length){var f=(0,m.detectDateFormat)(n,l,a);if(f)return{type:r.DATA_TYPES.date,values:i,rawValues:t.map((t=>t[e])),dateFormat:f};var h=(0,u.default)(n[0],s,o,!0);if(null!==h)return{type:r.DATA_TYPES.number,values:i,valueType:h};if(i.size<n.length)return{type:r.DATA_TYPES.label,values:i,hasRepeats:!0};if(n.length<51){var g=n.reduce(((t,e)=>t+e)).length/n.length;if(g<30)return{type:r.DATA_TYPES.label,values:i,avgLength:g}}return{type:r.DATA_TYPES.text,values:n}}return null}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:d3a8742615227dba6c51244944252dfe', location = 'build/2438.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2438],{62438:function(e,t,r){r.r(t),r.d(t,{default:function(){return c},defaultTableSorterParameters:function(){return a}});var n=e=>{switch(e.toLowerCase()[0]){case"m":return"mmddyyyy";case"d":return"ddmmyyyy";case"y":return"yyyymmdd"}},u=r(58021);const a={textSorter:(e,t)=>{const r=(0,u.default)(e);return r!==(0,u.default)(t)?r?-1:1:e.localeCompare(t,void 0,{numeric:!0})},ignoreCase:!1,cssIcon:""};var c=(e,t)=>({dateFormat:n(e),usNumberFormat:","!==t,...a})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:09fe780a70a4462e1fbac02ca7af32ee', location = 'build/1984.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1984],{3809:function(e){if(void 0===(t=window.TFACInlineDialogTemplates=window.TFACInlineDialogTemplates||{}))var t={};t.inlineDialog=function(e,a){var l="",i=soy.$$escapeHtml(e.name)+"-"+soy.$$escapeHtml(e.dialogId);if(l+='<form class="aui top-label aui-legacy-forms inline-dialog-form tf-inline-dialog-form '+soy.$$escapeHtml(e.clazz)+'" id="'+soy.$$escapeHtml(i)+'">',""!=e.inputs){l+='<div class="fieldset total">';for(var n=e.inputs,o=n.length,s=0;s<o;s++){var c=n[s];l+='<div class="field-group"><label for="input-'+soy.$$escapeHtml(c.field)+"-"+soy.$$escapeHtml(s)+'">'+soy.$$escapeHtml(c.field)+(c.help?'<a href="'+soy.$$escapeHtml(c.help)+'" target="_blank"><span class="aui-icon aui-icon-small aui-iconfont-help tf-macro-editor-help"></span></a>':"")+"</label>"+t.field({input:c,index:s,formId:i})+"</div>"}l+='</div><div class="buttons-container"><div class="buttons"><input class="aui-button" type="button" value="'+soy.$$escapeHtml("Save")+'" id="apply-'+soy.$$escapeHtml(e.dialogId)+'"/><a class="cancel" id="cancel-'+soy.$$escapeHtml(e.dialogId)+'">'+soy.$$escapeHtml("Cancel")+"</a></div></div>"}else l+='<div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("Filters are not specified")+'</p></div><div class="buttons-container"><div class="buttons"><a class="cancel" id="cancel-'+soy.$$escapeHtml(e.dialogId)+'">'+soy.$$escapeHtml("Cancel")+"</a></div></div>";return l+="</form>"},{}.DEBUG&&(t.inlineDialog.soyTemplateName="TFACInlineDialogTemplates.inlineDialog"),t.field=function(e,t){var a="";if("checkbox"==e.input.variant)a+='<input class="checkbox inverse-input" type="checkbox" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.value?' checked="checked"':"")+"/>";else if("text"==e.input.variant||"password"==e.input.variant)a+='<input type="'+soy.$$escapeHtml(e.input.variant)+'" class="text simple-input" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.value?' value="'+soy.$$escapeHtml(e.input.value)+'"':"")+"/>";else if("textarea"==e.input.variant)a+='<textarea class="textarea" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'">'+(e.input.value?soy.$$escapeHtml(e.input.value):"")+"</textarea>";else if("number"==e.input.variant)a+='<input type="number" min="'+soy.$$escapeHtml(e.input.min)+'" max="'+soy.$$escapeHtml(e.input.max)+'" class="text simple-input" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.value?' value="'+soy.$$escapeHtml(e.input.value)+'"':"")+"/>";else if("single_select"==e.input.variant){a+='<select class="select" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.isMultiple?"multiple":"")+(e.input.isIcon?' data-html="true"':"")+">";for(var l=e.input.selects,i=l.length,n=0;n<i;n++){var o=l[n];a+='<option value="'+soy.$$escapeHtml(o)+'"';for(var s=e.input.value,c=s.length,r=0;r<c;r++){a+=s[r]==o?' selected="selected"':""}a+=">"+(e.input.labels?soy.$$escapeHtml(e.input.labels[n]):soy.$$escapeHtml(o))+"</option>"}for(var p=e.input.fakeSelects,u=p.length,d=0;d<u;d++){var f=p[d];a+='<option value="'+soy.$$escapeHtml(f)+'" selected="selected">'+soy.$$escapeHtml(f)+"</option>"}a+="</select>"}else if("line_settings"==e.input.variant)a+='<select class="select line-settings-type" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-name="'+soy.$$escapeHtml(e.input.field)+'"><option value="solid"'+("solid"==e.input.value.type?'selected="selected"':"")+">"+soy.$$escapeHtml("Solid")+'</option><option value="dash"'+("dash"==e.input.value.type?'selected="selected"':"")+">"+soy.$$escapeHtml("Dash")+'</option><option value="circle"'+("circle"==e.input.value.type?'selected="selected"':"")+">"+soy.$$escapeHtml("Dot")+'</option></select><input class="line-settings-width text simple-input" type="number" min="0" max="100000" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="number"'+(e.input.value.width?'value="'+soy.$$escapeHtml(e.input.value.width)+'"':"")+"/>px";else if("interpolation_select"==e.input.variant)a+='<select class="select" data-name="'+soy.$$escapeHtml(e.input.field)+'" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'"><option value="Linear"'+("Linear"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Linear")+'</option><option value="Step"'+("Step"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Step")+'</option><option value="Natural cubic"'+("Natural cubic"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Natural cubic")+'</option><option value="Monotone X cubic"'+("Monotone X cubic"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Monotone X cubic")+'</option><option value="Monotone Y cubic"'+("Monotone Y cubic"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Monotone Y cubic")+'</option><option value="Cubic CatmullRom"'+("Cubic CatmullRom"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Cubic Catmull-Rom")+'</option><option value="Cubic cardinal"'+("Cubic cardinal"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Cubic cardinal")+'</option><option value="Cubic basis"'+("Cubic basis"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Cubic basis")+'</option><option value="Straightened cubic basis"'+("Straightened cubic basis"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Straightened cubic basis")+"</option></select>";else if("colors"==e.input.variant){a+='<button class="aui-button aui-dropdown2-trigger" aria-owns="tf-chart-colors-'+soy.$$escapeHtml(e.index)+"-"+soy.$$escapeHtml(e.input.id)+'" data-aui-alignment-container="#inline-dialog-tf-chart-colors" aria-haspopup="true"><a class="tfc-color selected" data-color="'+soy.$$escapeHtml(e.input.color)+'" style="background: '+soy.$$escapeHtml(e.input.color)+';"></a></button><div id="tf-chart-colors-'+soy.$$escapeHtml(e.index)+"-"+soy.$$escapeHtml(e.input.id)+'" class="aui-style-default aui-dropdown2 tfc-color-dd" data-aui-dom-container="#'+soy.$$escapeHtml(e.formId)+'"><ul>';for(var m=["#8eb021","#d04437","#3572b0","#f6c342","#654982","#f691b2","#2484c1","#65a620","#7b6888","#d8d23a","#e98125","#6ada6a","#0c6197","#e4a14b","#8cc3e9","#a3acb2","#69a6f9","#cc1010","#31383b","#000000","#ffffff"],$=m.length,y=0;y<$;y++){var b=m[y];a+='<li class="tfc-li-color"><a class="tfc-color" data-color="'+soy.$$escapeHtml(b)+'" style="background: '+soy.$$escapeHtml(b)+';" data-index="'+soy.$$escapeHtml(e.index)+'"></a></li>'}a+="</ul></div>"}else if("color scheme"==e.input.variant)a+='<select class="select macro-param-input" id="macro-param-barColoringType"><option value="mono" '+("mono"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Single color")+'</option><option value="multi" '+("multi"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Multicolor")+'</option><option value="columns" '+("columns"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Colors in table columns")+"</option></select>";else if("range"==e.input.variant){var v=e.input.isDate?"date":"number";a+='<div class="'+soy.$$escapeHtml(v)+'s range" data-type="'+soy.$$escapeHtml(e.input.type)+'">'+soy.$$escapeHtml("from")+'<input type="text" class="text '+soy.$$escapeHtml(v)+' from" name="'+soy.$$escapeHtml(e.input.field)+"-from-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-from-"+soy.$$escapeHtml(e.index)+'" '+(e.input.value?' value="'+soy.$$escapeHtml(e.input.value)+'" ':"")+(e.input.isDate?' placeholder="'+soy.$$escapeHtml("Pick date")+'" ':"")+"/>"+soy.$$escapeHtml("to")+'<input type="text" class="text '+soy.$$escapeHtml(v)+' to" name="'+soy.$$escapeHtml(e.input.field)+"-to-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-to-"+soy.$$escapeHtml(e.index)+'" '+(e.input.valueTo?' value="'+soy.$$escapeHtml(e.input.valueTo)+'" ':"")+(e.input.isDate?' placeholder="'+soy.$$escapeHtml("Pick date")+'" ':"")+"/></div>"}return a},{}.DEBUG&&(t.field.soyTemplateName="TFACInlineDialogTemplates.field"),e.exports=t},26511:function(e,t,a){"use strict";a.r(t),a.d(t,{gaHeaderFilterAdded:function(){return r},gaMacroBrowserFilterAdded:function(){return d},gaMacroBrowserMacroChartAdded:function(){return f},gaMacroBrowserMacroSheetIncludeAdded:function(){return $},gaMacroBrowserMacroTFAdded:function(){return u},gaMacroBrowserMacroToolboxAdded:function(){return m},gaPanelFilterAdded:function(){return p},gaQuickChartMacroChartAdded:function(){return o},gaQuickMacroToolboxAdded:function(){return s},gaQuickSheetMacroSheetAdded:function(){return c},gaQuickTFMacroTFAdded:function(){return n}});var l=a(89494),i=a(64125);const n=e=>{(0,l.ga4SendEvent)("quickTF_macroTF_added",{countTables:e})},o=e=>{(0,l.ga4SendEvent)(`quickChart${"custom"===e?2:3}_macroChart_added`,{type:i.mapChartType[e]})},s=(e,t)=>{(0,l.ga4SendEvent)(`${t}_macroToolbox_added`,{type:e})},c=()=>{(0,l.ga4SendEvent)("quickSheet_macroSheet_added",{property:3})},r=(e,t)=>{(0,l.ga4SendEvent)("headerTF_filter_added",{type:i.mapFilterName[e],filterType:t})},p=(e,t)=>{(0,l.ga4SendEvent)("panelTF_filter_added",{type:i.mapFilterName[e],filterType:t})},u=()=>{(0,l.ga4SendEvent)("browserTF_macroTF_added")},d=(e,t)=>{(0,l.ga4SendEvent)("browserTF_filter_added",{type:i.mapFilterName[e],filterType:t})},f=e=>{(0,l.ga4SendEvent)("browserChart_macroChart_added",{type:i.mapChartType[e]})},m=e=>{(0,l.ga4SendEvent)("browserToolbox_macroToolbox_added",{type:e})},$=e=>{(0,l.ga4SendEvent)("browserSheetInc_macroSheetInc_added",{property:e})}},33893:function(e,t,a){"use strict";a.r(t);var l=a(68631),i=a(79463),n=a(15923);t.default=(e,t,a)=>{if(!(0,i.default)(e)){try{const l=(0,n.default)(e,t,a);e=l.getTime()-6e4*l.getTimezoneOffset()+""}catch(e){}e=e.replace(/,/g,l.ALTERNATE_COMMA)}return e}},40452:function(e,t,a){"use strict";a.r(t);var l=a(40709);t.default=function(e){return(null==e?void 0:e.toLowerCase())===l.currentUser}},78447:function(e,t,a){"use strict";a.r(t);a(88220),a(4267),a(73049),a(73406);var l=a(15923),i=new RegExp(/^\d+[ymwd]$/,"i");t.default=(e,t,a)=>{try{return(0,l.default)((e=>(""+e).trim().match(i)?"+"+e:e)(e),t,a)}catch(t){return AJS.log("Error while filtering by date '"+e+"': "+t),!1}}},79463:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var l=a(19738),i=a(14412),n=a(80326),o=[e=>{var t=(0,n.clearString)(e).toLowerCase();return-1!==i.DAY_KEY_WORDS.indexOf(t)},e=>null!=(0,l.stringToMatches)(e)],s=e=>o.some((t=>t(e)))},99629:function(e,t,a){"use strict";a.r(t),a.d(t,{applyMacroColors:function(){return p},getFormValue:function(){return r},setBarColoringType:function(){return u}});a(63348),a(84550),a(4267),a(63544),a(22901);var l=a(3809),i=a.n(l),n=a(68631),o=a(33893),s=a(96290),c={FIELD_VARIANTS:{CHECKBOX:"checkbox",COLORS:"colors",COLOR_SCHEME:"color scheme",INTERPOLATION_SELECT:"interpolation_select",LINE_SETTINGS:"line_settings",NUMBER:"number",SINGLE_SELECT:"single_select",TEXT:"text",TEXTAREA:"textarea",PASSWORD:"password",RANGE:"range"},isMultiSelectFilter:function(e){return"icon"===e||"select_"===e||"hideColumns"===e},isAllColumnsFilter:function(e){return"global"===e||"hideColumns"===e},isRangeFilter:function(e){return"number_"===e||"date_"===e},fieldTypeToVariant:function(e){var t;switch(e){case"date_":case"number_":t=c.FIELD_VARIANTS.RANGE;break;case"hideColumns":case"select_":case"icon":t=c.FIELD_VARIANTS.SINGLE_SELECT;break;default:t=c.FIELD_VARIANTS.TEXT}return t},initAJSDialog:function(e){return AJS.InlineDialog(e.container,e.dialogName,(function(t,a,l){return t.html(e.getContent()),l(),!1}),{initCallback:function(){var t=this;t.popup.find("#cancel-"+e.dialogId).click((function(){return t.hide(),"function"==typeof e.cancelCallback&&e.cancelCallback(),!1})),t.popup.find("#apply-"+e.dialogId).click((function(){return $(this).prop("disabled",!0),t.hide(),"function"==typeof e.applyCallback&&e.applyCallback(t),!1})),t.popup.find(".aui-dropdown2").click((function(){return!1})),"function"==typeof e.bindsCallback&&e.bindsCallback(t)},hideCallback:function(){"function"==typeof e.hideCallback&&e.hideCallback()},hideDelay:null,gravity:e.options.gravity||"n",persistent:e.options.persistent,width:e.options.width,offsetX:e.options.offsetX,noBind:e.options.noBind,addActiveClass:e.options.addActiveClass||!0})},getColorsDialogOptions:function(e,t,a){var l,n,o,d=a?e:e.TableChart;return{getContent:function(){o||(o=d.barColoringType,!a&&e.calculateColors()),n="columns"===d.barColoringType&&(e.isPie||e.isGantt||e.isBar);var s=d.getAllChartColorLabels();l=d.colors.slice(0,s.length);var r=[],p=(a?e.tableColumnsCache:e.tableColumns).slice();return p.unshift(""),d.getColorLabelsForMenu().forEach((function(e,a){n?r.push({field:e,id:t,variant:c.FIELD_VARIANTS.SINGLE_SELECT,selects:p,fakeSelects:[],type:"single-select",value:[d.colorColumns[a]||""]}):r.push({color:l[a%l.length],field:e,id:t,variant:c.FIELD_VARIANTS.COLORS})})),r.unshift({field:"Color scheme",variant:c.FIELD_VARIANTS.COLOR_SCHEME,value:d.barColoringType}),i().inlineDialog({clazz:"tf-chart-colors-".concat(n?"columns-":"","dialog"),name:"chart-colors",inputs:r,dialogId:t})},applyCallback:function(t){if(o=d.barColoringType,n){var i=t.popup.find("form"),s={};r(i,{values:s}),d.colorColumns=[],Object.values(s).forEach((e=>d.colorColumns.push(...e.split("&&")))),d.colorColumns.shift(),e.pieKeys=d.pieKeys}else l=p(e,d,l),a&&(d.colorsCache=l.slice());a&&(d.triggerSettingsButtonInvoke(),d.enableSaveBtn(),d.draw())},bindsCallback:function(t){var i=t.popup.find("#macro-param-barColoringType");switch(i.parent().addClass("barColoringType"),i.change((function(){u(d,this.value),t.popup.show()})),i.children().fadeIn(),a?d.type:e.typeSelect.val()){case s.CHART_TYPE_PIE:case s.CHART_TYPE_DONUT:i.children(":nth-child(1)").fadeOut(0),0===i.prop("selectedIndex")&&(d.barColoringType="multi")&&i.prop("selectedIndex",1);break;case s.CHART_TYPE_STACKED_COLUMN:case s.CHART_TYPE_STACKED_BAR:i.children(":nth-child(2)").fadeOut(0),1===i.prop("selectedIndex")&&(d.barColoringType="mono")&&i.prop("selectedIndex",0);break;case s.CHART_TYPE_GANTT:case s.CHART_TYPE_COLUMN:case s.CHART_TYPE_BAR:break;default:i.parent().fadeOut(0)}t.popup.find(".tfc-color:not(.selected)").on("click",(function(){var e=$(this);l[e.data("index")-1]=e.data("color"),t.popup.find("button .tfc-color").eq(e.data("index")-1).css("background",e.data("color")).attr("data-color",e.data("color"))}))},hideCallback:function(){a&&d.controls.removeClass("active"),o!==d.barColoringType&&u(d,o),o=null}}}};t.default=c;var r=function(e,t,a){e.find("div.field-group").find("select, .simple-input, .range, .checkbox").each((function(){var e=$(this),l=e.data("type"),i="global"==l||"hideColumns"==l?"":e.prev().text();if(e.hasClass("checkbox"))t.values[l+i]=e.is(":checked");else if(e.hasClass("simple-input"))t.values[l+i]=a?e.val():e.val().replace(/,/g,n.ALTERNATE_COMMA);else if(e.hasClass("range")){var s=e.find(".from").val(),c=e.find(".to").val();if(t.locale&&e.hasClass("dates"))try{s=(0,o.default)(s,t.dateFormat,t.locale),c=(0,o.default)(c,t.dateFormat,t.locale)}catch(e){}t.values[l+i]=(s+"->"+c).replace(/,/g,n.ALTERNATE_COMMA)}else{var r=[];e.find("option:selected").each((function(){r.push(this.textContent.replace(/,/g,n.ALTERNATE_COMMA))})),t.values[l+i]=r.join("&&")}}))},p=(e,t,a)=>{t.getColorLabelsForMenu().forEach(((e,l)=>{t.colorKeyMap[e]=a[l]})),e.setChartKeys();var l=t.getAllChartColorLabels().map((e=>t.colorKeyMap[e]));return e.colors=l,e.pieKeys=t.pieKeys,l},u=(e,t)=>{e.barColoringType=t,e.calculate()}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e2efce3b486eea72e73612961e8363ea', location = 'build/709.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[709],{40709:function(t,e,n){n.r(e),n.d(e,{currentUser:function(){return r},pTag:function(){return u}});const r="@currentuser",u="temp-paragraph-tag"}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:90dc23ace975ac7cc4d480be484deba7', location = 'build/5829.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5829],{2068:function(t,e,a){a.r(e);var n=t=>{var e=t+"",a=e.lastIndexOf(".")+1;return a?e.length-a:0};e.default=(t,e)=>Math.min(Math.max(n(t),n(e)),20)},34401:function(t,e,a){a.r(e),a.d(e,{gaBrowserAppendRateEvent:function(){return r},gaMenuAppendRateEvent:function(){return i},gaSendRateEvent:function(){return o}});var n=a(89494);const o=t=>{(0,n.ga4SendEvent)(`${t}_rateAddon_clicked`)},r=(t,e,a)=>{"Trans"===t&&(t="TT");$(e?`${e} .macro-desc .tf-menu-star`:"#macro-insert-container .macro-desc > .macro-rate-link",a).on("click",(()=>o(`browser${t}`)))},i=(t,e)=>{$(".tf-menu-star",e).on("click",(()=>{o(`menu${t}`)}))}},54988:function(t,e,a){a.r(e);a(51048),a(16335);var n=a(2068);e.default=(t,e)=>parseFloat(parseFloat(t+e).toFixed((0,n.default)(t,e)))},56565:function(t,e,a){a.r(e),a.d(e,{TABLE_FILTERED_EVENT:function(){return n},TABLE_FILTERED_EVENT_BEFORE:function(){return o}});const n="tf-filtered-table",o=n+".before"},84682:function(t,e,a){a.r(e);var n=a(86422);e.default=({messageState:t,previewTutorial:e,noTableMessage:a,waitingMessage:u,wrapper:l,customNoTableMsgText:c})=>{t!==n.MessageState.Tutorial?(r(e,l),t!==n.MessageState.Waiting?(u.hide(),t!==n.MessageState.NoTable?t===n.MessageState.Empty?a.hide():s(a,c):a.show()):i(a,u)):o(e,u,l)};const o=(t,e,a)=>{t.show(),e.hide(),a?.hide()},r=(t,e)=>{t.hide(),e?.show()},i=(t,e)=>{t.hide(),e.show()},s=(t,e)=>{t.find("p").text(e),t.show()}},86422:function(t,e,a){var n;a.r(e),a.d(e,{MessageState:function(){return n}}),function(t){t[t.Tutorial=0]="Tutorial",t[t.Waiting=1]="Waiting",t[t.NoTable=2]="NoTable",t[t.CustomNoTable=3]="CustomNoTable",t[t.Empty=4]="Empty"}(n||(n={})),e.default=({isEditor:t,isCloud:e,hasLoadingContent:a,tableContainer:o,params:r})=>{const i=o.data("hasFrame");if(t&&e&&!i)return n.Tutorial;if(i||a)return n.Waiting;const{customNoTableMsg:s,customNoTableMsgText:u}=r;return s?u?.trim()?n.CustomNoTable:n.Empty:n.NoTable}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7737a05252dc22c533eb536b72b1edf7', location = 'build/590.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[590],{80590:function(t,e,n){n.r(e),n.d(e,{hashCode:function(){return l}});const l=(t="")=>{let e=0;if(0===t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n);return 0|e}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:33e649a6929493ae062acf4b945b4096', location = 'build/5211.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5211],{17862:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});n(64707),n(16335),n(2304),n(4267),n(73049),n(37567),n(73406);var o=n(23589),a=n(15368),r=n(14412);var i=n(37460);function l(t,e){var n=0,o=0;e.length&&(o=e[0],e.shift());for(var a=0;a<t.length;a++){var r=$(t[a]);if(!r.hasClass("tf-hidden-column")&&!r.hasClass("pivot-hidden-column")&&"none"!==r[0].style.display){n+=r[0].colSpan;for(var i=r[0].rowSpan-1,l=0;l<i;l++)e[l]=(e[l]||0)+r[0].colSpan}}return n+o}function s(t){var e,n,o,a,r,i,l,s=t&&"transparent"!=t?t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)[,]*(\d+(?:\.\d+)?)*/i):["noColor"];if(-1!==s[0].indexOf("rgba")){var c=(e=parseInt(s[1]),n=parseInt(s[2]),o=parseInt(s[3]),a=parseFloat(s[4]),r=255,i=255,l=255,[Math.round((1-a)*r+a*e),Math.round((1-a)*i+a*n),Math.round((1-a)*l+a*o)]);s[1]=c[0],s[2]=c[1],s[3]=c[2]}return s&&5===s.length?"#"+("0"+parseInt(s[1],10).toString(16)).slice(-2)+("0"+parseInt(s[2],10).toString(16)).slice(-2)+("0"+parseInt(s[3],10).toString(16)).slice(-2):[255,255,255]}function c(t){return t.stack&&t.stack.some((function(t){return d(t)}))}function d(t){return Array.isArray(t)?t.some((function(t){return u(t)})):u(t)}function u(t){return!(!t.text&&!t.image)||(t.ol||t.ul?(t.ol||t.ul).some((function(t){return d(t)||c(t)})):t.table?t.table.body.some((function(t){return t.some((function(t){return c(t)}))})):c(t))}var p=(t,e)=>{var n=0,d=!1,u=function(){0===n&&d&&(window.TFSolutionBug&&window.TFSolutionBug.loadOriginalNativeFunctions(),window.pdfMake.createPdf(f).download("export.pdf",(function(){window.TFSolutionBug&&window.TFSolutionBug.loadSavedCurrentNativeFunctions()})))},p=function(t){var e=!1,n=$(t),o=n.width(),a=[];n.hasClass("fixed-table")?(n.find("col").filter((function(){return"none"!==this.style.display})).each((function(){a.push(parseInt($(this).css("width"))/h/1.2)})),o>770&&(e=!0)):o>870&&(e=!0);var d,u={headerRow:1,style:"tableStyle",table:{widths:a,body:[]},layout:{hLineColor:"#ddd",vLineColor:"#ddd",paddingLeft:function(){return 6},paddingRight:function(){return 6},paddingTop:function(){return 3},paddingBottom:function(){return 3}},pageOrientation:e?"landscape":"portrait",pageBreak:""},p=f.content.length;p&&f.content[p-1].pageOrientation!==u.pageOrientation&&(u.pageBreak="before");for(var g=-1,b=[],w={},v=0,m=0;v<t.rows.length;v++)if(d=t.rows[v],(0,i.isRowVisible)(d)&&!d.classList.contains(r.TF_HEADER_HIDDEN)){u.table.body.push([]);var S=l(d.cells,b);if(S>g){if(-1!=g)for(var y=0;y<m;y++)for(var k=0;k<S-g;k++)u.table.body[y].push({text:"\n",style:"cell",rowSpan:1,colSpan:1});g=S}for(var x=0,T=0;T<d.cells.length;T++){var L=$(d.cells[T]);if("none"!==L[0].style.display&&!L.hasClass("tf-hidden-column")&&!L.hasClass("pivot-hidden-column")){if(w[m]){for(;w[m][x];){for(var I=0;I<w[m][x];I++)u.table.body[m].push({text:"\n",style:"cell",rowSpan:1,colSpan:1,color:s(L.css("color")),fillColor:s(L.css("background-color"))});x+=w[m][x]}w[m][x]=0}var O=!1;"bold"==$(d).css("font-weight")&&(O=!0);var B={stack:C({parent:L[0],parentContent:[],parentStack:[],parentDecoration:[]})[0],style:0===v||O?"header":"cell",rowSpan:parseInt(L.attr("rowspan"))||1,colSpan:parseInt(L.attr("colspan"))||1,color:s(L.css("color")),fillColor:s(L.css("background-color"))};c(B)||B.stack.push({text:"\n"}),u.table.body[m].push(B);for(var M=1;M<L[0].colSpan;M++)u.table.body[m].push({text:"\n",style:"cell",rowSpan:1,colSpan:1});for(I=1;I<L[0].rowSpan;I++)w[m+I]||(w[m+I]={}),w[m+I][x]=L[0].colSpan;x+=L[0].colSpan}if(T===d.cells.length-1){for(k=0;k<g-S;k++)u.table.body[m].push({text:"\n",style:"cell",rowSpan:1,colSpan:1,color:s(L.css("color")),fillColor:s(L.css("background-color"))});if(w[m]){for(;w[m][x];){for(I=0;I<w[m][x];I++)u.table.body[m].push({text:"\n",style:"cell",rowSpan:1,colSpan:1,color:s(L.css("color")),fillColor:s(L.css("background-color"))});x+=w[m][x]}w[m][x]=0}}}m+=1}for(v=0;v<g;v++)u.table.widths.push("auto");return u};pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}};var h=1.4,f={content:[],styles:{header:{fontSize:10,bold:!0,color:"#333333"},cell:{fontSize:10,color:"#333333"},tableStyle:{marginTop:10}},defaultStyle:{},pageOrientation:"portrait",pageBreak:""},g=!0,b=t.filter("#pngdataurl").find("img"),w=0!==b.length;if(e&&w){var v=b.get(0).width,m=b.get(0).height,S=!1;v>590&&m>510&&(S=!0),v>590?(f.pageOrientation="landscape",m>510&&(m=510),v>800&&(v=800)):m>700&&(m=700);var y={image:b.attr("src"),alignment:"center",fit:[v,m],pageOrientation:f.pageOrientation};S&&(y.margin=[0,0,0,40]),f.content.push(y),g=!1}"none"!==t.css("display")&&(o.default.getTablesAndPlaintTextForExport(t).each((function(){if("table"===this.tagName.toLowerCase()){if(!this.rows.length)return!0;var t=$(this);t.find("thead.tableFloatingHeader tr").hide(),t.find("tr:not(:has(td,th))").hide();var n=t.width();if(n>1200&&(f.styles.header.fontSize=6,f.styles.cell.fontSize=6,h=14/6),g&&(!e||!w))n>(t.hasClass("fixed-table")?770:870)&&(f.pageOrientation="landscape");f.content.push(p(this)),t.find("thead:eq(1) tr").show(),g=!1}else f.content.push({text:this.innerText})})),t.find("table").each((function(){$(this).data("counted-for-pdf",!1)})));function C(t){var{parent:e,parentContent:o,parentStack:i,parentDecoration:l,href:c,parentBgColor:d}=t,f=$(e);if("none"!=f.css("display")&&!f.is("".concat(r.TF_CONTROL_ELEMENTS_SELECTOR,", .pivot-controls, .tj-exports, .pivot-hidden, .tj-hidden"))){var g=f.css("font-weight"),b=f.css("background-color");b="rgba(0, 0, 0, 0)"===b?d:s(b),$.each(e.childNodes,(function(){var t,r,d=this;if(3==d.nodeType){var w=d.nodeValue?d.nodeValue:"";w.indexOf("\n")>=0&&(w=(w=w.trim())?" "+w+" ":"");var v={text:w,bold:"bold"===g||"700"===g,italics:"italic"===f.css("font-style"),alignment:f.css("text-align"),color:s(f.css("color")),background:b,decoration:l,decorationColor:"black",fontSize:parseInt(f.css("font-size"))/h,sup:"SUP"===e.tagName,sub:"SUB"===e.tagName,link:c};f.hasClass("status-macro")&&(v.text=" "+v.text+" ",v.alignment=f.parent().css("text-align")),o.push(v),1==o.length&&i.push({text:o})}else if(1==d.nodeType){var m,S=function(t){var e=[],n=t.css("text-decoration")||"";n.includes("underline")&&e.push("underline");n.includes("line-through")&&e.push("lineThrough");return e}($(d)),y=d.tagName;if("TABLE"==y)i.push(p(d)),o=[];else if("IMG"==y){var k={image:"",width:d.width/1.5};n++;var x=(0,a.getBase64Image)(d,(function(t,e){k.image=t,n--,u(),t?(i.push(k),o=[]):e&&(i.push({text:e}),o=[])}));x&&(k.image=x,n--,i.push(k),o=[])}else{var T={parent:d,parentContent:[],parentStack:[],parentDecoration:S,parentBgColor:b};"P"==y||"DIV"==y&&d.classList.contains("line")?(i.push(C(T)[0]),o=[]):"UL"==y?(m=C(T)[0],i.push({ul:m}),o=[]):"OL"==y?(m=C(T)[0],i.push({ol:m}),o=[]):"LI"==y?(m=C(T)[0],i.push(m),o=[]):"BR"==y?(i.push({text:"\n"}),o=[]):"STYLE"!=y&&(o=C({parent:d,parentContent:o,parentStack:i,parentDecoration:(t=S,r=l,t.concat(r.filter((function(e){return t.indexOf(e)<0})))),href:c||d.href,parentBgColor:b})[1])}}}))}return[i,o]}d=!0,u()}},87600:function(t,e,n){n.r(e),n.d(e,{ThemeHandler:function(){return r}});var o=n(49484);let a=document.documentElement.dataset.colorMode||"light";new o.default((t=>{a=t.colorMode||"light"})).observe();class r{constructor(t=!0){this.withLightTheme=async t=>{"dark"===a?(this.setColorMode("light"),await t(),this.setColorMode("dark")):await t()},this.withThemeSupport=async t=>{this.switchToLight?await this.withLightTheme(t):await t()},this.switchToLight=t}setColorMode(t){document.documentElement.setAttribute("data-color-mode",t)}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:2f8266c3a19c0b33ddffb180ccb727e8', location = 'build/4980.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4980],{15368:function(t,e,n){n.r(e),n.d(e,{getBase64Image:function(){return a}});const a=(t,e)=>{let n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;let a=n.getContext("2d");try{a?.drawImage(t,0,0);const r=n.toDataURL();return r&&"data:,"!==r?r:(e("",t.alt),"")}catch(r){n=document.createElement("canvas"),n.width=t.naturalWidth,n.height=t.naturalHeight,a=n.getContext("2d");const c=new Image;return c.setAttribute("crossOrigin","anonymous"),c.onload=function(){a?.drawImage(c,0,0),e(n.toDataURL())},c.onerror=function(){e("",t.alt)},c.src=t.src,""}}},58021:function(t,e,n){n.r(e);n(16335);e.default=t=>!isNaN(parseFloat(t))&&isFinite(t)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:c63f09282b137d81e4ba509e88f70dc6', location = 'build/745.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[745],{60745:function(e,t,r){r.r(t),r.d(t,{saveChanges:function(){return a}});var o=r(83874);const n={decimals:void 0,"thousand-separator":"",column:"",row:"",aggregation:"",interpolation:["Linear"],xminvalue:"",xmaxvalue:"",minvalue:"",maxvalue:"",xscalestep:"",scalestep:"",xtitle:"",ytitle:"",title:"",totalcol:"",showNRowsifNotFiltered:"",rowsPerPage:"",ignoreFirstNrows:"",limitHeight:"",fixedCols:""},s=e=>{const t={};return Object.entries(e).forEach((([e,r])=>{const o=String(r).toLowerCase();t[e]="true"===o||"false"!==o&&r,"number"==typeof r&&(t[e]=String(r))})),Object.entries(n).forEach((([r,o])=>{e[r]||(t[r]=o)})),t};var i=r(89494);const a=(e,t,r,n)=>{const a=Object.keys(r);(0,o.getDifferentKeysByValue)((0,o.pickProperties)(s(e),a),(0,o.pickProperties)(s(t),a)).forEach((t=>{const o=r[t],s={};if(o.hasProperty){const r=e[t];s.property=Array.isArray(r)?r.join(","):r}o.type&&(s.type=o.type),(0,i.ga4SendEvent)(`${n}_${o.event}_updated`,s)}))}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:205d5f573d4e06b33101326b524e5c7b', location = 'build/2055.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2055],{22055:function(t,e,n){n.r(e),n.d(e,{hasLoadingContent:function(){return a}});const a=t=>!$("body.content-preview").length&&t.find(".jim-sortable-dark-layout, table.ppr > caption, .aui-restfultable-loading, .adaptavist-rest-table:not(.aui-restfultable), .converter-macro-ajax-container .aui-spinner, .aui-progress-indicator").filter((function(){const e=$(this);return"none"!==e.css("display")&&0===e.closest("td").closest(t).length})).length>0}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:244704148d293df3c5e648454d51e28d', location = 'build/6761.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6761],{16416:function(t,e,n){n.r(e),n.d(e,{default:function(){return a}});var i=n(19503);const r=t=>!1,o=[".jira-issue",".plugin-contributors",".plain-text",".aui-message.tj-rendered"].join();function a(t,e){return t.is(o)||t.is(i.GENERIC_MENTION_SELECTOR)||t.hasClass("date-lozenger-container")||"select2-chosen"===e.className||r(e)}},80265:function(t,e,n){n.r(e),n.d(e,{addIframe:function(){return o}});var i=n(18984),r=n(14412);function o(t,e,n){let o=!1;try{const c=function(t){return a(t,t.find("iframe"))}(t),l=o=>{!function(t,e,n,o){const a=$(t);let c=a.contents();const l=function(){const t=c.find("table");t.length&&(e=e.add(c.find("html").addClass(n)).data("hasFrame",!0),t.data("iframe",a),setTimeout((function(){o(e)}),50))};let f;const u=function(){l();const t=function(t){!["resize-sensor","total-row",r.TF_HEADER_HIDDEN].some((e=>t.classList?.contains(e)))&&"SCRIPT"!==t.tagName&&!t.id?.includes("sizzle")&&t.querySelector?.(":scope > :not([id^=sizzle])")&&t.isConnected&&(clearTimeout(f),f=setTimeout(l,100))};new MutationObserver((function(e){const n=s(e);Array.prototype.forEach.call(n,t)})).observe(c[0],{childList:!0,subtree:!0})};a.on("load",(function(){c=a.contents(),u(),i.default.loadIframeGadgetStyleResources?.(c)})),c.ready(u),c.find("table").length&&(e=e.add(c.find("html").addClass(n)))}(o,t,e,n)};o=!!c.length,c.each(((t,e)=>l(e)));const f=c.filter(".gadget");f.length&&t.bind("tf-filtered",(()=>{f.each((function(){const t=$(this),e=t.contents().find("body"),n=e.children("div.gadget").outerHeight(!0)||e.outerHeight(!0);t.height(n)}))}));const u=new MutationObserver((function(e){const n=s(e),i=Array.prototype.flatMap.call(n,(t=>{if("IFRAME"===t.nodeName)return t;if(t.getElementsByTagName){Array.from(t.getElementsByTagName("iframe"));const e=t.getElementsByTagName("iframe");return Array.from(e)}})).filter((t=>!!t));a(t,$(i)).toArray().forEach((t=>l(t)))}));t.each((function(){u.observe(this,{childList:!0,subtree:!0})}))}catch(t){}return t.data("hasFrame",o)}function a(t,e){return e.not('.hidden, .gliffy-html5-container, [id^="com.bilith.lref.confluence-gdrive"], .youtube-player, [id^="lucidchart"]').filter((function(){return-1===t.find(".pivot-content > .original-table, .table-joiner > .tj-source").find("iframe").index(this)&&-1===t.find("table iframe").index(this)}))}const s=t=>t.filter((t=>t.addedNodes.length)).flatMap((({addedNodes:t})=>[...t]))},80356:function(t,e,n){function i(t){const e=t?.target;return e?.classList?.contains("sp-highlight-term")||$(e).parents(".sp-highlight-term").length}n.r(e),n.d(e,{default:function(){return i}})},92387:function(t,e,n){function i(t){return t.is("th,td")}n.r(e),n.d(e,{default:function(){return i}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:0ad06f0f3fa6fd14983ff8c1920e5aca', location = 'build/4215.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4215],{8637:function(e,n,r){r.r(n);var t=r(85269),a=r(12544),o=r.n(a),l=r(14412);const i=e=>{e.prepend(e.children("tbody").nextAll("thead"))},c=e=>{if((0,t.default)(e)&&!e[0].tHead){const n=e.parents(".flexigrid").find(".hDivBox thead").clone();n.hide(),e.prepend(n)}},s=(e,n,r)=>{if(!e.hasClass("pivot-table-result")&&(d(e),n.rows?.length)){const t=f(n);E(e,n,t,r)}},d=e=>{e.find(l.TF_HEADER_HIDDEN_CLASS).remove(),e.find(l.PIVOT_HEADER_CLASS).removeClass(l.PIVOT_HEADER)},f=e=>{const n=$(e.rows).not(".tableFloatingHeader tr");let r=0,t=1;const a=[];let o=!1,l=!0;do{const e=n.eq(r),i=e.children().not(".fake, .tf-numbering, .total-col, .tf-sparkline-header"),c=l&&(o||0===i.filter("td").length),s=r+1;o=c&&n.length>s&&u(n,s);const d=i.map((function(){return Math.max(this.rowSpan,o?Math.min(this.colSpan,2):1)})),f=Math.max.apply(null,d.toArray());l=l&&c,t=Math.max(t,f),(r>0||t>1)&&p(e,i,a),r++,t--}while(t>0&&e.rows.length>r);return a},u=(e,n)=>0===e.eq(n).children("td").length,p=(e,n,r)=>{e.addClass(l.PIVOT_HEADER);let t=0;n.each((function(){t=h(r,t),t=v(this,r,t)}))},h=(e,n)=>{for(;e.length>n&&e[n].rowSpan>1;)e[n++].rowSpan--;return n},v=(e,n,r)=>{for(let t=e.colSpan;t>0;t--)n.length<=r&&(n[r]={html:"",rowSpan:1}),n[r].html+="&nbsp;"+e.innerHTML,n[r].rowSpan=e.rowSpan,r++;return r},E=(e,n,r,t)=>{if(r.length){const a={data:r};t?(w(n,e),e.prepend(o().mergedHeader(a))):$(n.rows[0]).before(o().mergedHeaderRow(a)),e.addClass(l.TABLE_MERGED_HEADER)}},w=(e,n)=>{if(e.tHead){const r=n.children("thead"),t=r.children(),a=e.tBodies;(a.length?a[0]:e).prepend(...t.toArray()),r.remove()}};n.default=(e,n,r=!1)=>{e.each((function(){const e=this,t=$(e);(!n||"true"!==t.attr(n))&&(i(t),c(t),s(t,e,r))}))}},89835:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});r(39066),r(64707),r(63348),r(57561),r(37567),r(22901),r(84550),r(63544);var t=r(14412);function a(e){var{rowSpan:n=1,colSpan:r=1}=e;return e.classList.add("tf-rowspan-"+n),e.classList.add("tf-colspan-"+r),e}function o(e,n){var r=n.parentNode.rowIndex,t=e[r];return t||(t={row:n.parentNode,rowIndex:r,cells:[],indxeMapping:[]},e[r]=t),t.cells.push(n),e}function l(e){return!(null==e||!e.parent)}function i(e,n){n.reduce(((e,n)=>{var r=c(n);if(e){var{parentNode:t,nextElementSibling:a}=e;t&&(a?t.insertBefore(r,a):t.appendChild(r))}return r}),e)}function c(e){var n=e.parent.cloneNode(!0),r=e.size;return n.colSpan=r.c,n.rowSpan=r.r,n.style.display="none",n.dataset.rowspan=r.r,n.dataset.colspan=r.c,n.classList.add("fake","synchrony-exclude"),n}function s(e){if(u(e))for(var n=$.data(e,"childCell");n;n=$.data(n,"childCell"))if(f(n)){n.style.display="";break}}function d(e){if(u(e)){var n=$.data(e,"childColCell");n&&(n.style.display="")}}function f(e){return"none"!==(null==e?void 0:e.parentNode.style.display)}function u(e){return"none"!==e.style.display&&f(e)}function p(e,n){var r=$(e);Object.values(n).forEach((e=>{e.forEach((e=>{r.on(e.type,e.handler)}))}))}var h=function(e){!function(e){e.querySelectorAll(".fake").forEach((e=>e.remove()))}(e);var n=function(e){var n=Array.from(e.querySelectorAll("[rowspan],[colspan]"));return function(e,n){var r=!!n.getElementsByTagName("table").length;if(r){var t=Array.from(n.rows);e=e.filter((e=>t.includes(e.parentNode)))}return e}(n,e)}(e);!1===$(e).data(t.TABLE_DATA_MERGED)&&function(e){e.forEach((e=>{var n=$.data(e,"rowspan"),r=$.data(e,"colspan");n&&(e.rowSpan=n),r&&(e.colSpan=r)}))}(n);var r=function(e){return e.map(a).reduce(o,[])}(n);if(r.length){var f=function(e,n){return e.slice(0,n.rows.length)}(r.reduce(((e,n)=>{var{rowIndex:r}=n,t=e[r];t||(t=[],e[r]=t);var a=-1,o=-1;return n.cells.forEach((n=>{var{cellIndex:i,rowSpan:c=1,colSpan:s=1}=n;if(1!==c||1!==s){var d=function(e,n,r,t){var a=r,o=t;do{l(e[++o])||a++}while(a<n);return{position:o,index:a}}(t,i,o,a);!function(e,n,r,t,a,o){for(var l=0;l<a;l++){var i=e[l+r];i||(i=[],e[l+r]=i);for(var c=0;c<o;c++)i[c+t]={parent:n,size:{r:a-l,c:o-c,rowSpanBind:l>0&&c>0}}}e[r][t]=0}(e,n,r,d.position,c,s),a=d.position+s-1,o=i}})),e}),[]),e);return function(e,n){n.forEach(((n,r)=>{for(var t,a=e.rows[r].cells,o=function(e){return e.reduce(((e,n)=>l(n)?e-1:e),e.length)}(n),s=0,d=n.length-1;d>=0;d--)l(n[d])?s++:(o--,s&&i(a[o],n.slice(d+1,d+1+s)),s=0);s&&(a[0]?(t=a[0],n.slice(0,s).forEach((e=>t.parentNode.insertBefore(c(e),t)))):function(e,n){n.forEach((n=>e.appendChild(c(n))))}(e.rows[r],n.slice(0,s)))}))}(e,f),function(e,n){n.forEach((n=>{n.cells.forEach((r=>{for(var{cellIndex:t,rowSpan:a=1,colSpan:o=1}=r,{rowIndex:l}=n,i=function(n){var r=e.rows[n+l];if(!r)return 1;for(var i=function(i){var c=r.cells[i+t];if(!c)return 1;var f=$(c);if(f.data("rowspan",a-n),f.data("colspan",o-i),n>0){var p=e.rows[n-1+l].cells[i+t];f.data("parentCell",p),$(p).data("childCell",c)}if(i>0){var h=r.cells[i-1+t];f.data("parentColCell",h),$(h).data("childColCell",c),f.on("hideCol",(function(){d(this),function(e){for(var n=$.data(e,"parentColCell");n;n=$.data(n,"parentColCell"))if(u(n)){n.colSpan--;break}}(this)}))}else f.on("hideCol",(function(){d(this)}));n>0?f.on("hideCell",(function(){!function(e){s(e);for(var n=$.data(e,"parentCell");n&&(n.rowSpan--,!u(n));n=$.data(n,"parentCell"));}(this)})):f.on("hideCell",(function(){s(this),0===n&&i>0&&s(this)}))},c=0;c<o&&!i(c);c++);},c=0;c<a&&!i(c);c++);}))}))}(e,r),function(e){return e.classList.contains("pivot-table-result")}(e)&&function(e,n){var r=e.querySelector("tr.pivot-header th"),t=r.colSpan,a=r.rowSpan+1;n.slice(a).forEach((n=>{n.cells.filter((e=>!function(e){var{rowSpan:n=1,colSpan:r=1}=e;return 1===n&&1===r}(e))).forEach((r=>{var{cellIndex:a}=r;if(a<t){var o=r.querySelector(".collapser");if(o){var l=$._data(o,"events");if(!l)return;for(var{rowIndex:i}=n,{rowSpan:c}=r,s=1;s<c;s++){p(e.rows[s+i].cells[a].querySelector(".collapser"),l)}}}}))}))}(e,r),!0}return!1};var v=function(e,n){var r=e.not(".tfac-tj:not(.tie-page-title)");r.each((function(e,r){var a=$(r);if(n||!a.data(t.TABLE_DATA_MERGED)){var o=h(r);a.data(t.TABLE_DATA_PROCESSED_MERGED,o),function(e){var n=function(n){n.flatMap((e=>{var{addedNodes:n,removedNodes:r}=e;return[...Array.from(null!=n?n:[]),...Array.from(null!=r?r:[])]})).some((e=>t.TABLE_RELATED_TAGS.includes(e.nodeName.toLowerCase())))&&($(e).data(t.TABLE_DATA_MERGED,!1),r.disconnect())},r=new MutationObserver(n);return r}(r).observe(r,{childList:!0,subtree:!0})}})),r.data(t.TABLE_DATA_MERGED,!0)}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:28a18f6dbefe1ce8082281d887d85602', location = 'build/3874.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3874],{83874:function(e,t,r){r.r(t),r.d(t,{getDifferentKeysByValue:function(){return c},pickProperties:function(){return s}});var n=r(15995);const c=(e,t)=>{const r=Object.keys(e),c=Object.keys(t);return[...new Set([...r,...c])].filter((r=>{const c=e[r],s=t[r];return Array.isArray(c)&&Array.isArray(s)?!(0,n.default)(c,s):c!==s}))},s=(e,t)=>e&&"object"==typeof e?t.reduce(((t,r)=>r in e?{...t,[r]:e[r]}:t),{}):{}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:63a0e25d1c4f3c02b6ab9cde5108a339', location = 'build/9575.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9575],{10459:function(t,e,a){function n(t,e){t.some((function(t){if(t.addedNodes.length){const a=[];if(Array.prototype.forEach.call(t.addedNodes,(function(t){t.id&&-1!==t.id.indexOf("sizzle")||"div"===t.tagName?.toLowerCase()&&Array.prototype.filter.call(t.children,(t=>t.id&&0===t.id.indexOf("sizzle"))).length||a.push(t)})),a.length)return e($(a),t.target)}else t.removedNodes.length&&Array.prototype.forEach.call(t.removedNodes,(function(a){const n=t.target;"iconWrapper"===a.id&&n.classList.contains("media-file-card-view")&&e($(a),n)}))}))}a.r(e),a.d(e,{default:function(){return n}})},50024:function(t,e,a){a.r(e),a.d(e,{default:function(){return s}});var n=a(14412);function s(t){return t.is("tr")&&!t.hasClass("total-row")&&!t.hasClass(n.TF_HEADER_HIDDEN)}},51011:function(t,e,a){function n(t){return"floating-scrollbar"===t.attr("id")||t.hasClass("fake")||void 0!==t.attr("data-tippy-root")}a.r(e),a.d(e,{default:function(){return n}})},68868:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var n=a(85269),s=a(14412);function r(t){return(t.hasClass("aui-nav-pagination")||t.is("table")||t.hasClass("user-profile-list-result")||"teamcity"===t.attr("id")||t.hasClass("profilelist")||t.hasClass(s.JIRA_ISSUES_COUNT_CLASS)||t.hasClass("jira-table")||t.hasClass("pocketquery-view-container")||t.hasClass("attachments-container")||t.not(".issue-body-content,thead,tbody").find("table").length||t.is("tbody")&&(0,n.default)(t.parent()))&&!t.parent().hasClass("attachment-history-wrapper")}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:37692eb0c2dc5e1ee269cb4b3b4829ec', location = 'build/6269.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6269],{986:function(t,e,n){n.r(e);var a=n(81007),l=n(77262);e.default=(t,e)=>{let n=(0,a.default)(t);return e&&(n=n.filter((function(){const e=$(this).closest(".original-table:not(.table-excerpt),.tj-source:not(.table-excerpt)",t[0]);return 0===e.length||e.is(t)}))),(0,l.default)(t,n,e)}},77262:function(t,e,n){n.r(e),n.d(e,{default:function(){return r}});var a=n(986),l=(n(25372),(t,e)=>{const n=$("div.table-excerpt[data-name]",e).filterByAttr("data-name",t);let a=n.filter('[data-macro-name="table-excerpt"]');return 0===a.length&&(a=n.eq(0)),a});const c=["table-excerpt-include","include","excerpt-include"].map((t=>`[data-macro-name="${t}"]`)).concat([".childtabs-macro .tabs-pane"]).join();var r=(t,e,n)=>(e.each((function(){const e=$(this),r=e.parent().closest(`body, ${c}`),i=e.attr("content");let o=l(i,r);o.length||(o=l(i)),o.length&&(o.addClass(n),e.data("excerpt",o),o=(0,a.default)(o,n),t=t.add(o))})),t)},81007:function(t,e,n){n.r(e);var a=n(68631);e.default=t=>{const e=t.find(".pivot-content > .original-table, .table-joiner > .tj-source").find(a.TEI_NOCOPY_SELECTOR);return t.find(a.TEI_NOCOPY_SELECTOR).filter((function(){return-1===e.index(this)}))}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:190b820289de52c009ad7895c5e117e9', location = 'build/5269.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5269],{85269:function(t,s,e){e.r(s);s.default=t=>{const s=t.attr("id");return s?.startsWith("jiraissues_table_")||t.hasClass("adaptavist-rest-table")}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:032506042e7fc41b8cacaeaa96d9c061', location = 'build/5995.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5995],{15995:function(e,t,n){n.r(t);const f=(e,t)=>{if(typeof e!=typeof t)return!1;if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t)return!1;const n=Object.keys(e),c=Object.keys(t);return n.length===c.length&&Array.from(new Set([...n,...c])).every((n=>e[n]===t[n]||f(e[n],t[n])))};t.default=f}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e17d2e79d51e4eb4ca3e2efa160d790b', location = 'build/5836.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5836],{20600:function(e,t,r){var n=r(29004),s=r(93625),a=r(68649),i=r(24035),o=r(53709),h=r(51441),u=r(88770),f=r(84028),c=r(56221),l=r(74951),p=Array;e.exports=function(e){var t=a(e),r=h(this),g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m;v&&(m=n(m,g>2?arguments[2]:void 0));var d,w,b,P,S,y,U=l(t),k=0;if(!U||this===p&&o(U))for(d=u(t),w=r?new this(d):p(d);d>k;k++)y=v?m(t[k],k):t[k],f(w,k,y);else for(w=r?new this:[],S=(P=c(t,U)).next;!(b=s(S,P)).done;k++)y=v?i(P,m,[b.value,k],!0):b.value,f(w,k,y);return w.length=k,w}},24035:function(e,t,r){var n=r(10659),s=r(91151);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){s(e,"throw",t)}}},39972:function(e,t,r){var n,s=r(88810),a=r(71904),i=r(33071).f,o=r(13026),h=r(17267),u=r(83259),f=r(64834),c=r(78656),l=r(36007),p=a("".slice),g=Math.min,m=c("startsWith");s({target:"String",proto:!0,forced:!!(l||m||(n=i(String.prototype,"startsWith"),!n||n.writable))&&!m},{startsWith:function(e){var t=h(f(this));u(e);var r=o(g(arguments.length>1?arguments[1]:void 0,t.length)),n=h(e);return p(t,r,r+n.length)===n}})},52202:function(e,t,r){r(87560);var n,s=r(88810),a=r(92128),i=r(95940),o=r(88052),h=r(29004),u=r(2484),f=r(25236),c=r(56038),l=r(55755),p=r(44461),g=r(35433),m=r(20600),v=r(24540),d=r(61955).codeAt,w=r(70121),b=r(17267),P=r(98819),S=r(90464),y=r(22690),U=r(16369),k=U.set,L=U.getterFor("URL"),R=y.URLSearchParams,H=y.getState,q=o.URL,B=o.TypeError,A=o.parseInt,C=Math.floor,x=Math.pow,O=u("".charAt),z=u(/./.exec),_=u([].join),j=u(1..toString),I=u([].pop),F=u([].push),$=u("".replace),E=u([].shift),M=u("".split),W=u("".slice),J=u("".toLowerCase),N=u([].unshift),T="Invalid scheme",D="Invalid host",G="Invalid port",K=/[a-z]/i,Q=/[\d+-.a-z]/i,V=/\d/,X=/^0x/i,Y=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,se=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,ie=function(e){var t,r,n,s;if("number"==typeof e){for(t=[],r=0;r<4;r++)N(t,e%256),e=C(e/256);return _(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,s=0,a=0;a<8;a++)0!==e[a]?(s>r&&(t=n,r=s),n=null,s=0):(null===n&&(n=a),++s);return s>r?n:t}(e),r=0;r<8;r++)s&&0===e[r]||(s&&(s=!1),n===r?(t+=r?":":"::",s=!0):(t+=j(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},oe={},he=g({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=g({},he,{"#":1,"?":1,"{":1,"}":1}),fe=g({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var r=d(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},le={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var r;return 2===e.length&&z(K,O(e,0))&&(":"===(r=O(e,1))||!t&&"|"===r)},ge=function(e){var t;return e.length>1&&pe(W(e,0,2))&&(2===e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},me=function(e){return"."===e||"%2e"===J(e)},ve={},de={},we={},be={},Pe={},Se={},ye={},Ue={},ke={},Le={},Re={},He={},qe={},Be={},Ae={},Ce={},xe={},Oe={},ze={},_e={},je={},Ie=function(e,t,r){var n,s,a,i=b(e);if(t){if(s=this.parse(i))throw new B(s);this.searchParams=null}else{if(void 0!==r&&(n=new Ie(r,!0)),s=this.parse(i,null,n))throw new B(s);(a=H(new R)).bindURL(this),this.searchParams=a}};Ie.prototype={type:"URL",parse:function(e,t,r){var s,a,i,o,h,u=this,f=t||ve,c=0,l="",g=!1,d=!1,w=!1;for(e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=$(e,ne,""),e=$(e,se,"$1")),e=$(e,ae,""),s=m(e);c<=s.length;){switch(a=s[c],f){case ve:if(!a||!z(K,a)){if(t)return T;f=we;continue}l+=J(a),f=de;break;case de:if(a&&(z(Q,a)||"+"===a||"-"===a||"."===a))l+=J(a);else{if(":"!==a){if(t)return T;l="",f=we,c=0;continue}if(t&&(u.isSpecial()!==p(le,l)||"file"===l&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=l,t)return void(u.isSpecial()&&le[u.scheme]===u.port&&(u.port=null));l="","file"===u.scheme?f=Be:u.isSpecial()&&r&&r.scheme===u.scheme?f=be:u.isSpecial()?f=Ue:"/"===s[c+1]?(f=Pe,c++):(u.cannotBeABaseURL=!0,F(u.path,""),f=ze)}break;case we:if(!r||r.cannotBeABaseURL&&"#"!==a)return T;if(r.cannotBeABaseURL&&"#"===a){u.scheme=r.scheme,u.path=v(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,f=je;break}f="file"===r.scheme?Be:Se;continue;case be:if("/"!==a||"/"!==s[c+1]){f=Se;continue}f=ke,c++;break;case Pe:if("/"===a){f=Le;break}f=Oe;continue;case Se:if(u.scheme=r.scheme,a===n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query;else if("/"===a||"\\"===a&&u.isSpecial())f=ye;else if("?"===a)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query="",f=_e;else{if("#"!==a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.path.length--,f=Oe;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query,u.fragment="",f=je}break;case ye:if(!u.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,f=Oe;continue}f=Le}else f=ke;break;case Ue:if(f=ke,"/"!==a||"/"!==O(l,c+1))continue;c++;break;case ke:if("/"!==a&&"\\"!==a){f=Le;continue}break;case Le:if("@"===a){g&&(l="%40"+l),g=!0,i=m(l);for(var P=0;P<i.length;P++){var S=i[P];if(":"!==S||w){var y=ce(S,fe);w?u.password+=y:u.username+=y}else w=!0}l=""}else if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(g&&""===l)return"Invalid authority";c-=m(l).length+1,l="",f=Re}else l+=a;break;case Re:case He:if(t&&"file"===u.scheme){f=Ce;continue}if(":"!==a||d){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(u.isSpecial()&&""===l)return D;if(t&&""===l&&(u.includesCredentials()||null!==u.port))return;if(o=u.parseHost(l))return o;if(l="",f=xe,t)return;continue}"["===a?d=!0:"]"===a&&(d=!1),l+=a}else{if(""===l)return D;if(o=u.parseHost(l))return o;if(l="",f=qe,t===He)return}break;case qe:if(!z(V,a)){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()||t){if(""!==l){var U=A(l,10);if(U>65535)return G;u.port=u.isSpecial()&&U===le[u.scheme]?null:U,l=""}if(t)return;f=xe;continue}return G}l+=a;break;case Be:if(u.scheme="file","/"===a||"\\"===a)f=Ae;else{if(!r||"file"!==r.scheme){f=Oe;continue}switch(a){case n:u.host=r.host,u.path=v(r.path),u.query=r.query;break;case"?":u.host=r.host,u.path=v(r.path),u.query="",f=_e;break;case"#":u.host=r.host,u.path=v(r.path),u.query=r.query,u.fragment="",f=je;break;default:ge(_(v(s,c),""))||(u.host=r.host,u.path=v(r.path),u.shortenPath()),f=Oe;continue}}break;case Ae:if("/"===a||"\\"===a){f=Ce;break}r&&"file"===r.scheme&&!ge(_(v(s,c),""))&&(pe(r.path[0],!0)?F(u.path,r.path[0]):u.host=r.host),f=Oe;continue;case Ce:if(a===n||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&pe(l))f=Oe;else if(""===l){if(u.host="",t)return;f=xe}else{if(o=u.parseHost(l))return o;if("localhost"===u.host&&(u.host=""),t)return;l="",f=xe}continue}l+=a;break;case xe:if(u.isSpecial()){if(f=Oe,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==n&&(f=Oe,"/"!==a))continue}else u.fragment="",f=je;else u.query="",f=_e;break;case Oe:if(a===n||"/"===a||"\\"===a&&u.isSpecial()||!t&&("?"===a||"#"===a)){if(".."===(h=J(h=l))||"%2e."===h||".%2e"===h||"%2e%2e"===h?(u.shortenPath(),"/"===a||"\\"===a&&u.isSpecial()||F(u.path,"")):me(l)?"/"===a||"\\"===a&&u.isSpecial()||F(u.path,""):("file"===u.scheme&&!u.path.length&&pe(l)&&(u.host&&(u.host=""),l=O(l,0)+":"),F(u.path,l)),l="","file"===u.scheme&&(a===n||"?"===a||"#"===a))for(;u.path.length>1&&""===u.path[0];)E(u.path);"?"===a?(u.query="",f=_e):"#"===a&&(u.fragment="",f=je)}else l+=ce(a,ue);break;case ze:"?"===a?(u.query="",f=_e):"#"===a?(u.fragment="",f=je):a!==n&&(u.path[0]+=ce(a,oe));break;case _e:t||"#"!==a?a!==n&&("'"===a&&u.isSpecial()?u.query+="%27":u.query+="#"===a?"%23":ce(a,oe)):(u.fragment="",f=je);break;case je:a!==n&&(u.fragment+=ce(a,he))}c++}},parseHost:function(e){var t,r,n;if("["===O(e,0)){if("]"!==O(e,e.length-1))return D;if(t=function(e){var t,r,n,s,a,i,o,h=[0,0,0,0,0,0,0,0],u=0,f=null,c=0,l=function(){return O(e,c)};if(":"===l()){if(":"!==O(e,1))return;c+=2,f=++u}for(;l();){if(8===u)return;if(":"!==l()){for(t=r=0;r<4&&z(ee,l());)t=16*t+A(l(),16),c++,r++;if("."===l()){if(0===r)return;if(c-=r,u>6)return;for(n=0;l();){if(s=null,n>0){if(!("."===l()&&n<4))return;c++}if(!z(V,l()))return;for(;z(V,l());){if(a=A(l(),10),null===s)s=a;else{if(0===s)return;s=10*s+a}if(s>255)return;c++}h[u]=256*h[u]+s,2!=++n&&4!==n||u++}if(4!==n)return;break}if(":"===l()){if(c++,!l())return}else if(l())return;h[u++]=t}else{if(null!==f)return;c++,f=++u}}if(null!==f)for(i=u-f,u=7;0!==u&&i>0;)o=h[u],h[u--]=h[f+i-1],h[f+--i]=o;else if(8!==u)return;return h}(W(e,1,-1)),!t)return D;this.host=t}else if(this.isSpecial()){if(e=w(e),z(te,e))return D;if(t=function(e){var t,r,n,s,a,i,o,h=M(e,".");if(h.length&&""===h[h.length-1]&&h.length--,(t=h.length)>4)return e;for(r=[],n=0;n<t;n++){if(""===(s=h[n]))return e;if(a=10,s.length>1&&"0"===O(s,0)&&(a=z(X,s)?16:8,s=W(s,8===a?1:2)),""===s)i=0;else{if(!z(10===a?Z:8===a?Y:ee,s))return e;i=A(s,a)}F(r,i)}for(n=0;n<t;n++)if(i=r[n],n===t-1){if(i>=x(256,5-t))return null}else if(i>255)return null;for(o=I(r),n=0;n<r.length;n++)o+=r[n]*x(256,3-n);return o}(e),null===t)return D;this.host=t}else{if(z(re,e))return D;for(t="",r=m(e),n=0;n<r.length;n++)t+=ce(r[n],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(le,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,s=e.host,a=e.port,i=e.path,o=e.query,h=e.fragment,u=t+":";return null!==s?(u+="//",e.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=ie(s),null!==a&&(u+=":"+a)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?i[0]:i.length?"/"+_(i,"/"):"",null!==o&&(u+="?"+o),null!==h&&(u+="#"+h),u},setHref:function(e){var t=this.parse(e);if(t)throw new B(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Fe(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ie(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ce(t[r],fe)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ce(t[r],fe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ie(e):ie(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getHostname:function(){var e=this.host;return null===e?"":ie(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,He)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=b(e))?this.port=null:this.parse(e,qe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+_(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,xe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=b(e))?this.query=null:("?"===O(e,0)&&(e=W(e,1)),this.query="",this.parse(e,_e)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=b(e))?("#"===O(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=l(this,$e),r=S(arguments.length,1)>1?arguments[1]:void 0,n=k(t,new Ie(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},$e=Fe.prototype,Ee=function(e,t){return{get:function(){return L(this)[e]()},set:t&&function(e){return L(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(c($e,"href",Ee("serialize","setHref")),c($e,"origin",Ee("getOrigin")),c($e,"protocol",Ee("getProtocol","setProtocol")),c($e,"username",Ee("getUsername","setUsername")),c($e,"password",Ee("getPassword","setPassword")),c($e,"host",Ee("getHost","setHost")),c($e,"hostname",Ee("getHostname","setHostname")),c($e,"port",Ee("getPort","setPort")),c($e,"pathname",Ee("getPathname","setPathname")),c($e,"search",Ee("getSearch","setSearch")),c($e,"searchParams",Ee("getSearchParams")),c($e,"hash",Ee("getHash","setHash"))),f($e,"toJSON",(function(){return L(this).serialize()}),{enumerable:!0}),f($e,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),q){var Me=q.createObjectURL,We=q.revokeObjectURL;Me&&f(Fe,"createObjectURL",h(Me,q)),We&&f(Fe,"revokeObjectURL",h(We,q))}P(Fe,"URL"),s({global:!0,constructor:!0,forced:!i,sham:!a},{URL:Fe})},69740:function(e,t,r){var n=r(88810),s=r(93625);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return s(URL.prototype.toString,this)}})},70121:function(e,t,r){var n=r(2484),s=2147483647,a=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",h=RangeError,u=n(i.exec),f=Math.floor,c=String.fromCharCode,l=n("".charCodeAt),p=n([].join),g=n([].push),m=n("".replace),v=n("".split),d=n("".toLowerCase),w=function(e){return e+22+75*(e<26)},b=function(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;)e=f(e/35),n+=36;return f(n+36*e/(e+38))},P=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=l(e,r++);if(s>=55296&&s<=56319&&r<n){var a=l(e,r++);56320==(64512&a)?g(t,((1023&s)<<10)+(1023&a)+65536):(g(t,s),r--)}else g(t,s)}return t}(e);var r,n,a=e.length,i=128,u=0,m=72;for(r=0;r<e.length;r++)(n=e[r])<128&&g(t,c(n));var v=t.length,d=v;for(v&&g(t,"-");d<a;){var P=s;for(r=0;r<e.length;r++)(n=e[r])>=i&&n<P&&(P=n);var S=d+1;if(P-i>f((s-u)/S))throw new h(o);for(u+=(P-i)*S,i=P,r=0;r<e.length;r++){if((n=e[r])<i&&++u>s)throw new h(o);if(n===i){for(var y=u,U=36;;){var k=U<=m?1:U>=m+26?26:U-m;if(y<k)break;var L=y-k,R=36-k;g(t,c(w(k+L%R))),y=f(L/R),U+=36}g(t,c(w(y))),m=b(u,S,d===v),u=0,d++}}u++,i++}return p(t,"")};e.exports=function(e){var t,r,n=[],s=v(m(d(e),i,"."),".");for(t=0;t<s.length;t++)r=s[t],g(n,u(a,r)?"xn--"+P(r):r);return p(n,".")}},85124:function(e,t,r){r(52202)},87560:function(e,t,r){var n=r(61955).charAt,s=r(17267),a=r(16369),i=r(8676),o=r(50381),h="String Iterator",u=a.set,f=a.getterFor(h);i(String,"String",(function(e){u(this,{type:h,string:s(e),index:0})}),(function(){var e,t=f(this),r=t.string,s=t.index;return s>=r.length?o(void 0,!0):(e=n(r,s),t.index+=e.length,o(e,!1))}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:93f834fee20b033c939c09ece725a259', location = 'build/5414.js' */
/*! For license information please see 5414.js.LICENSE.txt */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5414],{25414:function(e,t,n){n.r(t),n.d(t,{default:function(){return le}});const{entries:o,setPrototypeOf:r,isFrozen:i,getPrototypeOf:a,getOwnPropertyDescriptor:l}=Object;let{freeze:c,seal:s,create:u}=Object,{apply:m,construct:p}="undefined"!=typeof Reflect&&Reflect;c||(c=function(e){return e}),s||(s=function(e){return e}),m||(m=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});const f=v(Array.prototype.forEach),d=v(Array.prototype.lastIndexOf),h=v(Array.prototype.pop),g=v(Array.prototype.push),T=v(Array.prototype.splice),y=v(String.prototype.toLowerCase),E=v(String.prototype.toString),_=v(String.prototype.match),A=v(String.prototype.replace),S=v(String.prototype.indexOf),b=v(String.prototype.trim),N=v(Object.prototype.hasOwnProperty),w=v(RegExp.prototype.test),R=(O=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(O,t)});var O;function v(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return m(e,t,o)}}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;r&&r(e,null);let o=t.length;for(;o--;){let r=t[o];if("string"==typeof r){const e=n(r);e!==r&&(i(t)||(t[o]=e),r=e)}e[r]=!0}return e}function D(e){for(let t=0;t<e.length;t++){N(e,t)||(e[t]=null)}return e}function L(e){const t=u(null);for(const[n,r]of o(e)){N(e,n)&&(Array.isArray(r)?t[n]=D(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=L(r):t[n]=r)}return t}function k(e,t){for(;null!==e;){const n=l(e,t);if(n){if(n.get)return v(n.get);if("function"==typeof n.value)return v(n.value)}e=a(e)}return function(){return null}}const x=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),U=c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=c(["#text"]),F=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),B=c(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),W=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),j=s(/<%[\w\W]*|[\w\W]*%>/gm),X=s(/\$\{[\w\W]*/gm),q=s(/^data-[\-\w.\u00B7-\uFFFF]+$/),$=s(/^aria-[\-\w]+$/),K=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=s(/^(?:\w+script|data):/i),Z=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=s(/^html$/i),Q=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:$,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:Q,DATA_ATTR:q,DOCTYPE_NAME:J,ERB_EXPR:j,IS_ALLOWED_URI:K,IS_SCRIPT_OR_DATA:V,MUSTACHE_EXPR:Y,TMPLIT_EXPR:X});const te=1,ne=3,oe=7,re=8,ie=9,ae=function(){return"undefined"==typeof window?null:window};var le=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==ie||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,a=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:s,Node:m,Element:p,NodeFilter:O,NamedNodeMap:v=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:D,DOMParser:Y,trustedTypes:j}=t,X=p.prototype,q=k(X,"cloneNode"),$=k(X,"remove"),V=k(X,"nextSibling"),Z=k(X,"childNodes"),Q=k(X,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let le,ce="";const{implementation:se,createNodeIterator:ue,createDocumentFragment:me,getElementsByTagName:pe}=r,{importNode:fe}=i;let de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof o&&"function"==typeof Q&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:ge,TMPLIT_EXPR:Te,DATA_ATTR:ye,ARIA_ATTR:Ee,IS_SCRIPT_OR_DATA:_e,ATTR_WHITESPACE:Ae,CUSTOM_ELEMENT:Se}=ee;let{IS_ALLOWED_URI:be}=ee,Ne=null;const we=C({},[...x,...I,...M,...z,...H]);let Re=null;const Oe=C({},[...F,...B,...W,...G]);let ve=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,De=null,Le=!0,ke=!0,xe=!1,Ie=!0,Me=!1,Ue=!0,ze=!1,Pe=!1,He=!1,Fe=!1,Be=!1,We=!1,Ge=!0,Ye=!1,je=!0,Xe=!1,qe={},$e=null;const Ke=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const Ze=C({},["audio","video","img","source","image","track"]);let Je=null;const Qe=C({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let ot=nt,rt=!1,it=null;const at=C({},[et,tt,nt],E);let lt=C({},["mi","mo","mn","ms","mtext"]),ct=C({},["annotation-xml"]);const st=C({},["title","style","font","a","script"]);let ut=null;const mt=["application/xhtml+xml","text/html"];let pt=null,ft=null;const dt=r.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ft||ft!==e){if(e&&"object"==typeof e||(e={}),e=L(e),ut=-1===mt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,pt="application/xhtml+xml"===ut?E:y,Ne=N(e,"ALLOWED_TAGS")?C({},e.ALLOWED_TAGS,pt):we,Re=N(e,"ALLOWED_ATTR")?C({},e.ALLOWED_ATTR,pt):Oe,it=N(e,"ALLOWED_NAMESPACES")?C({},e.ALLOWED_NAMESPACES,E):at,Je=N(e,"ADD_URI_SAFE_ATTR")?C(L(Qe),e.ADD_URI_SAFE_ATTR,pt):Qe,Ve=N(e,"ADD_DATA_URI_TAGS")?C(L(Ze),e.ADD_DATA_URI_TAGS,pt):Ze,$e=N(e,"FORBID_CONTENTS")?C({},e.FORBID_CONTENTS,pt):Ke,Ce=N(e,"FORBID_TAGS")?C({},e.FORBID_TAGS,pt):{},De=N(e,"FORBID_ATTR")?C({},e.FORBID_ATTR,pt):{},qe=!!N(e,"USE_PROFILES")&&e.USE_PROFILES,Le=!1!==e.ALLOW_ARIA_ATTR,ke=!1!==e.ALLOW_DATA_ATTR,xe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Me=e.SAFE_FOR_TEMPLATES||!1,Ue=!1!==e.SAFE_FOR_XML,ze=e.WHOLE_DOCUMENT||!1,Fe=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,We=e.RETURN_TRUSTED_TYPE||!1,He=e.FORCE_BODY||!1,Ge=!1!==e.SANITIZE_DOM,Ye=e.SANITIZE_NAMED_PROPS||!1,je=!1!==e.KEEP_CONTENT,Xe=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||K,ot=e.NAMESPACE||nt,lt=e.MATHML_TEXT_INTEGRATION_POINTS||lt,ct=e.HTML_INTEGRATION_POINTS||ct,ve=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ve.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(ke=!1),Be&&(Fe=!0),qe&&(Ne=C({},H),Re=[],!0===qe.html&&(C(Ne,x),C(Re,F)),!0===qe.svg&&(C(Ne,I),C(Re,B),C(Re,G)),!0===qe.svgFilters&&(C(Ne,M),C(Re,B),C(Re,G)),!0===qe.mathMl&&(C(Ne,z),C(Re,W),C(Re,G))),e.ADD_TAGS&&(Ne===we&&(Ne=L(Ne)),C(Ne,e.ADD_TAGS,pt)),e.ADD_ATTR&&(Re===Oe&&(Re=L(Re)),C(Re,e.ADD_ATTR,pt)),e.ADD_URI_SAFE_ATTR&&C(Je,e.ADD_URI_SAFE_ATTR,pt),e.FORBID_CONTENTS&&($e===Ke&&($e=L($e)),C($e,e.FORBID_CONTENTS,pt)),je&&(Ne["#text"]=!0),ze&&C(Ne,["html","head","body"]),Ne.table&&(C(Ne,["tbody"]),delete Ce.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');le=e.TRUSTED_TYPES_POLICY,ce=le.createHTML("")}else void 0===le&&(le=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(j,a)),null!==le&&"string"==typeof ce&&(ce=le.createHTML(""));c&&c(e),ft=e}},Tt=C({},[...I,...M,...U]),yt=C({},[...z,...P]),Et=function(e){g(n.removed,{element:e});try{Q(e).removeChild(e)}catch(t){$(e)}},_t=function(e,t){try{g(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Fe||Be)try{Et(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},At=function(e){let t=null,n=null;if(He)e="<remove></remove>"+e;else{const t=_(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ut&&ot===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=le?le.createHTML(e):e;if(ot===nt)try{t=(new Y).parseFromString(o,ut)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(ot,"template",null);try{t.documentElement.innerHTML=rt?ce:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ot===nt?pe.call(t,ze?"html":"body")[0]:ze?t.documentElement:i},St=function(e){return ue.call(e.ownerDocument||e,e,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT|O.SHOW_PROCESSING_INSTRUCTION|O.SHOW_CDATA_SECTION,null)},bt=function(e){return e instanceof D&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof v)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Nt=function(e){return"function"==typeof m&&e instanceof m};function wt(e,t,o){f(e,(e=>{e.call(n,t,o,ft)}))}const Rt=function(e){let t=null;if(wt(de.beforeSanitizeElements,e,null),bt(e))return Et(e),!0;const o=pt(e.nodeName);if(wt(de.uponSanitizeElement,e,{tagName:o,allowedTags:Ne}),e.hasChildNodes()&&!Nt(e.firstElementChild)&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return Et(e),!0;if(e.nodeType===oe)return Et(e),!0;if(Ue&&e.nodeType===re&&w(/<[/\w]/g,e.data))return Et(e),!0;if(!Ne[o]||Ce[o]){if(!Ce[o]&&vt(o)){if(ve.tagNameCheck instanceof RegExp&&w(ve.tagNameCheck,o))return!1;if(ve.tagNameCheck instanceof Function&&ve.tagNameCheck(o))return!1}if(je&&!$e[o]){const t=Q(e)||e.parentNode,n=Z(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=q(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,V(e))}}}return Et(e),!0}return e instanceof p&&!function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:ot,tagName:"template"});const n=y(e.tagName),o=y(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===o||lt[o]):Boolean(Tt[n]):e.namespaceURI===et?t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&ct[o]:Boolean(yt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!ct[o])&&!(t.namespaceURI===et&&!lt[o])&&!yt[n]&&(st[n]||!Tt[n]):!("application/xhtml+xml"!==ut||!it[e.namespaceURI]))}(e)?(Et(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!w(/<\/no(script|embed|frames)/i,e.innerHTML)?(Me&&e.nodeType===ne&&(t=e.textContent,f([he,ge,Te],(e=>{t=A(t,e," ")})),e.textContent!==t&&(g(n.removed,{element:e.cloneNode()}),e.textContent=t)),wt(de.afterSanitizeElements,e,null),!1):(Et(e),!0)},Ot=function(e,t,n){if(Ge&&("id"===t||"name"===t)&&(n in r||n in dt))return!1;if(ke&&!De[t]&&w(ye,t));else if(Le&&w(Ee,t));else if(!Re[t]||De[t]){if(!(vt(e)&&(ve.tagNameCheck instanceof RegExp&&w(ve.tagNameCheck,e)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(e))&&(ve.attributeNameCheck instanceof RegExp&&w(ve.attributeNameCheck,t)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(t))||"is"===t&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&w(ve.tagNameCheck,n)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(n))))return!1}else if(Je[t]);else if(w(be,A(n,Ae,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!Ve[e]){if(xe&&!w(_e,A(n,Ae,"")));else if(n)return!1}else;return!0},vt=function(e){return"annotation-xml"!==e&&_(e,Se)},Ct=function(e){wt(de.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||bt(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Re,forceKeepAttr:void 0};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=pt(a);let u="value"===a?c:b(c);if(o.attrName=s,o.attrValue=u,o.keepAttr=!0,o.forceKeepAttr=void 0,wt(de.uponSanitizeAttribute,e,o),u=o.attrValue,!Ye||"id"!==s&&"name"!==s||(_t(a,e),u="user-content-"+u),Ue&&w(/((--!?|])>)|<\/(style|title)/i,u)){_t(a,e);continue}if(o.forceKeepAttr)continue;if(_t(a,e),!o.keepAttr)continue;if(!Ie&&w(/\/>/i,u)){_t(a,e);continue}Me&&f([he,ge,Te],(e=>{u=A(u,e," ")}));const m=pt(e.nodeName);if(Ot(m,s,u)){if(le&&"object"==typeof j&&"function"==typeof j.getAttributeType)if(l);else switch(j.getAttributeType(m,s)){case"TrustedHTML":u=le.createHTML(u);break;case"TrustedScriptURL":u=le.createScriptURL(u)}try{l?e.setAttributeNS(l,a,u):e.setAttribute(a,u),bt(e)?Et(e):h(n.removed)}catch(e){}}}wt(de.afterSanitizeAttributes,e,null)},Dt=function e(t){let n=null;const o=St(t);for(wt(de.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)wt(de.uponSanitizeShadowNode,n,null),Rt(n),Ct(n),n.content instanceof l&&e(n.content);wt(de.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,r=null,a=null,c=null;if(rt=!e,rt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Nt(e)){if("function"!=typeof e.toString)throw R("toString is not a function");if("string"!=typeof(e=e.toString()))throw R("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Pe||gt(t),n.removed=[],"string"==typeof e&&(Xe=!1),Xe){if(e.nodeName){const t=pt(e.nodeName);if(!Ne[t]||Ce[t])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof m)o=At("\x3c!----\x3e"),r=o.ownerDocument.importNode(e,!0),r.nodeType===te&&"BODY"===r.nodeName||"HTML"===r.nodeName?o=r:o.appendChild(r);else{if(!Fe&&!Me&&!ze&&-1===e.indexOf("<"))return le&&We?le.createHTML(e):e;if(o=At(e),!o)return Fe?null:We?ce:""}o&&He&&Et(o.firstChild);const s=St(Xe?e:o);for(;a=s.nextNode();)Rt(a),Ct(a),a.content instanceof l&&Dt(a.content);if(Xe)return e;if(Fe){if(Be)for(c=me.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(Re.shadowroot||Re.shadowrootmode)&&(c=fe.call(i,c,!0)),c}let u=ze?o.outerHTML:o.innerHTML;return ze&&Ne["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&w(J,o.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+u),Me&&f([he,ge,Te],(e=>{u=A(u,e," ")})),le&&We?le.createHTML(u):u},n.setConfig=function(){gt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Pe=!0},n.clearConfig=function(){ft=null,Pe=!1},n.isValidAttribute=function(e,t,n){ft||gt({});const o=pt(e),r=pt(t);return Ot(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&g(de[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=d(de[e],t);return-1===n?void 0:T(de[e],n,1)[0]}return h(de[e])},n.removeHooks=function(e){de[e]=[]},n.removeAllHooks=function(){de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:a224e941c9d56f6c2e55eb4f247ffbdf', location = 'build/326.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[326],{10326:function(e,t,r){var n=r(88810),s=r(2484),i=r(21948),l=s([].reverse),c=[1,2];n({target:"Array",proto:!0,forced:String(c)===String(c.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),l(this)}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:a3cea3872dce058e909ad5525337d6c7', location = 'build/1048.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1048],{51048:function(r,n,t){var e=t(88810),o=t(2484),f=t(7391),i=t(77156),u=t(71465),c=t(42675),a=RangeError,l=String,s=Math.floor,v=o(u),g=o("".slice),h=o(1..toFixed),p=function(r,n,t){return 0===n?t:n%2==1?p(r,n-1,t*r):p(r*r,n/2,t)},b=function(r,n,t){for(var e=-1,o=t;++e<6;)o+=n*r[e],r[e]=o%1e7,o=s(o/1e7)},_=function(r,n){for(var t=6,e=0;--t>=0;)e+=r[t],r[t]=s(e/n),e=e%n*1e7},w=function(r){for(var n=6,t="";--n>=0;)if(""!==t||0===n||0!==r[n]){var e=l(r[n]);t=""===t?e:t+v("0",7-e.length)+e}return t};e({target:"Number",proto:!0,forced:c((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!c((function(){h({})}))},{toFixed:function(r){var n,t,e,o,u=i(this),c=f(r),s=[0,0,0,0,0,0],h="",d="0";if(c<0||c>20)throw new a("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return l(u);if(u<0&&(h="-",u=-u),u>1e-21)if(t=(n=function(r){for(var n=0,t=r;t>=4096;)n+=12,t/=4096;for(;t>=2;)n+=1,t/=2;return n}(u*p(2,69,1))-69)<0?u*p(2,-n,1):u/p(2,n,1),t*=4503599627370496,(n=52-n)>0){for(b(s,0,t),e=c;e>=7;)b(s,1e7,0),e-=7;for(b(s,p(10,e,1),0),e=n-1;e>=23;)_(s,1<<23),e-=23;_(s,1<<e),b(s,1,1),_(s,2),d=w(s)}else b(s,0,t),b(s,1<<-n,0),d=w(s)+v("0",c);return d=c>0?h+((o=d.length)<=c?"0."+v("0",c-o)+d:g(d,0,o-c)+"."+g(d,o-c)):h+d}})},71465:function(r,n,t){var e=t(7391),o=t(17267),f=t(64834),i=RangeError;r.exports=function(r){var n=o(f(this)),t="",u=e(r);if(u<0||u===1/0)throw new i("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(n+=n))1&u&&(t+=n);return t}},77156:function(r,n,t){var e=t(2484);r.exports=e(1..valueOf)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:eb76af47432bdf07fac4d204486c3960', location = 'build/8493.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8493],{8493:function(e,t){var n,r,i;r=[],void 0===(i="function"==typeof(n=function(){"use strict";var e=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function t(e){return e.split("").reverse().join("")}function n(e,t){return e.substring(0,t.length)===t}function r(e,t){return e.slice(-1*t.length)===t}function i(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw new Error(t)}function o(e){return"number"==typeof e&&isFinite(e)}function f(e,t){return e=e.toString().split("e"),(+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(t)}function u(e,n,r,i,u,s,c,a,l,p,h,d){var g,v,m,w=d,x="",b="";return s&&(d=s(d)),!!o(d)&&(!1!==e&&0===parseFloat(d.toFixed(e))&&(d=0),d<0&&(g=!0,d=Math.abs(d)),!1!==e&&(d=f(d,e)),-1!==(d=d.toString()).indexOf(".")?(m=(v=d.split("."))[0],r&&(x=r+v[1])):m=d,n&&(m=t(m).match(/.{1,3}/g),m=t(m.join(t(n)))),g&&a&&(b+=a),i&&(b+=i),g&&l&&(b+=l),b+=m,b+=x,u&&(b+=u),p&&(b=p(b,w)),b)}function s(e,t,i,f,u,s,c,a,l,p,h,d){var g,v="";return h&&(d=h(d)),!(!d||"string"!=typeof d)&&(a&&n(d,a)&&(d=d.replace(a,""),g=!0),f&&n(d,f)&&(d=d.replace(f,"")),l&&n(d,l)&&(d=d.replace(l,""),g=!0),u&&r(d,u)&&(d=d.slice(0,-1*u.length)),t&&(d=d.split(t).join("")),i&&(d=d.replace(i,".")),g&&(v+="-"),""!==(v=(v+=d).replace(/[^0-9\.\-.]/g,""))&&(v=Number(v),c&&(v=c(v)),!!o(v)&&v))}function c(t){var n,r,o,f={};for(void 0===t.suffix&&(t.suffix=t.postfix),n=0;n<e.length;n+=1)if(void 0===(o=t[r=e[n]]))"negative"!==r||f.negativeBefore?"mark"===r&&"."!==f.thousand?f[r]=".":f[r]=!1:f[r]="-";else if("decimals"===r){if(!(o>=0&&o<8))throw new Error(r);f[r]=o}else if("encoder"===r||"decoder"===r||"edit"===r||"undo"===r){if("function"!=typeof o)throw new Error(r);f[r]=o}else{if("string"!=typeof o)throw new Error(r);f[r]=o}return i(f,"mark","thousand"),i(f,"prefix","negative"),i(f,"prefix","negativeBefore"),f}function a(t,n,r){var i,o=[];for(i=0;i<e.length;i+=1)o.push(t[e[i]]);return o.push(r),n.apply("",o)}function l(e){if(!(this instanceof l))return new l(e);"object"==typeof e&&(e=c(e),this.to=function(t){return a(e,u,t)},this.from=function(t){return a(e,s,t)})}return l})?n.apply(t,r):n)||(e.exports=i)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:dc6f45bbb83dfb3e41c2d9b0932c5b4e', location = 'build/2954.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2954],{39066:function(t,n,e){var r=e(88810),o=e(93111),i=e(54334),f=e(68649),u=e(88770),l=e(4929);r({target:"Array",proto:!0},{flatMap:function(t){var n,e=f(this),r=u(e);return i(t),(n=l(e,0)).length=o(n,e,e,r,0,1,t,arguments.length>1?arguments[1]:void 0),n}})},53081:function(t){var n=TypeError;t.exports=function(t){if(t>9007199254740991)throw n("Maximum allowed index exceeded");return t}},57561:function(t,n,e){e(62153)("flatMap")},93111:function(t,n,e){var r=e(21948),o=e(88770),i=e(53081),f=e(29004),u=function(t,n,e,l,a,c,s,p){for(var _,h,v=a,d=0,g=!!s&&f(s,p);d<l;)d in e&&(_=g?g(e[d],d,n):e[d],c>0&&r(_)?(h=o(_),v=u(t,n,_,h,v,c-1)-1):(i(v+1),t[v]=_),v++),d++;return v};t.exports=u}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7b2b7b7dc9bc49d7b17fe9686e51b3f4', location = 'build/9484.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9484],{49484:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}});var n=r(82561),c=r(77001),o=r(36111),u=r(64741),a=r(68172),i=function(){function e(t){(0,n.default)(this,e),(0,o.default)(this,"legacyObserver",null),this.callback=t,e.callbacks.add(t)}return(0,c.default)(e,[{key:"observe",value:function(){e.observer||(e.observer=new MutationObserver((function(){var t=(0,a.default)();e.callbacks.forEach((function(e){return e(t)}))})),e.observer.observe(document.documentElement,{attributeFilter:[u.THEME_DATA_ATTRIBUTE,u.COLOR_MODE_ATTRIBUTE]}))}},{key:"disconnect",value:function(){this.callback&&e.callbacks.delete(this.callback),0===e.callbacks.size&&e.observer&&(e.observer.disconnect(),e.observer=null)}}])}();(0,o.default)(i,"observer",null),(0,o.default)(i,"callbacks",new Set)},68172:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(36111),c=r(64741),o=(r(92054),["light","dark","auto"]),u=["light-increased-contrast","light","light-future","light-brand-refresh","dark","dark-future","dark-increased-contrast","dark-brand-refresh","legacy-light","legacy-dark","spacing","shape","typography-adg3","typography-modernized","typography-refreshed"],a=([].concat(u,[]),r(23224),r(12492)),i=["light","dark","spacing","typography","shape"],l="UNSAFE_themeOptions",f=function(e){return void 0!==i.find((function(t){return t===e}))},s=function(e){return void 0!==u.find((function(t){return t===e}))},d=function(e){return["light","dark","auto"].includes(e)};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){if("undefined"==typeof document)return{};var e=document.documentElement,t=e.getAttribute(c.COLOR_MODE_ATTRIBUTE)||"",r=e.getAttribute(c.THEME_DATA_ATTRIBUTE)||"";return p(p({},r.split(" ").map((function(e){return e.split(/:([^]*)/)})).reduce((function(e,t){var r=(0,a.default)(t,2),n=r[0],c=r[1];if("colorMode"===n&&d(c)&&(e[n]=c),f(n)&&s(c)&&(e[n]=c),n===l)try{e[l]=JSON.parse(c)}catch(e){new Error("Invalid custom theme string")}return e}),{})),function(e){return void 0!==o.find((function(t){return t===e}))}(t)&&{colorMode:t})}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:6f5553378e0062949ed23cf80380b01b', location = 'build/4550.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4550],{84550:function(t,e,l){var n=l(88810),u=l(48801).values;n({target:"Object",stat:!0},{values:function(t){return u(t)}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:da22f210bc4c33d226beb38ff236b644', location = 'build/7563.js' */
/*! For license information please see 7563.js.LICENSE.txt */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7563],{6286:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StableID=void 0;const i=r(60981),n=r(22132),s=r(6346),o=r(42555),a={};function l(e){return`statsig.stable_id.${(0,i._getStorageKey)(e)}`}function u(e,t){const r=l(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save StableID")}}t.StableID={get:e=>{if(null==a[e]){let t=function(e){const t=l(e);return(0,s._getObjectFromStorage)(t)}(e);null==t&&(t=(0,o.getUUID)(),u(t,e)),a[e]=t}return a[e]},setOverride:(e,t)=>{a[t]=e,u(e,t)}}},6346:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;const i=r(22132),n=r(36650),s={},o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>s[e]?s[e]:null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]},getAllKeys:()=>Object.keys(s)};let a=null;try{const e=(0,n._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,r)=>e.localStorage.setItem(t,r),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){i.Log.warn("Failed to setup localStorageProvider.")}let l=null!=a?a:o,u=l;t.Storage={isReady:()=>u.isReady(),isReadyResolver:()=>u.isReadyResolver(),getProviderName:()=>u.getProviderName(),getItem:e=>function(e){try{return e()}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return t.Storage._setProvider(o),null;throw e}}((()=>u.getItem(e))),setItem:(e,t)=>u.setItem(e,t),removeItem:e=>u.removeItem(e),getAllKeys:()=>u.getAllKeys(),_setProvider:e=>{l=e,u=e},_setDisabled:e=>{u=e?o:l}},t._getObjectFromStorage=function(e){const r=t.Storage.getItem(e);return JSON.parse(null!=r?r:"null")},t._setObjectInStorage=function(e,r){t.Storage.setItem(e,JSON.stringify(r))}},12442:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKType=void 0;const r={};let i;t.SDKType={_get:e=>{var t;return(null!==(t=r[e])&&void 0!==t?t:"js-mono")+(null!=i?i:"")},_setClientType(e,t){r[e]=t},_setBindingType(e){i&&"-react"!==i||(i="-"+e)}}},12492:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(96492);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=s.call(r)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}(e,t)||(0,i.default)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},13224:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},15377:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18562:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._makeDataAdapterResult=t.DataAdapterCore=void 0;const n=r(22132),s=r(6286),o=r(84830),a=r(6346),l=r(41829);function u(e,t,r,i){return{source:e,data:t,receivedAt:Date.now(),stableID:r,fullUserHash:(0,o._getFullUserHash)(i)}}t.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new c}attach(e,t){this._sdkKey=e,this._options=t}getDataSync(e){const t=e&&(0,o._normalizeUser)(e,this._options),r=this._getCacheKey(t),i=this._inMemoryCache.get(r,t);if(i)return i;const n=this._loadFromCache(r);return n?(this._inMemoryCache.add(r,n),this._inMemoryCache.get(r,t)):null}setData(e,t){const r=t&&(0,o._normalizeUser)(t,this._options),i=this._getCacheKey(r);this._inMemoryCache.add(i,u("Bootstrap",e,null,r))}_getDataAsyncImpl(e,t,r){return i(this,void 0,void 0,(function*(){a.Storage.isReady()||(yield a.Storage.isReadyResolver());const i=null!=e?e:this.getDataSync(t),s=[this._fetchAndPrepFromNetwork(i,t,r)];return(null==r?void 0:r.timeoutMs)&&s.push(new Promise((e=>setTimeout(e,r.timeoutMs))).then((()=>(n.Log.debug("Fetching latest value timed out"),null)))),yield Promise.race(s)}))}_prefetchDataImpl(e,t){return i(this,void 0,void 0,(function*(){const r=e&&(0,o._normalizeUser)(e,this._options),i=this._getCacheKey(r),n=yield this._getDataAsyncImpl(null,r,t);n&&this._inMemoryCache.add(i,Object.assign(Object.assign({},n),{source:"Prefetch"}))}))}_fetchAndPrepFromNetwork(e,t,r){var o;return i(this,void 0,void 0,(function*(){const i=null!==(o=null==e?void 0:e.data)&&void 0!==o?o:null,a=null!=e&&this._isCachedResultValidFor204(e,t),c=yield this._fetchFromNetwork(i,t,r,a);if(!c)return n.Log.debug("No response returned for latest value"),null;const d=(0,l._typedJsonParse)(c,"has_updates","Response"),h=this._getSdkKey(),f=s.StableID.get(h);let g=null;if(!0===(null==d?void 0:d.has_updates))g=u("Network",c,f,t);else{if(!i||!1!==(null==d?void 0:d.has_updates))return null;g=u("NetworkNotModified",i,f,t)}const _=this._getCacheKey(t);return this._inMemoryCache.add(_,g),this._writeToCache(_,g),g}))}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(n.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;const r=null===(t=a.Storage.getItem)||void 0===t?void 0:t.call(a.Storage,e);if(null==r)return null;const i=(0,l._typedJsonParse)(r,"source","Cached Result");return i?Object.assign(Object.assign({},i),{source:"Cache"}):null}_writeToCache(e,t){a.Storage.setItem(e,JSON.stringify(t)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var t;const r=null!==(t=(0,a._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==t?t:{};r[e]=Date.now();const i=d(r,10);i&&(delete r[i],a.Storage.removeItem(i)),(0,a._setObjectInStorage)(this._lastModifiedStoreKey,r)}},t._makeDataAdapterResult=u;class c{constructor(){this._data={}}get(e,t){var r;const i=this._data[e],s=null==i?void 0:i.stableID,o=null===(r=null==t?void 0:t.customIDs)||void 0===r?void 0:r.stableID;return o&&s&&o!==s?(n.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):i}add(e,t){const r=d(this._data,9);r&&delete this._data[r],this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function d(e,t){const r=Object.keys(e);return r.length<=t?null:r.reduce(((t,r)=>{const i=e[t],n=e[r];return"object"==typeof i&&"object"==typeof n?n.receivedAt<i.receivedAt?r:t:n<i?r:t}))}},21647:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeTypedGet=t._mergeOverride=t._makeLayer=t._makeExperiment=t._makeDynamicConfig=t._makeFeatureGate=void 0;const i=r(22132),n=r(48062);function s(e,t,r,i){var n;return{name:e,details:t,ruleID:null!==(n=null==r?void 0:r.rule_id)&&void 0!==n?n:"default",__evaluation:r,value:i}}function o(e,t,r){var i;const n=null!==(i=null==r?void 0:r.value)&&void 0!==i?i:{};return Object.assign(Object.assign({},s(e,t,r,n)),{get:a(e,null==r?void 0:r.value)})}function a(e,t,r){return(s,o)=>{var a;const l=null!==(a=null==t?void 0:t[s])&&void 0!==a?a:null;return null==l?null!=o?o:null:null==o||(0,n._isTypeMatch)(l,o)?(null==r||r(s),l):(i.Log.warn(`Parameter type mismatch. '${e}.${s}' was found to be type '${typeof l}' but fallback/return type is '${typeof o}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=o?o:null)}}t._makeFeatureGate=function(e,t,r){return s(e,t,r,!0===(null==r?void 0:r.value))},t._makeDynamicConfig=o,t._makeExperiment=function(e,t,r){var i;const n=o(e,t,r);return Object.assign(Object.assign({},n),{groupName:null!==(i=null==r?void 0:r.group_name)&&void 0!==i?i:null})},t._makeLayer=function(e,t,r,i){var n,o;return Object.assign(Object.assign({},s(e,t,r,void 0)),{get:a(e,null==r?void 0:r.value,i),groupName:null!==(n=null==r?void 0:r.group_name)&&void 0!==n?n:null,__value:null!==(o=null==r?void 0:r.value)&&void 0!==o?o:{}})},t._mergeOverride=function(e,t,r,i){return Object.assign(Object.assign(Object.assign({},e),t),{get:a(e.name,r,i)})},t._makeTypedGet=a},22132:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0;function r(e){return e.unshift("[Statsig]"),e}t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class i{static info(...e){i.level>=t.LogLevel.Info&&console.info("  INFO ",...r(e))}static debug(...e){i.level>=t.LogLevel.Debug&&console.debug(" DEBUG ",...r(e))}static warn(...e){i.level>=t.LogLevel.Warn&&console.warn("  WARN ",...r(e))}static error(...e){i.level>=t.LogLevel.Error&&console.error(" ERROR ",...r(e))}}t.Log=i,i.level=t.LogLevel.Warn},23224:function(e,t,r){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}r.r(t),r.d(t,{default:function(){return i}})},28210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;const i=r(48062);t._DJB2=e=>{let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return String(t>>>0)};t._DJB2Object=(e,r)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(e,r)));t._getSortedObject=(e,r)=>{if(null==e)return null;const n=Object.keys(e).sort(),s={};return n.forEach((n=>{const o=e[n];0!==r&&"object"===(0,i._typeOf)(o)?s[n]=(0,t._getSortedObject)(o,null!=r?r-1:r):s[n]=o})),s}},30382:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0,r(98657);const s=r(72798);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return s.Diagnostics}});const o=r(80638);Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return o.EventLogger}});const a=r(22132);Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return a.Log}});const l=r(92452),u=r(6346);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return u.Storage}}),n(r(98657),t),n(r(60981),t),n(r(34399),t),n(r(18562),t),n(r(72798),t),n(r(76663),t),n(r(41290),t),n(r(70118),t),n(r(93725),t),n(r(28210),t),n(r(72849),t),n(r(22132),t),n(r(66375),t),n(r(73582),t),n(r(76555),t),n(r(15377),t),n(r(86037),t),n(r(36650),t),n(r(12442),t),n(r(44899),t),n(r(6286),t),n(r(95939),t),n(r(93528),t),n(r(65362),t),n(r(41217),t),n(r(92452),t),n(r(45910),t),n(r(41350),t),n(r(21647),t),n(r(13224),t),n(r(84830),t),n(r(6346),t),n(r(41829),t),n(r(48062),t),n(r(85445),t),n(r(42555),t),n(r(65873),t),n(r(56400),t),n(r(94175),t),__STATSIG__=Object.assign(Object.assign({},null!==__STATSIG__&&void 0!==__STATSIG__?__STATSIG__:{}),{Log:a.Log,SDK_VERSION:l.SDK_VERSION})},34399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36111:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(36236);function n(e,t,r){return(t=(0,i.default)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},36236:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(23224);function n(e){var t=function(e,t){if("object"!=(0,i.default)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=(0,i.default)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.default)(t)?t:t+""}},36650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0;t._getWindowSafe=()=>"undefined"!=typeof window?window:null;t._getDocumentSafe=()=>{var e;const r=(0,t._getWindowSafe)();return null!==(e=null==r?void 0:r.document)&&void 0!==e?e:null};t._isServerEnv=()=>{if(null!==(0,t._getDocumentSafe)())return!1;const e="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;return"string"==typeof EdgeRuntime||e};t._addWindowEventListenerSafe=(e,r)=>{const i=(0,t._getWindowSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,r)};t._addDocumentEventListenerSafe=(e,r)=>{const i=(0,t._getDocumentSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,r)};t._getCurrentPageUrlSafe=()=>{var e;try{return null===(e=(0,t._getWindowSafe)())||void 0===e?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}}},36962:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(30382),s=r(88321),o=r(96892),a=r(42739),l=r(61887);class u extends n.StatsigClientBase{static instance(e){const t=(0,n._getStatsigGlobal)().instance(e);return t instanceof u?t:(n.Log.warn((0,n._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new u(null!=e?e:"",{}))}constructor(e,t,r=null){var i,a;n.SDKType._setClientType(e,"javascript-client");const u=new o.default(r,(e=>{this.$emt(e)}));super(e,null!==(i=null==r?void 0:r.dataAdapter)&&void 0!==i?i:new l.StatsigEvaluationsDataAdapter,u,r),this.getFeatureGate=this._memoize(n.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(n.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(n.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(n.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(n.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new s.default(e),this._network=u,this._user=this._configureUser(t,r);const c=null!==(a=null==r?void 0:r.plugins)&&void 0!==a?a:[];for(const e of c)e.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,n.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return i(this,void 0,void 0,(function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise}))}updateUserSync(e,t){var r;const i=performance.now(),s=[...null!==(r=this._store.getWarnings())&&void 0!==r?r:[]];this._resetForUser(e);const o=this.dataAdapter.getDataSync(this._user);null==o&&s.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);const a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&"Bootstrap"===(null==o?void 0:o.source)||this._runPostUpdate(null!=o?o:null,this._user),(0,n.createUpdateDetails)(!0,this._store.getSource(),performance.now()-i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s)}updateUserAsync(e,t){return i(this,void 0,void 0,(function*(){this._resetForUser(e);const r=this._user;n.Diagnostics._markInitOverallStart(this._sdkKey);let i=this.dataAdapter.getDataSync(r);if(this._store.setValues(i,this._user),this._setStatus("Loading",i),i=yield this.dataAdapter.getDataAsync(i,r,t),r!==this._user)return(0,n.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let s=!1;null!=i&&(n.Diagnostics._markInitProcessStart(this._sdkKey),s=this._store.setValues(i,this._user),n.Diagnostics._markInitProcessEnd(this._sdkKey,{success:s})),this._finalizeUpdate(i),s||(this._errorBoundary.attachErrorIfNoneExists(n.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),n.Diagnostics._markInitOverallEnd(this._sdkKey,s,this._store.getCurrentSourceDetails());const o=n.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,n.createUpdateDetails)(s,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())}))}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:n.StatsigSession.get(this._sdkKey),stableID:n.StableID.get(this._sdkKey)}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,r){const i="string"==typeof e?{eventName:e,value:t,metadata:r}:e;this._logger.enqueue(Object.assign(Object.assign({},i),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",(()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)}))}_initializeAsyncImpl(e){return i(this,void 0,void 0,(function*(){return n.Storage.isReady()||(yield n.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)}))}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch((e=>{n.Log.error("An error occurred after update.",e)}))}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var r;const i=(0,n._normalizeUser)(e,t),s=null===(r=i.customIDs)||void 0===r?void 0:r.stableID;return s&&n.StableID.setOverride(s,this._sdkKey),i}_getFeatureGateImpl(e,t){var r,i;const{result:s,details:o}=this._store.getGate(e),a=(0,n._makeFeatureGate)(e,o,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getGateOverride)||void 0===i?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,n._createGateExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(e,t){var r,i;const{result:s,details:o}=this._store.getConfig(e),a=(0,n._makeDynamicConfig)(e,o,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getDynamicConfigOverride)||void 0===i?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(e,t){var r,i,s,o;const{result:a,details:l}=this._store.getConfig(e),u=(0,n._makeExperiment)(e,l,a);null!=u.__evaluation&&(u.__evaluation.secondary_exposures=(0,n._mapExposures)(null!==(i=null===(r=u.__evaluation)||void 0===r?void 0:r.secondary_exposures)&&void 0!==i?i:[],this._store.getExposureMapping()));const c=null===(o=null===(s=this.overrideAdapter)||void 0===s?void 0:s.getExperimentOverride)||void 0===o?void 0:o.call(s,u,this._user,t),d=null!=c?c:u;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,d,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getLayerImpl(e,t){var r,i,s;const{result:o,details:a}=this._store.getLayer(e),l=(0,n._makeLayer)(e,a,o),u=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getLayerOverride)||void 0===i?void 0:i.call(r,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);const c=(0,n._mergeOverride)(l,u,null!==(s=null==u?void 0:u.__value)&&void 0!==s?s:l.__value,(r=>{(null==t?void 0:t.disableExposureLog)||this._enqueueExposure(e,(0,n._createLayerParameterExposure)(this._user,c,r,this._store.getExposureMapping()),t)}));return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,t){var r,i;const{result:n,details:s}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);const o={name:e,details:s,__configuration:n,get:(0,a._makeParamStoreGetter)(this,n,t)},l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getParamStoreOverride)||void 0===i?void 0:i.call(r,o,t);return null!=l&&(o.__configuration=l.config,o.details=l.details,o.get=(0,a._makeParamStoreGetter)(this,l.config,t)),o}}t.default=u},38085:function(e,t,r){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}r.r(t),r.d(t,{default:function(){return i}})},41217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createLayerParameterExposure=t._createConfigExposure=t._mapExposures=t._createGateExposure=t._isExposureEvent=void 0;const r="statsig::config_exposure",i="statsig::gate_exposure",n="statsig::layer_exposure",s=(e,t,r,i,n)=>(r.bootstrapMetadata&&(i.bootstrapMetadata=r.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:a(r,i),secondaryExposures:n,time:Date.now()});t._isExposureEvent=({eventName:e})=>e===i||e===r||e===n;function o(e,t){return e.map((e=>"string"==typeof e?(null!=t?t:{})[e]:e)).filter((e=>null!=e))}t._createGateExposure=(e,t,r)=>{var n,a,l;const u={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return null!=(null===(n=t.__evaluation)||void 0===n?void 0:n.version)&&(u.configVersion=t.__evaluation.version),s(i,e,t.details,u,o(null!==(l=null===(a=t.__evaluation)||void 0===a?void 0:a.secondary_exposures)&&void 0!==l?l:[],r))},t._mapExposures=o;t._createConfigExposure=(e,t,i)=>{var n,a,l,u;const c={config:t.name,ruleID:t.ruleID};return null!=(null===(n=t.__evaluation)||void 0===n?void 0:n.version)&&(c.configVersion=t.__evaluation.version),null!=(null===(a=t.__evaluation)||void 0===a?void 0:a.passed)&&(c.rulePassed=String(t.__evaluation.passed)),s(r,e,t.details,c,o(null!==(u=null===(l=t.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==u?u:[],i))};t._createLayerParameterExposure=(e,t,r,i)=>{var a,l,u,c;const d=t.__evaluation,h=!0===(null===(a=null==d?void 0:d.explicit_parameters)||void 0===a?void 0:a.includes(r));let f="",g=null!==(l=null==d?void 0:d.undelegated_secondary_exposures)&&void 0!==l?l:[];h&&(f=null!==(u=d.allocated_experiment_name)&&void 0!==u?u:"",g=d.secondary_exposures);const _={config:t.name,parameterName:r,ruleID:t.ruleID,allocatedExperiment:f,isExplicitParameter:String(h)};return null!=(null===(c=t.__evaluation)||void 0===c?void 0:c.version)&&(_.configVersion=t.__evaluation.version),s(n,e,t.details,_,o(g,i))};const a=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)},41290:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;const n=r(22132),s=r(12442),o=r(92452);t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const a="[Statsig] UnknownError";function l(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error("An unknown error occurred.")}t.ErrorBoundary=class{constructor(e,t,r,i){this._sdkKey=e,this._options=t,this._emitter=r,this._lastSeenError=i,this._seen=new Set}wrap(e){try{const t=e;(function(e){const t=new Set;let r=Object.getPrototypeOf(e);for(;r&&r!==Object.prototype;)Object.getOwnPropertyNames(r).filter((e=>"function"==typeof(null==r?void 0:r[e]))).forEach((e=>t.add(e))),r=Object.getPrototypeOf(r);return Array.from(t)})(t).forEach((r=>{const i=t[r];"$EB"in i||(t[r]=(...t)=>this._capture(r,(()=>i.apply(e,t))),t[r].$EB=!0)}))}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){const e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=l(e))}_capture(e,t){try{const r=t();return r&&r instanceof Promise?r.catch((t=>this._onError(e,t))):r}catch(t){return this._onError(e,t),null}}_onError(e,r){try{n.Log.warn(`Caught error in ${e}`,{error:r});(()=>i(this,void 0,void 0,(function*(){var i,n,u,c,d,h,f;const g=r||Error(a),_=g instanceof Error,p=_?g.name:"No Name",v=l(g);if(this._lastSeenError=v,this._seen.has(p))return;if(this._seen.add(p),null===(n=null===(i=this._options)||void 0===i?void 0:i.networkConfig)||void 0===n?void 0:n.preventAllNetworkTraffic)return void(null===(u=this._emitter)||void 0===u||u.call(this,{name:"error",error:r,tag:e}));const y=s.SDKType._get(this._sdkKey),m=o.StatsigMetadataProvider.get(),b=_?g.stack:function(e){try{return JSON.stringify(e)}catch(e){return a}}(g),w=JSON.stringify(Object.assign({tag:e,exception:p,info:b},Object.assign(Object.assign({},m),{sdkType:y}))),E=null!==(h=null===(d=null===(c=this._options)||void 0===c?void 0:c.networkConfig)||void 0===d?void 0:d.networkOverrideFunc)&&void 0!==h?h:fetch;yield E(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(y),"STATSIG-SDK-VERSION":String(m.sdkVersion),"Content-Type":"application/json"},body:w}),null===(f=this._emitter)||void 0===f||f.call(this,{name:"error",error:r,tag:e})})))().then((()=>{})).catch((()=>{}))}catch(e){}}}},41350:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41829:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typedJsonParse=void 0;const i=r(22132);t._typedJsonParse=function(e,t,r){try{const r=JSON.parse(e);if(r&&"object"==typeof r&&t in r)return r}catch(e){}return i.Log.error(`Failed to parse ${r}`),null}},42555:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=void 0,t.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,(r=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===r?i:7&i|8).toString(16)}))}},42739:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeParamStoreGetter=void 0;const i=r(30382),n={disableExposureLog:!0};function s(e){return null==e||!1===e.disableExposureLog}function o(e,t){return null!=t&&!(0,i._isTypeMatch)(e,t)}t._makeParamStoreGetter=function(e,t,r){return(a,l)=>{if(null==t)return l;const u=t[a];if(null==u||null!=l&&(0,i._typeOf)(l)!==u.param_type)return l;switch(u.ref_type){case"static":return function(e){return e.value}(u);case"gate":return function(e,t,r){return e.getFeatureGate(t.gate_name,s(r)?void 0:n).value?t.pass_value:t.fail_value}(e,u,r);case"dynamic_config":return function(e,t,r,i){const a=e.getDynamicConfig(t.config_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getDynamicConfig(t.config_name),a)}(e,u,l,r);case"experiment":return function(e,t,r,i){const a=e.getExperiment(t.experiment_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getExperiment(t.experiment_name),a)}(e,u,l,r);case"layer":return function(e,t,r,i){const a=e.getLayer(t.layer_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getLayer(t.layer_name).get(t.param_name),a)}(e,u,l,r);default:return l}}}},43057:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(61927);function n(e,t){if(null==e)return{};var r,n,s=(0,i.default)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},44899:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;const i=r(60981),n=r(22132),s=r(6346),o=r(42555),a=18e5,l=144e5,u={};function c(e,t){return setTimeout((()=>{const t=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(e);t&&t.$emt({name:"session_expired"})}),t)}function d(e){return`statsig.session_id.${(0,i._getStorageKey)(e)}`}t.SessionID={get:e=>t.StatsigSession.get(e).data.sessionID},t.StatsigSession={get:e=>{null==u[e]&&(u[e]=function(e){let t=function(e){const t=d(e);return(0,s._getObjectFromStorage)(t)}(e);const r=Date.now();t||(t={sessionID:(0,o.getUUID)(),startTime:r,lastUpdate:r});return{data:t,sdkKey:e}}(e));return function(e){const t=Date.now(),r=e.data;(function({lastUpdate:e}){return Date.now()-e>a}(r)||function({startTime:e}){return Date.now()-e>l}(r))&&(r.sessionID=(0,o.getUUID)(),r.startTime=t);r.lastUpdate=t,function(e,t){const r=d(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save SessionID")}}(r,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);const i=t-r.startTime,u=e.sdkKey;return e.idleTimeoutID=c(u,a),e.ageTimeoutID=c(u,l-i),e}(u[e])},overrideInitialSessionID:(e,t)=>{u[t]=function(e,t){const r=Date.now();return{data:{sessionID:e,startTime:r,lastUpdate:r},sdkKey:t}}(e,t)}}},45910:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},47726:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;const s=r(36962);t.StatsigClient=s.default,n(r(30382),t),__STATSIG__=Object.assign(Object.assign({},null!==__STATSIG__&&void 0!==__STATSIG__?__STATSIG__:{}),{StatsigClient:s.default}),t.default=__STATSIG__},48062:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isTypeMatch=t._typeOf=void 0,t._typeOf=function(e){return Array.isArray(e)?"array":typeof e},t._isTypeMatch=function(e,t){const r=e=>Array.isArray(e)?"array":typeof e;return r(e)===r(t)}},56400:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DETAIL_ERROR_MESSAGES=t.createUpdateDetails=void 0;t.createUpdateDetails=(e,t,r,i,n,s)=>({duration:r,source:t,success:e,error:i,sourceUrl:n,warnings:s}),t.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},60981:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getStorageKey=t._getUserStorageKey=void 0;const i=r(28210);function n(e,t,r){var n;if(r)return r(e,t);const s=t&&t.customIDs?t.customIDs:{},o=[`uid:${null!==(n=null==t?void 0:t.userID)&&void 0!==n?n:""}`,`cids:${Object.keys(s).sort(((e,t)=>e.localeCompare(t))).map((e=>`${e}-${s[e]}`)).join(",")}`,`k:${e}`];return(0,i._DJB2)(o.join("|"))}t._getUserStorageKey=n,t._getStorageKey=function(e,t,r){return t?n(e,t,r):(0,i._DJB2)(`k:${e}`)}},61887:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEvaluationsDataAdapter=void 0;const n=r(30382),s=r(96892);class o extends n.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t){super.attach(e,t),this._network=new s.default(null!=t?t:{})}getDataAsync(e,t,r){return this._getDataAsyncImpl(e,(0,n._normalizeUser)(t,this._options),r)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){const t=(0,n._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):n.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,r,n){var s;return i(this,void 0,void 0,(function*(){const i=yield null===(s=this._network)||void 0===s?void 0:s.fetchEvaluations(this._getSdkKey(),e,null==r?void 0:r.priority,t,n);return null!=i?i:null}))}_getCacheKey(e){var t;const r=(0,n._getStorageKey)(this._getSdkKey(),e,null===(t=this._options)||void 0===t?void 0:t.customUserCacheKeyFunc);return`${n.DataAdapterCachePrefix}.${this._cacheSuffix}.${r}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,n._getFullUserHash)(t)}}t.StatsigEvaluationsDataAdapter=o},61927:function(e,t,r){"use strict";function i(e,t){if(null==e)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;r[i]=e[i]}return r}r.r(t),r.d(t,{default:function(){return i}})},64741:function(e,t,r){"use strict";r.r(t),r.d(t,{COLOR_MODE_ATTRIBUTE:function(){return n},CONTRAST_MODE_ATTRIBUTE:function(){return s},CSS_PREFIX:function(){return l},CSS_VAR_FULL:function(){return u},CURRENT_SURFACE_CSS_VAR:function(){return d},CUSTOM_THEME_ATTRIBUTE:function(){return o},DEFAULT_THEME:function(){return a},THEME_DATA_ATTRIBUTE:function(){return i},TOKEN_NOT_FOUND_CSS_VAR:function(){return c}});var i="data-theme",n="data-color-mode",s="data-contrast-mode",o="data-custom-theme",a="light",l="ds",u=["opacity","font","space","border"],c="--".concat(l,"-token-not-found"),d="--".concat(l,"-elevation-surface-current")},65362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataAdapterCachePrefix=void 0,t.DataAdapterCachePrefix="statsig.cached"},65873:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;const i=r(36650),n="foreground",s="background",o=[];let a=n,l=!1;t._isCurrentlyVisible=()=>a===n;t._isUnloading=()=>l;t._subscribeToVisiblityChanged=e=>{o.unshift(e)};t._notifyVisibilityChanged=e=>{e!==a&&(a=e,o.forEach((t=>t(e))))},(0,i._addWindowEventListenerSafe)("focus",(()=>{l=!1,(0,t._notifyVisibilityChanged)(n)})),(0,i._addWindowEventListenerSafe)("blur",(()=>(0,t._notifyVisibilityChanged)(s))),(0,i._addWindowEventListenerSafe)("beforeunload",(()=>{l=!0,(0,t._notifyVisibilityChanged)(s)})),(0,i._addDocumentEventListenerSafe)("visibilitychange",(()=>{(0,t._notifyVisibilityChanged)("visible"===document.visibilityState?n:s)}))},66375:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMemoKey=t.MemoPrefix=void 0,t.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};const r=new Set([]),i=new Set(["userPersistedValues"]);t.createMemoKey=function(e,t,n){let s=`${e}|${t}`;if(!n)return s;for(const e of Object.keys(n)){if(i.has(e))return;r.has(e)?s+=`|${e}=true`:s+=`|${e}=${n[e]}`}return s}},70118:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._resolveDeltasResponse=void 0;const i=r(30382);function n(e,t){null==e||e.forEach((e=>{delete t[e]}))}t._resolveDeltasResponse=function(e,t){const r=(0,i._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!r)return{hadBadDeltaChecksum:!0};const s=function(e){const t=e;return n(e.deleted_gates,t.feature_gates),delete t.deleted_gates,n(e.deleted_configs,t.dynamic_configs),delete t.deleted_configs,n(e.deleted_layers,t.layer_configs),delete t.deleted_layers,t}(function(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{feature_gates:Object.assign(Object.assign({},e.feature_gates),t.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),t.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),t.dynamic_configs)})}(e,r)),o=(0,i._DJB2Object)({feature_gates:s.feature_gates,dynamic_configs:s.dynamic_configs,layer_configs:s.layer_configs},2);return o===r.checksumV2?JSON.stringify(s):{hadBadDeltaChecksum:!0,badChecksum:o,badMergedConfigs:s,badFullResponse:r.deltas_full_response}}},72798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const r=new Map,i="start",n="end",s="statsig::diagnostics";function o(e,t,r,i){return Object.assign({key:r,action:t,step:i,timestamp:Date.now()},e)}function a(e,t){var i;const n=null!==(i=r.get(e))&&void 0!==i?i:[];n.push(t),r.set(e,n)}function l(e,t){if(t in e)return e[t]}t.Diagnostics={_getMarkers:e=>r.get(e),_markInitOverallStart:e=>{a(e,o({},i,"overall"))},_markInitOverallEnd:(e,t,r)=>{a(e,o({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:r},n,"overall"))},_markInitNetworkReqStart:(e,t)=>{a(e,o(t,i,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{a(e,o(t,n,"initialize","network_request"))},_markInitProcessStart:e=>{a(e,o({},i,"initialize","process"))},_markInitProcessEnd:(e,t)=>{a(e,o(t,n,"initialize","process"))},_clearMarkers:e=>{r.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:l(e,"code"),name:l(e,"name"),message:l(e,"message")}},_getDiagnosticsData(e,r,i,n){var s;return{success:!0===(null==e?void 0:e.ok),statusCode:null==e?void 0:e.status,sdkRegion:null===(s=null==e?void 0:e.headers)||void 0===s?void 0:s.get("x-statsig-region"),isDelta:!0===i.includes('"is_delta":true')||void 0,attempt:r,error:t.Diagnostics._formatError(n)}},_enqueueDiagnosticsEvent(e,r,i,n){const o=t.Diagnostics._getMarkers(i);if(null==o||o.length<=0)return-1;const a=o[o.length-1].timestamp-o[0].timestamp;t.Diagnostics._clearMarkers(i);const l=function(e,t){const r={eventName:s,user:e,value:null,metadata:t,time:Date.now()};return r}(e,{context:"initialize",markers:o.slice(),statsigOptions:n});return r.enqueue(l),a}}},72849:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},73582:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},76555:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkCore=void 0,r(98657);const n=r(98657),s=r(72798),o=r(22132),a=r(73582),l=r(82064),u=r(94175),c=r(12442),d=r(36650),h=r(44899),f=r(6286),g=r(93528),_=r(92452),p=r(65873),v=new Set([408,500,502,503,504,522,524,599]);t.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options)}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){const e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){return i(this,void 0,void 0,(function*(){if(!y(e))return!1;const t=this._getInternalRequestArgs("POST",e);yield this._tryToCompressBody(t);const r=yield this._getPopulatedURL(t),i=navigator;return i.sendBeacon.bind(i)(r,t.body)}))}post(e){return i(this,void 0,void 0,(function*(){const t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)}))}get(e){const t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){var t,r,n,l;return i(this,void 0,void 0,(function*(){if(!y(e))return null;if(this._netConfig.preventAllNetworkTraffic)return null;const{method:u,body:c,retries:d,attempt:h}=e,f=e.urlConfig.endpoint;if(this._isRateLimited(f))return o.Log.warn(`Request to ${f} was blocked because you are making requests too frequently.`),null;const _=null!=h?h:1,m="undefined"!=typeof AbortController?new AbortController:null,w=setTimeout((()=>{null==m||m.abort(`Timeout of ${this._timeout}ms expired.`)}),this._timeout),E=yield this._getPopulatedURL(e);let O=null;const S=(0,p._isUnloading)();try{const r={method:u,body:c,headers:Object.assign({},e.headers),signal:null==m?void 0:m.signal,priority:e.priority,keepalive:S};!function(e,t){if(e.urlConfig.endpoint!==a.Endpoint._initialize)return;s.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:t})}(e,_);const i=this._leakyBucket[f];i&&(i.lastRequestTime=Date.now(),this._leakyBucket[f]=i);const n=null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch;if(O=yield n(E,r),clearTimeout(w),!O.ok){const e=yield O.text().catch((()=>"No Text")),t=new Error(`NetworkError: ${E} ${e}`);throw t.name="NetworkError",t}const o=yield O.text();return b(e,O,_,o),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:o,code:O.status}}catch(t){const s=function(e,t){if((null==e?void 0:e.signal.aborted)&&"string"==typeof e.signal.reason)return e.signal.reason;if("string"==typeof t)return t;if(t instanceof Error)return`${t.name}: ${t.message}`;return"Unknown Error"}(m,t),a=(null==(k=m)?void 0:k.signal.aborted)&&"string"==typeof k.signal.reason&&k.signal.reason.includes("Timeout")||!1;b(e,O,_,"",t);if((yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,s,a))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!d||_>d||!v.has(null!==(r=null==O?void 0:O.status)&&void 0!==r?r:500)){null===(n=this._emitter)||void 0===n||n.call(this,{name:"error",error:t,tag:g.ErrorTag.NetworkError,requestArgs:e});const r=`A networking error occurred during ${u} request to ${E}.`;return o.Log.error(r,s,t),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(r),null}return yield function(e){return i(this,void 0,void 0,(function*(){yield new Promise((t=>setTimeout(t,Math.min(e*e*500,3e4))))}))}(_),this._sendRequest(Object.assign(Object.assign({},e),{retries:d,attempt:_+1}))}var k}))}_isRateLimited(e){var t;const r=Date.now(),i=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:r},n=r-i.lastRequestTime,s=Math.floor(.05*n);return i.count=Math.max(0,i.count-s),i.count>=50||(i.count+=1,i.lastRequestTime=r,this._leakyBucket[e]=i,!1)}_getPopulatedURL(e){var t;return i(this,void 0,void 0,(function*(){const r=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();e.urlConfig.endpoint!==a.Endpoint._initialize&&e.urlConfig.endpoint!==a.Endpoint._download_config_specs||(this._lastUsedInitUrl=r);const i=Object.assign({[a.NetworkParam.SdkKey]:e.sdkKey,[a.NetworkParam.SdkType]:c.SDKType._get(e.sdkKey),[a.NetworkParam.SdkVersion]:_.SDK_VERSION,[a.NetworkParam.Time]:String(Date.now()),[a.NetworkParam.SessionID]:h.SessionID.get(e.sdkKey)},e.params),n=Object.keys(i).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`)).join("&");return`${r}${n?`?${n}`:""}`}))}_tryEncodeBody(e){var t;const r=(0,d._getWindowSafe)(),i=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof i&&null==(0,n._getStatsigGlobalFlag)("no-encode")&&(null==r?void 0:r.btoa))try{e.body=r.btoa(i).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.StatsigEncoded]:"1"})}catch(t){o.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(e){var t;return i(this,void 0,void 0,(function*(){const r=e.body;if(e.isCompressable&&!this._options.disableCompression&&"string"==typeof r&&!0===u.SDKFlags.get(e.sdkKey,"enable_log_event_compression")&&null==(0,n._getStatsigGlobalFlag)("no-compress")&&"undefined"!=typeof CompressionStream&&"undefined"!=typeof TextEncoder)try{const i=(new TextEncoder).encode(r),n=new CompressionStream("gzip"),s=n.writable.getWriter();s.write(i).catch(o.Log.error),s.close().catch(o.Log.error);const l=n.readable.getReader(),u=[];let c;for(;!(c=yield l.read()).done;)u.push(c.value);const d=u.reduce(((e,t)=>e+t.length),0),h=new Uint8Array(d);let f=0;for(const e of u)h.set(e,f),f+=e.length;e.body=h,e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.IsGzipped]:"1"})}catch(t){o.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,t)}}))}_getInternalRequestArgs(e,t){const r=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),i=Object.assign(Object.assign({},t),{method:e,fallbackUrl:r});return"data"in t&&m(i,t.data),i}};const y=e=>!!e.sdkKey||(o.Log.warn("Unable to make request without an SDK key"),!1),m=(e,t)=>{const{sdkKey:r,fallbackUrl:i}=e,n=f.StableID.get(r),s=h.SessionID.get(r),o=c.SDKType._get(r);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},_.StatsigMetadataProvider.get()),{stableID:n,sessionID:s,sdkType:o,fallbackUrl:i})}))};function b(e,t,r,i,n){e.urlConfig.endpoint===a.Endpoint._initialize&&s.Diagnostics._markInitNetworkReqEnd(e.sdkKey,s.Diagnostics._getDiagnosticsData(t,r,i,n))}},76663:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},77001:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var i=r(36236);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,i.default)(n.key),n)}}function s(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},80638:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;const n=r(60981),s=r(28210),o=r(22132),a=r(73582),l=r(36650),u=r(41217),c=r(6346),d=r(85445),h=r(65873),f={},g="startup",_="gained_focus";class p{static _safeFlushAndForget(e){var t;null===(t=f[e])||void 0===t||t.flush().catch((()=>{}))}static _safeRetryFailedLogs(e){var t;null===(t=f[e])||void 0===t||t._retryFailedLogs(_)}constructor(e,t,r,i){var n;this._sdkKey=e,this._emitter=t,this._network=r,this._options=i,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._isLoggingDisabled=!0===(null==i?void 0:i.disableLogging),this._maxQueueSize=null!==(n=null==i?void 0:i.loggingBufferMaxSize)&&void 0!==n?n:100;const s=null==i?void 0:i.networkConfig;this._logEventUrlConfig=new d.UrlConfiguration(a.Endpoint._rgstr,null==s?void 0:s.logEventUrl,null==s?void 0:s.api,null==s?void 0:s.logEventFallbackUrls)}setLoggingDisabled(e){this._isLoggingDisabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&p._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;const r=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=r+1}reset(){this._lastExposureTimeMap={}}start(){(0,l._isServerEnv)()||(f[this._sdkKey]=this,(0,h._subscribeToVisiblityChanged)((e=>{"background"===e?p._safeFlushAndForget(this._sdkKey):"foreground"===e&&p._safeRetryFailedLogs(this._sdkKey)})),this._retryFailedLogs(g),this._startBackgroundFlushInterval())}stop(){return i(this,void 0,void 0,(function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete f[this._sdkKey],yield this.flush()}))}flush(){return i(this,void 0,void 0,(function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;const e=this._queue;this._queue=[],yield this._sendEvents(e)}))}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout((()=>p._safeFlushAndForget(this._sdkKey)),200))}_shouldLogEvent(e){if((0,l._isServerEnv)())return!1;if(!(0,u._isExposureEvent)(e))return!0;const t=e.user?e.user:{statsigEnvironment:void 0},r=(0,n._getUserStorageKey)(this._sdkKey,t),i=e.metadata?e.metadata:{},s=[e.eventName,r,i.gate,i.config,i.ruleID,i.allocatedExperiment,i.parameterName,String(i.isExplicitParameter),i.reason].join("|"),o=this._lastExposureTimeMap[s],a=Date.now();return!(o&&a-o<6e5)&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[s]=a,!0)}_sendEvents(e){var t,r;return i(this,void 0,void 0,(function*(){if(this._isLoggingDisabled)return this._saveFailedLogsToStorage(e),!1;try{const i=(0,h._isUnloading)()&&this._network.isBeaconSupported()&&null==(null===(r=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===r?void 0:r.networkOverrideFunc);this._emitter({name:"pre_logs_flushed",events:e});return(i?yield this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success?(this._emitter({name:"logs_flushed",events:e}),!0):(o.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1)}catch(e){return o.Log.warn("Failed to flush events."),!1}}))}_sendEventsViaPost(e){var t;return i(this,void 0,void 0,(function*(){const r=yield this._network.post(this._getRequestData(e)),i=null!==(t=null==r?void 0:r.code)&&void 0!==t?t:-1;return{success:i>=200&&i<300}}))}_sendEventsViaBeacon(e){return i(this,void 0,void 0,(function*(){return{success:yield this._network.beacon(this._getRequestData(e))}}))}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[a.NetworkParam.EventCount]:String(e.length)}}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();const t=this._getStorageKey();try{(0,c._setObjectInStorage)(t,e)}catch(e){o.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){const t=this._getStorageKey();(()=>i(this,void 0,void 0,(function*(){c.Storage.isReady()||(yield c.Storage.isReadyResolver());const r=(0,c._getObjectFromStorage)(t);if(!r)return;e===g&&c.Storage.removeItem(t);(yield this._sendEvents(r))&&e===_&&c.Storage.removeItem(t)})))().catch((()=>{o.Log.warn("Failed to flush stored logs")}))}_getStorageKey(){return`statsig.failed_logs.${(0,s._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);const t={},r=this._getCurrentPageUrl();r&&(t.statsigMetadata={currentPage:r});const i=Object.assign(Object.assign({},e),t);o.Log.debug("Enqueued Event:",i),this._queue.push(i)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if(!1!==(null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents))return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;const r=null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4,i=setInterval((()=>{const e=f[this._sdkKey];e&&e._flushIntervalId===i?p._safeFlushAndForget(this._sdkKey):clearInterval(i)}),r);this._flushIntervalId=i}}t.EventLogger=p},82064:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._isDomainFailure=t.NetworkFallbackResolver=void 0;const n=r(86413),s=r(28210),o=r(22132),a=r(6346),l=6048e5;function u(e,t){var r;const i=null!==(r=null==e?void 0:e.toLowerCase())&&void 0!==r?r:"";return t||i.includes("uncaught exception")||i.includes("failed to fetch")||i.includes("networkerror when attempting to fetch resource")}function c(e){return`statsig.network_fallback.${(0,s._DJB2)(e)}`}function d(e,t){const r=c(e);t&&0!==Object.keys(t).length?a.Storage.setItem(r,JSON.stringify(t)):a.Storage.removeItem(r)}function h(e){try{return new URL(e).pathname}catch(e){return null}}t.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var r;const i=null===(r=this._fallbackInfo)||void 0===r?void 0:r[t.endpoint];i&&(i.expiryTime=Date.now()+l,d(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:i})))}getActiveFallbackUrl(e,t){var r,i;let n=this._fallbackInfo;null==n&&(n=null!==(r=function(e){const t=c(e),r=a.Storage.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return o.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==r?r:{},this._fallbackInfo=n);const s=n[t.endpoint];return!s||Date.now()>(null!==(i=s.expiryTime)&&void 0!==i?i:0)?(delete n[t.endpoint],this._fallbackInfo=n,d(e,this._fallbackInfo),null):s.url?s.url:null}getFallbackFromProvided(e){const t=h(e);return t?e.replace(t,""):null}tryFetchUpdatedFallbackInfo(e,t,r,n){var s,o;return i(this,void 0,void 0,(function*(){try{if(!u(r,n))return!1;const i=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,o=this._pickNewFallbackUrl(null===(s=this._fallbackInfo)||void 0===s?void 0:s[t.endpoint],i);return!!o&&(this._updateFallbackInfoWithNewUrl(e,t.endpoint,o),!0)}catch(e){return null===(o=this._errorBoundary)||void 0===o||o.logError("tryFetchUpdatedFallbackInfo",e),!1}}))}_updateFallbackInfoWithNewUrl(e,t,r){var i,n,s;const o={url:r,expiryTime:Date.now()+l,previous:[]},a=null===(i=this._fallbackInfo)||void 0===i?void 0:i[t];a&&o.previous.push(...a.previous),o.previous.length>10&&(o.previous=[]);const u=null===(s=null===(n=this._fallbackInfo)||void 0===n?void 0:n[t])||void 0===s?void 0:s.url;null!=u&&o.previous.push(u),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[t]:o}),d(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){var t;return i(this,void 0,void 0,(function*(){const r=this._dnsQueryCooldowns[e.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;const i=[],s=yield(0,n._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),o=h(e.defaultUrl);for(const t of s){if(!t.startsWith(e.endpointDnsKey+"="))continue;const r=t.split("=");if(r.length>1){let e=r[1];e.endsWith("/")&&(e=e.slice(0,-1)),i.push(`https://${e}${o}`)}}return i}))}_pickNewFallbackUrl(e,t){var r;if(null==t)return null;const i=new Set(null!==(r=null==e?void 0:e.previous)&&void 0!==r?r:[]),n=null==e?void 0:e.url;let s=null;for(const e of t){const t=e.endsWith("/")?e.slice(0,-1):e;if(!i.has(e)&&t!==n){s=t;break}}return s}},t._isDomainFailure=u},82561:function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:function(){return i}})},84830:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getFullUserHash=t._normalizeUser=void 0;const i=r(28210),n=r(22132);t._normalizeUser=function(e,t,r){try{const i=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?i.statsigEnvironment=t.environment:null!=r&&(i.statsigEnvironment={tier:r}),i}catch(e){return n.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},t._getFullUserHash=function(e){return e?(0,i._DJB2Object)(e):null}},85445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlConfiguration=void 0;const i=r(73582),n={[i.Endpoint._initialize]:"i",[i.Endpoint._rgstr]:"e",[i.Endpoint._download_config_specs]:"d"};t.UrlConfiguration=class{constructor(e,t,r,s){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=n[e],t&&(this.customUrl=t),!t&&r&&(this.customUrl=r.endsWith("/")?`${r}${e}`:`${r}/${e}`),s&&(this.fallbackUrls=s);const o=i.NetworkDefault[e];this.defaultUrl=`${o}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}}},86037:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},86413:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._fetchTxtRecords=void 0;const i=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),n=["i","e","d"];t._fetchTxtRecords=function(e){return r(this,void 0,void 0,(function*(){const t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:i});if(!t.ok){const e=new Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}const r=yield t.arrayBuffer();return function(e){const t=e.findIndex(((t,r)=>r<200&&"="===String.fromCharCode(t)&&n.includes(String.fromCharCode(e[r-1]))));if(-1===t){const e=new Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let r="";for(let i=t-1;i<e.length;i++)r+=String.fromCharCode(e[i]);return r.split(",")}(new Uint8Array(r))}))}},87553:function(e,t,r){var i;!function(n){var s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(){this._events={},this._conf&&a.call(this,this._conf)}function a(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==n?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var i=new Error(r);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,process.emitWarning(i)}else console.error(r),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,e)}function c(e,t,r,i){if(!r)return[];var n,s,o,a,l,u,d,h=[],f=t.length,g=t[i],_=t[i+1];if(i===f&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(n=0,s=r._listeners.length;n<s;n++)e&&e.push(r._listeners[n]);return[r]}if("*"===g||"**"===g||r[g]){if("*"===g){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(h=h.concat(c(e,t,r[o],i+1)));return h}if("**"===g){for(o in(d=i+1===f||i+2===f&&"*"===_)&&r._listeners&&(h=h.concat(c(e,t,r,f))),r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!d&&(h=h.concat(c(e,t,r[o],f))),h=h.concat(c(e,t,r[o],i))):h=o===_?h.concat(c(e,t,r[o],i+2)):h.concat(c(e,t,r[o],i)));return h}h=h.concat(c(e,t,r[g],i+1))}if((a=r["*"])&&c(e,t,a,i+1),l=r["**"])if(i<f)for(o in l._listeners&&c(e,t,l,f),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===_?c(e,t,l[o],i+2):o===g?c(e,t,l[o],i+1):((u={})[o]=l[o],c(e,t,{"**":u},i+1)));else l._listeners?c(e,t,l,f):l["*"]&&l["*"]._listeners&&c(e,t,l["*"],f);return h}function d(e,t){for(var r=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<i;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var s=this.listenerTree,o=e.shift();o!==n;){if(s[o]||(s[o]={}),s=s[o],0===e.length)return s._listeners?("function"==typeof s._listeners&&(s._listeners=[s._listeners]),s._listeners.push(t),!s._listeners.warned&&this._maxListeners>0&&s._listeners.length>this._maxListeners&&(s._listeners.warned=!0,l.call(this,s._listeners.length,o))):s._listeners=t,!0;o=e.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==n&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this._once(e,t,!1)},u.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},u.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},u.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},u.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},u.prototype._many=function(e,t,r,i){var n=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function s(){return 0==--t&&n.off(e,s),r.apply(this,arguments)}return s._origin=r,this._on(e,s,i),n},u.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,r,i,n,s,a=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),a>3)for(t=new Array(a),n=0;n<a;n++)t[n]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,a){case 1:s[i].call(this,e);break;case 2:s[i].call(this,e,arguments[1]);break;case 3:s[i].call(this,e,arguments[1],arguments[2]);break;default:s[i].apply(this,t)}}if(this.wildcard){s=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,s,l,this.listenerTree,0)}else{if("function"==typeof(s=this._events[e])){switch(this.event=e,a){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),n=1;n<a;n++)t[n-1]=arguments[n];s.apply(this,t)}return!0}s&&(s=s.slice())}if(s&&s.length){if(a>3)for(t=new Array(a-1),n=1;n<a;n++)t[n-1]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,a){case 1:s[i].call(this);break;case 2:s[i].call(this,arguments[1]);break;case 3:s[i].call(this,arguments[1],arguments[2]);break;default:s[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,i,n,s,a=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),n=1;n<l;n++)t[n]=arguments[n];for(i=0,r=this._all.length;i<r;i++)switch(this.event=e,l){case 1:a.push(this._all[i].call(this,e));break;case 2:a.push(this._all[i].call(this,e,arguments[1]));break;case 3:a.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[i].apply(this,t))}}if(this.wildcard){s=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,s,u,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,l){case 1:a.push(s.call(this));break;case 2:a.push(s.call(this,arguments[1]));break;case 3:a.push(s.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];a.push(s.apply(this,t))}else if(s&&s.length){if(s=s.slice(),l>3)for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,l){case 1:a.push(s[i].call(this));break;case 2:a.push(s[i].call(this,arguments[1]));break;case 3:a.push(s[i].call(this,arguments[1],arguments[2]));break;default:a.push(s[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},u.prototype.on=function(e,t){return this._on(e,t,!1)},u.prototype.prependListener=function(e,t){return this._on(e,t,!0)},u.prototype.onAny=function(e){return this._onAny(e,!1)},u.prototype.prependAny=function(e){return this._onAny(e,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},u.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();i=c.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var a=0;a<i.length;a++){var l=i[a];if(r=l._listeners,s(r)){for(var u=-1,d=0,h=r.length;d<h;d++)if(r[d]===t||r[d].listener&&r[d].listener===t||r[d]._origin&&r[d]._origin===t){u=d;break}if(u<0)continue;return this.wildcard?l._listeners.splice(u,1):this._events[e].splice(u,1),0===r.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==n){var r=Object.keys(t);for(var i in r){var s=r[i],o=t[s];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[s]),0===Object.keys(o).length&&delete t[s])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,r=0,i=0;if(e&&this._all&&this._all.length>0){for(r=0,i=(t=this._all).length;r<i;r++)if(e===t[r])return t.splice(r,1),this.emit("removeListenerAny",e),this}else{for(r=0,i=(t=this._all).length;r<i;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=c.call(this,null,t,this.listenerTree,0),i=0;i<r.length;i++){r[i]._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return c.call(this,t,r,this.listenerTree,0),t}return this._events||o.call(this),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},(i=function(){return u}.call(t,r,t,e))===n||(e.exports=i)}()},88321:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(30382);t.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,i._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){var r;if(!e)return!1;const n=(0,i._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=n&&(this._source=e.source,!0!==(null==n?void 0:n.has_updates)||(this._rawValues=e.data,this._lcut=n.time,this._receivedAt=e.receivedAt,this._values=n,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,n),e.source&&n.user&&this._setWarningState(t,n),i.SDKFlags.setFlags(this._sdkKey,null!==(r=n.sdk_flags)&&void 0!==r?r:{})),!0)}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs,e)}getLayer(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.exposures}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;const r={};return t.user&&(r.user=t.user),t.sdkInfo&&(r.generatorSDKInfo=t.sdkInfo),r.lcut=t.time,r}_getDetailedStoreResult(e,t){let r=null;return e&&(r=e[t]?e[t]:e[(0,i._DJB2)(t)]),{result:r,details:this._getDetails(null==r)}}_setWarningState(e,t){var r;const n=i.StableID.get(this._sdkKey);if((null===(r=e.customIDs)||void 0===r?void 0:r.stableID)===n){if("user"in t){const r=t.user;(0,i._getFullUserHash)(e)!==(0,i._getFullUserHash)(r)&&this._warnings.add("PartialUserMatch")}}else this._warnings.add("StableIDMismatch")}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};const e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,r;const i=this.getCurrentSourceDetails();let n=i.reason;const s=null!==(t=i.warnings)&&void 0!==t?t:[];if("Bootstrap"===this._source&&s.length>0&&(n+=s[0]),"Uninitialized"!==n&&"NoValues"!==n){n=`${n}:${e?"Unrecognized":"Recognized"}`}const o="Bootstrap"===this._source&&null!==(r=this._bootstrapMetadata)&&void 0!==r?r:void 0;return o&&(i.bootstrapMetadata=o),Object.assign(Object.assign({},i),{reason:n})}}},92054:function(e,t,r){"use strict";r.r(t),r.d(t,{fg:function(){return ue},getBooleanFF:function(){return le},setBooleanFeatureFlagResolver:function(){return ae}});var i=r(36111),n=r(43057),s=r(47726),o=r(87553);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u="@all-features";class c{constructor(){(0,i.default)(this,"eventToValue",new Map),this.emitter=new o.EventEmitter2}onGateUpdated(e,t,r,i){const n=r(e,l(l({},i),{},{fireGateExposure:!1}));void 0===this.eventToValue.get(t)&&this.eventToValue.set(t,n);const s=()=>{const n=r(e,l(l({},i),{},{fireGateExposure:!1}));this.eventToValue.get(t)!==n&&(this.eventToValue.set(t,n),t(n))};return this.emitter.on(e,s),()=>{this.emitter.off(e,s)}}onExperimentValueUpdated(e,t,r,i,n,s){const o=`${e}.${t}`,a=n(e,t,r,l(l({},s),{},{fireExperimentExposure:!1}));void 0===this.eventToValue.get(i)&&this.eventToValue.set(i,a);const u=()=>{const o=n(e,t,r,l(l({},s),{},{fireExperimentExposure:!1}));this.eventToValue.get(i)!==o&&(this.eventToValue.set(i,o),i(o))};return this.emitter.on(o,u),()=>{this.emitter.off(o,u)}}onAnyUpdated(e){return this.emitter.on(u,e),()=>{this.emitter.off(u,e)}}anyUpdated(){this.emitter.emit(u),this.emitter.eventNames().filter((e=>e!==u)).forEach((e=>{this.emitter.emit(e)}))}}function d(){var e,t=globalThis,r=t.MICROS_PERIMETER||t.UNSAFE_ATL_CONTEXT_BOUNDARY;if(r)return"fedramp-moderate"===r;var i=null===(e=t.location)||void 0===e||null===(e=e.hostname)||void 0===e?void 0:e.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!i&&i.length>0}let h=function(e){return e.Error="Error",e.LocalOverride="LocalOverride",e.Unrecognized="Unrecognized",e.Uninitialized="Uninitialized",e.NetworkNotModified="NetworkNotModified",e.Network="Network",e.InvalidBootstrap="InvalidBootstrap",e.Bootstrap="Bootstrap",e.Cache="Cache",e.Unknown="Unknown",e}({}),f=function(e){return e.Development="development",e.Staging="staging",e.Production="production",e}({}),g=function(e){return e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e}({});const _=["api","disableCurrentPageLogging","loggingIntervalMillis","loggingBufferMaxSize","localMode","eventLoggingApi","eventLoggingApiForRetries","disableLocalStorage","ignoreWindowUndefined","disableAllLogging","initTimeoutMs","disableNetworkKeepalive","overrideStableID","disableErrorLogging","disableAutoMetricsLogging"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=e=>v({perimeter:d()?g.FEDRAMP_MODERATE:g.COMMERCIAL},e),m=(e,t)=>{if(!e&&!t)return!0;if(!e||!t)return!1;const r=Object.entries(e),i=Object.entries(t);if(r.length!==i.length)return!1;const n=([e],[t])=>e.localeCompare(t);r.sort(n),i.sort(n);for(let e=0;e<r.length;e++){const[,t]=r[e],[,n]=i[e];if(t!==n)return!1}return!0},b=(e,t,r)=>{const i={customIDs:null!=t&&t.stableID||!r?e:v({stableID:s.StableID.get(r)},e),custom:t};return e.atlassianAccountId&&(i.userID=e.atlassianAccountId),i},w=Object.entries(h).map((([e,t])=>[e.toLowerCase(),t])),E=e=>{var t,r,i;const n=e.reason.toLowerCase();return{reason:null!==(t=null===(r=w.find((([e])=>n.includes(e))))||void 0===r?void 0:r[1])&&void 0!==t?t:h.Unknown,time:null!==(i=e.receivedAt)&&void 0!==i?i:Date.now()}};class O{static fromExperiment(e){var t,r;const i=new O(e.name,e.value,e.ruleID,E(e.details),null===(t=e.__evaluation)||void 0===t?void 0:t.secondary_exposures,null!==(r=e.groupName)&&void 0!==r?r:void 0);return i.experiment=e,i}constructor(e,t,r,i,n=[],s="",o=null){this.value=t,this._name=e,this._ruleID=r,this._secondaryExposures=n,this._allocatedExperimentName=s,this._evaluationDetails=i,this._onDefaultValueFallback=o}get(e,t,r){var i;const n=this.getValue(e,t);if(null==n)return t;const s=Array.isArray(t)?"array":typeof t,o=Array.isArray(n)?"array":typeof n;var a;return r?r(n)?(this.fireExposure(e),n):(null===(a=this._onDefaultValueFallback)||void 0===a||a.call(this,this,e,s,o),t):null==t||s===o?(this.fireExposure(e),n):(null===(i=this._onDefaultValueFallback)||void 0===i||i.call(this,this,e,s,o),t)}getValue(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e]?t:(this.fireExposure(e),this.value[e]))}fireExposure(e){this.experiment&&this.experiment.get(e)}}class S{static fromLayer(e){var t,r,i,n;return new S(e.name,e.__value,e.ruleID,E(e.details),((t,r)=>e.get(r)),null===(t=e.__evaluation)||void 0===t?void 0:t.secondary_exposures,null===(r=e.__evaluation)||void 0===r?void 0:r.undelegated_secondary_exposures,null===(i=e.__evaluation)||void 0===i?void 0:i.allocated_experiment_name,null===(n=e.__evaluation)||void 0===n?void 0:n.explicit_parameters)}constructor(e,t,r,i,n=null,s=[],o=[],a="",l=[]){this._logParameterFunction=n,this._name=e,this._value=JSON.parse(JSON.stringify(null!=t?t:{})),this._ruleID=null!=r?r:"",this._evaluationDetails=i,this._secondaryExposures=s,this._undelegatedSecondaryExposures=o,this._allocatedExperimentName=a,this._explicitParameters=l}get(e,t,r){const i=this._value[e];if(null==i)return t;const n=()=>(this._logLayerParameterExposure(e),i);return r?r(i)?n():t:null==t||typeof i==typeof t&&Array.isArray(t)===Array.isArray(i)?n():t}getValue(e,t){null==t&&(t=null);const r=this._value[e];return null!=r&&this._logLayerParameterExposure(e),null!=r?r:t}_logLayerParameterExposure(e){var t;null===(t=this._logParameterFunction)||void 0===t||t.call(this,this,e)}}const k="4.26.0";class D extends Error{constructor(e){super(e)}}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}class C{static async fetchClientSdk(e){const{targetApp:t}=e,r=`/api/v2/frontend/clientSdkKey/${t}`;try{return await this.fetchRequest(r,"GET",e)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve client sdk key")}}static async fetchExperimentValues(e,t,r){const i={identifiers:t,customAttributes:r,targetApp:e.targetApp};try{return await this.fetchRequest("/api/v2/frontend/experimentValues","POST",e,i)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve experiment values")}}static async handleResponseError(e){if(!e.ok){const t=await e.text();throw new D(`Non 2xx response status received, status: ${e.status}, body: ${JSON.stringify(t)}`)}if(204===e.status)throw new D("Unexpected 204 response")}static async extractResponseBody(e){const t=await e.text();return JSON.parse(t)}static getBaseUrl(e,t=!1,r){if(t)return"/gateway/api/flags";if(r===g.FEDRAMP_MODERATE)switch(e){case f.Production:return"https://api.atlassian-us-gov-mod.com/flags";case f.Staging:return"https://api.stg.atlassian-us-gov-mod.com/flags";default:throw new Error(`Invalid environment "${e}" for "${r}" perimeter`)}else{if(r!==g.COMMERCIAL)throw new Error(`Invalid perimeter "${r}"`);switch(e){case f.Development:return"https://api.dev.atlassian.com/flags";case f.Staging:return"https://api.stg.atlassian.com/flags";default:return"https://api.atlassian.com/flags"}}}static async fetchRequest(e,t,r,n){const s=C.getBaseUrl(r.environment,r.useGatewayURL,r.perimeter),o=r.fetchTimeoutMs||5e3;let a;if(AbortSignal.timeout)a=AbortSignal.timeout(o);else if(AbortController){const e=new AbortController;a=e.signal,setTimeout((()=>e.abort()),o)}const l=await fetch(`${s}${e}`,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({method:t,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":k,"X-API-KEY":r.apiKey},signal:a},n&&{body:JSON.stringify(n)}));return await this.handleResponseError(l),await this.extractResponseBody(l)}}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class A extends s.DataAdapterCore{constructor(){super("NoFetchDataAdapter","nofetch"),(0,i.default)(this,"bootstrapResult",null)}setBootstrapData(e){this.bootstrapResult=e?{source:"Bootstrap",data:JSON.stringify(e),receivedAt:Date.now(),stableID:s.StableID.get(this._getSdkKey()),fullUserHash:null}:null}async prefetchData(e,t){}async getDataAsync(e,t,r){return this.bootstrapResult&&I(I({},this.bootstrapResult),{},{fullUserHash:(0,s._getFullUserHash)(t)})}getDataSync(e){return this.bootstrapResult&&I(I({},this.bootstrapResult),{},{fullUserHash:(0,s._getFullUserHash)(e)})}async _fetchFromNetwork(e,t,r){return null}_getCacheKey(e){const t=(0,s._getStorageKey)(this._getSdkKey(),e);return`${s.DataAdapterCachePrefix}.${this._cacheSuffix}.${t}`}_isCachedResultValidFor204(e,t){return!1}setDataLegacy(e,t){super.setData(e,t)}toJSON(){const e=I({},this);return delete e._options,delete e._inMemoryCache,delete e.bootstrapResult,e}}var j=r(30382);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const T="LocalOverride:Recognized",R="STATSIG_OVERRIDES";class F{constructor(e){this._overrides={gates:{},configs:{},layers:{}},this._localStorageKey=e}parseStoredOverrides(e){try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):{gates:{},configs:{},layers:{}}}catch(e){return{gates:{},configs:{},layers:{}}}}mergeOverrides(...e){const t={gates:{},configs:{},layers:{}};for(const s of e){for(const[e,i]of Object.entries(null!==(r=s.gates)&&void 0!==r?r:{})){var r;t.gates[e]=i}for(const[e,r]of Object.entries(null!==(i=s.configs)&&void 0!==i?i:{})){var i;t.configs[e]=r}for(const[e,r]of Object.entries(null!==(n=s.layers)&&void 0!==n?n:{})){var n;t.layers[e]=r}}return t}initFromStoredOverrides(){this.setOverrides(this.mergeOverrides(this._overrides,this.parseStoredOverrides("STATSIG_JS_LITE_LOCAL_OVERRIDES"),this.parseStoredOverrides(this._localStorageKey)))}saveOverrides(){try{window.localStorage.setItem(this._localStorageKey,JSON.stringify(this._overrides))}catch(e){}}getOverrides(){return Object.fromEntries(Object.entries(this._overrides).map((([e,t])=>{const r={};for(const[e,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(t,(0,j._DJB2)(e))&&(r[e]=i);return[e,r]})))}setOverrides(e){const t=L(L({},{gates:{},configs:{},layers:{}}),e);for(const e of Object.values(t))for(const[t,r]of Object.entries(e)){const i=(0,j._DJB2)(t);Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r)}this._overrides=t,this.saveOverrides()}overrideGate(e,t){this._overrides.gates[e]=t,this._overrides.gates[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeGateOverride(e){delete this._overrides.gates[e],delete this._overrides.gates[(0,j._DJB2)(e)],this.saveOverrides()}getGateOverride(e,t){var r;const i=null!==(r=this._overrides.gates[e.name])&&void 0!==r?r:this._overrides.gates[(0,j._DJB2)(e.name)];return null==i?null:L(L({},e),{},{value:i,details:L(L({},e.details),{},{reason:T})})}overrideDynamicConfig(e,t){this._overrides.configs[e]=t,this._overrides.configs[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeDynamicConfigOverride(e){delete this._overrides.configs[e],delete this._overrides.configs[(0,j._DJB2)(e)],this.saveOverrides()}getDynamicConfigOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideExperiment(e,t){this._overrides.configs[e]=t,this._overrides.configs[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeExperimentOverride(e){delete this._overrides.configs[e],delete this._overrides.configs[(0,j._DJB2)(e)],this.saveOverrides()}getExperimentOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideLayer(e,t){this._overrides.layers[e]=t,this._overrides.layers[(0,j._DJB2)(e)]=t,this.saveOverrides()}removeLayerOverride(e){delete this._overrides.layers[e],delete this._overrides.layers[(0,j._DJB2)(e)],this.saveOverrides()}removeAllOverrides(){this._overrides={gates:{},configs:{},layers:{}},window.localStorage.removeItem(R)}getLayerOverride(e,t){var r;const i=null!==(r=this._overrides.layers[e.name])&&void 0!==r?r:this._overrides.layers[(0,j._DJB2)(e.name)];return null==i?null:L(L({},e),{},{__value:i,get:(0,j._makeTypedGet)(e.name,i),details:L(L({},e.details),{},{reason:T})})}_getConfigOverride(e,t){var r;const i=null!==(r=t[e.name])&&void 0!==r?r:t[(0,j._DJB2)(e.name)];return null==i?null:L(L({},e),{},{value:i,get:(0,j._makeTypedGet)(e.name,i),details:L(L({},e.details),{},{reason:T})})}}const M=["sdkKey","environment","updateUserCompletionCallback","perimeter"];function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const V="client-default-key";var G;class z{static isGateExists(e){return this.client.isGateExist(e)}static isExperimentExists(e){return this.client.isExperimentExist(e)}}G=z,(0,i.default)(z,"client",new class{constructor({localStorageKey:e=R}={}){(0,i.default)(this,"initPromise",null),(0,i.default)(this,"initCompleted",!1),(0,i.default)(this,"initWithDefaults",!1),(0,i.default)(this,"hasCheckGateErrorOccurred",!1),(0,i.default)(this,"hasGetExperimentErrorOccurred",!1),(0,i.default)(this,"hasGetExperimentValueErrorOccurred",!1),(0,i.default)(this,"hasGetLayerErrorOccurred",!1),(0,i.default)(this,"hasGetLayerValueErrorOccurred",!1),(0,i.default)(this,"subscriptions",new c),(0,i.default)(this,"dataAdapter",new A),(0,i.default)(this,"statsigValuesUpdated",(()=>{this.user&&this.statsigClient.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}),this.subscriptions.anyUpdated()})),this.overrideAdapter=new F(e)}async initialize(e,t,r){const i=y(e);if(this.initPromise)return m(i,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;const n=performance.now();return this.initOptions=i,this.initPromise=this.init(i,t,r).then((()=>{this.initCompleted=!0,this.initWithDefaults=!0})).finally((()=>{const e=performance.now()-n;this.fireClientEvent(n,e,"initialize",this.initCompleted,i.apiKey)})),this.initPromise}async initializeWithProvider(e,t,r,i){const n=y(e);if(this.initPromise)return m(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;const s=performance.now();return this.initOptions=n,this.provider=t,this.provider.setClientVersion(k),this.provider.setApplyUpdateCallback&&this.provider.setApplyUpdateCallback(this.applyUpdateCallback.bind(this)),this.initPromise=this.initWithProvider(n,t,r,i).then((()=>{this.initCompleted=!0,this.initWithDefaults=!0})).finally((()=>{const e=performance.now()-s;this.fireClientEvent(s,e,"initializeWithProvider",this.initCompleted,t.getApiKey?t.getApiKey():void 0)})),this.initPromise}applyUpdateCallback(e){try{(this.initCompleted||this.initWithDefaults)&&(this.assertInitialized(this.statsigClient),this.dataAdapter.setBootstrapData(e.experimentValues),this.dataAdapter.setData(JSON.stringify(e.experimentValues)),this.statsigValuesUpdated())}catch(e){console.warn("Error when attempting to apply update",e)}}fireClientEvent(e,t,r,i,n=void 0){var s;null===(s=this.initOptions.analyticsWebClient)||void 0===s||s.then((s=>{const o=K({targetApp:this.initOptions.targetApp,clientVersion:k,success:i,startTime:e,totalTime:t},n&&{apiKey:n});s.sendOperationalEvent({action:r,actionSubject:"featureGatesClient",attributes:o,tags:["measurement"],source:"@atlaskit/feature-gate-js-client"})})).catch((e=>{this.initOptions.environment!==f.Production&&console.error("Analytics web client promise did not resolve",e)}))}async initializeFromValues(e,t,r,i={}){const n=y(e);if(this.initPromise)return m(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;Object.prototype.hasOwnProperty.call(i,"has_updates")||(i.has_updates=!0);const s=performance.now();return this.initOptions=n,this.initPromise=this.initFromValues(n,t,r,i).then((()=>{this.initCompleted=!0,this.initWithDefaults=!0})).finally((()=>{const e=performance.now()-s;this.fireClientEvent(s,e,"initializeFromValues",this.initCompleted)})),this.initPromise}assertInitialized(e){if(!e)throw new Error("Client must be initialized before using this method")}async updateUser(e,t,r){this.assertInitialized(this.statsigClient);const i=y(e);await this.updateUserUsingInitializeValuesProducer((()=>C.fetchExperimentValues(i,t,r).then((({experimentValues:e,customAttributes:t})=>({experimentValues:e,customAttributesFromFetch:t})))),t,r)}async updateUserWithProvider(e,t){if(this.assertInitialized(this.statsigClient),!this.provider)throw new Error("Cannot update user using provider as the client was not initialised with a provider");await this.provider.setProfile(this.initOptions,e,t),await this.updateUserUsingInitializeValuesProducer((()=>this.provider.getExperimentValues()),e,t)}async updateUserWithValues(e,t,r={}){this.assertInitialized(this.statsigClient);await this.updateUserUsingInitializeValuesProducer((()=>Promise.resolve({experimentValues:r,customAttributesFromFetch:t})),e,t)}initializeCalled(){return null!=this.initPromise}initializeCompleted(){return this.initCompleted}checkGate(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireGateExposure:r=!0}=t;return this.statsigClient.checkGate(e,{disableExposureLog:!r})}catch(t){return this.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate. Only the first occurrence of this error is logged.",gateName:e,error:t}),this.hasCheckGateErrorOccurred=!0),!1}}isGateExist(e){try{this.assertInitialized(this.statsigClient);return!this.statsigClient.getFeatureGate(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error(`Error occurred when trying to check FeatureGate: ${e}`),!0}}isExperimentExist(e){try{this.assertInitialized(this.statsigClient);return!this.statsigClient.getExperiment(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error(`Error occurred when trying to check Experiment: ${e}`),!0}}manuallyLogGateExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.checkGate(e)}getExperiment(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireExperimentExposure:r=!0}=t;return O.fromExperiment(this.statsigClient.getExperiment(e,{disableExposureLog:!r}))}catch(t){return this.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:t}),this.hasGetExperimentErrorOccurred=!0),new O(e,{},"",{time:Date.now(),reason:h.Error})}}getExperimentValue(e,t,r,i={}){const n=this.getExperiment(e,i);try{const{typeGuard:e}=i;return n.get(t,r,e)}catch(t){return this.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),this.hasGetExperimentValueErrorOccurred=!0),r}}manuallyLogExperimentExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.getExperiment(e)}manuallyLogLayerExposure(e,t){var r;this.assertInitialized(this.statsigClient),null===(r=this.statsigClient.getLayer(e))||void 0===r||r.get(t)}shutdownStatsig(){this.assertInitialized(this.statsigClient),this.statsigClient.shutdown()}overrideGate(e,t){var r;(this.overrideAdapter.overrideGate(e,t),this.user)&&(null===(r=this.statsigClient)||void 0===r||r.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}));this.statsigValuesUpdated()}clearGateOverride(e){this.overrideAdapter.removeGateOverride(e),this.statsigValuesUpdated()}overrideConfig(e,t){this.overrideAdapter.overrideDynamicConfig(e,t),this.statsigValuesUpdated()}clearConfigOverride(e){this.overrideAdapter.removeDynamicConfigOverride(e),this.statsigValuesUpdated()}setOverrides(e){this.overrideAdapter.setOverrides(e),this.statsigValuesUpdated()}getOverrides(){return this.overrideAdapter.getOverrides()}clearAllOverrides(){this.overrideAdapter.removeAllOverrides(),this.statsigValuesUpdated()}isCurrentUser(e,t){return m(this.currentIdentifiers,e)&&m(this.currentAttributes,t)}onGateUpdated(e,t,r={}){return this.subscriptions.onGateUpdated(e,(i=>{const{fireGateExposure:n=!0}=r;n&&this.manuallyLogGateExposure(e);try{t(i)}catch(t){console.warn(`Error calling callback for gate ${e} with value ${i}`,t)}}),this.checkGate.bind(this),r)}onExperimentValueUpdated(e,t,r,i,n={}){return this.subscriptions.onExperimentValueUpdated(e,t,r,(t=>{const{fireExperimentExposure:r=!0}=n;r&&this.manuallyLogExperimentExposure(e);try{i(t)}catch(r){console.warn(`Error calling callback for experiment ${e} with value ${t}`,r)}}),this.getExperimentValue.bind(this),n)}onAnyUpdated(e){return this.subscriptions.onAnyUpdated(e)}async init(e,t,r){const i=K({},e);let n,s;try{const o=C.fetchClientSdk(e).then((e=>i.sdkKey=e.clientSdkKey)),a=C.fetchExperimentValues(e,t,r),[,l]=await Promise.all([o,a]);n=l.experimentValues,s=l.customAttributes}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client without values"),await this.initFromValues(i,t,r),e}return this.initFromValues(i,t,s,n)}async initWithProvider(e,t,r,i){const n=K(K({},e),{},{disableCurrentPageLogging:!0});let s,o;try{await t.setProfile(e,r,i);const a=t.getClientSdkKey().then((e=>n.sdkKey=e)),l=t.getExperimentValues(),[,u]=await Promise.all([a,l]);s=u.experimentValues,o=u.customAttributesFromFetch}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client without values"),await this.initFromValues(n,r,i),e}return this.initFromValues(n,r,o,s)}async initFromValues(e,t,r,i={}){var o;this.overrideAdapter.initFromStoredOverrides(),this.currentIdentifiers=t,this.currentAttributes=r;const a=(e=>{const{api:t,disableCurrentPageLogging:r,loggingIntervalMillis:i,loggingBufferMaxSize:s,localMode:o,eventLoggingApi:a,eventLoggingApiForRetries:l,disableLocalStorage:u,ignoreWindowUndefined:c,disableAllLogging:d,initTimeoutMs:h,disableNetworkKeepalive:f,overrideStableID:g,disableErrorLogging:p,disableAutoMetricsLogging:y}=e;return v(v({},(0,n.default)(e,_)),{},{networkConfig:{api:t,logEventUrl:a?a+"rgstr":void 0,logEventFallbackUrls:l?[l]:void 0,preventAllNetworkTraffic:o||!c&&"undefined"==typeof window},includeCurrentPageUrlWithEvents:!r,loggingIntervalMs:i,loggingBufferMaxSize:s,disableStorage:u,disableLogging:d})})(e);a.sdkKey||(a.sdkKey=V),null!==(o=a.networkConfig)&&void 0!==o&&o.logEventUrl||(a.networkConfig=K(K({},a.networkConfig),{},{logEventUrl:"https://xp.atlassian.com/v1/rgstr"})),a.perimeter===g.FEDRAMP_MODERATE&&(a.disableLogging=!0);const{sdkKey:l,environment:u,updateUserCompletionCallback:c,perimeter:d}=a,h=(0,n.default)(a,M);this.sdkKey=l,this.user=b(t,r,this.sdkKey);const f=K(K({},h),{},{environment:{tier:u},includeCurrentPageUrlWithEvents:!1,dataAdapter:this.dataAdapter,overrideAdapter:this.overrideAdapter});try{this.statsigClient=new s.StatsigClient(l,this.user,f),this.dataAdapter.setBootstrapData(i),await this.statsigClient.initializeAsync()}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to initialise the Statsig client, error: ${null==e?void 0:e.message}`),console.warn("Initialising Statsig client with default sdk key and without values"),this.statsigClient=new s.StatsigClient(V,this.user,f),this.dataAdapter.setBootstrapData(),await this.statsigClient.initializeAsync(),this.initWithDefaults=!0,e}}async updateUserUsingInitializeValuesProducer(e,t,r){if(this.assertInitialized(this.statsigClient),!this.initPromise)throw new Error("The client must be initialized before you can update the user.");if(this.isCurrentUser(t,r))return this.initPromise;const i=this.initPromise;try{await this.initPromise}catch(e){}const n=e(),s=this.updateStatsigClientUser(n,t,r);return this.initPromise=s.catch((async()=>{this.initPromise=i,this.provider&&await this.provider.setProfile(this.initOptions,this.currentIdentifiers,this.currentAttributes)})),s}async updateStatsigClientUser(e,t,r){var i,n;let s,o;this.assertInitialized(this.statsigClient);try{s=await e,o=b(t,s.customAttributesFromFetch,this.sdkKey)}catch(e){var a,l;const t=e instanceof Error?e.message:JSON.stringify(e);throw null===(a=(l=this.initOptions).updateUserCompletionCallback)||void 0===a||a.call(l,!1,t),e}let u=!0,c=null;try{this.dataAdapter.setBootstrapData(s.experimentValues),this.user=o,await this.statsigClient.updateUserAsync(this.user)}catch(e){u=!1,c=String(e)}if(null===(i=this.initOptions)||void 0===i||null===(n=i.updateUserCompletionCallback)||void 0===n||n.call(i,u,c),!u)throw new Error("Failed to update user. An unexpected error occured.");this.currentIdentifiers=t,this.currentAttributes=r,this.subscriptions.anyUpdated()}getPackageVersion(){return k}getLayer(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireLayerExposure:r=!0}=t;return S.fromLayer(this.statsigClient.getLayer(e,{disableExposureLog:!r}))}catch(t){return this.hasGetLayerErrorOccurred||(console.warn({msg:"An error has occurred getting the layer. Only the first occurrence of this error is logged.",layerName:e,error:t}),this.hasGetLayerErrorOccurred=!0),S.fromLayer((0,s._makeLayer)(e,{reason:"Error"},null))}}getLayerValue(e,t,r,i={}){const n=this.getLayer(e,i);try{const{typeGuard:e}=i;return n.get(t,r,e)}catch(t){return this.hasGetLayerValueErrorOccurred||(console.warn({msg:"An error has occurred getting the layer value. Only the first occurrence of this error is logged.",layerName:e,defaultValue:r,options:i,error:t}),this.hasGetLayerValueErrorOccurred=!0),r}}}),(0,i.default)(z,"hasCheckGateErrorOccurred",!1),(0,i.default)(z,"hasGetExperimentValueErrorOccurred",!1),(0,i.default)(z,"checkGate",((e,t)=>{try{if(window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getFeatureFlagOverride){const t=window.__CRITERION__.getFeatureFlagOverride(e);if(void 0!==t)return t}}catch(t){G.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate from criterion override. Only the first occurrence of this error is logged.",gateName:e,error:t}),G.hasCheckGateErrorOccurred=!0)}return G.client.checkGate(e,t)})),(0,i.default)(z,"getExperimentValue",((e,t,r,i)=>{try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getExperimentValueOverride){const r=window.__CRITERION__.getExperimentValueOverride(e,t);if(null!=r)return r}}catch(t){return G.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value from criterion override. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),G.hasGetExperimentValueErrorOccurred=!0),r}return G.client.getExperimentValue(e,t,r,i)})),(0,i.default)(z,"initializeCalled",G.client.initializeCalled.bind(G.client)),(0,i.default)(z,"initializeCompleted",G.client.initializeCompleted.bind(G.client)),(0,i.default)(z,"initialize",G.client.initialize.bind(G.client)),(0,i.default)(z,"initializeWithProvider",G.client.initializeWithProvider.bind(G.client)),(0,i.default)(z,"initializeFromValues",G.client.initializeFromValues.bind(G.client)),(0,i.default)(z,"manuallyLogGateExposure",G.client.manuallyLogGateExposure.bind(G.client)),(0,i.default)(z,"getExperiment",G.client.getExperiment.bind(G.client)),(0,i.default)(z,"manuallyLogExperimentExposure",G.client.manuallyLogExperimentExposure.bind(G.client)),(0,i.default)(z,"manuallyLogLayerExposure",G.client.manuallyLogLayerExposure.bind(G.client)),(0,i.default)(z,"shutdownStatsig",G.client.shutdownStatsig.bind(G.client)),(0,i.default)(z,"overrideGate",G.client.overrideGate.bind(G.client)),(0,i.default)(z,"clearGateOverride",G.client.clearGateOverride.bind(G.client)),(0,i.default)(z,"overrideConfig",G.client.overrideConfig.bind(G.client)),(0,i.default)(z,"clearConfigOverride",G.client.clearConfigOverride.bind(G.client)),(0,i.default)(z,"setOverrides",G.client.setOverrides.bind(G.client)),(0,i.default)(z,"getOverrides",G.client.getOverrides.bind(G.client)),(0,i.default)(z,"clearAllOverrides",G.client.clearAllOverrides.bind(G.client)),(0,i.default)(z,"isCurrentUser",G.client.isCurrentUser.bind(G.client)),(0,i.default)(z,"onGateUpdated",G.client.onGateUpdated.bind(G.client)),(0,i.default)(z,"onExperimentValueUpdated",G.client.onExperimentValueUpdated.bind(G.client)),(0,i.default)(z,"onAnyUpdated",G.client.onAnyUpdated.bind(G.client)),(0,i.default)(z,"updateUser",G.client.updateUser.bind(G.client)),(0,i.default)(z,"updateUserWithProvider",G.client.updateUserWithProvider.bind(G.client)),(0,i.default)(z,"updateUserWithValues",G.client.updateUserWithValues.bind(G.client)),(0,i.default)(z,"getPackageVersion",G.client.getPackageVersion.bind(G.client)),(0,i.default)(z,"getLayer",G.client.getLayer.bind(G.client)),(0,i.default)(z,"getLayerValue",G.client.getLayerValue.bind(G.client));let B=z;if("undefined"!=typeof window)if(void 0===window.__FEATUREGATES_JS__)window.__FEATUREGATES_JS__=z;else{var $,J;B=window.__FEATUREGATES_JS__;const e=(null===($=B)||void 0===$||null===(J=$.getPackageVersion)||void 0===J?void 0:J.call($))||"4.10.0 or earlier";if(e!==k){const t=`Multiple versions of FeatureGateClients found on the current page.\n      The currently bound version is ${e} when module version ${k} was loading.`;console.warn(t)}}var W,q,H=B,X=!(void 0!==(null===globalThis||void 0===globalThis||null===(W=globalThis.process)||void 0===W||null===(W=W.env)||void 0===W?void 0:W.JEST_WORKER_ID))&&"production"!==(null===globalThis||void 0===globalThis||null===(q=globalThis.process)||void 0===q||null===(q=q.env)||void 0===q?void 0:q.NODE_ENV),Q=function(){var e;X&&(e=console).debug.apply(e,arguments)},Y="@atlaskit/platform-feature-flags",Z="__PLATFORM_FEATURE_FLAGS__",ee="undefined"!=typeof process&&void 0!==process.env,te=!!ee&&"true"===process.env.ENABLE_PLATFORM_FF,re=!!ee&&"true"===process.env.STORYBOOK_ENABLE_PLATFORM_FF,ie=te||re,ne={booleanResolver:void 0},se="undefined"!=typeof window?window:globalThis;function oe(e){if(ie)return Q('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',Y,e),!0;try{var t,r,i;if(void 0===(null===(t=se[Z])||void 0===t?void 0:t.booleanResolver)||null===(null===(r=se[Z])||void 0===r?void 0:r.booleanResolver))return H.checkGate(e);var n=null===(i=se[Z])||void 0===i?void 0:i.booleanResolver(e);return"boolean"!=typeof n?(console.warn("".concat(e," resolved to a non-boolean value, returning false for safety")),!1):n}catch(e){return!1}}function ae(e){var t;t=e,se[Z].booleanResolver=t}function le(e){return oe(e)}function ue(e){return oe(e)}se[Z]=se[Z]||ne},92452:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.12.1";let r={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>r,add:e=>{r=Object.assign(Object.assign({},r),e)}}},93528:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTag=void 0,t.ErrorTag={NetworkError:"NetworkError"}},93725:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKFlags=void 0;const r={};t.SDKFlags={setFlags:(e,t)=>{r[e]=t},get:(e,t)=>{var i,n;return null!==(n=null===(i=r[e])||void 0===i?void 0:i[t])&&void 0!==n&&n}}},95939:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClientBase=void 0,r(98657);const n=r(98657),s=r(41290),o=r(80638),a=r(22132),l=r(66375),u=r(36650),c=r(44899),d=r(6346);t.StatsigClientBase=class{constructor(e,t,r,i){var l;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const h=this.$emt.bind(this);null!=(null==i?void 0:i.logLevel)&&(a.Log.level=i.logLevel),(null==i?void 0:i.disableStorage)&&d.Storage._setDisabled(!0),(null==i?void 0:i.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(i.initialSessionID,e),(null==i?void 0:i.storageProvider)&&d.Storage._setProvider(i.storageProvider),this._sdkKey=e,this._options=null!=i?i:{},this._memoCache={},this.overrideAdapter=null!==(l=null==i?void 0:i.overrideAdapter)&&void 0!==l?l:null,this._logger=new o.EventLogger(e,h,r,i),this._errorBoundary=new s.ErrorBoundary(e,i,h),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),r.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,i),this.storageProvider=d.Storage,this._primeReadyRipcord(),function(e,t){var r;if((0,u._isServerEnv)())return;const i=(0,n._getStatsigGlobal)(),s=null!==(r=i.instances)&&void 0!==r?r:{},o=t;null!=s[e]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.");s[e]=o,i.firstInstance||(i.firstInstance=o);i.instances=s,__STATSIG__=i}(e,this)}updateRuntimeOptions(e){null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingDisabled(e.disableLogging)),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,d.Storage._setDisabled(e.disableStorage))}flush(){return this._logger.flush()}shutdown(){return i(this,void 0,void 0,(function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()}))}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){const r=this._listeners[e].indexOf(t);-1!==r&&this._listeners[e].splice(r,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;const r=t=>{try{t(e)}catch(r){if(!0===t.__isInternal)return void this._errorBoundary.logError(`__emit:${e.name}`,r);a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach((e=>r(e))),null===(t=this._listeners["*"])||void 0===t||t.forEach(r)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,r){!0!==(null==r?void 0:r.disableExposureLog)?this._logger.enqueue(t):this._logger.incrementNonExposureCount(e)}_memoize(e,t){return(r,i)=>{if(this._options.disableEvaluationMemoization)return t(r,i);const n=(0,l.createMemoKey)(e,r,i);return n?(n in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[n]=t(r,i)),this._memoCache[n]):t(r,i)}}}},96492:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(38085);function n(e,t){if(e){if("string"==typeof e)return(0,i.default)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,i.default)(e,t):void 0}}},96892:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(30382),s=r(70450);class o extends n.NetworkCore{constructor(e,t){super(e,t);const r=null==e?void 0:e.networkConfig;this._initializeUrlConfig=new n.UrlConfiguration(n.Endpoint._initialize,null==r?void 0:r.initializeUrl,null==r?void 0:r.api,null==r?void 0:r.initializeFallbackUrls)}fetchEvaluations(e,t,r,s,o){return i(this,void 0,void 0,(function*(){const i=t?(0,n._typedJsonParse)(t,"has_updates","InitializeResponse"):null;let a={user:s,hash:"djb2",deltasResponseRequested:!1,full_checksum:null};return(null==i?void 0:i.has_updates)&&(a=Object.assign(Object.assign({},a),{sinceTime:o?i.time:0,previousDerivedFields:"derived_fields"in i&&o?i.derived_fields:{},deltasResponseRequested:!0,full_checksum:i.full_checksum})),this._fetchEvaluations(e,i,a,r)}))}_fetchEvaluations(e,t,r,n){var o,a;return i(this,void 0,void 0,(function*(){const i=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:r,retries:2,isStatsigEncodable:!0,priority:n});if(204===(null==i?void 0:i.code))return'{"has_updates": false}';if(200!==(null==i?void 0:i.code))return null!==(o=null==i?void 0:i.body)&&void 0!==o?o:null;if(!0!==(null==t?void 0:t.has_updates)||!0!==(null===(a=i.body)||void 0===a?void 0:a.includes('"is_delta":true'))||!0!==r.deltasResponseRequested)return i.body;const l=(0,s._resolveDeltasResponse)(t,i.body);return"string"==typeof l?l:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},r),l),{deltasResponseRequested:!1}),n)}))}}t.default=o},98657:function(e,t,r){"use strict";var i,n,s;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;const o=r(22132);t._getStatsigGlobal=()=>__STATSIG__||d;t._getStatsigGlobalFlag=e=>(0,t._getStatsigGlobal)()[e];t._getInstance=e=>{const r=(0,t._getStatsigGlobal)();return e?r.instances&&r.instances[e]:(r.instances&&Object.keys(r.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),r.firstInstance)};const a="__STATSIG__",l="undefined"!=typeof window?window:{},u=void 0!==r.g?r.g:{},c="undefined"!=typeof globalThis?globalThis:{},d=null!==(s=null!==(n=null!==(i=l[a])&&void 0!==i?i:u[a])&&void 0!==n?n:c[a])&&void 0!==s?s:{instance:t._getInstance};l[a]=d,u[a]=d,c[a]=d}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:tf-editor-resources', location = 'build/tf-editor.js' */
!function(){"use strict";var e,t={48205:function(e,t,a){a(63348),a(24034),a(29902),a(84550),a(4267),a(63544),a(22901);var r=a(69663),o=a(23589),n=a(10611),i=a(9468),l=a(80590),s=a(62896),d=a(47446),c=a(23890),f=a(68631),u=a(92898);const b=()=>$(tinymce.activeEditor.selection.getNode());var p=a(14412);const h="mceTableInsertRowAfter",m="mceTableInsertRowBefore",v="mceTableDeleteRow",g="mceTablePasteRowBefore",y=["mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTablePasteColBefore",g,v,m,h];function w(e,t){const a=e.find(`[class*="tf-${t}-"]`),r=new RegExp(`tf-${t}-\\d+`);a.each((function(){const e=$(this),a=e.getClassStartsWith(r);e.removeClass(a),e.removeData(t)}))}const E={},S=[h,m,v],T=(e,t)=>{if(S.includes(e)){let a=b();const r=a.closest("td.tablefilter-table-wrapper table");if(r.length){if(r.find("td[rowspan]:not(.fake)").each(((e,a)=>{const r=$(a);t?r.attr("rowspan",r.data("rowspan")):r.data("rowspan",r.attr("rowspan")||"")})),t){const e=a.closest("td.fake");if(e.length){const t=e.siblings("td:not(.fake)");t.length&&tinymce.activeEditor.selection.setCursorLocation(t[0])}r.find(".fake[rowspan]").remove()}if(e===v)t&&(a.is("td,th")&&(a=a.parent()),a.children(".fake").remove(),a.children('[rowspan="-1"]').attr("rowspan","1"));else if(t){const e=a.closest("tr").children(),t=e.filter(".synchrony-exclude");E.count=t.length,E.total=e.length,E.data=t.map(((e,t)=>({index:t.cellIndex,classes:t.getAttribute("class")}))).toArray()}else if(E.count){const e=a.closest("tr").children();e.length>E.total-E.count&&E.data.forEach((t=>e.eq(t.index).attr("class",t.classes)))}}}},C=e=>{const t=b().closest("table");if(!t.hasClass("tf-macro"))return null;const a=t.closest('.wysiwyg-macro[data-macro-name="table-filter"]'),r=a[0]?.id;return e[r]},O=[h,m,g];var A=a(37460),k=a(9858),F="isTFLicensed",R=["pivot-table","table-joiner","table-filter"].map((e=>'[data-macro-name="'.concat(e,'"]'))).join(),P={contents:null,tfs:{},panels:[],init:function(){var e=()=>{this.initFilters().bindEvents(),AJS.Rte.Content.editorResetContentChanged()};(0,k.getCookie)(F)?e():(0,s.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"GET",cache:!1,url:"/rest/table-filter/1.0/service/license",dataType:"json",success:function(t){t&&((0,k.setCookie)(F,!0,!1,2592e3),e())}})},initFilters:function(){return this.contents=$("#wysiwygTextarea_ifr").contents(),this.toolbar=$("#rte-toolbar"),this.contents.find('[data-macro-name="table-filter"]').each(((e,t)=>{this.createFilter($(t))})),this},bindEvents:function(){var e=this;new MutationObserver((function(t){t.forEach((function(t){Array.prototype.forEach.call(t.addedNodes,(function(t){var a,r,o;"table-filter"===(null===(r=(a=t).attributes)||void 0===r||null===(r=r["data-macro-name"])||void 0===r?void 0:r.value)&&e.createFilter($(a)),null===(o=a.querySelectorAll)||void 0===o||null===(o=o.call(a,'[data-macro-name="table-filter"]'))||void 0===o||o.forEach((function(t){e.createFilter($(t))}))}))}))})).observe(e.contents[0],{childList:!0,subtree:!0}),AJS.bind("created.property-panel",(function(t,a){if("macro"===a.type){var r=$(a.anchor);if("table-filter"===r.attr("data-macro-name")){var o=r.attr("id"),n=e.tfs[o];if(n&&n.tables.length)e.toolbar.find(".tablefilter-outer-wrapper").data("id")==o?a.panel.find(".macro-property-panel-show-tf").addClass("hide-tf").addClass("visible").find(".panel-button-text").text("Hide filter"):a.panel.find(".macro-property-panel-show-tf").removeClass("hide-tf").addClass("visible").find(".panel-button-text").text("Show filter");else a.panel.find(".macro-property-panel-show-tf").hide()}}})),$(document).bind("enableContextToolbarRow.Toolbar",(function(){$(P.toolbar.find(".tablefilter-outer-wrapper")).appendTo(P.toolbar)})),e.bindSave(),tinymce.activeEditor.on("Undo",(function(){e.updateFilters()})),tinymce.activeEditor.on("Redo",(function(){e.updateFilters()}));var t,a,o=function(e,t){var a=$("<div/>").append(t.content),o=a.find('table[data-macro-name="table-filter"], table[data-macro-name="pivot-table"], table[data-macro-name="table-chart"], table[data-macro-name="table-joiner"]').each((function(e){var t=$(this),a=(0,d.default)(this);a.id=(new Date).getTime()+e+"_"+(0,l.hashCode)(this.outerHTML),t.attr("id",a.id),t.attr("data-macro-parameters",Confluence.MacroParameterSerializer.serialize(a))}));if(r.default.prototype.tableWrapper=a.find(".tablefilter-table-wrapper"),r.default.prototype.tables=r.default.prototype.tableWrapper.find("table"),r.default.prototype.editorMacro=!0,r.default.prototype.makeTablesScrollable(),0===o.length){var n=a.find("table.tf-copy-table");n.length&&(n.removeClass("tf-copy-table"),n.find("tr").filter((function(){return!(0,A.isRowVisible)(this)})).remove(),n.find(".fake").removeClass("fake").filter((function(){return"none"===this.style.display})).remove(),n.find(".tf-hidden-column, .tf-header-hidden").remove(),n.find('[class*="tf-rowspan-"]').each((function(){var e=$(this);e.removeClass(e.getClassStartsWith(/tf-rowspan-\d+/))})),n.find('[class*="tf-colspan-"]').each((function(){var e=$(this);e.removeClass(e.getClassStartsWith(/tf-colspan-\d+/))})),b().closest('table[data-macro-name="table-filter"]').length&&n.find(".tf-numbering, .tf-sparkline-header, .tf-sparkline-container, .total-row, .total-col, .tf-header-hidden").remove())}t.content=a.html()},n=function(){clearTimeout(t),t=setTimeout((function(){$.each(e.tfs,(function(t,a){if(0===a.tableWrapper.closest("body").length){var r=e.contents.find('[id="'+t+'"]');r.length&&(r.attr("id",""),e.panels[t]&&(e.panels[t].remove(),e.panels[t]=null),e.createFilter(r))}}))}),100)},i=tinymce.activeEditor.plugins.confluencepaste||tinymce.activeEditor.plugins.aePaste;i.onPreProcess?(i.onPreProcess.listeners.push({cb:o}),i.onPostProcess.listeners.push({cb:n})):(tinymce.activeEditor.on("PastePreProcess",(function(e){o(tinymce.activeEditor,e)})),tinymce.activeEditor.on("PastePostProcess",n)),tinymce.activeEditor.on("BeforeExecCommand",(function(t){var{command:a}=t;T(a,!0),((e,t)=>{if(y.includes(e)){const e=C(t);e?.tables.data(p.TABLE_DATA_PROCESSED_MERGED)&&(e=>e.filtered||e.tdNumbers?.flatMap((e=>e)).length)(e)&&e.showTableWithoutFilters()}})(a,e.tfs)})),tinymce.activeEditor.on("ExecCommand",(function(t){var{command:a}=t;T(a,!1),(e=>{if("mceTableMergeCells"===e){const e=b().closest("td,th");e.removeClass(e.getClassStartsWith(/tf-colspan-\d+/)),e.removeClass(e.getClassStartsWith(/tf-rowspan-\d+/)),e.removeData("colspan"),e.removeData("rowspan")}})(a),(e=>{if(y.includes(e)){const e=b().closest("tbody");w(e,"colspan"),w(e,"rowspan")}})(a),((e,t)=>{if(O.includes(e)){const e=C(t);if(e){const t=b().closest("tr");e.addToAllowRowList(t)}}})(a,e.tfs)})),$("#content-title").bind("focus click",(function(){e.toolbar.find(".tablefilter-outer-wrapper .disabled").removeClass("disabled").removeAttr("disabled"),e.toolbar.find(".tablefilter-outer-wrapper .lockEnabled").find(".filter-reset, .filter-settings").attr("disabled","disabled")})),e.contents.click((function(){e.toolbar.find(".tablefilter-outer-wrapper .lockEnabled").find(".filter-reset, .filter-settings").attr("disabled","disabled")})),e.toolbar.delegate(".tablefilter-outer-wrapper .aui-buttons.close","click",(function(){var e=P.toolbar.find(".tablefilter-outer-wrapper"),t=e.data("id");e.hide(),$("body").append(e),$("#inline-dialog-tf-add-filter-"+t).hide(),"false"==$("#filter-menu-view-"+t+"-"+AJS.params.pageId).attr("aria-hidden")&&$("#filter-settings-"+t).trigger("aui-button-invoke")})),AJS.bind("tf-unwrap",((t,a)=>{var r=e.tfs[a];r&&(e.destroyFilterWithObservers(a,r),delete e.tfs[a])})),AJS.bind("editor-shared-drafts-published",(()=>{clearTimeout(a),a=setTimeout((()=>Object.values(e.tfs).forEach((e=>this.reinit(e)))),100)}))},bindSave:function(){var e=this;setTimeout((()=>{var t,a;null===(t=Confluence.Editor)||void 0===t||null===(t=t.UI)||void 0===t||!t.isButtonEnabled||null!==(a=Confluence.Editor)&&void 0!==a&&null!==(a=a.UI)&&void 0!==a&&a.isButtonEnabled(Confluence.Editor.UI.saveButton)?(AJS.Editor.addSaveHandler((()=>this.destroyFilters())),AJS.bind("rte-changeMode",(function(t,a){a===Confluence.Editor.MODE_PREVIEW?e.destroyFilters():a===Confluence.Editor.MODE_RICHTEXT&&($(".tablefilter-outer-wrapper").remove(),e.initFilters())}))):this.bindSave()}),200)},createFilter:function(e){var t=P,a=(0,d.default)(e[0]);if(a.id)if(e.data("tf-init"))t.tfs[a.id]&&(t.tfs[a.id].tables.trigger("destroy"),t.makeTablesSortable(t.tfs[a.id]));else{var o=e.find(".confluenceTable").find(R);if(e.find(R).not(o).length>0)return;if(t.contents.find('[id="'+a.id+'"]').length>1)return;if(e.data("tf-init",!0),e.attr("id",a.id),e.find(".wysiwyg-macro-body:eq(0)").addClass("tablefilter-table-wrapper"),t.panels[a.id]){var i=t.tfs[a.id];return t.destroyFilterObservers(i),i.tableWrapper=e.find(".tablefilter-table-wrapper"),i.getTable(),i.normalizeTable(),i.addNumbering(),i.appendSparklines(),i.bindDOMChange(),i.makeTablesScrollable(),i.filterTable(),i.tables.trigger("destroy"),i.editorMacro=e,t.makeTablesSortable(i),i.sorts.length&&i.sortTables(),void t.bindSynchronyFiltration(e,i)}var{filterConfigs:l}=(0,c.default)(a),s=$(n.default.panel({macroId:a.id,pageId:AJS.params.pageId,showNRowsifNotFiltered:a.showNRowsifNotFiltered,hideLabels:(0,u.default)(a.hidelabels),disableSave:(0,u.default)(a.disableSave),hideControls:(0,u.default)(a.hideControls),hidePane:!1,fd:!1,editable:!0,isEditor:!0,sessionId:1,isMacroViewContext:!1}));s.addClass("toolbar-contextual"),s.find("div.sortable-container").append(n.default.renderFilters({filterConfigs:l})),s.append(n.default.editorCloseButton()),t.panels[a.id]=s,$("body").append(s);var b=$.extend(!0,{},a);b.macroParams=a,b.ddSeparator=(b.ddSeparator||"").replace(/\\u0020/g," "),b.ddOperator=b.ddOperator||"",b.showNRows=b.showNRows||"all",b.heightValue=b.heightValue||"",b.numbering=b.numbering||"",b.sorts=a.sort?$.map(a.sort.split(","),(function(e){return e.replace(//g,",")})):[],b.separator=b.separator?b.separator.replace(f.SEPARATORS.LONG.POINT,f.SEPARATORS.SHORT.POINT).replace(f.SEPARATORS.LONG.COMMA,f.SEPARATORS.SHORT.COMMA):f.SEPARATORS.SHORT.POINT,b.pageId=AJS.params.pageId,b.sparkline="true"===b.sparkline,b.sparkName=b.sparkName||"",b.isLockEnabled="true"!==b.enabledInEditor||e.attr("type"),b.thousandSeparator=(a.thousandSeparator||"").replace(f.SEPARATORS.SHORT.ESCAPED_SPACE,f.SEPARATORS.SHORT.SPACE),b.tabs=!1,b.editorMacro=e;var p=new r.default(b);t.tfs[a.id]=p,b.isLockEnabled&&p.showTable(!0),t.makeTablesSortable(p),s.hide();var h=P.toolbar.find(".tablefilter-outer-wrapper");h.length>0&&0===t.tfs[h.data("id")].tableWrapper.parents("body").length&&(h.remove(),s.show(),s.find(".enableLock").click(),P.toolbar.append(s)),t.bindSynchronyFiltration(e,p)}},bindSynchronyFiltration:function(e,t){var a=this;e.attr("type")?(t.isLockEnabled=!1,t.updateFilters(JSON.parse(e.attr("type")))):t.cbState.length&&t.showOrHideTables(),t.observerMacro||(t.observerMacro=new MutationObserver((function(r){r.forEach((function(r){"type"===r.attributeName?e.data("tf-self")?e.data("tf-self",!1):(t.isLockEnabled=!1,t.updateFilters(JSON.parse(e.attr("type")))):("id"===r.attributeName&&e.data("tf-init")&&r.oldValue&&e.attr("id")&&r.oldValue!==e.attr("id")||"class"===r.attributeName&&r.oldValue&&-1!==r.oldValue.indexOf("tablefilter-table-wrapper")&&r.target.className&&-1===r.target.className.indexOf("tablefilter-table-wrapper")||"data-macro-parameters"===r.attributeName&&!e.attr("type"))&&a.reinit(t)}))})),t.observerMacro.observe(e[0],{attributes:!0,attributeOldValue:!0,attributeFilter:["type","id","class","data-macro-parameters"]}),t.observerMacro.observe(t.tableWrapper[0],{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}))},makeTablesSortable:function(e){e.sorting=!0,e.setMutationObserver(!0),e.tables.tablesorterEditor({cancelSelection:!1,dateFormat:e.dateFormat,locale:e.localeDateFormat,textExtraction:function(e){return o.default.getEditorCellText(e)}}),e.sorting=!1,e.setMutationObserver(!0)},reinit:function(e){this.destroyFilterWithObservers(e.macroId,e),delete this.panels[e.macroId],delete this.tfs[e.macroId],e.editorMacro.data("tf-init",""),this.createFilter(e.editorMacro)},destroyFilters:function(){Object.entries(this.tfs).forEach((e=>{var[t,a]=e;return this.destroyFilterWithObservers(t,a)})),this.tfs={}},destroyFilterWithObservers:function(e,t){this.destroyFilterObservers(t),this.destroyFilter(t).cleanMacro(this.getMacroElementFromContents(e)).removePanel(e)},destroyFilterObservers:function(e){var t,a,r;null===(t=e.observer)||void 0===t||t.disconnect(),null===(a=e.observerMacro)||void 0===a||a.disconnect(),null===(r=e.observersTd)||void 0===r||r.forEach((e=>e.disconnect())),delete e.observer,delete e.observerMacro,delete e.observersTd},getMacroElementFromContents:function(e){return this.contents.find('[id="'+e+'"]')},cleanMacro:function(e){return e.data("tf-init",!1).attr("id",""),this},removePanel:function(e){return this.panels[e]&&(this.panels[e].remove(),this.panels[e]=null),this},destroyFilter:function(e){return e.numbering="",e.fixedRows=0,e.fixedCols=0,e.editorSave=!0,e.showTableWithoutFilters(),e.addNumbering(),e.makeTablesScrollable(),e.tables.data(p.TABLE_DATA_MERGED,!1),e.tables.removeAttr(p.TABLE_ATTRIBUTE_READY),e.tables.find(".fake").remove(),e.tables.trigger("destroy"),e.tables.find(".tablesorter-header").removeClass("tablesorter-header"),e.tables.find(p.PIVOT_HEADER_CLASS).removeClass(p.PIVOT_HEADER),e.tables.find('[data-mce-style="display: none;"]').removeAttr("data-mce-style"),e.tables.find(".tf-sparkline-header, .tf-sparkline-container, .total-row, .total-col, .tf-header-hidden").remove(),e.tables.each((function(){$(this).data("fixed-header",!1)})),i.default.remove(e.tableWrapper),this},updateFilters:function(){Object.entries(this.tfs).forEach((e=>{var[t,a]=e;if(a.editorMacro.parent().length)a.tables.trigger("destroy"),this.makeTablesSortable(a),a.bindDOMChange();else{var r=this.getMacroElementFromContents(t);this.cleanMacro(r).removePanel(t).createFilter(r)}}))}},M=P;try{AJS.bind("init.rte",(function(){M.init(),AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("show-tf",(function(e,t){var a=$(t),r=M.toolbar.find(".tablefilter-outer-wrapper"),o=r.data("id");if(r.hide(),$("body").append(r),$("#inline-dialog-tf-add-filter-"+o).hide(),"false"==$("#filter-menu-view-"+o+"-"+AJS.params.pageId).attr("aria-hidden")&&$("#filter-settings-"+o).trigger("aui-button-invoke"),!$(".macro-property-panel-show-tf").hasClass("hide-tf")){var n=M.panels[a.attr("id")];n.show(),n.find(".enableLock").click(),M.toolbar.append(n)}})),$("body").delegate("button:has(.aui-iconfont-table-split, .aui-iconfont-table-col-left, .aui-iconfont-table-col-right, .aui-iconfont-table-row-remove, .aui-iconfont-table-col-remove, .table-split-cells, .table-insert-column-before,.table-insert-column-after, .table-delete-row, .table-delete-column)","mouseup",(function(){if(!$(this).is(".disabled")){var e=$(tinymce.activeEditor.selection.getNode());e.is("table")||(e=e.parents("table").eq(0)),e.find(".fake").remove()}}))}))}catch(e){console.error(e)}}},a={};function r(e){var o=a[e];if(void 0!==o)return o.exports;var n=a[e]={exports:{}};return t[e].call(n.exports,n,n.exports,r),n.exports}r.m=t,e=[],r.O=function(t,a,o,n){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],n=e[c][2];for(var l=!0,s=0;s<a.length;s++)(!1&n||i>=n)&&Object.keys(r.O).every((function(e){return r.O[e](a[s])}))?a.splice(s--,1):(l=!1,n<i&&(i=n));if(l){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,o,n]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={6405:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,n,i=a[0],l=a[1],s=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(s)var c=s(r)}for(t&&t(a);d<i.length;d++)n=i[d],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(c)},a=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var o=r.O(void 0,[7062,8810,7267,8303,7073,3844,6467,4267,1141,1314,6558,5344,2901,2209,4802,4584,2708,7809,4492,3614,8142,3049,3985,4034,4571,3406,8801,9859,9449,2835,8217,579,8220,7563,9986,5433,4550,9484,2954,8493,1048,326,5414,5836,2896,4412,8631,6099,8984,5416,5372,9313,3152,2898,1731,6005,3509,3589,1121,5995,5269,6269,9575,3874,4215,6761,3622,2055,5082,4125,5511,745,4980,5211,590,5829,709,1984,2438,116,3677,7228,3644,2239,3511,9663],(function(){return r(48205)}));o=r.O(o)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:trigger', location = '/includes/js/trigger.js' */
define("confluence/trigger",["jquery","window"],function(b,c){return function(a,d){a=new b.Event(a);b(d||c.top.document).trigger(a);return!a.isDefaultPrevented()}});require("confluence/module-exporter").exportModuleAsGlobal("confluence/trigger","AJS.jiraTrigger");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:keyboard', location = '/includes/js/api/keyboard.js' */
define("confluence/api/keyboard",["jquery"],function(g){function b(a,d,e){k[d]=a;l[a]=d;e&&(m[d]=!0);return a}function h(a){a=a.originalEvent||a;return null==a.which?a.keyCode:0!==a.which&&0!==a.charCode?a.which:null}function n(a){a=a.originalEvent||a;var d=f.specialKeyEntered(a);if(d)return d;if(g.browser.mozilla){if("keypress"===a.type&&(a=h(a),null!==a))return String.fromCharCode(a).toLowerCase()}else if("keypress"!==a.type)return String.fromCharCode(a.keyCode).toLowerCase()}var f={},k={},l={},
m={},c=f.SpecialKey={BACKSPACE:b("backspace",8,!0),TAB:b("tab",9,!0),RETURN:b("return",13,!0),SHIFT:b("shift",16),CTRL:b("ctrl",17),ALT:b("alt",18),PAUSE:b("pause",19),CAPS_LOCK:b("capslock",20),ESC:b("esc",27,!0),SPACE:b("space",32,!0),PAGE_UP:b("pageup",33),PAGE_DOWN:b("pagedown",34),END:b("end",35),HOME:b("home",36),LEFT:b("left",37),UP:b("up",38),RIGHT:b("right",39),DOWN:b("down",40),INSERT:b("insert",45),DELETE:b("del",46),F1:b("f1",112),F2:b("f2",113),F3:b("f3",114),F4:b("f4",115),F5:b("f5",
116),F6:b("f6",117),F7:b("f7",118),F8:b("f8",119),F9:b("f9",120),F10:b("f10",121),F11:b("f11",122),F12:b("f12",123),NUMLOCK:b("numlock",144),SCROLL:b("scroll",145),META:b("meta",224)};c.eventType=function(){return g.browser.mozilla?"keypress":"keydown"};c.fromKeyCode=function(a){return k[a]};c.toKeyCode=function(a){return l[a]};c.isAscii=function(a){return!!m[a]};c.isSpecialKey=function(a){return!!c.toKeyCode(a)};f.characterEntered=function(a){a=a.originalEvent||a;if("keypress"===a.type&&(a=h(a),
null!==a&&(!c.isAscii(a)||c.fromKeyCode(a)===c.SPACE)))return String.fromCharCode(a)};f.specialKeyEntered=function(a){a=a.originalEvent||a;if(g.browser.mozilla){if("keypress"===a.type){var d=h(a);if(null===d)return c.fromKeyCode(a.keyCode);if(c.isAscii(d))return c.fromKeyCode(d)}}else if("keypress"!==a.type)return c.fromKeyCode(a.keyCode)};f.shortcutEntered=function(a){a=a.originalEvent||a;if(a.type===f.SpecialKey.eventType()){var d=f.specialKeyEntered(a),e="";a.altKey&&d!==c.ALT&&(e+=c.ALT+"+");
a.ctrlKey&&d!==c.CTRL&&(e+=c.CTRL+"+");a.metaKey&&!a.ctrlKey&&d!==c.META&&(e+=c.META+"+");a.shiftKey&&d!==c.SHIFT&&(e+=c.SHIFT+"+");if(d)return e+d;if(0<e.length&&"shift+"!==e&&(a=n(a)))return e+a}};return f});require("confluence/module-exporter").exportModuleAsGlobal("confluence/api/keyboard","AJS.Keyboard");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:jira-controls', location = '/includes/js/class.js' */
define("confluence/class",["jquery"],function($){var begetObject=function(obj){var f=function(){};f.prototype=obj;return new f};var initializing=false;var fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var Class=function(){};Class.extend=function(){var prop;var _super=this.prototype;if(arguments.length>1){var interfaces=$.makeArray(arguments);prop=interfaces.pop();var completeInterface;$.each(interfaces,function(i,inter){if(completeInterface)completeInterface=completeInterface.extend(inter);
else completeInterface=inter});return completeInterface.extend(this.prototype).extend(prop)}prop=arguments[0];initializing=true;var prototype=new this;initializing=false;for(var name in prop)if(prototype[name]=typeof prop[name]==="function"&&typeof _super[name]==="function"&&fnTest.test(prop[name]))prototype[name]=function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);this._super=tmp;return ret}}(name,prop[name]);else if(typeof _super[name]===
"object"){var newObj=begetObject(prop[name]);$.each(_super[name],function(name,obj){if(!newObj[name])newObj[name]=obj;else if(typeof newObj[name]==="object"){var newSubObj=begetObject(newObj[name]);$.each(obj,function(subName,subObj){if(!newSubObj[subName])newSubObj[subName]=subObj});newObj[name]=newSubObj}});prototype[name]=newObj}else prototype[name]=prop[name];function Class(){if(!initializing&&this.init)this.init.apply(this,arguments)}Class.prototype=prototype;Class.constructor=Class;Class.extend=
arguments.callee;return Class};return Class});require("confluence/module-exporter").exportModuleAsGlobal("confluence/class","Class");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:jira-controls', location = '/includes/js/control.js' */
define("confluence/control","confluence/class confluence/trigger confluence/api/logger confluence/api/keyboard jquery document".split(" "),function(n,p,l,m,d,e){return n.extend({INVALID:"INVALID",_throwReadOnlyError:function(a){Error(this.CLASS_SIGNATURE+": Sorry ["+a+"] is a read-only property")},_assignEvents:function(a,b){this._unassignEvents(a,b);if("string"===typeof b)for(var c in this._events[a])d(e).delegate(b,c,this._getDispatcher(a,c));else for(c in b=d(b),this._events[a])b.bind(c,this._getDispatcher(a,
c)),l.debug("Control bound eventType '"+c+"' for group '"+a+"' on target '"+(b[0].type||b[0])+"'")},_unassignEvents:function(a,b){if("string"===typeof b)for(var c in this._events[a])d(e).undelegate(b,c,this._getDispatcher(a,c));else{b=d(b);try{for(c in this._events[a])b.unbind(c,this._getDispatcher(a,c))}catch(q){var f=d._data(b[0],"events");if(f)for(c in f)if(c in this._events[a]){for(var h=this._getDispatcher(a,c),g=f[c],k=0;k<g.length;k++)if(g[k]===h){g.splice(k,1);break}l.debug("Control unbound eventType '"+
c+"' for group '"+a+"' on target '"+(b[0].type||b[0])+"'")}}}},_getDispatcher:function(a,b){var c=a+"/"+b;this._dispatchers||(this._dispatchers={});if(!this._dispatchers[c]){var f=this._events[a][b],h=this;this._dispatchers[c]=function(g){l.debug("Control dispatching eventType '"+b+"' for group '"+a+"' on instance '"+h.type+"'");return f.call(h,g,d(this))}}return this._dispatchers[c]},_isValidInput:function(){return!0},_handleKeyEvent:function(a){if(this._isValidInput(a)){var b=m.SpecialKey,c=m.shortcutEntered(a);
if(c){if(this.keys[c]){this.keys[c].call(this,a);return}if((c===b.BACKSPACE||c===b.DELETE)&&this.keys.onEdit){this.keys.onEdit.call(this,a);return}}(b=m.characterEntered(a))&&this.keys.onEdit&&this.keys.onEdit.call(this,a,b)}},getCustomEventName:function(a){return(this.CLASS_SIGNATURE||"")+"_"+a},_getCustomEventArgs:function(){return[this]},trigger:function(a){return p(a,this)},_supportsBoxShadow:function(){var a=e.body.style;return void 0!==a.WebkitBoxShadow||void 0!==a.MozBoxShadow||void 0!==a.boxShadow},
_setOptions:function(a){a=a||{};if(a instanceof d||"string"===typeof a||"object"===typeof a&&a.nodeName)a={element:a};var b=d(a.element);var c=b.getOptionsFromAttributes();this.options=d.extend(!0,this._getDefaultOptions(a),c,a);if(0===b.length)return this.INVALID},getCaret:function(a){var b=a.selectionStart;if(0<=b)return a.selectionEnd>b?-1:b;if(e.selection&&(b=e.selection.createRange(),0===b.text.length)){var c=b.duplicate();c.moveToElementText(a);c.setEndPoint("EndToStart",b);return c.text.length}return-1},
_render:function(){var a,b=arguments[0],c=[];for(a=1;a<arguments.length;a++)c.push(arguments[a]);return this._renders[b].apply(this,c)}})});require("confluence/module-exporter").exportModuleAsGlobal("confluence/control","AJS.Control");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:jira-controls', location = '/includes/js/api/mouse.js' */
define("confluence/api/mouse",["jquery","window"],function(d,e){var c={MotionDetector:function(){this.reset()}};c.MotionDetector.prototype.reset=function(){this._y=this._x=this._handler=null;this.moved=!1};c.MotionDetector.prototype.wait=function(f){var a=this;a._handler||(this.reset(),d(e.top.document).bind("mousemove",a._handler=function(b){if(!a._x&&!a._y)a._x=b.pageX,a._y=b.pageY;else if(b.pageX!==a._x||b.pageY!==a._y)a.unbind(),a.moved=!0,f&&f.call(this,b)}))};c.MotionDetector.prototype.unbind=
function(){this._handler&&(d(e.top.document).unbind("mousemove",this._handler),this.reset())};return c});require("confluence/module-exporter").exportModuleAsGlobal("confluence/api/mouse","AJS.Mouse");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:jira-controls', location = '/includes/js/group.js' */
define("confluence/group",["confluence/control","confluence/api/logger","jquery"],function(d,e,c){return d.extend({init:function(){this.type=this.type||"Group";this.items=[];this.index=-1;this._assignEvents("instance",this)},addItem:function(a){this.items.push(a);this._assignEvents("item",a)},removeItem:function(a){var b=c.inArray(a,this.items);if(0>b)throw Error("Group: item ["+a+"] is not a member of this group");a.trigger("blur");b<this.index&&this.index--;this.items.splice(b,1);this._unassignEvents("item",
a)},removeAllItems:function(){for(var a=0;a<this.items.length;a++)this._unassignEvents("item",this.items[a]),this.items[a].trigger("blur");this.index=-1;this.items.length=0;this._unassignEvents("keys",document)},shiftFocus:function(a){e.debug("Group.shiftFocus called with offset: "+a);-1===this.index&&1===a&&(a=0);0<this.items.length&&this.items[(Math.max(0,this.index)+this.items.length+a)%this.items.length].trigger("focus")},prepareForInput:function(){this._assignEvents("keys",document)},_events:{instance:{focus:function(){0!==
this.items.length&&(0>this.index?this.items[0].trigger("focus"):this._assignEvents("keys",document))},blur:function(){0<=this.index?this.items[this.index].trigger("blur"):this._unassignEvents("keys",document)}},keys:{"keydown keypress":function(a){this._handleKeyEvent(a)}},item:{focus:function(a){var b=this.index;this.index=c.inArray(a.target,this.items);0>b?this.trigger("focus"):b!==this.index&&this.items[b].trigger("blur")},blur:function(a){this.index===c.inArray(a.target,this.items)&&(this.index=
-1,this.trigger("blur"))},remove:function(a){this.removeItem(a.target)}}},keys:{}})});require("confluence/module-exporter").exportModuleAsGlobal("confluence/group","AJS.Group");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:jira-controls', location = '/includes/js/select-grid.js' */
define("confluence/select-grid",["ajs","jquery","confluence/templates","confluence/group","confluence/control"],function(k,e,m,l,n){l=l.extend({init:function(a){this.type=this.type||"SelectGrid";this._super();var b=e(m.SelectGrid.gridOutline()),c=b.find("thead tr");e(a.columns).each(function(d,f){d=e("\x3cth\x3e\x3c/th\x3e").addClass(f.getClassName()).text(f.heading);c.append(d)});this.gridContainer=e(a.gridContainer).append(b);this.getRowId=a.getRowId;this.table=b;this.columns=a.columns;this.selectionCallback=
a.selectionCallback;this.body=b.find("tbody");this.body.delegate("a","click",function(d){d.preventDefault()});this.dontShiftFocus=a.dontShiftFocus||function(){}},keys:{up:function(a){this.table.is(":visible")&&!this.dontShiftFocus()&&(this.shiftFocus(-1),a.preventDefault())},down:function(a){this.table.is(":visible")&&!this.dontShiftFocus()&&(this.shiftFocus(1),a.preventDefault())}},_addRow:function(a,b,c,d){e.isFunction(c)&&(d=c,c=!1);c?this.body.prepend(a):this.body.append(a);a=new p({row:a,data:b,
callback:d,getRowId:this.getRowId,selectionCallback:d});this.addItem(a);return a},clear:function(){this.removeAllItems();this.body.children().remove()},_addRows:function(a,b){var c=this,d=[];e(a).each(function(f,h){f=q(h,c.columns);f.attr("data-id",c.getRowId(h));d.push(c._addRow(f,h,b,c.selectionCallback))});return d},update:function(a){this.clear();a&&a.length?(this._addRows(a),this.prepareForInput()):k.debug("SelectGrid.update called with no data, returning.")},prependAndSelect:function(a,b){a&&
a.length?this._addRows(a,!0)[b||0].selectRow():k.debug("SelectGrid.prependAndSelect called with no data, returning.")},findItem:function(a){for(var b=0;b<this.items.length;b++)if(this.items[b].getRowId()==a)return this.items[b];k.debug("SelectGrid.findItem didn't find item, returning null.");return null},select:function(a){(a=this.findItem(a))&&a.selectRow()},selectIndex:function(a){a=a||0;this.items[a]?this.items[a].selectRow():k.debug("SelectGrid.selectIndex couldn't select row with index "+a+", not found")},
show:function(){this.gridContainer.removeClass("hidden")},hide:function(){this.gridContainer.addClass("hidden")},isVisible:function(){return!this.gridContainer.hasClass("hidden")}});var p=n.extend({init:function(a){this.type="SelectableRow";this.$row=e(a.row);this.$row.data("properties",a.data);this.getRowId=function(){return a.getRowId(a.data)};this.selectionCallback=a.selectionCallback;this._assignEvents("element",this.$row);this._assignEvents("instance",this);k.debug("SelectableRow initialized")},
_events:{instance:{focus:function(a){a=this.$row;a.addClass("selected");this.selectionCallback(a,a.data("properties"))},blur:function(a){this.$row.removeClass("selected")}},element:{click:function(){this.trigger("focus")}}},selectRow:function(){this.trigger("focus")}}),q=function(a,b){var c,d,f;var h=e("\x3ctr\x3e\x3c/tr\x3e");e(b).each(function(r,g){c={outerClass:g.getClassName(a)||"",href:g.getHref&&g.getHref(a)||"",innerClass:g.getInnerClass&&g.getInnerClass(a)||"",title:g.getTitle&&g.getTitle(a)||
"",text:g.getText(a)||""};d=c.href?"cellWithLink":"cellWithoutLink";f=m.SelectGrid[d](c);h.append(f)});return h};l.Column=function(a){var b=function(c){return c[a.key]};return{key:a.key,heading:a.heading,getClassName:a.getClassName||function(){return a.className||a.key+"-field"},getHref:a.getHref,getInnerClass:a.getInnerClass,getTitle:a.getTitle,getText:a.getText||b}};return l});require("confluence/module-exporter").exportModuleAsGlobal("confluence/select-grid","AJS.SelectGrid");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:jira-controls', location = '/includes/js/select-grid.soy' */
// This file was automatically generated from select-grid.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.SelectGrid.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.SelectGrid == 'undefined') { Confluence.Templates.SelectGrid = {}; }


Confluence.Templates.SelectGrid.gridOutline = function(opt_data, opt_ignored) {
  return '<table class="select-grid aui"><thead><tr class="data-table-header"></tr></thead><tbody></tbody></table>';
};
if (goog.DEBUG) {
  Confluence.Templates.SelectGrid.gridOutline.soyTemplateName = 'Confluence.Templates.SelectGrid.gridOutline';
}


Confluence.Templates.SelectGrid.cellWithLink = function(opt_data, opt_ignored) {
  return '<td class="' + soy.$$escapeHtml(opt_data.outerClass) + '"><a class="' + soy.$$escapeHtml(opt_data.innerClass) + '" href="' + soy.$$escapeHtml(opt_data.href) + '" title="' + soy.$$escapeHtml(opt_data.title) + '"><span>' + soy.$$escapeHtml(opt_data.text) + '</span></a></td>';
};
if (goog.DEBUG) {
  Confluence.Templates.SelectGrid.cellWithLink.soyTemplateName = 'Confluence.Templates.SelectGrid.cellWithLink';
}


Confluence.Templates.SelectGrid.cellWithoutLink = function(opt_data, opt_ignored) {
  return '<td class="' + soy.$$escapeHtml(opt_data.outerClass) + '"><span class="' + soy.$$escapeHtml(opt_data.innerClass) + '" title="' + soy.$$escapeHtml(opt_data.title) + '">' + soy.$$escapeHtml(opt_data.text) + '</span></td>';
};
if (goog.DEBUG) {
  Confluence.Templates.SelectGrid.cellWithoutLink.soyTemplateName = 'Confluence.Templates.SelectGrid.cellWithoutLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:jira-controls', location = '/includes/js/result-grid.js' */
define("confluence/result-grid",["ajs","jquery","confluence/control"],function(e,f,q){return q.extend({init:function(c){this.type=this.type||"ResultGrid";var g,m;var h=c.gridContainer||f(c.baseElement).find(".data-table");h.length||e.debug("gridContainer for AJS.ResultGrid not found!");var r=function(a){return a.id};var b=new e.SelectGrid({gridContainer:h,columns:c.columns,selectionCallback:c.selectionCallback,getRowId:c.getRowId||r,dontShiftFocus:c.dontShiftFocus});var k=c.messageHandler||e.MessageHandler({baseElement:f(c.baseElement).find(".message-panel")});
var n=c.noResultMessage||"There are no results.";f.extend(this,{update:function(a,d){k.clearMessages();g&&(g(),m.remove(),g=null);b.clear();if(!a||!a.length)return b.hide(),a=f.isFunction(n)?n(d):n,k.displayMessages(a),!1;b.update(a);b.show();return!0},updateAndSelect:function(a,d,l){this.update(a,d)&&this.selectIndex(l)},prependAndSelect:function(a,d){a&&a.length?(k.clearMessages(),b.prependAndSelect(a,d),b.show()):e.debug("ResultGrid.prependAndSelect called with no data, returning.")},
select:function(a){b.select(a)},selectIndex:function(a){b.selectIndex(a)},clear:function(){k.clearMessages();b.hide()},loading:function(){b.show();var a=h.width(),d=h.height();this.clear();if(!g){var l=a/2-73;var p=d/2-73;a-=l;d-=p;m=f("\x3cdiv\x3e\x3c/div\x3e").addClass("spinner-container").width(a).height(d).css({"padding-left":l,"padding-top":p}).insertAfter(h);g=Raphael.spinner(m[0],60,"#666")}},isVisible:function(){return b.isVisible()}})}})});
require("confluence/module-exporter").exportModuleAsGlobal("confluence/result-grid","AJS.ResultGrid");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:breadcrumbs-jquery', location = '/includes/js/breadcrumbs-jquery.js' */
define("confluence/breadcrumbs-jquery",["jquery","confluence/templates"],function(e,h){return function(a){var k=this,f=[],b=0,c=a.length-1,d=a[b],m=k.closest(".breadcrumbs-container").width(),g=function(){return k.width()<m};for(f.push(h.Dialog.breadcrumbItem({text:d.title,title:d.title,className:b===c?"last":""}));b++<c;)d=a[b],f.push(h.Dialog.breadcrumbItem({text:d.title,title:d.title,className:b===c?"last":""}));this.html(f.join(""));a=e("li a span",this);a.each(function(l){0!==l&&l!==c&&e(this).shortenUntil(g)});
e(a.get(0)).shortenUntil(g);e(a.get(c)).shortenUntil(g);return this}});require("confluence/module-exporter").exportModuleAsGlobal("confluence/breadcrumbs-jquery","jQuery.fn.renderBreadcrumbs");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:dialog-breadcrumbs', location = '/includes/js/dialog-breadcrumbs.js' */
define("confluence/dialog-breadcrumbs",["ajs","jquery","confluence/meta","confluence/templates"],function(e,d,h,q){var n={},r=function(a,l,k){var f=a.userName?a.userName:a.pageId?a.pageId+":"+a.fileName:a.spaceKey+":"+a.title+":"+a.postingDay+":"+a.fileName;f in n?l(n[f],"success"):d.ajax({type:"GET",dataType:"json",data:a,url:e.contextPath()+"/pages/breadcrumb.action",error:k||function(){},success:function(b,m){if(b&&b.breadcrumbs){for(var c=d.makeArray(b.breadcrumbs);c[0]&&"userinfo"!==b.type&&
/peopledirectory\.action$/.test(c[0].url);)c.shift();"page"===b.type&&c[1]&&/pages\.action/.test(c[1].url)&&c.splice(1,1);c.type=b.type;n[f]=c;l(c,m)}else k(b,m)}})};return{getBreadcrumbsDefault:r,Breadcrumbs:function(a,l){var k=0;return{update:function(f,b){a.html(q.Dialog.breadcrumbLoading());var m=k+=1,c=function(){return m!==k?(e.debug("Breadcrumb response for ",f," is stale, ignoring."),!0):!1};(l||r)(f,function(p,g){if(!c())if("success"===g&&p){g=f.spaceKey;a.renderBreadcrumbs(p);if(!(g=g!==
h.get("space-key")))a:{for(g=1;g<p.length;g++)if(p[g].title===h.get("page-title")){g=!1;break a}g=!0}g?(b.clearErrors(),d(b.moveButton).prop("disabled",!1)):(b.error("You cannot move a page to be underneath itself or its children."),d("li:last-child",a).addClass("warning"),d("li:last-child",a).prepend('\x3cspan class\x3d"aui-icon aui-icon-small aui-iconfont-warning"\x3e\x3c/span\x3e'))}else a.html(q.Dialog.breadcrumbError())},function(p){c()||(a.html(q.Dialog.breadcrumbError()),404===p.status&&b.error("The specified page was not found."))})}}},
getBreadcrumbsLegacy:function(a,l,k){if(!a.id)throw Error("id is a required parameter in 'options'");if(!a.type)throw Error("type is a required parameter in 'options'");var f=a.id+":"+a.type;f in n?l(n[f],"success"):d.ajax({type:"GET",dataType:"json",data:a,url:e.contextPath()+e.REST.getBaseUrl()+"breadcrumb",error:k||function(){},success:function(b,m){if(b&&b.breadcrumbs){for(var c=d.makeArray(b.breadcrumbs);c[0]&&"userinfo"!==b.type&&/peopledirectory.action$/.test(c[0].url);)c.shift();c.type=b.type;
n[f]=c;l(c,m)}else k(b,m)}})}}});
require("confluence/module-exporter").safeRequire("confluence/dialog-breadcrumbs",function(e){var d=require("ajs"),h=require("confluence/legacy");d.toInit(function(){d.MoveDialog||(d.MoveDialog={});d.MoveDialog.Breadcrumbs=e.Breadcrumbs;d.MoveDialog.getBreadcrumbs=e.getBreadcrumbsDefault;d.Breadcrumbs={};d.Breadcrumbs.getBreadcrumbs=e.getBreadcrumbsLegacy;h.Dialogs||(h.Dialogs={});h.Dialogs.Breadcrumbs=d.Breadcrumbs;h.Dialogs.Breadcrumbs.getBreadcrumbs=e.getBreadcrumbsLegacy;h.Dialogs.Breadcrumbs.Controller=
e.Breadcrumbs;h.Dialogs.Breadcrumbs.defaultGetBreadcrumbs=e.getBreadcrumbsDefault})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:dialog-breadcrumbs', location = '/includes/soy/dialog-breadcrumbs.soy' */
// This file was automatically generated from dialog-breadcrumbs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Dialog.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Dialog == 'undefined') { Confluence.Templates.Dialog = {}; }


Confluence.Templates.Dialog.breadcrumbItem = function(opt_data, opt_ignored) {
  return '<li><a class="' + ((opt_data.className == 'last') ? soy.$$escapeHtml(opt_data.className) : 'aui-icon aui-icon-small aui-iconfont-chevron-right ' + soy.$$escapeHtml(opt_data.className)) + '" title="' + soy.$$escapeHtml(opt_data.title) + '" tabindex="-1"><span>' + soy.$$escapeHtml(opt_data.text) + '</span></a></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.Dialog.breadcrumbItem.soyTemplateName = 'Confluence.Templates.Dialog.breadcrumbItem';
}


Confluence.Templates.Dialog.breadcrumbLoading = function(opt_data, opt_ignored) {
  return '<li class="loading"><span>' + soy.$$filterNoAutoescape('Loading breadcrumbs...') + '</span></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.Dialog.breadcrumbLoading.soyTemplateName = 'Confluence.Templates.Dialog.breadcrumbLoading';
}


Confluence.Templates.Dialog.breadcrumbError = function(opt_data, opt_ignored) {
  return '<li class="warning last"><span class="aui-icon aui-icon-small aui-iconfont-warning"></span><span>' + soy.$$escapeHtml('Error retrieving breadcrumbs.') + '</span></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.Dialog.breadcrumbError.soyTemplateName = 'Confluence.Templates.Dialog.breadcrumbError';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-frontend:page-location', location = '/includes/js/page-location.js' */
define("confluence/page-location",["ajs","confluence/meta"],function(d,a){var b=null;return{get:function(){return b?b:{spaceName:a.get("space-name"),spaceKey:a.get("space-key"),parentPageTitle:a.get("parent-page-title")}},set:function(c){b=c}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence/page-location","Confluence.PageLocation");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--38baed5f09', location = 'aui.chunk.f05cfefb660827fefcce--ce39136e8bb3408fab41.js' */
(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[5147],{8722:function(t,e,i){var s,a,l;
/*! jQuery Fancy File Input plugin - v2.0.4 - 2018-11-23
* Copyright (c) 2018 Atlassian Pty Ltd; Licensed Apache-2.0 */void 0===(l=this)&&void 0!==window&&(l=window),s=[i(4440)],void 0===(a=function(t){return l.FancyFileInput=function(t){"use strict";var e=/^.*[\\\/]/,i=/\{0\}/gi,s=function(){var t=3,e=document.createElement("div"),i=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(i[0]);return t>4?t:document.documentMode}();function a(e,i){var s=t(e).data("FancyFileInput");if(s)return s;i=t.extend({},a.defaults,i),this.el=e,this.$el=t(e),this.$label=this.createLabel(i.buttonText),this._addLabelText(),this.$clearButton=t("<button>",{text:this.$label.attr("data-ffi-clearButtonText")||i.clearButtonText,class:"ffi-clear",type:"button",tabindex:"-1"}),this.multipleFileTextPattern=this.$label.attr("data-ffi-multipleFileTextPattern")||i.multipleFileTextPattern,this._eventNamespace=".ffi",this.CLASSES={disabled:"is-disabled",focused:"is-focused",active:"is-active",valid:"is-valid",invalid:"is-invalid"},this[this.isDisabled()?"disable":"enable"](),this.isFocused=!1}return a.defaults={buttonText:"Browse",clearButtonText:"Clear",multipleFileTextPattern:"{0} files"},a.prototype._addLabelText=function(){var e=t('label[for="'+this.el.id+'"]');e.length&&this.$el.attr("aria-label",e.text())},a.prototype.createLabel=function(e){var i=this.$el.parent(".ffi[data-ffi-button-text]");return i.length||(i=this.$el.wrap(t("<label>",{class:"ffi","data-ffi-button-text":e})).parent()),i},a.prototype.isDisabled=function(){return this.$el.is(":disabled")},a.prototype.formatMultipleFileText=function(t){return this.multipleFileTextPattern.replace(i,t)},a.prototype.bindEvents=function(){this.$el.on("invalid"+this._eventNamespace,t.proxy(this.checkValidity,this)).on("change"+this._eventNamespace,t.proxy(this.change,this)).on("keydown"+this._eventNamespace,t.proxy(this.keydown,this)).on("mousedown"+this._eventNamespace,t.proxy(this.mousedown,this)).on("mouseup"+this._eventNamespace,t.proxy(this.mouseup,this)).on("focus"+this._eventNamespace,t.proxy(this.focus,this)).on("blur"+this._eventNamespace,t.proxy(this.blur,this)),this.$clearButton.on("click"+this._eventNamespace,t.proxy(this.clear,this))},a.prototype.unbindEvents=function(){this.$el.off(this._eventNamespace),this.$clearButton.off(this._eventNamespace)},a.prototype.fireEvent=function(t){this.$el.trigger(t+this._eventNamespace)},a.prototype.enable=function(){this.bindEvents(),this.$el.prop("disabled",!1),this.$label.removeClass(this.CLASSES.disabled)},a.prototype.disable=function(){this.unbindEvents(),this.$el.prop("disabled",!0),this.$label.addClass(this.CLASSES.disabled)},a.prototype.clear=function(){return this.$el.wrap("<form>").closest("form").get(0).reset(),this.$el.unwrap(),this.el.value="",this.change(),!1},a.prototype.focus=function(){var t=this;this.$label.addClass(this.CLASSES.focused),s&&!this.isFocused&&(this.isFocused=!0,setTimeout((function(){t.$el.blur(),t.$el.focus()}),0))},a.prototype.blur=function(){s&&this.isFocused||(this.$label.removeClass(this.CLASSES.focused),this.isFocused=!1)},a.prototype.mousedown=function(){this.$label.addClass(this.CLASSES.active)},a.prototype.mouseup=function(){this.$label.removeClass(this.CLASSES.active)},a.prototype.keydown=function(t){var e=t.which,i=9;if(8!==e&&46!==e||(this.clear(),t.preventDefault()),s&&e===i){var a=this;this.isFocused=!1,this.$el.prop("disabled",!0),setTimeout((function(){a.$el.prop("disabled",!1).blur()}),0)}},a.prototype.checkValidity=function(){if(this.el.required){var t=this.$el.is(":invalid");this.$label.toggleClass(this.CLASSES.invalid,t).toggleClass(this.CLASSES.valid,!t)}},a.prototype.change=function(){var t,i="";this.checkValidity(),(t=this.el.multiple&&this.el.files.length>1?this.formatMultipleFileText(this.el.files.length):this.el.value).length?(i=t.replace(e,""),this.$clearButton.appendTo(this.$label)):this.$clearButton.detach(),this.$el.focus(),this.setFieldText(i),this.fireEvent("value-changed")},a.prototype.setFieldText=function(t){var e="data-ffi-value";t.length?(this.$label.attr(e,t),this.fireEvent("value-added")):(this.$label.removeAttr(e),this.fireEvent("value-cleared"))},t.fn.fancyFileInput=function(e){return this.each((function(){var i=new a(this,e);t(this).data("FancyFileInput",i)}))},a}(t)}.apply(e,s))||(t.exports=a)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.form.file-select', location = 'aui.chunk.e4945723da9e014e68a9--fb43a69f4940c99d9350.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[2758],{9443:(u,a,n)=>{n.r(a),n.d(a,{FancyFileInput:()=>e});n(1667);var i=n(8722);const e=n.n(i)()}},u=>{u.O(0,[8658,5147,4496,1263,5131,5366,2178,3910,5828,8574,5388,9489,1700,449,328],(()=>{return a=9443,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-object.js' */
define("confluence-link-browser/link-object",["jquery","ajs","confluence/legacy"],function(d,g,m){function j(a){return d.nodeName(a,"img")?a:a.hasChildNodes()&&1===a.childNodes.length&&d.nodeName(a,"a")&&d.nodeName(a.firstChild,"img")?a.firstChild:null}function k(a){return!a?"":d(a).attr("data-linked-resource-default-alias")||d(a).attr("src")}function l(a){var b={};"A"===a.nodeName&&d(a.attributes).each(function(){b[this.name]=this.value});return b}function i(a,b){for(var d=a,h=b&&b.nextSibling,c=
"#text SPAN STRONG B EM I STRIKE U DEL S SUB SUP".split(" ");d!==h;){if(!c.includes(d.nodeName))return!1;d=d.nextSibling}return!0}var e={isLink:function(a){return a&&!!a.fillNode}},f=function(a){if(e.isLink(a))return a;var b={insert:function(){return m.Editor.LinkAdapter.setLink(b)},fillNode:function(a){var b=this.attrs;b.href=b.href||"#";b.href.replace(/\s+/g,"").toLowerCase().includes("javascript:")&&(b.href="#");a.attr(b);this.classes&&this.classes.length&&a.addClass(this.classes.join(" "));a.html(this.body.html);
return a},getData:function(){var a={},b;for(b in this)this.hasOwnProperty(b)&&!d.isFunction(this[b])&&(a[b]=this[b]);return a},getLinkedImage:function(){return this.body&&this.body.jquery?1===this.body.length&&this.body.is("img")&&this.body:null},getResourceId:function(){return this.attrs["data-linked-resource-id"]||""},getResourceVersion:function(){return this.attrs["data-linked-resource-version"]||""},isToConfluenceEntity:function(){return this.attrs["data-linked-resource-id"]},isToAttachmentOnSamePage:function(a){return"attachment"==
this.attrs["data-linked-resource-type"]&&this.attrs["data-linked-resource-container-id"]==a},isCustomAtlassianContentLink:function(){return this.classes&&this.classes.length?-1!=d.inArray("confluence-link",this.classes):!1},hasAnchor:function(){return this.attrs["data-anchor"]},getResourceType:function(){return this.attrs["data-linked-resource-type"]},getDefaultAlias:function(){return this.attrs["data-linked-resource-default-alias"]},getHref:function(){return this.attrs.href},getAnchor:function(){return this.attrs["data-anchor"]},
getHtml:function(){return this.body.html},getShortcut:function(){return this.attrs["data-linked-resource-shortcut"]},isHrefValid:function(){return this.attrs.href&&"http://"!=this.attrs.href},isImage:function(){return this.body.isImage},isNewLink:function(){return d.isEmptyObject(this.attrs)},isShortcutLink:function(){return"shortcut"===this.getResourceType()},isExternalLink:function(){return!this.isCustomAtlassianContentLink()},showsBreadcrumbs:function(){return!0},getTarget:function(){return this.attrs.target},
setTarget:function(a){a?this.attrs.target=a:this.removeTarget()},removeTarget:function(){this.attrs&&this.attrs.target&&delete this.attrs.target}};if(a&&a.attrs){var f={},h=null;d.each(a.attrs,function(a,b){"class"==a?h=b:f[a]=b});a.attrs=f;if(h){var c=h.split(" ");a.classes=a.classes&&a.classes.length?a.classes.concat(c):c}}d.extend(b,a);return b};e.fromData=function(a){return f(a)};e.fromNode=function(a,b){f({attrs:{},body:{html:b,text:b}});return f({attrs:l(a),body:{html:b,text:b}})};e.fromSelectedAnchor=
function(a,b){var e=d(a),h=j(a),c=!h&&i(a.firstChild,a.lastChild);return f({attrs:l(a),body:{isEditable:c,isImage:!!h,html:e.html(),imgName:k(h),text:b}})};e.fromSelection=function(a,b,d,e){var b=j(b),c;if(c=!b)if(a.collapsed)c=!0;else if(c=a.startContainer,c==a.endContainer)c=3===c.nodeType?!0:i(c.childNodes[a.startOffset],c.childNodes[a.endOffset-1]);else{var g=require("tinymce").activeEditor.dom;c=g.isBlock(a.startContainer)?a.startContainer.childNodes[a.startOffset]:a.startContainer;a=g.isBlock(a.endContainer)?
a.endContainer.childNodes[a.endOffset-1]:a.endContainer;a=c&&a&&c.parentNode==a.parentNode?{start:c,end:a}:null;c=!!a&&i(a.start,a.end)}return f({attrs:{},body:{isEditable:c,isImage:!!b,html:d,imgName:k(b),text:e}})};e.fromREST=function(a){var b=f({attrs:{"data-base-url":g.Confluence.getBaseUrl(),"data-linked-resource-id":a.id,"data-linked-resource-type":a.type,"data-linked-resource-content-type":a.contentType,href:g.REST.findLink(a.link),"data-linked-resource-default-alias":a.title},body:{html:g.escapeHtml(a.title),
text:g.escapeHtml(a.title)},classes:["confluence-link"]});"user"===a.type&&(b.attrs["data-linked-resource-type"]="userinfo");return b};e.createLinkToNewPage=function(a,b){return f({attrs:{"data-space-key":b,"data-content-title":a,href:g.contextPath()+"/pages/createpage.action?spaceKey="+b+"&title="+a+"&atl_token="+g.Meta.get("atl-token")},body:{html:g.escapeEntities(a),text:a},classes:["createlink","confluence-link"]})};e.makeExternalLink=function(a){return f({attrs:{href:a},body:{html:a,text:a}})};
e.isExternalLink=function(a){return a&&(a.match(/^(\/\/|mailto:|file:|http:|https:)/)||0===a.indexOf("\\"))};return e});require("confluence/module-exporter").exportModuleAsGlobal("confluence-link-browser/link-object","Confluence.Link");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-adapter.js' */
define("confluence-link-browser/link-adapter",["ajs","jquery","confluence/legacy","tinymce"],function(e,f,g,d){return{setLink:function(a){var c=e.Rte.getEditor(),c=f(c.dom.create("a"),c.getDoc());a.fillNode(c);return d.confluence.NodeUtils.replaceSelection(c)},getLink:function(){var a=e.Rte.getEditor(),c=a.selection.getContent(),b=a.getContent(),a=a.selection;b.includes(c)||(c=a.win.getSelection(),b=a.getRng(),"function"===typeof c.setBaseAndExtent&&(b.commonAncestorContainer.outerHTML===b.endContainer.outerHTML?
c.setBaseAndExtent(b.startContainer,b.startOffset,b.startContainer,b.startContainer.length):c.setBaseAndExtent(b.endContainer,0,b.endContainer,b.endOffset)));c=a.getNode();if(b=f(c).parents().addBack().filter("a[href]")[0])return a.select(b),g.Link.fromSelectedAnchor(b,a.getContent({format:"text"}));var b=a.getRng(),d=a.getContent({format:"text"}),a=a.getContent();return g.Link.fromSelection(b,c,a,d)}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-link-browser/link-adapter","Confluence.Editor.LinkAdapter");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-browser.js' */
define("confluence-link-browser/link-browser",["ajs","confluence/dialog","confluence/legacy","jquery"],function(b,s,o,h){function r(){if(!f.prop("disabled")){f.prop("disabled",!0);b.debug("link-browser.js: submit");i.preSubmit&&i.preSubmit();var a=c.getLink();b.DarkFeatures.isEnabled(t)||a.removeTarget();a.insert();n();b.trigger("closed.link-browser")}}function n(){k.hide().remove();b.Rte.BookmarkManager.restoreBookmark()}function p(){n();b.trigger("closed.link-browser")}function u(a,f,l){var d=f.key,
f=f.label,e=d+"-panel",g=o.Templates.LinkBrowser[d+"Panel"]({atlToken:b.Meta.get("atl-token")});k.addPanel(f,g,e,e+"-id");var a=k.get("panel:"+a),j=l.tabs[d];j.panelObj=a;j.key=d;j.createPanel({baseElement:h(a[0].body)});a[0].onblur=j.onDeselect;a[0].onselect=function(){var a=!!j.hasBreadcrumbs;b.debug("Link Browser: on tab select, breadcrumbs enabled: "+a);j.onSelect();c.refresh(a);i=j};return j}var t="link.openInNewWindow",k,c,f,i;return{SEARCH_PANEL:"search",ATTACHMENTS_PANEL:"attachments",WEBLINK_PANEL:"weblink",
ADVANCED_PANEL:"advanced",open:function(a){h(function(){h('.ffi input[type="file"]#file_0').fancyFileInput()});if(h(".aui-dialog:visible").length)return null;a=a||{};b.Rte.BookmarkManager.storeBookmark();a.linkInfo=a.linkInfo||o.Editor.LinkAdapter.getLink();if(a.opener)return a.opener(a.linkInfo.alias,a.linkInfo);var q=a,a={OPEN_IN_NEW_WINDOW_DARK_FEATURE:t,tabs:{},setLink:function(v,a){c.setLink(v,a)},getLink:function(){return c.getLink()},getSelectedDataTableItem:function(){return h(".data-table:visible tr.selected")},
linkValid:function(a){f.prop("disabled",!a)},focusLinkText:function(){c.focusLinkText()||(b.debug("LinkBrowser: focusing submit button"),f.focus())},getLinkText:function(){return c.getLinkText()},isLinkTextVisible:function(){return c.isLinkTextVisible()},isNewWindowCheckboxVisible:function(){return c.isNewWindowCheckboxVisible()},hasBreadcrumbs:function(a){return c.hasBreadcrumbs(a)},getLocationPresenter:function(){return c},doSearch:function(a){this.tabs.search.doSearch(a)},getSearchTextField:function(){return this.tabs.search.getSearchTextField()},
moveLocationPanel:function(a){c.moveLocationPanel(a)},restoreLocationPanel:function(){c.restoreLocationPanel()},gotoPanel:function(a){this.popup.gotoPanel(a)},getCurrentPanel:function(){return this.popup.getCurrentPanel()},setWebLinkURL:function(a){var c=this.tabs.weblink;i!=c?b.debug("Cannot set URL "+a+" on hidden Web Link panel"):c.setURL(a)},getWebLinkUrl:function(){var a=this.tabs.weblink;return i!=a?(b.debug("Cannot get URL on hidden Web Link panel"),null):a.getURL()},getTitle:function(){return this.popup.getTitle()},
getSubmitButtonText:function(){return f.text()},isSubmitButtonEnabled:function(){return f.is(":enabled")},isVisible:function(){return this.popup.isVisible()},showOpenInNewWindowCheckbox:function(a){return c.showOpenInNewWindowCheckbox(a)},getAdvancedTextField:function(){var a=this.tabs.advanced;return i!=a?(b.debug("Cannot get link text on hidden advanced panel"),null):a.getLink()},setAdvancedTextField:function(a){var c=this.tabs.advanced;i!=c?b.debug("Cannot set link text on hidden advanced panel"):
c.setLink(a)},submit:r,cancel:p},l=q.linkInfo,d=l.isNewLink(),e,g;e=new (s.confluenceDialog||s)({width:840,height:590,id:"insert-link-dialog",onCancel:p,onSubmit:r});g=d?"Insert link":"Edit link";d=d?"Insert":"Save";e.addHeader(g);e.addButton(d,r);e.addCancel("Cancel",p);e.addHelpText("Hint: type \u0022[\u0022 in the editor to see a list of suggested pages and insert a link.");g=h("#insert-link-dialog .dialog-tip");
g.attr("title",g.text());h("#insert-link-dialog .dialog-components .dialog-title").prepend(o.Templates.LinkBrowser.helpLink());f=e.get("button:0")[0].item;f.attr("id","link-browser-insert").removeClass("button-panel-button").addClass("aui-button aui-button-primary");f.prop("disabled",!0);k=e;a.popup=k;b.trigger("dialog-created.link-browser",[a]);c=o.Editor.LinkBrowser.LinkInfoPresenter(a);c.setLinkBody(l.body);q=q.panelKey;e=h("#link-browser-tab-items").find("div").map(function(){var a=h(this);return{key:a.text(),
weight:a.attr("data-weight"),label:this.title}}).sort(function(a,b){return a.weight-b.weight});var j="template"!==b.Meta.get("content-type");e=h.grep(e,function(a){return j||"attachments"!==a.key});var n;g=null;for(var d=0,w=e.length;d<w;d++){var m=u(d,e[d],a);0===d&&(n=m);!l.isNewLink()&&h.isFunction(m.handlesLink)&&m.handlesLink(l)?(g=m,m.openedLink=l):q==m.key&&(g=m)}g?a.popup.overrideLastTab():g=n;i=g;k.popup.element.find(".dialog-page-body:first").append(c.getContainer());i.panelObj.select();
i.openedLink=null;k.show();b.trigger("dialog-shown.link-browser",k);return a},cancel:p}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-link-browser/link-browser","Confluence.Editor.LinkBrowser");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-browser-location.js' */
define("confluence-link-browser/link-browser-location",["jquery","confluence/legacy","ajs","confluence/dialog-breadcrumbs"],function(k,B,i,s){return function(t){function m(){return i.escapeHtml(u())}function u(){return b.val()}function v(a){j.closest(".row").toggleClass("hidden",!a);e.toggleClass("has-breadcrumbs",!!a)}function w(a){var c=a.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/),a=c[2],d=c[3],f=c[5],e=c[7],c=c[9],b="";a&&(b=a.toLowerCase()+":");d&&(b+=d);b+=n(f);e&&(b+=
"?"+n(e));c&&(b+="#"+n(c));return b}function n(a){var c={"'":"%27","\\[":"%5B","\\]":"%5D","`":"%60","\\\\":"%5C"},d;for(d in c)c.hasOwnProperty(d)&&(a=a.replace(RegExp(d,"g"),c[d]));return a}function x(){return b.is(":visible")}function y(a,c){i.trigger("analyticsEvent",{name:a,data:{resourceType:c.getResourceType(),isExternal:c.isExternalLink()}})}var e,j,o,f,g,b,p,z,A,q,l,r,h;e=k(B.Templates.LinkBrowser.locationPanel());j=e.find("#breadcrumbs-container");o=s.Breadcrumbs(j,s.getBreadcrumbsLegacy);
g=e.find("#link-open-in-new-window");z=e.find(".link-image");A=e.find(".link-mixed");l=e.find("#link-image-filename");q=e.find("#link-mixed-content");p=e.find(".link-text");b=p.find("input");b.change(function(a){a.keyCode=a.keyCode||a.which;a.keyCode&&13!==a.keyCode&&b.removeClass("default-alias")});g.change(function(){g.prop("checked")?("attachment"!==f.getResourceType()&&f.setTarget("_blank"),y("editor.linkBrowser.location.openInNewWindow.checked",f)):(f.removeTarget(),y("editor.linkBrowser.location.openInNewWindow.unchecked",
f))});return{setLink:function(a,c){i.debug("Link Browser: setting link : "+a);var d=a.attrs["data-linked-resource-default-alias"]||a.getHtml();if(""===m()||b.hasClass("default-alias"))b.addClass("default-alias"),b.val(d);if(c&&a.getResourceId()&&a.getResourceType()){var e={clearErrors:function(){},error:function(){},select:function(a){o.update(a,e)}},d={id:a.getResourceId(),type:a.getResourceType()};o.update(d,e)}v(c);i.DarkFeatures.isEnabled(t.OPEN_IN_NEW_WINDOW_DARK_FEATURE)?(g.prop("checked")&&
a.setTarget("_blank"),g.prop("checked","_blank"===a.getTarget())):a.removeTarget();f=a;t.linkValid(f&&f.isHrefValid())},getLink:function(){if(!f)return null;var a=r;a||((a=m())||(a=f.getDefaultAlias()||f.getHref()),a={html:a});f.body=a;f.attrs.href=w(f.attrs.href);return f},refresh:function(a){f&&v(a)},setLinkBody:function(a){r||(a.isEditable?b.val(a.text):a.isImage?l.text(a.imgName):q.text(a.text),r=a.isEditable?null:a,p.toggleClass("hidden",!a.isEditable),z.toggleClass("hidden",!a.isImage),A.toggleClass("hidden",
a.isEditable||a.isImage))},getContainer:function(){return e},isLinkTextVisible:x,isLinkImageVisible:function(){return l.is(":visible")},isNewWindowCheckboxVisible:function(){return g.is(":visible")},isNewWindowCheckboxChecked:function(){return g.prop("checked")},isLinkMixedContentVisible:function(){return q.is(":visible")},focusLinkText:function(){return x()?(i.debug("LinkInfoPresenter.focusLinkText focusing alias"),b.select(),!0):!1},getLinkText:m,getRawLinkText:u,getLinkImageName:function(){return l.text()},
moveLocationPanel:function(a){h||(h=e.find(".row:not(.hidden) .field-group"),h.each(function(a,d){k(d).data("original-parent",k(d).parent())}));h.appendTo(a);e.hide()},restoreLocationPanel:function(){h&&h.each(function(a,c){var d=k(c);d.data("original-parent")&&(d.appendTo(d.data("original-parent")),d.removeData("original-parent"))});e.show();h=null},hasBreadcrumbs:function(a){if(!j.is(":visible"))return!1;var c=a.length,d=j.find("li");if(d.length!==c)return!1;for(var b=0;b<c;b++)if(d.eq(b).text()!==
a[b])return!1;return!0},showOpenInNewWindowCheckbox:function(a){g.closest(".row").toggleClass("hidden",!a)},encodeURLSafely:w}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-link-browser/link-browser-location","Confluence.Editor.LinkBrowser.LinkInfoPresenter");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-browser-tab-search.js' */
define("confluence-link-browser/link-browser-tab-search",["jquery","ajs","document","confluence/legacy","confluence/page-location"],function(d,b,n,i,o){return{dialogCreatedLinkBrowserSearch:function(n,j){var c,e,f,m,p=b.REST.getBaseUrl()+"search.json",k=function(a,b){i.Link.isLink(a)||(a=i.Link.fromREST(a));b&&c.val(a.attrs["data-linked-resource-default-alias"]);j.setLink(a,!0);j.focusLinkText()},l=function(a){b.debug("link-browser-tab-search.js: doing search");c.trigger("hide.autocomplete");var g=
d.trim(c.val());g?(f.loading(),b.getJSONWrap({url:p,data:{search:"site",query:g,spaceKey:e.val()},successCallback:function(b){d.isFunction(a)?(f.update(b.result),a()):f.updateAndSelect(b.result);c.trigger("hide.autocomplete")},messageHandler:m})):d.isFunction(a)&&a()};j.tabs.search={hasBreadcrumbs:!0,createPanel:function(a){var g=a.baseElement;c=g.find("#link-search-text");e=g.find("#search-panel-space");var h=o.get();e.find("option:eq(1)").text(h.spaceName).val(h.spaceKey);e.change(function(){c.attr("data-spacekey",
e.val());c.trigger("clearCache.autocomplete")});i.Binder.autocompleteSearch(c.parent());c.bind("selected.autocomplete-content",function(a,b){b.searchFor?l():(f.clear(),k(b.content,!1))});h=[b.SelectGrid.Column({key:"title",heading:"Title",getHref:function(a){return b.REST.findLink(a.link)},getInnerClass:function(a){return a.iconClass||"content-type-"+a.type}}),b.SelectGrid.Column({key:"space",heading:"Space",getText:function(a){return a.space&&
a.space.title||""}}),b.SelectGrid.Column({key:"last-modified",heading:"Last Modified",getText:function(a){return a.lastModifiedDate&&a.lastModifiedDate.friendly||""},getTitle:function(a){return a.lastModifiedDate&&a.lastModifiedDate.date||""}})];m=b.MessageHandler({baseElement:a.baseElement.find(".message-panel")});f=new b.ResultGrid({baseElement:a.baseElement,columns:h,selectionCallback:function(a,b){k(b)},noResultMessage:"No search results found.",
dontShiftFocus:function(){return d(c).add(e).is(":focus")}});g.find(".search-form").submit(function(){l();return!1}).keydown(function(a){13===a.keyCode&&!d(".aui-dropdown:visible .active",this).length&&(d("#search-panel-button").focus(),a.stopPropagation())})},onSelect:function(){b.debug("Link Browser Search panel selected");var a=this.openedLink;a?(b.debug("Link Browser Search panel setting link info"),k(a,!0)):c.focus()},handlesLink:function(a){return a.isCustomAtlassianContentLink()&&!a.hasAnchor()&&
!a.isShortcutLink()&&!a.isToAttachmentOnSamePage(b.Meta.get("content-id"))},doSearch:function(a,b){c.val(a);l(b)},isResultGridVisible:function(){return f.isVisible()},getSearchTextField:function(){return c}}}}});require("confluence/module-exporter").safeRequire("confluence-link-browser/link-browser-tab-search",function(d){require("ajs").bind("dialog-created.link-browser",d.dialogCreatedLinkBrowserSearch)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-browser-tab-history.js' */
define("confluence-link-browser/link-browser-tab-history",["ajs","confluence/legacy"],function(a,h){return{dialogCreatedLinkBrowserHistory:function(i,d){var e=a.REST.makeUrl("session/history.json?max-results=20"),f,g;d.tabs.recentlyviewed={createPanel:function(c){var e=[a.SelectGrid.Column({key:"title",heading:"Title",getHref:function(b){return a.REST.findLink(b.link)},getInnerClass:function(b){return b.iconClass||"content-type-"+b.type}}),a.SelectGrid.Column({key:"space",
heading:"Space",getText:function(b){return b.space&&b.space.title||""}}),a.SelectGrid.Column({key:"last-modified",heading:"Last Modified",getText:function(b){return b.lastModifiedDate&&b.lastModifiedDate.friendly||""},getTitle:function(b){return b.lastModifiedDate&&b.lastModifiedDate.date||""}})];g=a.MessageHandler({baseElement:c.baseElement.find(".message-panel")});f=new a.ResultGrid({baseElement:c.baseElement,
columns:e,getRowId:function(b){return b.attachmentId},selectionCallback:function(b,a){var c=h.Link.fromREST(a);d.setLink(c);d.focusLinkText()},messageHandler:g,noResultMessage:"You have no recently viewed content."})},onSelect:function(){f.loading();a.getJSONWrap({url:e,messageHandler:g,successCallback:function(c){f.update(c.content);a.trigger("updated.link-browser-recently-viewed")}})}}}}});
require("confluence/module-exporter").safeRequire("confluence-link-browser/link-browser-tab-history",function(a){require("ajs").bind("dialog-created.link-browser",a.dialogCreatedLinkBrowserHistory)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-browser-tab-attachment.js' */
define("confluence-link-browser/link-browser-tab-attachment",["jquery","ajs","confluence/legacy"],function(h,a,j){return{dialogCreatedLinkBrowserAttachment:function(m,i){var f=a.REST.makeUrl("content/"+a.Meta.get("attachment-source-content-id")+"/attachments.json"),g,k,l,d;i.tabs.attachments={hasBreadcrumbs:!1,createPanel:function(b,c){var e=b.baseElement.find(".attach-file-form");g=h.extend({getUploaderController:function(){return j.AttachmentUploader({baseElement:e},function(){return{onUploadSuccess:function(a){for(var b=
0,c=a.length;b<c;b++)a[b].type="attachment";d.prependAndSelect(a)}}})}},c&&c(b));k=g.getUploaderController(b);l=k.getMessageHandler();var f=[a.SelectGrid.Column({key:"title",heading:"Name",getHref:function(b){return b.link?a.REST.findLink(b.link):b.url},getInnerClass:function(a){return a.iconClass}}),a.SelectGrid.Column({key:"size",heading:"Size",getText:function(a){return a.niceFileSize}}),a.SelectGrid.Column({key:"comment",
heading:"Comment"})];d=new a.ResultGrid({baseElement:b.baseElement,columns:f,selectionCallback:function(b,c){var d=j.Link.fromREST(c);d.attrs["data-linked-resource-container-id"]=a.Meta.get("content-id");if(h.isArray(c.link))for(var e=0,f=c.link.length;e<f;e++){var g=c.link[e];"download"===g.rel&&(d.attrs.href=g.href)}i.setLink(d);i.focusLinkText()},noResultMessage:"There are no files on this page."})},onSelect:function(){var b=this.openedLink,c=i.getLink();
d.loading();a.getJSONWrap({url:f,messageHandler:l,successCallback:function(e){d.update(e.attachment);c?"attachment"==c.getResourceType()&&d.select(c.getResourceId()):b?d.select(b.getResourceId()):e.attachment.length&&d.select(e.attachment[0].id);a.debug("Loaded attachments")}})},handlesLink:function(b){return b.isToAttachmentOnSamePage(a.Meta.get("content-id"))}}}}});
require("confluence/module-exporter").safeRequire("confluence-link-browser/link-browser-tab-attachment",function(h){var a=require("ajs");"template"!==a.Meta.get("content-type")&&a.bind("dialog-created.link-browser",h.dialogCreatedLinkBrowserAttachment)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-browser-tab-weblink.js' */
define("confluence-link-browser/link-browser-tab-weblink",["ajs","jquery","confluence/legacy"],function(d,k,h){return{dialogCreatedLinkBrowserWeblink:function(n,c){function e(){return k.trim(b.val())}function f(){var a=e();if(!(d.Validate.url(a)||0===a.indexOf("mailto:"))){if(d.Validate.email(a))a="mailto:"+a;else{if(l.test(a))return;a="http://"+a}d.debug("Updating Link Browser Web Link URL to: "+a);b.val(a);a=h.Link.makeExternalLink(a);c.setLink(a)}}function i(){var a=e();(a=a?h.Link.makeExternalLink(a):
null)&&c.setLink(a)}function m(){f();i()}var b,g,j,l=/[:/]/;j=c.tabs.weblink={createPanel:function(a){g=a.baseElement;b=g.find("input[name='destination']");b.keyup(function(){i()});b.change(f);b.bind("paste",function(){d.debug("Link Browser web link url pasted");setTimeout(m,0)})},onSelect:function(){d.DarkFeatures.isEnabled(c.OPEN_IN_NEW_WINDOW_DARK_FEATURE)&&c.showOpenInNewWindowCheckbox(!0);c.moveLocationPanel(g.find("form:first"));this.openedLink&&(j.setURL(this.openedLink.attrs.href),c.setLink(this.openedLink));
setTimeout(function(){b.focus()})},onDeselect:function(){c.restoreLocationPanel();c.showOpenInNewWindowCheckbox(!1)},preSubmit:f,handlesLink:function(a){return!a.isCustomAtlassianContentLink()},setURL:function(a){b.val(a);b.keyup();b.change()},getURL:e}}}});require("confluence/module-exporter").safeRequire("confluence-link-browser/link-browser-tab-weblink",function(d){require("ajs").bind("dialog-created.link-browser",d.dialogCreatedLinkBrowserWeblink)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'js/link-browser-tab-advanced.js' */
define("confluence-link-browser/link-browser-tab-advanced",["jquery","ajs","confluence/legacy","confluence/api/constants","confluence/meta"],function(g,e,l,m,i){return{dialogCreatedLinkBrowserAdvanced:function(p,d){var c,f,h,k,n=function(b){b=g(b);if(b.length){var a=b.find("a:first");a.length?a.hasClass("unresolved")?(b=a.attr("shortcut-key"),a=a.attr("data-space-key"),b?f.text(e.format("{0} is not a recognized shortcut",b)):a&&f.text(e.format("{0} is not a recognized space",
a))):(b=l.Link.fromNode(a[0],c.val()),d.setLink(b)):f.text("The markup provided is not valid link markup")}},o=function(b,a,c){e.debug("Error during conversion: textStatus = "+a+", errorThrown = "+c);f.text("An internal server error occurred")},j=d.tabs.advanced={createPanel:function(b){h=b.baseElement;c=h.find("input[name='advanced-link']");f=h.find("div[name='advanced-error']");h.find("form").keydown(function(a){13===a.keyCode&&!d.isSubmitButtonEnabled()&&a.preventDefault()});
c.keyup(function(){clearTimeout(k);f.text("");c.val()&&(k=setTimeout(function(){var a=c.val(),a=a.replace(/\[/g,"\\[").replace(/]/g,"\\]"),a={wiki:"["+a+"]",entityId:i.get("content-id"),spaceKey:i.get("space-key"),contextType:i.get("content-type")};g.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:m.CONTEXT_PATH+"/rest/tinymce/1/wikixhtmlconverter",data:g.toJSON(a),dataType:"text",success:n,error:o,timeout:1E4})},200))})},setLink:function(b){c.val(b);c.keyup();c.change()},getLink:function(){return c.val()},
onSelect:function(){e.DarkFeatures.isEnabled(d.OPEN_IN_NEW_WINDOW_DARK_FEATURE)&&d.showOpenInNewWindowCheckbox(!0);d.moveLocationPanel(h.find("form:first"));this.openedLink&&(this.openedLink.isShortcutLink()?j.setLink(this.openedLink.getShortcut()):this.openedLink.getResourceId()?j.setLink(this.openedLink.getDefaultAlias()):j.setLink("#"+this.openedLink.getAnchor()),d.setLink(this.openedLink));setTimeout(function(){c.focus()})},onDeselect:function(){d.restoreLocationPanel();d.showOpenInNewWindowCheckbox(!1)},
handlesLink:function(b){return b.isShortcutLink()||b.hasAnchor()}}}}});require("confluence/module-exporter").safeRequire("confluence-link-browser/link-browser-tab-advanced",function(g){require("ajs").bind("dialog-created.link-browser",g.dialogCreatedLinkBrowserAdvanced)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-link-browser:link-browser-resources', location = 'templates/link-browser.soy' */
// This file was automatically generated from link-browser.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.LinkBrowser.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.LinkBrowser == 'undefined') { Confluence.Templates.LinkBrowser = {}; }


Confluence.Templates.LinkBrowser.searchPanel = function(opt_data, opt_ignored) {
  return '<form class="aui search-form" onsubmit="return false;"><fieldset class="inline"><div class="search-input"><label for="link-search-text" id="linkSearch-label" class="assistive">' + soy.$$escapeHtml('Search') + '</label><input id="link-search-text" type="text" tabindex="0" class="text autocomplete-search" name="linkSearch" autocomplete="off" data-search-link-message="' + soy.$$escapeHtml('Search for \x26lsquo;{0}\x26rsquo;') + '"></div><select tabindex="0" class="search-space select" id="search-panel-space"><option value="">' + soy.$$escapeHtml('All content') + '</option><option value=""> </option></select><button type="submit" tabindex="0" class="aui-button" id="search-panel-button">' + soy.$$escapeHtml('Search') + '</button></fieldset></form><div class="message-panel hidden"></div><div id="search-results-table" class="data-table hidden"></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.LinkBrowser.searchPanel.soyTemplateName = 'Confluence.Templates.LinkBrowser.searchPanel';
}


Confluence.Templates.LinkBrowser.recentlyviewedPanel = function(opt_data, opt_ignored) {
  return '<div class="recently-viewed-panel"><div class="message-panel hidden"></div><div class="data-table"></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.LinkBrowser.recentlyviewedPanel.soyTemplateName = 'Confluence.Templates.LinkBrowser.recentlyviewedPanel';
}


Confluence.Templates.LinkBrowser.attachmentsPanel = function(opt_data, opt_ignored) {
  return '<div class="attach-file-form"><form method="post" enctype="multipart/form-data" id="attachments-attachfile-form" action="' + soy.$$escapeHtml("") + '/pages/attachfile.action" class="aui"><p>' + soy.$$escapeHtml('Link to a file that is attached to this page or attach a new one.') + '</p><div class="upload-field field-group"><label for="file_0">' + soy.$$escapeHtml('Upload file') + '</label><label id="fancy-file-upload" class="ffi" data-ffi-button-text="Browse"><input type="file" name="file_0" id="file_0"></label><input type="hidden" name="minorEdit_0" value="true"></div><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '" /></form><div class="upload-in-progress upload-field hidden">' + soy.$$escapeHtml('Upload in progress...') + '</div><div class="warning"><ul class="hidden message-panel"></ul></div></div><div class="message-panel hidden"></div><div id="attachments-table" class="attachment-list data-table"></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.LinkBrowser.attachmentsPanel.soyTemplateName = 'Confluence.Templates.LinkBrowser.attachmentsPanel';
}


Confluence.Templates.LinkBrowser.weblinkPanel = function(opt_data, opt_ignored) {
  return '<form class="aui" onsubmit="return false;"><div class="field-group"><label id="destination-label" for="weblink-destination">' + soy.$$escapeHtml('Address') + '</label><input type="text" tabindex="0" class="text" id="weblink-destination" name="destination"><div class="web-link-desc description">' + soy.$$escapeHtml('Web, email or any other internet address') + '</div></div></form>';
};
if (goog.DEBUG) {
  Confluence.Templates.LinkBrowser.weblinkPanel.soyTemplateName = 'Confluence.Templates.LinkBrowser.weblinkPanel';
}


Confluence.Templates.LinkBrowser.advancedPanel = function(opt_data, opt_ignored) {
  return '<form class="aui" onsubmit="return false;"><div class="advanced-desc title">' + soy.$$filterNoAutoescape(AJS.format('Here you can insert a link into the page using \x3ca href\x3d\x22{0}\x22 target\x3d\x22_blank\x22\x3ewiki markup\x3c/a\x3e.',"https://docs.atlassian.com/confluence/docs-92/Links")) + '</div><div class="field-group"><label id="advanced-label" for="advanced-link">' + soy.$$escapeHtml('Link') + '</label><input type="text" tabindex="0" class="text" id="advanced-link" name="advanced-link"><div class="advanced-desc description">' + soy.$$escapeHtml('To insert a link to a new page, type in the desired page title.') + '<br/>' + soy.$$escapeHtml('To insert an anchor link, type #anchorname.') + '</div><div name="advanced-error" class="advanced-error error"></div></div></form>';
};
if (goog.DEBUG) {
  Confluence.Templates.LinkBrowser.advancedPanel.soyTemplateName = 'Confluence.Templates.LinkBrowser.advancedPanel';
}


Confluence.Templates.LinkBrowser.locationPanel = function(opt_data, opt_ignored) {
  return '<div id="link-browser-location" class="location-info"><form class="aui"><div class="row hidden field-group"><label class="link-location-label" for="breadcrumbs-link">' + soy.$$escapeHtml('Link location') + '</label><div class="breadcrumbs-container" id="breadcrumbs-link"><div class="breadcrumbs-line"><ol id="breadcrumbs-container" class="breadcrumbs"></ol></div></div></div></form><div class="row link-text"><form class="aui" onsubmit="return false;"><div class="field-group"><label for="alias" id="alias-label">' + soy.$$escapeHtml('Link text') + '</label><input type="text" tabindex="0" class="text" name="alias" id="alias"></div></form></div><div class="row link-open-in-new-window hidden"><div class="field-group"><div class="checkbox"><input type="checkbox" class="checkbox" name="open-in-new-window" tabindex="0" id="link-open-in-new-window"><label for="link-open-in-new-window" id="open-window-label">' + soy.$$escapeHtml('Open in new tab/window') + '</label></div></div></div><div class="row link-image hidden"><div class="readonly"><label for="link-image-filename">' + soy.$$escapeHtml('Link image') + '</label><span id="link-image-filename" class="content-type-attachment-image"></span></div></div><div class="row link-mixed hidden"><div class="readonly"><label for="link-mixed-content">' + soy.$$escapeHtml('Link text') + '</label><span id="link-mixed-content"></span></div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.LinkBrowser.locationPanel.soyTemplateName = 'Confluence.Templates.LinkBrowser.locationPanel';
}


Confluence.Templates.LinkBrowser.helpLink = function(opt_data, opt_ignored) {
  return '<div class="dialog-help-link"><a href="' + soy.$$escapeHtml("https://docs.atlassian.com/confluence/docs-92/Links") + '" target="_blank">' + soy.$$escapeHtml('Help') + '</a></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.LinkBrowser.helpLink.soyTemplateName = 'Confluence.Templates.LinkBrowser.helpLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-create-content-plugin:editor-resources', location = 'com/atlassian/confluence/plugins/createcontent/js/move-hidden-fields-hack.js' */
AJS.toInit(function(a){a("fieldset.create-content-template-fields \x3e input").appendTo("form.editor")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-macro-browser-resources', location = 'com/atlassian/confluence/plugins/createcontent/js/create-from-template-macro-fields.js' */
AJS.toInit(function(g){function k(a,b){a=a||AJS.Meta.get("space-key");Confluence.Blueprint.Dialog.requestWebItems(a,!1,function(e){var f=Confluence.Blueprint.Dialog.loadedWebitems[a];_.isEmpty(f)?AJS.log("create-from-template-macro-fields: No Create dialog web items found for spaceKey \x3e"+a+"\x3c"):b(e,f)},function(){AJS.error("create-from-template-macro-fields: requestWebItems call for spaceKey \x3e"+a+"\x3c failed")})}function h(a,b){k(b,function(e,f){e=a.val();a.empty();_.each(f,function(c){var d=
c.itemModuleCompleteKey;"com.atlassian.confluence.plugins.confluence-create-content-plugin:create-blank-page"!==d&&"com.atlassian.confluence.plugins.confluence-create-content-plugin:create-blog-post"!==d&&(c.templateId||c.contentBlueprintId)&&(d=g("\x3coption\x3e\x3c/option\x3e").text(c.name),d.attr("data-template-id",c.templateId),d.attr("data-blueprint-module-complete-key",c.blueprintModuleCompleteKey),d.attr("data-content-blueprint-id",c.contentBlueprintId),d.attr("data-create-result",c.createResult),
d.val(c.templateId||c.contentBlueprintId),a.append(d))});a.val(e)})}AJS.MacroBrowser.setMacroJsOverride("create-from-template",{fields:{spacekey:{spaceKey:function(a){var b=AJS.MacroBrowser.ParameterFields.spacekey(a),e=b.input.val();a=function(){var f=b.input.val();f!=e&&h(AJS.MacroBrowser.fields.templateName.input,f);e=f};b.input.bind("selected.autocomplete-content",a);b.input.blur(a);return b}}},beforeParamsSet:function(a,b){a.buttonLabel=a.buttonLabel||a.createButtonLabel||"Create from template";
h(g("#macro-param-templateName"),a.spaceKey);return a},beforeParamsRetrieved:function(a,b,e){b=AJS.MacroBrowser.fields.templateName.input.find("option:selected");a.blueprintModuleCompleteKey=b.data("blueprint-module-complete-key");a.contentBlueprintId=b.data("content-blueprint-id");a.templateId=b.data("template-id");a.createResult=b.data("create-result");return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-image-attributes:soy-resources', location = 'soy/image-attributes-panel.soy' */
// This file was automatically generated from image-attributes-panel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Editor.ImageAttributes.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Editor == 'undefined') { Confluence.Templates.Editor = {}; }
if (typeof Confluence.Templates.Editor.ImageAttributes == 'undefined') { Confluence.Templates.Editor.ImageAttributes = {}; }


Confluence.Templates.Editor.ImageAttributes.content = function(opt_data, opt_ignored) {
  return '<form class="aui" onsubmit="return false;"><div class="field-group"><label for="image-title-attribute">' + soy.$$escapeHtml('Image caption') + '</label><input class="text" type="text" id="image-title-attribute" name="image-title-attribute" value="' + ((opt_data.imgTitle) ? soy.$$escapeHtml(opt_data.imgTitle) : '') + '"></div><div class="field-group"><label for="image-alt-attribute">' + soy.$$escapeHtml('Alt text') + '</label><input class="text" type="text" id="image-alt-attribute" name="image-alt-attribute" value="' + ((opt_data.imgAlt) ? soy.$$escapeHtml(opt_data.imgAlt) : '') + '"><div class="description">' + soy.$$escapeHtml('Describes image for screen readers and when image can\x27t be shown') + '</div></div></form>';
};
if (goog.DEBUG) {
  Confluence.Templates.Editor.ImageAttributes.content.soyTemplateName = 'Confluence.Templates.Editor.ImageAttributes.content';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-image-attributes:image-attributes', location = 'js/image-attributes-panel.js' */
define("confluence-image-attributes/image-attributes-panel",["jquery","ajs","confluence/legacy"],function(f,k,h){return function(){function l(){var a=b.val(),g=d,m=g.attr,c=d.attr("data-location");m.call(g,{"data-element-title":a,title:c&&0<c.length&&a&&0<a.length?c+" ("+a+")":c&&0<c.length?c:a&&0<a.length?"("+a+")":"",alt:e.val()})}function n(){b.val()===e.val()&&(b.bind("input.chained",function(a){e.val(b.val())}),e.on("change",function(){b.unbind("input.chained")}))}k.bind("dialog-created.image-properties",
function(a,g){d=f(g.img);a=f(h.Templates.Editor.ImageAttributes.content({imgTitle:d.attr("data-element-title"),imgAlt:d.attr("alt")}));b=a.find("#image-title-attribute");e=a.find("#image-alt-attribute");n();h.Editor.ImageProps.registerPanel(p,a,q,l)});var p="image-attributes",q="image-attributes-panel",d,b,e}});require("confluence/module-exporter").safeRequire("confluence-image-attributes/image-attributes-panel",function(f){require("ajs").toInit(f)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:property-panel-image-link-macro-conf-frontend', location = 'utils/tinymce-image-utils.js' */
define("confluence-editor/utils/tinymce-image-utils","jquery confluence/api/logger confluence/meta ajs tinymce confluence/api/constants".split(" "),function(d,m,n,j,o,r){var p=["imagetext","src","align","border","width","height"],s=/\/download\/(thumbnails|attachments)\/([0-9]+)\//,q=function(a,b,f,c,e){if(c){a.width=b>=e?e:b;a.style.maxWidth=""}else{a.height=f>=e?e:f;a.style.maxHeight=""}},k;k={isScaledByWidth:function(){return false},updateImageElement:function(a,b){var f=d(a),c;c=b.destination;
c=k.isRemoteImg(c)?c:b.thumbnail?c.replace("/attachments/","/thumbnails/"):c.replace("/thumbnails/","/attachments/");b.src=c;f.toggleClass("confluence-content-image-border",!!b.border);f.toggleClass("confluence-thumbnail",!!b.thumbnail);c=0;for(var e=p.length;c<e;c++){var h=p[c],g=b[h];g!==false&&g!=null?f.attr(h,g):f.removeAttr(h)}o.activeEditor.undoManager.add()},insertFromProperties:function(a,b){d.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:r.CONTEXT_PATH+"/rest/tinymce/1/embed/placeholder/image",
data:d.toJSON(a),dataType:"text",success:function(a){k.insertImagePlaceholder(a,b)}})},insertImagePlaceholder:function(a,b){var f,c=k.isScaledByWidth(),e=d(a);f=c?j.Confluence.PropertyPanel.Image.getPresetImageSize("large"):n.get("content-type")==="comment"?j.Confluence.PropertyPanel.Image.getPresetImageSize("small"):j.Confluence.PropertyPanel.Image.getPresetImageSize("medium");e.css(c?"max-width":"max-height",f+"px");var h=o.activeEditor,g="_"+ +new Date,i=d("<div></div>").append(e.attr("id",g));
h.selection.setContent(i.html());var l=h.dom.get(g);h.dom.setAttrib(l,"id","");if(!e.hasClass("confluence-external-resource")){g=e.attr("data-image-width");i=e.attr("data-image-height");if(g===void 0&&i===void 0){g=e.attr("width");i=e.attr("height")}q(l,g,i,c,f);this.updateThumbnailAttribute(l)}d(l).one("load",function(){e.hasClass("confluence-external-resource")&&q(this,this.width,this.height,c,f);j.Rte.showSelection(function(){b||j.trigger("trigger.property-panel",{elem:l});h.undoManager.add()});
h.dispatch("Change")})},updateThumbnailAttribute:function(a){var b=a.width,f=a.height;if(b||f){var c=d(a),e=c.attr("data-image-width"),h=c.attr("data-image-height"),g=n.get("max-thumb-width"),i=n.get("max-thumb-height"),a=!this.isRemoteImg(a.src)&&this.isThumbnailUsable(b,f,e,h,g,i);c.attr("thumbnail",a);c.toggleClass("confluence-thumbnail",a)}},isRemoteImg:function(a){var b=j.Rte.getCurrentBaseUrl();return a.match("(https?://)")&&a.indexOf(b)===-1},isThumbnailUsable:function(a,b,f,c,e,d){if(a){if(a>
e)return false;if(f===void 0&&c===void 0)return true;e=f/c;return e>=1?true:e*d>=a}a=b;if(a>d)return false;if(f===void 0&&c===void 0)return true;d=c/f;return d>=1?true:d*e>=a}};return{ImageProperties:function(a){if(a&&d.nodeName(a,"img")&&d(a).hasClass("confluence-embedded-image")){var b=d(a),a={title:b.attr("data-element-title"),destination:b.attr("src"),url:b.attr("src"),border:b.attr("class")&&b.attr("class").indexOf("confluence-content-image-border")!==-1?1:0,width:b.prop("width"),height:b.prop("height"),
originalSelected:!b.attr("width")&&!b.attr("height")};if(!k.isRemoteImg(a.destination)&&!d(b).hasClass("confluence-external-resource")){var f=a;var b=d(b).attr("src"),c=b.match(s);if(c&&c.length===3)b=c[2];else{m.log("ERROR: could not parse page id from image url "+b);b="0"}f.pageId=b}return d.extend({},a)}if(a.destination){a.imageFileName=a.imageFileName||a.destination;return d.extend({},a)}return null},ImageUtils:k}});
require("confluence/module-exporter").safeRequire("confluence-editor/utils/tinymce-image-utils",function(d){var m=require("tinymce");m.confluence.ImageProperties=d.ImageProperties;m.confluence.ImageUtils=d.ImageUtils});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:property-panel-image-link-macro-conf-frontend', location = 'tinymce3/plugins/propertypanel/js/property-panel-links.js' */
define("confluence-editor/tinymce3/plugins/propertypanel/js/property-panel-links",["ajs","jquery","confluence/legacy","tinymce","window"],function(a,e,i,k,j){var h=0;return{name:"link",canHandleElement:function(a){return a.is("a")&&"#"!=a.attr("href")&&!a.hasClass("unresolved")},handle:function(f){var c=f.containerEl,g=f.ed,b=function(c){return a.Rte.getEditor().translate(c)},f={anchorIframe:a.Rte.getEditorFrame()},d=0===(c.getAttribute("href")||"").indexOf("#"),b=[{className:"link-property-panel-goto-button",
text:b("propertypanel.links_goto"),tooltip:d?b("propertypanel.links_goto_disabled_tooltip"):c.href,href:c.href,disabled:d,click:function(){a.Confluence.PropertyPanel.destroy();var b=j.open(c.href,"confluence-goto-link-"+a.params.pageId+"-"+h);b.focus();b.opener=null}},{className:"link-property-panel-edit-button",text:b("propertypanel.links_edit"),tooltip:b("propertypanel.links_edit_tooltip"),disabled:e(c).hasClass("createlink")||!c.href,click:function(){a.Confluence.PropertyPanel.destroy();g.selection.select(c);
i.Editor.LinkBrowser.open()}},{className:"link-property-panel-unlink-button",text:b("propertypanel.links_unlink"),tooltip:b("propertypanel.links_unlink_tooltip"),click:function(){a.Confluence.PropertyPanel.destroy();g.execCommand("mceConfUnlink",!1,c);g.focus()}}],d=[];a.trigger("link-property-panel-buttons.created",{buttons:d,link:c});b=b.concat(d);a.Confluence.PropertyPanel.createFromButtonModel(this.name,c,b,f);h++}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/tinymce3/plugins/propertypanel/js/property-panel-links","AJS.Confluence.PropertyPanel.Link",function(a){var e=require("ajs");e.bind("init.rte",function(){e.trigger("add-handler.property-panel",a)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:property-panel-image-link-macro-conf-frontend', location = 'tinymce3/plugins/propertypanel/js/property-panel-macros.js' */
define("confluence-editor/tinymce3/plugins/propertypanel/js/property-panel-macros","ajs tinymce jquery confluence/legacy document confluence/macro-js-overrides underscore".split(" "),function(b,m,d,s,n,t,u){var o=[],p=[],l={},k="__PROPERTY_PANEL_SPACER",v=[{key:k}];return{name:"macro",registeredEvents:o,canHandleElement:function(a){return a.hasClass("editor-inline-macro")||a.hasClass("wysiwyg-macro")},handle:function(a){function i(){var c="macro-placeholder-property-panel-remove-button";e.length>
0&&e[e.length-1].key==k&&(c=c+" first");h.push({className:c,text:"Remove",click:function(){b.Confluence.PropertyPanel.destroy();b.Rte.getEditor().execCommand("mceConfRemoveMacro",j)},ariaLabel:"Remove"});if(g.attr("data-macro-parameters")){var a=s.MacroParameterSerializer.deserialize(g.attr("data-macro-parameters"));if("atlassian-macro-output-type"in a){c=function(c){return function(b){a["atlassian-macro-output-type"]=c;g.attr("data-macro-parameters",
s.MacroParameterSerializer.serialize(a));c=="INLINE"?d(".macro-placeholder-property-panel-display-newline-button").removeClass("active"):d(".macro-placeholder-property-panel-display-inline-button").removeClass("active");d(b).addClass("active")}};h.push(null);h.push({className:"macro-placeholder-property-panel-display-newline-button",tooltip:"Display on new line",selected:a["atlassian-macro-output-type"]=="BLOCK",click:c("BLOCK")});h.push({className:"macro-placeholder-property-panel-display-inline-button",
tooltip:"Display inline",selected:a["atlassian-macro-output-type"]=="INLINE",click:c("INLINE")})}}d.each(o,function(){(!this.macroName||this.macroName==f)&&d(n).bind(q(this.id,this.macroName),this.handler)});c=p;f&&l[f]&&(c=c.concat(l[f]));d.each(c,function(){try{this(j,h,w)}catch(c){b.debug("Property panel init handler failed for : "+f+".  Is global handler : "+(d.inArray(this,p)>-1),c)}});if(h.length>0){var c=b.Confluence.PropertyPanel.createFromButtonModel("macro",
j,h,w),x=t.getFunction(f,"propertyPanelIFrameInjector");x&&x(c)}}if(!(a.e.type!=="click"&&a.e.type!=="mouseup")){var j=a.containerEl,g=d(j),f,e=[],a=!g.hasClass("editor-inline-macro"),y=!g.hasClass("wysiwyg-unknown-macro"),h=[],w={originalHeight:a&&g.height(),anchorIframe:b.Rte.getEditorFrame()},q=function(c,a){return c+"-button-click"+(a?a+".macro":"")+".property-panel"};if(y){var r=d.Deferred();f=g.attr("data-macro-name");if(b.MacroBrowser.getMacroMetadata(f))e=b.MacroBrowser.getMacroMetadata(f).buttons;
(a=t.getFunction(f,"getControls"))?a(function(a){var b=e,a=u.filter(a,function(a){return a.type==="button"}),a=u.map(a,function(a){return{key:a.key,label:a.name.value}});e=b.concat(v).concat(a).concat(v);r.resolve()}):r.resolve();r.done(function(){var a="macro-placeholder-property-panel-edit-button";e.length>0&&e[0].key==k&&(a=a+" last");h.push({className:a,text:"Edit",click:function(){b.Confluence.PropertyPanel.destroy();m.confluence.macrobrowser.editMacro(g)},
ariaLabel:"Edit"});d.each(e,function(a,c){if(c.key!=k){var i="macro-property-panel-"+c.key;a>0&&e[a-1].key==k&&(i=i+" first");a<e.length-1&&e[a+1].key==k&&(i=i+" last");h.push({className:i,text:c.label,parameterName:c.key,click:function(){d(n).trigger(q(c.key),g);d(n).trigger(q(c.key,f),g);b.Confluence.PropertyPanel.destroy()}})}})}).then(i())}else i()}},registerButtonHandler:function(a,b,d){Array.isArray(a)||(a=[a]);a.forEach(function(a){o.push({id:a,handler:b,
macroName:d})})},registerInitHandler:function(a,b){if(b){l[b]=l[b]||[];l[b].push(a)}else p.push(a)},yieldButtonFor:function(a,b){var j;d.each(a,function(){this.parameterName&&this.parameterName==b&&(j=this)});return j}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/tinymce3/plugins/propertypanel/js/property-panel-macros","AJS.Confluence.PropertyPanel.Macro",function(b){var m=require("ajs");m.bind("init.rte",function(){m.trigger("add-handler.property-panel",b)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:property-panel-image-link-macro-conf-frontend', location = 'tinymce3/plugins/propertypanel/js/property-panel-images.js' */
define("confluence-editor/tinymce3/plugins/propertypanel/js/property-panel-images","jquery ajs tinymce confluence-editor/utils/tinymce-image-utils confluence/meta confluence/legacy confluence/api/browser confluence/property-panel confluence/api/event".split(" "),function(f,j,K,L,z,A,M,h,m){function B(){var a=[];f.each(v,function(b,c){a.push(c)});h.current.panel.find(a.join(", ")).removeClass("active")}function C(){return f("#image-caption-input").val().replace(/\n/g," ")}function r(a,b,c){var f=D(a,
b),c=D(a,c),d=f||c;if(d){var g=h.getAnchor(),e=g.width(),g=g.height(),i=z.get("max-thumb-width"),j=z.get("max-thumb-height");a.thumbnail=k.isRemoteImg(a.destination)?false:k.isThumbnailUsable(f,c,e,g,i,j);a.originalSelected=false;if(b){delete a.height;a.width=d}else{delete a.width;a.height=d}o(a);B();return true}return false}function E(a,b){if(w?r(a,p[b]):r(a,null,p[b])){F(b);o(a);return true}return false}function G(a){delete a.width;delete a.height;a.thumbnail=false;a.originalSelected=true;B();F("original");
var b=h,c=b.getAnchor();b.current.updating=true;c.one("load",function(){l(b);s(a);x(a);a.width=Math.floor(c.width());a.height=Math.floor(c.height())});k.updateImageElement(c,a);c.each(function(){this.complete&&f(this).trigger("load")});return true}function F(a){h.current.panel.find(v[a]).addClass("active")}function H(a){f(".image-border-toggle").toggleClass("active",!a.border);a.border=+!a.border||false;o(a)}function s(a){a=a.width?a.width:h.getAnchor().width();a=Math.floor(a);f("#image-size-input").val(a+
"px")}function x(a){f("#image-caption-input").val(a.title)}function o(a){var b=h,c=b.getAnchor(),f=c.attr("src"),d=c.height();b.current.updating=true;k.updateImageElement(c,a);if(a.src!=f){var g=setInterval(function(){var a=c.height();if(a!=d){j.debug("updateImageElement : height changed after image src change - "+d+" to "+a);clearTimeout(g);g=null;l(b)}},10);setTimeout(function(){if(g){clearTimeout(g);g=null;l(b)}},1E3)}else l(b);s(a);x(a)}function D(a,b){b=parseInt(b);if(!isNaN(b)){b<I?b=I:b>J&&
(b=J);return b}return null}var k=L.ImageUtils,w=k.isScaledByWidth(),p;p=w?{small:100,medium:300,large:500}:{small:150,medium:250,large:400};var v={small:".image-size-small",medium:".image-size-medium",large:".image-size-large",original:".image-size-original"},I=16,J=9E4,l=function(a){a.current.updating=false;a.current.snapToElement({animate:true,animateDuration:100})};return{_resizeImage:r,pluginButtons:[],name:"image",getPresetImageSize:function(a){return p[a]},canHandleElement:function(a){return a.is("img")&&
!a.hasClass("editor-inline-macro")&&!a.hasClass("template-variable")},handle:function(a){function b(a){var b=C(),c,e=h.getAnchor()[0];c=e.getAttribute("data-element-title");if(b!==c){m.trigger("analyticsEvent",{name:"confluence.editor.image.caption.change"});e.setAttribute("data-element-title",b);c=e.getAttribute("data-location")||"";b?e.setAttribute("title",c+" ("+b+")"):e.setAttribute("title",c)}d.title=C();if(!a){r(d,f("#image-size-input").val())||s(d);m.trigger("analyticsEvent",{name:"confluence.editor.image.resize.custom"})}}
function c(){(document.activeElement===t[0]||document.activeElement===y[0])&&b();m.unbind("destroyed.property-panel",c)}var n;n=a.nodeName==="IMG"?a:a.containerEl;var a=f(n),d=K.confluence.ImageProperties(n);if(d&&!a.attr("data-resource-id")){var g=j.Rte.getEditor(),e=function(a){return g.translate(a)},i=function(a){return{className:["image-size-"+a,"editor-resize","resize-"+a].join(" "),text:e("propertypanel.images_"+a),tooltip:e("propertypanel.images_"+a+"_tooltip"),iconClass:"aui-icon aui-icon-small aui-iconfont-image-resize",
click:function(){E(d,a);m.trigger("analyticsEvent",{name:"confluence.editor.image.resize."+a})},selected:w?d.width==p[a]:d.height==p[a]}},i=[{isFooter:true,className:"editable textarea",tooltip:e("propertypanel.images_caption_tooltip"),html:'<textarea placeholder="'+e("propertypanel.images_caption_placeholder")+'" id="image-caption-input"/>'},{className:"editable",tooltip:e("propertypanel.images_sizing_tooltip"),html:'<input id="image-size-input"/>'},null,i("small"),i("medium"),i("large"),{className:"image-size-original",
text:e("propertypanel.images_original"),tooltip:e("propertypanel.images_original_tooltip"),click:function(){G(d);m.trigger("analyticsEvent",{name:"confluence.editor.image.resize.original"})},selected:d.originalSelected},null,{className:"image-border-toggle",text:e("propertypanel.images_border"),tooltip:e("propertypanel.images_border_tooltip"),click:function(){H(d)},selected:d.border||d.border==1}];i.push(null);var k=a.parent();if(k.is("a[href]")){i.push({className:"image-link-edit",text:e("propertypanel.images_link_edit"),
tooltip:e("propertypanel.images_link_edit_tooltip"),click:function(){h.destroy();g.selection.select(k[0]);A.Editor.LinkBrowser.open()}});i.push({className:"image-link-remove",text:e("propertypanel.images_link_remove"),tooltip:e("propertypanel.images_link_remove_tooltip"),click:function(){h.destroy();g.execCommand("mceConfUnlink",false,n);g.focus()}})}else i.push({className:"image-make-link",text:e("propertypanel.images_link_create"),tooltip:e("propertypanel.images_link_create_tooltip"),iconClass:"aui-icon aui-icon-small aui-iconfont-link",
click:function(){h.destroy();g.selection.select(n);A.Editor.LinkBrowser.open()}});for(var l=h.Image.pluginButtons,u=0;u<l.length;u++)if(l[u]===null)i.push(null);else{var o=l[u].create(a);o&&i.push(o)}h.createFromButtonModel(this.name,n,i,{anchorIframe:j.Rte.getEditorFrame()});var t=f("#image-size-input"),y=f("#image-caption-input");t.bind("focus",function(){f(this).select()});y.keydown(function(a){if(a.key==="Enter"){a.preventDefault();b(true);h.destroy()}});t.bind("change",function(){b()});y.bind("input",
function(){b(true)});m.bind("destroyed.property-panel",c);(new M(window.navigator.userAgent)).isIE()&&t.bind("keyup",function(a){a.keyCode===13&&b()});h.current.imageProps=d;s(d);x(d);var q=d;return{setPresetSize:function(a){E(q,a)},setPixelSize:function(a){r(q,a)},setToOriginalSize:function(){G(q)},toggleBorder:function(){H(q)},getWidth:function(){return q.width},getHeight:function(){return q.height},getDisplayWidth:function(){return f("#image-size-input").val()},isButtonSelected:function(a){return h.current.panel.find(v[a]).hasClass("active")}}}}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/tinymce3/plugins/propertypanel/js/property-panel-images","AJS.Confluence.PropertyPanel.Image",function(f){var j=require("ajs");j.bind("init.rte",function(){j.trigger("add-handler.property-panel",f)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:property-panel-image-link-macro-conf-frontend', location = 'tinymce3/plugins/imageproperties/js/image-properties-dialog.js' */
define("confluence-editor/tinymce3/plugins/imageproperties/js/image-properties-dialog",["jquery","ajs"],function(d,a){function l(){h||(h=d("#image-properties-tab-items > div").map(function(){var a=d(this);return{key:a.text(),weight:a.attr("data-weight"),label:this.title}}).sort(function(a,b){return a.weight-b.weight}));return h}function m(){var a=c.popup.element,b=650/60,e=d('<div class="image-properties-loading-blanket"><div class="loading-data"></div></div>').appendTo(a.find(".dialog-page-body")),
f=e.find(".loading-data");e.css({width:e.parent().width(),height:a.height()});f.css({marginTop:-60,marginLeft:-60});f.spin({color:'var("--ds-text", #666)',width:b,radius:25,length:25,top:0,left:0,zIndex:0,speed:1.042});var a=[],g;for(g in i)b=i[g],(b=b.saveFn&&b.saveFn())&&b.done&&a.push(b);d.when.apply(d,a).done(function(){var a=c.popup.element.find(".image-properties-loading-blanket .loading-data");a.css({marginTop:"",marginLeft:""});a.spinStop();a.closest(".image-properties-loading-blanket").remove();
c.hide().remove()})}function o(){c.hide().remove()}var c,h,i={},n;return{init:function(){n||(h=null,0<l().length&&(n=!0,a.Confluence.PropertyPanel.Image.pluginButtons.push(null,{create:function(){return{className:"image-properties",text:"Properties",tooltip:"Set additional image properties",click:function(h,b){a.trigger("analyticsEvent",{name:"confluence.editor.image-properties-trigger"});a.Confluence.PropertyPanel.destroy();d("#image-properties-dialog").remove();
c=new a.ConfluenceDialog({id:"image-properties-dialog",onSubmit:m});a.trigger("dialog-created.image-properties",{img:b});c.popup.element.attr("data-tab-default","0");c.addHeader("Image properties");c.addSubmit("Save",m);c.addCancel("Cancel",o);for(var e=c,f=l(),g=0;g<f.length;g++){var j=f[g],k=i[j.key];k&&e.addPanel(j.label,k.content,k.panelClass,j.key)}1===f.length&&e.popup.element.find(".dialog-page-menu").show();
a.trigger("dialog-before-show.image-properties");c.show()}}}})))},registerPanel:function(a,b,c,d){i[a]={content:b,panelClass:c,saveFn:d}}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/tinymce3/plugins/imageproperties/js/image-properties-dialog","Confluence.Editor.ImageProps",function(d){var a=require("ajs");a.toInit(d.init);a.bind("quickedit.success",d.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-templates:template-editor-variables-resources', location = 'js/variable-manager.js' */
define("confluence-templates/variable-manager",["confluence/api/event","jquery"],function(f,g){function i(c,a){var b=c.toLocaleLowerCase(),d=a.toLocaleLowerCase(),b=b.localeCompare(d);0==b&&(b=c.localCompare(a));return b}function h(c){return g.extend(!0,{},e.defaults[c]||e.defaults.string)}var e=function(){var c={};return{find:function(a){var a=a.toLocaleLowerCase(),b={},d;for(d in c)if(c.hasOwnProperty(d)&&(!a.length||0===d.toLocaleLowerCase().indexOf(a)))b[d]=c[d];return b},contains:function(a){return!!c[a]},
get:function(a){return c[a]},getAll:function(){return g.extend(!0,{},c)},getSortedNames:function(){var a=[],b;for(b in c)a.push(b);return a.sort(i)},add:function(a,b){c[a]=b||h();f.trigger("add.confluence-variable",{name:a,details:g.extend(!0,{},b)})},del:function(a){var b=c[a];delete c[a];f.trigger("delete.confluence-variable",{name:a,details:g.extend(!0,{},b)})},rename:function(a,b){var d=c[a];delete c[a];d&&(c[b]=d,f.trigger("rename.confluence-variable",{oldName:a,newName:b,details:g.extend(!0,
{},details)}))},createDefault:h}};e.defaultVariableManager=e();e.defaults={textarea:{type:"textarea",rows:5,columns:100},list:{type:"list",options:[]},string:{type:"string"}};return e});"template"===AJS.Meta.get("content-type")&&require("confluence/module-exporter").safeRequire("confluence-templates/variable-manager",function(f){require("confluence/legacy").VariableManager=f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-templates:template-editor-variables-resources', location = 'js/variable-placeholder.js' */
define("confluence-templates/variable-placeholder",["ajs","jquery"],function(a,d){return{component:{insertPlaceholder:function(c,e){var b;b="$"+c;var f=a.Rte.getEditor();a.Rte.BookmarkManager.storeBookmark();b={title:b,src:a.Meta.get("context-path")+"/plugins/servlet/confluence/placeholder/template-variable?name="+encodeURIComponent(c),"data-variable-name":c,"class":"template-variable",alt:"$"+c};e&&d.extend(b,e);b=d("<img/>").attr(b);f.selection.setNode(b[0])}},init:function(){d(a.Rte.getEditor().getBody()).delegate("img.template-variable",
"dragstart",function(a){a.preventDefault()})}}});"template"===AJS.Meta.get("content-type")&&require("confluence/module-exporter").safeRequire("confluence-templates/variable-placeholder",function(a){require("confluence/legacy").VariablePlaceHolder=a.component;require("ajs").bind("init.rte",a.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-templates:template-editor-variables-resources', location = 'js/variable-toolbar.js' */
define("confluence-templates/variable-toolbar",["ajs","document","confluence/api/event","jquery","confluence/legacy"],function(e,k,h,f,c){return{init:function(){h.bind("init.rte",function(){var g=c.VariableManager.defaultVariableManager,a=f("#template-menu"),i=a.find(".variables-list");h.bind("add.confluence-variable,delete.confluence-variable,rename.confluence-variable",function(){var b=g.getSortedNames(),j=b.length,d="";i.toggleClass("hidden",!j);for(var a=0;a<j;a++)d+=c.Templates.Variables.renderVariableItem({variableName:"$"+
b[a],tooltip:e.format("Insert the \u0027\u0027{0}\u0027\u0027 field into the page for the template user to fill out.",b[a])});i.html(d)});a.delegate(".variables-list a","click",function(){var b=f(this).attr("data-variable-name");!g.contains(b)&&g.add(b);c.VariablePlaceHolder.insertPlaceholder(b)});a.delegate(".variables-add","click",function(b){var a=c.Editor.Autocompleter.Manager.getInputDrivenDropdown();e.Rte.getEditor().focus();(!a||a.inactive)&&c.Editor.Autocompleter.Manager.shortcutFired("$",!0);b.stopPropagation()});f(k).bind("showLayer",
function(b,c,d){"dropdown"===c&&d.$.closest(a).length&&d.reset()})})}}});"template"===AJS.Meta.get("content-type")&&require("confluence/module-exporter").safeRequire("confluence-templates/variable-toolbar",function(e){e.init()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-templates:template-editor-variables-resources', location = 'js/autocomplete-settings-variables.js' */
define("confluence-templates/autocomplete-settings-variables",["confluence/legacy","ajs"],function(d,c){return function(){function e(a,b){return{callback:function(c){c.replaceWithSelectedSearchText();!f.contains(a)&&f.add(a);d.VariablePlaceHolder.insertPlaceholder(a,b)},name:c.escapeHtml(a),href:"#"}}function i(a,b){return!a&&!b?0:!a?-1:!b?1:a.toLocaleLowerCase().localeCompare(b.toLocaleLowerCase())}var f=d.VariableManager.defaultVariableManager;return{ch:"$",cache:!1,endChars:[],dropDownDelay:0,
preventStartNodes:"",dropDownClassName:"autocomplete-variables",selectFirstItem:!0,getHeaderText:function(a,b){return b?"Variable suggestions":"Variable suggestions"},getAdditionalLinks:function(a,b){var e=d.unescapeEntities(b);return f.get(e)||0===b.length?[]:[{className:"dropdown-create-variable",href:"#",callback:function(a){var b=a.plainText();a.replaceWithSelectedSearchText();!f.contains(b)&&f.add(b);d.VariablePlaceHolder.insertPlaceholder(b,
void 0)},name:c.format("Create variable \u0027\u0027{0}\u0027\u0027",b)}]},getDataAndRunCallback:function(a,b,c){var g,k,a=d.unescapeEntities(b),j=f.find(a),h=[],l=[];for(g in j)j.hasOwnProperty(g)&&h.push(g);h.sort(i);a=0;for(k=h.length;a<k;a++)g=h[a],l.push(e(g,j[g]));c([l],b)},update:function(){}}}});
require("confluence/module-exporter").safeRequire("confluence-templates/autocomplete-settings-variables",function(d){var c=require("ajs"),e=require("confluence/legacy"),i=require("confluence/meta");c.bind("init.rte",function(){var c=require("tinymce");"template"===i.get("content-type")&&(e.Editor.Autocompleter||(e.Editor.Autocompleter=c.confluence.Autocompleter),e.Editor.Autocompleter.Settings.$=d())})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-templates:template-editor-variables-resources', location = 'js/property-panel-variables.js' */
define("confluence-templates/property-panel-variables",["ajs","jquery","confluence/legacy"],function(b,a,h){return{name:"variable",canHandleElement:function(a){return a.hasClass("template-variable")},handle:function(f){function l(d){b.debug("clicked type: "+d);var c=a("#property-panel");c.find(".panel-buttons").toggleClass("no-inputs","string"===d);c.find(".textarea-section,.list-section,.string-section").addClass("hidden");c.find("."+d+"-section").removeClass("hidden");"textarea"===d?(a("#variable-property-panel-textarea-rows").val(e.rows),
a("#variable-property-panel-textarea-columns").val(e.columns)):"list"===d&&a("#variable-property-panel-list-values").val(e.options.join(","))}function i(d,b,c){return{className:"variable-property-panel-type-item variable-property-panel-type-"+d,text:b,tooltip:c,selected:m===d,click:function(){e.type=d;e=j.createDefault(d);j.add(k,e);a(".variable-property-panel-type-item").removeClass("selected");a(".variable-property-panel-type-"+d).addClass("selected");l(d)}}}function g(a){return m===a?"":" hidden"}
if(!("click"!==f.e.type&&"mouseup"!==f.e.type)){var f=f.containerEl,n=a(f),k,c=[],o={originalHeight:n.height(),anchorIframe:b.Rte.getEditorFrame()};k=n.attr("data-variable-name");var j=h.VariableManager.defaultVariableManager,e=j.get(k),m=e&&e.type||"string";c.push(i("string","Text","Single line text input field."));c.push(i("textarea","Multi-line Text","Multi-line text input field."));
c.push(i("list","List","Drop down list."));c.push(null);c.push({className:"editable textarea-section"+g("textarea"),tooltip:"Number of rows to display for the field.",html:'<input id="variable-property-panel-textarea-rows"/>'});c.push({className:"variable-property-panel-textarea-split textarea-section"+g("textarea"),tooltip:"",html:"<span>x</span>"});c.push({className:"editable textarea-section"+
g("textarea"),tooltip:"Number of columns to display for the field.",html:'<input id="variable-property-panel-textarea-columns"/>'});c.push(null);c.push({className:"editable list-section"+g("list"),tooltip:"Enter each item for the list, separating each with a comma.",html:"<input id=\"variable-property-panel-list-values\" size='50'/>"});b.Confluence.PropertyPanel.createFromButtonModel("variable",f,c,o);l(e.type);a("#variable-property-panel-textarea-rows").change(function(){e.rows=
+a(this).val()||h.VariableManager.defaults.textarea.rows});a("#variable-property-panel-textarea-columns").change(function(){e.columns=+a(this).val()||h.VariableManager.defaults.textarea.columns});a("#variable-property-panel-list-values").change(function(){var d,b,c,f=a(this).val().split(",");e.options=[];d=0;for(b=f.length;d<b;d++)(c=a.trim(f[d]))&&e.options.push(c)});a("#variable-property-panel-textarea-rows,#variable-property-panel-textarea-columns,#variable-property-panel-list-values").keypress(function(b){13===
b.which&&a(this).blur()})}}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-templates/property-panel-variables","AJS.Confluence.PropertyPanel.Variable",function(b){var a=require("ajs");a.bind("init.rte",function(){a.trigger("add-handler.property-panel",b)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-templates:template-editor-variables-resources', location = 'js/variable-marshaller.js' */
define("confluence-templates/variable-marshaller",["ajs","jquery","confluence/legacy"],function(d,b,p){function q(c){var a=c.attr("data-variable-type");return"textarea"===a?{type:a,rows:+c.attr("data-variable-rows")||i,columns:+c.attr("data-variable-columns")||r}:"list"===a?{type:a,options:c.find("li").map(function(){return b(this).attr("data-variable-option")}).toArray()}:{type:"string"}}function m(){var c=b(d.Rte.getEditor().getBody()).find("img[data-variable-name]"),a={};b.map(c,function(c){var f=
{};b(c).attr("data-variable-raw-xhtml")&&(f={"data-variable-raw-xhtml":!0});a[b(c).attr("data-variable-name")]=f});return a}var i=5,r=100;return function(){function c(a){for(var b in a)a.hasOwnProperty(b)&&!f.contains(b)&&(d.debug("adding: ",b),f.add(b,a[b]))}var a=d.Rte.getEditor(),i=b(a.getBody()),f=p.VariableManager.defaultVariableManager;a.on("GetContent",function(a){if(!a.selection){var d=b("<div></div>"),i=b("<ul></ul>").attr("data-variable-declarations","true"),e;d.append(i);var n=m();c(n);
var o=f.getAll(),l;for(l in o)if(n.hasOwnProperty(l)){var j=l;e=o[l];var g=void 0,k=void 0,g=e.type,h=b("<li></li>");h.attr("data-variable-name",j);h.attr("data-variable-type",g);h.text(j);if("textarea"===g)h.attr("data-variable-rows",e.rows),h.attr("data-variable-columns",e.columns);else if("list"===g){g=b("<ul></ul>");j=void 0;for(j in e.options)k=e.options[j],k=b("<li></li>").text(k).attr("data-variable-option",k),g.append(k);h.append(g)}e=h;i.append(e)}a.content=d.html()+a.content}});a=i.find("ul[data-variable-declarations]");
a.remove();a.find("li[data-variable-name]").each(function(){var a=b(this);f.add(a.attr("data-variable-name"),q(a))});c(m())}});"template"===AJS.Meta.get("content-type")&&require("confluence/module-exporter").safeRequire("confluence-templates/variable-marshaller",function(d){require("ajs").bind("init.rte",d)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-templates:template-editor-variables-template-resources', location = 'js/variable-templates.soy' */
// This file was automatically generated from variable-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Variables.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Variables == 'undefined') { Confluence.Templates.Variables = {}; }


Confluence.Templates.Variables.renderVariableItem = function(opt_data, opt_ignored) {
  return '<li class="dropdown-item" data-tooltip="' + soy.$$escapeHtml(opt_data.tooltip) + '"><a href="#" class="item-link variable-item" title="' + soy.$$escapeHtml(opt_data.variableName) + '" data-variable-name="' + soy.$$escapeHtml(opt_data.variableName) + '">' + soy.$$escapeHtml(opt_data.variableName) + '</a></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.Variables.renderVariableItem.soyTemplateName = 'Confluence.Templates.Variables.renderVariableItem';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-resources', location = 'templates/mentions.soy' */
// This file was automatically generated from mentions.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Mentions.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Mentions == 'undefined') { Confluence.Templates.Mentions = {}; }


Confluence.Templates.Mentions.userNotFoundResult = function(opt_data, opt_ignored) {
  return '<div class="mention-error no-result">' + soy.$$escapeHtml('Sorry, we can\x27t find that person') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Mentions.userNotFoundResult.soyTemplateName = 'Confluence.Templates.Mentions.userNotFoundResult';
}


Confluence.Templates.Mentions.searchFailureResult = function(opt_data, opt_ignored) {
  return '<div class="mention-error search-failure"><div class="search-failure-title">' + soy.$$escapeHtml('Something went wrong') + '</div><div class="search-failure-body">' + soy.$$escapeHtml('We can\x27t fetch people right now. Try again in a few minutes.') + '</div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Mentions.searchFailureResult.soyTemplateName = 'Confluence.Templates.Mentions.searchFailureResult';
}


Confluence.Templates.Mentions.loadingPlaceholder = function(opt_data, opt_ignored) {
  return '<div class="mention-loading"><div class="avatar-placeholder"></div><div class="text-container"><div class="text-placeholder lg"></div><div class="text-placeholder sm"></div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Mentions.loadingPlaceholder.soyTemplateName = 'Confluence.Templates.Mentions.loadingPlaceholder';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-resources', location = '/js-target/bundle.js' */
define("confluence-mentions", ["ajs","confluence/meta","jquery","confluence/legacy","confluence/templates","confluence-editor/tinymce3/plugins/autocomplete/autocomplete-manager","tinymce","confluence/storage-manager","confluence/dark-features","confluence/analytics-support","confluence-link-browser/link-object","confluence-editor/tinymce3/plugins/autocomplete/autocomplete-settings"], function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_50__, __WEBPACK_EXTERNAL_MODULE_51__, __WEBPACK_EXTERNAL_MODULE_52__) { return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 20);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_0__;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports) {
    'use strict';

    exports.default = {
        CURRENT: 'current',
        RELATED: 'related',
        RECENT: 'recent',
        SERVER: 'server'
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_3__;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0), __webpack_require__(29), __webpack_require__(36), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs, _lruCache, _storageManager, _userSupplierKeys) {
    'use strict';

    var AJS = _interopRequireDefault(_ajs).default;

    var LRU = _interopRequireDefault(_lruCache).default;

    var StorageManager = _interopRequireDefault(_storageManager).default;

    var UserSupplier = _interopRequireDefault(_userSupplierKeys).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    /**
     * Returns users from a localstorage-backed LRU (least-recently-used) cache, and adds entries to that cache.
     */
    var inMemoryCache = void 0;
    var persistentCache = void 0;

    var CACHE_PREFIX = 'mentions';
    var CACHE_ID = 'recently-mentioned-users';
    var CACHE_ITEMS_KEY = 'items';

    /**
     * The maximum number of recently-mentioned users to keep in the cache.
     * @type {number}
     */
    var RECENT_USER_LIMIT = 20;
    /**
     * WaterTightValidation means that any users at or past this expiry _must_ be refreshed before being displayed in the UI.
     * @type {{expireTimeMillis: number}}
     */
    var WATERTIGHT_VALIDATION = { expireTimeMillis: 29 * 24 * 60 * 60 * 1000 }; //29 days in millis
    /**
     * EarlyValidation means that any users at or past this expiry _should_ be refreshed after the UI is completed (so as to not block users)
     * @type {{expireTimeMillis: number}}
     */
    var EARLY_VALIDATION = { expireTimeMillis: 7 * 24 * 60 * 60 * 1000 }; //7 days in millis
    /**
     * stores the enums used for calls to {getStaleUsers()}.
     * @type {{WATERTIGHT_VALIDATION: {expireTimeMillis: number}, EARLY_VALIDATION: {expireTimeMillis: number}}}
     */
    var ValidationType = { WATERTIGHT_VALIDATION: WATERTIGHT_VALIDATION, EARLY_VALIDATION: EARLY_VALIDATION };

    // Lazy-initialise to avoid interacting with localStorage when it isn't required.
    function loadCache() {
        inMemoryCache = LRU(RECENT_USER_LIMIT);
        persistentCache = new StorageManager(CACHE_PREFIX, CACHE_ID);

        var recentUsersDump = persistentCache.getItem(CACHE_ITEMS_KEY);
        if (recentUsersDump) {
            var recentUsersJson = JSON.parse(recentUsersDump);
            inMemoryCache.load(recentUsersJson);
        }
    }

    function getUsers() {
        return new Promise(function (resolve) {
            inMemoryCache || loadCache();

            // Add users with order of most-recently-mentioned first
            var users = [];
            var index = 0;
            inMemoryCache.forEach(function (user) {
                user.supplier = UserSupplier.RECENT;
                user.role = null;
                user.sortIndex = index++;
                users.push(user);
            });
            AJS.debug('Found ' + users.length + ' recently-mentioned users');
            resolve(users);
        });
    }

    /**
     * Store a recently-mentioned User in the cache.
     * @param user
     * @param refreshed {Boolean} true if the user is from the server. This will update the timestamp of the last refresh to now().
     *                            Defaults to false if not passed in.
     */
    function store(user, refreshed) {
        inMemoryCache || loadCache();
        var oldUser = inMemoryCache.peek(user.username);
        var oldRefreshDate = oldUser ? oldUser.refreshedAt || 0 : 0;
        var refreshedAt = refreshed || !oldUser ? new Date().getTime() : oldRefreshDate;
        inMemoryCache.set(user.username, Object.assign({}, user.model ? user.model : user, { timestamp: user.timestamp, refreshedAt: refreshedAt }));
        persistentCache.setItemQuietly(CACHE_ITEMS_KEY, JSON.stringify(inMemoryCache.dump()));
    }

    function remove(username) {
        inMemoryCache || loadCache();
        inMemoryCache.del(username);
        persistentCache.setItemQuietly(CACHE_ITEMS_KEY, JSON.stringify(inMemoryCache.dump()));
    }

    /**
     * A stale user is one which has not been refreshed from the server for X days or more, X being calculated from the validation type.
     * @param validationType {{expireTimeMillis: number}} an enum to flag what kind of stale users to return. Use a value from ValidationType
     * @return {Array} a list of stale usersnames (NOTE: not the user objects - just the usernames)
     */
    function getStaleUsers(validationType) {
        inMemoryCache || loadCache();
        var stale = [];
        var now = new Date().getTime();
        //use a hack to iterate the keys to prevent the LRU from changing the ordering
        var existingKeys = inMemoryCache.keys();
        existingKeys.map(function (k) {
            return [inMemoryCache.peek(k), k];
        }).forEach(function (entry) {
            var val = entry[0];
            var key = entry[1];
            if (!val.refreshedAt || now - val.refreshedAt > validationType.expireTimeMillis) {
                stale.push(key);
            }
        });
        return stale;
    }

    function refresh(users) {
        inMemoryCache || loadCache();
        users.forEach(function (user) {
            if (inMemoryCache.has(user.username)) {
                var entry = inMemoryCache.peek(user.username);
                var timestamp = entry.timestamp || 0;
                //treat no timestamp as though it is stale, and refresh it
                if (!user.timestamp || !timestamp || user.timestamp > timestamp) {
                    store(user, true);
                }
            }
        });
    }

    // Used in tests
    function _clear() {
        loadCache();
    }

    exports.default = {
        getUsers: getUsers,
        store: store,
        remove: remove,
        getStaleUsers: getStaleUsers,
        refresh: refresh,
        _clear: _clear,
        RECENT_USER_LIMIT: RECENT_USER_LIMIT,
        ValidationType: ValidationType
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 5 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0), __webpack_require__(7), __webpack_require__(14), __webpack_require__(41), __webpack_require__(48), __webpack_require__(17)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs, _userSupplierManager, _userCache, _pipelines, _executor, _scoreBooster) {
    'use strict';

    var AJS = _interopRequireDefault(_ajs).default;

    var userSupplierManager = _interopRequireDefault(_userSupplierManager).default;

    var UserCache = _interopRequireDefault(_userCache).default;

    var Pipelines = _interopRequireDefault(_pipelines).default;

    var PipelineExecutor = _interopRequireDefault(_executor).default;

    var ScoreBooster = _interopRequireDefault(_scoreBooster).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict";

    /**
     * The maximum number of Users that will be displayed in the Mentions dropdown.
     */
    var DISPLAY_LIMIT = 5;
    var NON_BREAKING_SPACE = String.fromCharCode(160);

    // The last query to be triggered, used when server responses return out of order and we need to skip the render of
    // stale responses.
    var latestQuery = void 0;

    /**
     *
     * @param {string}   query              User's query
     * @param {function} renderCallback     Callback function to render the results
     * @param {function} selectedUser       (optional) the currently-selected user in the dropdown
     * @param {object} editor               the currently-active editor
     */
    function searchAndRender(query, renderCallback, selectedUser, editor) {
        // Trim the query but don't convert to lowercase just yet - the ranker should handle this. (i.e. upper case
        // letters could be weighted higher in matches).
        // Note that 160 is the non-breaking-space character and is not handled by trim().
        // It IS handled by $.trim(str) but noooooo, noooooo.
        query = query.replace(NON_BREAKING_SPACE, ' ').trim();
        latestQuery = query;

        var promises = userSupplierManager.search(query, editor);

        promises.client.then(function () {
            resolveClientUsers();
            // Guarantee that server results are handled after local ones - chain the promises!
            promises.server.then(resolveServerUsers, renderErrorOnReject);
        }, renderErrorOnReject);

        function resolveClientUsers() {
            renderPipeline(UserCache.getAll(), query, renderCallback, selectedUser, false);
        }

        function resolveServerUsers() {
            // We could in future wrap the renderCallback so that if the server render would have the same values as the
            // client render, we skip it and avoid a browser repaint.
            renderPipeline(UserCache.getAll(), query, renderCallback, selectedUser, true);
        }

        function renderErrorOnReject() {
            var iterator = new PipelineExecutor(Pipelines.error(renderCallback));
            iterator.execute([]);
        }
    }

    function renderPipeline(users, query, renderCallback, selectedUser, isServerCall) {
        var context = {
            query: query,
            latestQuery: latestQuery,
            selectedUser: selectedUser,
            isServerCall: isServerCall,
            DISPLAY_LIMIT: DISPLAY_LIMIT
        };

        var pipeline = void 0;
        if (!query) {
            pipeline = Pipelines.default(renderCallback);
        } else {
            pipeline = isServerCall ? Pipelines.server(renderCallback) : Pipelines.client(renderCallback);
        }

        var executor = new PipelineExecutor(pipeline, context);
        executor.execute(users);
    }

    // Called during testing to clear caches.
    function reset() {
        userSupplierManager.reset();
        UserCache._clear();
        ScoreBooster.reset();
    }

    exports.default = {
        searchAndRender: searchAndRender,
        prefetchSuppliers: userSupplierManager.prefetchSuppliers,
        reset: reset
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(8), __webpack_require__(4), __webpack_require__(11), __webpack_require__(40), __webpack_require__(14)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _relatedUsersSupplier, _recentUsersSupplier, _serverUsersSupplier, _currentUserSupplier, _userCache) {
    'use strict';

    var RelatedUsersSupplier = _interopRequireDefault(_relatedUsersSupplier).default;

    var RecentUsersSupplier = _interopRequireDefault(_recentUsersSupplier).default;

    var ServerUsersSupplier = _interopRequireDefault(_serverUsersSupplier).default;

    var CurrentUserSupplier = _interopRequireDefault(_currentUserSupplier).default;

    var UserCache = _interopRequireDefault(_userCache).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var _slicedToArray = function () {
        function sliceIterator(arr, i) {
            var _arr = [];
            var _n = true;
            var _d = false;
            var _e = undefined;

            try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);

                    if (i && _arr.length === i) break;
                }
            } catch (err) {
                _d = true;
                _e = err;
            } finally {
                try {
                    if (!_n && _i["return"]) _i["return"]();
                } finally {
                    if (_d) throw _e;
                }
            }

            return _arr;
        }

        return function (arr, i) {
            if (Array.isArray(arr)) {
                return arr;
            } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
            } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
            }
        };
    }();

    "use strict";

    /**
     *
     * @param {string}   query              User's query
     * @param {object}   editor             the currently-active editor
     */
    function search(query, editor) {

        var serverUsersPromise = ServerUsersSupplier.getUsers(query);
        var relatedUsersPromise = RelatedUsersSupplier.getUsers(editor);
        var recentUsersPromise = RecentUsersSupplier.getUsers();
        var currentUserPromise = CurrentUserSupplier.getCurrentUser();

        var fastPromises = [relatedUsersPromise, recentUsersPromise, currentUserPromise];

        return {
            client: Promise.all(fastPromises).then(function (_ref) {
                var _ref2 = _slicedToArray(_ref, 3),
                    relatedUsers = _ref2[0],
                    recentUsers = _ref2[1],
                    currentUser = _ref2[2];

                UserCache.addAll(relatedUsers);
                UserCache.addAll(recentUsers, true);
                if (currentUser) {
                    // May be undefined if anonymous.
                    UserCache.add(currentUser, true);
                }
            }),
            server: serverUsersPromise.then(function (serverUsers) {
                UserCache.addAll(serverUsers);
                RecentUsersSupplier.refresh(serverUsers);
            })
        };
    }

    function prefetchSuppliers(editor) {
        var waterTightValidationCheck = RecentUsersSupplier.getStaleUsers(RecentUsersSupplier.ValidationType.WATERTIGHT_VALIDATION);
        if (waterTightValidationCheck.length > 0) {
            //found some users whose stale for longer than 30 days. Must revalidate and delete if needed, before showing in UI.
            deleteStaleUsers(waterTightValidationCheck, RecentUsersSupplier.ValidationType.WATERTIGHT_VALIDATION);
        }
        // This will load related users into the cache in 'service/content-users/users-related-to-content'.
        RelatedUsersSupplier.getUsers(editor);
    }

    function deleteStaleUsers(usersToCheck, validationType) {
        ServerUsersSupplier._searchWithUsernames(usersToCheck).then(function (resultUsers) {
            RecentUsersSupplier.refresh(resultUsers);
            //if users are still stale after a refresh, it means they've not been returned by the server
            //time to delete 'em
            var usersToDelete = RecentUsersSupplier.getStaleUsers(validationType);
            usersToDelete.forEach(function (u) {
                return RecentUsersSupplier.remove(u);
            });
        });
    }

    // Reset any of the suppliers that hold state. Used in testing.
    function reset() {
        RelatedUsersSupplier.reset();
        ServerUsersSupplier.reset();
        RecentUsersSupplier._clear();
    }

    exports.default = {
        search: search,
        prefetchSuppliers: prefetchSuppliers,
        deleteStaleUsers: deleteStaleUsers,
        reset: reset
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(24), __webpack_require__(25)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _draftContentSupplier, _usersRelatedToContent) {
    'use strict';

    var getDraft = _interopRequireDefault(_draftContentSupplier).default;

    var UsersRelatedToContent = _interopRequireDefault(_usersRelatedToContent).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    /**
     Returns users related to the Content currently in the Editor, optionally filtered by a search string.
    
     You can test this logic in your browser console against a running instance by running something like :
    
     `require('confluence-mentions').userSuppliers.contentRelated.getUsers().then((result) => { window.relatedUsers = result; });`
    
     and then viewing the `window.relatedUsers` value.
     */
    function getUsers(editor) {
        var content = getDraft(editor);
        return UsersRelatedToContent.getUsers(content);
    }

    /*
     We assume that all useful information is returned in the getUsersRelatedTo call.
     */
    function isExhausted() {
        return true;
    }

    // Clears the related user cache, used in testing.
    function reset() {
        UsersRelatedToContent.reset();
    }

    exports.default = {
        getUsers: getUsers,
        isExhausted: isExhausted,
        reset: reset
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(10)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _i18n) {
    'use strict';

    var I18n = _interopRequireDefault(_i18n).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var newRole = function newRole(role) {
        return {
            role: role,
            i18n: I18n('user.role.' + role)
        };
    }; /**
        A simple User Role bean that can provide its i18n'd display name.
        */
    exports.default = {
        CREATOR: newRole('creator'),
        CONTRIBUTOR: newRole('contributor'),
        COMMENTER: newRole('commenter'),
        ANCESTOR_COMMENTER: newRole('ancestorCommenter') // never shown, but available
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs) {
    'use strict';

    var AJS = _interopRequireDefault(_ajs).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var i18nMap = {
        'user.role.creator': "Creator",
        'user.role.contributor': "Contributor",
        'user.role.commenter': "Commenter",
        'user.supplier.recent': "Recent"
    }; /**
        A way to get the i18nTransformer away from all-the-JS, this module allows clients to get I18n text using
        dynamic keys. Normally the i18nTransformer would fail to handle this and the developer would be forced to add
       
        AJS.format("foo100")
       
        entries for each case. By extracting those invocations of AJS.I18n.getText to a single place, we can plan for a future
        where the transformer is not necessary and we can serve one set of JS resources for all locales.
       
        A future improvement might be to generate an i18n.js file directly from a plugin's
        i18n.properties file at build time.
        */

    exports.default = function (key) {
        // TODO - could interpolate args, etc. dT
        return i18nMap[key];
    };

    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0), __webpack_require__(12), __webpack_require__(2), __webpack_require__(3), __webpack_require__(13), __webpack_require__(38), __webpack_require__(1), __webpack_require__(39)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs, _legacy, _meta, _jquery, _userRanker, _serverUserCache, _userSupplierKeys, _luceneQuery) {
    'use strict';

    var AJS = _interopRequireDefault(_ajs).default;

    var Confluence = _interopRequireDefault(_legacy).default;

    var Meta = _interopRequireDefault(_meta).default;

    var $ = _interopRequireDefault(_jquery).default;

    var UserRanker = _interopRequireDefault(_userRanker).default;

    var Cache = _interopRequireDefault(_serverUserCache).default;

    var UserSupplier = _interopRequireDefault(_userSupplierKeys).default;

    var LuceneQuery = _interopRequireDefault(_luceneQuery).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    /**
     * Wait this long after REST call triggers before actually doing a search - results in fewer HTTP requests.
     */
    var DEBOUNCE_WAIT_MS = 250;

    // 1 char query is now supported by CQL.
    var MIN_CHARS_TO_SEARCH = 1;

    var limit = 100;
    var cache = Cache(limit);

    /**
     * The id of the last timeout to be created for a REST call. We cancel this timeout if
     * a scheduled call becomes stale.
     */
    var lastTimeout = void 0;

    /**
     Returns users from the backend via a CQL search.
     */
    function getUsers(query) {
        return new Promise(function (resolve, reject) {

            if (!query || query.length < MIN_CHARS_TO_SEARCH) {
                // No query - no server results.
                return resolve([]);
            }

            AJS.debug('server-users-supplier: Looking in cache for ' + query);
            var cacheEntry = cache.getClosest(query);
            if (cacheEntry) {
                AJS.debug('server-users-supplier: Found cache entry with query ' + cacheEntry.query);
                if (cacheEntry.query === query) {
                    // Exact match - just serve these results.
                    return resolve(cacheEntry.users);
                }

                // Not an exact match. Might need a REST call, but we can show results based on what we have cached.
                var rankedUsers = UserRanker(cacheEntry.users, query);
                cache.add(query, rankedUsers);

                // TODO Always resolve with what we have from the cache - this is information that can be put in front of
                // the user immediately. We then decide whether to follow up the local results with remote ones.
                // However, we need the ability to 'resolve' multiple times - to call the render once with the cached
                // results and again (if not debounced, stale, etc, etc) with the server results.
                if (cacheEntry.isExhausted) {
                    return resolve(rankedUsers);
                }

                // Else we might be searching for "John" but "Joh" already has >={limit} users.
                // We need to hit the server!
                // TODO - can we resolve multiple times?
            }

            var contextPath = Meta.get('context-path');
            var escapedQuery = LuceneQuery.escape(query);
            var queryParameters = {
                cql: 'user ~ "' + Confluence.unescapeEntities(escapedQuery) + '"',
                start: 0,
                limit: limit
            };
            var url = contextPath + '/rest/api/search';
            var success = function success(response) {
                var results = response.results;
                var users = results.map(function (result) {
                    var user = result.user;
                    user.supplier = UserSupplier.SERVER;
                    user.timestamp = result.timestamp;
                    AJS.debug('server-users-supplier: Adding user to cache: ' + user.username);
                    return user;
                });
                cache.add(query, users);
                resolve(users);
            };

            // Debounce
            clearTimeout(lastTimeout);
            lastTimeout = setTimeout(function () {
                $.getJSON(url, queryParameters, success).fail(reject);
            }, DEBOUNCE_WAIT_MS);
        });
    }

    /**
     * Forces a search for exact usernames. Use this to ensure the cached entries in
     * other suppliers are not stale.
     * @param usernames {Array} Array of username strings
     * @returns {Promise} a promise which will resolve with an array of user objects from the search that matched any of the input usernames.
     * @private
     */
    function _searchWithUsernames(usernames) {
        return new Promise(function (resolve, reject) {
            if (!usernames || usernames.length === 0) {
                return resolve([]);
            }
            var contextPath = Meta.get('context-path');
            var queryParameters = {
                cql: 'user in (' + usernames.map(function (u) {
                    return '"' + u + '"';
                }).join(",") + ')',
                start: 0,
                limit: usernames.length
            };
            AJS.debug('querying with \'' + queryParameters.cql + '\'');
            var url = contextPath + '/rest/api/search';
            var success = function success(response) {
                var results = response.results;
                var users = results.map(function (result) {
                    var user = result.user;
                    user.supplier = UserSupplier.SERVER;
                    user.timestamp = result.timestamp;
                    return user;
                });
                resolve(users);
            };

            // Debounce
            clearTimeout(lastTimeout);
            lastTimeout = setTimeout(function () {
                $.getJSON(url, queryParameters, success).fail(reject);
            }, DEBOUNCE_WAIT_MS);
        });
    }

    /**
     If a given search returns less that the specified limit, we say that that query is exhausted - adding more
     characters to the query will return a subset of users from the shorter query.
     */
    function isExhausted(query) {
        return true;
    }

    // Flushes the cache between tests.
    function reset() {
        cache.reset();
        AJS.debug('server-users-supplier: Cache reset');
    }

    exports.default = {
        getUsers: getUsers,
        _searchWithUsernames: _searchWithUsernames,
        isExhausted: isExhausted,
        reset: reset,
        DEBOUNCE_WAIT_MS: DEBOUNCE_WAIT_MS
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_12__;

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(12), __webpack_require__(37)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _legacy, _fuse) {
    'use strict';

    var Confluence = _interopRequireDefault(_legacy).default;

    var Fuse = _interopRequireDefault(_fuse).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    /**
     * Details for these options are available at http://fusejs.io/, but the basic gist is:
     *
     * - tokenize is required so that first and last names are searched from their first character
     * - matchAllTokens so that tokenize will match all words in the query
     * - threshold close to 0 to avoid unhelpful results, but this can be tweaked because...
     * - shouldSort will put the best matches at the top of the result array.
     * - location means that matching should start at the beginning of words, which is usually
     *     what name searches will want
     */
    /**
     * Ranks users, given a query.
     */
    var options = {
        includeMatches: true,
        includeScore: true,
        tokenize: true,
        matchAllTokens: true,
        threshold: 0.1,
        location: 0,
        distance: 0,
        maxPatternLength: 16,
        minMatchCharLength: 1,
        keys: [{
            name: 'displayName',
            weight: 0.7
        }, {
            name: 'username',
            weight: 0.3
        }]
    };

    exports.default = function (users, query) {
        if (!query) {
            return users;
        }

        // TODO Depending on what kind of setup is done in the Fuse constructor, we might want to
        // optimise by keeping an instance around that has all of the users currently-known to the
        // frontend: including cached Server search results.
        var fuse = new Fuse(users, options);
        var results = fuse.search(Confluence.unescapeEntities(query));
        return results.map(function (result) {
            var item = result.item;
            item.fuseMatches = result.matches;
            item.fuseScore = result.score;
            return item;
        });
    };

    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports) {
    /**
     * Where all the aggregation and caching happens
     */
    "use strict";

    function _toConsumableArray(arr) {
        if (Array.isArray(arr)) {
            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
                arr2[i] = arr[i];
            }

            return arr2;
        } else {
            return Array.from(arr);
        }
    }

    var userCache = new Map();

    /**
     * Updates the incoming User object to split "displayName" into "firstName" and "lastNames" to aid Fuse matching.
     * @param user
     * @private
     */
    function _splitNames(user) {
        if (!user || !user.displayName) {
            return;
        }

        // We store first and last names separately to enable search weightings in Fuse.
        // JS String.split doesn't quite do what we need so we just use a substring.
        var firstSpace = user.displayName.indexOf(' ');
        if (firstSpace > 0) {
            user.firstName = user.displayName.substring(0, firstSpace);
            user.lastNames = user.displayName.substring(firstSpace + 1);
        } else {
            // A user display name in a language without spaces. Setting the firstName should work in most cases.
            user.firstName = user.displayName;
            user.lastNames = '';
        }
    }

    function _isStaleEntry(user) {
        if (!userCache.has(user.username)) {
            return true;
        }
        var entry = userCache.get(user.username);
        var timestamp = entry.timestamp || 0;
        return user.timestamp > timestamp;
    }

    exports.default = {
        /**
         * Will add the user to the user cache, if it's not already present.
         * @param {user}    user     A single user in API format
         * @param {boolean} force    if true, any cached user with the same username will be replaced with this user
         */
        add: function add(user) {
            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

            // Existing cache entries may have a different Supplier for a given user - don't overwrite.
            if (user && user.hasOwnProperty("username") && (force === true || _isStaleEntry(user))) {
                _splitNames(user);
                userCache.set(user.username, user);
            }
        },

        /**
         * Will add all the supplied users by individually calling add
         * @param users an array of users
         */
        addAll: function addAll(users, force) {
            var _this = this;

            users.forEach(function (user) {
                _this.add(user, force);
            });
        },

        /**
         * @returns an array of all the users in the cache
         */
        getAll: function getAll() {
            return [].concat(_toConsumableArray(userCache.values()));
        },

        /**
         * Used for testing
         * @private
         */
        _get: function _get(username) {
            return userCache.get(username);
        },

        /**
         * Used for testing
         * @private
         */
        _clear: function _clear() {
            userCache.clear();
        }
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 15 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_15__;

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports) {
    "use strict";

    exports.default = {
        resultWithHtml: function resultWithHtml(html) {
            return {
                html: html
            };
        }
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _userSupplierKeys) {
    'use strict';

    var UserSupplier = _interopRequireDefault(_userSupplierKeys).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var suggestedUsers = [];

    /**
     * When searching for a user you're likely to want a user you've recently mentioned, even if other Fuse matches have
     * slightly better (lower) scores. For now we boost all recent matches, but we could adjust this to only the recent match
     * with the best score.
     *
     * Also, contributors should bubble to the top in the search results, at least until the search token is compelling enough
     * to switch.
     */
    function boostScores(users, next, context) {
        var query = context && context.query || '';
        if (query.indexOf(' ') > 0) {
            // Don't boost on supplier once multiple names are being added - the user seems to know who they're after so
            // let Fuse do its job.
            return next(users);
        }

        // The pipeline could be ensuring that users passed down the pipe are immutable, but for now just clone. fuseScore
        // should NOT be making its way into the user cache.
        var boostedUsers = users.map(function (userIn) {
            var user = Object.assign({}, userIn);
            if (suggestedUsers.includes(user.username)) {
                user.fuseScore /= 1000; // keep ordering for multiple matched suggestions
            } else if (typeof user.fuseScore === 'number') {
                switch (user.supplier) {
                    case UserSupplier.RECENT:
                        user.fuseScore /= 5;
                        break;
                    case UserSupplier.RELATED:
                        user.fuseScore /= 10;
                        break;
                }
            }
            return user;
        });
        return next(boostedUsers);
    }

    function setSuggestedUsers(users, next) {
        suggestedUsers = users.map(function (user) {
            return user.username;
        });
        return next(users);
    }

    function reset() {
        suggestedUsers = [];
    }

    exports.default = {
        boostScores: boostScores,
        setSuggestedUsers: setSuggestedUsers,
        reset: reset
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 18 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_18__;

/***/ }),
/* 19 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_19__;

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(21);


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(22), __webpack_require__(8), __webpack_require__(4), __webpack_require__(11), __webpack_require__(19)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _editorPluginInit, _relatedUsersSupplier, _recentUsersSupplier, _serverUsersSupplier, _tinymce) {
    'use strict';

    var editorPluginInit = _interopRequireDefault(_editorPluginInit).default;

    var RelatedUsersSupplier = _interopRequireDefault(_relatedUsersSupplier).default;

    var RecentUsersSupplier = _interopRequireDefault(_recentUsersSupplier).default;

    var ServerUsersSupplier = _interopRequireDefault(_serverUsersSupplier).default;

    var tinymce = _interopRequireDefault(_tinymce).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    function init(_jqueryEvent, context) {
        var editor = context && context.editor; // in case the initCallback internal code breaks API
        // This function is called from BootstrapManager.addOnInitCallback, tinymce.activeEditor already exists so it's too late to register a new plugin anyway.
        // We start up mentions right away.
        editorPluginInit(editor);
        // Do this just so it shows in plugin manager but it isn't used in tinymce.init settings.
        tinymce.PluginManager.add("insertmentions", function () {
            return {
                getMetadata: function getMetadata() {
                    return {
                        longname: "Insert Mentions",
                        author: "Atlassian",
                        authorurl: "http://www.atlassian.com"
                    };
                }
            };
        });
    }

    /**
     * This is the main export from the Mentions module set.
     */
    exports.default = {
        init: init,
        userSuppliers: {
            // Users from localstorage
            recent: RecentUsersSupplier,
            // Users from the server
            serverSearch: ServerUsersSupplier,
            // Users from the front-end cache of the Content in the editor
            contentRelated: RelatedUsersSupplier
        }
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0), __webpack_require__(3), __webpack_require__(23), __webpack_require__(6), __webpack_require__(18), __webpack_require__(52)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs, _jquery, _autocompleteAdapter, _Mentions, _autocompleteManager, _autocompleteSettings) {
    'use strict';

    var AJS = _interopRequireDefault(_ajs).default;

    var $ = _interopRequireDefault(_jquery).default;

    var Adapter = _interopRequireDefault(_autocompleteAdapter).default;

    var Mentions = _interopRequireDefault(_Mentions).default;

    var AutocompleteManager = _interopRequireDefault(_autocompleteManager).default;

    var AutocompleteSettings = _interopRequireDefault(_autocompleteSettings).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict";

    function activateMentions() {
        AJS.EventQueue.push({ name: 'confluencementioninsert' });
        AutocompleteManager.shortcutFired("@");
    }

    function onClickEvent(event) {
        event.stopPropagation();
        event.preventDefault();
        AJS.Rte.getEditor().focus();
        activateMentions();
    }

    function editorPluginInit(editor) {
        AJS.EventQueue = AJS.EventQueue || [];
        Mentions.prefetchSuppliers(editor);

        AutocompleteSettings.Settings["@"] = {
            ch: "@",
            cache: true,
            endChars: [],
            dropDownClassName: "autocomplete-mentions fabric",
            autocompleteClassNames: "fabric",
            dropDownDelay: 0, // No delay needed because there is no AJAX request involved
            selectFirstItem: true,
            minLengthForGetData: 1,
            displayHandler: function displayHandler(user) {
                // Use Jquery to encode the user name
                return $('<div/>').text(user.name).html();
            },

            getHeaderText: function getHeaderText() {
                return null; // HACK this could be an option in core, the header is currently being hidden with CSS.
            },

            getAdditionalLinks: function getAdditionalLinks(autoCompleteControl, value, callback) {
                var additionalLinks = [];
                if (callback) callback(value, additionalLinks);
                return additionalLinks;
            },

            /**
             *
             * @param autoCompleteControl
             * @param value     The user's input
             * @param {function} renderResults  function to run with the resulting users (from input-driven-dropdown in
             *                                  Core)
             */
            getDataAndRunCallback: function getDataAndRunCallback(autoCompleteControl, value, renderResults) {
                Adapter.search(autoCompleteControl, value, renderResults, editor);
            },

            /**
             * Overrides the confluence/highlighter used to highlight query term matches in results
             */
            // For now, this override is ignored: we're getting better results from the default highlighter than with the
            // highlighting based on Fuse.js output.
            // Highlighter,

            update: Adapter.insert
        };

        $('#insertmention-button').on('click', onClickEvent);

        if (AJS.Rte.Placeholder && AJS.Rte.Placeholder.addPlaceholderType) {
            AJS.Rte.Placeholder.addPlaceholderType({
                type: 'mention',
                label: "User mention",
                tooltip: "Instructional text is replaced with suggested people when a person types."
            });
        }
    }

    exports.default = editorPluginInit;
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0), __webpack_require__(6), __webpack_require__(4), __webpack_require__(7), __webpack_require__(49), __webpack_require__(2), __webpack_require__(51), __webpack_require__(19)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs, _Mentions, _recentUsersSupplier, _userSupplierManager, _mentionAnalytics, _meta, _linkObject, _tinymce) {
    'use strict';

    var AJS = _interopRequireDefault(_ajs).default;

    var Mentions = _interopRequireDefault(_Mentions).default;

    var RecentUsers = _interopRequireDefault(_recentUsersSupplier).default;

    var UserSupplierManager = _interopRequireDefault(_userSupplierManager).default;

    var MentionsAnalytics = _interopRequireDefault(_mentionAnalytics).default;

    var Meta = _interopRequireDefault(_meta).default;

    var Link = _interopRequireDefault(_linkObject).default;

    var tinymce = _interopRequireDefault(_tinymce).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict";

    var BASE_URL = Meta.get('base-url');

    function search(autoCompleteControl, value, renderResults, editor) {
        MentionsAnalytics.updateSession(autoCompleteControl);

        // The && guard here can be removed once the core tinymce3/plugins/autocomplete/autocomplete-manager.js code is released.
        // Hacky try catch to work around CONFSRVDEV-3101 and CONFSRVDEV-3138
        var selectedUser = void 0;
        try {
            var selectedItem = autoCompleteControl.getCurrentItem && autoCompleteControl.getCurrentItem();
            selectedUser = selectedItem && selectedItem.model;
        } catch (ignored) {
            console.log('Error retrieving currently-selected autoComplete item');
            console.log(ignored);
        }

        // renderResults likes a 2D array, and the query tokens in an array for highlighting
        var tokens = value && value.split(' ') || [];
        var render = function render(results, next, context) {
            return renderResults([results], value, null, tokens, context);
        };
        Mentions.searchAndRender(value, render, selectedUser, editor);
    }

    function insert(autoCompleteControl, user) {
        MentionsAnalytics.publishEventForSelection(user, autoCompleteControl.analytics);

        // Add this user to the cache - it will be retrieved with the recent-users-supplier module.
        RecentUsers.store(user);

        var earlyValidationCheck = RecentUsers.getStaleUsers(RecentUsers.ValidationType.EARLY_VALIDATION);
        if (earlyValidationCheck.length > 0) {
            //asynchronously attempt to update the recently mentioned cache to remove any stale users, after the UI insert is completed
            setTimeout(function () {
                return UserSupplierManager.deleteStaleUsers(earlyValidationCheck, RecentUsers.ValidationType.EARLY_VALIDATION);
            }, 0);
        }

        var link = {
            attrs: {
                href: user.link,
                'userkey': user.model.userKey, // required to unmarshall ResourceIdentifier
                'data-base-url': BASE_URL,
                'data-linked-resource-type': 'userinfo',
                'data-linked-resource-default-alias': user.name
            },
            body: {
                html: AJS.escapeHtml(user.name)
            },
            classes: ['confluence-link']
        };
        Link.fromData(link).insert();
        tinymce.activeEditor.selection.setContent(" ");
    }

    // Called during testing
    function reset() {
        Mentions.reset();
    }

    exports.default = {
        search: search,
        insert: insert,
        reset: reset
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(2), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _meta, _jquery) {
    'use strict';

    var Meta = _interopRequireDefault(_meta).default;

    var $ = _interopRequireDefault(_jquery).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    // Adapted from confluence-quick-edit/src/main/resources/jscripts/handlers/comment.js.
    /**
     Supplies the Content API model object associated with the current draft in the editor.
    
     This is basically a shim for something that the Editor JS API *should* provide but currently doesn't
     */
    function getParameter(url, paramName) {
        if (!url) {
            return '';
        }
        var regex = new RegExp("[?&]" + paramName + "=(\\d+)");
        var match = url.match(regex);
        return match && match.length > 1 ? match[1] : '';
    }

    function safeGetDraft(editor) {
        if (!editor) {
            return null;
        }

        try {
            return getDraft(editor);
        } catch (e) {
            // This might happen if the Editor is being initialised in a context we don't yet support.
            console.error(e.message);
            return null;
        }
    }

    function getDraft(editor) {
        var id = Meta.get('page-id');

        var form = editor.formElement;
        var action = form.action || '';

        if (action.indexOf('/doaddcomment.action') > -1 || action.indexOf('/doeditcomment.action') > -1 || $(form).closest('.ic-sidebar').length) {
            var commentId = getParameter(action, "commentId") || '0';

            var content = {
                id: commentId,
                type: 'comment',
                status: 'draft',
                container: {
                    id: id
                }
            };

            var parentCommentId = getParameter(action, "parentId");
            if (parentCommentId) {
                content.ancestors = [{
                    id: parentCommentId
                }];
            }

            return content;
        }

        var previewContainer = $(form).closest('.cp-container');
        if (previewContainer.length) {
            // This is a comment for a Preview. Until we have a proper API, scrape the DOM and shed a single tear.
            var previewTitle = previewContainer.find('.cp-file-title').text().replace(/"/g, "\\\"");
            // CONFSRVDEV-11704 because the previewer can be triggered from like million places, and because we suck
            // and don't set the alias for attachment titles consistently , which means we need to look for them with spaces
            // a well as with + for space
            var alternateTitle = escape(previewTitle.replace(/\s/g, "+"));
            var $element = $('body').find('*[data-linked-resource-default-alias="' + previewTitle + '"], *[data-linked-resource-default-alias="' + alternateTitle + '"]');
            if ($element.length) {
                var attachmentId = $element.attr('data-linked-resource-id');
                // Again, until Previews exposes an API, and the Editor consumes it in a way that THIS code can consume,
                // we're limited in how Smart the suggestions here can be. For now, editing an existing comment or replying
                // to a comment are treated the same as creating a new comment.
                return {
                    id: 0,
                    type: 'comment',
                    status: 'draft',
                    container: {
                        id: attachmentId
                    }
                };
            }
        }

        var newPage = Meta.get('new-page');

        var type = Meta.get('content-type');
        return {
            id: newPage ? '0' : id,
            type: type,
            status: 'draft'
        };
    }

    exports.default = safeGetDraft;
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(2), __webpack_require__(3), __webpack_require__(26), __webpack_require__(27), __webpack_require__(28)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _meta, _jquery, _aggregateUsers, _restParameters, _relatedUserTransformer) {
    'use strict';

    var Meta = _interopRequireDefault(_meta).default;

    var $ = _interopRequireDefault(_jquery).default;

    var aggregateUsers = _interopRequireDefault(_aggregateUsers).default;

    var getRestParameters = _interopRequireDefault(_restParameters).default;

    var flattenUsers = _interopRequireDefault(_relatedUserTransformer).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict"; /**
                   Supplies Users that are related to a piece of Content, calculated from server data via the Content API.
                   */


    var cache = {};

    var getUsers = function getUsers(contentStub) {
        var restParams = getRestParameters(contentStub);
        if (!restParams) {
            // Will be null for new pages and blogposts: don't make a REST call, don't cache
            return Promise.resolve([]);
        }

        if (restParams.contentId in cache) {
            return cache[restParams.contentId];
        }

        var promise = new Promise(function (resolve, reject) {
            var contextPath = Meta.get('context-path');
            var url = contextPath + '/rest/api/content/' + restParams.contentId;
            var queryParameters = {
                expand: restParams.expand
            };

            $.getJSON(url, queryParameters, function (content) {
                resolve(flattenUsers(aggregateUsers(content)));
            }).fail(reject);
        });

        cache[restParams.contentId] = promise;
        return promise;
    };

    // Used in testing.
    function reset() {
        cache = {};
    }

    exports.default = {
        getUsers: getUsers,
        reset: reset,
        _cache: cache //exposed for testing
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(9), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _userRole, _userSupplierKeys) {
    'use strict';

    var UserRole = _interopRequireDefault(_userRole).default;

    var UserSupplier = _interopRequireDefault(_userSupplierKeys).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    exports.default = function (content) {
        var relatedUsers = {};

        // Used to track users that have already been added to relatedUsers
        var usernames = new Set();

        // Skip anonymous users, disabled/deleted users, and users already in the result
        function shouldAddUser(user) {
            if (user.type === 'anonymous') {
                return false;
            }

            if (typeof user.status === 'undefined') {
                console.error("User status is undefined. Not adding to relatedUsers aggregate.");
                return false;
            }
            return user.status === 'current' && !usernames.has(user.username);
        }

        function addUser(user, role) {
            user.role = role;
            user.supplier = UserSupplier.RELATED;
            var roleKey = role.role;
            relatedUsers[roleKey] = relatedUsers[roleKey] || [];
            relatedUsers[roleKey].push(user);
            usernames.add(user.username);
        }

        function addUserWithRole(user, role) {
            if (shouldAddUser(user)) {
                addUser(user, role);
            }
        }

        var page = content.type === 'comment' ? content.container : content;

        // Only do this for content that has history
        if ('history' in page) {
            addUserWithRole(page.history.createdBy, UserRole.CREATOR);

            // Contributors are reversed to descending chronological order - users are more likely to mention contributors who
            // edited the content more recently.
            page.history.contributors.publishers.users.reverse().forEach(function (contributor) {
                addUserWithRole(contributor, UserRole.CONTRIBUTOR);
            });
        }

        if (content.type === 'comment' && content.ancestors) {
            // A new or existing comment that is a reply to another comment. We catch ancestor commenters before other
            // commenters because they are more likely to be mentioned.
            // Ancestor order is not reversed because they are already ordered youngest to oldest.
            content.ancestors.forEach(function (ancestorComment) {
                addUserWithRole(ancestorComment.version.by, UserRole.ANCESTOR_COMMENTER);
            });
        }

        if ('children' in page) {
            // Page commenters are also listed in reverse order
            page.children.comment.results.reverse().forEach(function (comment) {
                addUserWithRole(comment.version.by, UserRole.COMMENTER);
            });
        }

        return relatedUsers;
    };

    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports) {
    'use strict';

    /**
     Calculations the content id and expansions that should be used in the REST API call when building the
     list of users related to a piece of Content in the editor.
     */

    var PAGE_REST_EXPANSIONS = 'history.createdBy.status,history.contributors.publishers.users.status,children.comment.version.by.status';
    var COMMENT_REST_EXPANSIONS = 'ancestors.version.by.status,container.history.createdBy.status,container.history.contributors.publishers.users.status,container.children.comment.version.by.status';

    function restParams(id, expansions) {
        return {
            contentId: id,
            expand: expansions
        };
    }

    function isBlankId(val) {
        return !val || val === '0';
    }

    exports.default = function (contentStub) {
        if (!contentStub) {
            return null;
        }

        if (contentStub.type === 'page' || contentStub.type === 'blogpost') {
            var pageId = contentStub.id;
            if (isBlankId(pageId)) {
                // A new page/blogpost has no related users.
                return null;
            }
            // Editing an existing page or blogpost
            return restParams(pageId, PAGE_REST_EXPANSIONS);
        }

        if (contentStub.type === 'comment') {
            var commentId = contentStub.id;
            if (!isBlankId(commentId)) {
                // Editing an existing comment
                return restParams(commentId, COMMENT_REST_EXPANSIONS);
            }

            // A new comment: the stub will include the id of the comment it is replying to, unless this is a top-level
            // comment. NOTE: if we end up with access to a Draft comment, we should be able to use its id as the
            // content id, and not use the parent-comment or page ids here.
            var parentCommentId = contentStub.ancestors && contentStub.ancestors[0] && contentStub.ancestors[0].id;
            if (!isBlankId(parentCommentId)) {
                // A new reply
                return restParams(parentCommentId, COMMENT_REST_EXPANSIONS);
            }

            // A new top-level comment
            var _pageId = contentStub.container.id;
            return restParams(_pageId, PAGE_REST_EXPANSIONS);
        }
    };

    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(9)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _userRole) {
    "use strict";

    var UserRole = _interopRequireDefault(_userRole).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict";

    /**
     * Converts the map of users by role into a list of users.
     */

    exports.default = function (usersMap) {
        var transformedList = [];

        function addUsersWithRoleToList(userRole) {
            var users = usersMap[userRole.role];
            if (users && users.length) {
                transformedList = transformedList.concat(users);
            }
        }

        addUsersWithRoleToList(UserRole.CREATOR);
        addUsersWithRoleToList(UserRole.CONTRIBUTOR);
        addUsersWithRoleToList(UserRole.COMMENTER);
        addUsersWithRoleToList(UserRole.ANCESTOR_COMMENTER);

        return transformedList;
    };

    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

module.exports = LRUCache

// This will be a proper iterable 'Map' in engines that support it,
// or a fakey-fake PseudoMap in older versions.
var Map = __webpack_require__(30)
var util = __webpack_require__(32)

// A linked list to keep track of recently-used-ness
var Yallist = __webpack_require__(35)

// use symbols if possible, otherwise just _props
var hasSymbol = typeof Symbol === 'function' && process.env._nodeLRUCacheForceNoSymbol !== '1'
var makeSymbol
if (hasSymbol) {
  makeSymbol = function (key) {
    return Symbol(key)
  }
} else {
  makeSymbol = function (key) {
    return '_' + key
  }
}

var MAX = makeSymbol('max')
var LENGTH = makeSymbol('length')
var LENGTH_CALCULATOR = makeSymbol('lengthCalculator')
var ALLOW_STALE = makeSymbol('allowStale')
var MAX_AGE = makeSymbol('maxAge')
var DISPOSE = makeSymbol('dispose')
var NO_DISPOSE_ON_SET = makeSymbol('noDisposeOnSet')
var LRU_LIST = makeSymbol('lruList')
var CACHE = makeSymbol('cache')

function naiveLength () { return 1 }

// lruList is a yallist where the head is the youngest
// item, and the tail is the oldest.  the list contains the Hit
// objects as the entries.
// Each Hit object has a reference to its Yallist.Node.  This
// never changes.
//
// cache is a Map (or PseudoMap) that matches the keys to
// the Yallist.Node object.
function LRUCache (options) {
  if (!(this instanceof LRUCache)) {
    return new LRUCache(options)
  }

  if (typeof options === 'number') {
    options = { max: options }
  }

  if (!options) {
    options = {}
  }

  var max = this[MAX] = options.max
  // Kind of weird to have a default max of Infinity, but oh well.
  if (!max ||
      !(typeof max === 'number') ||
      max <= 0) {
    this[MAX] = Infinity
  }

  var lc = options.length || naiveLength
  if (typeof lc !== 'function') {
    lc = naiveLength
  }
  this[LENGTH_CALCULATOR] = lc

  this[ALLOW_STALE] = options.stale || false
  this[MAX_AGE] = options.maxAge || 0
  this[DISPOSE] = options.dispose
  this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false
  this.reset()
}

// resize the cache when the max changes.
Object.defineProperty(LRUCache.prototype, 'max', {
  set: function (mL) {
    if (!mL || !(typeof mL === 'number') || mL <= 0) {
      mL = Infinity
    }
    this[MAX] = mL
    trim(this)
  },
  get: function () {
    return this[MAX]
  },
  enumerable: true
})

Object.defineProperty(LRUCache.prototype, 'allowStale', {
  set: function (allowStale) {
    this[ALLOW_STALE] = !!allowStale
  },
  get: function () {
    return this[ALLOW_STALE]
  },
  enumerable: true
})

Object.defineProperty(LRUCache.prototype, 'maxAge', {
  set: function (mA) {
    if (!mA || !(typeof mA === 'number') || mA < 0) {
      mA = 0
    }
    this[MAX_AGE] = mA
    trim(this)
  },
  get: function () {
    return this[MAX_AGE]
  },
  enumerable: true
})

// resize the cache when the lengthCalculator changes.
Object.defineProperty(LRUCache.prototype, 'lengthCalculator', {
  set: function (lC) {
    if (typeof lC !== 'function') {
      lC = naiveLength
    }
    if (lC !== this[LENGTH_CALCULATOR]) {
      this[LENGTH_CALCULATOR] = lC
      this[LENGTH] = 0
      this[LRU_LIST].forEach(function (hit) {
        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)
        this[LENGTH] += hit.length
      }, this)
    }
    trim(this)
  },
  get: function () { return this[LENGTH_CALCULATOR] },
  enumerable: true
})

Object.defineProperty(LRUCache.prototype, 'length', {
  get: function () { return this[LENGTH] },
  enumerable: true
})

Object.defineProperty(LRUCache.prototype, 'itemCount', {
  get: function () { return this[LRU_LIST].length },
  enumerable: true
})

LRUCache.prototype.rforEach = function (fn, thisp) {
  thisp = thisp || this
  for (var walker = this[LRU_LIST].tail; walker !== null;) {
    var prev = walker.prev
    forEachStep(this, fn, walker, thisp)
    walker = prev
  }
}

function forEachStep (self, fn, node, thisp) {
  var hit = node.value
  if (isStale(self, hit)) {
    del(self, node)
    if (!self[ALLOW_STALE]) {
      hit = undefined
    }
  }
  if (hit) {
    fn.call(thisp, hit.value, hit.key, self)
  }
}

LRUCache.prototype.forEach = function (fn, thisp) {
  thisp = thisp || this
  for (var walker = this[LRU_LIST].head; walker !== null;) {
    var next = walker.next
    forEachStep(this, fn, walker, thisp)
    walker = next
  }
}

LRUCache.prototype.keys = function () {
  return this[LRU_LIST].toArray().map(function (k) {
    return k.key
  }, this)
}

LRUCache.prototype.values = function () {
  return this[LRU_LIST].toArray().map(function (k) {
    return k.value
  }, this)
}

LRUCache.prototype.reset = function () {
  if (this[DISPOSE] &&
      this[LRU_LIST] &&
      this[LRU_LIST].length) {
    this[LRU_LIST].forEach(function (hit) {
      this[DISPOSE](hit.key, hit.value)
    }, this)
  }

  this[CACHE] = new Map() // hash of items by key
  this[LRU_LIST] = new Yallist() // list of items in order of use recency
  this[LENGTH] = 0 // length of items in the list
}

LRUCache.prototype.dump = function () {
  return this[LRU_LIST].map(function (hit) {
    if (!isStale(this, hit)) {
      return {
        k: hit.key,
        v: hit.value,
        e: hit.now + (hit.maxAge || 0)
      }
    }
  }, this).toArray().filter(function (h) {
    return h
  })
}

LRUCache.prototype.dumpLru = function () {
  return this[LRU_LIST]
}

/* istanbul ignore next */
LRUCache.prototype.inspect = function (n, opts) {
  var str = 'LRUCache {'
  var extras = false

  var as = this[ALLOW_STALE]
  if (as) {
    str += '\n  allowStale: true'
    extras = true
  }

  var max = this[MAX]
  if (max && max !== Infinity) {
    if (extras) {
      str += ','
    }
    str += '\n  max: ' + util.inspect(max, opts)
    extras = true
  }

  var maxAge = this[MAX_AGE]
  if (maxAge) {
    if (extras) {
      str += ','
    }
    str += '\n  maxAge: ' + util.inspect(maxAge, opts)
    extras = true
  }

  var lc = this[LENGTH_CALCULATOR]
  if (lc && lc !== naiveLength) {
    if (extras) {
      str += ','
    }
    str += '\n  length: ' + util.inspect(this[LENGTH], opts)
    extras = true
  }

  var didFirst = false
  this[LRU_LIST].forEach(function (item) {
    if (didFirst) {
      str += ',\n  '
    } else {
      if (extras) {
        str += ',\n'
      }
      didFirst = true
      str += '\n  '
    }
    var key = util.inspect(item.key).split('\n').join('\n  ')
    var val = { value: item.value }
    if (item.maxAge !== maxAge) {
      val.maxAge = item.maxAge
    }
    if (lc !== naiveLength) {
      val.length = item.length
    }
    if (isStale(this, item)) {
      val.stale = true
    }

    val = util.inspect(val, opts).split('\n').join('\n  ')
    str += key + ' => ' + val
  })

  if (didFirst || extras) {
    str += '\n'
  }
  str += '}'

  return str
}

LRUCache.prototype.set = function (key, value, maxAge) {
  maxAge = maxAge || this[MAX_AGE]

  var now = maxAge ? Date.now() : 0
  var len = this[LENGTH_CALCULATOR](value, key)

  if (this[CACHE].has(key)) {
    if (len > this[MAX]) {
      del(this, this[CACHE].get(key))
      return false
    }

    var node = this[CACHE].get(key)
    var item = node.value

    // dispose of the old one before overwriting
    // split out into 2 ifs for better coverage tracking
    if (this[DISPOSE]) {
      if (!this[NO_DISPOSE_ON_SET]) {
        this[DISPOSE](key, item.value)
      }
    }

    item.now = now
    item.maxAge = maxAge
    item.value = value
    this[LENGTH] += len - item.length
    item.length = len
    this.get(key)
    trim(this)
    return true
  }

  var hit = new Entry(key, value, len, now, maxAge)

  // oversized objects fall out of cache automatically.
  if (hit.length > this[MAX]) {
    if (this[DISPOSE]) {
      this[DISPOSE](key, value)
    }
    return false
  }

  this[LENGTH] += hit.length
  this[LRU_LIST].unshift(hit)
  this[CACHE].set(key, this[LRU_LIST].head)
  trim(this)
  return true
}

LRUCache.prototype.has = function (key) {
  if (!this[CACHE].has(key)) return false
  var hit = this[CACHE].get(key).value
  if (isStale(this, hit)) {
    return false
  }
  return true
}

LRUCache.prototype.get = function (key) {
  return get(this, key, true)
}

LRUCache.prototype.peek = function (key) {
  return get(this, key, false)
}

LRUCache.prototype.pop = function () {
  var node = this[LRU_LIST].tail
  if (!node) return null
  del(this, node)
  return node.value
}

LRUCache.prototype.del = function (key) {
  del(this, this[CACHE].get(key))
}

LRUCache.prototype.load = function (arr) {
  // reset the cache
  this.reset()

  var now = Date.now()
  // A previous serialized cache has the most recent items first
  for (var l = arr.length - 1; l >= 0; l--) {
    var hit = arr[l]
    var expiresAt = hit.e || 0
    if (expiresAt === 0) {
      // the item was created without expiration in a non aged cache
      this.set(hit.k, hit.v)
    } else {
      var maxAge = expiresAt - now
      // dont add already expired items
      if (maxAge > 0) {
        this.set(hit.k, hit.v, maxAge)
      }
    }
  }
}

LRUCache.prototype.prune = function () {
  var self = this
  this[CACHE].forEach(function (value, key) {
    get(self, key, false)
  })
}

function get (self, key, doUse) {
  var node = self[CACHE].get(key)
  if (node) {
    var hit = node.value
    if (isStale(self, hit)) {
      del(self, node)
      if (!self[ALLOW_STALE]) hit = undefined
    } else {
      if (doUse) {
        self[LRU_LIST].unshiftNode(node)
      }
    }
    if (hit) hit = hit.value
  }
  return hit
}

function isStale (self, hit) {
  if (!hit || (!hit.maxAge && !self[MAX_AGE])) {
    return false
  }
  var stale = false
  var diff = Date.now() - hit.now
  if (hit.maxAge) {
    stale = diff > hit.maxAge
  } else {
    stale = self[MAX_AGE] && (diff > self[MAX_AGE])
  }
  return stale
}

function trim (self) {
  if (self[LENGTH] > self[MAX]) {
    for (var walker = self[LRU_LIST].tail;
      self[LENGTH] > self[MAX] && walker !== null;) {
      // We know that we're about to delete this one, and also
      // what the next least recently used key will be, so just
      // go ahead and set it now.
      var prev = walker.prev
      del(self, walker)
      walker = prev
    }
  }
}

function del (self, node) {
  if (node) {
    var hit = node.value
    if (self[DISPOSE]) {
      self[DISPOSE](hit.key, hit.value)
    }
    self[LENGTH] -= hit.length
    self[CACHE].delete(hit.key)
    self[LRU_LIST].removeNode(node)
  }
}

// classy, since V8 prefers predictable objects.
function Entry (key, value, length, now, maxAge) {
  this.key = key
  this.value = value
  this.length = length
  this.now = now
  this.maxAge = maxAge || 0
}

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {if (process.env.npm_package_name === 'pseudomap' &&
    process.env.npm_lifecycle_script === 'test')
  process.env.TEST_PSEUDOMAP = 'true'

if (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {
  module.exports = Map
} else {
  module.exports = __webpack_require__(31)
}

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))

/***/ }),
/* 31 */
/***/ (function(module, exports) {

var hasOwnProperty = Object.prototype.hasOwnProperty

module.exports = PseudoMap

function PseudoMap (set) {
  if (!(this instanceof PseudoMap)) // whyyyyyyy
    throw new TypeError("Constructor PseudoMap requires 'new'")

  this.clear()

  if (set) {
    if ((set instanceof PseudoMap) ||
        (typeof Map === 'function' && set instanceof Map))
      set.forEach(function (value, key) {
        this.set(key, value)
      }, this)
    else if (Array.isArray(set))
      set.forEach(function (kv) {
        this.set(kv[0], kv[1])
      }, this)
    else
      throw new TypeError('invalid argument')
  }
}

PseudoMap.prototype.forEach = function (fn, thisp) {
  thisp = thisp || this
  Object.keys(this._data).forEach(function (k) {
    if (k !== 'size')
      fn.call(thisp, this._data[k].value, this._data[k].key)
  }, this)
}

PseudoMap.prototype.has = function (k) {
  return !!find(this._data, k)
}

PseudoMap.prototype.get = function (k) {
  var res = find(this._data, k)
  return res && res.value
}

PseudoMap.prototype.set = function (k, v) {
  set(this._data, k, v)
}

PseudoMap.prototype.delete = function (k) {
  var res = find(this._data, k)
  if (res) {
    delete this._data[res._index]
    this._data.size--
  }
}

PseudoMap.prototype.clear = function () {
  var data = Object.create(null)
  data.size = 0

  Object.defineProperty(this, '_data', {
    value: data,
    enumerable: false,
    configurable: true,
    writable: false
  })
}

Object.defineProperty(PseudoMap.prototype, 'size', {
  get: function () {
    return this._data.size
  },
  set: function (n) {},
  enumerable: true,
  configurable: true
})

PseudoMap.prototype.values =
PseudoMap.prototype.keys =
PseudoMap.prototype.entries = function () {
  throw new Error('iterators are not implemented in this version')
}

// Either identical, or both NaN
function same (a, b) {
  return a === b || a !== a && b !== b
}

function Entry (k, v, i) {
  this.key = k
  this.value = v
  this._index = i
}

function find (data, k) {
  for (var i = 0, s = '_' + k, key = s;
       hasOwnProperty.call(data, key);
       key = s + i++) {
    if (same(data[key].key, k))
      return data[key]
  }
}

function set (data, k, v) {
  for (var i = 0, s = '_' + k, key = s;
       hasOwnProperty.call(data, key);
       key = s + i++) {
    if (same(data[key].key, k)) {
      data[key].value = v
      return
    }
  }
  data.size++
  data[key] = new Entry(k, v, key)
}


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||
  function getOwnPropertyDescriptors(obj) {
    var keys = Object.keys(obj);
    var descriptors = {};
    for (var i = 0; i < keys.length; i++) {
      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);
    }
    return descriptors;
  };

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  if (typeof process !== 'undefined' && process.noDeprecation === true) {
    return fn;
  }

  // Allow for deprecating things in the process of starting up.
  if (typeof process === 'undefined') {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = __webpack_require__(33);

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = __webpack_require__(34);

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

var kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;

exports.promisify = function promisify(original) {
  if (typeof original !== 'function')
    throw new TypeError('The "original" argument must be of type Function');

  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {
    var fn = original[kCustomPromisifiedSymbol];
    if (typeof fn !== 'function') {
      throw new TypeError('The "util.promisify.custom" argument must be of type Function');
    }
    Object.defineProperty(fn, kCustomPromisifiedSymbol, {
      value: fn, enumerable: false, writable: false, configurable: true
    });
    return fn;
  }

  function fn() {
    var promiseResolve, promiseReject;
    var promise = new Promise(function (resolve, reject) {
      promiseResolve = resolve;
      promiseReject = reject;
    });

    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }
    args.push(function (err, value) {
      if (err) {
        promiseReject(err);
      } else {
        promiseResolve(value);
      }
    });

    try {
      original.apply(this, args);
    } catch (err) {
      promiseReject(err);
    }

    return promise;
  }

  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));

  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {
    value: fn, enumerable: false, writable: false, configurable: true
  });
  return Object.defineProperties(
    fn,
    getOwnPropertyDescriptors(original)
  );
}

exports.promisify.custom = kCustomPromisifiedSymbol

function callbackifyOnRejected(reason, cb) {
  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).
  // Because `null` is a special error value in callbacks which means "no error
  // occurred", we error-wrap so the callback consumer can distinguish between
  // "the promise rejected with null" or "the promise fulfilled with undefined".
  if (!reason) {
    var newReason = new Error('Promise was rejected with a falsy value');
    newReason.reason = reason;
    reason = newReason;
  }
  return cb(reason);
}

function callbackify(original) {
  if (typeof original !== 'function') {
    throw new TypeError('The "original" argument must be of type Function');
  }

  // We DO NOT return the promise as it gives the user a false sense that
  // the promise is actually somehow related to the callback's execution
  // and that the callback throwing will reject the promise.
  function callbackified() {
    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }

    var maybeCb = args.pop();
    if (typeof maybeCb !== 'function') {
      throw new TypeError('The last argument must be of type Function');
    }
    var self = this;
    var cb = function() {
      return maybeCb.apply(self, arguments);
    };
    // In true node style we process the callback on `nextTick` with all the
    // implications (stack, `uncaughtException`, `async_hooks`)
    original.apply(this, args)
      .then(function(ret) { process.nextTick(cb, null, ret) },
            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });
  }

  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));
  Object.defineProperties(callbackified,
                          getOwnPropertyDescriptors(original));
  return callbackified;
}
exports.callbackify = callbackify;

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))

/***/ }),
/* 33 */
/***/ (function(module, exports) {

module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}

/***/ }),
/* 34 */
/***/ (function(module, exports) {

if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}


/***/ }),
/* 35 */
/***/ (function(module, exports) {

module.exports = Yallist

Yallist.Node = Node
Yallist.create = Yallist

function Yallist (list) {
  var self = this
  if (!(self instanceof Yallist)) {
    self = new Yallist()
  }

  self.tail = null
  self.head = null
  self.length = 0

  if (list && typeof list.forEach === 'function') {
    list.forEach(function (item) {
      self.push(item)
    })
  } else if (arguments.length > 0) {
    for (var i = 0, l = arguments.length; i < l; i++) {
      self.push(arguments[i])
    }
  }

  return self
}

Yallist.prototype.removeNode = function (node) {
  if (node.list !== this) {
    throw new Error('removing node which does not belong to this list')
  }

  var next = node.next
  var prev = node.prev

  if (next) {
    next.prev = prev
  }

  if (prev) {
    prev.next = next
  }

  if (node === this.head) {
    this.head = next
  }
  if (node === this.tail) {
    this.tail = prev
  }

  node.list.length--
  node.next = null
  node.prev = null
  node.list = null
}

Yallist.prototype.unshiftNode = function (node) {
  if (node === this.head) {
    return
  }

  if (node.list) {
    node.list.removeNode(node)
  }

  var head = this.head
  node.list = this
  node.next = head
  if (head) {
    head.prev = node
  }

  this.head = node
  if (!this.tail) {
    this.tail = node
  }
  this.length++
}

Yallist.prototype.pushNode = function (node) {
  if (node === this.tail) {
    return
  }

  if (node.list) {
    node.list.removeNode(node)
  }

  var tail = this.tail
  node.list = this
  node.prev = tail
  if (tail) {
    tail.next = node
  }

  this.tail = node
  if (!this.head) {
    this.head = node
  }
  this.length++
}

Yallist.prototype.push = function () {
  for (var i = 0, l = arguments.length; i < l; i++) {
    push(this, arguments[i])
  }
  return this.length
}

Yallist.prototype.unshift = function () {
  for (var i = 0, l = arguments.length; i < l; i++) {
    unshift(this, arguments[i])
  }
  return this.length
}

Yallist.prototype.pop = function () {
  if (!this.tail) {
    return undefined
  }

  var res = this.tail.value
  this.tail = this.tail.prev
  if (this.tail) {
    this.tail.next = null
  } else {
    this.head = null
  }
  this.length--
  return res
}

Yallist.prototype.shift = function () {
  if (!this.head) {
    return undefined
  }

  var res = this.head.value
  this.head = this.head.next
  if (this.head) {
    this.head.prev = null
  } else {
    this.tail = null
  }
  this.length--
  return res
}

Yallist.prototype.forEach = function (fn, thisp) {
  thisp = thisp || this
  for (var walker = this.head, i = 0; walker !== null; i++) {
    fn.call(thisp, walker.value, i, this)
    walker = walker.next
  }
}

Yallist.prototype.forEachReverse = function (fn, thisp) {
  thisp = thisp || this
  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {
    fn.call(thisp, walker.value, i, this)
    walker = walker.prev
  }
}

Yallist.prototype.get = function (n) {
  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {
    // abort out of the list early if we hit a cycle
    walker = walker.next
  }
  if (i === n && walker !== null) {
    return walker.value
  }
}

Yallist.prototype.getReverse = function (n) {
  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {
    // abort out of the list early if we hit a cycle
    walker = walker.prev
  }
  if (i === n && walker !== null) {
    return walker.value
  }
}

Yallist.prototype.map = function (fn, thisp) {
  thisp = thisp || this
  var res = new Yallist()
  for (var walker = this.head; walker !== null;) {
    res.push(fn.call(thisp, walker.value, this))
    walker = walker.next
  }
  return res
}

Yallist.prototype.mapReverse = function (fn, thisp) {
  thisp = thisp || this
  var res = new Yallist()
  for (var walker = this.tail; walker !== null;) {
    res.push(fn.call(thisp, walker.value, this))
    walker = walker.prev
  }
  return res
}

Yallist.prototype.reduce = function (fn, initial) {
  var acc
  var walker = this.head
  if (arguments.length > 1) {
    acc = initial
  } else if (this.head) {
    walker = this.head.next
    acc = this.head.value
  } else {
    throw new TypeError('Reduce of empty list with no initial value')
  }

  for (var i = 0; walker !== null; i++) {
    acc = fn(acc, walker.value, i)
    walker = walker.next
  }

  return acc
}

Yallist.prototype.reduceReverse = function (fn, initial) {
  var acc
  var walker = this.tail
  if (arguments.length > 1) {
    acc = initial
  } else if (this.tail) {
    walker = this.tail.prev
    acc = this.tail.value
  } else {
    throw new TypeError('Reduce of empty list with no initial value')
  }

  for (var i = this.length - 1; walker !== null; i--) {
    acc = fn(acc, walker.value, i)
    walker = walker.prev
  }

  return acc
}

Yallist.prototype.toArray = function () {
  var arr = new Array(this.length)
  for (var i = 0, walker = this.head; walker !== null; i++) {
    arr[i] = walker.value
    walker = walker.next
  }
  return arr
}

Yallist.prototype.toArrayReverse = function () {
  var arr = new Array(this.length)
  for (var i = 0, walker = this.tail; walker !== null; i++) {
    arr[i] = walker.value
    walker = walker.prev
  }
  return arr
}

Yallist.prototype.slice = function (from, to) {
  to = to || this.length
  if (to < 0) {
    to += this.length
  }
  from = from || 0
  if (from < 0) {
    from += this.length
  }
  var ret = new Yallist()
  if (to < from || to < 0) {
    return ret
  }
  if (from < 0) {
    from = 0
  }
  if (to > this.length) {
    to = this.length
  }
  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {
    walker = walker.next
  }
  for (; walker !== null && i < to; i++, walker = walker.next) {
    ret.push(walker.value)
  }
  return ret
}

Yallist.prototype.sliceReverse = function (from, to) {
  to = to || this.length
  if (to < 0) {
    to += this.length
  }
  from = from || 0
  if (from < 0) {
    from += this.length
  }
  var ret = new Yallist()
  if (to < from || to < 0) {
    return ret
  }
  if (from < 0) {
    from = 0
  }
  if (to > this.length) {
    to = this.length
  }
  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {
    walker = walker.prev
  }
  for (; walker !== null && i > from; i--, walker = walker.prev) {
    ret.push(walker.value)
  }
  return ret
}

Yallist.prototype.reverse = function () {
  var head = this.head
  var tail = this.tail
  for (var walker = head; walker !== null; walker = walker.prev) {
    var p = walker.prev
    walker.prev = walker.next
    walker.next = p
  }
  this.head = tail
  this.tail = head
  return this
}

function push (self, item) {
  self.tail = new Node(item, self.tail, null, self)
  if (!self.head) {
    self.head = self.tail
  }
  self.length++
}

function unshift (self, item) {
  self.head = new Node(item, null, self.head, self)
  if (!self.tail) {
    self.tail = self.head
  }
  self.length++
}

function Node (value, prev, next, list) {
  if (!(this instanceof Node)) {
    return new Node(value, prev, next, list)
  }

  this.list = list
  this.value = value

  if (prev) {
    prev.next = this
    this.prev = prev
  } else {
    this.prev = null
  }

  if (next) {
    next.prev = this
    this.next = next
  } else {
    this.next = null
  }
}


/***/ }),
/* 36 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_36__;

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * Fuse.js v3.6.1 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(e,t){ true?module.exports=t():"function"==typeof define&&define.amd?define("Fuse",[],t):"object"==typeof exports?exports.Fuse=t():e.Fuse=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1),a=r(7),s=a.get,c=(a.deepValue,a.isArray),h=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,a=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.caseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.id,S=void 0===b?null:b,x=r.keys,M=void 0===x?[]:x,_=r.shouldSort,w=void 0===_||_,L=r.getFn,A=void 0===L?s:L,O=r.sortFn,C=void 0===O?function(e,t){return e.score-t.score}:O,j=r.tokenize,P=void 0!==j&&j,I=r.matchAllTokens,F=void 0!==I&&I,T=r.includeMatches,N=void 0!==T&&T,z=r.includeScore,E=void 0!==z&&z,W=r.verbose,K=void 0!==W&&W;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:a,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,minMatchCharLength:k,id:S,keys:M,includeMatches:N,includeScore:E,shouldSort:w,getFn:A,sortFn:C,verbose:K,tokenize:P,matchAllTokens:F},this.setCollection(t),this._processKeys(M)}var t,r,a;return t=e,(r=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"_processKeys",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&"string"==typeof e[0])for(var t=0,r=e.length;t<r;t+=1){var n=e[t];this._keyWeights[n]=1,this._keyNames.push(n)}else{for(var o=null,i=null,a=0,s=0,c=e.length;s<c;s+=1){var h=e[s];if(!h.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var l=h.name;if(this._keyNames.push(l),!h.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var u=h.weight;if(u<0||u>1)throw new Error('"weight" property in key must bein the range of [0, 1)');i=null==i?u:Math.max(i,u),o=null==o?u:Math.min(o,u),this._keyWeights[l]=u,a+=u}if(a>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var r=this._prepareSearchers(e),n=r.tokenSearchers,o=r.fullSearcher,i=this._search(n,o);return this._computeScore(i),this.options.shouldSort&&this._sort(i),t.limit&&"number"==typeof t.limit&&(i=i.slice(0,t.limit)),this._format(i)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,o=r.length;n<o;n+=1)t.push(new i(r[n],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},o=[];if("string"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:"",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return o}for(var s=0,c=r.length;s<c;s+=1)for(var h=r[s],l=0,u=this._keyNames.length;l<u;l+=1){var f=this._keyNames[l];this._analyze({key:f,value:this.options.getFn(h,f),record:h,index:s},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return o}},{key:"_analyze",value:function(e,t){var r=this,n=e.key,o=e.arrayIndex,i=void 0===o?-1:o,a=e.value,s=e.record,h=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,f=t.fullSearcher,v=t.resultMap,p=void 0===v?{}:v,d=t.results,g=void 0===d?[]:d;!function e(t,o,i,a){if(null!=o)if("string"==typeof o){var s=!1,h=-1,l=0;r._log("\nKey: ".concat(""===n?"--":n));var v=f.search(o);if(r._log('Full text: "'.concat(o,'", score: ').concat(v.score)),r.options.tokenize){for(var d=o.split(r.options.tokenSeparator),y=d.length,m=[],k=0,b=u.length;k<b;k+=1){var S=u[k];r._log('\nPattern: "'.concat(S.pattern,'"'));for(var x=!1,M=0;M<y;M+=1){var _=d[M],w=S.search(_),L={};w.isMatch?(L[_]=w.score,s=!0,x=!0,m.push(w.score)):(L[_]=1,r.options.matchAllTokens||m.push(1)),r._log('Token: "'.concat(_,'", score: ').concat(L[_]))}x&&(l+=1)}h=m[0];for(var A=m.length,O=1;O<A;O+=1)h+=m[O];h/=A,r._log("Token score average:",h)}var C=v.score;h>-1&&(C=(C+h)/2),r._log("Score average:",C);var j=!r.options.tokenize||!r.options.matchAllTokens||l>=u.length;if(r._log("\nCheck Matches: ".concat(j)),(s||v.isMatch)&&j){var P={key:n,arrayIndex:t,value:o,score:C};r.options.includeMatches&&(P.matchedIndices=v.matchedIndices);var I=p[a];I?I.output.push(P):(p[a]={item:i,output:[P]},g.push(p[a]))}}else if(c(o))for(var F=0,T=o.length;F<T;F+=1)e(F,o[F],i,a)}(i,a,s,h)}},{key:"_computeScore",value:function(e){this._log("\n\nComputing score:\n");for(var t=this._keyWeights,r=!!Object.keys(t).length,n=0,o=e.length;n<o;n+=1){for(var i=e[n],a=i.output,s=a.length,c=1,h=0;h<s;h+=1){var l=a[h],u=l.key,f=r?t[u]:1,v=0===l.score&&t&&t[u]>0?Number.EPSILON:l.score;c*=Math.pow(v,f)}i.score=c,this._log(i)}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t},2)),r=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},h=0,l=o.length;h<l;h+=1)o[h](s,c);t.push(c)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,r),a&&o(t,a),e}();e.exports=h},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(2),i=r(3),a=r(6),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,s=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.isCaseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.includeMatches,S=void 0!==b&&b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,includeMatches:S,minMatchCharLength:k},this.pattern=v?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var t,r,s;return t=e,(r=[{key:"search",value:function(e){var t=this.options,r=t.isCaseSensitive,n=t.includeMatches;if(r||(e=e.toLowerCase()),this.pattern===e){var a={isMatch:!0,score:0};return n&&(a.matchedIndices=[[0,e.length-1]]),a}var s=this.options,c=s.maxPatternLength,h=s.tokenSeparator;if(this.pattern.length>c)return o(e,this.pattern,h);var l=this.options,u=l.location,f=l.distance,v=l.threshold,p=l.findAllMatches,d=l.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:u,distance:f,threshold:v,findAllMatches:p,minMatchCharLength:d,includeMatches:n})}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=s},function(e,t){var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(r,"\\$&").replace(n,"|")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){var n=r(4),o=r(5);e.exports=function(e,t,r,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,v=void 0!==f&&f,p=i.minMatchCharLength,d=void 0===p?1:p,g=i.includeMatches,y=void 0!==g&&g,m=s,k=e.length,b=u,S=e.indexOf(t,m),x=t.length,M=[],_=0;_<k;_+=1)M[_]=0;if(-1!==S){var w=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});if(b=Math.min(w,b),-1!==(S=e.lastIndexOf(t,m+x))){var L=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});b=Math.min(L,b)}}S=-1;for(var A=[],O=1,C=x+k,j=1<<(x<=31?x-1:30),P=0;P<x;P+=1){for(var I=0,F=C;I<F;){n(t,{errors:P,currentLocation:m+F,expectedLocation:m,distance:h})<=b?I=F:C=F,F=Math.floor((C-I)/2+I)}C=F;var T=Math.max(1,m-F+1),N=v?k:Math.min(m+F,k)+x,z=Array(N+2);z[N+1]=(1<<P)-1;for(var E=N;E>=T;E-=1){var W=E-1,K=r[e.charAt(W)];if(K&&(M[W]=1),z[E]=(z[E+1]<<1|1)&K,0!==P&&(z[E]|=(A[E+1]|A[E])<<1|1|A[E+1]),z[E]&j&&(O=n(t,{errors:P,currentLocation:W,expectedLocation:m,distance:h}))<=b){if(b=O,(S=W)<=m)break;T=Math.max(1,2*m-S)}}if(n(t,{errors:P+1,currentLocation:m,expectedLocation:m,distance:h})>b)break;A=z}var $={isMatch:S>=0,score:0===O?.001:O};return y&&($.matchedIndices=o(M,d)),$}},function(e,t){e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=n/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t){var r=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},n=function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)},o=function(e){return"string"==typeof e},i=function(e){return"number"==typeof e};e.exports={get:function(e,t){var a=[];return function e(t,s){if(s){var c=s.indexOf("."),h=s,l=null;-1!==c&&(h=s.slice(0,c),l=s.slice(c+1));var u=t[h];if(null!=u)if(l||!o(u)&&!i(u))if(r(u))for(var f=0,v=u.length;f<v;f+=1)e(u[f],l);else l&&e(u,l);else a.push(n(u))}else a.push(t)}(e,t),a},isArray:r,isString:o,isNum:i,toString:n}}])});

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports) {
    "use strict";

    /**
     * Stores user search results for the server-users-supplier
     */
    // TODO CONFSRVDEV-2015 - shouldn't store the same User object more than once. Should only store lists of keys in the query map,
    // and then have a separate cross-supplier Map of User objects by key. dT
    var cache = {};
    var queries = [];

    exports.default = function (limit) {
        return {
            add: function add(query, users) {
                cache[query] = {
                    query: query,
                    users: users,
                    isExhausted: users.length < limit
                };

                // Queries list is alph sorted descending so that longer queries are above the shorter queries that
                // they contain.
                queries.push(query);
                queries.sort();
                queries.reverse();
            },

            /**
             * Look in the cache for this query or a shorter one.
             */
            getClosest: function getClosest(query) {
                if (cache[query]) {
                    return cache[query];
                }

                // Else find the longest matching substring of the query.
                // The query list is sorted, so the first item found should be the longest one.
                var queryMatch = queries.find(function (subquery) {
                    return query.indexOf(subquery) === 0;
                });
                if (queryMatch) {
                    return cache[queryMatch];
                }

                return null; // just to make this obvious...
            },

            // Used in tests.
            reset: function reset() {
                cache = {};
                queries = [];
            }
        };
    };

    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports) {
    "use strict";

    function escape(query) {
        return [].map.call(query, function escapeSpecialCharacter(char) {
            if (char === '+' || char === '-' || char === '&' || char === '|' || char === '!' || char === '(' || char === ')' || char === '{' || char === '}' || char === '[' || char === ']' || char === '^' || char === '"' || char === '~' || char === '*' || char === '?' || char === ':' || char === '\\') return '\\' + char;
            return char;
        }).join('');
    }

    exports.default = {
        escape: escape
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(2), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _meta, _userSupplierKeys) {
    'use strict';

    var Meta = _interopRequireDefault(_meta).default;

    var UserSupplier = _interopRequireDefault(_userSupplierKeys).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict";

    function getCurrentUser() {
        return new Promise(function (resolve) {

            var username = Meta.get('remote-user');
            if (!username) {
                // Anonymous user.
                return resolve();
            }

            var userKey = Meta.get('remote-user-key');
            var displayName = Meta.get('current-user-fullname');
            var path = Meta.get('current-user-avatar-uri-reference');

            resolve({
                type: "known",
                username: username,
                userKey: userKey,
                profilePicture: {
                    path: path,
                    width: 48,
                    height: 48
                },
                displayName: displayName,
                supplier: UserSupplier.CURRENT
            });
        });
    }

    exports.default = {
        getCurrentUser: getCurrentUser
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(15), __webpack_require__(42), __webpack_require__(13), __webpack_require__(43), __webpack_require__(16), __webpack_require__(45), __webpack_require__(46), __webpack_require__(47), __webpack_require__(17)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _templates, _resultPlaceholder, _userRanker, _userConverter, _utils, _defaultOrdering, _scoreLogger, _defaultFiltering, _scoreBooster) {
    'use strict';

    var Templates = _interopRequireDefault(_templates).default;

    var ResultPlaceholder = _interopRequireDefault(_resultPlaceholder).default;

    var SearchUsers = _interopRequireDefault(_userRanker).default;

    var ConvertUsers = _interopRequireDefault(_userConverter).default;

    var RenderUtils = _interopRequireDefault(_utils).default;

    var ensureDefaultOrder = _interopRequireDefault(_defaultOrdering).default;

    var scoreLogger = _interopRequireDefault(_scoreLogger).default;

    var filterServerResults = _interopRequireDefault(_defaultFiltering).default;

    var ScoreBooster = _interopRequireDefault(_scoreBooster).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict"; /**
                   * The contents of the UserCache is passed through the user pipeline which filters, ranks and modifies
                   * the list until we arrive at the final 5 elements to display.
                   *
                   * Want To add another function to the user pipeline? Easy...
                   *
                   * Define a function like the following and add it to a pipeline. Ordering is very important.
                   *
                   * @param results   The results array as supplied by the previous function
                   * @param next      Call this function and pass some results to trigger the next stage of the pipeline
                   * @param context   Some context about the current rendering request. See Mentions.js
                   *
                   * function pipelineTransformation(results, next, context) {
                   *      //Do some things on results
                   *      results.forEach((results) => transform(result))
                   *
                   *      //Remember to call next
                   *      next(results);
                   * }
                   */

    function filterUsingQuery(results, next, context) {
        next(SearchUsers(results, context.query));
    }

    function moveSelectedUserToTop(oldUsers, next, context) {
        if (!context.selectedUser) {
            return next(oldUsers);
        }

        var index = oldUsers.findIndex(function (user) {
            return user.username === context.selectedUser.username;
        });
        // Note that > -1 means that the user IS in the array. If index is 0, the user is already in the correct position
        // at the start of the array and there is nothing to do.
        if (index <= 0) {
            return next(oldUsers);
        }

        // Put this user at the start of the array.
        var user = oldUsers[index];
        var newUsers = oldUsers.slice(0); // clone the array to avoid modifying the original
        newUsers.splice(index, 1);
        newUsers.unshift(user);

        return next(newUsers);
    }

    /**
     * fuseScore is available on all user results for a query-term search, so we can sort at any point in the pipeline.
     */
    function sortOnScore(users, next) {
        if (users.length && typeof users[0].fuseScore === 'number') {
            // If the first result has a fuseScore they all will.
            users.sort(function (user1, user2) {
                return user1.fuseScore - user2.fuseScore;
            });
        }
        next(users);
    }

    function limit(array, next, context) {
        next(array.slice(0, context.DISPLAY_LIMIT));
    }

    // Called in the Server pipeline when there are no results.
    function userNotFound(results, next) {
        if (!results.length) {
            var notFoundResult = RenderUtils.resultWithHtml(Templates.Mentions.userNotFoundResult());
            results = [notFoundResult];
        }

        next(results);
    }

    function empty(results, next) {
        if (!results.length) {
            next([RenderUtils.resultWithHtml(Templates.Mentions.loadingPlaceholder())]);
        } else {
            next(results);
        }
    }

    function addErrorResult(results, next) {
        var failureResult = RenderUtils.resultWithHtml(Templates.Mentions.searchFailureResult());
        next([failureResult]);
    }

    /**
     * This function convert Users from API format to something that the Dropdown can display.
     *
     * All elements in the results array should be Users in API format.
     * If you want to add other elements to the results array, do this *after* convertUsers in the pipeline
     *
     * @param results
     * @param next
     */
    function convertUsers(results, next) {
        next(ConvertUsers(results));
    }

    // Don't continue the render if the query is stale.
    function staleServerResponseFilter(results, next, context) {
        if (context.latestQuery === context.query) {
            next(results);
        }
    }

    exports.default = {

        default: function _default(renderCallback) {
            return [ResultPlaceholder.cancelTimeout, filterServerResults, ensureDefaultOrder, limit, ScoreBooster.setSuggestedUsers, convertUsers, renderCallback];
        },

        client: function client(renderCallback) {
            return [ResultPlaceholder.cancelTimeout, filterUsingQuery, ScoreBooster.boostScores, sortOnScore, limit, moveSelectedUserToTop, convertUsers, ResultPlaceholder.startTimeout, empty, renderCallback];
        },
        server: function server(renderCallback) {
            return [ResultPlaceholder.cancelTimeout, staleServerResponseFilter, filterUsingQuery, ScoreBooster.boostScores, sortOnScore, limit, moveSelectedUserToTop, scoreLogger, convertUsers, userNotFound, renderCallback];
        },

        error: function error(renderCallback) {
            return [ResultPlaceholder.cancelTimeout, addErrorResult, renderCallback];
        },

        _functions: {
            moveSelectedUserToTop: moveSelectedUserToTop,
            sortOnScore: sortOnScore
        }
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(16), __webpack_require__(15)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _utils, _templates) {
    'use strict';

    var RenderUtils = _interopRequireDefault(_utils).default;

    var Templates = _interopRequireDefault(_templates).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var displayTimeout = void 0;

    function _padResults(results, context) {
        var additionalElements = context.DISPLAY_LIMIT - results.length;
        if (additionalElements > 0) {
            var placeholder = RenderUtils.resultWithHtml(Templates.Mentions.loadingPlaceholder());
            for (var index = 0; index < additionalElements; index++) {
                results.push(placeholder);
            }
        }
        return results;
    }

    function startTimeout(results, next, context) {
        displayTimeout = setTimeout(function () {
            results = _padResults(results, context);
            next(results);
        }, window.skeletonPlaceholder || 3000); // CONFSRVDEV-3833 Remove once an appropriate value has been found.
        next(results);
    }

    function cancelTimeout(results, next) {
        clearTimeout(displayTimeout);
        next(results);
    }

    exports.default = {
        startTimeout: startTimeout,
        cancelTimeout: cancelTimeout
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(2), __webpack_require__(10), __webpack_require__(1), __webpack_require__(44)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _meta, _i18n, _userSupplierKeys, _darkFeatures) {
    'use strict';

    var Meta = _interopRequireDefault(_meta).default;

    var I18n = _interopRequireDefault(_i18n).default;

    var UserSupplier = _interopRequireDefault(_userSupplierKeys).default;

    var DarkFeatures = _interopRequireDefault(_darkFeatures).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    /**
     * Converts Users from API format to something that the Dropdown can display.
     */
    var contextPath = Meta.get('context-path');

    function getProfilePicture(user) {
        if (user && user.profilePicture && Meta.get('can-view-profile')) {
            // HACK - work around CONFSRVDEV-2936 by removing the dud context-path from the path.
            return user.profilePicture.path.replace('/_' + contextPath, '/_');
        }
        return contextPath + '/images/icons/profilepics/anonymous.svg';
    }

    var converter = function converter(users) {
        var addRecentLozenge = DarkFeatures.isEnabled('smart.mentions.recent.lozenge');
        var linkBase = Meta.get('base-url') + '/display/~';

        return users.map(function (user) {
            var link = linkBase + user.username;

            var lozenge = user.supplier === UserSupplier.RELATED && user.role && user.role.i18n;

            if (!lozenge && addRecentLozenge) {
                // Including a lozenge for Recent helps us see why an item is promoted, but make it opt-in.
                lozenge = user.supplier === UserSupplier.RECENT && I18n('user.supplier.recent');
            }
            // Uncomment this line to see why the results are in the order they are.
            // const lozenge = "" + user.fuseScore;

            return {
                className: 'insert-mentions-dropdown-option',
                name: user.displayName,
                username: user.username,
                href: link, // only used if the user tries to middle-click/open-in-new-tab the dropdown item
                icon: getProfilePicture(user),
                lozenge: lozenge,
                link: link,
                model: user,
                fuseMatches: user.fuseMatches
            };
        });
    };

    // Available for unit testing.
    converter._getProfilePicture = getProfilePicture;

    exports.default = converter;
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 44 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_44__;

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(4)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _recentUsersSupplier) {
    "use strict";

    var RecentUsers = _interopRequireDefault(_recentUsersSupplier).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
        return typeof obj;
    } : function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };

    var supplierToScoreMap = {
        "current": 1,
        "recent": 2,
        "related": {
            "creator": 3,
            "contributor": 4,
            "commenter": 5
        },
        "server": 6
    };

    var MAX_SCORE = 100;

    function scoreUser(user) {
        var potentialScore = supplierToScoreMap[user.supplier];

        if (typeof potentialScore === "number") {
            if (typeof user.sortIndex === "number") {
                // This allows us to sort recent users coming out of the cache. The highest calculated score will be just < 3.
                potentialScore += user.sortIndex / (RecentUsers.RECENT_USER_LIMIT + 1);
            }
            return potentialScore;
        }

        // Not a number, probably another object, index into it with role
        // Otherwise, it might have been undefined
        return (typeof potentialScore === "undefined" ? "undefined" : _typeof(potentialScore)) === "object" ? potentialScore[user.role.role] : MAX_SCORE;
    }

    function ensureDefaultOrder(results, next) {
        var sorted = results.sort(function (user1, user2) {
            return scoreUser(user1) - scoreUser(user2);
        });
        next(sorted);
    }

    exports.default = ensureDefaultOrder;
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs) {
    "use strict";

    exports.default = logScores;

    var AJS = _interopRequireDefault(_ajs).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict";

    /**
     * Just used during development, logs result score information to help us figure out reasons for result order.
     */
    function logScores(results, next, context) {
        if (context.query) {
            AJS.debug("*** Mentions *** user-pipeline/logger: Logging search results for " + context.query);

            results.forEach(function (user) {
                AJS.debug("*** Mentions *** user-pipeline/logger: " + user.displayName + " has a score of " + user.fuseScore);
            });
        }

        next(results);
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _userSupplierKeys) {
    "use strict";

    var DEFAULT_SUPPLIERS = [_userSupplierKeys.RECENT, _userSupplierKeys.CURRENT, _userSupplierKeys.RELATED];

    function filterServerResults(results, next) {
        var filteredUsers = results.filter(function (user) {
            return DEFAULT_SUPPLIERS.indexOf(user.supplier) !== -1;
        });
        next(filteredUsers);
    }

    exports.default = filterServerResults;
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports) {
    "use strict";

    function PipelineExecutor(pipeline, context) {
        this.pipeline = pipeline;
        this.context = context;
    }

    PipelineExecutor.prototype.execute = function (input) {
        this._next(0, input);
    };

    PipelineExecutor.prototype._next = function (index, results) {
        this.pipeline[index](results, this._next.bind(this, index + 1), this.context);
    };

    exports.default = PipelineExecutor;
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, exports, __webpack_require__(0), __webpack_require__(50), __webpack_require__(18)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (module, exports, _ajs, _analyticsSupport, _autocompleteManager) {
    'use strict';

    var AJS = _interopRequireDefault(_ajs).default;

    var Analytics = _interopRequireDefault(_analyticsSupport).default;

    var AutocompleteManager = _interopRequireDefault(_autocompleteManager).default;

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    "use strict";

    function publishEventForSelection(user) {
        var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

        var idd = typeof AutocompleteManager.getInputDrivenDropdown === 'function' && AutocompleteManager.getInputDrivenDropdown();
        if (!idd || !user) {
            AJS.debug("Cannot publish 'confluence.mention.selection' analytics with missing dropdown, user or context.");
            return;
        }

        var query = idd._value || '';
        var dd = idd.dd;
        var index = dd && typeof dd.getFocusIndex === 'function' && dd.getFocusIndex();

        var analyticsData = {
            source: user.model.supplier,
            queryLength: query.length,
            queryWords: query.split(' ').length,
            index: index,
            numberOfSearches: context.numGetDataAndRunCallbackCalls
        };

        // By publishing the supplier source of the selected User, we can determine whether users are finding
        // the users they need from the Smart mentions or whether they still have to wait for the Dumb (server)
        // ones.
        Analytics.publish('confluence.mention.selection', analyticsData);
        AJS.debug("Published 'confluence.mention.selection' event with supplier: " + user.model.supplier);
    }

    /**
     * Updates the state of the current Mention interaction.
     * @param autoCompleteControl
     */
    function updateSession(autoCompleteControl) {
        autoCompleteControl.analytics = Object.assign({
            numGetDataAndRunCallbackCalls: 0
        }, autoCompleteControl.analytics);

        autoCompleteControl.analytics.numGetDataAndRunCallbackCalls += 1;
    }

    exports.default = {
        updateSession: updateSession,
        publishEventForSelection: publishEventForSelection
    };
    module.exports = exports['default'];
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 50 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_50__;

/***/ }),
/* 51 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_51__;

/***/ }),
/* 52 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_52__;

/***/ })
/******/ ])});;
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-resources', location = '/js/smart-mentions-init.js' */
require([
    'confluence-editor/loader/tinymce-bootstrap',
    'confluence-mentions'
], function (BootstrapManager,
             Mentions) {
    // Main entry point to Smart Mentions logic. To lower page weight, we could potentially pull in the Mentions
    // bundle.js via a WRM.require on the bootstrap init.
    BootstrapManager.addOnInitCallback(Mentions.init);
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-editor-resources', location = '/js/slow-edit-handler.js' */
require(["confluence/fh/utils/dom","ajs"],function(c,a){a.toInit(function(){var b=a.Meta.get("browse-page-tree-mode");if("create"===b||"edit"===b)c.addClassToPage(),$("#content").css({paddingRight:0})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.share-page:edit-resources', location = 'js/edit-init.js' */
require(["ajs","confluence/meta","confluence/share-page/service/share-page","confluence/share-page/service/share-dialog-loader","confluence/dark-features"],function(b,c,m,q,r){function l(){if("page"===c.get("content-type")||"blogpost"===c.get("content-type")){var d=b.$;d("#rte-toolbar").prepend(d(document.createElement("button")).prop("id","#inviteToEditLink".replace("#","")).attr("aria-label","Invite people to edit with you").attr("aria-haspopup",!0).attr("aria-expanded",!1).addClass("aui-button").addClass("invite-to-edit-button").html('\x3cspan class\x3d"invite-plus-icon"\x3e\x3c/span\x3e').tooltip({title:function(){return "Invite people to edit with you"},
gravity:"ne"}));var f=d("#inviteToEditLink"),n="page"===c.get("content-type")?"Let\u0027s work together on this page":"Let\u0027s work together on this blog post",p=function(){var a=d("#inline-dialog-inviteToEditPopup .share-content-popup"),e=d().add(a.find("button, input, select, textarea")).add(a.find("[href]")).add(a.find("[tabindex]:not([tabindex\x3d'-1'])"));a.focus().keydown(function(g){if("tab"===g.key.toLowerCase()){var h=d(g.target);if(g.shiftKey){if(h.is(a)||
h.is(e.first()))g.preventDefault(),e.last().focus()}else h.is(e.last())&&(g.preventDefault(),e.first().focus())}})},k=!1;m.initDialog("#inviteToEditLink","inviteToEditPopup",{},{heading:"Invite people to edit",notePlaceholder:n,link:function(){return require("confluence/share-page/fetch/content-info")(c.get("content-id"),"draft").then(function(a){return c.get("base-url")+a._links.edit})},entityId:function(){return c.get("draft-id")},restriction:function(){return require("confluence/share-page/fetch/content-restrictions")(c.get("content-id")).then(function(a){var e=
{};if(a.read.restrictions.user.size||a.read.restrictions.group.size||a.update.restrictions.user.size||a.update.restrictions.group.size)e.type="restrict",e.message="Restrictions on this page may prevent people viewing or editing.";return e})},copyOption:"invite",shareType:"edit",contentType:c.get("content-type"),errorText:"An unexpected error occurred. Please try again.",beforeLoad:function(){f.find(".invite-plus-icon").css("visibility","hidden");f.spin()},afterLoad:function(){f.find(".invite-plus-icon").css("visibility","visible");
f.spinStop()},onShow:function(){f.attr("aria-expanded",!0);var a=d("#inline-dialog-inviteToEditPopup").find('a[href]:visible, input:visible, button:not([disabled]):visible, textarea:visible, select:visible, details:visible,[tabindex]:not([tabindex\x3d"-1"]):visible').first();a&&a.focus();p();k=!0},onHide:function(){k&&(f.attr("aria-expanded",!1),d(document).off("keyup").on("keyup",function(a){27===a.keyCode&&f.focus()}));k=!1}})}}"collaborative"===c.get("edit-mode")&&c.get("remote-user")&&(b.Rte.getEditor()&&
b.Rte.getEditor().initialized?l():b.bind("rte-collab-ready",l))});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.deprecated.pattern.toolbar1', location = 'aui.chunk.e2ceb6179a3dfd3a1965--b46fb3bf0ab98bc554e3.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[4825],{1996:(u,a,i)=>{i.r(a)}},u=>{var a;a=1996,u(u.s=a)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.keyboardshortcuts:confluence-tinymce-keyboard-shortcuts', location = 'js/tinymce-plugin.js' */
define("confluence-keyboard-shortcuts/tinymce-plugin",["confluence-keyboard-shortcuts/confluence-keyboard-shortcuts"],function(d){var e={init:function(a){for(var b=function(b){return function(){a.execCommand("FormatBlock",!1,b)}},c=1;7>c;c++)a.addCommand("FormatBlock-h"+c,b("h"+c));a.addCommand("FormatBlock-p",b("p"));a.addCommand("FormatBlock-pre",b("pre"));a.addCommand("FormatBlock-blockquote",b("blockquote"));a.addCommand("mceConfShortcutDialog",d.keyboardShortcuts.openDialog);a.ui.registry.addButton("help",
{text:"confluence.conf_shortcuts_help_desc",onAction:function(){a.execCommand("mceConfShortcutDialog")}})},getInfo:function(){return{longname:"Atlassian Editor Keyboard Shortcuts Plugin",author:"Atlassian",authorurl:"http://www.atlassian.com"}}};return function(){return e}});require("confluence/module-exporter").safeRequire("confluence-keyboard-shortcuts/tinymce-plugin",function(d){require("tinymce").PluginManager.add("keyboardshortcuts",d)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.sticky-table-headers:stickytableheaders-resources', location = '/js/vendor/jquery.stickytableheaders.js' */
/*! Modified by Atlassian | Copyright (c) 2011 by Jonas Mosbech - https://github.com/jmosbech/StickyTableHeaders
	MIT license info: https://github.com/jmosbech/StickyTableHeaders/blob/master/license.txt */
!function($,window,undefined){"use strict";var name="stickyTableHeaders",id=0,defaults={fixedOffset:0,leftOffset:0,marginTop:0,objDocument:document,objHead:"head",objWindow:window,scrollableArea:window,cacheHeaderHeight:!1};function Plugin(el,options){var base=this;base.$el=$(el),base.el=el,base.id=id++,base.$el.bind("destroyed",$.proxy(base.teardown,base)),base.$clonedHeader=null,base.$originalHeader=null,base.cachedHeaderHeight=null,base.isSticky=!1,base.hasBeenSticky=!1,base.leftOffset=null,base.topOffset=null,base.init=function(){base.setOptions(options),base.$el.each((function(){var $this=$(this);$this.css("padding",0),base.$originalHeader=$("thead:first",this),base.$clonedHeader=base.$originalHeader.clone(),$this.trigger("clonedHeader."+name,[base.$clonedHeader]),base.$clonedHeader.addClass("tableFloatingHeader"),base.$clonedHeader.css("display","none"),base.$originalHeader.addClass("tableFloatingHeaderOriginal"),base.$originalHeader.after(base.$clonedHeader),base.$printStyle=$('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}</style>'),base.$head.append(base.$printStyle)})),base.updateWidth(),base.toggleHeaders(),base.bind()},base.destroy=function(){base.$el.unbind("destroyed",base.teardown),base.teardown()},base.teardown=function(){base.isSticky&&base.$originalHeader.css("position","static"),$.removeData(base.el,"plugin_"+name),base.unbind(),base.$clonedHeader.remove(),base.$originalHeader.removeClass("tableFloatingHeaderOriginal"),base.$originalHeader.css("visibility","visible"),base.$printStyle.remove(),base.el=null,base.$el=null},base.bind=function(){base.$scrollableArea.on("scroll."+name,base.toggleHeaders),base.isWindowScrolling||(base.$window.on("scroll."+name+base.id,base.setPositionValues),base.$window.on("resize."+name+base.id,base.toggleHeaders)),base.$scrollableArea.on("resize."+name,base.toggleHeaders),base.$scrollableArea.on("resize."+name,base.updateWidth)},base.unbind=function(){base.$scrollableArea.off("."+name,base.toggleHeaders),base.isWindowScrolling||(base.$window.off("."+name+base.id,base.setPositionValues),base.$window.off("."+name+base.id,base.toggleHeaders)),base.$scrollableArea.off("."+name,base.updateWidth)},base.debounce=function(fn,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer),timer=setTimeout((function(){fn.apply(context,args)}),delay)}},base.toggleHeaders=base.debounce((function(){base.$el&&base.$el.each((function(){var newLeft,$this=$(this),newTopOffset=base.isWindowScrolling?isNaN(base.options.fixedOffset)?base.options.fixedOffset.outerHeight():base.options.fixedOffset:base.$scrollableArea.offset().top+(isNaN(base.options.fixedOffset)?0:base.options.fixedOffset),offset=$this.offset(),scrollTop=base.$scrollableArea.scrollTop()+newTopOffset,scrollLeft=base.$scrollableArea.scrollLeft(),headerHeight=base.options.cacheHeaderHeight?base.cachedHeaderHeight:base.$clonedHeader.height(),scrolledPastTop=base.isWindowScrolling?scrollTop>offset.top:newTopOffset>offset.top,notScrolledPastBottom=(base.isWindowScrolling?scrollTop:0)<offset.top+$this.height()-headerHeight-(base.isWindowScrolling?0:newTopOffset);scrolledPastTop&&notScrolledPastBottom?(newLeft=offset.left-scrollLeft+base.options.leftOffset,base.$originalHeader.css({position:"fixed","margin-top":base.options.marginTop,left:newLeft,"z-index":3}),base.leftOffset=newLeft,base.topOffset=newTopOffset,base.$clonedHeader.css("display",""),base.isSticky||(base.isSticky=!0,base.updateWidth(),$this.trigger("enabledStickiness."+name)),base.setPositionValues()):base.isSticky&&(base.$originalHeader.css("position","static"),base.$clonedHeader.css("display","none"),base.isSticky=!1,base.resetWidth($("td,th",base.$clonedHeader),$("td,th",base.$originalHeader)),$this.trigger("disabledStickiness."+name))}))}),0),base.setPositionValues=base.debounce((function(){var winScrollTop=base.$window.scrollTop(),winScrollLeft=base.$window.scrollLeft();!base.isSticky||winScrollTop<0||winScrollTop+base.$window.height()>base.$document.height()||winScrollLeft<0||winScrollLeft+base.$window.width()>base.$document.width()||base.$originalHeader.css({top:base.topOffset-(base.isWindowScrolling?0:winScrollTop),left:base.leftOffset-(base.isWindowScrolling?0:winScrollLeft)})}),0),base.updateWidth=base.debounce((function(){if(base.isSticky){base.$originalHeaderCells||(base.$originalHeaderCells=$("th,td",base.$originalHeader)),base.$clonedHeaderCells||(base.$clonedHeaderCells=$("th,td",base.$clonedHeader));var cellWidths=base.getWidth(base.$clonedHeaderCells);base.setWidth(cellWidths,base.$clonedHeaderCells,base.$originalHeaderCells),base.$originalHeader.css("width",base.$clonedHeader.width()),base.options.cacheHeaderHeight&&(base.cachedHeaderHeight=base.$clonedHeader.height())}}),0),base.getWidth=function($clonedHeaders){var widths=[];return $clonedHeaders.each((function(index){var width,$this=$(this);if("border-box"===$this.css("box-sizing")){var boundingClientRect=$this[0].getBoundingClientRect();width=boundingClientRect.width?boundingClientRect.width:boundingClientRect.right-boundingClientRect.left}else{if("collapse"===$("th",base.$originalHeader).css("border-collapse"))if(window.getComputedStyle)width=parseFloat(window.getComputedStyle(this,null).width);else{var leftPadding=parseFloat($this.css("padding-left")),rightPadding=parseFloat($this.css("padding-right")),border=parseFloat($this.css("border-width"));width=$this.outerWidth()-leftPadding-rightPadding-border}else width=$this.width()}widths[index]=width})),widths},base.setWidth=function(widths,$clonedHeaders,$origHeaders){$clonedHeaders.each((function(index){var width=widths[index];$origHeaders.eq(index).css({"min-width":width,"max-width":width})}))},base.resetWidth=function($clonedHeaders,$origHeaders){$clonedHeaders.each((function(index){var $this=$(this);$origHeaders.eq(index).css({"min-width":$this.css("min-width"),"max-width":$this.css("max-width")})}))},base.setOptions=function(options){base.options=$.extend({},defaults,options),base.$window=$(base.options.objWindow),base.$head=$(base.options.objHead),base.$document=$(base.options.objDocument),base.$scrollableArea=$(base.options.scrollableArea),base.isWindowScrolling=base.$scrollableArea[0]===base.$window[0]},base.updateOptions=function(options){base.setOptions(options),base.unbind(),base.bind(),base.updateWidth(),base.toggleHeaders()},base.init()}$.fn[name]=function(options){return this.each((function(){var instance=$.data(this,"plugin_"+name);instance?"string"==typeof options?instance[options].apply(instance):instance.updateOptions(options):"destroy"!==options&&$.data(this,"plugin_"+name,new Plugin(this,options))}))}}(jQuery,window);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.sticky-table-headers:stickytableheaders-resources', location = '/js/lib/utils.js' */
define("sticky-table-headers/utils",["jquery"],function(d){var e=function(){return!d("body").hasClass("theme-documentation")};return{isAValidTable:function(a){a=d(a);var b;if(b=e()&&!a.hasClass("stickyTableHeaders")&&0< !a.closest(".columnLayout").length&&0< !a.parents("table").length&&a.find("\x3e thead:first").is(":visible")&&1===a.find("thead").children().length&&1===a.find(".confluenceTh").parent().length)b=0===a.find(".confluenceTh").siblings().length||0===a.find(".confluenceTh").siblings().not(".confluenceTh").length;
return b},bindHorizontalScrolling:function(a,b){var c=b||d(window);a.closest(".table-wrap").scroll(function(){c.trigger("scroll.stickyTableHeaders")})},moveHeaderRowsToTHead:function(a){d(a).each(function(){var b=d(this);if(!(0<b.find("\x3e thead").length)){var c=b.find("\x3e tbody \x3e :first-child \x3e :first-child.confluenceTh");!(0>=c.length||0<c.parent().find("\x3e .confluenceTh[rowspan]").length)&&0< !b.parents("table").length&&0< !b.closest(".columnLayout").length&&(c=d("\x3cthead /\x3e").append(c.parent()),
b.prepend(c))}})},isNotDocumentationTheme:e}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.sticky-table-headers:stickytableheaders-resources', location = '/js/lib/viewpage.js' */
define("sticky-table-headers/viewpage",["jquery","ajs","sticky-table-headers/utils"],function(c,l,d){var e,h,f,n=function(a,b){a=c(a).filter(function(){return d.isAValidTable(this)});a.stickyTableHeaders(b).addClass("stickyTableHeaders");f?f.add(a):f=a;b=function(m,g){f.stickyTableHeaders(g)};h&&l.unbind("sticky-table-headers.change.options",h);l.bind("sticky-table-headers.change.options",b);h=b;d.bindHorizontalScrolling(a)};return{initialize:function(){var a=c(".confluenceTable:not(.stickyTableHeaders)"),
b=c(window);if(d.isNotDocumentationTheme()){d.moveHeaderRowsToTHead(a);if(window.MutationObserver){a=document.querySelector("#page")||document.querySelector("#confluence-ui");var m=/sticky|tableFloating|confluenceTh/,g=new MutationObserver(c.debounce(function(p){for(var q=!1,r,k=0,t=p.length;k<t;k++)if(r=p[k].target.className,!m.test(r)){q=!0;break}q&&b.trigger("resize.stickyTableHeaders")},0));e&&e.unobserve&&e.unobserve();g.observe(a,{subtree:!0,attributes:!0,childList:!0});e=g}n(c(".confluenceTable"),
{cacheHeaderHeight:!0})}},setupTable:n}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.sticky-table-headers:stickytableheaders-resources', location = '/js/lib/editor.js' */
define("sticky-table-headers/editor",["ajs","jquery","sticky-table-headers/utils"],function(f,c,e){var h=function(a){var b={};b.objWindow=c(a.getWin());b.scrollableArea=b.objWindow;b.objDocument=c(a.getDoc());b.objHead=b.objDocument.find("head");return b},g=function(a,b){var d=f.Rte.getEditor();d&&(d=h(d),b=c.extend({},d,b),a=c(a).filter(function(){return e.isAValidTable(this)}),a.stickyTableHeaders(b).addClass("stickyTableHeaders"),e.bindHorizontalScrolling(a,b.objWindow))};return{initialize:function(){var a=
f.Rte.getEditor();a&&(a=c(a.getBody()).find(".confluenceTable"),e.moveHeaderRowsToTHead(a),g(a))},setupTable:g}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.sticky-table-headers:stickytableheaders-resources', location = '/js/stickytableheaders.js' */
define("sticky-table-headers",["ajs","sticky-table-headers/viewpage","sticky-table-headers/editor","jquery"],function(a,c,b,d){var e=a.debounce(c.initialize,0);return{initialize:function(){a.DarkFeatures.isEnabled("confluence-table-enhancements.sticky-headers.disabled")||d(function(){e()});a.DarkFeatures.isEnabled("confluence-table-enhancements.sticky-headers-editor")&&(a.bind("rte-ready",b.initialize),a.bind("rte-quick-edit-push-state",b.initialize),a.bind("rte-quick-edit-push-hash",b.initialize))}}});
require("sticky-table-headers").initialize();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.image.effects.ImageEffectsPlugin:propertiespanel', location = 'com/atlassian/confluence/image/effects/property-panel.js' */
AJS.toInit(function(e){function u(){AJS.bind("dialog-created.image-properties",function(a,c){d=c.img;n()?d.naturalHeight&&d.naturalWidth&&16E6<d.naturalHeight*d.naturalWidth?Confluence.Editor.ImageProps.registerPanel("image-effects",k("This image is too large to rotate or apply image effects. You\u0027ll need to upload a smaller version of the file."),"image-effects-panel",null):Confluence.Editor.ImageProps.registerPanel("image-effects",k(),"image-effects-panel",v):Confluence.Editor.ImageProps.registerPanel("image-effects",k("Image effects can\u0027t be applied to web images"),
"image-effects-panel",null)});AJS.bind("dialog-before-show.image-properties",function(){p();q(l(e(d)))})}function w(){var a=new AJS.Dialog({width:600,height:500,id:"image-effects-dialog"});a.addHeader("Add Image Effect");a.addPanel("",k(),"");p();a.addSubmit("Save",function(){r(x,y).done(function(){a.hide()})});a.addCancel("Close",function(){a.hide()});AJS.Confluence.PropertyPanel.Image.pluginButtons.push(null,
{create:function(c){d=c[0];c=l(c);var b=!n();return{className:"image-effects",text:"Effects...",tooltip:b?"Image effects can\u0027t be applied to web images":"Add an image effect like drop shadow or picture frame",click:function(){if(d.naturalHeight&&d.naturalWidth&&16E6<d.naturalHeight*d.naturalWidth)return alert("This image is too large to rotate or apply image effects. You\u0027ll need to upload a smaller version of the file."),!1;q(l(e(d)));AJS.Confluence.PropertyPanel.destroy();a.show()},disabled:b,selected:!!c}}})}function z(a,
c){var b=a.attr("src"),f=A.exec(b),h=c?"effects\x3d"+c:"";f?b=b.replace(f[2],h):c&&(b=b+(-1!=b.indexOf("?")?"\x26":"?")+h);a.attr("src",b);a.attr("data-mce-src",b);c=(c=a.attr("confluence-query-params"))?(f=t.exec(c))?c.replace(f[2],h):c+"\x26"+h:h;a.attr("confluence-query-params",c)}function l(a){a=a.attr("confluence-query-params");if(a=t.exec(a))return a[3]}function q(a){e(".image-effect-preview.selected").removeClass("selected");a?e(g).each(function(c,b){if(b.effects==a)return e(e(".image-effect-preview")[c]).addClass("selected"),
!1}):e(".image-effect-preview.image-effect-none").addClass("selected");m=a}function k(a){return a?'\x3cdiv class\x3d"aui-message aui-message-warning warning"\x3e\x3cspan class\x3d"aui-icon icon-warning"\x3e\x3c/span\x3e'+a+"\x3c/div\x3e":'\x3cdiv class\x3d"image-effects"\x3e\x3cul class\x3d"image-list"\x3e\x3c/ul\x3e\x3c/div\x3e'}function p(){for(var a=e("div.image-effects ul.image-list"),c=Math.floor(22*Math.random())+1,b=0;b<g.length;b++){var f=e('\x3cli class\x3d"attached-image image-effect-preview'+
(g[b].effects?"":" image-effect-none")+'"\x3e\x3cdiv class\x3d"image-container"\x3e\x3cimg class\x3d"thumbnail" src\x3d"'+AJS.contextPath()+"/plugins/servlet/imgFilter.png?preview\x3dtrue\x26id\x3d"+c+"\x26effects\x3d"+g[b].effects+'" title\x3d"'+g[b].name+'" style\x3d"margin-top: 5px"\x3e\x3c/div\x3e\x3cspan class\x3d"caption filename" title\x3d"'+g[b].name+'"\x3e'+g[b].name+"\x3c/span\x3e\x3c/li\x3e");f.hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")});a.append(f);
f.click(g[b],function(h){e(".image-effect-preview.selected").removeClass("selected");e(this).addClass("selected");m=h.data.effects})}}function n(){return!e(d).hasClass("confluence-external-resource")}function v(){return r()}function r(a,c){function b(){c&&c();f.resolve();d.onload=null;tinyMCE.activeEditor.undoManager.add()}var f=e.Deferred();a&&a();d.onload=b;a=d.src;z(e(d),m);d.src==a&&b();return f}function x(){var a=dialog.popup.element,c=650/60,b=e('\x3cdiv class\x3d"image-properties-loading-blanket"\x3e\x3cdiv class\x3d"loading-data"\x3e\x3c/div\x3e\x3c/div\x3e').appendTo(a.find(".dialog-page-body")),
f=b.find(".loading-data");b.css({width:b.parent().width(),height:a.height()});f.css({marginTop:-60,marginLeft:-60});f.spin({color:"var(--ds-text, #666)",width:c,radius:25,length:25,top:0,left:0,zIndex:0,speed:1.042})}function y(){var a=dialog.popup.element.find(".image-properties-loading-blanket .loading-data");a.css({marginTop:"",marginLeft:""});a.spinStop();a.closest(".image-properties-loading-blanket").remove()}var d,A=/(\?|&)(effects=[^&]+)($|&)/,t=/(^|&)(effects=([^&]+))($|&)/,m=null,g=[];g.push({name:"None",
effects:null});g.push({name:"Taped",effects:"border-simple,blur-border,tape"});g.push({name:"Instant Camera",effects:"border-polaroid,blur-border"});g.push({name:"Curl Shadow",effects:"border-simple,shadow-kn"});g.push({name:"Snapshot",effects:"border-simple,blur-border"});g.push({name:"Drop Shadow",effects:"drop-shadow"});Confluence.Editor.ImageProps?
u():w()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:editor', location = '/js/editor.js' */
require(["internal/browser-metrics","jquery"],function(a,e){e(function(){var c=AJS.Meta.get("content-type"),d=AJS.Meta.getBoolean("new-page")?"create":"edit",f=e("body");if((f.hasClass("edit")||f.hasClass("create"))&&c&&d)if(AJS.Meta.getBoolean("collaborative-content")){var b="confluence."+c+"."+d+".collaborative.view";a.start({key:b,isInitial:!0});AJS.bind("rte-collab-ready",function(){a.end({key:b});a.start({key:b+".connected"})});AJS.bind("synchrony.connected",function(){a.end({key:b+".connected"})})}else AJS.Meta.getBoolean("collaborative-content")||
a.start({key:"confluence."+c+"."+d+".view",ready:".active-richtext",isInitial:!0})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-utilities-resources', location = 'utils/roadmap-helper.js' */
(function($,_){var RM=Confluence.Roadmap=Confluence.Roadmap||{};RM.Helper={getPosXOnMonthTimeline:function(timeline,date){const startDate=Confluence.Roadmap.DateUtilities.parseDate(timeline.startDate);const dateToBeginRender=Confluence.Roadmap.DateUtilities.parseDate(date);var months=RM.DateUtilities.getNumberOfMonths(RM.DateUtilities.getStartOfMonth(startDate),RM.DateUtilities.getStartOfMonth(dateToBeginRender));var posX=months*Roadmap.MONTH_WIDTH;var pixelFromStartMonth=RM.DateUtilities.getMillisecondsFromStartMonth(dateToBeginRender)*
Roadmap.MONTH_WIDTH/RM.DateUtilities.getMillisecondsInMonth(dateToBeginRender);return Math.round(posX+pixelFromStartMonth)},getPosXOnWeekTimeline:function(timeline,startDate){const date=Confluence.Roadmap.DateUtilities.parseDate(timeline.startDate);const startDateTimelineStartFromMonday=RM.DateUtilities.getStartOfIsoWeek(date);const weeks=(startDate-startDateTimelineStartFromMonday)/RM.DateUtilities.MILLISECONDS_A_WEEK;const posX=weeks*Roadmap.WEEK_WIDTH;return Math.round(posX)},getWidthTimeline:function(timeline,
bar){var barWidth=bar.duration;if(timeline.displayOption===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH)barWidth*=Roadmap.MONTH_WIDTH;else barWidth*=Roadmap.WEEK_WIDTH;return barWidth<Roadmap.EXTRA_SPACE_AROUND?0:Math.round(barWidth-Roadmap.EXTRA_SPACE_AROUND)},getMonthStartDateByPosition:function(timeline,positionX){const months=Math.floor(positionX/Roadmap.MONTH_WIDTH);const startDate=RM.DateUtilities.parseDate(timeline.startDate);const timelineStartMonth=RM.DateUtilities.getStartOfMonth(startDate);timelineStartMonth.setMonth(timelineStartMonth.getMonth()+
months);const daysWidth=Math.abs(positionX)%Roadmap.MONTH_WIDTH;if(daysWidth!==0&&months<0)daysWidth=Roadmap.MONTH_WIDTH-daysWidth;const msFromMonth=RM.DateUtilities.getMillisecondsInMonth(timelineStartMonth)*daysWidth/Roadmap.MONTH_WIDTH;return new Date(timelineStartMonth.getTime()+msFromMonth)},getWeekStartDateByPosition:function(timeline,positionX){const startDate=RM.DateUtilities.parseDate(timeline.startDate);const startDateTimeline=Confluence.Roadmap.DateUtilities.getStartOfIsoWeek(startDate);
const numberOfWeeks=positionX/Roadmap.WEEK_WIDTH;return new Date(startDateTimeline.setDate(startDateTimeline.getDate()+numberOfWeeks*7))},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})}};RM.ColorHelper={resetColorCounts:function(){_.each(Roadmap.COLORS,function(color){color.count=0})},findColor:function(color){return _.find(Roadmap.COLORS,function(roadmapColor){return roadmapColor.lane===color.lane})},
adjustColorCount:function(color,adjustAmount){var roadmapColor=RM.ColorHelper.findColor(color);if(roadmapColor)roadmapColor.count=roadmapColor.count+adjustAmount},getColor:function(){return _.min(Roadmap.COLORS,function(color){return color.count})}}})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-utilities-resources', location = 'utils/roadmap-utilities.js' */
(function(g,p){var e=Confluence.Roadmap=Confluence.Roadmap||{},h=AJS.Meta.get("user-locale").replace("_","-");e.DateUtilities={MILLISECONDS_A_DAY:864E5,MILLISECONDS_A_WEEK:6048E5,getStartOfIsoWeek:a=>new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay()+1),getEndOfIsoWeek:a=>new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay()+7),getStartOfMonth:a=>new Date(a.getFullYear(),a.getMonth(),1),getEndOfMonth:a=>new Date((new Date(a.getFullYear(),a.getMonth()+1,1)).getTime()-1),addMonths:(a,
b)=>{a=new Date(a);const c=a.getDate();a.setDate(1);a.setMonth(a.getMonth()+b);b=a.getFullYear();b=[31,0==b%4&&0!=b%100||0==b%400?29:28,31,30,31,30,31,31,30,31,30,31][a.getMonth()];a.setDate(Math.min(c,b));return a},areInSameWeek:(a,b)=>{a=new Date((new Date(a)).setHours(0,0,0,0));b=new Date((new Date(b)).setHours(0,0,0,0));return(new Date(a.setDate(a.getDate()-a.getDay()))).getTime()===(new Date(b.setDate(b.getDate()-b.getDay()))).getTime()},setIsoWeekday:(a,b)=>new Date(a.setDate(a.getDate()-a.getDay()+
b)),diffInYears:(a,b)=>Math.abs((new Date(b.getTime()-a.getTime())).getUTCFullYear()-1970),parseDate:function(a){if(!a)return null;if(a instanceof Date||"number"===typeof a||a.includes&&a.includes(":"))return new Date(a);a=a.split("-");var b=a[0].toString();const c=(new Date).getFullYear().toString();a[0]=c.substring(0,c.length-b.length)+b;b=Date.parse(a.join("-"));return isNaN(b)?null:new Date(new Date(a[0],a[1]-1,a[2]))},getDateStringFromDate:function(a,b){switch(b){case Roadmap.SHORT_DATE_FORMAT:return`${a.getFullYear()}-${(a.getMonth()+
1).toString().padStart(2,0)}-${a.getDate().toString().padStart(2,0)}`;case Roadmap.WEEK_FORMAT:return a.getDate().toString().padStart(2,"0")+"-"+a.toLocaleString(h,{month:"short"});case Roadmap.MONTH_FORMAT:return a.toLocaleString(h,{month:"short"});default:return a.getFullYear().toString()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0")+" "+a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0")+":"+a.getSeconds().toString().padStart(2,
"0")}},getNumberOfMonths:function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},getMillisecondsInMonth:function(a){return(new Date(a.getFullYear(),a.getMonth()+1,0)).getDate()*e.DateUtilities.MILLISECONDS_A_DAY},getMillisecondsFromStartMonth:function(a){return a.getTime()-(new Date(a.getFullYear(),a.getMonth(),1)).getTime()},calculateDurationInformation:function(a){var b=e.DateUtilities.getMillisecondsInMonth(a);a=e.DateUtilities.getMillisecondsFromStartMonth(a);var c=
b-a;return{totalMsOfMonth:b,msFromStartMonth:a,msRemainingOfMonth:c,durationOfMonth:a/b,remainingDurationOfMonth:c/b}},convertToWeekDuration:function(a,b){let c=new Date(a);var d=e.DateUtilities.calculateDurationInformation(a);b<=d.remainingDurationOfMonth?(b*=d.totalMsOfMonth,c=new Date(c.getTime()+b)):(c=new Date(c.getTime()+d.msRemainingOfMonth),b-=d.remainingDurationOfMonth,d=Math.floor(b),0<d&&c.setMonth(c.getMonth()+d),b%=1,d=e.DateUtilities.getMillisecondsInMonth(c),b*=d,c=new Date(c.getTime()+
b));return result=Math.abs(c.getTime()-a.getTime())/e.DateUtilities.MILLISECONDS_A_WEEK},convertToMonthDuration:function(a,b){const c=b*e.DateUtilities.MILLISECONDS_A_WEEK;var d=new Date(a.getTime()+c);b=12*d.getFullYear()+d.getMonth();b-=12*a.getFullYear()+a.getMonth();a=e.DateUtilities.calculateDurationInformation(a);0===b?b=c/a.totalMsOfMonth:(a=a.remainingDurationOfMonth,d=e.DateUtilities.calculateDurationInformation(d),a+=d.durationOfMonth,b=a+=b-1);return b}};e.FieldUtilities={fixDatePickerFields:function(a){a.find("input[data-aui-dp-uuid]").each(function(b,
c){var d=g(c),k=d.attr("data-aui-dp-uuid");d.on("click focus",function(){var f=g("[data-aui-dp-popup-uuid\x3d"+k+"]");if("5.4.5">=AJS.version){var l=f.datepicker("option","onSelect");f.datepicker("option","onSelect",function(m,n){l(m,n);d.change()})}f.parents(".aui-inline-dialog").addClass("datepicker-roadmap-patch")})})}}})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-models', location = '/models/model.js' */
(function(){window.Roadmap=window.Roadmap||{};Roadmap.Bar=Backbone.Model.extend({defaults:function(){return{id:Confluence.Roadmap.Helper.guid(),title:"New Bar",description:"",startDate:new Date,duration:1,rowIndex:0,pageLink:{}}}});Roadmap.Lane=Backbone.Model.extend({defaults:function(){return{title:"New Lane",color:Confluence.Roadmap.ColorHelper.getColor(),bars:[]}},initialize:function(){var a=new Roadmap.Bars(this.get("bars"));
this.set("bars",a)},getNumberOfRows:function(){var a=this.get("bars");if(0===a.length)return 0;var b=0;a.each(function(c){b=Math.max(c.get("rowIndex"),b)});return b+1}});Roadmap.Marker=Backbone.Model.extend({defaults:function(){return{title:"Marker"}}});Roadmap.Timeline=Backbone.Model.extend({defaults:function(){return{displayOption:Roadmap.TIMELINE_DISPLAY_OPTION.MONTH}},validate:function(a){var b=[],c=Confluence.Roadmap.DateUtilities.parseDate(a.startDateString);
a=Confluence.Roadmap.DateUtilities.parseDate(a.endDateString);c&&a?c>=a?b.push({name:"endDate",message:"Start date needs to be before the end date"}):Confluence.Roadmap.DateUtilities.diffInYears(c,a)>Roadmap.TIMELINE_YEARS_LIMIT&&b.push({name:"endDate",message:AJS.format("You cannot plan more than {0} years ahead.",Roadmap.TIMELINE_YEARS_LIMIT)}):b.push({name:"date",message:"Enter dates in yy-mm-dd"});return 0<b.length?b:!1},calculateTimelineColumns:function(){var a=Confluence.Roadmap.DateUtilities.parseDate(this.get("startDate")),
b=Confluence.Roadmap.DateUtilities.parseDate(this.get("endDate")),c=[];if(this.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH){a=Confluence.Roadmap.DateUtilities.getStartOfMonth(a);b=Confluence.Roadmap.DateUtilities.getEndOfMonth(b);do c.push({month:Confluence.Roadmap.DateUtilities.getDateStringFromDate(a,Roadmap.MONTH_FORMAT),year:a.getFullYear()}),a.setMonth(a.getMonth()+1);while(a<b)}else{a=Confluence.Roadmap.DateUtilities.getStartOfIsoWeek(a);b=Confluence.Roadmap.DateUtilities.getEndOfIsoWeek(b);
do c.push({month:Confluence.Roadmap.DateUtilities.getDateStringFromDate(a,Roadmap.WEEK_FORMAT),year:a.getFullYear()}),a.setDate(a.getDate()+7);while(a<b)}this.attributes.displayTimelineColumns=c}});Roadmap.Roadmap=Backbone.Model.extend({defaults:function(){return{title:"Roadmap Planner",lanes:[],markers:[]}},initialize:function(){var a=new Roadmap.Lanes(this.get("lanes"));this.set("lanes",a);a=new Roadmap.Markers(this.get("markers"));this.set("markers",a);a=new Roadmap.Timeline(this.get("timeline"));
this.set("timeline",a)},parse:function(a){return a.timeline?this.fromMacroData(a):Roadmap.getDefaultRoadmapData()},fromMacroData:function(a){var b=a.timeline;b.startDate=Confluence.Roadmap.DateUtilities.parseDate(b.startDate);b.endDate=Confluence.Roadmap.DateUtilities.parseDate(b.endDate);b=a.lanes;_.each(b,function(c){var d=c.bars;_.each(d,function(e){e.startDate=Confluence.Roadmap.DateUtilities.parseDate(e.startDate);e.id||(e.id=Confluence.Roadmap.Helper.guid())});c.bars=d});a.lanes=b;b=a.markers;
_.each(b,function(c){c.markerDate=Confluence.Roadmap.DateUtilities.parseDate(c.markerDate)});a.markers=b;return a},toMacroData:function(){var a=this.toJSON(),b=a.timeline.toJSON();b.startDate=Confluence.Roadmap.DateUtilities.getDateStringFromDate(b.startDate);b.endDate=Confluence.Roadmap.DateUtilities.getDateStringFromDate(b.endDate);delete b.displayTimelineColumns;a.timeline=b;b=a.lanes.toJSON();_.each(b,function(c){var d=c.bars.toJSON();_.each(d,function(e){e.startDate=Confluence.Roadmap.DateUtilities.getDateStringFromDate(e.startDate)});
c.bars=d});a.lanes=b;b=a.markers.toJSON();_.each(b,function(c){c.markerDate=Confluence.Roadmap.DateUtilities.getDateStringFromDate(c.markerDate)});a.markers=b;return a},updateDurationUnit:function(a){this.get("lanes").each(function(b){b.get("bars").each(function(c){var d=a===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?Confluence.Roadmap.DateUtilities.convertToMonthDuration(c.get("startDate"),c.get("duration")):Confluence.Roadmap.DateUtilities.convertToWeekDuration(c.get("startDate"),c.get("duration"));
c.attributes.duration=d})})}})})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-models', location = '/models/collection.js' */
(function(){window.Roadmap=window.Roadmap||{};Roadmap.Bars=Backbone.Collection.extend({model:Roadmap.Bar});Roadmap.Lanes=Backbone.Collection.extend({model:Roadmap.Lane});Roadmap.Markers=Backbone.Collection.extend({model:Roadmap.Marker})})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-toolbar-view-resources', location = 'view/roadmap-editor/toolbar/toolbar-templates.soy' */
// This file was automatically generated from toolbar-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Roadmap.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Roadmap == 'undefined') { Confluence.Templates.Roadmap = {}; }


Confluence.Templates.Roadmap.toolbar = function(opt_data, opt_ignored) {
  return '<div id="roadmap-editor-toolbar" class="aui-toolbar2"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-group"><div class="aui-toolbar2-primary">' + aui.buttons.buttons({content: '' + aui.buttons.button({id: 'toolbar-button-add-lane', text: ' ' + soy.$$escapeHtml('Add lane'), iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-add', iconText: 'Add'}) + aui.buttons.button({id: 'toolbar-button-add-bar', text: ' ' + soy.$$escapeHtml('Add bar'), iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-add', iconText: 'Add'}) + aui.buttons.button({id: 'toolbar-button-add-marker', text: ' ' + soy.$$escapeHtml('Add marker'), iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-add', iconText: 'Add'})}) + '</div><div class="aui-toolbar2-secondary">' + Confluence.Templates.Roadmap.timelineOptionsForm(null) + '</div></div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.toolbar.soyTemplateName = 'Confluence.Templates.Roadmap.toolbar';
}


Confluence.Templates.Roadmap.timelineOptionsForm = function(opt_data, opt_ignored) {
  return '' + aui.form.form({id: 'timeline-options-form', action: '#', content: '<fieldset>' + aui.form.selectField({id: 'timeline-display-options-select', labelContent: '' + soy.$$escapeHtml('View by'), options: [{text: 'Months', value: 'MONTH'}, {text: 'Weeks', value: 'WEEK'}], extraClasses: 'view-by'}) + aui.form.textField({id: 'timeline-startdate-input', name: 'startDate', isRequired: true, extraClasses: 'roadmap-toolbar-date start-date aui-date-picker'}) + ' - ' + aui.form.textField({id: 'timeline-enddate-input', name: 'endDate', isRequired: true, extraClasses: 'roadmap-toolbar-date end-date aui-date-picker'}) + '<div class="field-group timeline-field-group-error"><div id="roadmap-timeline-error" class="error"></div></div></fieldset>'});
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.timelineOptionsForm.soyTemplateName = 'Confluence.Templates.Roadmap.timelineOptionsForm';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-toolbar-view-resources', location = 'view/roadmap-editor/toolbar/toolbar.js' */
(function(f,e){window.Roadmap=window.Roadmap||{};Roadmap.ToolbarView=Backbone.View.extend({className:"roadmap-toolbar",events:{"click #toolbar-button-add-bar":"onAddBarClick","click #toolbar-button-add-lane":"onAddLaneClick","click #toolbar-button-add-marker":"onAddMarkerClick","change #timeline-display-options-select":"onTimelineOptionChange"},initialize:function(){e.bindAll(this,"render")},render:function(){f(this.$el).html(Confluence.Templates.Roadmap.toolbar());this._initVariables();this._setupTimelineOptionsForm();
return this},onAddBarClick:function(a){a.preventDefault();a=this.model.get("lanes").at(0);var c=a.get("bars"),b=this.model.get("timeline"),d=Confluence.Roadmap.DateUtilities.parseDate(this.model.get("timeline").get("startDate"));b=b.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?Confluence.Roadmap.DateUtilities.getStartOfMonth(d):Confluence.Roadmap.DateUtilities.getStartOfIsoWeek(d);c.add(new Roadmap.Bar({rowIndex:a.getNumberOfRows(),startDate:b}))},onAddLaneClick:function(a){a.preventDefault();
this.model.get("lanes").add(new Roadmap.Lane)},onAddMarkerClick:function(a){a=this.model.get("markers");const c=this.model.get("timeline"),b=Confluence.Roadmap.DateUtilities.parseDate(c.get("startDate")),d=Confluence.Roadmap.DateUtilities.parseDate(b);c.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?b.setDate(15):Confluence.Roadmap.DateUtilities.setIsoWeekday(b,4);a.add(new Roadmap.Marker({markerDate:d}))},onTimelineOptionChange:function(a){this.model.get("timeline").set({displayOption:this.$timelineSelect.val()})},
_initVariables:function(){this.$timelineForm=this.$el.find("#timeline-options-form");this.$startDateInput=this.$timelineForm.find("#timeline-startdate-input");this.$endDateInput=this.$timelineForm.find("#timeline-enddate-input");this.$timelineSelect=this.$timelineForm.find("#timeline-display-options-select");this.$timelineError=this.$timelineForm.find("#roadmap-timeline-error");this.newTimeline=new Roadmap.Timeline},_clearTimelineErrors:function(){this.$timelineError.empty()},_showTimelineErrors:function(){var a=
this;e.each(a.newTimeline.validationError,function(c){a.$timelineError.append(c.message)})},_applyNewTimeline:function(){this.model.get("timeline").set({startDate:Confluence.Roadmap.DateUtilities.parseDate(this.$startDateInput.val()),endDate:Confluence.Roadmap.DateUtilities.parseDate(this.$endDateInput.val())});this._showTimeLineFormat()},_showTimeLineFormat:function(){var a=this.model.get("timeline");this.$startDateInput.val(Confluence.Roadmap.DateUtilities.getDateStringFromDate(a.get("startDate"),
Roadmap.SHORT_DATE_FORMAT));this.$endDateInput.val(Confluence.Roadmap.DateUtilities.getDateStringFromDate(a.get("endDate"),Roadmap.SHORT_DATE_FORMAT))},_validate:function(){this._clearTimelineErrors();this.newTimeline.isValid()?this._applyNewTimeline():this._showTimelineErrors()},_setupTimelineOptionsForm:function(){var a=this.model.get("timeline"),c=Confluence.Roadmap.DateUtilities.parseDate(a.get("startDate")),b=Confluence.Roadmap.DateUtilities.parseDate(a.get("endDate"));c=Confluence.Roadmap.DateUtilities.getDateStringFromDate(c,
Roadmap.SHORT_DATE_FORMAT);b=Confluence.Roadmap.DateUtilities.getDateStringFromDate(b,Roadmap.SHORT_DATE_FORMAT);this.$startDateInput.val(c);this.$endDateInput.val(b);this.newTimeline.set({startDateString:c,endDateString:b});this.$timelineSelect.val(a.get("displayOption"));a={overrideBrowserDefault:!0,firstDay:1};this.$startDateInput.datePicker(a);this.$endDateInput.datePicker(a);this.$startDateInput.val(c);this.$endDateInput.val(b);Confluence.Roadmap.FieldUtilities.fixDatePickerFields(this.$timelineForm);
var d=this;this.$startDateInput.on("change",function(){d.newTimeline.set({startDateString:d.$startDateInput.val()});d._validate()});this.$endDateInput.on("change",function(){d.newTimeline.set({endDateString:d.$endDateInput.val()});d._validate()})}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-timeline-view-resources', location = 'view/roadmap-editor/timeline/timeline-templates.soy' */
// This file was automatically generated from timeline-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Roadmap.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Roadmap == 'undefined') { Confluence.Templates.Roadmap = {}; }


Confluence.Templates.Roadmap.timeline = function(opt_data, opt_ignored) {
  var output = '';
  var displayTimelineList3 = opt_data.displayTimelines;
  var displayTimelineListLen3 = displayTimelineList3.length;
  for (var displayTimelineIndex3 = 0; displayTimelineIndex3 < displayTimelineListLen3; displayTimelineIndex3++) {
    var displayTimelineData3 = displayTimelineList3[displayTimelineIndex3];
    output += '<div class="roadmap-column-title">' + ((displayTimelineIndex3 == 0 || displayTimelineData3.year != opt_data.displayTimelines[displayTimelineIndex3 - 1].year) ? '<span class="roadmap-column-year">' + soy.$$escapeHtml(displayTimelineData3.year) + '</span><br/>' : '') + soy.$$escapeHtml(displayTimelineData3.month) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.timeline.soyTemplateName = 'Confluence.Templates.Roadmap.timeline';
}


Confluence.Templates.Roadmap.timelineColumn = function(opt_data, opt_ignored) {
  var output = '';
  var iLimit14 = opt_data.numberOfColumns;
  for (var i14 = 0; i14 < iLimit14; i14++) {
    output += '<div class="roadmap-column-item">&nbsp;</div>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.timelineColumn.soyTemplateName = 'Confluence.Templates.Roadmap.timelineColumn';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-timeline-view-resources', location = 'view/roadmap-editor/timeline/timeline.js' */
(function(d,c){window.Roadmap=window.Roadmap||{};var b=Confluence.Roadmap.Helper;Roadmap.TimelineView=Backbone.View.extend({className:"roadmap-frame-title",initialize:function(){c.bindAll(this,"render")},render:function(){this.model.calculateTimelineColumns();this.$el.html(Confluence.Templates.Roadmap.timeline({displayTimelines:this.model.get("displayTimelineColumns")}));return this},update:function(){this.render()},getBarPosition:function(a){return this.model.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?
{left:b.getPosXOnMonthTimeline(this.model.attributes,a.startDate),width:b.getWidthTimeline(this.model.attributes,a)}:{left:b.getPosXOnWeekTimeline(this.model.attributes,a.startDate),width:b.getWidthTimeline(this.model.attributes,a)}},getBarDuration:function(a){return this.model.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?a/Roadmap.MONTH_WIDTH:a/Roadmap.WEEK_WIDTH},getBarStartDate:function(a){return this.model.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?b.getMonthStartDateByPosition(this.model.attributes,
a):b.getWeekStartDateByPosition(this.model.attributes,a)}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-timeline-view-resources', location = 'view/roadmap-editor/timeline/timeline-column.js' */
(function(c,b){window.Roadmap=window.Roadmap||{};Roadmap.TimelineColumnView=Backbone.View.extend({className:"roadmap-frame-content",initialize:function(){b.bindAll(this,"render")},render:function(){var a=this.model.get("displayTimelineColumns").length;this.$el.html(Confluence.Templates.Roadmap.timelineColumn({numberOfColumns:a}));return this},updateHeight:function(a){this.$el.height(a)},update:function(){this.render()},getSizeAndPosition:function(){return{width:this.$el.width(),height:this.$el.height(),
left:this.$el.position().left,top:this.$el.position().top}}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-dialog-resources', location = 'view/dialog-view.js' */
(function(l,n){window.Roadmap=window.Roadmap||{};Roadmap.InlineDialogView=Backbone.View.extend({initialize:function(a){n.bindAll(this,"_onDocumentClick","_onKeyDown","_shouldHide","_onHide");this._trigger=a.trigger;this._dialogOptions=a.dialogOptions;this._reset();var b=this;l(".roadmap-editor-popup, .roadmap-macro-view").scroll(function(){b.hide()})},_shouldHideWhenClick:function(a){return!l.contains(this._inlineDialog[0],a.target)},_createInlineDialog:function(a,b){var e=this,c={hideCallback:this._onHide,
initCallback:function(){e._onBeforeShow();n.delay(function(){AJS.InlineDialog.current=null;e._onShow();l(document).on({click:e._onDocumentClick,keydown:e._onKeyDown})},e._inlineDialog.getOptions().fadeTime)},noBind:!0,persistent:!0,preHideCallback:this._shouldHide};b&&b.isSideInlineDialog&&(n.extend(c,{calculatePositions:n.compose(this._calculateSidePositions,this._getSideDimensions),offsetX:8,offsetY:0}),Raphael.version&&n.extend(c,{getArrowPath:this._getSideArrowPath}));return new AJS.InlineDialog(a,
"roadmap-dialog",function(d,g,m){e._getContent(d);m()},n.extend({},c,b))},_onHide:function(){l(document).off({click:this._onDocumentClick,keydown:this._onKeyDown})},hide:function(){this._inlineDialog.remove()},_onDocumentClick:function(a){this._shouldHideWhenClick(a)&&this.hide()},_onBeforeShow:l.noop,_onKeyDown:function(a){var b=a.which===l.ui.keyCode.ESCAPE;a=l(a.target).is(":input");b&&!a&&this.hide()},_onShow:l.noop,_reset:function(){this._inlineDialog=this._createInlineDialog(this._trigger,this._dialogOptions);
this.setElement(this._inlineDialog)},_shouldHide:function(){return!0},show:function(){this._inlineDialog.show()},disable:function(){this.$el.find(":input").prop("disabled",!0)},enable:function(){this.$el.find(":input").prop("disabled",!1)},_onSubmit:function(){throw Error("DialogView subclasses must implement _onSubmit().");},_getSideDimensions:function(a,b,e,c){var d="body"!==c.container.toLowerCase();e=AJS.$(c.container);var g=d?AJS.$(c.container).parent():AJS.$(window),m=d?e.offset():{left:0,top:0};
d=d?g.offset():{left:0,top:0};b=b.target;var h=b.offset(),k=b[0].getBoundingClientRect&&b[0].getBoundingClientRect(),f=k?k.width:b.outerWidth();if(c.timelineWidth){var p=b.position();p.left+f>c.timelineWidth&&(f=c.timelineWidth-p.left-1)}return{screenPadding:10,arrowMargin:5,window:{top:d.top,left:d.left,scrollTop:g.scrollTop(),scrollLeft:g.scrollLeft(),width:g.width(),height:g.height()},scrollContainer:{width:e.width(),height:e.height()},trigger:{top:h.top-m.top,left:h.left-m.left,width:f,height:k?
k.height:b.outerHeight()},dialog:{width:a.width(),height:a.height(),offset:{top:c.offsetY,left:c.offsetX}},arrow:{height:a.find(".arrow").outerHeight()}}},_calculateSidePositions:function(a){var b=a.screenPadding,e=a.window,c=a.trigger,d=a.dialog,g=a.arrow,m=c.top-e.scrollTop,h=c.left-e.scrollLeft,k=Math.floor(c.height/2),f=Math.floor(d.height/2),p=Math.floor(g.height/2),q=h-d.offset.left-b>=d.width;h=a.scrollContainer.width-h-c.width-d.offset.left-b>=d.width||!q?"right":"left";q=m+k-p;g=e.height-
q-g.height;b=Math.min(b,q-a.arrowMargin);b=Math.min(b,g-a.arrowMargin);a=Math.max(f-k+d.offset.top-Math.max(e.height-m-c.height-b,0),0);b=Math.max(f-k-d.offset.top-Math.max(m-b,0),0)||-a||0;c={top:c.top+k-f+d.offset.top+b,left:"right"===h?c.left+c.width+d.offset.left:c.left-d.width-d.offset.left};d="w";f={position:"absolute",top:f-p-b};"right"===h?(f.right="auto",f.left=Raphael.version?"-7px":"0px"):(f.right="-7px",f.left="auto",d="e");return{dialogLocation:h,popupCss:c,arrowCss:f,gravity:d}},_getSideArrowPath:function(a){return"right"===
a.dialogLocation?"M8,0L0,8,8,16":"M8,0L16,8,8,16"},refresh:function(){this._inlineDialog&&this._inlineDialog.refresh()}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-bar-dialog-resources', location = 'view/roadmap-editor/bar-dialog/bar-dialog-templates.soy' */
// This file was automatically generated from bar-dialog-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Roadmap.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Roadmap == 'undefined') { Confluence.Templates.Roadmap = {}; }


Confluence.Templates.Roadmap.barDialog = function(opt_data, opt_ignored) {
  var output = '';
  var hasPageLink__soy3 = opt_data.bar.pageLink != null && opt_data.bar.pageLink.id != null;
  output += '<h3 id="bar-title" class="editable-field">' + soy.$$escapeHtml(opt_data.bar.title) + '</h3><div class="information"><div class="bar-page-link-wrapper">' + ((opt_data.linkPageEditable) ? '<div class="link-update-page ' + ((hasPageLink__soy3) ? 'hidden-field' : '') + '"><a href="#">' + soy.$$escapeHtml('Link page') + '</a></div>' : '') + '<div class="bar-page-link editable-field ' + ((! hasPageLink__soy3) ? 'hidden-field' : '') + '">' + ((hasPageLink__soy3) ? Confluence.Templates.Roadmap.buildPageLink({pageLink: opt_data.bar.pageLink, isEditMode: opt_data.renderOption.isEditMode}) : '') + '</div>' + ((opt_data.linkPageEditable) ? '<div class="link-new-page' + ((hasPageLink__soy3) ? ' hidden-field' : '') + '"><span class=\'page-link-separator\'>\u2022</span><a href="#">' + soy.$$escapeHtml('Create page') + '</a></div>' : '') + '</div><div class="clear"></div><div class="bar-description editable-field">' + soy.$$filterNoAutoescape(opt_data.bar.description) + '</div></div>' + ((opt_data.renderOption.isEditMode) ? '<div class="inner">' + aui.buttons.button({id: 'delete-button', text: 'Delete bar', type: 'link'}) + '</div>' : '');
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.barDialog.soyTemplateName = 'Confluence.Templates.Roadmap.barDialog';
}


Confluence.Templates.Roadmap.buildPageLink = function(opt_data, opt_ignored) {
  return '<a href=' + soy.$$escapeHtml("") + '/pages/viewpage.action?pageId=' + soy.$$escapeHtml(opt_data.pageLink.id) + ' ' + ((opt_data.isEditMode) ? 'target=\'_blank\'' : '') + ' class=\'confluence-link content-type-' + soy.$$escapeHtml(opt_data.pageLink.type) + '\'><span class="link-page-title">' + soy.$$escapeHtml(opt_data.pageLink.title) + '</span></a>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.buildPageLink.soyTemplateName = 'Confluence.Templates.Roadmap.buildPageLink';
}


Confluence.Templates.Roadmap.inlineEditSaveButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({id: 'inline-edit-save', iconType: 'aui', extraClasses: 'aui-button-compact', text: '', extraAttributes: {title: 'Save'}, iconClass: 'aui-icon-small aui-iconfont-success'});
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.inlineEditSaveButton.soyTemplateName = 'Confluence.Templates.Roadmap.inlineEditSaveButton';
}


Confluence.Templates.Roadmap.inlineEditCancelButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({id: 'inline-edit-cancel', iconType: 'aui', extraClasses: 'aui-button-compact', text: '', extraAttributes: {title: 'Cancel'}, iconClass: 'aui-icon-small aui-iconfont-close-dialog'});
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.inlineEditCancelButton.soyTemplateName = 'Confluence.Templates.Roadmap.inlineEditCancelButton';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-bar-dialog-resources', location = 'view/roadmap-editor/bar-dialog/roadmap-editinplace.js' */
(function(d){function h(a,b){this.settings=a;this.dom=b;this.originalValue=null;this.shouldDelayReinit=this.didInsertDefaultText=!1}function l(a){""!==a&&((new Image).src=a)}function g(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function k(a){return void 0===a||null===a||0===a.length?!1:!0}d.fn.editInPlace=function(a){var b=d.extend({},d.fn.editInPlace.defaults,a);if(!b.url&&!b.callback)throw Error("Need to set either url: or callback: option for the inline editor to work.");l(b.saving_image);
return this.each(function(){var c=d(this);c.data("editInPlace")||(c.data("editInPlace",!0),(new h(b,c)).init())})};d.fn.editInPlace.defaults={url:"",bg_over:"#ffc",bg_out:"transparent",hover_class:"",form_extra_classes:[],show_buttons:!1,save_button:'\x3cbutton class\x3d"inplace_save"\x3eSave\x3c/button\x3e',cancel_button:'\x3cbutton class\x3d"inplace_cancel"\x3eCancel\x3c/button\x3e',params:"",field_type:"text",field_extra_classes:[],default_text:"(Click here to add text)",use_html:!1,textarea_rows:10,
textarea_cols:25,select_text:"Choose new value",select_options:"",text_size:null,saving_text:void 0,saving_image:"",saving_animation_color:"transparent",value_required:!1,disable_submit_when_empty:!1,element_id:"element_id",update_value:"update_value",original_value:"original_value",original_html:"original_html",save_if_nothing_changed:!1,on_blur:"save",cancel:"",callback:null,callback_skip_dom_reset:!1,success:null,error:null,error_sink:function(a,b){alert(b)},preinit:null,postclose:null,delegate:null,
isAutoCompleteField:!1};d.extend(h.prototype,{init:function(){this.setDefaultTextIfNeccessary();this.connectOpeningEvents()},reinit:function(){this.shouldDelayReinit||(this.triggerCallback(this.settings.postclose,this.dom),this.triggerDelegateCall("didCloseEditInPlace"),this.markEditorAsInactive(),this.connectOpeningEvents())},setDefaultTextIfNeccessary:function(){""===this.dom.html()&&(this.dom.html(this.settings.default_text),this.didInsertDefaultText=!0)},connectOpeningEvents:function(){var a=
this;this.dom.bind("mouseenter.editInPlace",function(){a.addHoverEffect()}).bind("mouseleave.editInPlace",function(){a.removeHoverEffect()}).bind("click.editInPlace",function(b){a.openEditor(b)})},disconnectOpeningEvents:function(){this.dom.unbind(".editInPlace")},addHoverEffect:function(){this.settings.hover_class?this.dom.addClass(this.settings.hover_class):this.dom.css("background-color",this.settings.bg_over)},removeHoverEffect:function(){this.settings.hover_class?this.dom.removeClass(this.settings.hover_class):
this.dom.css("background-color",this.settings.bg_out)},openEditor:function(a){this.shouldOpenEditor(a)&&(this.disconnectOpeningEvents(),this.removeHoverEffect(),this.removeInsertedDefaultTextIfNeccessary(),this.saveOriginalValue(),this.markEditorAsActive(),this.replaceContentWithEditor(),this.setInitialValue(),this.workAroundMissingBlurBug(),this.connectClosingEventsToEditor(),this.triggerDelegateCall("didOpenEditInPlace"))},shouldOpenEditor:function(a){return this.isClickedObjectCancelled(a.target)||
!1===this.triggerCallback(this.settings.preinit,this.dom)||!1===this.triggerDelegateCall("shouldOpenEditInPlace",!0,a)||this.settings.isAutoCompleteField&&d(a.target).hasClass("link-page-title")?!1:!0},removeInsertedDefaultTextIfNeccessary:function(){this.didInsertDefaultText&&this.dom.html()===this.settings.default_text&&(this.dom.html(""),this.didInsertDefaultText=!1)},isClickedObjectCancelled:function(a){return this.settings.cancel?0!==d(a).parents().addBack().filter(this.settings.cancel).length:
!1},saveOriginalValue:function(){this.originalValue=this.settings.use_html?this.dom.html():g(this.dom.text())},restoreOriginalValue:function(){this.setClosedEditorContent(this.originalValue)},setClosedEditorContent:function(a){a=a||this.settings.default_text;this.settings.use_html?this.dom.html(a):this.dom.text(a)},workAroundMissingBlurBug:function(){var a=this.dom.find(":input");this.dom.parents(":last").find(".editInPlace-active :input").not(a).blur()},replaceContentWithEditor:function(){var a=
this.createEditorElement(),b="inplace_form";this.settings.form_extra_classes instanceof Array&&(b=b+" "+this.settings.form_extra_classes.join(" "));this.dom.html('\x3cform class\x3d"'+b+'" style\x3d"display: inline; margin: 0; padding: 0;"\x3e\x3c/form\x3e');b=this.dom.find("form");b.append(a);if(this.settings.show_buttons){a=d('\x3cdiv class\x3d"inline-edit-buttons"\x3e\x3c/div\x3e');var c=d(this.settings.save_button);c.addClass("inplace_save");a.append(c);c=d(this.settings.cancel_button);c.addClass("inplace_cancel");
a.append(c);b.append(a)}},createEditorElement:function(){if(-1===d.inArray(this.settings.field_type,["text","textarea","select"]))throw"Unknown field_type \x3cfnord\x3e, supported are 'text', 'textarea' and 'select'";var a=null;"select"===this.settings.field_type?a=this.createSelectEditor():"text"===this.settings.field_type?a=d('\x3cinput type\x3d"text" '+this.inputNameAndClass()+' size\x3d"'+this.settings.text_size+'" /\x3e'):"textarea"===this.settings.field_type&&(a=d("\x3ctextarea "+this.inputNameAndClass()+
' rows\x3d"'+this.settings.textarea_rows+'"  cols\x3d"'+this.settings.textarea_cols+'" /\x3e'));return a},setInitialValue:function(){var a=this.triggerDelegateCall("willOpenEditInPlace",this.originalValue),b=this.dom.find(":input");b.val(a);b.val()!==a&&b.val("")},inputNameAndClass:function(){var a="inplace_field";this.settings.field_extra_classes instanceof Array&&(a=a+" "+this.settings.field_extra_classes.join(" "));return' name\x3d"inplace_value" class\x3d"'+a+'"'},createSelectEditor:function(){var a=
d("\x3cselect"+this.inputNameAndClass()+'\x3e\x3coption disabled\x3d"true" value\x3d""\x3e'+this.settings.select_text+"\x3c/option\x3e\x3c/select\x3e"),b=this.settings.select_options;d.isArray(b)||(b=b.split(","));for(var c=0;c<b.length;c++){var e=b[c];d.isArray(e)||(e=e.split(":"));var f=g(e[1]||e[0]);e=g(e[0]);f=d("\x3coption\x3e").val(f).text(e);a.append(f)}return a},connectClosingEventsToEditor:function(){function a(f){c.settings.isAutoCompleteField||c.handleCancelEditor(f);return!1}function b(f){c.handleSaveEditor(f);
return!1}var c=this,e=this.dom.find("form");e.find(".inplace_field").focus().select();e.find(".inplace_cancel").click(a);e.find(".inplace_save").click(b);this.settings.show_buttons||("save"===this.settings.on_blur?e.find(".inplace_field").blur(b):e.find(".inplace_field").blur(a));e.keyup(function(f){if(27===f.which)return a()});this.bindInputKeyup();e.submit(b)},bindSubmitOnEnterInInput:function(){if("textarea"!==this.settings.field_type){var a=this;this.dom.find(":input").keyup(function(b){if(13===
b.which)return a.dom.find("form").submit()})}},bindInputKeyup:function(){if("textarea"!==this.settings.field_type){var a=this,b=this.dom.find(":input"),c=this.dom.find(".inplace_save");b.keyup(function(e){if(13===e.which)return a.dom.find("form").submit();a.settings.disable_submit_when_empty&&(d.trim(b.val()).length?c.prop("disabled",!1):c.prop("disabled",!0))})}},handleCancelEditor:function(a){!1!==this.triggerDelegateCall("shouldCloseEditInPlace",!0,a)&&(a=this.dom.find(":input").val(),this.triggerDelegateCall("willCloseEditInPlace",
a),this.restoreOriginalValue(),this.reinit())},handleSaveEditor:function(a){if(!1!==this.triggerDelegateCall("shouldCloseEditInPlace",!0,a)){var b=d.trim(this.dom.find(":input").val());b=this.triggerDelegateCall("willCloseEditInPlace",b);this.isDisabledDefaultSelectChoice()||this.isUnchangedInput(b)?this.handleCancelEditor(a):this.didForgetRequiredText(b)?this.settings.disable_submit_when_empty||(this.handleCancelEditor(a),this.reportError("Error: You must enter a value to save this field")):(this.showSaving(b),
this.settings.callback?this.handleSubmitToCallback(b):this.handleSubmitToServer(b))}},didForgetRequiredText:function(a){return this.settings.value_required&&(""===a||void 0===a||null===a)},isDisabledDefaultSelectChoice:function(){return this.dom.find("option").eq(0).is(":selected:disabled")},isUnchangedInput:function(a){return!this.settings.save_if_nothing_changed&&this.originalValue===a},showSaving:function(a){this.settings.callback&&this.settings.callback_skip_dom_reset||(k(this.settings.saving_text)&&
(a=this.settings.saving_text),k(this.settings.saving_image)&&(a=d("\x3cimg /\x3e").attr("src",this.settings.saving_image).attr("alt",a)),this.dom.html(encodeURIComponent(a)))},handleSubmitToCallback:function(a){this.enableOrDisableAnimationCallbacks(!0,!1);var b=this.triggerCallback(this.settings.callback,this.id(),a,this.originalValue,this.settings.params,this.savingAnimationCallbacks());this.settings.callback_skip_dom_reset||(void 0===b?(this.reportError("Error: Failed to save value: "+a),this.restoreOriginalValue()):
this.dom.html(b));this.didCallNoCallbacks()&&(this.enableOrDisableAnimationCallbacks(!1,!1),this.reinit())},handleSubmitToServer:function(a){a=this.settings.update_value+"\x3d"+encodeURIComponent(a)+"\x26"+this.settings.element_id+"\x3d"+this.dom.attr("id")+(this.settings.params?"\x26"+this.settings.params:"")+"\x26"+this.settings.original_html+"\x3d"+encodeURIComponent(this.originalValue)+"\x26"+this.settings.original_value+"\x3d"+encodeURIComponent(this.originalValue);this.enableOrDisableAnimationCallbacks(!0,
!1);this.didStartSaving();var b=this;d.ajax({url:b.settings.url,type:"POST",data:a,dataType:"html",complete:function(c){b.didEndSaving()},success:function(c){b.dom.html(c||b.settings.default_text);b.triggerCallback(b.settings.success,c)},error:function(c){b.dom.html(b.originalHTML);b.settings.error?b.triggerCallback(b.settings.error,c):b.reportError("Failed to save value: "+c.responseText||"Unspecified Error")}})},triggerCallback:function(a){if(a){var b=Array.prototype.slice.call(arguments,1);return a.apply(this.dom[0],
b)}},triggerDelegateCall:function(a,b,c){if(!this.settings.delegate||!d.isFunction(this.settings.delegate[a]))return b;a=this.settings.delegate[a](this.dom,this.settings,c);return void 0===a?b:a},reportError:function(a){this.triggerCallback(this.settings.error_sink,this.id(),a)},id:function(){return this.dom.attr("id")},markEditorAsActive:function(){this.dom.addClass("editInPlace-active")},markEditorAsInactive:function(){this.dom.removeClass("editInPlace-active")},savingAnimationCallbacks:function(){var a=
this;return{didStartSaving:function(){a.didStartSaving()},didEndSaving:function(){a.didEndSaving()}}},enableOrDisableAnimationCallbacks:function(a,b){this.didStartSaving.enabled=a;this.didEndSaving.enabled=b},didCallNoCallbacks:function(){return this.didStartSaving.enabled&&!this.didEndSaving.enabled},assertCanCall:function(a){if(!this[a].enabled)throw Error("Cannot call "+a+" now. See documentation for details.");},didStartSaving:function(){this.assertCanCall("didStartSaving");this.shouldDelayReinit=
!0;this.enableOrDisableAnimationCallbacks(!1,!0);this.startSavingAnimation()},didEndSaving:function(){this.assertCanCall("didEndSaving");this.shouldDelayReinit=!1;this.enableOrDisableAnimationCallbacks(!1,!1);this.reinit();this.stopSavingAnimation()},startSavingAnimation:function(){var a=this;this.dom.animate({backgroundColor:this.settings.saving_animation_color},400).animate({backgroundColor:"transparent"},400,"swing",function(){setTimeout(function(){a.startSavingAnimation()},10)})},stopSavingAnimation:function(){this.dom.stop(!0).css({backgroundColor:""})},
missingCommaErrorPreventer:""})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-bar-dialog-resources', location = 'view/roadmap-editor/bar-dialog/bar-dialog.js' */
(function(e,f){var h=Roadmap.InlineDialogView;Roadmap.BarDialogView=h.extend({events:{"click #delete-button":"_onDeleteClick","click .link-new-page":"_goToCreateLinkPage","click .link-update-page":"_goToUpdateLinkPage"},initialize:function(){f.bindAll(this,"_onPageLinkOpen","_onPageLinkSelectCompleted","_onPageLinkCallback","_onPageLinkBlur","_goToCreateLinkPage");this.options.dialogOptions={width:260,timelineWidth:this.options.timelineWidth,isSideInlineDialog:!0,renderOption:this.options.renderOption,
linkPageEditable:this.options.linkPageEditable,createLinkPageCallback:this.options.createLinkPageCallback};h.prototype.initialize.call(this,this.options)},_getContent:function(a){a.html(Confluence.Templates.Roadmap.barDialog({bar:f.extend({},this.model.attributes,{description:AJS.escapeHtml(this.model.attributes.description).replace(/\r?\n/g,"\x3cbr /\x3e")}),renderOption:this.options.dialogOptions.renderOption,linkPageEditable:this.options.dialogOptions.linkPageEditable}))},_onBeforeShow:function(){this.fields=
this._getFields();this._setupInlineEdit()},_getFields:function(){return{$title:this.$el.find("#bar-title"),$description:this.$el.find(".bar-description"),$pageLink:this.$el.find(".bar-page-link"),$pageLinkNew:this.$el.find(".link-new-page"),$pageLinkUpdate:this.$el.find(".link-update-page")}},_setupInlineEdit:function(){var a=this,b=this.fields,c=this.options.dialogOptions.renderOption.editInplace,g={form_extra_classes:["aui"],hover_class:"editable-field-hover aui-icon-small aui-iconfont-edit",field_extra_classes:["text"],
show_buttons:!0,save_button:Confluence.Templates.Roadmap.inlineEditSaveButton(),cancel_button:Confluence.Templates.Roadmap.inlineEditCancelButton(),error_sink:null,use_html:!0,default_text:"Click to add description.",delegate:{shouldOpenEditInPlace:function(){a.$el.find(".inplace_cancel").trigger("click")},didCloseEditInPlace:function(){setTimeout(function(){a.refresh()},0)}}};c.title&&b.$title.editInPlace(e.extend(!0,{},g,{callback:function(k,d){a.options.updateTitle(d);
return AJS.escapeHtml(d)},value_required:!0,disable_submit_when_empty:!0,delegate:{willOpenEditInPlace:function(){a.refresh();b.$title.find(".text").attr("maxlength",Roadmap.BarDialog.MAX_LENGTH_TITLE)}}}));""===e.trim(b.$description.text())?b.$description.addClass("empty-field"):b.$description.removeClass("empty-field");var l=e.extend(!0,{},g,{field_type:"textarea",field_extra_classes:["textarea"],value_required:!1,save_if_nothing_changed:!0,callback:function(k,d){d=e.trim(d);a.options.updateDescription(d);
""===d?(d="Click to add description.",e(this).addClass("empty-field")):(e(this).removeClass("empty-field"),Confluence.Roadmap.Analytics.addDescription());return AJS.escapeHtml(d).replace(/\r?\n/g,"\x3cbr /\x3e")},delegate:{willOpenEditInPlace:function(){a.refresh();b.$description.find(".textarea").attr("maxlength",Roadmap.BarDialog.MAX_LENGTH_DESCRIPTION);return a.model.attributes.description.replace(/<br\s*[\/]?>/gi,"\n")}}});c.description&&b.$description.editInPlace(l);
g=e.extend(!0,{},g,{isAutoCompleteField:!0,show_buttons:!1,default_text:"",field_extra_classes:["text","autocomplete-confluence-content"],delegate:{willOpenEditInPlace:a._onPageLinkOpen,didCloseEditInPlace:function(){f.isEmpty(b.$pageLink.data("linkData"))&&(b.$pageLink.hide(),b.$pageLinkNew.show(),b.$pageLinkUpdate.show())}},on_blur:null,callback:a._onPageLinkCallback});c.pageLink&&this.options.dialogOptions.linkPageEditable&&this.fields.$pageLink.editInPlace(g)},_onPageLinkOpen:function(a){var b=
this;a.append('\x3cdiv class\x3d"link-page-dropdown" /\x3e');var c=a.find(".autocomplete-confluence-content");c.attr({placeholder:"Search page","data-dropdown-target":"#inline-dialog-roadmap-dialog .link-page-dropdown","data-none-message":"No matches found"});Confluence.Binder.autocompleteConfluenceContent(a);c.bind("selected.autocomplete-content",this._onPageLinkSelectCompleted);c.on("blur",function(){setTimeout(b._onPageLinkBlur,
150)});a=this.model.attributes.pageLink;this.fields.$pageLink.data("linkData",a);return f.isEmpty(a)?!0:a.title},_onPageLinkSelectCompleted:function(a,b){a.stopPropagation();this.fields.$pageLink.find(".autocomplete-confluence-content").val(b.content.title);this.fields.$pageLink.data("linkData",b.content);f.defer(this._onPageLinkBlur)},_onPageLinkBlur:function(){var a=this.fields.$pageLink.find(".autocomplete-confluence-content"),b=e.Event("keyup");b.which=AJS.keyCode.ENTER;a.trigger(b)},_onPageLinkCallback:function(a,
b){a=""===b?{}:this.fields.$pageLink.data("linkData");return this._updatePageLink(a)},_updatePageLink:function(a){if(a.id!==this.model.attributes.pageLink.id){var b=this.fields;if(f.isEmpty(a))return this.options.updatePageLink({}),b.$pageLink.hide(),b.$pageLinkNew.show(),b.$pageLinkUpdate.show(),"No linked page";var c=f.pick(a,"id","title","type","spaceKey","wikiLink");a.spaceKey||(c.spaceKey=a.space.key);this.options.updatePageLink(c);b.$pageLink.show();b.$pageLinkNew.hide();
b.$pageLinkUpdate.hide();this.options.renderOption.isEditMode?Confluence.Roadmap.Analytics.addPageLinkEditMode({linkedPageId:a.id,pageId:0<AJS.Meta.get("page-id")?AJS.Meta.get("page-id"):AJS.Meta.get("draft-id"),isDraft:0>=AJS.Meta.get("page-id")}):Confluence.Roadmap.Analytics.addPageLinkViewMode({linkedPageId:a.id,pageId:AJS.Meta.get("page-id")});return Confluence.Templates.Roadmap.buildPageLink({pageLink:a,isEditMode:this.options.renderOption.isEditMode})}},_onDeleteClick:function(){this.options.deleteBar();
this.remove()},_goToCreateLinkPage:function(a){var b=this.options.dialogOptions;b.createLinkPageCallback&&f.bind(b.createLinkPageCallback,{me:this},a)()},_goToUpdateLinkPage:function(a){a.preventDefault();this.fields.$pageLink.show();this.fields.$pageLinkNew.hide();this.fields.$pageLinkUpdate.hide();this.fields.$pageLink.click()}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-bar-dialog-resources', location = 'view/roadmap-editor/bar-dialog/bar-link-new-page.js' */
Confluence.RoadmapLink=function(b,f){function g(a){return b.ajax({contentType:"application/json",type:"PUT",url:AJS.contextPath()+"/rest/roadmap/1.0/bar/"+a+"/PENDING"})}function h(a){return b.ajax({contentType:"application/json",type:"GET",url:AJS.contextPath()+"/rest/roadmap/1.0/bar/"+a+"/status"})}Roadmap.trackingBars=[];return{addCreateLinkPageListener:function(a,k){0>=parseInt(a.pageId)&&(a.parentPageId=AJS.Meta.get("parent-page-id"));var l=b.param(a);window.open(AJS.contextPath()+"/plugins/roadmap/create-page.action?"+
l,"_blank").opener=null;g(a.roadmapBarId).done(function(c){Roadmap.trackingBars.push(a.roadmapBarId)});b(window).off("focus");b(window).on("focus",function(){Roadmap.trackingBars.length||b(window).off("focus");f.each(Roadmap.trackingBars,function(c){h(c).done(function(d){var e=d.status;"REDEEM"==e?(Roadmap.trackingBars.splice(Roadmap.trackingBars.indexOf(c),1),k({barId:c,pageLink:d.pageLink?JSON.parse(d.pageLink):null})):"UNKNOWN"==e&&Roadmap.trackingBars.splice(Roadmap.trackingBars.indexOf(c),1)})})})}}}(AJS.$,
window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--901bedc195', location = 'aui.chunk.50e567705415e959b095--2225681898ef24723abb.js' */
(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[7741],{1506:(t,i,o)=>{var e,n,l;
/*!
 * jQuery UI Position 1.13.3
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/position/
 */!function(f){"use strict";n=[o(4440),o(3309)],e=function(t){return function(){var i,o=Math.max,e=Math.abs,n=/left|center|right/,l=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,h=/%$/,r=t.fn.position;function p(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function c(i,o){return parseInt(t.css(i,o),10)||0}function a(t){return null!=t&&t===t.window}function d(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:a(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var o,e,n=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),o=l.offsetWidth,n.css("overflow","scroll"),o===(e=l.offsetWidth)&&(e=n[0].clientWidth),n.remove(),i=o-e},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=a(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:n,offset:!e&&!n?t(i).offset():{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);var h,a,g,u,m,w,W="string"==typeof(i=t.extend({},i)).of?t(document).find(i.of):t(i.of),v=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(v),H=(i.collision||"flip").split(" "),b={};return w=d(W),W[0].preventDefault&&(i.at="left top"),a=w.width,g=w.height,u=w.offset,m=t.extend({},u),t.each(["my","at"],(function(){var t,o,e=(i[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat(["center"]):l.test(e[0])?["center"].concat(e):["center","center"]),e[0]=n.test(e[0])?e[0]:"center",e[1]=l.test(e[1])?e[1]:"center",t=f.exec(e[0]),o=f.exec(e[1]),b[this]=[t?t[0]:0,o?o[0]:0],i[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]})),1===H.length&&(H[1]=H[0]),"right"===i.at[0]?m.left+=a:"center"===i.at[0]&&(m.left+=a/2),"bottom"===i.at[1]?m.top+=g:"center"===i.at[1]&&(m.top+=g/2),h=p(b.at,a,g),m.left+=h[0],m.top+=h[1],this.each((function(){var n,l,f=t(this),s=f.outerWidth(),r=f.outerHeight(),d=c(this,"marginLeft"),w=c(this,"marginTop"),T=s+d+c(this,"marginRight")+y.width,x=r+w+c(this,"marginBottom")+y.height,L=t.extend({},m),P=p(b.my,f.outerWidth(),f.outerHeight());"right"===i.my[0]?L.left-=s:"center"===i.my[0]&&(L.left-=s/2),"bottom"===i.my[1]?L.top-=r:"center"===i.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],n={marginLeft:d,marginTop:w},t.each(["left","top"],(function(o,e){t.ui.position[H[o]]&&t.ui.position[H[o]][e](L,{targetWidth:a,targetHeight:g,elemWidth:s,elemHeight:r,collisionPosition:n,collisionWidth:T,collisionHeight:x,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:v,elem:f})})),i.using&&(l=function(t){var n=u.left-L.left,l=n+a-s,h=u.top-L.top,p=h+g-r,c={target:{element:W,left:u.left,top:u.top,width:a,height:g},element:{element:f,left:L.left,top:L.top,width:s,height:r},horizontal:l<0?"left":n>0?"right":"center",vertical:p<0?"top":h>0?"bottom":"middle"};a<s&&e(n+l)<a&&(c.horizontal="center"),g<r&&e(h+p)<g&&(c.vertical="middle"),o(e(n),e(l))>o(e(h),e(p))?c.important="horizontal":c.important="vertical",i.using.call(this,t,c)}),f.offset(t.extend(L,{using:l}))}))},t.ui.position={fit:{left:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollLeft:n.offset.left,f=n.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(e=t.left+h+i.collisionWidth-f-l,t.left+=h-e):t.left=r>0&&h<=0?l:h>r?l+f-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-s,t.left)},top:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollTop:n.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(e=t.top+h+i.collisionHeight-f-l,t.top+=h-e):t.top=r>0&&h<=0?l:h>r?l+f-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-s,t.top)}},flip:{left:function(t,i){var o,n,l=i.within,f=l.offset.left+l.scrollLeft,s=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((o=t.left+a+d+g+i.collisionWidth-s-f)<0||o<e(p))&&(t.left+=a+d+g):c>0&&((n=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(n)<c)&&(t.left+=a+d+g)},top:function(t,i){var o,n,l=i.within,f=l.offset.top+l.scrollTop,s=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-s-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?((n=t.top+a+d+g+i.collisionHeight-s-f)<0||n<e(p))&&(t.top+=a+d+g):c>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<c)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position},void 0===(l="function"==typeof e?e.apply(i,n):e)||(t.exports=l)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.position', location = 'aui.chunk.59909abc1788e616ff5a--02022263f101cec5cc2b.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[9986],{328:(u,a,e)=>{e.r(a),e.d(a,{default:()=>i});e(1506);const i="jquery"}},u=>{u.O(0,[9100,7741,4496],(()=>{return a=328,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--d30d262cc0', location = 'aui.chunk.fc3eb19782ef37d02f10--c039459cf0b85b1a6fe6.js' */
(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[7729],{1684:(e,t,i)=>{var s,o,n;
/*!
 * jQuery UI Droppable 1.13.3
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */!function(r){"use strict";o=[i(4440),i(1132),i(7228),i(3309),i(9229)],s=function(e){e.widget("ui.droppable",{version:"1.13.3",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept="function"==typeof i?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,o=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return o=!0,!1})),!o&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(s)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,s,o){if(!i.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,l=r+t.helperProportions.height,p=i.offset.left,c=i.offset.top,h=p+i.proportions().width,u=c+i.proportions().height;switch(s){case"fit":return p<=n&&a<=h&&c<=r&&l<=u;case"intersect":return p<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<h&&c<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<u;case"pointer":return e(o.pageY,c,i.proportions().height)&&e(o.pageX,p,i.proportions().width);case"touch":return(r>=c&&r<=u||l>=c&&l<=u||r<c&&l>u)&&(n>=p&&n<=h||a>=p&&a<=h||n<p&&a>h);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s,o,n=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===n[s].element[0]){n[s].proportions().height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),s},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}))},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,n,r=e.ui.intersect(t,this,this.options.tolerance,i),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===o}))).length&&((s=e(n[0]).droppable("instance")).greedyChild="isover"===a)),s&&"isover"===a&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),s&&"isout"===a&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}}))},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});return e.ui.droppable},void 0===(n="function"==typeof s?s.apply(t,o):s)||(e.exports=n)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.droppable', location = 'aui.chunk.cc8ff32c7cafbbed0ae9--3cccb45b7165f468aee4.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[5712],{3504:(u,a,e)=>{e.r(a),e.d(a,{default:()=>i});e(1684);const i="jquery"}},u=>{u.O(0,[9100,5947,5996,9675,9067,5273,7229,7729,4496],(()=>{return a=3504,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--3442b04575', location = 'aui.chunk.90f3e8cbbf96afc15574--e73b21b11935954c61a3.js' */
(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[1326],{5467:(e,t,s)=>{var l,i,n;
/*!
 * jQuery UI Selectable 1.13.3
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */!function(c){"use strict";i=[s(4440),s(7228),s(3309),s(9229)],void 0===(n="function"==typeof(l=function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.13.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each((function(){var s=e(this),l=s.offset(),i={left:l.left-t.elementPos.left,top:l.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:s,left:i.left,top:i.top,right:i.left+s.outerWidth(),bottom:i.top+s.outerHeight(),startselected:!1,selected:s.hasClass("ui-selected"),selecting:s.hasClass("ui-selecting"),unselecting:s.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var s=this,l=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(l.filter,this.element[0]),this._trigger("start",t),e(l.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),l.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var l=e.data(this,"selectable-item");l.startselected=!0,t.metaKey||t.ctrlKey||(s._removeClass(l.$element,"ui-selected"),l.selected=!1,s._addClass(l.$element,"ui-unselecting"),l.unselecting=!0,s._trigger("unselecting",t,{unselecting:l.element}))})),e(t.target).parents().addBack().each((function(){var l,i=e.data(this,"selectable-item");if(i)return l=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),s._removeClass(i.$element,l?"ui-unselecting":"ui-selected")._addClass(i.$element,l?"ui-selecting":"ui-unselecting"),i.unselecting=!l,i.selecting=l,i.selected=l,l?s._trigger("selecting",t,{selecting:i.element}):s._trigger("unselecting",t,{unselecting:i.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var s,l=this,i=this.options,n=this.opos[0],c=this.opos[1],a=t.pageX,o=t.pageY;return n>a&&(s=a,a=n,n=s),c>o&&(s=o,o=c,c=s),this.helper.css({left:n,top:c,width:a-n,height:o-c}),this.selectees.each((function(){var s=e.data(this,"selectable-item"),r=!1,u={};s&&s.element!==l.element[0]&&(u.left=s.left+l.elementPos.left,u.right=s.right+l.elementPos.left,u.top=s.top+l.elementPos.top,u.bottom=s.bottom+l.elementPos.top,"touch"===i.tolerance?r=!(u.left>a||u.right<n||u.top>o||u.bottom<c):"fit"===i.tolerance&&(r=u.left>n&&u.right<a&&u.top>c&&u.bottom<o),r?(s.selected&&(l._removeClass(s.$element,"ui-selected"),s.selected=!1),s.unselecting&&(l._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1),s.selecting||(l._addClass(s.$element,"ui-selecting"),s.selecting=!0,l._trigger("selecting",t,{selecting:s.element}))):(s.selecting&&((t.metaKey||t.ctrlKey)&&s.startselected?(l._removeClass(s.$element,"ui-selecting"),s.selecting=!1,l._addClass(s.$element,"ui-selected"),s.selected=!0):(l._removeClass(s.$element,"ui-selecting"),s.selecting=!1,s.startselected&&(l._addClass(s.$element,"ui-unselecting"),s.unselecting=!0),l._trigger("unselecting",t,{unselecting:s.element}))),s.selected&&(t.metaKey||t.ctrlKey||s.startselected||(l._removeClass(s.$element,"ui-selected"),s.selected=!1,l._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,l._trigger("unselecting",t,{unselecting:s.element})))))})),!1}},_mouseStop:function(t){var s=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var l=e.data(this,"selectable-item");s._removeClass(l.$element,"ui-unselecting"),l.unselecting=!1,l.startselected=!1,s._trigger("unselected",t,{unselected:l.element})})),e(".ui-selecting",this.element[0]).each((function(){var l=e.data(this,"selectable-item");s._removeClass(l.$element,"ui-selecting")._addClass(l.$element,"ui-selected"),l.selecting=!1,l.selected=!0,l.startselected=!0,s._trigger("selected",t,{selected:l.element})})),this._trigger("stop",t),this.helper.remove(),!1}})})?l.apply(t,i):l)||(e.exports=n)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.selectable', location = 'aui.chunk.6a053c4a1af7a5dbabba--d8b93b78c3db1453b7f0.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[3883],{111:(u,a,e)=>{e.r(a),e.d(a,{default:()=>i});e(5467);const i="jquery"}},u=>{u.O(0,[9100,5947,5996,1326,4496],(()=>{return a=111,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Roadmap.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Roadmap == 'undefined') { Confluence.Templates.Roadmap = {}; }


Confluence.Templates.Roadmap.roadmapPopupPanel = function(opt_data, opt_ignored) {
  return '<div class="roadmap-editor-popup"><div id=\'' + soy.$$escapeHtml(opt_data.roadmapPopupPanelId) + '\'></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.roadmapPopupPanel.soyTemplateName = 'Confluence.Templates.Roadmap.roadmapPopupPanel';
}


Confluence.Templates.Roadmap.roadmapEditor = function(opt_data, opt_ignored) {
  return '<div id="roadmap-editor-edit-area"><div id="roadmap-editor-edit-content"><!-- START GENERATE ROADMAP --><div id="roadmap-container"><div class="roadmap-drag-area"></div><div class="roadmap-frame"><div class="roadmap-marker"></div></div><div class="roadmap-content"></div></div><!-- END GENERATE ROADMAP --></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.roadmapEditor.soyTemplateName = 'Confluence.Templates.Roadmap.roadmapEditor';
}


Confluence.Templates.Roadmap.lane = function(opt_data, opt_ignored) {
  return '<div class="roadmap-lane-title" style="background-color: ' + soy.$$escapeHtml(opt_data.color.lane) + '; color: ' + soy.$$escapeHtml(opt_data.color.text) + '" title="' + soy.$$escapeHtml(opt_data.title) + '"><div class="title-outer"><div class="title-inner">' + soy.$$escapeHtml(opt_data.title) + '</div></div></div><div class="roadmap-separate-content">&nbsp;</div><div class="roadmap-lane-content"></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.lane.soyTemplateName = 'Confluence.Templates.Roadmap.lane';
}


Confluence.Templates.Roadmap.marker = function(opt_data, opt_ignored) {
  return '<div class="marker-drag-placeholder"></div><div class="marker-title-wrapper"><span class="marker-title" title="' + soy.$$escapeHtml(opt_data.title) + '">' + soy.$$escapeHtml(opt_data.title) + '</span></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.marker.soyTemplateName = 'Confluence.Templates.Roadmap.marker';
}


Confluence.Templates.Roadmap.bar = function(opt_data, opt_ignored) {
  return '<p class="roadmap-bar-title">' + soy.$$escapeHtml(opt_data.title) + '</p>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.bar.soyTemplateName = 'Confluence.Templates.Roadmap.bar';
}


Confluence.Templates.Roadmap.newRowLine = function(opt_data, opt_ignored) {
  return '<hr class="new-row-line" />';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.newRowLine.soyTemplateName = 'Confluence.Templates.Roadmap.newRowLine';
}


Confluence.Templates.Roadmap.deprecationDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="' + soy.$$escapeHtml(opt_data.id) + '" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="true"><header class="aui-dialog2-header"><h1 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Macro unavailable') + '</h1></header><div class="aui-dialog2-content">' + soy.$$filterNoAutoescape('\x3cp\x3eThe roadmap macro has been deprecated as of version 12. You can still view your existing roadmap macros but you will no longer be able to edit them or create new ones.\x3c/p\x3e\x3cp\x3ePlease use our new Roadmap Planner macro to plan your roadmap.\x3c/p\x3e') + '<div class="new-roadmap-thumb"></div></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="dialog-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml('Close') + '</button></div></footer></section>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.deprecationDialog.soyTemplateName = 'Confluence.Templates.Roadmap.deprecationDialog';
}


Confluence.Templates.Roadmap.newRowPlaceholder = function(opt_data, opt_ignored) {
  return '<hr class= "new-row-placeholder" />';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.newRowPlaceholder.soyTemplateName = 'Confluence.Templates.Roadmap.newRowPlaceholder';
}


Confluence.Templates.Roadmap.laneDialog = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({id: 'add-bar-button', type: 'subtle', iconType: 'aui', extraClasses: 'aui-button-compact', text: '', extraAttributes: {title: 'Add bar'}, iconClass: 'aui-icon-small aui-iconfont-add'}) + aui.buttons.button({id: 'rename-button', type: 'subtle', iconType: 'aui', extraClasses: 'aui-button-compact', text: '', extraAttributes: {title: 'Rename lane'}, iconClass: 'aui-icon-small aui-iconfont-edit'}) + Confluence.Templates.Roadmap.laneColorSelect(opt_data) + ((opt_data.canDelete) ? aui.buttons.button({id: 'delete-button', type: 'subtle', iconType: 'aui', extraClasses: 'aui-button-compact', text: '', extraAttributes: {title: 'Delete lane'}, iconClass: 'aui-icon-small delete-icon'}) : '');
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.laneDialog.soyTemplateName = 'Confluence.Templates.Roadmap.laneDialog';
}


Confluence.Templates.Roadmap.markerDialog = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({id: 'rename-button', type: 'subtle', iconType: 'aui', extraClasses: 'aui-button-compact', text: '', extraAttributes: {title: 'Rename marker'}, iconClass: 'aui-icon-small aui-iconfont-edit'}) + aui.buttons.button({id: 'delete-button', type: 'subtle', iconType: 'aui', extraClasses: 'aui-button-compact', text: '', extraAttributes: {title: 'Delete marker'}, iconClass: 'aui-icon-small delete-icon'});
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.markerDialog.soyTemplateName = 'Confluence.Templates.Roadmap.markerDialog';
}


Confluence.Templates.Roadmap.markerRenameDialog = function(opt_data, opt_ignored) {
  return '' + aui.form.form({action: '', content: '' + aui.form.input({extraClasses: 'marker-title', name: 'marker-title', type: 'text', value: opt_data.markerTitle}) + aui.buttons.button({extraClasses: 'rename-button', text: 'Save'})});
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.markerRenameDialog.soyTemplateName = 'Confluence.Templates.Roadmap.markerRenameDialog';
}


Confluence.Templates.Roadmap.laneRenameDialog = function(opt_data, opt_ignored) {
  return '' + aui.form.form({action: '', content: '' + aui.form.input({extraClasses: 'lane-title', name: 'lane-title', type: 'text', value: opt_data.laneTitle}) + aui.buttons.button({extraClasses: 'rename-button', text: 'Save'})});
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.laneRenameDialog.soyTemplateName = 'Confluence.Templates.Roadmap.laneRenameDialog';
}


Confluence.Templates.Roadmap.laneColorSelect = function(opt_data, opt_ignored) {
  var output = '<a id="lane-color-select" href="#" aria-owns="lane-color-picker" aria-haspopup="true" class="aui-button aui-button-subtle aui-button-compact aui-dropdown2-trigger aui-style-default" title="' + soy.$$escapeHtml('Lane color') + '"><span class="color-item" style="background-color: ' + soy.$$escapeHtml(opt_data.laneColor) + ';">&nbsp;</span></a></a><div id="lane-color-picker" class="aui-dropdown2"><ul class="aui-list-truncate">';
  var colorList120 = opt_data.colors;
  var colorListLen120 = colorList120.length;
  for (var colorIndex120 = 0; colorIndex120 < colorListLen120; colorIndex120++) {
    var colorData120 = colorList120[colorIndex120];
    output += '<li class="color-display-item"><a href="#" ><span class="color-item ' + ((colorData120.lane == opt_data.laneColor) ? 'aui-icon aui-icon-small aui-iconfont-success' : '') + '" style="background-color: ' + soy.$$escapeHtml(colorData120.lane) + ';"></span></a></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.laneColorSelect.soyTemplateName = 'Confluence.Templates.Roadmap.laneColorSelect';
}


Confluence.Templates.Roadmap.linkPageTitle = function(opt_data, opt_ignored) {
  return '<span class="link-page-title"></span>';
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.linkPageTitle.soyTemplateName = 'Confluence.Templates.Roadmap.linkPageTitle';
}


Confluence.Templates.Roadmap.footerActionContent = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({text: 'Insert', id: 'roadmapInsertBtn'}) + aui.buttons.button({text: 'Cancel', type: 'link', id: 'roadmapCancelBtn'});
};
if (goog.DEBUG) {
  Confluence.Templates.Roadmap.footerActionContent.soyTemplateName = 'Confluence.Templates.Roadmap.footerActionContent';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/bar/bar.js' */
(function(d,e){Roadmap.BarView=Backbone.View.extend({className:"roadmap-bar",events:{click:"_showDialog",dragstart:"_onDragstart",dragstop:"_onDragStop",dropover:"_onDropOver",dropout:"_onDropOut"},attributes:function(){return{cid:this.cid}},initialize:function(){e.bindAll(this,"render","_updateBar","_beforeResize","updateMaxWidth","_deleteBar","_updateTitle");this._addEvents()},_addEvents:function(){var a=this;this.$el.draggable({opacity:.3,cursor:"move",appendTo:".roadmap-drag-area",snap:".roadmap-bar-row, .new-bar-row",
snapMode:"inner",snapTolerance:17,scroll:!0,zIndex:4020,helper:function(){return a.$el.clone().addClass("roadmap-bar-clone").data("View",a)}});this.$el.droppable({accept:".roadmap-bar",tolerance:"touch",hoverClass:"bar-hover-bar"});this.$el.data("View",this)},render:function(){this.updateColor(this.options.color);var a=this.options.timelineView.getBarPosition(this.model.attributes);this.$el.css({left:a.left+"px",width:a.width+"px"});this.$el.attr("title",this.model.get("title"));this.$el.append(Confluence.Templates.Roadmap.bar({title:this.model.get("title")}));
this.$el.resizable({handles:"e, w",minWidth:Roadmap.barMinWidth,start:this._beforeResize,stop:this._updateBar});return this},updateMaxWidth:function(a){this.$el.resizable("option","maxWidth",a);var b=this.$el.resizable("option","minWidth");a<b&&this.$el.resizable("option","minWidth",a)},_beforeResize:function(a,b){this._barDialog&&this._barDialog.remove();this.trigger("beforeResize",this,this._checkHandleDirection(a))},_checkHandleDirection:function(a){a=d(a.toElement?a.toElement:a.originalEvent.target);
if(a.hasClass("ui-resizable-w"))return"left";if(a.hasClass("ui-resizable-e"))return"right";throw"Unsupport resize direction handling \x3d "+a;},_updateBar:function(a,b){b.originalPosition.left!=b.position.left?this.model.set({startDate:this.options.timelineView.getBarStartDate(b.position.left),duration:this.options.timelineView.getBarDuration(b.element.outerWidth())}):b.originalSize.width!=b.size.width&&this.model.set("duration",this.options.timelineView.getBarDuration(b.element.outerWidth()))},appendTo:function(a){this.$el.appendTo(a)},
updateColor:function(a){this.$el.css({"background-color":a.bar,"border-color":a.lane,color:a.text})},updatePositionLeft:function(a){this.$el.css("left",a)},_onDragStop:function(a,b){this.options.lane.cleanLaneAfterDrop();this.$el.trigger("BarView.dragstop")},updateDeleteBar:function(a){this.options.deleteBar=a},_showDialog:function(a){d(a.target).is(".ui-resizable-handle")||(this._barDialog&&this._barDialog.remove(),this._barDialog=this._createDialog(),this._barDialog.show(),Confluence.Roadmap.Analytics.openBarDialogInEdit())},
_createDialog:function(){return new Roadmap.BarDialogView({trigger:this.$el,model:this.model,timelineWidth:this.options.timelineView.$el.width(),renderOption:{isEditMode:!0,editInplace:{title:!0,pageLink:!0,description:!0}},linkPageEditable:!0,deleteBar:this._deleteBar,updateTitle:this._updateTitle,updateDescription:this._updateDescription,updatePageLink:this._updatePageLink,createLinkPageCallback:this._goToCreateLinkPage})},_deleteBar:function(){this.options.deleteBar(this)},_updateTitle:function(a){this.model.set("title",
a);this.$el.attr("title",a);this.$el.find(".roadmap-bar-title").html(AJS.escapeHtml(a))},_updateDescription:function(a){this.model.set("description",a)},_updatePageLink:function(a){this.model.set("pageLink",a)},_onDragstart:function(a,b){Roadmap.DragDrop.barDraggingOver={};this.$el.trigger("BarView.dragstart",[b])},_onDropOver:function(a,b){Roadmap.DragDrop.barDraggingOver[this.cid]=this.cid;Roadmap.DragDrop.barDraggingOver&&!0!==b.helper.data("isAddingNewRow")&&b.helper.addClass("roadmap-bar-overlapped")},
_onDropOut:function(a,b){delete Roadmap.DragDrop.barDraggingOver[this.cid];b.helper.removeClass("roadmap-bar-overlapped");e.each(Roadmap.DragDrop.barDraggingOver,function(c){!0!==b.helper.data("isAddingNewRow")&&("string"===typeof c?b.helper.addClass("roadmap-bar-overlapped"):"roadmap-bar-row"===c.className&&c.$el.addClass("roadmap-bar-drag-hover"))})},_goToCreateLinkPage:function(a){a.preventDefault();var b=this.me;a=parseInt(AJS.Meta.get("page-id"));a=0<a?a:AJS.Meta.get("parent-page-id");Confluence.RoadmapLink.addCreateLinkPageListener({roadmapBarId:b.model.id,
roadmapContentId:a,updateRoadmap:!1},function(c){c=b._updatePageLink(c.pageLink);b.fields.$pageLink.html(c)})}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/bar/bar-row.js' */
(function(c,e){Roadmap.BarRowView=Backbone.View.extend({className:"roadmap-bar-row",initialize:function(){e.bindAll(this,"_addEvents");this._addEvents();return this},attributes:function(){return{cid:this.cid}},_addEvents:function(){var d=this;this.$el.droppable({greedy:!0,tolerance:"pointer",hoverClass:"roadmap-bar-drag-hover",activeClass:"roadmap-bar-drag-active",accept:".roadmap-bar",over:function(b,a){Roadmap.DragDrop.barDraggingOver[d.cid]=d;!0!==a.helper.data("isAddingNewRow")?c(this).closest(".roadmap-content").find(".new-row-placeholder").remove():
d.$el.removeClass("roadmap-bar-drag-hover")},out:function(){var b=c(this);delete Roadmap.DragDrop.barDraggingOver[d.cid];b.closest(".roadmap-content").find(".new-row-placeholder").remove()},drop:function(b,a){b=0<e.reject(Roadmap.DragDrop.barDraggingOver,function(f){return"object"===typeof f}).length;a.helper.hasClass("roadmap-bar-overlapped")||b||c(this).trigger("BarView.drop",[{$barViewHelper:a.helper,$barViewOriginal:a.draggable,$barRow:c(this)},a])}})},isEmptyRow:function(){return this.$el.is(":empty")}})})(AJS.$,
window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/bar/bar-row-new.js' */
(function(e,c){Roadmap.BarRowNewView=Backbone.View.extend({className:"new-bar-row",overlayTop:3,margin:5,events:{drop:"_onDrop",dropover:"_onDropOver",dropout:"_onDropOut"},initialize:function(){c.bindAll(this,"render","_addEvent");return this},render:function(){this.$el.append(Confluence.Templates.Roadmap.newRowLine());this._addEvent();this._setSizePosition();return this},_addEvent:function(){this.$el.droppable({accept:".roadmap-bar",tolerance:"pointer",hoverClass:"new-bar-row-hover"})},_setSizePosition:function(){var a=
this.options.$barRow,b=!1===this.options.renderBottom?-1*this.margin:a.height(),d=0===a.index()?this.overlayTop+this.margin:this.overlayTop;this.$el.css({top:a.position().top+b-d,width:a.width()})},_onDrop:function(a,b){this.$el.trigger("BarView.drop",[{barRowNewView:this},b])},_onDropOver:function(a,b){this.$el.trigger("BarRowNew.dropover",[this,b])},_onDropOut:function(a,b){this.$el.trigger("BarRowNew.dropout",[this,b])}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/lane-dialog/lane-dialog.js' */
(function(a,g){var d=Roadmap.InlineDialogView;Roadmap.LaneDialogView=d.extend({events:{"click #delete-button":"_onDeleteClick","click #rename-button":"_onRenameClick","click #add-bar-button":"_onAddBarClick"},initialize:function(){g.bindAll(this,"_onHide");this.options.dialogOptions={width:this._getDialogWidth(),hideCallback:this._onHide};a(".roadmap-editor-popup, .roadmap-macro-view").scroll(function(){a("#lane-color-picker").hide()});d.prototype.initialize.call(this,this.options)},_getContent:function(b){var e=
this.options.lane.model.get("color").lane;b.html(Confluence.Templates.Roadmap.laneDialog({canDelete:this.options.canDelete,colors:Roadmap.COLORS,laneColor:e}));this.$el.find(".aui-button").tooltip({gravity:"s"});var h=this,f=this.$el.find("#lane-color-picker .color-item");f.click(function(c){c.preventDefault();c=Roadmap.COLORS[f.index(this)];c.lane!=e&&h.options.changeColor(c);a("#lane-color-picker").hide()})},_getDialogWidth:function(){var b=2;this.options.canDelete&&b++;return 29*b+51},_onDeleteClick:function(){this.options.deleteLane();
this.remove()},_onRenameClick:function(){this._laneRenameDialog||(this._laneRenameDialog=new Roadmap.LaneRenameDialogView({trigger:this.options.trigger,lane:this.options.lane}));this._laneRenameDialog.show();this.hide()},_onAddBarClick:function(){this.options.addBar();this.remove()},_onHide:function(){a("#lane-color-picker").hide();d.prototype._onHide.call(this)}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/lane-dialog/lane-rename-dialog.js' */
(function(d,e){var b=require("confluence/form-state-control"),c=Roadmap.InlineDialogView;Roadmap.LaneRenameDialogView=c.extend({events:{"click .rename-button":"_onRenameButtonClick","keyup .lane-title":"_onChangeLaneTitle"},initialize:function(){this.options.dialogOptions={width:this._getDialogWidth()};c.prototype.initialize.call(this,this.options)},_getContent:function(a){a.html(Confluence.Templates.Roadmap.laneRenameDialog({laneTitle:this.options.trigger.text()}));this.controls={$renameButton:this.$el.find(".rename-button"),
$laneTitle:this.$el.find(".lane-title")}},_getDialogWidth:function(){return 315},_onChangeLaneTitle:function(a){d.trim(this.controls.$laneTitle.val())?(b.enableElement(this.controls.$renameButton),a.which==AJS.$.ui.keyCode.ENTER&&this.controls.$renameButton.click()):b.disableElement(this.controls.$renameButton)},_onShow:function(a){this.controls.$laneTitle.select()},_onRenameButtonClick:function(a){a.preventDefault();this.hide();a=this.controls.$laneTitle.val();this.options.lane.renameTitle(a)}})})(AJS.$,
window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/marker-dialog/marker-dialog.js' */
(function(c,d){var a=Roadmap.InlineDialogView;Roadmap.MarkerDialogView=a.extend({events:{"click #rename-button":"_onRenameButtonClick","click #delete-button":"_onDeleteButtonClick"},initialize:function(){this.options.dialogOptions={width:60};a.prototype.initialize.call(this,this.options)},_getContent:function(b){b.html(Confluence.Templates.Roadmap.markerDialog());this.$el.find(".aui-button.aui-button-compact").tooltip({gravity:"s"})},_onRenameButtonClick:function(){this._markerRenameDialog||(this._markerRenameDialog=
new Roadmap.MarkerRenameDialogView({trigger:this.options.trigger,marker:this.options.marker}));this._markerRenameDialog.show();this.hide()},_onDeleteButtonClick:function(){this.options.marker.removeMarker();this.hide()}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/marker-dialog/marker-rename-dialog.js' */
(function(d,e){var b=require("confluence/form-state-control"),c=Roadmap.InlineDialogView;Roadmap.MarkerRenameDialogView=c.extend({events:{"click .rename-button":"_onSaveButtonClick","keyup .marker-title":"_onChangeMarkerTitle"},initialize:function(){this.options.dialogOptions={width:315};c.prototype.initialize.call(this,this.options)},_getContent:function(a){a.html(Confluence.Templates.Roadmap.markerRenameDialog({markerTitle:this.options.marker.model.get("title")}));this.controls={$renameButton:this.$el.find(".rename-button"),
$title:this.$el.find(".marker-title")}},_onChangeMarkerTitle:function(a){d.trim(this.controls.$title.val())?(b.enableElement(this.controls.$renameButton),a.which==AJS.$.ui.keyCode.ENTER&&this.controls.$renameButton.click()):b.disableElement(this.controls.$renameButton)},_onShow:function(a){this.controls.$title.select()},_onSaveButtonClick:function(a){a.preventDefault();this.hide();this.options.marker.renameTitle(this.controls.$title.val())}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/lane.js' */
(function(k,f){window.Roadmap=window.Roadmap||{};Roadmap.LaneView=Backbone.View.extend({tagName:"div",className:"roadmap-lane",events:{"click .roadmap-lane-title":"_showDialog","BarView.drop":"_onBarDropped","BarRowNew.dropover":"_onBarRowNewDropover","BarRowNew.dropout":"_onBarRowNewDropout"},attributes:function(){return{cid:this.cid}},initialize:function(){f.bindAll(this,"render","renameTitle","updateRowIndex","removeEmptyRow","cleanLaneAfterDrop","_deleteLane","_updateLaneHeight","_renderComplete",
"_deleteBar","_addBar","_changeColor","addDefaultBarRow");this._barViews=[];this._barRowViews=[];this.listenTo(this.model.get("bars"),"add",function(a){var b=this._newBarRowView();a=this._newBarView(a);b.$el.append(a.render().$el);this._$laneContent.append(b.$el);this._barViews.push(a);this.$el.trigger("BarView.add",a);f.defer(this._updateLaneHeight)})},render:function(){var a=this;this.$el.append(Confluence.Templates.Roadmap.lane({title:this.model.get("title"),color:this.model.get("color")}));Confluence.Roadmap.ColorHelper.adjustColorCount(this.model.get("color"),
1);var b=this.model.get("bars").models;b=f.sortBy(b,function(c){return c.attributes.rowIndex});f.each(b,function(c){c=a._newBarView(c);a._barViews.push(c)});this._renderBars();f.defer(this._renderComplete);return this},_renderComplete:function(){this._updateLaneHeight()},renameTitle:function(a){this.model.set("title",a);this.$el.find(".roadmap-lane-title").attr("title",a);this.$el.find(".title-inner").html(AJS.escapeHtml(a));this._updateLaneHeight()},_updateLaneHeight:function(){var a=this.$el.find(".title-inner");
a.hide();var b=this._$laneContent.outerHeight();a.width(b-2*Roadmap.LANE_PADDING);a.show()},_barBeforeResize:function(a,b){var c=a.$el,d=Math.ceil(c.outerWidth()-c.width());"left"==b?(b=this._getNearestBarView(a,b),d=null==b?0:b.position().left+b.width()+d,d=c.position().left-d,c=c.width()+d):(b=this._getNearestBarView(a,b),c=(null==b?this._getLaneContentWidth()-d:b.position().left-d)-c.position().left);a.updateMaxWidth(c-Roadmap.BAR_MARGIN)},_renderBars:function(){var a=this;this._$laneContent=this.$el.find(".roadmap-lane-content");
var b={};f.each(this._barViews,function(c){var d="row-"+c.model.get("rowIndex"),e=b[d];e||(e=a._newBarRowView(c.model.get("rowIndex")),b[d]=e);e.$el.append(c.render().$el);a._$laneContent.append(e.$el)})},_newBarRowView:function(){var a=new Roadmap.BarRowView;this._barRowViews.push(a);return a},_newBarView:function(a){a=new Roadmap.BarView({model:a,lane:this,color:this.model.get("color"),timelineView:this.options.timelineView,deleteBar:this._deleteBar});a.on("beforeResize",f.bind(this._barBeforeResize,
this));return a},_getNearestBarView:function(a,b){var c=f.filter(a.options.lane._barViews,function(e){return e.model.get("rowIndex")===a.model.get("rowIndex")}),d=null;"left"==b?f.each(c,function(e){e.$el.position().left<a.$el.position().left&&(null==d||e.$el.position().left>d.$el.position().left)&&(d=e)}):f.each(c,function(e){e.$el.position().left>a.$el.position().left&&(null==d||e.$el.position().left<d.$el.position().left)&&(d=e)});return null!=d?d.$el:null},_getLaneContentWidth:function(){return this.$el.find(".roadmap-lane-content").width()},
_showDialog:function(){this._laneDialog&&this._laneDialog.remove();this._laneDialog=this._createLaneDialog();this._laneDialog.show()},_createLaneDialog:function(){return new Roadmap.LaneDialogView({trigger:this.$el.find(".title-outer"),canDelete:this.options.canDelete,deleteLane:this._deleteLane,addBar:this._addBar,changeColor:this._changeColor,lane:this})},_onBarDropped:function(a,b,c){var d=!!b.barRowNewView;a=c.draggable.data("View");var e=a.model,g=a.options.lane,h=g.cid===this.cid,l=this.model.get("bars"),
m=c.position.left,n=this.options.timelineView.getBarStartDate(m);h&&1===l.models.length&&d||(a.updatePositionLeft(m),a.updateColor(this.model.get("color")),e.attributes.startDate=n,d?(d=this._newBarRowView(),b.barRowNewView.$el.replaceWith(d.$el),a.appendTo(d.$el)):a.appendTo(b.$barRow),c.helper.remove(),h||(a.options.lane.removeEmptyRow(),l._byId[e.id]=e,this._barViews.push(a),a.updateDeleteBar(this._deleteBar),g.model.get("bars").remove(e),l.models.push(e),g._barViews.splice(f.indexOf(g._barViews,
a),1),this.updateRowIndex(g.$el),a.options=f.extend(a.options,{color:this.model.get("color"),lane:this}),g._updateLaneHeight()),this.removeEmptyRow(),this.updateRowIndex(this.$el),this._updateLaneHeight())},updateRowIndex:function(a){a.find(".roadmap-bar-row").each(function(b,c){k(c).find('.roadmap-bar:not(".roadmap-bar-clone")').each(function(d,e){if(d=k(e).data("View"))d.model.attributes.rowIndex=b})})},removeEmptyRow:function(){var a=0;f.each(this._barRowViews,function(b){b.isEmptyRow()&&(b.remove(),
a++)});return!!a},cleanLaneAfterDrop:function(){this._$laneContent.find(".roadmap-bar-drag-active").removeClass("roadmap-bar-drag-active");this._$laneContent.find(".new-row-placeholder").remove()},_deleteLane:function(){Confluence.Roadmap.ColorHelper.adjustColorCount(this.model.get("color"),-1);this.$el.trigger("Lane.delete",this)},updateDeleteStatus:function(a){this._laneDialog&&(this._laneDialog.remove(),delete this._laneDialog);this.options.canDelete=a},_deleteBar:function(a){this.model.get("bars").remove(a.model);
this._barViews.splice(f.indexOf(this._barViews,a),1);a.remove();this.removeEmptyRow()&&(this.updateRowIndex(this.$el),this._updateLaneHeight(),this.$el.trigger("BarRowView.remove"))},_addBar:function(){const a=this.model.get("bars");var b=this.options.timelineView.model;const c=Confluence.Roadmap.DateUtilities.parseDate(b.get("startDate"));b=b.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?Confluence.Roadmap.DateUtilities.getStartOfMonth(c):Confluence.Roadmap.DateUtilities.getStartOfIsoWeek(c);
a.add(new Roadmap.Bar({rowIndex:this.model.getNumberOfRows(),startDate:b}))},_changeColor:function(a){Confluence.Roadmap.ColorHelper.adjustColorCount(this.model.get("color"),-1);this.model.set("color",a);Confluence.Roadmap.ColorHelper.adjustColorCount(a,1);this.$el.find(".roadmap-lane-title").css({"background-color":a.lane,color:a.text});f.each(this._barViews,function(b){b.updateColor(a)})},addNewBarRow:function(a){var b=this._$laneContent.find(".roadmap-bar-row"),c=[],d=function(){b.each(function(){var g=
k(this);if(0===g.index()){var h=new Roadmap.BarRowNewView({$barRow:g,renderBottom:!1});g.before(h.render().$el);c.push(h)}h=new Roadmap.BarRowNewView({$barRow:g});g.after(h.render().$el);c.push(h)})};if(0==b.length)this.addDefaultBarRow();else{var e=b.find(".roadmap-bar");0<e.length&&(0<e.length&&1==e.length&&e.attr("cid")===a.attr("cid")||d())}return c},addDefaultBarRow:function(){var a=this._newBarRowView();this._$laneContent.append(a.$el)},_onBarRowNewDropover:function(a,b,c){f.isEmpty(Roadmap.DragDrop.barDraggingOver)||
f.each(Roadmap.DragDrop.barDraggingOver,function(d){d.$el&&d.$el.removeClass("new-bar-row-hover roadmap-bar-drag-hover")});Roadmap.DragDrop.barDraggingOver[b.cid]=b;c.helper.removeClass("roadmap-bar-overlapped");c.helper.data("isAddingNewRow",!0)},_onBarRowNewDropout:function(a,b,c){c.helper.data("isAddingNewRow",!1);delete Roadmap.DragDrop.barDraggingOver[b.cid];f.each(Roadmap.DragDrop.barDraggingOver,function(d){"string"===typeof d?c.helper.addClass("roadmap-bar-overlapped"):"roadmap-bar-row"===
d.className&&!0!==c.helper.data("isAddingNewRow")&&d.$el.addClass("roadmap-bar-drag-hover")})}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/marker.js' */
(function(d,c){window.Roadmap=window.Roadmap||{};Roadmap.MarkerView=Backbone.View.extend({className:"vertical-line",events:{dragstop:"_onDragStop",dragstart:"_onDragStart"},initialize:function(){c.bindAll(this,"render","updateHeight","renameTitle","_renderComplete","_onMarkerClick")},render:function(){var a=this.options.roadmap._timelineView.model;a=a.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?Confluence.Roadmap.Helper.getPosXOnMonthTimeline(a.attributes,this.model.get("markerDate")):
Confluence.Roadmap.Helper.getPosXOnWeekTimeline(a.attributes,this.model.get("markerDate"));if(0>a||a>this.options.roadmap._timelineView.$el.width())return!1;this.$el.css({left:a+Roadmap.LANE_TITLE_WIDTH+"px"});this.$el.append(Confluence.Templates.Roadmap.marker({title:this.model.get("title")}));this.updateHeight(this.options.roadmap._getLaneHeight());c.defer(this._renderComplete);return this},_renderComplete:function(){this._setupMarkerDragging();this.$el.click(this._onMarkerClick);this.$el.find(".marker-title").ellipsis({row:Roadmap.MARKER_TITLE_LINE})},
_setupMarkerDragging:function(){this.$el.draggable({axis:"x",zIndex:4013,containment:".roadmap-frame-content",cursor:"move"})},_onDragStop:function(a,b){a=b.position.left-Roadmap.LANE_TITLE_WIDTH;b=this.options.roadmap._timelineView.model.attributes;a=b.displayOption===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?Confluence.Roadmap.Helper.getMonthStartDateByPosition(b,a):Confluence.Roadmap.Helper.getWeekStartDateByPosition(b,a);this.model.set("markerDate",a)},_onDragStart:function(a,b){this.options.roadmap.hideDialog()},
_onMarkerClick:function(a){d(a.target).hasClass("marker-title")&&(this._markerDialog&&this._markerDialog.remove(),this._markerDialog=this._createMarkerDialog(),this._markerDialog.show())},_createMarkerDialog:function(){return new Roadmap.MarkerDialogView({trigger:this.$el.find(".marker-title"),marker:this})},updateHeight:function(a){this.$el.height(a+Roadmap.MARKER_HEIGHT_PADDING)},renameTitle:function(a){this.model.set("title",a);var b=this.$el.find(".marker-title");b.attr("title",a);b.html(AJS.escapeHtml(a)).ellipsis({row:Roadmap.MARKER_TITLE_LINE})},
removeMarker:function(){this.model.collection.remove(this.model);this.remove()}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-view-resources', location = 'view/roadmap-editor/roadmap.js' */
(function(f,d){window.Roadmap=window.Roadmap||{};Roadmap.RoadmapEditorView=Backbone.View.extend({className:"roadmap-editor-container",events:{"BarView.add":"_onAddBar","BarView.dragstart":"_onBarDragstart","BarView.dragstop":"_onBarDragstop","BarView.drop":"_onBarDropped","LaneView.drop":"_onBarDropped","Lane.delete":"_onDeleteLane","BarRowView.remove":"_onBarRowViewRemove","sortstart .roadmap-content":"_onSortStart","sortstop .roadmap-content":"_onSortStop",remove:"_onRemove"},initialize:function(){d.bindAll(this,
"render");this.listenTo(this.model.get("lanes"),"add",function(a){a=new Roadmap.LaneView({model:a,timelineView:this._timelineView,canDelete:!0});1===this._laneViews.length&&this._laneViews[0].updateDeleteStatus(!0);this._laneViews.push(a);this.$roadmapContent.append(a.render().$el);this._updateTimelineColumnHeight();this._scrollToBottom()});this.listenTo(this.model.get("markers"),"add",function(a){a=new Roadmap.MarkerView({model:a,roadmap:this});this.$roadmapMarker.append(a.render().$el);this._markerViews.push(a)});
this.listenTo(this.model.get("timeline"),"change",function(){this._isTimelineChanged()&&(this._calculateMinWidthOfABar(),this._timelineView.update(),this._timelineColumnView.update(),this.$roadmapContent.empty(),d.each(this._laneViews,function(a){a.remove()}),this._laneViews=[],this._renderLanes(),this.$roadmapMarker.empty(),this._markerViews=[],this._renderMarkers(),this._updateDragArea())})},render:function(){this.$el.html(Confluence.Templates.Roadmap.roadmapEditor());this._calculateMinWidthOfABar();
this._initVariables();this._renderToolbar();this._renderTimeline();this._renderLanes();this._renderMarkers();this._renderTimelineColumn();this._updateDragArea();return this},_calculateMinWidthOfABar:function(){Roadmap.barMinWidth=this.model.get("timeline").get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?Roadmap.MONTH_BAR_MIN_WIDTH:Roadmap.WEEK_BAR_MIN_WIDTH},_initVariables:function(){this.$roadmapContainer=this.$el.find("#roadmap-container");this.$roadmapTimeline=this.$roadmapContainer.find(".roadmap-frame");
this.$roadmapContent=this.$roadmapContainer.find(".roadmap-content");this.$roadmapMarker=this.$roadmapContainer.find(".roadmap-marker");this._timelineView=new Roadmap.TimelineView({model:this.model.get("timeline")});this._timelineColumnView=new Roadmap.TimelineColumnView({model:this.model.get("timeline")});this._laneViews=[];this._markerViews=[]},_renderTimeline:function(){this.$roadmapTimeline.prepend(this._timelineView.render().$el)},_renderTimelineColumn:function(){this._updateTimelineColumnHeight();
this.$roadmapTimeline.append(this._timelineColumnView.render().$el)},_renderMarkers:function(){var a=this;this.model.get("markers").each(function(b){b=new Roadmap.MarkerView({model:b,roadmap:a});a.$roadmapMarker.append(b.render().$el);a._markerViews.push(b)})},_renderLanes:function(){Confluence.Roadmap.ColorHelper.resetColorCounts();var a=this;this._updateLaneWidth();var b=1<this.model.get("lanes").models.length;this.model.get("lanes").each(function(c){c=new Roadmap.LaneView({model:c,timelineView:a._timelineView,
canDelete:b});a._laneViews.push(c);a.$roadmapContent.append(c.render().$el)});this._setupLaneReordering()},_onAddBar:function(a,b){this._updateTimelineColumnHeight();a=b.$el;this._isInViewScreen(a)||this._scrollToBar(a)},_renderToolbar:function(){var a=f("#"+this.options.dialogId+" .aui-dialog2-content");a.find(".roadmap-toolbar").remove();var b=new Roadmap.ToolbarView({model:this.model,timelineView:this._timelineView});a.prepend(b.render().$el)},_getTimelineWidth:function(){return this.$roadmapTimeline.find(".roadmap-frame-title").width()},
_getLaneHeight:function(){return this.$roadmapContent.height()},_updateLaneWidth:function(){this.$roadmapContent.width(this._getTimelineWidth()+Roadmap.LANE_TITLE_WIDTH)},_scrollToBottom:function(){this.options.roadmapEditorPopup.scrollTop(this._getLaneHeight())},_isInViewScreen:function(a){return f.inviewport(a,{threshold:-200})},_scrollToBar:function(a){this.options.roadmapEditorPopup.scrollTop(a.parent().position().top);this.options.roadmapEditorPopup.scrollLeft(0)},_onBarDropped:function(){this._updateTimelineColumnHeight()},
_onDeleteLane:function(a,b){this.model.get("lanes").remove(b.model);this._laneViews.splice(d.indexOf(this._laneViews,b),1);b.remove();this._updateTimelineColumnHeight();1===this._laneViews.length&&this._laneViews[0].updateDeleteStatus(!1)},_onBarRowViewRemove:function(){this._updateTimelineColumnHeight()},_updateTimelineColumnHeight:function(){var a=this._getLaneHeight();this._timelineColumnView.updateHeight(a);d.each(this._markerViews,function(b){b.updateHeight(a)})},hideDialog:function(){f("#inline-dialog-roadmap-dialog, #inline-dialog-timeline-options").hide()},
removeDialog:function(){f("#inline-dialog-roadmap-dialog, #inline-dialog-timeline-options").remove()},_onBarDragstart:function(a,b){var c=this;this.hideDialog();this._updateDragArea();this._barRowNewViewList=[];d.each(this._laneViews,function(e){c._barRowNewViewList.push(e.addNewBarRow(b.helper))})},_updateDragArea:function(){this.$roadmapContainer.find(".roadmap-drag-area").css(this._timelineColumnView.getSizeAndPosition())},_onBarDragstop:function(){d.each(d.flatten(this._barRowNewViewList),function(a){a.remove()});
delete this._barRowNewViewList;d.each(this._laneViews,function(a){a.removeEmptyRow()})},_setupLaneReordering:function(){this.$roadmapContent.sortable({axis:"y",cursor:"move",handle:".roadmap-lane-title",opacity:.3,placeholder:"roadmap-lane lane-sorting-placeholder",helper:function(a,b){return f(b).clone().addClass("lane-sorting-hepler")}})},_onSortStart:function(a,b){this.hideDialog();this._timelineColumnView.$el.hide();b.placeholder.css({height:Math.min(b.helper.height(),100),width:b.helper.width()}).html(Confluence.Templates.Roadmap.lane(Roadmap.TRANSPARENT_LANE));
b.helper.find(".roadmap-lane-content").css({width:b.helper.width()-(b.helper.find(".roadmap-lane-title").outerWidth()+b.helper.find(".roadmap-separate-content").outerWidth())})},_onSortStop:function(a,b){this._timelineColumnView.$el.show();var c=b.item.attr("cid");a=d.find(this._laneViews,function(g){return g.cid===c}).model;var e=this.model.get("lanes");e.remove(a);e.models.splice(b.item.index(),0,a);e._byId[a.cid]=a},_onRemove:function(){this.$roadmapTimeline.remove()},_isMonthYearChanged:function(){var a=
function(c,e){return c.getMonth()!==e.getMonth()||c.getYear()!==e.getYear()?!0:!1},b=this.model.get("timeline");return a(b._previousAttributes.startDate,b.attributes.startDate)||a(b._previousAttributes.endDate,b.attributes.endDate)},_isWeekChanged:function(){var a=this.model.get("timeline"),b=a._previousAttributes.endDate,c=a.attributes.endDate;return!(Confluence.Roadmap.DateUtilities.areInSameWeek(a._previousAttributes.startDate,a.attributes.startDate)&&Confluence.Roadmap.DateUtilities.areInSameWeek(b,
c))},_isTimelineChanged:function(){var a=this.model.get("timeline"),b=a.changed.displayOption;b?this.model.updateDurationUnit(a.get("displayOption")):b=a.get("displayOption")===Roadmap.TIMELINE_DISPLAY_OPTION.MONTH?this._isMonthYearChanged():this._isWeekChanged();return b},resize:function(){this._updateLaneWidth();this._updateTimelineColumnHeight();this.$roadmapContent.css({top:this.$roadmapTimeline.find(".roadmap-column-title:first").innerHeight()})}})})(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-analytics-resources', location = 'analytics/roadmap-analytics.js' */
Confluence.Roadmap=Confluence.Roadmap||{};
Confluence.Roadmap.Analytics=function(g,e){function b(a,c){AJS.trigger("analytics",{name:a,data:c})}function d(a){var c=0;e.each(a.lanes,function(f){c+=f.bars.length});return{lanes:a.lanes.length,bars:c,markers:a.markers.length,months:Confluence.Roadmap.DateUtilities.getNumberOfMonths(Confluence.Roadmap.DateUtilities.parseDate(a.timeline.startDate),Confluence.Roadmap.DateUtilities.parseDate(a.timeline.endDate))+1}}return{insertRoadmap:function(){b("confluence.roadmap.insert")},createRoadmap:function(a){a=
d(a);b("confluence.roadmap.create",a)},editRoadmap:function(a){a=d(a);b("confluence.roadmap.edit",a)},openBarDialogInEdit:function(){b("confluence.roadmap.editmode.open_bar_dialog")},addDescription:function(){b("confluence.roadmap.editmode.add_description")},addPageLinkEditMode:function(a){b("confluence.roadmap.editmode.add_page_link",a)},addPageLinkViewMode:function(a){b("confluence.roadmap.viewmode.add_page_link",a)},openBarDialogInView:function(){b("confluence.roadmap.viewmode.open_bar_dialog")},
clickPageLink:function(){b("confluence.roadmap.viewmode.click_page_link")}}}(AJS.$,window._);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-resources', location = 'lib/jquery.viewport.js' */
!function(e){e.belowthefold=function(t,o){return e(window).height()+e(window).scrollTop()<=e(t).offset().top-o.threshold},e.abovethetop=function(t,o){return e(window).scrollTop()>=e(t).offset().top+e(t).height()-o.threshold},e.rightofscreen=function(t,o){return e(window).width()+e(window).scrollLeft()<=e(t).offset().left-o.threshold||e(t).offset().left<0},e.leftofscreen=function(t,o){return e(window).scrollLeft()>=e(t).offset().left+e(t).width()-o.threshold},e.inviewport=function(t,o){return!(e.rightofscreen(t,o)||e.leftofscreen(t,o)||e.belowthefold(t,o)||e.abovethetop(t,o))},e.extend(e.expr[":"],{"below-the-fold":function(t,o,n){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t,o,n){return e.abovethetop(t,{threshold:0})},"left-of-screen":function(t,o,n){return e.leftofscreen(t,{threshold:0})},"right-of-screen":function(t,o,n){return e.rightofscreen(t,{threshold:0})},"in-viewport":function(t,o,n){return e.inviewport(t,{threshold:0})}})}(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-resources', location = 'lib/jquery.ellipsis.min.js' */
/*! jQuery ellipsis - v1.1.1 - 2014-02-23
* https://github.com/STAR-ZERO/jquery-ellipsis
* Copyright (c) 2014 Kenji Abe; Licensed MIT */
!function(a){a.fn.ellipsis=function(b){var c={row:1,onlyFullWords:!1,"char":"...",callback:function(){},position:"tail"};return b=a.extend(c,b),this.each(function(){var c=a(this),d=c.text(),e=d,f=e.length,g=c.height();c.text("a");var h=parseFloat(c.css("lineHeight"),10),i=c.height(),j=h>i?h-i:0,k=j*(b.row-1)+i*b.row;if(k>=g)return c.text(d),void b.callback.call(this);var l=1,m=0,n=d.length;if("tail"===b.position){for(;n>l;)m=Math.ceil((l+n)/2),c.text(d.slice(0,m)+b["char"]),c.height()<=k?l=m:n=m-1;d=d.slice(0,l),b.onlyFullWords&&(d=d.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),d+=b["char"]}else if("middle"===b.position){for(var o=0;n>l;)m=Math.ceil((l+n)/2),o=Math.max(f-m,0),c.text(e.slice(0,Math.floor((f-o)/2))+b["char"]+e.slice(Math.floor((f+o)/2),f)),c.height()<=k?l=m:n=m-1;o=Math.max(f-l,0);var p=e.slice(0,Math.floor((f-o)/2)),q=e.slice(Math.floor((f+o)/2),f);b.onlyFullWords&&(p=p.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),d=p+b["char"]+q}c.text(d),b.callback.call(this)}),this}}(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-resources', location = 'editor/roadmap-editor.js' */
AJS.toInit(function(){async function y(b){b=(new TextEncoder).encode(b);b=await crypto.subtle.digest("SHA-256",b);return Array.from(new Uint8Array(b)).map(l=>l.toString(16).padStart(2,"0")).join("")}function u(){setTimeout(function(){if(e&&e.is(":visible")){var b=e.height(),l=e.find(".aui-dialog2-header").outerHeight(),q=e.find(".aui-dialog2-footer").outerHeight(),n=e.find("#roadmap-editor-toolbar").outerHeight();e.find(".roadmap-editor-popup").css("height",b-l-q-n)}},0)}var r,e,v,g,t;AJS.MacroBrowser.setMacroJsOverride("roadmap",
{opener:function(b){var l=function(h,c,f,a){var d=f?f.split("~~~~~"):[];c=c?c.split("~~~~~"):[];_.isEmpty(d)?a&&a():$.ajax({type:"POST",contentType:"application/json",url:AJS.contextPath()+"/rest/roadmap/1.0/extractPageLinks",data:JSON.stringify({wikiLinks:_.object(d,c),roadmapSpace:AJS.Meta.get("space-key")}),success:function(k){_.each(h.lanes,function(p){_.chain(p.bars).filter(function(m){return _.contains(d,m.id)}).each(function(m){k[m.id]&&(m.pageLink=k[m.id])})});a&&a()},error:function(k){AJS.log(k);
a&&a()}})},q=function(h){var c=[],f=[];h.lanes.forEach(function(a){a.bars.forEach(function(d){if(!_.isEmpty(d.pageLink)){var k=d.pageLink.wikiLink.replace(/[\][]/g,"");c.push(_.escape(k));f.push(d.id)}})});return{pageLinks:c.join("~~~~~"),mapLinks:f.join("~~~~~")}};if(b.params&&"true"!==b.params.timeline){var n=$(Confluence.Templates.Roadmap.deprecationDialog({id:"roadmap-deprecation-dialog"}));AJS.dialog2(n).on("hide",function(){$("#roadmap-deprecation-dialog").remove()}).on("show",function(){$("#dialog-close-button",
n).click(function(h){h.preventDefault();AJS.dialog2("#roadmap-deprecation-dialog").hide()})}).show();return!1}var x=function(){"undefined"==typeof r&&(r=aui.dialog.dialog2({id:"confluence-roadmap-dialog",size:"xlarge",titleText:"Insert Roadmap Planner",content:Confluence.Templates.Roadmap.roadmapPopupPanel({roadmapPopupPanelId:"roadmap-popup-panel"}),footerActionContent:Confluence.Templates.Roadmap.footerActionContent(),modal:!0}),e=$(r).appendTo($("body")),e.find("#roadmapInsertBtn").on("click",
async function(a){g.removeDialog();a=g.model.toMacroData();var d=encodeURIComponent(JSON.stringify(a)),k=await y(d),p=q(a);d={timeline:"true",source:d,hash:k,title:encodeURIComponent(a.title),pagelinks:p.pageLinks,maplinks:p.mapLinks};tinymce.confluence.macrobrowser.macroBrowserComplete({name:"roadmap",params:d});g.remove();h.hide();t?Confluence.Roadmap.Analytics.createRoadmap(a):Confluence.Roadmap.Analytics.editRoadmap(a)}),e.find("#roadmapCancelBtn").on("click",function(a){g.removeDialog();g.remove();
h.hide()}),v=e.find(".roadmap-editor-popup"));var h=AJS.dialog2("#confluence-roadmap-dialog").show();var c=$("#roadmap-popup-panel"),f=c.find(".roadmap-view");f.length||(f=$('\x3cdiv class\x3d"roadmap-view"/\x3e'),c.append(f));c=new Roadmap.Roadmap(w,{parse:!0});g=new Roadmap.RoadmapEditorView({model:c,dialogId:"confluence-roadmap-dialog",el:f,roadmapEditorPopup:v});g.render();u()};if(b.params&&b.params.source){t=!1;var w=JSON.parse(decodeURIComponent(b.params.source));l(w,b.params.pagelinks,b.params.maplinks,
x)}else t=!0,Confluence.Roadmap.Analytics.insertRoadmap(),x()}});$(window).resize(function(){u();g&&g.resize()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-editor-resources', location = 'editor/roadmap-editor-config.js' */
(function(){window.Roadmap=window.Roadmap||{};Roadmap.COLORS=[{lane:"#f6c342",bar:"#fadb8e",text:"#594300"},{lane:"#3b7fc4",bar:"#6c9fd3",text:"#ffffff"},{lane:"#d04437",bar:"#dc7369",text:"#ffffff"},{lane:"#8eb021",bar:"#aac459",text:"#ffffff"},{lane:"#ea632b",bar:"#ef8a60",text:"#ffffff"},{lane:"#654982",bar:"#8c77a1",text:"#ffffff"},{lane:"#f15c75",bar:"#f58598",text:"#ffffff"},{lane:"#815b3a",bar:"#a1846b",text:"#ffffff"}];Roadmap.TIMELINE_DISPLAY_OPTION={MONTH:"MONTH",WEEK:"WEEK"};Roadmap.SHORT_DATE_FORMAT=
"YYYY-MM-DD";Roadmap.WEEK_FORMAT="DD-MMM";Roadmap.MONTH_FORMAT="MMM";Roadmap.TIMELINE_YEARS_LIMIT=5;Roadmap.LANE_TITLE_WIDTH=45;Roadmap.MARKER_HEIGHT_PADDING=10;Roadmap.MARKER_TITLE_LINE=2;Roadmap.LANE_PADDING=11;Roadmap.BAR_PADDING=8;Roadmap.BAR_MARGIN=1;Roadmap.BAR_BORDER=1;Roadmap.MONTH_WIDTH=101;Roadmap.WEEK_WIDTH=101;Roadmap.EXTRA_SPACE_AROUND=2*Roadmap.BAR_PADDING+2*Roadmap.BAR_BORDER;Roadmap.MONTH_BAR_MIN_WIDTH=Roadmap.MONTH_WIDTH/4-Roadmap.EXTRA_SPACE_AROUND;Roadmap.WEEK_BAR_MIN_WIDTH=Roadmap.WEEK_WIDTH-
Roadmap.EXTRA_SPACE_AROUND;Roadmap.barMinWidth=Roadmap.MONTH_BAR_MIN_WIDTH;Roadmap.TRANSPARENT_LANE={title:"",color:{lane:"#ffffff",bar:"#ffffff",text:"#ffffff"}};Roadmap.DragDrop={};Roadmap.BarDialog={MAX_LENGTH_TITLE:100,MAX_LENGTH_DESCRIPTION:150};Roadmap.getDefaultRoadmapData=function(){const a=new Date((new Date).setHours(0,0,0,0)),b=Confluence.Roadmap.DateUtilities.addMonths(a,11);return{title:"Roadmap Planner",timeline:{startDate:new Date(a),endDate:b,displayOption:Roadmap.TIMELINE_DISPLAY_OPTION.MONTH},
lanes:[{title:"Lane 1",color:Roadmap.COLORS[0],bars:[{title:"Bar 1",description:"This is the first bar.",startDate:new Date(a.setDate(1)),duration:2,rowIndex:0},{title:"Bar 2",description:"This is the second bar.",startDate:new Date(a),duration:1,rowIndex:1}]},{title:"Lane 2",
color:Roadmap.COLORS[1],bars:[{title:"Bar 3",description:"This is the third bar.",startDate:a,duration:2.5,rowIndex:0}]}],markers:[{title:"Marker 1",markerDate:new Date((new Date(a)).setDate(15))}]}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.team-calendars:amd-slim', location = '/com/atlassian/confluence/extra/calendar3/amd/shim/dialogs-amd.js' */
define("tc/dialogs",function(){return Confluence.TeamCalendars.Dialogs});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.team-calendars:amd-slim', location = '/com/atlassian/confluence/extra/calendar3/lib/amd/shim/backbone-amd.js' */
if(typeof Backbone!=="undefined"){define("tc-backbone",["underscore"],function(){return Backbone})};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.team-calendars:amd-slim', location = '/com/atlassian/confluence/extra/calendar3/lib/amd/shim/wrm-amd.js' */
define("wrm",function(){return WRM});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.team-calendars:calendar-init-common', location = 'com/atlassian/confluence/extra/calendar3/components/initialiser/init-resources.js' */
define("tc/init-resources",["wrm","jquery"],function(a,c){var b=function(d){d.removeClass("spinner aui-icon aui-icon-wait");d.find("aui-spinner").remove();return d};return{requireResources:function(){console.log("Init TC resources");a.require(["wrc!com.atlassian.confluence.extra.team-calendars.resources-batch"],function(){b(c("div.plugin-calendar"));require(["tc/calendar-plugin"],function(d){d.onTeamCalendarsLoaded()})}).fail(function(){b(c("div.plugin-calendar")).text("Failed to load calendar resources")})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.team-calendars:calendar-init-editor', location = 'com/atlassian/confluence/extra/calendar3/components/initialiser/initialiser-editor.js' */
define("tc/init-resources-unsupported-content-types",function(){var a=["comment","com.atlassian.confluence.plugins.confluence-questions:question"];return a});define("tc/wait-for-calendar-macro-browser-metadata",function(){var a;return function(){if(!a){a=new Promise(function(c){var b=setInterval(function(){if(AJS.MacroBrowser.getMacroMetadata("calendar")){clearInterval(b);c()}},100)})}return a}});define("tc/init-resources-function",["ajs","jquery","wrm","confluence/meta","confluence/api/logger","tc/init-resources-unsupported-content-types","tc/wait-for-calendar-macro-browser-metadata"],function(d,h,c,f,b,g,e){var a=function(){var i=f.get("content-type");if(g.indexOf(i)>=0){c.require(["wrc!com.atlassian.confluence.extra.team-calendars:editor"],function(){e().then(function(){d.MacroBrowser.getMacroMetadata("calendar").hidden=true;h(window).trigger("tc/init-resources-function--load-succeed");a.isEditorResourcesLoadSucceed=true;b.log("TC initialiser-editor: not loading TC editor resources for content-type="+i)})});return}b.log("TC initialiser-editor: Init TC resources in Editor. content-type="+i);c.require(["wrc!com.atlassian.confluence.extra.team-calendars:editor"],function(){require(["tc/init-resources","tc/macro-button-panel","tc/macro-browser","tc/macro-browser-event-macro","tc/editor-auto-convert"],function(l,o,k,j,n){try{o.init();k.init();j.init();n.init();l.requireResources();e().then(function(){d.MacroBrowser.getMacroMetadata("calendar").hidden=false;h(window).trigger("tc/init-resources-function--load-succeed");a.isEditorResourcesLoadSucceed=true})}catch(m){h(window).trigger("tc/init-resources-function--load-failed");a.isEditorResourcesLoadFailed=m;b.error("TC initialiser-editor: Could not init TC resources for editor",m)}})}).fail(function(j){h(window).trigger("tc/init-resources-function--load-failed");a.isEditorResourcesLoadFailed=j;b.error("TC initialiser-editor: Could not load TC resources for editor")})};return a});require(["tc/init-resources-function"],function(a){$(window).bind("rte-ready",a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-emoticons-plugin:confluence.emoticon.editor-plugin', location = 'confluence.emoticon.editor-plugin.js' */
!function(e){function n(n){for(var t,r,a=n[0],i=n[1],c=0,l=[];c<a.length;c++)r=a[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);for(u&&u(n);l.length;)l.shift()()}var t={},o={"confluence.emoticon.editor-plugin":0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var n=[];return 0===o[e]?Promise.resolve():o[e]?o[e][2]:(n.push(new Promise((function(n,t){o[e]=[n,t]})),new Promise((function(n,t){WRM.require("wrc!com.atlassian.confluence.plugins.confluence-emoticons-plugin:"+e).then(n,t)}))),o[e][2]=Promise.all(n))},r.m=e,r.c=t,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r.oe=function(e){throw console.error(e),e},"undefined"!=typeof AJS&&(r.p=AJS.contextPath()+"/s/c7084485-ecd3-4d6d-8f32-85bcbf87548e/_/download/resources/com.atlassian.confluence.plugins.confluence-emoticons-plugin:assets-c7084485-ecd3-4d6d-8f32-85bcbf87548e/");var a=window.atlassianWebpackJsonpeca76e5ef4d162f55baedb6b81d3ee1f=window.atlassianWebpackJsonpeca76e5ef4d162f55baedb6b81d3ee1f||[],i=a.push.bind(a);a.push=n,a=a.slice();for(var c=0;c<a.length;c++)n(a[c]);var u=i;r(r.s=283)}({0:function(e,n){e.exports=require("react")},119:function(e,n){e.exports=WRM.format},120:function(e,n){if(void 0===WRM.I18n){var t=new Error("Cannot find module 'WRM.I18n'");throw t.code="MODULE_NOT_FOUND",t}e.exports=WRM.I18n},172:function(e,n){e.exports=require("tinymce")},202:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return b}));var o,r=t(36),a=t.n(r),i=t(23),c=t(172),u=t.n(c),l=t(203),f=t.n(l);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d,m;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function p(){u.a.PluginManager.add("confEmoticon",(function(e){let n=!1;return e.ui.registry.addButton("confluence-insert-emoticon",{text:"",tooltip:"Insert emoji",icon:"aui-icon aui-icon-small aui-iconfont-emoji",locationGroup:"rte-toolbar-group-table",onAction:()=>{n||(Promise.all([t.e("vendors~emoticon-autocomplete-manager~emoticon-autoformat-manager~emoticon-popup-manager"),t.e("vendors~@atlaskit-internal_emojiTypeAheadComponent~emoticon-popup-manager"),t.e("vendors~emoticon-autocomplete-manager~emoticon-popup-manager"),t.e("vendors~emoticon-popup-manager"),t.e("emoticon-popup-manager")]).then(t.bind(null,328)).then(({init:e})=>{e()}),n=!0)}}),{getMetadata:function(){return{name:"Confluence emoticon plugin",url:"https://example.com/docs/customplugin"}}}})),f.a.addTinyMcePluginInit((function(e){e.plugins+=",confEmoticon"}))}function s(){a.a.bind("rte-ready",()=>{Promise.all([t.e("vendors~emoticon-autocomplete-manager~emoticon-autoformat-manager~emoticon-popup-manager"),t.e("emoticon-autoformat-manager")]).then(t.bind(null,329)).then(({init:e})=>{e()})})}function g(){a.a.bind("rte-ready",()=>{Promise.all([t.e("vendors~emoticon-autocomplete-manager~emoticon-autoformat-manager~emoticon-popup-manager"),t.e("vendors~emoticon-autocomplete-manager~emoticon-popup-manager"),t.e("emoticon-autocomplete-manager")]).then(t.bind(null,330)).then(({init:e})=>{e()})})}function b(){p(),s(),g()}(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(p,"addButtonToToolbar","/buildeng/bamboo-agent-home/xml-data/build-dir/CBP92-CONTENTPLUGINS-RELEASE/target/checkout/confluence-emoticons-plugin/plugin/src/main/frontend/integration/index.ts"),d.register(s,"initEmoticonAutoformat","/buildeng/bamboo-agent-home/xml-data/build-dir/CBP92-CONTENTPLUGINS-RELEASE/target/checkout/confluence-emoticons-plugin/plugin/src/main/frontend/integration/index.ts"),d.register(g,"initAutocomplete","/buildeng/bamboo-agent-home/xml-data/build-dir/CBP92-CONTENTPLUGINS-RELEASE/target/checkout/confluence-emoticons-plugin/plugin/src/main/frontend/integration/index.ts"),d.register(b,"init","/buildeng/bamboo-agent-home/xml-data/build-dir/CBP92-CONTENTPLUGINS-RELEASE/target/checkout/confluence-emoticons-plugin/plugin/src/main/frontend/integration/index.ts")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,t(56)(e))},203:function(e,n){e.exports=require("confluence-editor/loader/tinymce-bootstrap")},23:function(e,n,t){!function(e,n,o){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=r(n),i=r(o);const c=function(){try{return t(120)}catch(e){return null}}();function u(e,...t){let o=0;const r={};t=t.map(e=>{if(n.isValidElement(e)){const n=`!PLACEHOLDER_${++o}!`;return r[n]=e,n}return e});const c=i.default(e,...t).split(/(!PLACEHOLDER_\d+!)/g);if(1===c.length)return c.join("");const u=c.map((e,t)=>a.default.createElement(n.Fragment,{key:t},t%2?r[e]:e));return a.default.createElement(n.Fragment,null,u)}const l={getText:(...e)=>{if(!c)return console.warn('Call to "getText" function was not replaced with either raw translation or call to "format" function. Have you included the "jsI18n" transformation in Web Resource Manager?'),u(...e);let n;try{WRM.I18n.format=u,n=c.getText.apply(null,e)}finally{WRM.I18n.format=i.default}return n}};e.I18n=l,e.format=u,Object.defineProperty(e,"__esModule",{value:!0})}(n,t(0),t(119))},283:function(e,n,t){e.exports=t(284)},284:function(e,n,t){"use strict";t.r(n);t(285);var o=t(202);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;Object(o.a)()},285:function(e,n,t){e.exports=void 0},36:function(e,n){e.exports=require("confluence/api/event")},56:function(e,n){e.exports=function(e){if(!e.webpackPolyfill){var n=Object.create(e);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.macros.advanced:include_macro', location = 'com/atlassian/confluence/plugins/macros/advanced/js/include-macro.js' */
AJS.bind("init.rte",function(){var c=AJS.Meta.get("context-path"),d=AJS.Meta.get("content-id");AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("goto-page",function(a,b){a=AJS.$(b).attr("data-macro-default-parameter");a=c+"/plugins/servlet/confluence/include-page-macro/goto?location\x3d"+encodeURIComponent(a)+"\x26contentId\x3d"+d;(b=window.open(a,"confluence-goto-link-include-macro-"+b.id))&&b.focus()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.macros.multimedia:macro-browser-smart-fields', location = 'javascript/macro-fields.js' */
(function(a){AJS.MacroBrowser.activateSmartFieldsAttachmentsOnPage("multimedia","swf avi mov mp4 mpeg mpg wmv wma mp3 ram rm".split(" "))})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-portfolio-server-macro:jpos-editor', location = 'js/jpos-editor.js' */
define("jpos-editor",["ajs","aui/dialog2","confluence/templates","confluence/macro-js-overrides"],function(f,q,k,r){return{_validateUrl:function(a){return a.match(new RegExp(/^https?:\/\/.+\/secure\/PortfolioRoadmapConfluence\.jspa\?r=[a-zA-Z0-9]{0,30}$/))},_validateHeight:function(a){return 0<a.length&&300<=parseInt(a,10)},_renderPreview:function(){var a=this,c=a.previewContainer.offsetHeight,e=f.contextPath()+"/rest/tinymce/1/macro/preview";c={contentId:f.Meta.get("page-id"),macro:{name:a.macro.name,
params:{url:a.urlInput.value,planHeight:c}}};a._disablePreviewBtn.call(a,"Loading...");a._clearPreview.call(a);f.$.ajax({url:e,type:"POST",contentType:"application/json",data:JSON.stringify(c)}).done(function(b){a.previewContainer.innerHTML=k.JPOS.jposMacroIframe({height:a.heightInput.value});var h=document.querySelector(".jpos__iframe"),g=h.contentWindow.document;h&&(a.iframeLoadTimeout=setTimeout(a._iframeLoadTimeout.bind(a),2E4),h.addEventListener("load",function(){clearTimeout(a.iframeLoadTimeout);
a._enablePreviewBtn.call(a);g.querySelector("#main").setAttribute("style","padding: 0px; overflow: hidden");g.querySelector("body").style.overflow="hidden"}));b=b.replace("window.onload","var preventPreviewOnloadFnTrigger");b=b.replace("2px solid #efefef","none");g.open();g.write(b);g.close()})},_iframeLoadTimeout:function(){this.previewContainer.innerHTML=k.JPOS.jposIframeTimeout();this._enablePreviewBtn.call(this)},_clearPreview:function(){this.previewContainer.innerHTML="";clearTimeout(this.iframeLoadTimeout)},
_enablePreviewBtn:function(){this.previewBtn.innerHTML="Preview";this.previewBtn.removeAttribute("disabled")},_disablePreviewBtn:function(a){this.previewBtn.innerHTML=f.I18n.getText(a);this.previewBtn.setAttribute("disabled",!0)},_addListeners:function(){function a(d){b.heightInput.value=d.target.dataset.value;l.style.display="none";b._validateUrl(b.urlInput.value)&&b.insertBtn.removeAttribute("disabled")}function c(d,t){var n;return function(){var u=this,v=arguments;clearTimeout(n);
n=setTimeout(function(){d.apply(u,v);t})}}function e(){b.urlInput.value=b.urlInput.value.replace(/(%20|\s)/g,"")}for(var b=this,h=document.querySelectorAll(".jpos__size-button"),g=document.querySelector(".jpos__close-dialog"),p=document.querySelector(".jpos__field-error--url"),l=document.querySelector(".jpos__field-error--height"),m=0;m<h.length;m++)h[m].addEventListener("click",a);b.previewBtn.addEventListener("click",function(){e();b._renderPreview()});g.addEventListener("click",function(){b.dialog.hide()});
b.insertBtn.addEventListener("click",function(){e();tinymce.confluence.macrobrowser.macroBrowserComplete({name:b.macro.name,params:{url:b.urlInput.value,planHeight:b.heightInput.value}});b.dialog.hide()});b.urlInput.addEventListener("keydown",function(d){" "===d.key&&d.preventDefault()});b.urlInput.addEventListener("input",c(function(d){e();b._clearPreview();if(!b._validateUrl(this.value))return p.style.display="block",b._disablePreviewBtn.call(b,"Preview"),b.insertBtn.setAttribute("disabled",!0),
!1;p.style.display="none";b._enablePreviewBtn.call(b);b._validateHeight(b.heightInput.value)&&b.insertBtn.removeAttribute("disabled")},500));b.heightInput.addEventListener("input",c(function(d){if(!b._validateHeight(d.target.value))return l.style.display="block",b.insertBtn.setAttribute("disabled",!0),!1;l.style.display="none";b._validateUrl(b.urlInput.value)&&b.insertBtn.removeAttribute("disabled")},500))},init:function(){var a=this;r.put("portfolio-for-jira-plan",{opener:function(c){var e=document.createElement("div");
e.innerHTML=k.JPOS.jposMacroDialog();document.body.appendChild(e.firstChild);a.macro=c;a.dialog=q(".jpos__macro-dialog");a.dialog.show();a.urlInput=document.querySelector(".jpos__url-input");a.heightInput=document.querySelector(".jpos__height-input");a.insertBtn=document.querySelector(".jpos__insert-macro");a.previewBtn=document.querySelector(".jpos__preview-btn");a.previewContainer=document.querySelector(".jpos__preview-container");a._addListeners();c.params?(a.urlInput.value=c.params.url,a.heightInput.value=
c.params.planHeight||"700",a.previewBtn.focus()):(a.heightInput.value="700",a._disablePreviewBtn.call(a,"Preview"),a.insertBtn.setAttribute("disabled",!0),a.urlInput.focus())}})}}});require("confluence/module-exporter").safeRequire("jpos-editor",function(f){require("ajs").toInit(function(){f.init()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-portfolio-server-macro:jpos-editor', location = 'templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.JPOS.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.JPOS == 'undefined') { Confluence.Templates.JPOS = {}; }


Confluence.Templates.JPOS.jposMacroDialog = function(opt_data, opt_ignored) {
  return '<section class="jpos__macro-dialog aui-dialog2 aui-dialog2-xlarge aui-layer" role="dialog" aria-hidden="true" data-aui-remove-on-hide="true"><header class="jpos__macro-dialog-header aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Insert an Advanced Roadmaps for Jira plan') + '</h2></header><div class="jpos__macro-dialog-content aui-dialog2-content"><form action="" onsubmit="return false" class="aui jpos__form">' + soy.$$escapeHtml('This macro currently supports Advanced Roadmaps for Jira plan sharing.') + '<div class="jpos__form-fields"><div class="jpos__field-group jpos__field-group--url"><label for="url" class="jpos__field-label">' + soy.$$escapeHtml('URL') + '</label><div class="jpos__field-group jpos__field-group--flex"><input id="url" type="text" class="jpos__url-input text" /><button tabindex="0" class="jpos__preview-btn aui-button aui-button-primary">' + soy.$$escapeHtml('Preview') + '</button></div><div class="jpos__field-label jpos__field-label--inline">' + soy.$$escapeHtml('Paste the link copied from the Confluence sharing option in Advanced Roadmaps for Jira') + '<a class="jpos__learn-more" href="https://confluence.atlassian.com/display/JIRAPortfolioServer/Sharing+roadmaps" target="_blank" rel="noopener noreferrer">' + soy.$$escapeHtml('Learn More') + '</a></div><div class="jpos__field-error jpos__field-error--url"><span class="aui-icon aui-icon-small aui-iconfont-error"></span>' + soy.$$escapeHtml('It looks like you\x27ve entered an invalid URL. Check the Confluence sharing link in Advanced Roadmaps for Jira, then try again') + '</div></div><div class="jpos__field-group jpos__field-group--height"><label for="height" class="jpos__field-label">' + soy.$$escapeHtml('Height') + '</label><div class="jpos__field-group jpos__field-group--flex"><div class="aui-buttons"><button tabindex="0" class="jpos__size-button aui-button" data-value="700" title="small"></button><button tabindex="0" class="jpos__size-button jpos__size-button--medium aui-button" data-value="900" title="medium"></button><button tabindex="0" class="jpos__size-button jpos__size-button--large aui-button" data-value="1100" title="large"></button></div><input id="height" type="number" step="10" min="300" class="jpos__height-input text" /><span class="jpos__height-unit">px</span></div><div class="jpos__field-label">' + soy.$$escapeHtml('Choose the height to display on your page') + '</div><div class="jpos__field-error jpos__field-error--height">' + soy.$$escapeHtml('Height must be at least 300px') + '</div></div></div></form><div tabindex="-1" class="jpos__preview-container"></div></div><footer class="jpos__macro-dialog-footer aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><form onsubmit="return false" class="aui"><button tabindex="0" class="jpos__close-dialog aui-button aui-button-link">' + soy.$$escapeHtml('Cancel') + '</button><button tabindex="0" class="jpos__insert-macro aui-button aui-button-primary">' + soy.$$escapeHtml('Insert') + '</button></form></div></footer></section>';
};
if (goog.DEBUG) {
  Confluence.Templates.JPOS.jposMacroDialog.soyTemplateName = 'Confluence.Templates.JPOS.jposMacroDialog';
}


Confluence.Templates.JPOS.jposMacroIframe = function(opt_data, opt_ignored) {
  return '<div class="jpos__iframe-container"><iframe class="jpos__iframe" frameborder="none" src="' + soy.$$escapeHtml(opt_data.url) + '" width="100%" height="' + soy.$$escapeHtml(opt_data.height) + '"></iframe></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.JPOS.jposMacroIframe.soyTemplateName = 'Confluence.Templates.JPOS.jposMacroIframe';
}


Confluence.Templates.JPOS.jposIframeTimeout = function(opt_data, opt_ignored) {
  return '<div class="jpos__iframe-load-timeout"><span class="aui-icon aui-icon-small aui-iconfont-error"></span>' + soy.$$escapeHtml('Your preview couldn\x27t be rendered. Please check the url and try again') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.JPOS.jposIframeTimeout.soyTemplateName = 'Confluence.Templates.JPOS.jposIframeTimeout';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:space-page-picker-shim', location = 'js/space-page-picker-shim.js' */
define("confluence-inline-tasks/space-page-picker-shim",["confluence-ui-components/js/space-page-picker"],function(e){function f(a){var c={page:[],space:[]};if(!a)return c;a.split(",").forEach(function(b){b=b.split(":");c[b[0]].push(b[1])});return c}return{build:function(a){return e.build(a)},setValue:function(a,c){return e.setValue(a,c)},splitStringToMap:f,combineMapToString:function(a){var c=a.space;a=a.page;var b=[];c&&(b=b.concat(_.map(c.split(","),function(d){return"space:"+d})));a&&(b=b.concat(_.map(a.split(","),
function(d){return"page:"+d})));return b.join(",")},getValueAsMap:function(a){return f(a.val())}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-macro-browser', location = 'js/macro-browser-overrides.js' */
define("confluence-inline-tasks/macro-browser-overrides","jquery ajs confluence/templates confluence-macro-browser/macro-browser confluence-inline-tasks/space-page-picker-shim confluence/meta".split(" "),function(d,g,n,f,e,h){return{fields:{string:{spaceAndPage:function(a){var b=a.multiple?"autocomplete-multi-space-and-page":"autocomplete-space-and-page",k=d(n.MacroBrowser.macroParameter()),c=k.find("input[type\x3d'text']");c.addClass(b).attr("data-none-message","Not found");
a.required&&c.keyup(f.processRequiredParameters);b="insert"===f.settings.mode;const l=h.get("content-id"),m=[],p={id:l,title:d("#content-title").val()||"Current page",space:{name:h.get("space-name")},selected:b};b&&m.push(l);c.auiSelect2(e.build({multiple:a.multiple,orgElement:c,currentPage:p,pageIds:m,inputSpaceId:"legacy-macro-param-spaces",inputSpaceCatId:"legacy-macro-param-space-cats",inputPageId:"legacy-macro-param-pages"}));return f.Field(k,
c,{setValue:function(q){e.setValue(q,c)}})}}},beforeParamsSet:function(a){var b=e.combineMapToString({page:a.pages,space:a.spaces});b&&(a.spaceAndPage=b);delete a.pages;delete a.spaces;return a},beforeParamsRetrieved:function(a){var b=e.splitStringToMap(a.spaceAndPage);b.page.length&&(a.pages=b.page.join(","));b.space.length&&(a.spaces=b.space.join(","));delete a.spaceAndPage;return a}}});
require("confluence/module-exporter").safeRequire("confluence-inline-tasks/macro-browser-overrides",function(d){require("confluence-macro-browser/macro-browser").setMacroJsOverride("tasks-report-macro",d)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:confluence-inlineTasks-utils', location = '/js/util.js' */
define("confluence-inline-tasks/util",["jquery"],function(a){return{NODE_TYPE:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},KEY:{BACKSPACE:8,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,INS:45,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,META:91},addContentEditableIfApplicable:function(b){a(b).attr({contenteditable:!1,
class:"non-editable",onselectstart:"return false;"})}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-inline-tasks/util","Confluence.InlineTasks.Util");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:datepicker1', location = '/js/date-picker1.js' */
define("confluence-inline-tasks/date-picker1",["jquery","ajs","confluence-editor/utils/tinymce-node-utils"],function(d,k){function h(v,c){var n;var b={};var x=C++;var a=d(v);a.attr("data-aui-dp-uuid",x);c=d.extend(void 0,h.prototype.defaultOptions,c);b.getField=function(){return a};b.getOptions=function(){return c};var F=function(){var f,r,p;b.hide=function(){l.hide()};b.show=function(){l.show()};b.setDate=function(g){"undefined"!==typeof f&&f.datepicker("setDate",g)};b.getDate=function(){if("undefined"!==
typeof f)return f.datepicker("getDate")};var D=function(g){p.off();if(c.hint){var e=d("\x3cdiv/\x3e").addClass("aui-datepicker-hint");e.append("\x3cspan/\x3e").text(c.hint);p.append(e)}f=d("\x3cdiv/\x3e");f.attr("data-aui-dp-popup-uuid",x);p.append(f);e={dateFormat:c.dateFormat,defaultDate:a.val(),maxDate:a.attr("max"),minDate:a.attr("min"),nextText:"\x3e",onSelect:function(m){a.val(m);a.change();b.hide();r=!0;a.focus();c.onSelect&&c.onSelect.call(this,m)},onChangeMonthYear:function(){setTimeout(l.refresh,
0)},prevText:"\x3c"};d.extend(e,g);-1<c.firstDay&&(e.firstDay=c.firstDay);"undefined"!==typeof a.attr("step")&&k.debug("WARNING: The date picker polyfill currently does not support the step attribute!");f.datepicker(e);d("body").on("keydown",t);a.on("focusout keydown",y);a.on("propertychange keyup input paste",z)};var t=function(g){var e=d(g.target),m=e.closest(p).length||e.is(a),E=e.closest(".ui-datepicker-header").length;!m&&!E||g.keyCode===k.keyCode.ESCAPE?b.hide():e[0]!==a[0]&&g.preventDefault()};
var y=function(){w||(d("body").on("focus blur click mousedown","*",t),w=!0)};var A=function(){r?r=!1:b.show()};var z=function(){d(this).val()&&(f.datepicker("setDate",a.val()),f.datepicker("option",{maxDate:a.attr("max"),minDate:a.attr("min")}))};b.destroyPolyfill=function(){b.hide();a.attr("placeholder",null);a.off("propertychange keyup input paste",z);a.off("focus click",A);a.off("focusout keydown",y);d("body").off("keydown",t);h.prototype.browserSupportsDateField&&(a[0].type="date");"undefined"!==
typeof f&&f.datepicker("destroy");delete b.destroyPolyfill;delete b.show;delete b.hide};var w=r=!1;c.languageCode in h.prototype.localisations||(c.languageCode="");var B=h.prototype.localisations,u="",q=9>k.versionDetails.major?240:255;"large"===B.size&&(q=325,u="aui-datepicker-dialog-large");q={hideCallback:function(){d("body").off("focus blur click mousedown","*",t);w=!1;n&&n._datePickerPopup&&delete n._datePickerPopup},hideDelay:null,noBind:!0,persistent:!0,closeOthers:!1,width:q};c.position&&
(q.calculatePositions=function(g,e){g=d(g[0]);return c.position.call(this,g,e)});var l=k.InlineDialog(a,void 0,function(g,e,m){"undefined"===typeof f&&(p=g,D(B));if(n=d(e).closest(".aui-inline-dialog").get(0))n._datePickerPopup=l;m()},q);l.addClass("aui-datepicker-dialog");l.addClass(u);a.on("focus click",A);a.attr("placeholder",c.dateFormat);c.overrideBrowserDefault&&h.prototype.browserSupportsDateField&&(a[0].type="text",u=a[0].getAttribute("value"))&&(a[0].value=u)};b.reset=function(){"function"===
typeof b.destroyPolyfill&&b.destroyPolyfill();h.prototype.browserSupportsDateField&&!c.overrideBrowserDefault||F()};b.reset();return b}var C=0;h.prototype.browserSupportsDateField=k.DatePicker.prototype.browserSupportsDateField;h.prototype.defaultOptions={overrideBrowserDefault:!1,firstDay:-1,languageCode:d("html").attr("lang")||"en-AU",dateFormat:d.datepicker.W3C};h.prototype.localisations=k.DatePicker.prototype.localisations;d.fn.inlineTasksDatePicker1=function(v){return new h(this,v)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:dateutil', location = '/js/dateutil.js' */
define("confluence-inline-tasks/dateutil",["jquery","ajs","confluence/position","confluence-inline-tasks/util","confluence-inline-tasks/date-picker1"],function(m,n,t,v,y){const r=n.Meta.get("user-locale").replace("_","-"),w=function(a=r){const b=["de-DE","ja-JP"],c=["fi-FI","ko-KR"];c.push("is-IS");let e="short",d="numeric";c.includes(a)?e="numeric":b.includes(a)&&(d=e="2-digit");return{year:"numeric",month:e,day:d}},p={isDateStringValid:function(a){return isNaN(new Date(a))?!1:!0},parseDate:function(a){return p.isDateStringValid(a)?
(a=a.split("-"),new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]))):null},getPatternByLocale:function(a=r){let b="";(new Intl.DateTimeFormat(a)).formatToParts().forEach(c=>{b="literal"===c.type?b+c.value:"year"===c.type?b+"yyyy":b+c.type[0]+c.type[0]});return b},getDateTime:function(a){return`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,0)}-${a.getDate().toString().padStart(2,0)}`},getLozengeTime:function(a,b=r){return(new Intl.DateTimeFormat(b,w(b))).format(a)},getInputDate:function(a,
b=r){return(new Intl.DateTimeFormat(b,{year:"numeric",month:"2-digit",day:"2-digit"})).format(a)},convertDateIntoHtml:function(a,b=""){var c=m("\x3cdiv\x3e"),e=p.getLozengeTime(a);a=m("\x3ctime\x3e",{datetime:p.getDateTime(a)});v.addContentEditableIfApplicable(a);b&&a.attr("class",b);a.text(e);c.append(a);return c.html()},insertDateIntoCurrentCursor:function(a,b,c){var e=require("tinymce"),d=require("confluence-editor/utils/tinymce-node-utils");e=e.activeEditor;a=p.convertDateIntoHtml(a,b);a=m(a,
e.getDoc())[0];d=d.replaceSelection(a);c&&e.execCommand("mceInsertContent",!1,c,{skip_undo:!0});c={context:m(e.selection.getRng(!0).startContainer).closest("li[data-inline-task-id]").length?"task":"page",trigger:"character"};n.trigger("analyticsEvent",{name:"confluence-spaces.date.added",data:c});return d},getDateByPartialString:function(a,b=new Date,c=r){if(""===a)return b;const e=a.match(/[\d]+/g);if(!e)return null;let d,h,g;const k=new Date(b);(new Intl.DateTimeFormat(c,{year:"numeric",month:"2-digit",
day:"2-digit"})).formatToParts(k).filter(f=>"literal"!==f.type).forEach((f,q)=>{"year"===f.type?(d=k.getFullYear().toString(),e[q]&&(d=d.substring(0,d.length-e[q].length)+e[q])):"month"===f.type?h=(parseInt(e[q])||parseInt(f.value))-1:"day"===f.type&&(g=e[q]||f.value)});k.setFullYear(d,h,g);a=`${d}-${(h+1).toString().padStart(2,0)}-${g.toString().padStart(2,0)}`;return p.isDateStringValid(a)?k:null},datepicker:{POSITION_ABOVE:!0,POSITION_BELOW:!1,POSITION_RIGHT:!0,POSITION_LEFT:!1,dropDownStillFitsVertically:function(a,
b,c){return a===this.POSITION_ABOVE?b.above>=c:b.below>=c},dropDownStillFitsHorizontally:function(a,b,c){return a===this.POSITION_RIGHT?b.right>=c:b.left>=c},getPreferredHorizontalPosition:function(a,b){return a.right>=b?this.POSITION_RIGHT:a.left>=b?this.POSITION_LEFT:a.right>a.left?this.POSITION_RIGHT:this.POSITION_LEFT},getPreferredVerticalPosition:function(a,b){return a.below>=b?this.POSITION_BELOW:a.above>=b?this.POSITION_ABOVE:a.below>a.above?this.POSITION_BELOW:this.POSITION_ABOVE},calculateDatepickerPosition:function(a){var b=
this;return function(c,e){var d=require("confluence-editor/editor/atlassian-editor");e=require("confluence-editor/editor/atlassian-editor-content");d=d.Rte.getEditorFrame();void 0===t.spaceLeftRight&&(t.spaceLeftRight=function(x,u){u=u.offset().left;return{left:u,right:m(x).width()-u}});var h=t.spaceAboveBelow(d,a);var g=t.spaceLeftRight(d,a);var k=e.offset(a);e=c.outerHeight(!0);c=c.outerWidth(!0);var f=e+16;var q=c+0;d=b.POSITION_BELOW;var l=b.POSITION_RIGHT;d&&(b.dropDownStillFitsVertically(d,
h,f)||(d=null));d||(d=b.getPreferredVerticalPosition(h,f));l&&(b.dropDownStillFitsHorizontally(l,g,f)||(l=null));l=b.getPreferredHorizontalPosition(g,q);h=d===b.POSITION_ABOVE?k.top-e-16:k.top+a.height()+16;g=l===b.POSITION_RIGHT?k.left-0:k.left+a.outerWidth()-c;h={top:h,left:g};l=l===b.POSITION_RIGHT?a.outerWidth()/2:c-a.outerWidth()/2;if(0>l||l>c)l=c/10;return{displayAbove:d,popupCss:h,arrowCss:{left:l,top:d===b.POSITION_ABOVE?e:-8}}}},getHintTextOfDatePicker:function(a){return a?"Select a due date for this task.":
"Select a date."},create:function(a){var b=a.$attachTo,c=a.$positionTo,e=a.startDate,d=a.onSelect;a=a.isSetDueDate;var h=m("\x3cinput\x3e").attr("type","date").addClass("aui-date-picker").css("display","none"),g=h.inlineTasksDatePicker1({overrideBrowserDefault:!0,dateFormat:"yy-mm-dd",languageCode:n.Meta.get("user-locale")&&n.Meta.get("user-locale").split("_")[0],position:this.calculateDatepickerPosition(c),onSelect:function(f){d(f);k()},hint:this.getHintTextOfDatePicker(a)}),
k=function(){g&&g.destroyPolyfill&&g.destroyPolyfill();h&&h.remove();m(".aui-datepicker-dialog").remove();h=g=null};g.show();g.setDate(e);m(".aui-datepicker-dialog .aui-datepicker-hint").addClass(a?"set-duedate":"set-date");b.before(h);return{die:function(){k()},show:function(){g.show()},hide:function(){g.hide()},getContainer:function(){return h},setDate:function(f){n.debug("Set date: "+f);g.setDate(p.getDateByPartialString(f))},placeDatePicker:function(){var f=n.InlineDialog.current;(f=f&&f.popup)&&
f.refresh()}}}}};return p});require("confluence/module-exporter").exportModuleAsGlobal("confluence-inline-tasks/dateutil","Confluence.InlineTasks.DateUtil");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-js', location = '/js/editor-plugin/date-autocomplete-help-dialog.js' */
AJS.toInit(function(){Confluence.KeyboardShortcuts&&Confluence.KeyboardShortcuts.Autoformat&&Confluence.KeyboardShortcuts.Autoformat.push({action:"//",context:"autoformat.autocomplete",description:"Date"})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-js', location = '/js/editor-plugin/autocomplete-manager.js' */
(function(g){var e=window.Confluence||{};e.Editor=e.Editor||{};e.Editor.AutoComplete=e.Editor.AutoComplete||{};var c=e.InlineTasks.Util.KEY,p=e.InlineTasks.DateUtil,h=e.Editor.AutoComplete;h.SETTING_DEFAULT={leadingChar:"",isDataValid:function(a){return!1},backWords:0,onBeforeDie:function(){},onAfterStart:function(){},onScroll:function(){}};h.Manager=function(a){this.ed=AJS.Rte.getEditor();this.settings=g.extend({},h.SETTING_DEFAULT,a);this.log=AJS.debug;this.control=null};h.Manager.prototype={start:function(a){var f=
g.extend({},this.settings,a);this.control=e.Editor.Autocompleter.Control(this.ed,f);if(!this.control)return!1;AJS.trigger("synchrony.stop",{id:"confluence.date-autocomplete-manager.plugin"});this.log("startAutoComplete - Started");this.attachEventsToControl();f.onAfterStart&&f.onAfterStart({date:a.date,isTriggerFromOrphan:a.isTriggerFromOrphan?!0:!1});return!0},attachEventsToControl:function(){var a=this,f=a.control,k=a.log,q=a.settings;if("function"===typeof this.settings.onBeforeDie){var l=this.control.die,
m=!1;this.control.die=function(){m||(m=!0,a.settings.onBeforeDie.apply(a.control,arguments),a.dateInserted()?(l.apply(a.control,[!0]),AJS.trigger("analyticsEvent",{name:"confluence-spaces.tasks.daterecognition.killed"})):l.apply(a.control,arguments))}}var r=_.bind(_.throttle(a.settings.onScroll,40),this);g.extend(f,{onBeforeKey:function(b,d){b.keyCode!==c.ESCAPE&&b.keyCode!==c.ENTER&&a.control&&a.control.getContainer().addClass("isDirty");return b.keyCode===c.DOWN||b.keyCode===c.UP||b.keyCode===c.ENTER?
(tinymce.dom.Event.cancel(b),!1):b.keyCode===c.ESCAPE||b.keyCode===c.TAB||b.keyCode===c.BACKSPACE&&!d?(k("autoCompleteControl.onBeforeKey - killing autoCompleteControl"),this.die(b.keyCode===c.BACKSPACE),!1):!0},onKeyPress:function(b,d){d=b.which;if(b.keyCode===c.ENTER)return tinymce.dom.Event.cancel(b),!1;b=String.fromCharCode(d);this.settings.endChars.includes(b)&&(k("autoCompleteControl.onKeyPress - caught autocomplete-closing char - character"),f.die());return!0},onAfterKey:function(b,d){var n=
g("#autocomplete-trigger",a.control.getContainer()),t=n.text();return 0<n.length&&t!==a.settings.leadingChar?(k("after","dying because of: trigger text is modified"),a.reset(),!1):b.keyCode===c.ENTER?(q.isDataValid(d)?f.update(d):(k("autoCompleteControl.onAfterKey - closing autocomplete due to invalid data - "+d),f.die(!1)),!1):a.dateInserted()&&10<d.length&&!p.getDateByPartialString(d)?(a.reset(),!1):!0},onDeath:function(){a.reset()},onScroll:function(){a.isAlive()&&r()}})},isAlive:function(){return this.control&&
!this.control.dying},reset:function(){this.control&&(this.control.die(),this.control=null,AJS.trigger("synchrony.start",{id:"confluence.date-autocomplete-manager.plugin"}))},dateInserted:function(a){return!0===a?this.control.getContainer().addClass("hasDateInserted"):!1===a?this.control.getContainer().removeClass("hasDateInserted"):this.control.getContainer().hasClass("hasDateInserted")},dirty:function(a){return!0===a?this.control.getContainer().addClass("isDirty"):this.control.getContainer().hasClass("isDirty")},
reattach:function(){var a=e.Editor.Autocompleter.Control.removeOrphanedControl();return a&&a.leadingChar===this.settings.leadingChar?(this.reset(),this.start({backWords:1,isTriggerFromOrphan:!0})):!1}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-js', location = '/js/editor-plugin/date-autocomplete.js' */
(function(g,p){var w=Confluence.InlineTasks.Util,n=w.NODE_TYPE,l=w.KEY,k=Confluence.InlineTasks.DateUtil,m=null,d=null,y=!1,z=p.dom.TreeWalker,t=p.Env.browser,x=t.isSafari()||("isChromium"in t?t.isChromium():t.isChrome()),f={initDateAutoCompleteObject:function(b){Confluence.Editor.Autocompleter.Settings["//"]={ch:"//",endChars:[],update:function(a,c){d.picker.die();(a=c===k.getPatternByLocale()?new Date:k.getDateByPartialString(c))&&k.insertDateIntoCurrentCursor(a,"","\x26nbsp;");d.dateInserted()&&
AJS.trigger("analyticsEvent",{name:"confluence-spaces.tasks.daterecognition.used"});d.reset();b.undoManager.add();AJS.trigger("synchrony.start",{id:"confluence.date-autocomplete.plugin"})}};d=new Confluence.Editor.AutoComplete.Manager({leadingChar:"//",isDataValid:function(a){return!d.dirty()||k.getDateByPartialString(a)},onBeforeDie:function(){d.picker&&d.picker.die();if(d.control){var a=g(d.control.getContainer());d.dirty()||a.find("#autocomplete-search-text").remove()}},onAfterStart:function(a){a&&
a.date?(f.fillPlaceholderDateAutoComplete(b,a.date,!0),d.dirty(!0),d.dateInserted(!0)):a&&!a.isTriggerFromOrphan&&(f.fillPlaceholderDateAutoComplete(b,k.getPatternByLocale(),!1),d.dateInserted(!1));a=d.control.text();a=k.getDateByPartialString(a)||new Date;f.bindDatePickerToAutoComplete(a)},onScroll:function(){d.picker&&d.picker.placeDatePicker()}})},activateDateAutocomplete:function(b,a,c){b=Object.assign({},c,a);b.hasOwnProperty("insertedFromMenu")||(b.insertedFromMenu=!1);if(!d.isAlive()&&!d.start(b)&&
!b.insertedFromMenu)return m.execCommand("mceInsertContent",!1,"//",{skip_undo:!0}),!1},bindDatePickerToAutoComplete:function(b){var a=d.control&&d.control.getContainer();if(a.length){a.addClass("date-autocomplete");a.find("#autocomplete-search-text span").addClass("inserting");var c=f.isInsideTaskAndFirstTimeNode(a);d.picker=k.datepicker.create({$attachTo:a,$positionTo:a,startDate:b,onSelect:function(e){d.control.update(k.getInputDate(k.parseDate(e)))},isSetDueDate:c})}},fillPlaceholderDateAutoComplete:function(b,
a,c){var e=d.control.getContainer().find("#autocomplete-search-text span");e.text(AJS.Rte.HIDDEN_CHAR+a);var h=b.dom.createRng();h.setStart(e[0].firstChild,1);h.setEnd(e[0].firstChild,a.length+1);c&&h.collapse(!1);b.selection.setRng(h)},autocompleteDoubleSlash:function(b,a){b=a.handlerManager;var c=a.ed;a=a.createHandler;a=a(/(?:\s|\xA0|^|\ufeff|\u200b)(\/)$/,function(){c.execCommand("mceConfInsertDateAutocomplete",!1,{},{skip_undo:!0})},!0,`#${6>p.majorVersion?"autocomplete":"autocomplete-container"}`);
b.registerHandler(47,a)},registerTriggerDoubleSlash:function(b){b.addCommand("mceConfInsertDateAutocomplete",f.activateDateAutocomplete);b.addCommand("confMenuInsertDate",function(){AJS.trigger("analytics",{name:"editor.insert-data-from-menu"});m.execCommand("mceConfInsertDateAutocomplete",!1,{insertedFromMenu:!0},{skip_undo:!0})}.bind(this));AJS.bind("confluence.editor.registerHandlers",this.autocompleteDoubleSlash)},isTimeNode:function(b){return b&&b.nodeType===n.ELEMENT_NODE&&"time"===b.tagName.toLowerCase()},
getTimeNodeAtCursor:function(b){b||(b=m);var a=b.selection.getNode();if(f.isTimeNode(a))return a;a=b.selection.getStart();if(f.isTimeNode(a))return a;a=b.selection.getEnd();if(f.isTimeNode(a))return a},makeTimeNodesUnEditable:function(b){b.each(function(){var a=g(this);""===g.trim(a.text())&&a.remove();x&&a.remove("br.Apple-interchange-newline");w.addContentEditableIfApplicable(this)})},wrapTimeNodesWithHiddenChar:function(b){b.each(function(){var a=g(this);this.previousSibling&&this.previousSibling.nodeType===
n.TEXT_NODE&&""!==this.previousSibling.nodeValue||a.before(AJS.Rte.HIDDEN_CHAR);this.nextSibling&&this.nextSibling.nodeType===n.TEXT_NODE&&""!==this.previousSibling.nodeValue||a.after(AJS.Rte.HIDDEN_CHAR)})},putCursorAtEdge:function(b,a,c){(c=!!c)?a.nextSibling&&a.nextSibling.nodeType===n.TEXT_NODE||g(a).after(b.dom.doc.createTextNode("")):a.previousSibling&&a.previousSibling.nodeType===n.TEXT_NODE||g(a).before(b.dom.doc.createTextNode(""));var e=b.selection.dom.createRng();e.selectNode(c?a.nextSibling:
a.previousSibling);e.collapse(c);b.selection.setRng(e)},findFirstTimeNodeInClosestBlock:function(b,a,c){var e=new z(a,b.getBody()),h=a,r=0;do{if(1===r&&f.isTimeNode(a))return a;var q=c?a.previousSibling:a.nextSibling;a!==h&&q&&(b.dom.isBlock(a)||b.dom.isBlock(q))&&r++}while((a=c?e.next():e.prev())&&2>r)},findFirstTimeNodeNearby:function(b,a,c){var e=a,h=new z(a,b.getBody());do{if(f.isTimeNode(a))return a;if(b.dom.isBlock(a)||a!==e&&a.nodeType===n.TEXT_NODE&&""!==a.nodeValue)break}while(a=c?h.next():
h.prev())},convertInvalidTimeNodeToPlainText:function(b){b.each(function(){var a=g(this),c=a.attr("datetime");k.isDateStringValid(c)||(a.before(a.text()),a.remove())})},isInsideTaskAndFirstTimeNode:function(b){b=g(b);var a=b.closest("ul.inline-task-list \x3e li[data-inline-task-id]");return a.length?a.find("time, span.date-autocomplete")[0]===b[0]:!1}},E=function(b){b=b.keyCode;if(b===l.BACKSPACE||b===l.DELETE){b=b===l.DELETE;var a=m.selection.getRng(!0),c=a.startContainer,e=c;if(c.nodeType!==n.TEXT_NODE||
(b?a.startOffset===c.nodeValue.length:0===a.startOffset))c.nodeType===n.ELEMENT_NODE&&(e=b?c.childNodes.length===a.startOffset?c:c.childNodes.item(a.startOffset):0===a.startOffset?c:c.childNodes.item(a.startOffset-1)),(b=f.findFirstTimeNodeNearby(m,e,b))&&m.dom.remove(b)}},F=function(b){var a=g(b.target);if(a.is("time")){AJS.trigger("synchrony.stop",{id:"confluence.date-autocomplete.plugin"});var c=a.closest("li[data-inline-task-id]").length?"task":"page";AJS.trigger("analyticsEvent",{name:"confluence-spaces.date.clicked",
data:{mode:"editor",context:c}});var e=a.closest("body"),h=function(){AJS.Rte.unbindScroll("date-lozenge-date-picker");q.die();AJS.trigger("synchrony.start",{id:"confluence.date-autocomplete.plugin"})};e.one("keydown click",h);b=k.parseDate(a.attr("datetime"));var r=f.isInsideTaskAndFirstTimeNode(a),q=k.datepicker.create({$attachTo:a,$positionTo:a,startDate:b,onSelect:function(u){var v=k.parseDate(u);u=k.getDateTime(v);v=k.getLozengeTime(v);u!==a.attr("datetime")&&AJS.trigger("analyticsEvent",{name:"confluence-spaces.date.changed",
data:{context:c}});a.attr("datetime",u);a.text(v);e.unbind("keydown click",h);AJS.trigger("synchrony.start",{id:"confluence.date-autocomplete.plugin"})},isSetDueDate:r});b=_.bind(_.throttle(function(){q&&AJS.Rte.isAnyPartShown(a)?q.placeDatePicker():h()},40),this);AJS.Rte.bindScroll("date-lozenge-date-picker",b)}},G=function(b){var a=b.keyCode;a===l.UP||a===l.DOWN||a===l.LEFT||a===l.RIGHT||a===l.HOME||a===l.END||a===l.PAGEDOWN||a===l.PAGEUP||b.metaKey||b.ctrlKey||b.altKey||!d.control||!d.picker||
(b=d.control.text(),d.picker.setDate(b))},H=function(){var b=g(m.dom.doc).find("time");f.makeTimeNodesUnEditable(b);f.wrapTimeNodesWithHiddenChar(b)},A=function(b,a,c){f.convertInvalidTimeNodeToPlainText(g(c.node).find("time"))},B=function(b,a,c){b=g(c.node).find("time");f.makeTimeNodesUnEditable(b)},C=function(b,a,c){if(f.getTimeNodeAtCursor(m))return c.content="",!1},I=function(b){var a=b.keyCode;if(a===l.UP||a===l.DOWN){b=m.selection.getRng(!0);var c=b.startContainer,e=c;a=a===l.DOWN;c.nodeType===
n.ELEMENT_NODE&&(e=a?c.childNodes.length===b.startOffset?c:c.childNodes.item(b.startOffset):0===b.startOffset?c:c.childNodes.item(b.startOffset-1));(b=f.findFirstTimeNodeInClosestBlock(m,e,a))&&f.wrapTimeNodesWithHiddenChar(g(b))}},J=function(b){b=b.element.nodeType===n.TEXT_NODE?b.element.parentNode:b.element;f.isTimeNode(b)&&(y||1<m.selection.getRng().startOffset?f.putCursorAtEdge(m,b,!0):f.putCursorAtEdge(m,b,!1))},D=function(){d&&d.reattach()},K={init:function(b){f.initDateAutoCompleteObject(b);
f.registerTriggerDoubleSlash(b);m=b;b.on("contextmenu",function(){d.reset()});b.on("SetContent",H);b.on("click",F);b.on("keyup",G);x&&(b.on("keydown",I),b.on("init",function(){g(document).bind("postPaste",B)}),b.on("remove",function(){g(document).unbind("postPaste",B)}));b.on("keyup",function(a){y=a.keyCode===l.RIGHT;var c=b.selection.getRng(!0),e=c.commonAncestorContainer,h=!!e&&e.data;h&&!AJS.$(e).closest("pre,.text-placeholder").length&&(String.prototype.slice.apply(h,[-11]),48<=a.keyCode&&57>=
a.keyCode||96<=a.keyCode&&105>=a.keyCode)&&(a=String.prototype.slice.apply(h,[-10]),/(^| )\d{2}[\/\-]\d{2}[\/\-]\d{4}$/.test(h)&&k.getDateByPartialString(a)&&(c.setStart(c.commonAncestorContainer,c.endOffset-a.length),b.undoManager.add(),b.undoManager.beforeChange(),b.selection.setRng(c),b.execCommand("mceConfInsertDateAutocomplete",!1,{date:a},{skip_undo:!0}),AJS.trigger("analyticsEvent",{name:"confluence-spaces.tasks.daterecognition.triggered"})))});p.Env.browser.isFirefox()&&(b.on("keydown",E),
b.on("init",function(){g(document).bind("prePaste",C)}),b.on("remove",function(){g(document).unbind("prePaste",C)}));if(x||p.Env.browser.isFirefox())b.on("NodeChange",J);b.on("Undo",D);b.on("Redo",D);b.on("init",function(){g(document).bind("postPaste",A)});b.on("remove",function(){g(document).unbind("postPaste",A);AJS.unbind("confluence.editor.registerHandlers",f.autocompleteDoubleSlash)});AJS.bind("editor.remote.change",function(){f.makeTimeNodesUnEditable(g(b.dom.doc).find("time"))})},getInfo:function(){return{longname:"Insert Date Autocomplete",
author:"Atlassian",authorurl:"http://www.atlassian.com",version:p.majorVersion+"."+p.minorVersion}}};(function(){p.PluginManager.add("dateautocomplete",function(){return K});AJS.Rte.BootstrapManager.addTinyMcePluginInit(function(b){b.plugins+=",dateautocomplete"})})()})(AJS.$,tinymce);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.page-layout', location = 'aui.chunk.5b1a18919ced37fcc4a3--58d6c43495c4421f77b4.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[9632],{5264:(u,a,i)=>{i.r(a)}},u=>{u.O(0,[1263,5366,3910,9924],(()=>{return a=5264,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.d3ca746d44', location = 'aui.chunk.172e3aeb8eceef1c8a47--6f7054a3b035e35d5b0c.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[8551],{7467:(e,a,t)=>{t.r(a),t.d(a,{NavigationEl:()=>i.NavigationEl,navigation:()=>i.default});var i=t(7371)},7371:(e,a,t)=>{t.r(a),t.d(a,{NavigationEl:()=>u,default:()=>h});var i=t(7826),n=t(6311),s=t(6249),l=t(9392),r=t(6087);function d(e){if(this.$el=(0,n.default)(e).closest(".aui-nav"),this.$el.length>1)return this.$el.map((function(e,a){return new d(a)}))[0];if(this.$el.data("aui-navigation"))return this.$el.data("aui-navigation");this.$el.data("aui-navigation",this),this.$treeParent=this.$el.parent("li[aria-expanded]"),this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon"),this.$el.children("li:has(.aui-nav-selected)").addClass("aui-nav-child-selected");var a=this.$el.children(".aui-nav-selected");a.parents(".aui-nav > [aria-expanded=false]").add(a.filter("[aria-expanded=false]")).each((function(){o((0,n.default)(this).children(".aui-nav")).expand()}));var t=this.$el.find("> li[aria-expanded] > .aui-nav-subtree-toggle");return t.on("click",(function(){o((0,n.default)(this).siblings(".aui-nav")).toggle()})),t.each((function(){var e=(0,n.default)(this).parent("li[aria-expanded]"),a=(0,n.default)(this).find(".aui-icon"),t="true"===e.attr("aria-expanded");a.text(t?"Collapse":"Expand")})),this}d.prototype.isNested=function(){return 1===this.$treeParent.length},d.prototype.isCollapsed=function(){return"false"===this.$treeParent.attr("aria-expanded")},d.prototype.expand=function(){return this.$treeParent.attr("aria-expanded","true"),this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded").text("Collapse"),this},d.prototype.collapse=function(){return this.$treeParent.attr("aria-expanded","false"),this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed").text("Expand"),this},d.prototype.toggle=function(){return this.isCollapsed()?this.expand():this.collapse(),this};const o=(0,r.default)("navigation",d),u=(0,s.default)("aui-nav",{type:s.default.type.CLASSNAME,attached:function(e){new d(e)},detached:function(e){(0,n.default)(e).removeData()}});(0,l.default)("navigation",o);const h=o}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.nav', location = 'aui.chunk.b018c796a270da63bd48--b0af67d21cfdd7cedc1c.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[8412],{},u=>{u.O(0,[8658,4496,1263,5131,5366,2178,3910,9146,1661,1646,2323,9610,7571,8551],(()=>{return a=7467,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.mxgraph.confluence.plugins.diagramly:drawio-rte', location = 'js/theming.js' */
try{window.mxConfThemeObserver=function(c,a,d){function e(b){clearTimeout(k);f!==b&&(f=b,c(b,a))}var f=-1,k=setTimeout(function(){-1===f&&e(mxConfThemeObserver.isDarkMode())},200);const m=new MutationObserver(function(b,l){for(const g of b)if("attributes"===g.type&&"data-color-mode"===g.attributeName&&(e(mxConfThemeObserver.isDarkMode()),d)){l.disconnect();break}});var h=mxConfThemeObserver.isDarkMode(!0);if(null!=h&&(e(h),d))return;m.observe(document.documentElement,{attributes:!0});setTimeout(function(){"auto"==
document.documentElement.getAttribute("data-color-mode")&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(){e(mxConfThemeObserver.isDarkMode())})},1E3)},window.mxConfThemeObserver.isDarkMode=function(c){var a=document.documentElement.getAttribute("data-color-mode");return a?"dark"==a||"auto"==a&&window.matchMedia("(prefers-color-scheme: dark)").matches:c?null:!1}}catch(c){window.mxConfThemeObserver=function(a,d){a(!1,d)}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.mxgraph.confluence.plugins.diagramly:drawio-rte', location = 'js/mxInit.js' */
try{void 0===AJS.contextPath()&&(AJS.contextPath=function(){return""})}catch(b){}window.ATLAS_RESOURCE_BASE="undefined"!==typeof DrawioProperties&&null!=DrawioProperties.drawioResourceRoot?DrawioProperties.drawioResourceRoot:AJS.contextPath()+"/download/resources/com.mxgraph.confluence.plugins.diagramly:drawio-editor";window.RESOURCES_PATH=ATLAS_RESOURCE_BASE+"/resources";window.RESOURCE_BASE=RESOURCES_PATH+"/dia";window.STENCIL_PATH=ATLAS_RESOURCE_BASE+"/stencils";
window.SHAPES_PATH=ATLAS_RESOURCE_BASE+"/shapes";window.IMAGE_PATH=ATLAS_RESOURCE_BASE+"/images";window.GRAPH_IMAGE_PATH=ATLAS_RESOURCE_BASE+"/img";window.STYLE_PATH=ATLAS_RESOURCE_BASE+"/styles";window.CSS_PATH=STYLE_PATH;window.OPEN_FORM=ATLAS_RESOURCE_BASE+"/html/open.html";window.TEMPLATE_PATH=ATLAS_RESOURCE_BASE+"/templates";window.PROXY_URL=("undefined"!==typeof DrawioProperties?DrawioProperties.contextPath:AJS.contextPath())+"/plugins/servlet/drawio-proxyServlet";
window.SVGLOADER_URL=("undefined"!==typeof DrawioProperties?DrawioProperties.contextPath:AJS.contextPath())+"/plugins/servlet/drawio-svgServlet";window.mxBasePath=ATLAS_RESOURCE_BASE+"/mxgraph";window.mxImageBasePath=window.mxBasePath+"/images";window.mxLoadStylesheets=!1;window.mxLoadResources=!1;window.mxLoadSettings=!1;window.isSvgBrowser=0>navigator.userAgent.indexOf("MSIE")||9<=document.documentMode;
window.DRAWIO_VIEWER_URL=window.location.protocol+"//"+window.location.host+("undefined"!==typeof DrawioProperties?DrawioProperties.contextPath:AJS.contextPath())+"/download/resources/com.mxgraph.confluence.plugins.diagramly:drawio-reader/js/viewer-static.min.js";window.VIEWER_URL=window.DRAWIO_VIEWER_URL;window.DRAW_MATH_URL=ATLAS_RESOURCE_BASE+"/math/es5";window.MXGRAPH=window.MXGRAPH||{};MXGRAPH.viewerContainer=null;MXGRAPH.readerOpts=null;var isLocalStorage=!1,mxIsElectron=!1;
try{isLocalStorage="undefined"!=typeof localStorage}catch(b){}
(function(){if(!window.mxCssInjected)try{window.mxCssInjected=!0;var b=document.createElement("style");b.type="text/css";b.innerHTML=".geDiagramContainer blockquote,\n.drawio-macro blockquote {\ncolor: #000 !important;\nmargin:1em 40px 1em 40px !important;\npadding: 0px !important;\nborder-style: none;\n}\nhtml body .geDiagramContainer ul, html body .geDiagramContainer ol,\nhtml body .drawio-macro ul, html body .drawio-macro ol {\nmargin:1em 0px 1em 0px;\npadding-left: 40px;\n}\n.geDiagramContainer h1,\n.drawio-macro h1 {\ncolor: #000 !important;\nfont-size: 2em;\nfont-weight: bold !important;\nline-height: inherit !important;\nmargin:0.67em 0px 0.67em 0px !important;\n}\n.geDiagramContainer h2,\n.drawio-macro h2 {\ncolor: #000 !important;\nfont-size: 1.5em !important;\nfont-weight: bold !important;\nline-height: inherit !important;\nmargin:0.83em 0px 0.83em 0px !important;\n}\n.geDiagramContainer h3,\n.drawio-macro h3 {\ncolor: #000 !important;\nfont-size: 1.17em !important;\nfont-weight: bold !important;\nline-height: inherit !important;\nmargin:1em 0px 1em 0px !important;\n}\n.geDiagramContainer h4,\n.drawio-macro h4 {\ncolor: #000 !important;\nfont-size: 1em !important;\nfont-weight: bold !important;\nline-height: inherit !important;\nmargin:1.33em 0px 1.33em 0px !important;\n}\n.geDiagramContainer h5,\n.drawio-macro h5 {\ncolor: #000 !important;\nfont-size: 0.83em !important;\nfont-weight: bold !important;\nline-height: inherit !important;\nmargin:1.67em 0px 1.67em 0px !important;\n}\n.geDiagramContainer h6,\n.drawio-macro h6 {\ncolor: #000 !important;\nfont-size: 0.67em !important;\nfont-weight: bold !important;\nline-height: inherit !important;\nmargin:2.33em 0px 2.33em 0px !important;\n}\nhtml body .geDiagramContainer p,\nhtml body .drawio-macro p {\nmargin: 1em 0 1em 0;\n}";document.getElementsByTagName("head")[0].appendChild(b)}catch(d){}})();
var urlParams=function(b){var d={},g=b.lastIndexOf("?");if(0<g){b=b.substring(g+1).split("\x26");for(var e=0;e<b.length;e++)g=b[e].indexOf("\x3d"),0<g&&(d[b[e].substring(0,g)]=b[e].substring(g+1))}return d}(window.location.href),mxLanguage="undefined"!==typeof LANGUAGE?LANGUAGE:"en";MXGRAPH.mxscriptOnLoad=MXGRAPH.mxscriptOnLoad||{};
function mxscript(b,d){var g=b.substring(b.lastIndexOf("/")+1);if(1==MXGRAPH.mxscriptOnLoad[b]||null!=g&&null!=document.getElementById(g))null!=d&&d();else if(null==MXGRAPH.mxscriptOnLoad[b])if(MXGRAPH.mxscriptOnLoad[b]=[d],"1"!=urlParams.dev){var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("defer","true");e.setAttribute("src",b);var f=!1;e.onload=e.onreadystatechange=function(){if(!(f||this.readyState&&"complete"!=this.readyState)){f=!0;for(var h=0;h<
MXGRAPH.mxscriptOnLoad[b].length;h++)if(null!=MXGRAPH.mxscriptOnLoad[b][h])MXGRAPH.mxscriptOnLoad[b][h]();null!=g&&e.setAttribute("id",g);MXGRAPH.mxscriptOnLoad[b]=!0}};d=document.getElementsByTagName("script")[0];null!=d&&d.parentNode.insertBefore(e,d)}else document.write('\x3cscript src\x3d"'+b+'"'+(null!=g?' id\x3d"'+g+'" ':"")+"\x3e\x3c/script\x3e");else MXGRAPH.mxscriptOnLoad[b].push(d)}
mxLoadScripts=function(b,d){for(var g=b.length,e=0;e<b.length;e++)mxscript(b[e],function(){0==--g&&null!=d&&d()})};MXGRAPH.resolvePageTargetName=function(b,d){if(null==b||null==d)return null;-1!=d.indexOf("%7BpageTitle%7D")&&(d=d.replace(/%7BpageTitle%7D/g,"{pageTitle}"));if(-1==d.indexOf("{pageTitle}"))return d;b=8401<=DrawioProperties.buildNumber?b.replace(/-/g,""):b;return d.replace(/\{pageTitle\}/g,/^[a-zA-Z]/.test(b)?b:"id-"+b).replace(/\s/g,"").replace(/%20/g,"")};
MXGRAPH.restorePageTitlePlaceholder=function(b,d){if(null==d)return null;b=b.replace(/\s/g,"");return d.replace("id-","").replace(b,"{pageTitle}")};
MXGRAPH.overrideGlobalVariables=function(b,d){d=d||Graph.prototype;var g=d.getGlobalVariable;d.getGlobalVariable=function(e){if(null!=DrawioProperties.serverConfig&&"1"==DrawioProperties.serverConfig.disableplaceholders)return"placeholder disabled";try{if("filename"==e)return b.title||b.diagramDisplayName||b.diagramName;if("creatorName"==e)return b.creatorName;if("lastModifiedBy"==e)return b.lastModifierName;if("lastModifiedTime"==e.substring(0,16)){var f=e.indexOf(":"),h=0<f?e.substring(f+1):"";
return this.formatDate(new Date(b.lastModified),h)}if("version"==e)return b.revision}catch(l){}return g.apply(this,arguments)}};
if("1"==urlParams.dev){var mxDevUrl=document.location.protocol+"//devhost.jgraph.com/drawio/src/main",drawDevUrl=document.location.protocol+"//devhost.jgraph.com/drawio/src/main/webapp/",geBasePath=drawDevUrl+"/js/grapheditor",mxBasePath=mxDevUrl+"/mxgraph";mxscript(drawDevUrl+"js/diagramly/Init.js");mxscript(geBasePath+"/Init.js");mxscript(mxBasePath+"/mxClient.js");mxscript(drawDevUrl+"js/diagramly/Devel.js");mxscript(drawDevUrl+"js/diagramly/GraphViewer.js")}
(function(){function b(){var f=$(".drawio-macro");0<f.length&&(e?g(f):mxscript(ATLAS_RESOURCE_BASE+"/js/atlas-viewer.min.js",function(){mxLoadScripts([ATLAS_RESOURCE_BASE+"/js/EmbedUtils.js",ATLAS_RESOURCE_BASE+"/js/mxViewer.js",ATLAS_RESOURCE_BASE+"/js/DrawioComments.js",ATLAS_RESOURCE_BASE+"/js/shapes-14-6-5.min.js",ATLAS_RESOURCE_BASE+"/js/mxEditorEventListener.js"],function(){e=!0;g(f)})}))}function d(f){if("undefined"===typeof TextDecoder||"undefined"===typeof Uint8Array)return decodeURIComponent(escape(window.atob(f)));
var h=new TextDecoder("utf8"),l=h.decode;f=atob(f);var m=new ArrayBuffer(f.length);m=new Uint8Array(m);for(var k=0;k<f.length;k+=1)m[k]=f.charCodeAt(k);return l.call(h,m.buffer)}function g(f){for(var h=0;h<f.length;h++)try{var l=f[h],m=l.getAttribute("data-macroId"),k=$("#drawio-macro-data-"+m);0<k.length&&(mxConfThemeObserver(function(p,a){a.macro.className=a.className;a.macro.innerHTML="";var n=a.macro;a=a.macroData;var q="drawio-sketch"===n.parentNode.getAttribute("data-macro-name"),c=a.serverConfig;
DrawioProperties={contextPath:AJS.contextPath(),buildNumber:n.getAttribute("data-buildNum"),serverConfig:c};try{a.uiConfig&&(DrawioProperties.uiConfig=JSON.parse(mxUtils.decodeHtml(a.uiConfig)))}catch(r){console.log(r),DrawioProperties.uiConfig={}}c={};a.templateUrl?(c.loadUrl=(0==a.templateUrl.indexOf(AJS.contextPath())?"":AJS.contextPath())+a.templateUrl,c.imageUrl=(0==a.templateImageLoadUrl.indexOf(AJS.contextPath())?"":AJS.contextPath())+a.templateImageLoadUrl):(c.loadUrl=AJS.contextPath()+"/rest/drawio/1.0/diagram/crud/"+
encodeURIComponent(a.diagramName)+"/"+encodeURIComponent(a.owningPageId)+"?revision\x3d"+encodeURIComponent(a.revision)+(a.editable?"":"\x26noHistVerCheck\x3dtrue"),c.imageUrl=AJS.contextPath()+"/download/attachments/"+encodeURIComponent(a.owningPageId)+"/"+encodeURIComponent(a.previewName)+"?version\x3d"+encodeURIComponent(a.revision)+"\x26api\x3dv2",c.editUrl=AJS.contextPath()+"/plugins/drawio/addDiagram.action?ceoId\x3d"+encodeURIComponent(a.ceoId)+"\x26owningPageId\x3d"+encodeURIComponent(a.owningPageId)+
"\x26diagramName\x3d"+encodeURIComponent(a.diagramName)+"\x26revision\x3d"+encodeURIComponent(a.revision)+"\x26diagramDisplayName\x3d"+encodeURIComponent(a.diagramDisplayName)+"\x26noSaveBtn\x3d1\x26publishClose\x3d1"+(q?"\x26ui\x3dsketch":"")+(p?"\x26dark\x3d1":""));c.editable=a.editable;c.canComment=a.canComment;c.stylePath=STYLE_PATH;c.stencilPath=STENCIL_PATH;c.imagePath=IMAGE_PATH+"/reader";c.border=a.border;c.width=a.width;c.simpleViewer=a.simpleViewer;c.tbstyle=a.tbstyle;c.links=a.links;c.lightbox=
a.lbox;c.resourcePath=ATLAS_RESOURCE_BASE+"/resources/viewer";c.disableButtons=!1;c.zoomToFit=!0;c.language=a.language;c.licenseStatus=a.licenseStatus;c.contextPath=AJS.contextPath();c.diagramName=a.diagramName;c.diagramDisplayName=a.diagramDisplayName;c.aspect=a.aspect;c.ceoName=a.ceoName;c.attVer=a.revision;c.revision=a.revision;c.attId=a.attId;c.lastModifierName=a.lastModifierName;c.lastModified=parseInt(a.lastModified);c.creatorName=a.creatorName;c.maxScale=parseFloat(a.maxScale);c.extSrvIntegType=
a.extSrvIntegType;c.gClientId=a.gClientId;c.oClientId=a.oClientId;c.service=a.service;c.sFileId=a.sFileId;c.odriveId=a.odriveId;c.diagramUrl=a.diagramUrl;c.csvFileUrl=a.csvFileUrl;c.pageId=a.pageId||Confluence.getContentId();c.aspectHash=a.aspectHash;c.isTemplate=a.isTemplate;""==c.width&&(c.width=null);"GDrive"==a.service||"OneDrive"==a.service||""!=a.diagramUrl||""!=a.csvFileUrl?createRemoteViewer(n,c,null,p):(createViewer(n,c,p),c.editable&&($(n).data("viewerConfig",c),$(n).on("drawioViewerUpdate",
updateDrawioViewer)))},{macro:l,className:l.className,macroData:JSON.parse(d(k.text().trim()))}),k.remove())}catch(p){console.log(p)}setTimeout(b,500)}if("undefined"!==typeof AJS&&!MXGRAPH.macroRenderingStarted){$=AJS.$;MXGRAPH.macroRenderingStarted=!0;var e=!1;$(document).ready(b);try{AJS.bind("linchpin-touch-content-init",function(f,h){b()})}catch(f){}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.mxgraph.confluence.plugins.diagramly:drawio-rte', location = 'js/mxViewer.js' */
var gOpenCommentsFn=null;"undefined"!=typeof EditorUi&&(EditorUi.prototype.isAutoDarkMode=function(c){return!0});"undefined"!=typeof Editor&&(Editor.isDarkMode=function(){return mxConfThemeObserver.isDarkMode()});"undefined"!=typeof GraphViewer&&(GraphViewer.darkBackgroundColor="var(--ds-surface, #1d2125)",GraphViewer.shapeBackgroundColor="light-dark(#ffffff, "+GraphViewer.darkBackgroundColor+")",GraphViewer.prototype.isDarkMode=function(){return mxConfThemeObserver.isDarkMode()});
null==window.mxResourcesLoadingDone&&(window.mxResourcesLoadingDone=!1,window.mxMainPending=[]);function gOpenCommentsFunc(){null!=gOpenCommentsFn&&gOpenCommentsFn()}
function mxAddSpinner(c,a){var h=document.createElement("div");h.style.cssText=(a?"position:absolute;top:50%;left:50%;margin-left:-20px;margin-top:-20px;":"position:relative;")+"width:40px;height:40px;";c.appendChild(h);(new Spinner({lines:12,length:7,width:3,radius:6,rotate:0,color:"#000",speed:2,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:999})).spin(h);return h}
MXGRAPH.fixAnchorPosition=function(){location.hash&&(null!=MXGRAPH.fixAnchorTimer&&window.clearTimeout(MXGRAPH.fixAnchorTimer),MXGRAPH.fixAnchorTimer=window.setTimeout(function(){var c=location.hash.slice(1);location.hash="";c&&(location.hash=c)},500))};
function createViewer(c,a,h){function l(k){c.innerHTML=mxUtils.htmlEntities(mxResources.get("error")+": "+k);c.style.height="24px"}function w(k,q){var b=document.createElement("div");b.style.position="absolute";b.style.overflow="hidden";b.style.left="0px";b.style.top="0px";b.style.right="0px";b.style.fontSize="14px";b.style.margin="2px";mxUtils.setOpacity(b,50);b.style.color="gray";b.style.textAlign="center";b.style.whiteSpace="nowrap";span=document.createElement("span");span.innerHTML=k;b.appendChild(span);
q.appendChild(b)}function u(k){"NO_LICENSE"==a.licenseStatus?w(mxResources.get("drawio.reader.noLicense"),k):"EVAL_LICENSE"==a.licenseStatus?w(mxResources.get("drawio.reader.evaluation"),k):"EVAL_EXPIRED"==a.licenseStatus?w(mxResources.get("drawio.reader.evaluationExpired"),k):"VERSION_MISMATCH"==a.licenseStatus?w(mxResources.get("drawio.reader.versionMismatch",["https://support.draw.io/pages/viewpage.action?pageId\x3d11829320"]),k):"USER_MISMATCH"==a.licenseStatus&&w(mxResources.get("drawio.reader.userMismatch",
["https://support.draw.io/pages/viewpage.action?pageId\x3d11829323"]),k)}function x(k){var q={};try{q=JSON.parse(k)}catch(e){try{mxUtils.parseXml(k);q.xml=k;q.revision="";var b=a.loadUrl.match(/\/([^/]+)$/);q.name=2<=b.length?decodeURIComponent(b[1]):""}catch(d){}}return q}function A(k,q){if(null!=k){var b=k.openLink;k.openLink=function(d,g){var n=window,f=d;if(null==window.DrawioProperties||null==DrawioProperties.serverConfig||"1"!=DrawioProperties.serverConfig.leaveLinkPlus)d=d.replace(/\+/g,"%2B");
f.substring(0,this.baseUrl.length)==this.baseUrl&&"#"==f.charAt(this.baseUrl.length)&&"_top"==g&&window==window.top?(f=document.createElement("a"),f.href="#"+MXGRAPH.resolvePageTargetName(q,d.split("#")[1]),f.style.display="none",c.appendChild(f),f.click(),f.parentNode.removeChild(f)):n=-1!=d.lastIndexOf("/lightbox.action")?b.apply(this,[d,"_blank"]):b.apply(this,arguments);return n};var e=k.customLinkClicked;k.customLinkClicked=function(d){var g=AJS.contextPath();if("data:confluence/id,"==d.substring(0,
19)){var n=d.substring(19),f=window.open();if(n)$.ajax({url:g+"/rest/api/content/"+encodeURIComponent(n),type:"GET",success:function(y){f.location=document.location.origin+g+y._links.webui},error:function(){f.document.writeln(mxResources.get("objectNotFound"))}});else throw Error("Empty ID");}else if("data:scrollPage,"==d.substring(0,16))try{var r=JSON.parse(Base64.decode(d.substring(16)));f=window.open();f.document.writeln(mxResources.get("connecting")+"...");$.ajax({url:g+"/rest/api/content/"+encodeURIComponent(AJS.Confluence.getContentId()),
type:"GET",success:function(y){var t=y.space.key;if(/^[ -~\t\n\r]+$/.test(r.confTitle)){var z=document.location.origin+g+"/display/"+encodeURIComponent(t)+"/"+encodeURIComponent(r.confTitle.replace(/\s/g,"+"));$.ajax({url:z,type:"GET",success:function(C){f.location=z},error:function(C){$.ajax({url:g+"/rest/api/content/"+encodeURIComponent(r.confId),type:"GET",success:function(E){f.location=document.location.origin+g+"/display/"+encodeURIComponent(t)+"/"+encodeURIComponent(E.title.replace(/\s/g,"+"))},
error:function(E){f.document.writeln(mxResources.get("pageNotFound"))}})}})}else f.location=document.location.origin+g+"/pages/viewpage.action?pageId\x3d"+encodeURIComponent(r.confId)},error:function(){f.document.writeln(mxResources.get("pageNotFound"))}});return!0}catch(y){throw Error("Unexpected Error");}else return e.apply(this,arguments)}}}function D(k,q){null!=k&&null!=q&&$(k).parents().each(function(b,e){"ui-expand"==$(e).data("macro-name")&&(q["check-visible-state"]=!1)})}if(null!=c){var B=
$.Deferred(),F=!1,m=c.parentNode;null==m||null==m.previousSibling||"drawio"!=m.getAttribute("data-macro-name")||"P"!=m.previousSibling.nodeName||0!=m.previousSibling.childNodes.length&&""!=m.previousSibling.innerHTML.trim()||m.previousSibling.appendChild(c);try{a.darkMode=h;var G=a.contextPath;editUrl=a.editUrl;Editor.initMath();GraphViewer.initCss();"undefined"!==typeof DrawioProperties&&DrawioProperties.uiConfig&&DrawioProperties.uiConfig.fontCss&&Editor.configureFontCss(DrawioProperties.uiConfig.fontCss);
a.isTemplate&&(GraphViewer.prototype.checkVisibleState=!1);if(!window.mxResourcesLoaded&&null!=a.language){window.mxResourcesLoaded=!0;var K=a.language;mxResources.isLanguageSupported(K)&&(mxClient.language=K);mxUtils.getAll([mxResources.getSpecialBundle(RESOURCE_BASE,mxClient.language)||mxResources.getDefaultBundle(RESOURCE_BASE,mxClient.language),a.resourcePath+("de"==K?"_de":"")+".txt"],function(b){for(var e=0;e<b.length;e++)mxResources.parse(b[e].getText());for(window.mxResourcesLoadingDone=!0;0<
window.mxMainPending.length;)window.mxMainPending.pop()()});var L=document.head.getElementsByTagName("link"),H=null;for(m=0;m<L.length;m++){var I=L[m];if("text/css"===I.getAttribute("type")&&"stylesheet"===I.getAttribute("rel")&&/.*\/styles\/custom\.css\?spaceKey=.*$/.test(I.getAttribute("href"))){H=I.outerHTML;break}}if(null!=H){var O=PrintDialog.createPrintPreview;PrintDialog.createPrintPreview=function(){var b=O.apply(this,arguments),e=b.writeHead;b.writeHead=function(d){e.apply(this,arguments);
null!=H&&d.writeln(H)};return b}}}function k(b){if("undefined"!==typeof DrawioProperties&&DrawioProperties.serverConfig&&DrawioProperties.serverConfig.linkAdjustments){if("string"===typeof DrawioProperties.serverConfig.linkAdjustments)try{for(var e=JSON.parse(mxUtils.decodeHtml(DrawioProperties.serverConfig.linkAdjustments)),d=0;d<e.length;d++)e[d].re=new RegExp(e[d].re,e[d].m);DrawioProperties.serverConfig.linkAdjustments=e}catch(n){console.log("linkAdjustments parsing error",n)}try{if("object"===
typeof DrawioProperties.serverConfig.linkAdjustments)for(e=DrawioProperties.serverConfig.linkAdjustments,d=0;d<e.length;d++){var g=e[d];b=b.replace(g.re,g.r)}}catch(n){console.log("linkAdjustments error",n)}}return b}var P=Graph.prototype.getAbsoluteUrl;Graph.prototype.getAbsoluteUrl=function(b){null!=b&&(b=k(b),"/"==b.charAt(0)&&b.substring(0,G.length)!==G&&(b=G+b));return P.apply(this,arguments)};var Q=Graph.prototype.getTooltipForCell;Graph.prototype.getTooltipForCell=function(b){var e=null;try{return mxUtils.isNode(b.value)&&
(e=b.value.getAttribute("link"),null!=e&&b.value.setAttribute("link",k(e))),Q.apply(this,arguments)}finally{null!=e&&b.value.setAttribute("link",e)}};GraphViewer.prototype.toolbarZIndex=1;var R=GraphViewer.prototype.getImageUrl,S=/^(\.\.\/)*(\.\.)?\/download\//,M=/.*com.mxgraph.confluence.plugins.diagramly:(drawio|diagramly)-editor/;GraphViewer.prototype.imageBaseUrl=document.location.origin+"/";GraphViewer.prototype.getImageUrl=function(b){return null==b?b:"img/"==b.substring(0,4)?-1!=b.indexOf(".svg")?
SVGLOADER_URL+"?url\x3d"+encodeURIComponent(b):ATLAS_RESOURCE_BASE+"/"+b:"/img/"==b.substring(0,5)?ATLAS_RESOURCE_BASE+b:S.test(b)?G+b.substring(b.indexOf("/download/")):"data:image"!=b.substring(0,10)&&M.test(b)?ATLAS_RESOURCE_BASE+b.replace(M,""):-1!=b.indexOf("/drawio/1.0/diagram/getImageAtt")?b:R.apply(this,arguments)};var T=GraphViewer.prototype.addClickHandler;GraphViewer.prototype.addClickHandler=function(b,e){var d=mxUtils.bind(this,function(){var g=b.container.getElementsByTagName("img");
if(null!=g)for(var n=0;n<g.length;n++)g[n].setAttribute("src",this.getImageUrl(g[n].getAttribute("src")))});b.model.addListener(mxEvent.CHANGE,d);d();T.apply(this,arguments)};GraphViewer.prototype.showLightbox=function(b,e,d){this.showLocalLightbox()};null!=a.width&&"fixed"!=a.width&&(c.style.width=a.width+"px");function q(b,e){if(!e&&!window.mxResourcesLoadingDone)window.mxMainPending.push(function(g){q(b,g)});else if(!F){F=!0;GraphViewer.prototype.autoCrop=!0;var d=mxAddSpinner(c);mxUtils.get(a.loadUrl,
mxUtils.bind(this,function(g){try{d.parentNode.removeChild(d)}catch(C){console.log("drawio: viewer noise",C)}c.style.minHeight="";if(200>g.getStatus()||299<g.getStatus())l(g.getStatus());else{mxStencilRegistry.dynamicLoading=!0;u(c);g=x(g.getText());var n=mxUtils.parseXml(g.xml);a.border&&(c.style.border="1px solid #d0d0d0");var f={"toolbar-position":a.tbstyle,nav:!0,highlight:"#3b73af",border:8,"dark-mode":h};"auto"!=a.links&&(f.target=a.links);"top"==a.tbstyle&&(f.title=(null!=a.diagramDisplayName&&
0<a.diagramDisplayName.length?a.diagramDisplayName:g.name)+" ["+g.revision+"]");a.lightbox||(f.lightbox=!1);"hidden"==a.tbstyle?f.resize=!0:(f.toolbar="edit pages zoom layers tags",a.lightbox&&(f.toolbar+=" lightbox"));"fixed"==a.width?(c.style.maxWidth="",f["allow-zoom-out"]=!1):null!=a.width&&(f["allow-zoom-in"]=!0);f.zoom=isFinite(a.maxScale)?a.maxScale:1;var r=null;f["toolbar-buttons"]={edit:{title:mxResources.get("edit"),enabled:a.editable,image:MXGRAPH.editImage,handler:function(p){-1==a.editUrl.lastIndexOf("page-id")&&
(a.editUrl=a.editUrl+"\x26page\x3d"+t.currentPage);a.editUrl+="\x26directEdit\x3dtrue";MXGRAPH.openEditor(a.editUrl,p.srcElement);MXGRAPH.viewerContainer=c;MXGRAPH.readerOpts=a}}};if(null!=a.aspect&&0<a.aspect.length&&(pageAndLayers=a.aspect.split(" "),f.layerIds=1<pageAndLayers.length?pageAndLayers.slice(1):null,pageId=pageAndLayers[0],a.editUrl+="\x26page-id\x3d"+pageId,diagrams=n.documentElement.getElementsByTagName("diagram"),null!=diagrams))for(var y=0;y<diagrams.length;y++)if(diagrams[y].getAttribute("id")==
pageId){f.page=y;break}MXGRAPH.overrideGlobalVariables(a);D(c,f);var t=new GraphViewer(c,n.documentElement,f);function C(){A(t.graph,a.ceoName);MXGRAPH.overrideCellTooltips(t.graph,a.ceoName)}t.addListener("render",C);C();MXGRAPH.fixAnchorPosition();MXGRAPH.addCommentsIcon(t,c,g.attachmentId);var z=null;EditorUi.prototype.createUi=function(){};EditorUi.prototype.addTrees=function(){};EditorUi.prototype.updateActionStates=function(){};EditorUi.prototype.installNativeClipboardHandler=function(){};EditorUi.prototype.createKeyHandler=
function(){var p=new mxKeyHandler(this.editor.graph);p.bindAction=function(){};return p};EditorUi.prototype.getServiceName=function(){return"atlassian"};function E(){if(null==z){var p=document.createElement("div");p.style.display="none";document.body.appendChild(p);z=new EditorUi(new Editor(!1,null,null,null,!1),p);z.editor.attachmentInfo={attachmentId:a.attId,revision:a.attVer};z.canComment=function(){return a.canComment}}return z}function N(){null!=r?r.window.setVisible(!r.window.isVisible()):(r=
new CommentsWindow(E(),document.body.offsetWidth-380,120,300,350),r.window.setVisible(!0));var p=r.window.getElement();p.style.position="fixed";p.style.zIndex=2E3;Editor.isDarkMode()?p.classList.add("geDarkMode"):p.classList.remove("geDarkMode")}a.canComment&&(EditorUi.prototype.lightboxToolbarActions=[{icon:Editor.commentImage,tooltip:mxResources.get("comments"),fn:gOpenCommentsFunc}]);null!=t.graph&&null!=t.graph.model&&(t.showLocalLightbox=function(p){gOpenCommentsFn=N;MXGRAPH.overrideGlobalVariables(a);
var J=GraphViewer.prototype.showLocalLightbox.call(t);A(J.editor.graph,a.ceoName);var U=J.destroy;J.destroy=function(){null!=r&&r.window.setVisible(!1);U.apply(this,arguments)};p&&N();return J},a.canComment&&E().hasUnresolvedComments(function(p){p&&(img=document.getElementById("comments-icon-"+a.attId),img.style.display="inline")},function(){}),b.resolve(t))}}),function(){d.parentNode.removeChild(d);c.style.minHeight="";l(req.getStatus())})}}if(a.simpleViewer){var v=document.createElement("img");
v.setAttribute("src",a.imageUrl);v.setAttribute("border","0");v.style.cssText="width:100%;box-sizing:border-box;padding:8px;";"fixed"==a.width&&(c.style.overflow="visible",v.style.width="");a.border&&(v.style.border="1px solid #d0d0d0");c.appendChild(v);a.lightbox&&(v.style.cursor="pointer",mxEvent.addListener(v,"click",function(){var b=mxAddSpinner(c,!0);mxUtils.get(a.loadUrl,function(e){b.parentNode.removeChild(b);if(200<=e.getStatus()&&299>=e.getStatus()){e=x(e.getText());e=mxUtils.parseXml(e.xml);
var d=null,g=null;null!=a.aspect&&0<a.aspect.length&&(d=a.aspect.split(" "),g=1<d.length?d.slice(1):null,d=d[0]);MXGRAPH.overrideGlobalVariables(a);e=new GraphViewer(null,e.documentElement,{highlight:"#3b73af",nav:!0,lightbox:!1,toolbar:"pages zoom layers tags",target:a.links,"check-visible-state":!1,pageId:d,layerIds:g});A(e.showLocalLightbox().editor.graph,a.ceoName)}},function(){b.parentNode.removeChild(b)})}));v.onload=function(){MXGRAPH.fixAnchorPosition();v.parentNode.style.height=v.height+
20+"px"}}else c.style.minHeight="200px",q(B),setTimeout(function(){for(;0<window.mxMainPending.length;)window.mxMainPending.pop()(!0)},2E3)}catch(k){l(k.message)}return B.promise()}}
MXGRAPH.addCommentsIcon=function(c,a,h){var l=document.createElement("img");l.style.cssText="position:absolute;bottom: 5px; right: 5px;opacity: 0.25; cursor: pointer;display : none";l.id="comments-icon-"+h;l.setAttribute("title",mxResources.get("showComments"));l.src=Editor.commentImage;l.addEventListener("click",mxUtils.bind(this,function(){c.showLocalLightbox(!0)}));a.appendChild(l)};
function updateDrawioViewer(c,a,h){viewerConfig=$(this).data("viewerConfig");a==viewerConfig.diagramName&&($(this).empty(),viewerConfig.editUrl=viewerConfig.editUrl.replace(/revision=\d+/,"revision\x3d"+h),viewerConfig.loadUrl=viewerConfig.loadUrl.replace(/revision=\d+/,"revision\x3d"+h),viewerConfig.attVer=h,createViewer(this,viewerConfig,viewerConfig.darkMode))}
MXGRAPH.openEditor=function(c,a){var h=$('\x3ciframe id\x3d"drawioEditor" \x3e');h.appendTo("body");h.css({position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px","border-style":"none",zIndex:9E3});h.attr("src",c);MXGRAPH.editorFrame=h;MXGRAPH.editImgEl=a;a.src=window.IMAGE_PATH+"/spin.gif";a.width=21;a.height=21};
MXGRAPH.closeEditor=function(){MXGRAPH.editorFrame.remove();MXGRAPH.editorFrame=null;MXGRAPH.viewerContainer=null;MXGRAPH.readerOpts=null;document.body.style.overflow="auto";MXGRAPH.editImgEl.src=MXGRAPH.editImage};
MXGRAPH.postSave=function(c,a,h,l,w){$(".drawio-macro").trigger("drawioViewerUpdate",[a,h]);c=new mxXmlRequest(AJS.contextPath()+"/rest/drawio/1.0/diagram/updateMacros/"+c+"/"+encodeURIComponent(a)+"/"+h+"?diagramWidth\x3d"+l+"\x26diagramHeight\x3d"+w,"","POST");c.setRequestHeaders=function(u,x){u.setRequestHeader("X-Atlassian-Token","no-check")};c.send(function(u){},function(u){console.log("There was a problem updating the drawio macro")})};
MXGRAPH.overrideCellTooltips=function(c,a){null!=c&&(oldF=c.getTooltipForCell,c.getTooltipForCell=function(h){var l=oldF.apply(this,arguments);if(null!=h.value&&null!=h.value.getAttribute&&null!=h.value.getAttribute("tooltip"))return l;l=null==l?null:MXGRAPH.resolvePageTargetName(a,l);return Graph.sanitizeHtml(l)})};
function createRemoteViewer(c,a,h,l){var w="localhost"==window.location.hostname?"test.draw.io":"ac.draw.io",u=AJS.Meta.get("user-locale");if(null!=u){var x=u.indexOf("_");0<=x&&(u=u.substring(0,x))}if(null!=c){c.style.height="200px";c.style.width="100%";x=a.diagramUrl||a.csvFileUrl?"extUrl":"GDrive"==a.service?"gdrive":"onedrive";var A="";if(l){var D=document.createElement("div");D.style.color="var(--ds-surface)";document.body.appendChild(D);A="\x26dark\x3d1\x26bkgrndClr\x3d"+encodeURIComponent(getComputedStyle(D).color);
a.darkMode=l;document.body.removeChild(D)}l=3==a.extSrvIntegType||a.diagramUrl||a.csvFileUrl?AJS.contextPath()+"/plugins/drawio/embedViewer.action?type\x3d"+x+"\x26lang\x3d"+u+A:"https://"+w+"/connect/remote_"+x+"/viewer.html?lang\x3d"+u+A;l=$('\x3ciframe style\x3d"height:100%;width:100%;border:0" src\x3d"'+l+'"\x3e');$(c).append(l);var B=l[0].contentWindow,F=mxAddSpinner(c);window.addEventListener("message",function(m){if(m.source==B)switch(m=JSON.parse(m.data),m.action){case "viewerReady":B.postMessage(JSON.stringify({action:"viewFile",
data:a}),"*");F.parentNode.removeChild(F);break;case "diagramRendered":null!=h&&(a.fileTS=m.fileTS,h(a,B));break;case "updateHeight":c.style.height=m.height+"px"}});return B}}MXGRAPH.editImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAD1BMVEUAAAAAAAAQEBBycnIgICBqwj3hAAAAAXRSTlMAQObYZgAAADlJREFUCNdjoBwoChrAmCyGggJwYWVBBSiTSVDICKFa0AEuLCiEJKyAX5gBSZgBSZgBKGwMBKQ7HAAWzQSfKKAyBgAAAABJRU5ErkJggg\x3d\x3d";
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.mxgraph.confluence.plugins.diagramly:drawio-rte', location = 'templates/soy/dialogs.soy' */
// This file was automatically generated from dialogs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace diagramlySoy.macro.dialog.
 */

if (typeof diagramlySoy == 'undefined') { var diagramlySoy = {}; }
if (typeof diagramlySoy.macro == 'undefined') { diagramlySoy.macro = {}; }
if (typeof diagramlySoy.macro.dialog == 'undefined') { diagramlySoy.macro.dialog = {}; }


diagramlySoy.macro.dialog.searchDialog = function(opt_data, opt_ignored) {
  return '<div class="diagramly-search-dialog" id="diagramly-search-dialog"><form name="diagramly-search-form" class="aui search-form"><fieldset class="search-input"><input name="diagramly-search-field" class="text" style="max-width :450px;margin-right : 10px" type="text" size="50"/><!-- <select name="diagramly-search-space" class="diagramly-space-select select"><option value="">' + soy.$$escapeHtml('All spaces') + '</option></select>--><button type="submit" class="button submit">' + soy.$$escapeHtml('Search') + '</button></fieldset><div class="description">' + soy.$$escapeHtml('Enter the name of a diagram') + '</div></form><div class="diagramly-search-results"></div></div>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.searchDialog.soyTemplateName = 'diagramlySoy.macro.dialog.searchDialog';
}


diagramlySoy.macro.dialog.importDialog = function(opt_data, opt_ignored) {
  return '<div class="diagramly-import-dialog" id="diagramly-import-dialog"><form id="diagramly-import-form" name="diagramly-import-form" class="aui import-form" method="post" action="' + soy.$$escapeHtml(opt_data.url) + '" enctype="multipart/form-data"><fieldset class="import-input"><input name="diagramly-import-field" id="diagramly-import-field" class="import-text" type="file" size="50"/></fieldset><div class="description">' + soy.$$escapeHtml('Select a Visio file (.vdx)') + '</div><div class="spinner"></div></form></div>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.importDialog.soyTemplateName = 'diagramlySoy.macro.dialog.importDialog';
}


diagramlySoy.macro.dialog.searchResults = function(opt_data, opt_ignored) {
  var output = '<table class="drawio-results-table"><thead><tr class="drawio-results-header"><th class="drawio-results-column-diagramname">' + soy.$$escapeHtml('Diagram') + '</th><th class="drawio-results-column-spacename">' + soy.$$escapeHtml('Space name') + '</th><th class="drawio-results-column-lastmodified">' + soy.$$escapeHtml('Last modified') + '</th></tr></thead><tbody>';
  var diagramList24 = opt_data.diagrams;
  var diagramListLen24 = diagramList24.length;
  if (diagramListLen24 > 0) {
    for (var diagramIndex24 = 0; diagramIndex24 < diagramListLen24; diagramIndex24++) {
      var diagramData24 = diagramList24[diagramIndex24];
      output += '<tr data-attachment-id="' + soy.$$escapeHtml(diagramData24.attachmentId) + '" data-name="' + soy.$$escapeHtml(diagramData24.name) + '" data-revision="' + soy.$$escapeHtml(diagramData24.revision) + '" ><td class="drawio-results-column-diagramname">' + soy.$$escapeHtml(diagramData24.name) + '</td><td class="drawio-results-column-spacename">' + soy.$$escapeHtml(diagramData24.spaceName) + '</td><td class="drawio-results-column-lastmodified">' + soy.$$escapeHtml(diagramData24.lastModified) + '</td></tr>';
    }
  } else {
    output += '<tr data-empty="true"><td>' + soy.$$escapeHtml('drawio.search.noResults') + '</td></tr>';
  }
  output += '</tbody></table>';
  return output;
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.searchResults.soyTemplateName = 'diagramlySoy.macro.dialog.searchResults';
}


diagramlySoy.macro.dialog.spinner = function(opt_data, opt_ignored) {
  return '<div class="diagramly-results-spinner"></div>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.spinner.soyTemplateName = 'diagramlySoy.macro.dialog.spinner';
}


diagramlySoy.macro.dialog.errorMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message error shadowed"><span class="aui-icon icon-error"></span><span>' + soy.$$escapeHtml(opt_data.message) + '</span></div>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.errorMessage.soyTemplateName = 'diagramlySoy.macro.dialog.errorMessage';
}


diagramlySoy.macro.dialog.newDiagramWizard = function(opt_data, opt_ignored) {
  return '<div class="diagramly-blueprint-list" ><div class="diagramly-blueprint-list-item-wrapper" ><div id="blank" class="diagramly-blueprint-list-item"></div><span>' + soy.$$escapeHtml('Blank') + '</span></div><div style="margin-top : 35px;margin-bottom : 25px; width : 100%; height : 1px; border : 1px solid #c5c5c5;"></div><div  class="diagramly-blueprint-list-item-wrapper" ><img id="search" class="diagramly-blueprint-list-item" height="80px" length="80px" src="' + soy.$$escapeHtml(opt_data.imageUrlBase) + '/search.png"></img><span>' + soy.$$escapeHtml('Search') + '</span></div>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.newDiagramWizard.soyTemplateName = 'diagramlySoy.macro.dialog.newDiagramWizard';
}


diagramlySoy.macro.dialog.newDiagram = function(opt_data, opt_ignored) {
  return '<div id="drawio-newdiagram-panel" class="drawio-newdiagram-panel" ><div class="drawio-list" ><div class="drawio-list-item" data-blank="true"></div><span>' + soy.$$escapeHtml('Blank') + '</span></div><div class="drawio-separator"></div><div >' + soy.$$escapeHtml('Recent diagrams') + ' :</div><div class="drawio-search-results"></div></div>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.newDiagram.soyTemplateName = 'diagramlySoy.macro.dialog.newDiagram';
}


diagramlySoy.macro.dialog.diagramThumbnails = function(opt_data, opt_ignored) {
  var output = '<div>';
  var diagramList66 = opt_data.diagrams;
  var diagramListLen66 = diagramList66.length;
  for (var diagramIndex66 = 0; diagramIndex66 < diagramListLen66; diagramIndex66++) {
    var diagramData66 = diagramList66[diagramIndex66];
    output += '<div class="drawio-list" ><div class="drawio-list-item drawio-thumbnail" style="background-image:url(\'' + soy.$$escapeHtml(diagramData66.thumbnailURL) + '\')" data-diagramname="' + soy.$$escapeHtml(diagramData66.name) + '" data-ceoid="' + soy.$$escapeHtml(diagramData66.pageId) + '" data-revision="' + soy.$$escapeHtml(diagramData66.revision) + '" data-mimetype="' + soy.$$escapeHtml(diagramData66.mimeType) + '"></div><div style="max-height : 35px; overflow : hidden;font-size : 13px; word-wrap : break-word">' + soy.$$escapeHtml(diagramData66.name) + '</div></div>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.diagramThumbnails.soyTemplateName = 'diagramlySoy.macro.dialog.diagramThumbnails';
}


diagramlySoy.macro.dialog.customTemplateThumbnails = function(opt_data, opt_ignored) {
  var output = '<div>';
  var templateList84 = opt_data.templates;
  var templateListLen84 = templateList84.length;
  for (var templateIndex84 = 0; templateIndex84 < templateListLen84; templateIndex84++) {
    var templateData84 = templateList84[templateIndex84];
    output += '<div class="drawio-list" ><div class="drawio-list-item drawio-thumbnail" style="background-image:url(\'' + soy.$$escapeHtml(templateData84.imagePath) + '\')" data-templateurl="' + soy.$$escapeHtml(templateData84.path) + '"></div><div class="description" style="max-height : 35px; overflow : hidden;font-size : 13px;text-transform:capitalize;">' + soy.$$escapeHtml(templateData84.name) + '</div></div>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.customTemplateThumbnails.soyTemplateName = 'diagramlySoy.macro.dialog.customTemplateThumbnails';
}


diagramlySoy.macro.dialog.messageDlg = function(opt_data, opt_ignored) {
  return '<section id="message-dialog-dialog" class="aui-dialog2 aui-dialog2-small aui-layer" role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="message-dialog-dialog--heading" aria-describedby="message-dialog-dialog--description" hidden ><!-- Dialog header --><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main" id="static-dialog--heading">' + soy.$$escapeHtml(opt_data.message.title) + '</h2></header><!-- Main dialog content --><div class="aui-dialog2-content" id="static-dialog--description">' + soy.$$escapeHtml(opt_data.message.body) + '</div><!-- Dialog footer --><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button style="' + soy.$$escapeHtml(opt_data.message.noOkBtn ? 'display: none' : '') + '" id="message-dialog-dialog-okBtn" class="aui-button aui-button-primary">' + soy.$$escapeHtml(opt_data.message.okBtnTitle) + '</button><button id="message-dialog-dialog-closeBtn" class="aui-button aui-button-link">' + soy.$$escapeHtml('Close') + '</button></div></footer></section>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.messageDlg.soyTemplateName = 'diagramlySoy.macro.dialog.messageDlg';
}


diagramlySoy.macro.dialog.macroSettings = function(opt_data, opt_ignored) {
  return '<section id="macro-settings-dialog" class="aui-dialog2 aui-dialog2-small aui-layer" role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="macro-settings-dialog--heading" aria-describedby="macro-settings-dialog--description" hidden ><!-- Dialog header --><header class="aui-dialog2-header"><h1 class="aui-dialog2-header-main" id="static-dialog--heading">' + soy.$$escapeHtml('draw.io Macro Settings') + '</h1></header><!-- Main dialog content --><div class="aui-dialog2-content" id="static-dialog--description"><fieldset><div style="margin: 12px 0 0 12px;"><label for="drawio-macro-width">' + soy.$$escapeHtml('Width') + ': </label><input id="drawio-macro-width" name="drawio-macro-width" size="5" type="text" value="' + soy.$$escapeHtml(opt_data.settings.width) + '"/>&nbsp &nbsp<label for="drawio-macro-tbstyle">' + soy.$$escapeHtml('Toolbar') + ': </label><select id="drawio-macro-tbstyle" name="drawio-macro-tbstyle"><option value="top" ' + ((opt_data.settings.tbstyle != 'embed' && opt_data.settings.tbstyle != 'hidden') ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml('Top') + '</option><option value="inline" ' + ((opt_data.settings.tbstyle == 'inline') ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml('Embed') + '</option><option value="hidden" ' + ((opt_data.settings.tbstyle == 'hidden') ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml('Hidden') + '</option></select></div><div style="margin: 12px 0 0 12px;"><label for="drawio-macro-border">' + soy.$$escapeHtml('Border') + ' </label><input id="drawio-macro-border" name="drawio-macro-border" type="checkbox" ' + ((opt_data.settings.border == true) ? 'checked ' : '') + '/>&nbsp &nbsp<label for="drawio-macro-lightbox">' + soy.$$escapeHtml('Lightbox') + ' </label><input id="drawio-macro-lightbox" name="drawio-macro-lightbox" type="checkbox" ' + ((opt_data.settings.lbox == true) ? 'checked ' : '') + '/>&nbsp &nbsp<label for="drawio-macro-simpleViewer">' + soy.$$escapeHtml('Simple Viewer') + ' </label><input id="drawio-macro-simpleViewer" name="drawio-macro-simpleViewer" type="checkbox" ' + ((opt_data.settings.simpleViewer == true) ? 'checked ' : '') + '/></div><div style="margin: 12px 0 0 12px;"><label for="drawio-macro-links">' + soy.$$escapeHtml('Links') + ': </label><select id="drawio-macro-links" name="drawio-macro-links"><option value="auto" ' + ((opt_data.settings.links != 'blank' && opt_data.settings.links != 'self') ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml('Automatic') + '</option><option value="blank" ' + ((opt_data.settings.links == 'blank') ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml('Open in New Window') + '</option><option value="self" ' + ((opt_data.settings.links == 'self') ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml('Open in This Window') + '</option></select></div><div style="margin: 12px 0 0 12px;"><label for="diagram-display-name">' + soy.$$escapeHtml('Diagram Title') + ': </label><input id="diagram-display-name" name="diagram-display-name" type="text" size="23" ' + ((opt_data.settings.diagramDisplayName) ? ' value="' + soy.$$escapeHtml(opt_data.settings.diagramDisplayName) + '" ' : '') + '/></div><div style="margin: 12px 0 0 12px;"><button id="drawio-aspect-selection" class="aui-button" >' + soy.$$escapeHtml('Select viewer page and layers') + '</button></div><div style="margin: 12px 0 0 12px; color : red;" id="drawioMacroMessageContainer"></div></fieldset></div><!-- Dialog footer --><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="macro-settings-dialog-saveBtn" class="aui-button aui-button-primary">' + soy.$$escapeHtml('Save') + '</button><button id="macro-settings-dialog-closeBtn" class="aui-button aui-button-link">' + soy.$$escapeHtml('Close') + '</button></div></footer></section>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.macroSettings.soyTemplateName = 'diagramlySoy.macro.dialog.macroSettings';
}


diagramlySoy.macro.dialog.splashDialog = function(opt_data, opt_ignored) {
  var output = '<section id="drawio-splash-dialog" class="aui-dialog2 aui-dialog2-xlarge aui-layer" role="dialog" aria-hidden="true" data-aui-modal="true" data-aui-remove-on-hide="true"><!-- Dialog header --><header class="aui-dialog2-header" style="height : 50px"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('draw.io diagram') + '</h2></header><!-- Main dialog content --><div class="aui-dialog2-content" style="overflow : hidden; display : flex; padding : 0px"><div class="aui-navgroup-inner thin-scrollbar" style="max-height : 100%; width : 200px; overflow-y : auto"><nav class="aui-navgroup aui-navgroup-vertical" style="max-height : 100%"><ul class="aui-nav" style="margin-left : 5px; margin-top : 5px"><div class="aui-nav-heading" style="font-weight : 800; font-size : 12px; line-height : 1.9"><strong>' + soy.$$escapeHtml('draw.io diagram') + '</strong></div><li  data-item-type=\'blank\'><a class=\'docs-nav-link\'>' + soy.$$escapeHtml('Blank') + '</a></li><li  data-item-type=\'search\'><a class=\'docs-nav-link\'>' + soy.$$escapeHtml('Search') + '</a></li><li  data-item-type=\'thisPage\'><a class=\'docs-nav-link\'>' + soy.$$escapeHtml('From This Page') + '</a></li>';
  if (opt_data.customTemplateGroups.length > 0) {
    output += '<div class="aui-nav-heading" style="font-weight : 800; font-size : 12px; line-height : 1.9"><strong>' + soy.$$escapeHtml('Custom Templates') + '</strong></div>';
    var customTemplateGroupList203 = opt_data.customTemplateGroups;
    var customTemplateGroupListLen203 = customTemplateGroupList203.length;
    for (var customTemplateGroupIndex203 = 0; customTemplateGroupIndex203 < customTemplateGroupListLen203; customTemplateGroupIndex203++) {
      var customTemplateGroupData203 = customTemplateGroupList203[customTemplateGroupIndex203];
      output += '<li  data-item-type=\'customTemplate\' data-group-name=\'' + soy.$$escapeHtml(customTemplateGroupData203.name) + '\'><a class=\'docs-nav-link\' >' + soy.$$escapeHtml(customTemplateGroupData203.name) + '</a></li>';
    }
  }
  output += '<div class="aui-nav-heading" style="font-weight : 800; font-size : 12px; line-height : 1.9"><strong>' + soy.$$escapeHtml('draw.io Templates') + '</strong></div>';
  var templateGroupList213 = opt_data.templateGroups;
  var templateGroupListLen213 = templateGroupList213.length;
  for (var templateGroupIndex213 = 0; templateGroupIndex213 < templateGroupListLen213; templateGroupIndex213++) {
    var templateGroupData213 = templateGroupList213[templateGroupIndex213];
    output += '<li  data-item-type=\'template\' data-group-name=\'' + soy.$$escapeHtml(templateGroupData213.name) + '\'><a style="text-transform: capitalize" class=\'docs-nav-link\' >' + soy.$$escapeHtml(templateGroupData213.name) + '</a></li>';
  }
  output += '</ul></nav></div><div id=\'splash-dialog-content\' class="thin-scrollbar" style="overflow-y : auto; width : calc(100% - 200px); padding : 10px; border-left : 1px solid #cccccc"></div></div><footer class="aui-dialog2-footer" style="height : 50px"><div class="aui-dialog2-footer-actions"><input type="checkbox" id="sensitive-diagram-checkbox" class="sensitive-diagram" /> <label for="sensitive-diagram-checkbox" class="sensitive-diagram">' + soy.$$escapeHtml('Mark as sensitive') + '</label> <a href="https://www.diagrams.net/blog/drawio-sensitive-label" style="padding-right: 8px;" class="sensitive-diagram">?</a><button id="link-button" style="display : none;" class="aui-button">' + soy.$$escapeHtml('Link to Diagram') + '</button><button id="create-button" class="aui-button aui-button-primary">' + soy.$$escapeHtml('Create') + '</button><button id="import-button" style="display : none;" class="aui-button aui-button-primary">' + soy.$$escapeHtml('Import') + '</button><button id="close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml('Close') + '</button></div></footer></section>';
  return output;
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.splashDialog.soyTemplateName = 'diagramlySoy.macro.dialog.splashDialog';
}


diagramlySoy.macro.dialog.searchForm = function(opt_data, opt_ignored) {
  return '<form class="aui search-form" action="#"><fieldset class="search-input"><input id="drawio-search-input" style="max-width : 400px; height : 30px; margin-right : 5px; margin-top: -22px;"  type="text" class="select2-container aui" size="50" autocomplete="off"><input type="hidden" id="space-select" style="width: 300px" class="aui" /></fieldset></form><div id="search-results-container" class="thin-scrollbar" style="padding-top : 10px"></div>';
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.searchForm.soyTemplateName = 'diagramlySoy.macro.dialog.searchForm';
}


diagramlySoy.macro.dialog.templateThumbnails = function(opt_data, opt_ignored) {
  var output = '<div><ul class="file-list">';
  var templateList235 = opt_data.templates;
  var templateListLen235 = templateList235.length;
  for (var templateIndex235 = 0; templateIndex235 < templateListLen235; templateIndex235++) {
    var templateData235 = templateList235[templateIndex235];
    output += '<li class="attached-file" data-url="' + soy.$$escapeHtml(templateData235.url) + '" data-libs="' + soy.$$escapeHtml(templateData235.libs) + '"><div class="file-container"><img class="thumbnail" src="' + soy.$$escapeHtml(templateData235.previewUrl) + '" ' + ((opt_data.darkMode) ? 'style="filter: invert(100%);"' : '') + '><i data-action="select" class="abs-icon select">Select</i>' + ((opt_data.zoomEnabled) ? '<i data-action="zoom" class="abs-icon zoom">Zoom</i>' : '') + '</div><span class="caption filename">' + soy.$$escapeHtml(templateData235.name) + '</span></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.templateThumbnails.soyTemplateName = 'diagramlySoy.macro.dialog.templateThumbnails';
}


diagramlySoy.macro.dialog.searchResults2 = function(opt_data, opt_ignored) {
  var output = '<div><ul class="file-list">';
  var diagramList257 = opt_data.diagrams;
  var diagramListLen257 = diagramList257.length;
  for (var diagramIndex257 = 0; diagramIndex257 < diagramListLen257; diagramIndex257++) {
    var diagramData257 = diagramList257[diagramIndex257];
    output += '<li class="attached-file" data-url="' + soy.$$escapeHtml(diagramData257.url) + '" data-name="' + soy.$$escapeHtml(diagramData257.name) + '" data-ceo-id="' + soy.$$escapeHtml(diagramData257.ceoId) + '" data-revision="' + soy.$$escapeHtml(diagramData257.revision) + '" data-mime-type="' + soy.$$escapeHtml(diagramData257.mimeType) + '" title="' + soy.$$escapeHtml('Space') + ' - ' + soy.$$escapeHtml(diagramData257.spaceName) + '<br>' + soy.$$escapeHtml('Updated') + ' - ' + soy.$$escapeHtml(diagramData257.lastModified) + '<br>' + soy.$$escapeHtml('Last Updated By') + ' - ' + soy.$$escapeHtml(diagramData257.lastModifierName) + '<br>' + soy.$$escapeHtml('Version') + ' - ' + soy.$$escapeHtml(diagramData257.revision) + '"><div class="file-container"><img class="thumbnail" src="' + soy.$$escapeHtml(diagramData257.previewUrl) + '" ' + ((opt_data.darkMode) ? 'style="filter: invert(100%);"' : '') + '><i data-action="select" class="abs-icon select">Select</i>' + ((diagramData257.mimeType == 'application/gliffy+json') ? '<i class="abs-icon drawio-gliffy-logo">Zoom</i>' : '<i data-action="zoom" class="abs-icon zoom">Zoom</i>') + '</div><span class="caption filename">' + soy.$$escapeHtml(diagramData257.name) + '</span></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.searchResults2.soyTemplateName = 'diagramlySoy.macro.dialog.searchResults2';
}


diagramlySoy.macro.dialog.massGliffyImportConfirmationDialog = function(opt_data, opt_ignored) {
  var output = '<section id="mass-gliffy-import-confirmation-dialog" class="aui-dialog2 aui-dialog2-medium aui-dialog2-warning aui-layer" role="dialog" tabindex="-1" aria-labelledby="demo-warning-dialog--heading" hidden><header class="aui-dialog2-header"><h1 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Confirm mass import') + '</h1></header><div class="aui-dialog2-content" style="min-height : 50px; max-height : 50px; overflow : hidden">' + ((opt_data.spaces.length == 0) ? '<span class="caption">' + soy.$$escapeHtml('All spaces will be imported') + '</span>' : '<span class="caption">' + soy.$$escapeHtml('Spaces listed below will be imported') + '</span>') + '</div><div class="aui-dialog2-content" style="overflow : auto; max-height : 500px"><ul class="file-list">';
  var spaceList315 = opt_data.spaces;
  var spaceListLen315 = spaceList315.length;
  for (var spaceIndex315 = 0; spaceIndex315 < spaceListLen315; spaceIndex315++) {
    var spaceData315 = spaceList315[spaceIndex315];
    output += '<li><span class="caption">' + soy.$$escapeHtml(spaceData315.key) + ' - ' + soy.$$escapeHtml(spaceData315.name) + '</span></li>';
  }
  output += '</ul></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="mass-import-confirm-dialog-ok" class="aui-button aui-button-primary">' + soy.$$escapeHtml('Confirm') + '</button><button id="mass-import-confirm-dialog-cancel" class="aui-button aui-button-link">' + soy.$$escapeHtml('Cancel') + '</button></div></footer></section>';
  return output;
};
if (goog.DEBUG) {
  diagramlySoy.macro.dialog.massGliffyImportConfirmationDialog.soyTemplateName = 'diagramlySoy.macro.dialog.massGliffyImportConfirmationDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.mxgraph.confluence.plugins.diagramly:drawio-rte', location = 'templates/soy/embedEditor.soy' */
// This file was automatically generated from embedEditor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace diagramlySoy.embedEditor.
 */

if (typeof diagramlySoy == 'undefined') { var diagramlySoy = {}; }
if (typeof diagramlySoy.embedEditor == 'undefined') { diagramlySoy.embedEditor = {}; }


diagramlySoy.embedEditor.editorDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="drawio-embedEditor-dialog" class="aui-layer aui-dialog2 aui-dialog2-xlarge" aria-hidden="true"><!-- Dialog header --><header class="aui-dialog2-header"><!-- The dialog\'s title --><h2 class="aui-dialog2-header-main" data-i18n="embedDrawDiag">Embed draw.io Diagram</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog" data-i18n="close">Close</span></a></header><!-- Main dialog content --><div class="aui-dialog2-content" style="padding: 5px;"> <!-- xlarge size is not enough, so this hack is to increase the height! --><div id="drawio-embedDialogTabs" class="aui-tabs horizontal-tabs" style="height: 520px; display: flex; flex-flow: column;"><ul class="tabs-menu"><li id="drawio-currentTab" class="menu-item" style="display: none"><a href="#drawio-current" data-i18n="curDiagram">Current Diagram</a></li><li class="menu-item active-tab"><a href="#drawio-recent" data-i18n="recentDiags">Recent Diagrams</a></li><li class="menu-item"><a href="#drawio-search" data-i18n="search">Search</a></li>' + ((opt_data.integType == 2 || opt_data.integType == 3 && opt_data.gClientId) ? '<li class="menu-item"><a href="#drawio-gDrive" data-i18n="googleDrive">Google Drive</a></li>' : '') + ((opt_data.integType == 2 || opt_data.integType == 3 && opt_data.oClientId) ? '<li class="menu-item"><a href="#drawio-oneDrive" data-i18n="oneDrive">OneDrive</a></li>' : '') + '<li class="menu-item"><a href="#drawio-extUrl" data-i18n="fromUrl">From URL</a></li><li class="menu-item"><a href="#drawio-csvImp" data-i18n="csvImport">CSV Import</a></li></ul><div class="tabs-pane" id="drawio-current" style="position: relative; flex: 1 1 auto; padding: 0;"></div><div class="tabs-pane active-pane" id="drawio-recent" style="position: relative; flex: 1 1 auto; padding: 0;"><div id="drawio-recentList"></div><div id="drawio-current-preview" style="bottom:4px;left:355px;position:absolute;top:0px;right:4px;"><span style="display:block;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer"  data-i18n="diagPreview">Diagram Preview</span></div></div><div class="tabs-pane" id="drawio-search" style="position: relative; flex: 1 1 auto; padding: 0;"><form class="aui" action="#"><div class="field-group"><label for="drawio-searchStr" data-i18n="search">Search</label> <input class="text large-field" id="drawio-searchStr" value="" data-i18n-placeholder="diagramName" placeholder="Diagram Name"><button class="aui-button aui-button-primary" style="margin-left: 5px;" id="drawio-searchBtn" data-i18n="search">Search</button></div></form><div id="drawio-searchList"></div><div id="drawio-search-preview" style="bottom:4px;left:355px;position:absolute;top:40px;right:4px;"><span style="display:block;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer"  data-i18n="diagPreview">Diagram Preview</span></div></div><div class="tabs-pane" id="drawio-gDrive" style="position: relative; flex: 1 1 auto; padding: 0;"></div><div class="tabs-pane" id="drawio-oneDrive" style="position: relative; flex: 1 1 auto; padding: 0;"></div><div class="tabs-pane" id="drawio-extUrl" style="position: relative; flex: 1 1 auto; padding: 0;"><table style="height:100%;width:100%;min-height: 450px;"><tr><td style="height:100%;width:350px;"><div style="height:100%;width:350px;border-right:1px solid #cccccc;"><form class="aui top-label" action="#"><div class="field-group" style="padding-left:15px;"><label for="drawio-diagramName" data-i18n="diagramName">Diagram Name</label><input class="text large-field" id="drawio-diagramName" value="" data-i18n-placeholder="diagramName" placeholder="Diagram Name"><br><label for="drawio-diagramUrl" data-i18n="diagUrl">Diagram URL</label><input class="text large-field" id="drawio-diagramUrl" value="" data-i18n-placeholder="diagUrl" placeholder="Diagram URL"><button class="aui-button aui-button-primary" style="margin: 5px;float: right;" id="drawio-showDiagBtn" data-i18n="showDiag">Show Diagram</button></div></form></div></td><td style="text-align: center; height:100%;width:calc(100% - 365px)"><div id="drawio-extUrlDiagram" style="text-align: center; height:100%;width:100%;position:relative;"><span style="display:block;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer" data-i18n="diagPreview">Diagram Preview</span></div></td></tr></table></div><div class="tabs-pane" id="drawio-csvImp" style="position: relative; flex: 1 1 auto; padding: 0;"><table style="height:100%;width:100%;min-height: 450px;"><tr><td style="height:100%;width:350px;"><div style="height:100%;width:350px;border-right:1px solid #cccccc;"><form class="aui top-label" action="#"><div class="field-group" style="padding-left:15px;"><label for="drawio-csvDiagName" data-i18n="diagramName">Diagram Name</label><input class="text large-field" id="drawio-csvDiagName" value="" data-i18n-placeholder="diagramName" placeholder="Diagram Name"><br><label for="drawio-csvFileUrl" data-i18n="csvFileUrl">CSV File URL</label><input class="text large-field" id="drawio-csvFileUrl" value="" data-i18n-placeholder="csvFileUrl" placeholder="CSV File URL"><button class="aui-button aui-button-primary" style="margin: 5px;float: right;" id="drawio-impCsvBtn" data-i18n="generate">Generate</button></div></form></div></td><td style="text-align: center; height:100%;width:calc(100% - 365px)"><div id="drawio-csvDiagram" style="text-align: center; height:100%;width:100%;position:relative;"><span style="display:block;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer" data-i18n="diagPreview">Diagram Preview</span></div></td></tr></table></div></div></div><!-- Dialog footer --><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><button id="drawio-dialog-editSrc-button" style="display: none" class="aui-button aui-button-primary" data-i18n="editOwningPg">Edit owning page</button><button id="drawio-dialog-submit-button" class="aui-button aui-button-primary"  data-i18n="insert">Insert</button><button id="drawio-dialog-cancel-button" class="aui-button aui-button-link" data-i18n="cancel">Cancel</button></div><!-- Hint text is rendered on the left of the footer --><div id="drawio-errorMsg" class="aui-dialog2-footer-hint"></div></footer></section>';
};
if (goog.DEBUG) {
  diagramlySoy.embedEditor.editorDialog.soyTemplateName = 'diagramlySoy.embedEditor.editorDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.mxgraph.confluence.plugins.diagramly:drawio-rte', location = 'js/mxEditorEventListener.js' */
window.addEventListener("message",function(a){if(MXGRAPH.editorFrame&&a.source==MXGRAPH.editorFrame[0].contentWindow&&a.origin==window.location.origin){a.stopImmediatePropagation();try{JSON.parse(a.data)}catch(b){return}a=JSON.parse(a.data);"MXGRAPH.postSave"==a["function"]&&MXGRAPH.postSave.apply(this,a.arguments);"MXGRAPH.closeEditor"==a["function"]&&MXGRAPH.closeEditor();"MXGRAPH.insertMacro"==a["function"]&&MXGRAPH.insertMacro.apply(this,a.arguments)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.mxgraph.confluence.plugins.diagramly:drawio-rte', location = 'js/mxInitRTE.js' */
AJS.bind("init.rte",function(c){function a(){b||alert("Loading, please wait...")}null==MXGRAPH.customMacroHandlers&&(MXGRAPH.customMacroHandlers={});var b=!1;AJS.MacroBrowser.setMacroJsOverride("inc-drawio",{opener:a});AJS.MacroBrowser.setMacroJsOverride("drawio",{opener:a});AJS.MacroBrowser.setMacroJsOverride("diagramly",{opener:a});AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("dupe-diagram",a);AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("edit-macro",a);AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("drawio-size-small",
a);AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("drawio-size-medium",a);AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("drawio-size-large",a);AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("drawio-size-original",a);mxscript(ATLAS_RESOURCE_BASE+"/js/atlas-viewer.min.js",function(){mxLoadScripts([ATLAS_RESOURCE_BASE+"/js/mxUrlConverter.js",ATLAS_RESOURCE_BASE+"/js/DiagramlyUtils.js",ATLAS_RESOURCE_BASE+"/js/SplashDialog.js",ATLAS_RESOURCE_BASE+"/js/EmbedUtils.js"],function(){mxLoadScripts([ATLAS_RESOURCE_BASE+
"/js/DrawioMacroButtonHandlers.js",ATLAS_RESOURCE_BASE+"/js/DiagramlyPageEditor.js",ATLAS_RESOURCE_BASE+"/js/EmbedEditor.js",ATLAS_RESOURCE_BASE+"/js/SpaceDropdown.js",ATLAS_RESOURCE_BASE+"/js/AspectDialog.js",ATLAS_RESOURCE_BASE+"/js/DiagramUtils.js",ATLAS_RESOURCE_BASE+"/js/mxImageExport.js",ATLAS_RESOURCE_BASE+"/js/shapes-14-6-5.min.js"],function(){b=!0;for(fn in MXGRAPH.customMacroHandlers)MXGRAPH.customMacroHandlers[fn]();console.log("draw.io scripts loaded")})})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.reconcile-unknown-attachments:property-panel-unknown-image-placeholder', location = 'js/unknown-image-placeholder-property-panel.js' */
define("confluence-editor/unknown-attachment/property-panel",["wrm/context-path","ajs"],function(d,a){a&&a.Rte&&a.Rte.BootstrapManager?a.Rte.BootstrapManager.addOnInitCallback(function(){const c=a.Rte.getEditor();if(c)c.on("Click",function(b){b=b.target;"IMG"===b.nodeName&&b.hasAttribute("src")&&0<=b.getAttribute("src").indexOf(d()+"/plugins/servlet/confluence/placeholder/unknown-attachment")&&c.execCommand("mceConfimage")});else a.log("Could not get Editor from adapter")}):a.log("Could not initialize property panel onclick handler on Confluence.Editor")});
require("confluence-editor/unknown-attachment/property-panel");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:drag-and-drop-for-editor-v4', location = 'js/editor-v4-init.js' */
require(["ajs","jquery","wrm/require"],function(b,d,c){b.Rte.BootstrapManager.addOnInitCallback(function(){c(["wrc!com.atlassian.confluence.plugins.drag-and-drop:editor-drop-handler"]).then(function(){require(["confluence-drag-and-drop/editor-drop-handler"],function(a){a.initialiseOverlay();a.initialise()})})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.profile-picture:profile-picture-editor_resources', location = 'js/profile-picture.js' */
AJS.bind("init.rte",function(){AJS.Confluence.PropertyPanel.Macro.registerButtonHandler("viewProfile",function(a,d){a=AJS.$(d);var c={};a.attr("data-macro-parameters")&&AJS.$.each(a.attr("data-macro-parameters").split("|"),function(b,e){b=e.split("\x3d");c[b[0]]=b[1]});window.open(AJS.Confluence.getBaseUrl()+"/display/~"+c.User).opener=null})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-resources', location = 'templates/view-file-macro-editor.soy' */
// This file was automatically generated from view-file-macro-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.ViewFileMacro.Templates.Editor.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.ViewFileMacro == 'undefined') { Confluence.ViewFileMacro = {}; }
if (typeof Confluence.ViewFileMacro.Templates == 'undefined') { Confluence.ViewFileMacro.Templates = {}; }
if (typeof Confluence.ViewFileMacro.Templates.Editor == 'undefined') { Confluence.ViewFileMacro.Templates.Editor = {}; }


Confluence.ViewFileMacro.Templates.Editor.viewFilePropertyPanelHeader = function(opt_data, opt_ignored) {
  return '<div class="view-file-property-panel-header"><span class="file-name"><span class="aui-icon aui-icon-small ' + soy.$$escapeHtml(opt_data.fileIcon) + '"></span>' + soy.$$escapeHtml(opt_data.fileName) + '</span></div>';
};
if (goog.DEBUG) {
  Confluence.ViewFileMacro.Templates.Editor.viewFilePropertyPanelHeader.soyTemplateName = 'Confluence.ViewFileMacro.Templates.Editor.viewFilePropertyPanelHeader';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-resources', location = '/js/components/view-file-macro-properties-panel.js' */
define("vfm/components/view-file-macro-properties-panel","jquery underscore ajs confluence/legacy confluence/jsUri tinymce vfm/view-file-macro-utils".split(" "),function(h,m,e,r,x,l,n){function y(a,d){var b=m.find(Object.keys(p),function(z){return p[z]===d});if(b)for(var c=0,f=a.length;c<f;c++){var g=a[c],k=g.className.replace(" active","");-1!==k.indexOf("macro-property-panel-"+b)&&(k+=" active");g.className=k}}function A(a){var d=m.reject(a,function(c){return-1<c.className.indexOf("macro-placeholder-property-panel-edit-button")||
-1<c.className.indexOf("macro-placeholder-property-panel-remove-button")});a.splice(0,a.length);for(var b=0;b<d.length;b++)a.push(d[b])}function t(a,d){a=new x(a);""!==a.getQueryParamValue("height")&&a.replaceQueryParam("height",d);return a.toString()}function u(a){a=a.attr("data-macro-parameters");for(var d=[],b="",c=0;c<a.length;c++){var f=a[c];"\\"===f?(b+=f,c+1!==a.length&&(b+=a[++c])):"|"===f?(d.push(b),b=""):b+=f}d.push(b);return d}function v(a,d){a=u(a);return(a=m.find(a,function(b){return 0<=
b.indexOf(d+"\x3d")}))?a.split("\x3d")[1]:null}function q(a,d){if(-1===h(a).attr("class").indexOf("active")){e.Confluence.PropertyPanel.destroy();var b=Object.keys(p),c=h(a).attr("class");for(a=0;a<b.length;a++)if(-1!==c.indexOf(b[a])){var f=p[b[a]];c=h(d);c.attr("height",f);var g=c.attr("src");null!=g&&0<=g.indexOf("/servlet/view-file-macro/placeholder")&&(c.attr("src",t(c.attr("src"),f)),c.attr("data-mce-src",t(c.attr("data-mce-src"),f)));f="height\x3d"+f;g=u(c);var k=v(c,"height");k?(k=m.indexOf(g,
"height\x3d"+k),g[k]=f):g.push(f);c.attr("data-macro-parameters",g.join("|"));l.activeEditor.undoManager.add();h(d).click();c=l.activeEditor.getDoc().createRange();c.setStartBefore(d);c.setEndAfter(d);l.activeEditor.getDoc().getSelection().addRange(c);e.trigger("analyticsEvent",{name:"confluence.view-file.resize."+b[a].substring(b[a].lastIndexOf("-")+1,b[a].length)});break}}}function B(){e.bind("created.property-panel",function(a,d){var b=h(d.anchor);if("view-file"===b.attr("data-macro-name")){a=
r.ViewFileMacro.Templates.Editor.viewFilePropertyPanelHeader;var c=v(b,"name");b=n.getParameterByName(b.attr("src"),"mimeType");b=e.Confluence.FileTypesUtils.getAUIIconFromMime(b);a=h(a({fileName:c,fileIcon:b}));d.panel.find(".aui-property-panel").prepend(a);d.shouldFlip&&d.tip.css({top:d.panel.outerHeight()})}})}var p={"view-file-size-small":"150","view-file-size-medium":"250","view-file-size-large":"400"},w=[{className:"macro-property-panel-view-file-size-small editor-resize resize-small",text:"",
tooltip:"Small thumbnail",iconClass:"aui-icon aui-icon-small aui-iconfont-image-resize",click:q},{className:"macro-property-panel-view-file-size-medium editor-resize resize-medium",text:"",tooltip:"Medium thumbnail",iconClass:"aui-icon aui-icon-small aui-iconfont-image-resize",click:q},{className:"macro-property-panel-view-file-size-large editor-resize resize-large",text:"",tooltip:"Large thumbnail",
iconClass:"aui-icon aui-icon-small aui-iconfont-image-resize",click:q},null,{className:"macro-property-panel-view-file-convert-to-link",text:"Show as link",tooltip:"Show as link",click:function(a,d){e.trigger("analyticsEvent",{name:"confluence.view-file.convert.to-link-trigger"});e.Confluence.PropertyPanel.destroy();(function(b){b=n.getParameterByName(h(b).attr("src"),"attachmentId");
b=e.REST.makeUrl("attachment/"+b+".json");h.ajax({type:"GET",url:b,contentType:"application/json; charset\x3dutf-8",dataType:"json"}).success(function(c){c=r.Link.fromREST(c).insert();l.activeEditor.undoManager.add();l.activeEditor.focus();c.click()})})(d)}}];return{init:function(){e.Confluence.PropertyPanel.Macro.registerInitHandler(function(a,d,b){A(d);a=h(a);b=a.attr("data-mce-src");if(!(b&&-1<b.indexOf("placeholder/unknown-attachment"))){b=0;for(var c=w.length;b<c;b++)d.push(w[b]);(a=a.attr("height"))||
(a="comment"===e.Meta.get("content-type")?n.DEFAULT_HEIGHT_IN_COMMENT:n.DEFAULT_HEIGHT);y(d,a)}},"view-file");B()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-resources', location = '/js/components/view-file-macro-link-properties-panel.js' */
define("vfm/components/view-file-macro-link-properties-panel",["jquery","ajs","tinymce","vfm/view-file-macro-utils"],function(f,b,g,l){function m(c){if(c){var d=f(c);c=d.attr("data-linked-resource-type");d=d.attr("data-linked-resource-content-type");return b.MacroBrowser.getMacroMetadata("view-file")&&"attachment"===c&&!(d&&0===d.indexOf("image"))}return!1}function n(c){var d=b.REST.makeUrl("attachment/"+f(c).attr("data-linked-resource-id")+".json");f.ajax({type:"GET",url:d,contentType:"application/json; charset\x3dutf-8",
dataType:"json"}).success(function(a){var e={name:a.fileName};b.Data.get("content-id")!==a.ownerId&&(e.page=a.parentTitle,e.space=a.space.key,"blogpost"===a.parentContentType&&(a=a.createdDate.date.split("-"),e.date=a[0]+"/"+a[1]+"/"+a[2].substring(0,2)+"/"));e.height="comment"===b.Meta.get("content-type")?l.DEFAULT_HEIGHT_IN_COMMENT:l.DEFAULT_HEIGHT;e={contentId:b.Meta.get("content-id")||"0",macro:{name:"view-file",params:e}};g.confluence.MacroUtils.insertMacro(e,c).done(function(h){f(h).click();
const k=g.activeEditor.getDoc().createRange();k.setStartBefore(h);k.setEndAfter(h);g.activeEditor.getDoc().getSelection().addRange(k)})})}return{init:function(){b.bind("link-property-panel-buttons.created",function(c,d){c=d.buttons;var a=d.link;m(a)&&c.push({className:"link-property-panel-convert-to-thumbnail-button",text:"Show as thumbnail",tooltip:"Show as thumbnail",click:function(){b.Confluence.PropertyPanel.destroy();
n(a);b.trigger("analyticsEvent",{name:"confluence.view-file.convert.to-thumbnail-trigger"})}})})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-resources', location = '/js/components/vfm-editor-poller.js' */
define("vfm/components/vfm-editor-poller","ajs jquery underscore tinymce vfm/view-file-macro-utils vfm/services/conversion-service".split(" "),function(x,m,r,k,a,t){function v(){if(k.activeEditor&&l){var n=m("img[data-macro-name\x3d'view-file'][src*\x3d'thumbnailStatus\x3d"+a.THUMBNAIL_STATUS_IN_PROGRESS+"'][data-thumbnail-status!\x3d'"+a.THUMBNAIL_STATUS_ERROR+"']",k.activeEditor.dom.doc);if(0<n.length){var u=!1;n.each(function(){var d=m(this).attr("src"),c=a.getParameterByName(d,"attachmentId");
d=a.getParameterByName(d,"version");b[c]&&b[c].version===d||(b[c]={version:d},u=!0)});u&&(f=a.THUMBNAIL_POLLING_PERIOD);t.postThumbnailConversionResults(b).then(function(d){k.activeEditor&&l&&(r.each(d,function(c,e){if(b[e]){var p=m("img[data-macro-name\x3d'view-file'][src*\x3d'attachmentId\x3d"+e+"']",k.activeEditor.dom.doc),h=b[e].version;p.attr("data-thumbnail-status",c);c===a.THUMBNAIL_STATUS_CONVERTED?(c=p.attr("src"),h=t.getThumbnailUrl(e,h),h=a.addParamsToUrl(h,{attachmentId:e,mimeType:a.getParameterByName(c,
"mimeType")}),p.attr("src",h),delete b[e]):c===a.THUMBNAIL_STATUS_ERROR&&delete b[e]}}),f=r.isEmpty(b)?a.THUMBNAIL_POLLING_PERIOD:f*w,q())})}else 0===n.length&&(f=a.THUMBNAIL_POLLING_PERIOD,q())}}function q(){l=!0;g&&clearTimeout(g);g=setTimeout(v,f)}var g,l=!1,b={},f=a.THUMBNAIL_POLLING_PERIOD,w=a.THUMBNAIL_POLLING_BACKOFF_RATIO;return{startPolling:q,stopPolling:function(){g&&(clearTimeout(g),g=void 0);l=!1;b={};f=a.THUMBNAIL_POLLING_PERIOD}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-resources', location = '/js/vfm-editor.js' */
require(["ajs","tinymce","vfm/components/view-file-macro-properties-panel","vfm/components/view-file-macro-link-properties-panel","vfm/components/vfm-editor-poller"],function(a,d,e,f,c){a.toInit(function(){a.MacroBrowser.setMacroJsOverride("view-file",{opener:function(b){}});e.init();f.init()});d.PluginManager.add("viewFilePoller",function(){return{init:function(b){a.bind("rte-ready",function(){c.startPolling()});a.bind("rte-destroyed",function(){c.stopPolling()})}}});a.Rte.BootstrapManager.addTinyMcePluginInit(function(b){b.plugins+=
",viewFilePoller"})},void 0,!0);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.widgetconnector:widget-connector-autoconvert-web-resources-v4', location = 'com/atlassian/confluence/extra/widgetconnector/js/autoconvert-widget-links.js' */
define("confluence-widget-connector/autoconvert",["tinymce"],function(c){var d=[/open.spotify.com/,/facebook.com/,/linkedin.com\/embed/,/twitter.com/,/figma.com/,/prezi.com/,/microsoftstream.com/,/google([.a-z]+)\/(maps|calendar|presentation|document)/,/google([.a-z]+)\/spreadsheets(.*)(pubchart|pubhtml)/];return{WidgetAutoConvertFn:function(e,g,a){var b=decodeURI(e.source);d.find(function(f){return b.match(f)})?c.plugins.Autoconvert.convertMacroToDom({name:"widget",params:{url:b}},a,a):a()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.widgetconnector:widget-connector-autoconvert-web-resources-v4', location = 'com/atlassian/confluence/extra/widgetconnector/js/autoconvert-widget-links-editor-v4.js' */
define("confluence-widget-connector/autoconvert-plugin-v4",["tinymce","confluence-editor/loader/tinymce-bootstrap","confluence-widget-connector/autoconvert"],function(b,c,d){b.PluginManager.add("widgetconnector",function(a){a.on("init",function(){a.execCommand("addAutoconverter",!1,d.WidgetAutoConvertFn)})});c.addTinyMcePluginInit(function(a){a.plugins+=",widgetconnector"})});
try{require("confluence-widget-connector/autoconvert-plugin-v4")}catch(b){console.warn("Unable to load widget autoconvert",b)};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.extra.officeconnector:macro-browser-smart-fields', location = 'javascript/office-connector-macro-fields.js' */
(function(d){AJS.MacroBrowser.activateSmartFieldsAttachmentsOnPage("viewdoc",["doc","docx"]);AJS.MacroBrowser.activateSmartFieldsAttachmentsOnPage("viewpdf",["pdf"]);AJS.MacroBrowser.activateSmartFieldsAttachmentsOnPage("viewxls",["xls","xlsx"]);AJS.MacroBrowser.activateSmartFieldsAttachmentsOnPage("viewppt",["ppt","pptx"]);AJS.MacroBrowser.Macros.viewfile={updateSelectedMacro:function(b){var a=b.params[""]||b.params.name;if(a){var c=a.lastIndexOf(".");0<c&&(a=a.substring(c+1))&&("doc"==a&&"docx"==
a&&(b.name="viewdoc"),"pdf"==a&&(b.name="viewpdf"),"ppt"==a&&"pptx"==a&&(b.name="viewppt"),"xls"==a&&"xlsx"==a&&(b.name="viewxls"))}}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:d2155d4d60606a1638c0c866a47f1668', location = 'build/9481.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9481],{81365:function(e,n,c){c.r(n),c.d(n,{decodeUnicode:function(){return t}});const t=e=>unescape(JSON.parse('"'+e+'"'))},82101:function(e,n,c){c.r(n),c.d(n,{encodeMacroParams:function(){return r}});var t=c(74884);const u=[{func:o,map:t.SQL_PERCENT_ENCODE_MAP},{func:o,map:t.SQL_ENCODE_MAP},{func:f,map:t.HTML_ENTITY_ENCODE_MAP},{func:f,map:t.SQL_ENCODE_MAP},{func:f,map:t.SQL_FANCY_ENCODE_MAP}],r=(e,n)=>{const c={...e};return n.forEach((e=>{const n=c[e];n&&"string"==typeof n&&(c[e]=_(n))})),c},_=e=>u.reduce(((e,{func:n,map:c})=>n(c,e)),e);function f(e,n){return Object.entries(e).reduce(((e,[n,c])=>e.replace(new RegExp(n,"g"),c)),n)}function o(e,n){return Object.entries(e).reduce(((e,[,n])=>e.replace(new RegExp(n,"g"),t.SQL_PERCENT_ENCODE+n.slice(1))),n)}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:29cd38676e72d90aba8ce6b6bc9162ae', location = 'build/6803.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6803],{96803:function(e,t,a){a.r(t),a.d(t,{gaMacroBrowserPivotAdded:function(){return c},gaPivotQuickMacroAdded:function(){return v},gaPivotQuickTableSelected:function(){return l},gaPivotSaveChanges:function(){return i},gaPivotSaveChangesEditor:function(){return s},gaPivotToggleControlPanel:function(){return d}});var r=a(89494),n=a(60745);const o={column:{event:"rowLabels"},row:{event:"columnLabels"},aggregation:{event:"calcColumns"},type:{event:"operations",hasProperty:!0},showrawdata:{event:"showSourceData",hasProperty:!0},decimals:{event:"decPlaces",hasProperty:!0},numberaccuracy:{event:"numberRange",hasProperty:!0},vvpattern:{event:"showDataValues",hasProperty:!0},ddSeparator:{event:"delimiter",hasProperty:!0},hideTotal:{event:"hideTotal",hasProperty:!0},hidePane:{event:"hidePanel",hasProperty:!0},decimalseparator:{event:"decSeparator",hasProperty:!0},datepattern:{event:"dateFormat",hasProperty:!0},worklog:{event:"worklog",hasProperty:!0},".sort":{event:"defaultSorting"},separator:{event:"thousandsSeparator",hasProperty:!0},hideLongTitle:{event:"hideLongTitle",hasProperty:!0},plainText:{event:"plainText",hasProperty:!0}},i=(e,t)=>{(0,n.saveChanges)(e,t,o,"panelPivot")},s=(e,t)=>{(0,n.saveChanges)(e,t,o,"browserPivot")},l=e=>{(0,r.ga4SendEvent)("quickPivot_table_selected",{countTables:e})},v=()=>{(0,r.ga4SendEvent)("quickPivot_macroPivot_added")},c=()=>{(0,r.ga4SendEvent)("browserPivot_macroPivot_added")},d=()=>{(0,r.ga4SendEvent)("menuPivot_hidePanel_updated")}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:200c614b83de4d5167536bd93596b8dd', location = 'build/7341.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7341],{4913:function(e,t,n){n.r(t);var r={fileName:"",fileExtension:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e)return r;var t=e.lastIndexOf(".");return t<0?{fileName:e,fileExtension:""}:{fileName:e.substring(0,t),fileExtension:e.substring(t)}}},28234:function(e,t,n){n.r(t),n.d(t,{deleteAttachmentVersionsBatch:function(){return a},isSpreadsheetBodyMacroDisabled:function(){return o}});n(6558);var r=n(41028),i=n(62896);function s(e,t,n,r,i,s,a){try{var o=e[s](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,i)}var a=function(){var e,t=(e=function*(e){var{attachmentId:t}=e;return(0,r.makeDelete)({contentType:"application/x-www-form-urlencoded; charset=utf-8",cache:!1,url:"/rest/table-filter/1.0/service/attachment/".concat(t,"/version/old")})},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,c,"next",e)}function c(e){s(a,r,i,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),o=()=>new Promise(((e,t)=>(0,i.makeRequest)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"GET",url:"/rest/table-filter/1.0/service/macro/spreadsheet-body/status",dataType:"json",success:e,error:t}))).then((e=>{var{enabled:t}=e;return!t})).catch((()=>!0))},50784:function(e,t,n){n.r(t);n(63544);t.default=class{constructor(){this._events=[]}on(e,t){if(!e||!t)return this;var n=this.getCallbacks(e);return n.push(t),this._events[e]=n,this}once(e,t){return t.oneTime=!0,this.on(e,t),this}getCallbacks(e){var t;return(null===(t=this._events[e])||void 0===t?void 0:t.slice())||[]}off(e,t){return e&&t?(this._events[e]=this.getCallbacks(e).filter((e=>t!==e)),this):this}emit(e,t){this.getCallbacks(e).map((e=>(e.call(this,t),e))).filter((e=>e.oneTime)).forEach((t=>{this.off(e,t)}))}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:c94718164c7a5a850fe1a5f85c00cc44', location = 'build/8235.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8235],{22422:function(e,a,t){t.r(a),t.d(a,{hasMacroInEditorFormat:function(){return n}});const n=e=>e.includes(' data-macro-name="')||e.includes(' data-macro-parameters="')},26838:function(e,a,t){t.r(a),t.d(a,{fetchMacroPreviewHTML:function(){return i}});var n=t(22422),r=t(65588),o=t(23589);const i=({params:e={},name:a="",bodyHtml:t=""})=>new Promise(((i,c)=>{(0,n.hasMacroInEditorFormat)(t)&&(t=(0,r.syncConvertEditorToStorage)(t));const d={contentId:o.default.getContentId(),macroName:a,params:e,body:t,successCallback:i,errorCallback:c};AJS.MacroBrowser?.Rest?.fetchMacroPreviewData(d)}))},59446:function(e,a,t){t.r(a);var n=t(23589),r=t(18984),o=t(68631),i=t(71121),c=t(93622),d=t(68868),l=t(50024),u=t(16416),s=t(51011),p=t(47057),m={getContainer:function(e){var a=$(document);return e&&(a=a.find(e)),a},initDateFormatInput:function(e,a,t,n){m.initDateFormatInputInContainer(e,a,this.getContainer(n),t)},initCheckBoxesParams:function(e){m.initCheckBoxInContainer(e,$(document),"#macro-param-hideColumns","hideColumns"),m.initCheckBoxInContainer(e,$(document),"#macro-param-updateSelectOptions","updateSelectOptions")},initCheckBoxesNewTFParams:function(e,a){m.initCheckBoxInContainer(e,this.getContainer(a),"#macro-param-updateSelectOptions","updateSelectOptions")},initDecimalPlacesInput:function(e){m.initDecimalPlacesInputInContainer(e,$(document))},initDateFormatInputInContainer:function(e,a,t,o){var c=e.datepattern||e.dateFormat||r.default.getStoredValue("tf-dateformat")||(0,i.default)(p.DEFAULT_DATE_FORMAT),d=t.find("#macro-param-datepattern").val(c);n.default.dateFormatAutocomplete(d,a,o)},initCheckBoxInContainer:function(e,a,t,n){var o=a.find(t);if(0!==o.length){var i=function(e,a){var t;if(e.isNew)return r.default.getStoredValue(h(a));var n=null!==(t=e[a])&&void 0!==t?t:e[a.toLowerCase()],o=n||!1;if("boolean"!=typeof o)return"true"===o||!1;return o}(e,n);"AUI-TOGGLE"===o.prop("tagName")?o.attr("checked",i?i+"":null):(o.val(i+""),o.prop("checked",i)),f(o,h(n),"AUI-TOGGLE"===o.prop("tagName")?e=>!!e.attr("checked"):e=>e.prop("checked"))}},initDecimalPlacesInputInContainer:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#macro-param-decimals",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.PIVOT,i=this.scopeIdMapping(t,n),c=a.find(t),{key:d}=this.getByValue(i);if(c){c.change((function(){var e=$(this).val();e>7?$(this).val(7):e<0&&$(this).val(0)}));var l,u=e.decimals;l=!0===e.isNew?r.default.getStoredValue(d)||"":u||"",c.val(l),f(c,d,(e=>e.val()))}},storedValuesMapping:[{selectId:"#macro-param-decimalseparator",key:"tf-decimalSeparator",additionalMapper:{[o.JOINER]:e=>(0,c.default)(e)}},{selectId:"#macro-param-thousandSeparator",key:"tf-separator",additionalMapper:{[o.TABLE_FILTER]:e=>(0,c.default)(e),[o.JOINER]:e=>(0,c.default)(e)}},{selectId:"#macro-param-hidePane-group",key:"tf-hidePane"},{selectId:"#macro-param-hidePane",key:"tf-hidePane"},{selectId:"#macro-param-decimals",key:"tf-decimals"}],scopeIdMapping:(e,a)=>{switch(a){case o.PIVOT:return"#macro-param-separator"===e?"#macro-param-thousandSeparator":e;case o.TABLE_FILTER:case o.CHART:return"#macro-param-separator"===e?"#macro-param-decimalseparator":e;default:return e}},initSelects:function(e,a,t,n,o){var i=this.scopeIdMapping(e,n),c=this.getByValue(i);if(c){var{key:d,additionalMapper:l}=c,u=r.default.getStoredValue(d),s=e=>e.val();l&&l[n]&&(u=l[n](u),s=e=>l[n](e.val()));return{option:o?u||t:a||t,onChangeAppender:e=>f(e,d,s)}}return{option:a||t,onChangeAppender:()=>{}}},displayModeMapper:{"macro-param-filter-panel":o.HIDE_PANE.PANEL,"macro-param-filter-header":o.HIDE_PANE.HEADER,"macro-param-filter-hidden":o.HIDE_PANE.HIDDEN},initFiltersDisplayMode:function(e,a,t){var n=this,o="#macro-param-hidePane-group",i=$(o),c=e||a,{key:d}=this.getByValue(o);t&&(c=r.default.getStoredValue(d)||a);var l=Object.keys(this.displayModeMapper).find((e=>this.displayModeMapper[e]===c));i.children().removeClass("aui-button-pane-primary"),i.children("#".concat(l)).addClass("aui-button-pane-primary"),$(i.children()).on("click",(function(e){e.preventDefault();var a=n.displayModeMapper[this.id];a&&r.default.storeValue(d,a)}))},bindPreview:function(e,a){var t=null;new MutationObserver((function(n){n.some((function(n){if(n.addedNodes.length){var r=$(n.addedNodes);!(0,s.default)(r)&&((0,l.default)(r)||(0,d.default)(r)||(0,u.default)(r,n.target))&&(clearTimeout(t),t=setTimeout((function(){t=null,a(e)}),100))}}))})).observe(e[0],{childList:!0,subtree:!0})},getByValue:function(e){return this.storedValuesMapping.find((a=>{var{selectId:t}=a;return t===e}))}};function f(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e.val(),n=t(e);e.change((function(){var o=t(e);n!==o&&(n=o,r.default.storeValue(a,t(e)))}))}function h(e){return"tf-"+e}a.default=m},65588:function(e,a,t){t.r(a),t.d(a,{syncConvertEditorToStorage:function(){return r}});var n=t(62896);function r(e){return(0,n.makeRequest)({type:"POST",async:!1,url:"/rest/api/contentbody/convert/storage",contentType:"application/json",dataType:"json",data:JSON.stringify({value:e,representation:"editor"}),success:a=>e=a.value}),e}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7a136b2334e85a63e01084b15367c66f', location = 'build/728.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[728],{1654:function(e,t,r){"use strict";r.r(t);var o=r(14763);t.default=e=>e.replace(o.quoteRegExp,"'").replace(o.slashRegExp,"\\").replace(o.dblQuoteVarRegExp,'"').replace(o.sqlVarQuoteRegExp,"'").replace(o.graveAccentRegExp,"`")},9053:function(e){if(void 0===(t=window.TableJoinerTdTemplate=window.TableJoinerTdTemplate||{}))var t={};t.tableTd=function(e,t){return'<td class="confluenceTd '+soy.$$escapeHtml(e.cell.type)+'">'+soy.$$escapeHtml(e.cell.html)+"</td>"},{}.DEBUG&&(t.tableTd.soyTemplateName="TableJoinerTdTemplate.tableTd"),e.exports=t},27218:function(e){if(void 0===(t=window.TableJoinerTemplate=window.TableJoinerTemplate||{}))var t={};t.view=function(e,t){return'<div class="table-joiner" id="table-joiner-'+soy.$$escapeHtml(e.macroId)+'" data-id="'+soy.$$escapeHtml(e.macroId)+'" data-pageid="'+soy.$$escapeHtml(e.pageId)+'" data-sessionid="'+soy.$$escapeHtml(e.sessionId)+'" data-tj-not-ready="true">'+(e.isEmail?"":(e.exportCSV||e.exportWord||e.exportPDF||e.exportPrint?'<div class="tj-exports">'+(e.exportCSV?'<button class="aui-button export-csv conf-macro-render">'+soy.$$escapeHtml("Export to CSV")+"</button>":"")+(e.exportPDF?'<button class="aui-button export-pdf conf-macro-render">'+soy.$$escapeHtml("Export to PDF")+"</button>":"")+(e.exportWord?'<button class="aui-button export-word conf-macro-render">'+soy.$$escapeHtml("Export to Word")+"</button>":"")+(e.exportPrint?'<button class="aui-button export-print conf-macro-render">'+soy.$$escapeHtml("Print")+"</button>":"")+"</div>":"")+'<div class="wrapper conf-macro-render"><span class="loading"></span><div class="table-wrap"></div></div>')+'<div class="tj-source '+("false"==e.showSource?"tj-hidden":"all"==e.showSource?"tj-hidden hidden-all":"")+'">'+soy.$$filterNoAutoescape(e.body)+"</div></div>"},{}.DEBUG&&(t.view.soyTemplateName="TableJoinerTemplate.view"),t.table=function(e,t){for(var r='<table class="confluenceTable tfac-tj"><thead><tr>',o=e.cols,n=o.length,i=0;i<n;i++){var a=o[i];r+=soy.$$filterNoAutoescape(a.html)}r+="</tr></thead><tbody>";for(var s=e.rows,u=s.length,c=0;c<u;c++){r+="<tr>";for(var l=s[c],g=l.length,f=0;f<g;f++){var d=l[f];r+=d?soy.$$filterNoAutoescape(d.html):'<td class="confluenceTd"></td>'}r+="</tr>"}return r+="</tbody></table>"},{}.DEBUG&&(t.table.soyTemplateName="TableJoinerTemplate.table"),t.tableTh=function(e,t){return'<th class="confluenceTh">'+soy.$$escapeHtml(e.value)+"</th>"},{}.DEBUG&&(t.tableTh.soyTemplateName="TableJoinerTemplate.tableTh"),t.empty=function(e,t){return'<div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("Oops, it seems that you need to place a table or a macro generating a table within the Table Transformer macro.")+"</p></div>"},{}.DEBUG&&(t.empty.soyTemplateName="TableJoinerTemplate.empty"),t.tutorial=function(e,t){return'<div id="tt-preview-tutorial" class="preview-tutorial"><h2>'+soy.$$escapeHtml("Welcome to Table Transformer!")+"</h2><h3>"+soy.$$escapeHtml("To start working with tables:")+'</h3><ol type="1"><li>'+soy.$$filterNoAutoescape("Click \u003cdiv class=\u0022tutorial-img img-insert-btn\u0022\u003e\u003c/div\u003e to add the macro to the page")+"</li><li>"+soy.$$escapeHtml("Place one or multiple tables (including macros outputting tables) within the macro body")+"</li><li>"+soy.$$escapeHtml("Edit the macro in the page view or edit mode")+'</li></ol><div class="tt-tutorial-img tutorial-img"></div></div>'},{}.DEBUG&&(t.tutorial.soyTemplateName="TableJoinerTemplate.tutorial"),t.info=function(e,t){return'<div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml(e.msg)+"</p></div>"},{}.DEBUG&&(t.info.soyTemplateName="TableJoinerTemplate.info"),t.noResult=function(e,r){return""+t.info({msg:"The query returned no rows."})},{}.DEBUG&&(t.noResult.soyTemplateName="TableJoinerTemplate.noResult"),t.error=function(e,t){return'<div class="aui-message error aui-message-error"><p>'+soy.$$escapeHtml(e.error)+"</p></div>"},{}.DEBUG&&(t.error.soyTemplateName="TableJoinerTemplate.error"),e.exports=t},35736:function(e,t,r){"use strict";r.r(t),r.d(t,{executeAlasql:function(){return b},prepareAlaSql:function(){return E}});var o=r(35917);const n="executeAlasql",i="prepareAlaSql",a=e=>{if("object"!=typeof e)return e;const t=[];return e.forEach((e=>{const r={};Object.entries(e).forEach((([e,t])=>{r[e]={view:t?.getView?(0,o.getView)(t):void 0,value:t?.valueOf()??t}})),t.push(r)})),t},s=e=>{if("object"!=typeof e)return e;const t=[];return e.forEach((e=>{const r={};Object.entries(e).forEach((([e,t])=>{r[e]=t.view?(0,o.default)(t.value,t.view):t.value})),t.push(r)})),t};let u;var c=r(665);const l=[],g=[],f=[n,i],d=(0,c.generateSessionToken)();let p,h;window.addEventListener("message",(function({data:e}){if(f.includes(e.op)){const{resolve:t,reject:r}=g.shift()||{};if(e.error)return r?.(e.error);if(e.sessionToken!==d)return r?.(new Error("Session token mismatch."));let{result:n}=e;n&&((0,o.resetViewStorage)(),n=s(n)),t?.(n)}}));const m=()=>{if(h)for(;l.length;){const{op:e,data:t,resolve:r,reject:o}=l.shift();g.push({resolve:r,reject:o}),h.postMessage({op:e,data:t},"*")}else y().then((()=>{m()}))},y=()=>(p??=(u??=new Promise((e=>{const t=document.createElement("iframe");Object.assign(t.style,{visibility:"hidden",width:0,height:0,position:"fixed"}),t.sandbox.add("allow-scripts"),t.onload=()=>{e(t.contentWindow)},(e=>{e.srcdoc='<html><head><script>/*! For license information please see alaSqlScripts.iframe.iframe.js.LICENSE.txt */\n(function(){var __webpack_modules__={46:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2454),a=r(3107);o({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return n(a,this,i(e))}})},51:function(e,t,r){"use strict";var o=r(2484),n=r(2675),i=r(2748),a=Object,s=o("".split);e.exports=n((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?s(e,""):a(e)}:a},133:function(e,t,r){"use strict";var o=r(3588),n=Function.prototype,i=n.apply,a=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?a.bind(i):function(){return a.apply(i,arguments)})},204:function(e,t,r){"use strict";var o=r(8810),n=r(9004),i=r(2404),a=r(1990),s=r(6417),u=a.Set,c=a.add;o({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=i(this),r=n(e,arguments.length>1?arguments[1]:void 0),o=new u;return s(t,(function(e){r(e,e,t)&&c(o,e)})),o}})},282:function(e,t,r){"use strict";var o=r(2404),n=r(7358),i=r(6417),a=r(4665);e.exports=function(e){var t=o(this),r=a(e);return!(n(t)>r.size)&&!1!==i(t,(function(e){if(!r.includes(e))return!1}),!0)}},321:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},326:function(e,t,r){"use strict";var o=r(8810),n=r(2484),i=r(1948),a=n([].reverse),s=[1,2];o({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a(this)}})},327:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2454),a=r(282);o({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return n(a,this,i(e))}})},341:function(e,t,r){"use strict";var o=r(5034),n=r(9976),i=r(7032).CONSTRUCTOR;e.exports=i||!n((function(e){o.all(e).then(void 0,(function(){}))}))},381:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},383:function(e,t,r){"use strict";var o=r(8810),n=r(6007),i=r(7032).CONSTRUCTOR,a=r(5034),s=r(3163),u=r(321),c=r(5236),l=a&&a.prototype;if(o({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!n&&u(a)){var g=s("Promise").prototype.catch;l.catch!==g&&c(l,"catch",g,{unsafe:!0})}},461:function(e,t,r){"use strict";var o=r(3163),n=r(6038),i=r(4175),a=r(2128),s=i("species");e.exports=function(e){var t=o(e);a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},464:function(e){"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},466:function(e,t,r){"use strict";var o=r(1990),n=r(6417),i=o.Set,a=o.add;e.exports=function(e){var t=new i;return n(e,(function(e){a(t,e)})),t}},552:function(e,t,r){"use strict";var o=r(3291);e.exports=/web0s(?!.*chrome)/i.test(o)},573:function(e,t,r){"use strict";var o=r(3625),n=r(4102),i=r(3401),a=r(9538),s=r(5514),u=r(4175),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!n(e)||i(e))return e;var r,u=a(e,l);if(u){if(void 0===t&&(t="default"),r=o(u,e,t),!n(r)||i(r))return r;throw new c("Can\'t convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},659:function(e,t,r){"use strict";var o=r(4102),n=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(n(e)+" is not an object")}},671:function(e,t,r){"use strict";var o=r(2128),n=r(6005),i=r(5936);e.exports=o?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},706:function(e,t,r){"use strict";var o=r(2128),n=r(2675);e.exports=o&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},779:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},790:function(e,t,r){"use strict";var o=r(4690).PROPER,n=r(2675),i=r(4912);e.exports=function(e){return n((function(){return!!i[e]()||""!==""[e]()||o&&i[e].name!==e}))}},861:function(e,t,r){"use strict";var o=r(8810),n=r(2484),i=r(6526),a=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=n([].join);o({target:"String",stat:!0,arity:1,forced:!!u&&1!==u.length},{fromCodePoint:function(e){for(var t,r=[],o=arguments.length,n=0;o>n;){if(t=+arguments[n++],i(t,1114111)!==t)throw new a(t+" is not a valid code point");r[n]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return c(r,"")}})},863:function(e,t,r){"use strict";var o,n,i=r(3625),a=r(2484),s=r(7267),u=r(8303),c=r(2537),l=r(6445),g=r(3844),d=r(6369).get,f=r(991),h=r(5722),p=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,b=a("".charAt),E=a("".indexOf),_=a("".replace),S=a("".slice),v=(n=/b*/g,i(m,o=/a/,"a"),i(m,n,"a"),0!==o.lastIndex||0!==n.lastIndex),T=c.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(v||A||T||f||h)&&(y=function(e){var t,r,o,n,a,c,l,f=this,h=d(f),N=s(e),C=h.raw;if(C)return C.lastIndex=f.lastIndex,t=i(y,C,N),f.lastIndex=C.lastIndex,t;var D=h.groups,w=T&&f.sticky,R=i(u,f),x=f.source,O=0,I=N;if(w&&(R=_(R,"y",""),-1===E(R,"g")&&(R+="g"),I=S(N,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\\n"!==b(N,f.lastIndex-1))&&(x="(?: "+x+")",I=" "+I,O++),r=new RegExp("^(?:"+x+")",R)),A&&(r=new RegExp("^"+x+"$(?!\\\\s)",R)),v&&(o=f.lastIndex),n=i(m,w?r:f,I),w?n?(n.input=S(n.input,O),n[0]=S(n[0],O),n.index=f.lastIndex,f.lastIndex+=n[0].length):f.lastIndex=0:v&&n&&(f.lastIndex=f.global?n.index+n[0].length:o),A&&n&&n.length>1&&i(p,n[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(n[a]=void 0)})),n&&D)for(n.groups=c=g(null),a=0;a<D.length;a++)c[(l=D[a])[0]]=n[l[1]];return n}),e.exports=y},878:function(e,t,r){"use strict";var o=r(1417),n=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw new i("Can\'t set "+n(e)+" as a prototype")}},991:function(e,t,r){"use strict";var o=r(2675),n=r(8052).RegExp;e.exports=o((function(){var e=n(".","s");return!(e.dotAll&&e.test("\\n")&&"s"===e.flags)}))},1014:function(e,t,r){"use strict";var o=r(8810),n=r(1955).charAt,i=r(4834),a=r(7391),s=r(7267);o({target:"String",proto:!0,forced:!0},{at:function(e){var t=s(i(this)),r=t.length,o=a(e),u=o>=0?o:r+o;return u<0||u>=r?void 0:n(t,u)}})},1031:function(e,t,r){"use strict";var o=r(4334),n=TypeError,i=function(e){var t,r;this.promise=new e((function(e,o){if(void 0!==t||void 0!==r)throw new n("Bad Promise constructor");t=e,r=o})),this.resolve=o(t),this.reject=o(r)};e.exports.f=function(e){return new i(e)}},1035:function(e,t,r){"use strict";var o=r(8810),n=r(2404),i=r(1990).remove;o({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=n(this),r=!0,o=0,a=arguments.length;o<a;o++)e=i(t,arguments[o]),r=r&&e;return!!r}})},1072:function(e,t,r){"use strict";var o=r(9004),n=r(3625),i=r(659),a=r(8379),s=r(3709),u=r(8770),c=r(7837),l=r(6221),g=r(4951),d=r(1151),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},p=h.prototype;e.exports=function(e,t,r){var m,y,b,E,_,S,v,T=r&&r.that,A=!(!r||!r.AS_ENTRIES),N=!(!r||!r.IS_RECORD),C=!(!r||!r.IS_ITERATOR),D=!(!r||!r.INTERRUPTED),w=o(t,T),R=function(e){return m&&d(m,"normal",e),new h(!0,e)},x=function(e){return A?(i(e),D?w(e[0],e[1],R):w(e[0],e[1])):D?w(e,R):w(e)};if(N)m=e.iterator;else if(C)m=e;else{if(!(y=g(e)))throw new f(a(e)+" is not iterable");if(s(y)){for(b=0,E=u(e);E>b;b++)if((_=x(e[b]))&&c(p,_))return _;return new h(!1)}m=l(e,y)}for(S=N?e.next:m.next;!(v=n(S,m)).done;){try{_=x(v.value)}catch(e){d(m,"throw",e)}if("object"==typeof _&&_&&c(p,_))return _}return new h(!1)}},1151:function(e,t,r){"use strict";var o=r(3625),n=r(659),i=r(9538);e.exports=function(e,t,r){var a,s;n(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw r;return r}a=o(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return n(a),r}},1248:function(e,t){"use strict";const r={};function o(e,t){"string"!=typeof t&&(t=o.defaultChars);const n=function(e){let t=r[e];if(t)return t;t=r[e]=[];for(let e=0;e<128;e++){const r=String.fromCharCode(e);t.push(r)}for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);t[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,(function(e){let t="";for(let r=0,o=e.length;r<o;r+=3){const i=parseInt(e.slice(r+1,r+3),16);if(i<128)t+=n[i];else{if(192==(224&i)&&r+3<o){const o=parseInt(e.slice(r+4,r+6),16);if(128==(192&o)){const e=i<<6&1984|63&o;t+=e<128?"":String.fromCharCode(e),r+=3;continue}}if(224==(240&i)&&r+6<o){const o=parseInt(e.slice(r+4,r+6),16),n=parseInt(e.slice(r+7,r+9),16);if(128==(192&o)&&128==(192&n)){const e=i<<12&61440|o<<6&4032|63&n;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),r+=6;continue}}if(240==(248&i)&&r+9<o){const o=parseInt(e.slice(r+4,r+6),16),n=parseInt(e.slice(r+7,r+9),16),a=parseInt(e.slice(r+10,r+12),16);if(128==(192&o)&&128==(192&n)&&128==(192&a)){let e=i<<18&1835008|o<<12&258048|n<<6&4032|63&a;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),r+=9;continue}}t+=""}}return t}))}o.defaultChars=";/?:@&=+$,#",o.componentChars="";const n={};function i(e,t,r){"string"!=typeof t&&(r=t,t=i.defaultChars),void 0===r&&(r=!0);const o=function(e){let t=n[e];if(t)return t;t=n[e]=[];for(let e=0;e<128;e++){const r=String.fromCharCode(e);/^[0-9a-z]$/i.test(r)?t.push(r):t.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}(t);let a="";for(let t=0,n=e.length;t<n;t++){const i=e.charCodeAt(t);if(r&&37===i&&t+2<n&&/^[0-9a-f]{2}$/i.test(e.slice(t+1,t+3)))a+=e.slice(t,t+3),t+=2;else if(i<128)a+=o[i];else if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&t+1<n){const r=e.charCodeAt(t+1);if(r>=56320&&r<=57343){a+=encodeURIComponent(e[t]+e[t+1]),t++;continue}}a+="%EF%BF%BD"}else a+=encodeURIComponent(e[t])}return a}function a(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}i.defaultChars=";/?:@&=+$,-_.!~*\'()#",i.componentChars="-_.!~*\'()";const s=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,c=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=["{","}","|","\\\\","^","`"].concat(["<",">",\'"\',"`"," ","\\r","\\n","\\t"]),g=["\'"].concat(l),d=["%","/","?",";","#"].concat(g),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};a.prototype.parse=function(e,t){let r,o,n,i=e;if(i=i.trim(),!t&&1===e.split("#").length){const e=c.exec(i);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let a=s.exec(i);if(a&&(a=a[0],r=a.toLowerCase(),this.protocol=a,i=i.substr(a.length)),(t||a||i.match(/^\\/\\/[^@\\/]+@[^@\\/]+/))&&(n="//"===i.substr(0,2),!n||a&&m[a]||(i=i.substr(2),this.slashes=!0)),!m[a]&&(n||a&&!y[a])){let e,t,r=-1;for(let e=0;e<f.length;e++)o=i.indexOf(f[e]),-1!==o&&(-1===r||o<r)&&(r=o);t=-1===r?i.lastIndexOf("@"):i.lastIndexOf("@",r),-1!==t&&(e=i.slice(0,t),i=i.slice(t+1),this.auth=e),r=-1;for(let e=0;e<d.length;e++)o=i.indexOf(d[e]),-1!==o&&(-1===r||o<r)&&(r=o);-1===r&&(r=i.length),":"===i[r-1]&&r--;const n=i.slice(0,r);i=i.slice(r),this.parseHost(n),this.hostname=this.hostname||"";const a="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!a){const e=this.hostname.split(/\\./);for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r&&!r.match(h)){let o="";for(let e=0,t=r.length;e<t;e++)r.charCodeAt(e)>127?o+="x":o+=r[e];if(!o.match(h)){const o=e.slice(0,t),n=e.slice(t+1),a=r.match(p);a&&(o.push(a[1]),n.unshift(a[2])),n.length&&(i=n.join(".")+i),this.hostname=o.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),a&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=i.indexOf("#");-1!==u&&(this.hash=i.substr(u),i=i.slice(0,u));const l=i.indexOf("?");return-1!==l&&(this.search=i.substr(l),i=i.slice(0,l)),i&&(this.pathname=i),y[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this},a.prototype.parseHost=function(e){let t=u.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.decode=o,t.encode=i,t.format=function(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t},t.parse=function(e,t){if(e&&e instanceof a)return e;const r=new a;return r.parse(e,t),r}},1261:function(e,t,r){"use strict";var o=r(573),n=r(3401);e.exports=function(e){var t=o(e,"string");return n(t)?t:t+""}},1360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var o,n,i=r(5972),a=r(1388),s=r(7665);function u(e,t){if(void 0===t&&(t=o.XML),("number"==typeof t?t:t.level)===o.HTML){var r="object"==typeof t?t.mode:void 0;return(0,i.decodeHTML)(e,r)}return(0,i.decodeXML)(e)}!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(o=t.EntityLevel||(t.EntityLevel={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(n=t.EncodingMode||(t.EncodingMode={})),t.decode=u,t.decodeStrict=function(e,t){var r;void 0===t&&(t=o.XML);var n="number"==typeof t?{level:t}:t;return null!==(r=n.mode)&&void 0!==r||(n.mode=i.DecodingMode.Strict),u(e,n)},t.encode=function(e,t){void 0===t&&(t=o.XML);var r="number"==typeof t?{level:t}:t;return r.mode===n.UTF8?(0,s.escapeUTF8)(e):r.mode===n.Attribute?(0,s.escapeAttribute)(e):r.mode===n.Text?(0,s.escapeText)(e):r.level===o.HTML?r.mode===n.ASCII?(0,a.encodeNonAsciiHTML)(e):(0,a.encodeHTML)(e):(0,s.encodeXML)(e)};var c=r(7665);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var l=r(1388);Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var g=r(5972);Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return g.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return g.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return g.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return g.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return g.decodeXML}})},1388:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeNonAsciiHTML=t.encodeHTML=void 0;var n=o(r(2758)),i=r(7665),a=/[\\t\\n!-,./:-@[-`\\f{-}$\\x80-\\uFFFF]/g;function s(e,t){for(var r,o="",a=0;null!==(r=e.exec(t));){var s=r.index;o+=t.substring(a,s);var u=t.charCodeAt(s),c=n.default.get(u);if("object"==typeof c){if(s+1<t.length){var l=t.charCodeAt(s+1),g="number"==typeof c.n?c.n===l?c.o:void 0:c.n.get(l);if(void 0!==g){o+=g,a=e.lastIndex+=1;continue}}c=c.v}if(void 0!==c)o+=c,a=s+1;else{var d=(0,i.getCodePoint)(t,s);o+="&#x".concat(d.toString(16),";"),a=e.lastIndex+=Number(d!==u)}}return o+t.substr(a)}t.encodeHTML=function(e){return s(a,e)},t.encodeNonAsciiHTML=function(e){return s(i.xmlReplacer,e)}},1417:function(e,t,r){"use strict";var o=r(4102);e.exports=function(e){return o(e)||null===e}},1430:function(e,t,r){var o=r(8397),n=r(6482),i=o.soy;void 0===n.soy&&(n.soy=i),e.exports=o},1441:function(e,t,r){"use strict";var o=r(2484),n=r(2675),i=r(321),a=r(5719),s=r(3163),u=r(2718),c=function(){},l=s("Reflect","construct"),g=/^\\s*(?:class|function)\\b/,d=o(g.exec),f=!g.test(c),h=function(e){if(!i(e))return!1;try{return l(c,[],e),!0}catch(e){return!1}},p=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(g,u(e))}catch(e){return!0}};p.sham=!0,e.exports=!l||n((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?p:h},1463:function(e,t,r){"use strict";var o=r(2128),n=r(2153),i=r(8649),a=r(8770),s=r(6038);o&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=i(this),t=a(e);return 0===t?0:t-1}}),n("lastIndex"))},1650:function(e,t,r){"use strict";var o=r(2484),n=r(8649),i=Math.floor,a=o("".charAt),s=o("".replace),u=o("".slice),c=/\\$([$&\'`]|\\d{1,2}|<[^>]*>)/g,l=/\\$([$&\'`]|\\d{1,2})/g;e.exports=function(e,t,r,o,g,d){var f=r+e.length,h=o.length,p=l;return void 0!==g&&(g=n(g),p=c),s(d,p,(function(n,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"\'":return u(t,f);case"<":c=g[u(s,1,-1)];break;default:var l=+s;if(0===l)return n;if(l>h){var d=i(l/10);return 0===d?n:d<=h?void 0===o[d-1]?a(s,1):o[d-1]+a(s,1):n}c=o[l-1]}return void 0===c?"":c}))}},1661:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},1704:function(e,t,r){"use strict";var o=r(4461),n=r(9467),i=r(3071),a=r(6005);e.exports=function(e,t,r){for(var s=n(t),u=a.f,c=i.f,l=0;l<s.length;l++){var g=s[l];o(e,g)||r&&o(r,g)||u(e,g,c(t,g))}}},1715:function(e,t,r){"use strict";var o=r(8438),n=r(4102),i=r(4834),a=r(878);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=o(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,o){return i(r),a(o),n(r)?(t?e(r,o):r.__proto__=o,r):r}}():void 0)},1904:function(e,t,r){"use strict";var o=r(2748),n=r(2484);e.exports=function(e){if("Function"===o(e))return n(e)}},1929:function(e){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},1941:function(e,t,r){"use strict";var o=r(8052),n=Object.defineProperty;e.exports=function(e,t){try{n(o,e,{value:t,configurable:!0,writable:!0})}catch(r){o[e]=t}return t}},1946:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var o=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function n(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=o.get(e))&&void 0!==t?t:e}t.fromCodePoint=null!==(r=String.fromCodePoint)&&void 0!==r?r:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)},t.replaceCodePoint=n,t.default=function(e){return(0,t.fromCodePoint)(n(e))}},1948:function(e,t,r){"use strict";var o=r(2748);e.exports=Array.isArray||function(e){return"Array"===o(e)}},1955:function(e,t,r){"use strict";var o=r(2484),n=r(7391),i=r(7267),a=r(4834),s=o("".charAt),u=o("".charCodeAt),c=o("".slice),l=function(e){return function(t,r){var o,l,g=i(a(t)),d=n(r),f=g.length;return d<0||d>=f?e?"":void 0:(o=u(g,d))<55296||o>56319||d+1===f||(l=u(g,d+1))<56320||l>57343?e?s(g,d):o:e?c(g,d,d+2):l-56320+(o-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},1990:function(e,t,r){"use strict";var o=r(2484),n=Set.prototype;e.exports={Set:Set,add:o(n.add),has:o(n.has),remove:o(n.delete),proto:n}},2006:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2484),a=r(4834),s=r(321),u=r(9601),c=r(4584),l=r(7267),g=r(9538),d=r(3614),f=r(1650),h=r(4175),p=r(6007),m=h("replace"),y=TypeError,b=i("".indexOf),E=i("".replace),_=i("".slice),S=Math.max;o({target:"String",proto:!0},{replaceAll:function(e,t){var r,o,i,h,v,T,A,N,C,D,w=a(this),R=0,x="";if(!u(e)){if((r=c(e))&&(o=l(a(d(e))),!~b(o,"g")))throw new y("`.replaceAll` does not allow non-global regexes");if(i=g(e,m))return n(i,e,w,t);if(p&&r)return E(l(w),e,t)}for(h=l(w),v=l(e),(T=s(t))||(t=l(t)),A=v.length,N=S(1,A),C=b(h,v);-1!==C;)D=T?l(t(v,C,h)):f(v,h,C,[],void 0,t),x+=_(h,R,C)+D,R=C+A,C=C+N>h.length?-1:b(h,v,C+N);return R<h.length&&(x+=_(h,R)),x}})},2035:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(4334),a=r(1031),s=r(3443),u=r(1072);o({target:"Promise",stat:!0,forced:r(341)},{race:function(e){var t=this,r=a.f(t),o=r.reject,c=s((function(){var a=i(t.resolve);u(e,(function(e){n(a,t,e).then(r.resolve,o)}))}));return c.error&&o(c.value),r.promise}})},2128:function(e,t,r){"use strict";var o=r(2675);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2148:function(e,t,r){"use strict";var o=r(8810),n=r(3163),i=r(6007),a=r(5034),s=r(7032).CONSTRUCTOR,u=r(6794),c=n("Promise"),l=i&&!s;o({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return u(l&&this===c?a:this,e)}})},2153:function(e,t,r){"use strict";var o=r(4175),n=r(3844),i=r(6005).f,a=o("unscopables"),s=Array.prototype;void 0===s[a]&&i(s,a,{configurable:!0,value:n(null)}),e.exports=function(e){s[a][e]=!0}},2173:function(e,t,r){"use strict";var o=r(8810),n=r(1031);o({target:"Promise",stat:!0,forced:r(7032).CONSTRUCTOR},{reject:function(e){var t=n.f(this);return(0,t.reject)(e),t.promise}})},2285:function(e,t,r){"use strict";var o=r(2404),n=r(1990).has,i=r(7358),a=r(4665),s=r(6417),u=r(8711),c=r(1151);e.exports=function(e){var t=o(this),r=a(e);if(i(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var l=r.getIterator();return!1!==u(l,(function(e){if(n(t,e))return c(l,"normal",!1)}))}},2304:function(e,t,r){"use strict";var o=r(8810),n=r(3555);o({global:!0,forced:parseInt!==n},{parseInt:n})},2321:function(e,t,r){"use strict";var o=r(8810),n=r(5433);o({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},2360:function(e,t,r){"use strict";var o=r(2675),n=r(321),i=/#|\\.prototype\\./,a=function(e,t){var r=u[s(e)];return r===l||r!==c&&(n(t)?o(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},2391:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2454),a=r(7706);o({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return n(a,this,i(e))}})},2404:function(e,t,r){"use strict";var o=r(1990).has;e.exports=function(e){return o(e),e}},2407:function(e,t,r){"use strict";var o=r(2675);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2454:function(e,t,r){"use strict";var o=r(3163),n=r(321),i=r(6855),a=r(4102),s=o("Set");e.exports=function(e){return function(e){return a(e)&&"number"==typeof e.size&&n(e.has)&&n(e.keys)}(e)?e:i(e)?new s(e):e}},2484:function(e,t,r){"use strict";var o=r(3588),n=Function.prototype,i=n.call,a=o&&n.bind.bind(i,i);e.exports=o?a:function(e){return function(){return i.apply(e,arguments)}}},2537:function(e,t,r){"use strict";var o=r(2675),n=r(8052).RegExp,i=o((function(){var e=n("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=i||o((function(){return!n("a","y").sticky})),s=i||o((function(){var e=n("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},2628:function(e,t,r){"use strict";r(5891)},2675:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},2690:function(e,t,r){"use strict";r(3348),r(861);var o=r(8810),n=r(8052),i=r(6977),a=r(3163),s=r(3625),u=r(2484),c=r(2128),l=r(5940),g=r(5236),d=r(6038),f=r(3179),h=r(8819),p=r(7270),m=r(6369),y=r(5755),b=r(321),E=r(4461),_=r(9004),S=r(5719),v=r(659),T=r(4102),A=r(7267),N=r(3844),C=r(5936),D=r(6221),w=r(4951),R=r(381),x=r(464),O=r(4175),I=r(4492),k=O("iterator"),M="URLSearchParams",L=M+"Iterator",$=m.set,F=m.getterFor(M),U=m.getterFor(L),P=i("fetch"),H=i("Request"),j=i("Headers"),B=H&&H.prototype,q=j&&j.prototype,V=n.TypeError,G=n.encodeURIComponent,z=String.fromCharCode,Y=a("String","fromCodePoint"),W=parseInt,K=u("".charAt),J=u([].join),X=u([].push),Q=u("".replace),Z=u([].shift),ee=u([].splice),te=u("".split),re=u("".slice),oe=u(/./.exec),ne=/\\+/g,ie=/^[0-9a-f]+$/i,ae=function(e,t){var r=re(e,t,t+2);return oe(ie,r)?W(r,16):NaN},se=function(e){for(var t=0,r=128;r>0&&e&r;r>>=1)t++;return t},ue=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},ce=function(e){for(var t=(e=Q(e,ne," ")).length,r="",o=0;o<t;){var n=K(e,o);if("%"===n){if("%"===K(e,o+1)||o+3>t){r+="%",o++;continue}var i=ae(e,o+1);if(i!=i){r+=n,o++;continue}o+=2;var a=se(i);if(0===a)n=z(i);else{if(1===a||a>4){r+="",o++;continue}for(var s=[i],u=1;u<a&&!(++o+3>t||"%"!==K(e,o));){var c=ae(e,o+1);if(c!=c){o+=3;break}if(c>191||c<128)break;X(s,c),o+=2,u++}if(s.length!==a){r+="";continue}var l=ue(s);null===l?r+="":n=Y(l)}}r+=n,o++}return r},le=/[!\'()~]|%20/g,ge={"!":"%21","\'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},de=function(e){return ge[e]},fe=function(e){return Q(G(e),le,de)},he=p((function(e,t){$(this,{type:L,target:F(e).entries,index:0,kind:t})}),M,(function(){var e=U(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,R(void 0,!0);var o=t[r];switch(e.kind){case"keys":return R(o.key,!1);case"values":return R(o.value,!1)}return R([o.key,o.value],!1)}),!0),pe=function(e){this.entries=[],this.url=null,void 0!==e&&(T(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?re(e,1):e:A(e)))};pe.prototype={type:M,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,o,n,i,a,u,c=this.entries,l=w(e);if(l)for(r=(t=D(e,l)).next;!(o=s(r,t)).done;){if(i=(n=D(v(o.value))).next,(a=s(i,n)).done||(u=s(i,n)).done||!s(i,n).done)throw new V("Expected sequence with length 2");X(c,{key:A(a.value),value:A(u.value)})}else for(var g in e)E(e,g)&&X(c,{key:g,value:A(e[g])})},parseQuery:function(e){if(e)for(var t,r,o=this.entries,n=te(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=te(t,"="),X(o,{key:ce(Z(r)),value:ce(J(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],o=0;o<t.length;)e=t[o++],X(r,fe(e.key)+"="+fe(e.value));return J(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var me=function(){y(this,ye);var e=$(this,new pe(arguments.length>0?arguments[0]:void 0));c||(this.size=e.entries.length)},ye=me.prototype;if(f(ye,{append:function(e,t){var r=F(this);x(arguments.length,2),X(r.entries,{key:A(e),value:A(t)}),c||this.length++,r.updateURL()},delete:function(e){for(var t=F(this),r=x(arguments.length,1),o=t.entries,n=A(e),i=r<2?void 0:arguments[1],a=void 0===i?i:A(i),s=0;s<o.length;){var u=o[s];if(u.key!==n||void 0!==a&&u.value!==a)s++;else if(ee(o,s,1),void 0!==a)break}c||(this.size=o.length),t.updateURL()},get:function(e){var t=F(this).entries;x(arguments.length,1);for(var r=A(e),o=0;o<t.length;o++)if(t[o].key===r)return t[o].value;return null},getAll:function(e){var t=F(this).entries;x(arguments.length,1);for(var r=A(e),o=[],n=0;n<t.length;n++)t[n].key===r&&X(o,t[n].value);return o},has:function(e){for(var t=F(this).entries,r=x(arguments.length,1),o=A(e),n=r<2?void 0:arguments[1],i=void 0===n?n:A(n),a=0;a<t.length;){var s=t[a++];if(s.key===o&&(void 0===i||s.value===i))return!0}return!1},set:function(e,t){var r=F(this);x(arguments.length,1);for(var o,n=r.entries,i=!1,a=A(e),s=A(t),u=0;u<n.length;u++)(o=n[u]).key===a&&(i?ee(n,u--,1):(i=!0,o.value=s));i||X(n,{key:a,value:s}),c||(this.size=n.length),r.updateURL()},sort:function(){var e=F(this);I(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=F(this).entries,o=_(e,arguments.length>1?arguments[1]:void 0),n=0;n<r.length;)o((t=r[n++]).value,t.key,this)},keys:function(){return new he(this,"keys")},values:function(){return new he(this,"values")},entries:function(){return new he(this,"entries")}},{enumerable:!0}),g(ye,k,ye.entries,{name:"entries"}),g(ye,"toString",(function(){return F(this).serialize()}),{enumerable:!0}),c&&d(ye,"size",{get:function(){return F(this).entries.length},configurable:!0,enumerable:!0}),h(me,M),o({global:!0,constructor:!0,forced:!l},{URLSearchParams:me}),!l&&b(j)){var be=u(q.has),Ee=u(q.set),_e=function(e){if(T(e)){var t,r=e.body;if(S(r)===M)return t=e.headers?new j(e.headers):new j,be(t,"content-type")||Ee(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),N(e,{body:C(0,A(r)),headers:C(0,t)})}return e};if(b(P)&&o({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return P(e,arguments.length>1?_e(arguments[1]):{})}}),b(H)){var Se=function(e){return y(this,B),new H(e,arguments.length>1?_e(arguments[1]):{})};B.constructor=Se,Se.prototype=B,o({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Se})}}e.exports={URLSearchParams:me,getState:F}},2708:function(e,t,r){"use strict";var o=r(3625),n=r(2484),i=r(7808),a=r(659),s=r(9601),u=r(4834),c=r(3985),l=r(8785),g=r(3026),d=r(7267),f=r(9538),h=r(9198),p=r(2537),m=r(2675),y=p.UNSUPPORTED_Y,b=Math.min,E=n([].push),_=n("".slice),S=!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),v="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;i("split",(function(e,t,r){var n="0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:o(t,this,e,r)}:t;return[function(t,r){var i=u(this),a=s(t)?void 0:f(t,e);return a?o(a,t,i,r):o(n,d(i),t,r)},function(e,o){var i=a(this),s=d(e);if(!v){var u=r(n,i,s,o,n!==t);if(u.done)return u.value}var f=c(i,RegExp),p=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(y?"g":"y"),S=new f(y?"^(?:"+i.source+")":i,m),T=void 0===o?4294967295:o>>>0;if(0===T)return[];if(0===s.length)return null===h(S,s)?[s]:[];for(var A=0,N=0,C=[];N<s.length;){S.lastIndex=y?0:N;var D,w=h(S,y?_(s,N):s);if(null===w||(D=b(g(S.lastIndex+(y?N:0)),s.length))===A)N=l(s,N,p);else{if(E(C,_(s,A,N)),C.length===T)return C;for(var R=1;R<=w.length-1;R++)if(E(C,w[R]),C.length===T)return C;N=A=D}}return E(C,_(s,A)),C}]}),v||!S,y)},2718:function(e,t,r){"use strict";var o=r(2484),n=r(321),i=r(2921),a=o(Function.toString);n(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},2748:function(e,t,r){"use strict";var o=r(2484),n=o({}.toString),i=o("".slice);e.exports=function(e){return i(n(e),8,-1)}},2758:function(e,t){"use strict";function r(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Map(r([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(r([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(r([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(r([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},2763:function(e,t,r){"use strict";var o,n,i=r(8052),a=r(3291),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(n=(o=l.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!n&&a&&(!(o=a.match(/Edge\\/(\\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\\/(\\d+)/))&&(n=+o[1]),e.exports=n},2826:function(e,t,r){"use strict";var o=r(8810),n=r(9004),i=r(2404),a=r(6417);o({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),r=n(e,arguments.length>1?arguments[1]:void 0);return!0===a(t,(function(e){if(r(e,e,t))return!0}),!0)}})},2868:function(e,t,r){"use strict";var o=r(2484),n=0,i=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++n+i,36)}},2878:function(e,t,r){"use strict";var o,n,i;e=r.nmd(e),n=[],o=function(){let o=function(e,t,r,n){if(t=t||[],"function"!=typeof importScripts&&o.webworker){var i=o.lastid++;return o.buffer[i]=r,void o.webworker.postMessage({id:i,sql:e,params:t})}return 0===arguments.length?new z.Select({columns:[new z.Column({columnid:"*"})],from:[new z.ParamValue({param:0})]}):1===arguments.length&&e.constructor===Array?o.promise(e):("function"==typeof t&&(n=r,r=t,t=[]),"object"!=typeof t&&(t=[t]),"string"==typeof e&&"#"===e[0]&&"object"==typeof document?e=document.querySelector(e).textContent:"object"==typeof e&&e instanceof HTMLElement?e=e.textContent:"function"==typeof e&&(e=e.toString(),e=(/\\/\\*([\\S\\s]+)\\*\\//m.exec(e)||["","Function given as SQL. Plese Provide SQL string or have a /* ... */ syle comment with SQL in the function."])[1]),o.exec(e,t,r,n))};o.version="4.5.3-3",o.build="develop-3039fb0",o.debug=void 0;var n=function(){return null},a="",s=function(){var e=function(e,t,r,o){for(r=r||{},o=e.length;o--;r[e[o]]=t);return r},t=[2,13],r=[1,104],n=[1,102],i=[1,103],a=[1,6],s=[1,42],u=[1,79],c=[1,76],l=[1,94],g=[1,93],d=[1,69],f=[1,101],p=[1,85],m=[1,64],y=[1,71],b=[1,84],E=[1,66],_=[1,70],S=[1,68],v=[1,61],T=[1,74],A=[1,62],N=[1,67],C=[1,83],D=[1,77],w=[1,86],R=[1,87],x=[1,81],O=[1,82],I=[1,80],k=[1,88],M=[1,89],L=[1,90],$=[1,91],F=[1,92],U=[1,98],P=[1,65],H=[1,78],j=[1,72],B=[1,96],q=[1,97],V=[1,63],G=[1,73],z=[1,108],Y=[1,107],W=[10,312,608,769],K=[10,312,316,608,769],J=[1,115],X=[1,117],Q=[1,116],Z=[1,118],ee=[1,119],te=[1,120],re=[1,121],oe=[130,359,416],ne=[1,129],ie=[1,128],ae=[1,136],se=[1,166],ue=[1,178],ce=[1,181],le=[1,176],ge=[1,184],de=[1,188],fe=[1,162],he=[1,185],pe=[1,172],me=[1,174],ye=[1,177],be=[1,186],Ee=[1,203],_e=[1,204],Se=[1,168],ve=[1,169],Te=[1,196],Ae=[1,191],Ne=[1,192],Ce=[1,197],De=[1,198],we=[1,199],Re=[1,200],xe=[1,201],Oe=[1,202],Ie=[1,205],ke=[1,206],Me=[1,179],Le=[1,180],$e=[1,182],Fe=[1,183],Ue=[1,189],Pe=[1,195],He=[1,187],je=[1,190],Be=[1,175],qe=[1,173],Ve=[1,194],Ge=[1,207],ze=[2,4,5],Ye=[2,481],We=[1,210],Ke=[1,215],Je=[1,224],Xe=[1,220],Qe=[10,72,78,93,98,118,128,162,168,169,183,200,233,250,252,312,316,608,769],Ze=[2,4,5,10,72,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,183,185,187,200,245,246,286,287,288,289,290,291,292,293,312,316,426,430,608,769],et=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],tt=[1,253],rt=[1,260],ot=[1,261],nt=[1,270],it=[1,275],at=[1,274],st=[2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,149,152,154,156,162,168,169,179,180,181,183,200,233,245,246,250,252,270,271,272,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,308,309,312,316,318,323,426,430,608,769],ut=[2,164],ct=[1,286],lt=[10,74,78,312,316,511,608,769],gt=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,193,200,207,209,223,224,225,226,227,228,229,230,231,232,233,240,245,246,247,248,250,252,270,271,272,273,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,306,308,309,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,349,350,362,374,375,376,379,380,392,395,402,406,407,408,409,410,411,412,414,415,423,424,426,430,432,439,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,520,521,522,523,608,769,770],dt=[2,4,5,10,53,72,89,124,146,156,189,272,273,295,312,341,344,345,402,406,407,410,412,414,415,423,424,440,442,443,445,446,447,448,449,453,454,457,458,511,513,514,523,608,769],ft=[1,567],ht=[1,569],pt=[1,570],mt=[2,513],yt=[1,576],bt=[1,587],Et=[1,590],_t=[1,591],St=[10,78,89,132,137,146,189,302,312,316,476,608,769],vt=[10,74,312,316,608,769],Tt=[2,577],At=[1,609],Nt=[2,4,5,156],Ct=[1,647],Dt=[1,619],wt=[1,653],Rt=[1,654],xt=[1,627],Ot=[1,638],It=[1,625],kt=[1,633],Mt=[1,626],Lt=[1,634],$t=[1,636],Ft=[1,628],Ut=[1,629],Pt=[1,648],Ht=[1,645],jt=[1,646],Bt=[1,622],qt=[1,624],Vt=[1,616],Gt=[1,617],zt=[1,618],Yt=[1,620],Wt=[1,621],Kt=[1,623],Jt=[1,630],Xt=[1,631],Qt=[1,635],Zt=[1,637],er=[1,639],tr=[1,640],rr=[1,641],or=[1,642],nr=[1,643],ir=[1,649],ar=[1,650],sr=[1,651],ur=[1,652],cr=[2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],lr=[2,292],gr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,232,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,303,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,349,362,374,375,379,380,402,406,407,410,412,414,415,423,424,426,430,432,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],dr=[2,369],fr=[1,675],hr=[1,685],pr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,232,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,432,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],mr=[1,701],yr=[1,710],br=[1,709],Er=[2,4,5,10,72,74,78,93,98,118,128,162,168,169,207,209,223,224,225,226,227,228,229,230,231,232,233,250,252,312,316,608,769],_r=[10,72,74,78,93,98,118,128,162,168,169,207,209,223,224,225,226,227,228,229,230,231,232,233,250,252,312,316,608,769],Sr=[2,204],vr=[1,732],Tr=[10,72,78,93,98,118,128,162,168,169,183,233,250,252,312,316,608,769],Ar=[2,165],Nr=[1,735],Cr=[2,4,5,112],Dr=[1,748],wr=[1,767],Rr=[1,747],xr=[1,746],Or=[1,741],Ir=[1,742],kr=[1,744],Mr=[1,745],Lr=[1,749],$r=[1,750],Fr=[1,751],Ur=[1,752],Pr=[1,753],Hr=[1,754],jr=[1,755],Br=[1,756],qr=[1,757],Vr=[1,758],Gr=[1,759],zr=[1,760],Yr=[1,761],Wr=[1,762],Kr=[1,763],Jr=[1,764],Xr=[1,766],Qr=[1,768],Zr=[1,769],eo=[1,770],to=[1,771],ro=[1,772],oo=[1,773],no=[1,774],io=[1,777],ao=[1,778],so=[1,779],uo=[1,780],co=[1,781],lo=[1,782],go=[1,783],fo=[1,784],ho=[1,785],po=[1,786],mo=[1,787],yo=[1,788],bo=[74,89,189],Eo=[10,74,78,154,187,231,303,312,316,349,362,374,375,379,380,608,769],_o=[1,805],So=[10,74,78,306,312,316,608,769],vo=[1,806],To=[1,812],Ao=[1,813],No=[1,817],Co=[10,74,78,312,316,608,769],Do=[2,4,5,77,131,132,137,143,145,149,152,154,156,179,180,181,245,246,270,271,272,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,308,309,318,323,426,430],wo=[10,72,78,93,98,107,118,128,162,168,169,183,200,233,250,252,312,316,608,769],Ro=[1,829],xo=[2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,149,152,154,156,162,164,168,169,179,180,181,183,185,187,198,200,233,245,246,250,252,270,271,272,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,308,309,312,316,318,323,426,430,608,769],Oo=[2,4,5,132,302],Io=[1,856],ko=[10,74,76,78,312,316,608,769],Mo=[2,748],Lo=[10,74,76,78,132,139,141,145,152,312,316,426,430,608,769],$o=[2,1171],Fo=[10,74,76,78,139,141,145,152,312,316,426,430,608,769],Uo=[10,74,76,78,139,141,145,312,316,426,430,608,769],Po=[10,74,78,139,141,312,316,608,769],Ho=[10,78,89,132,146,189,302,312,316,476,608,769],jo=[341,344,345],Bo=[2,774],qo=[1,881],Vo=[1,882],Go=[1,883],zo=[1,884],Yo=[1,893],Wo=[1,892],Ko=[164,166,340],Jo=[2,454],Xo=[1,948],Qo=[2,4,5,77,131,156,271,295,296,297,298,299],Zo=[1,963],en=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,319,320,321,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],tn=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,318,319,320,321,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],rn=[2,385],on=[1,970],nn=[312,314,316],an=[74,306],sn=[74,306,432],un=[1,977],cn=[74,432],ln=[1,990],gn=[1,989],dn=[1,996],fn=[10,72,78,93,98,118,128,162,168,169,233,250,252,312,316,608,769],hn=[1,1021],pn=[10,72,78,312,316,608,769],mn=[1,1027],yn=[1,1028],bn=[1,1029],En=[2,4,5,10,72,74,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,200,245,246,286,287,288,289,290,291,292,293,312,316,426,430,608,769],_n=[1,1079],Sn=[1,1078],vn=[1,1092],Tn=[1,1091],An=[1,1099],Nn=[10,72,74,78,93,98,107,118,128,162,168,169,183,200,233,250,252,312,316,608,769],Cn=[2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,149,152,154,156,162,168,169,179,180,181,183,200,233,245,246,250,252,270,271,272,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,308,309,312,316,318,323,426,430,608,769,770],Dn=[1,1131],wn=[10,78,89,146,189,312,316,476,608,769],Rn=[1,1151],xn=[1,1150],On=[1,1149],In=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,303,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,349,362,374,375,379,380,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],kn=[1,1165],Mn=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,319,320,321,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],Ln=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,319,321,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],$n=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,319,320,321,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],Fn=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,319,320,321,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],Un=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,320,326,327,328,329,330,331,332,336,337,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],Pn=[2,416],Hn=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,320,336,337,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],jn=[2,290],Bn=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,432,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],qn=[10,78,312,316,608,769],Vn=[1,1201],Gn=[10,77,78,143,145,152,181,308,312,316,426,430,608,769],zn=[10,74,78,312,314,316,470,608,769],Yn=[1,1212],Wn=[10,72,78,118,128,162,168,169,233,250,252,312,316,608,769],Kn=[10,72,74,78,93,98,118,128,162,168,169,183,200,233,250,252,312,316,608,769],Jn=[2,4,5,72,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,245,246,286,287,288,289,290,291,292,293,426,430],Xn=[2,4,5,72,74,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,245,246,286,287,288,289,290,291,292,293,426,430],Qn=[2,1095],Zn=[2,4,5,72,74,76,77,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,245,246,286,287,288,289,290,291,292,293,426,430],ei=[1,1264],ti=[10,74,78,128,312,314,316,470,608,769],ri=[115,116,124],oi=[2,594],ni=[1,1293],ii=[76,139],ai=[2,734],si=[1,1310],ui=[1,1311],ci=[2,4,5,10,53,72,76,89,124,146,156,189,231,272,273,295,312,316,341,344,345,402,406,407,410,412,414,415,423,424,440,442,443,445,446,447,448,449,453,454,457,458,511,513,514,523,608,769],li=[2,337],gi=[1,1335],di=[1,1349],fi=[1,1351],hi=[2,497],pi=[74,78],mi=[10,312,314,316,470,608,769],yi=[10,72,78,118,162,168,169,233,250,252,312,316,608,769],bi=[1,1367],Ei=[1,1371],_i=[1,1372],Si=[1,1374],vi=[1,1375],Ti=[1,1376],Ai=[1,1377],Ni=[1,1378],Ci=[1,1379],Di=[1,1380],wi=[1,1381],Ri=[10,72,74,78,93,98,118,128,162,168,169,207,209,223,224,225,226,227,228,229,230,233,250,252,312,316,608,769],xi=[1,1406],Oi=[10,72,78,118,162,168,169,250,252,312,316,608,769],Ii=[10,72,78,93,98,118,128,162,168,169,207,209,223,224,225,226,227,228,229,230,233,250,252,312,316,608,769],ki=[1,1504],Mi=[1,1506],Li=[2,4,5,77,143,145,152,156,181,271,295,296,297,298,299,308,426,430],$i=[1,1520],Fi=[10,72,74,78,162,168,169,250,252,312,316,608,769],Ui=[1,1538],Pi=[1,1540],Hi=[1,1541],ji=[1,1537],Bi=[1,1536],qi=[1,1535],Vi=[1,1542],Gi=[1,1532],zi=[1,1533],Yi=[1,1534],Wi=[1,1560],Ki=[2,4,5,10,53,72,89,124,146,156,189,272,273,295,312,316,341,344,345,402,406,407,410,412,414,415,423,424,440,442,443,445,446,447,448,449,453,454,457,458,511,513,514,523,608,769],Ji=[1,1571],Xi=[1,1579],Qi=[1,1578],Zi=[10,72,78,162,168,169,250,252,312,316,608,769],ea=[10,72,78,93,98,118,128,162,168,169,207,209,223,224,225,226,227,228,229,230,231,232,233,250,252,312,316,608,769],ta=[2,4,5,10,72,78,93,98,118,128,162,168,169,207,209,223,224,225,226,227,228,229,230,231,232,233,250,252,312,316,608,769],ra=[1,1639],oa=[1,1641],na=[1,1638],ia=[1,1640],aa=[187,193,374,375,376,379],sa=[2,525],ua=[1,1646],ca=[1,1665],la=[10,72,78,162,168,169,312,316,608,769],ga=[1,1675],da=[1,1676],fa=[1,1677],ha=[1,1698],pa=[4,10,248,312,316,349,362,608,769],ma=[1,1746],ya=[10,72,74,78,118,162,168,169,240,250,252,312,316,608,769],ba=[2,4,5,77],Ea=[1,1840],_a=[1,1852],Sa=[1,1871],va=[10,72,78,162,168,169,312,316,421,608,769],Ta=[10,74,78,231,312,316,608,769],Aa={trace:function(){},yy:{},symbols_:{error:2,Literal:3,LITERAL:4,BRALITERAL:5,NonReserved:6,LiteralWithSpaces:7,main:8,Statements:9,EOF:10,Statements_group0:11,AStatement:12,ExplainStatement:13,EXPLAIN:14,QUERY:15,PLAN:16,Statement:17,AlterTable:18,AttachDatabase:19,Call:20,CreateDatabase:21,CreateIndex:22,CreateGraph:23,CreateTable:24,CreateView:25,CreateEdge:26,CreateVertex:27,Declare:28,Delete:29,DetachDatabase:30,DropDatabase:31,DropIndex:32,DropTable:33,DropView:34,If:35,Insert:36,Merge:37,Reindex:38,RenameTable:39,Select:40,ShowCreateTable:41,ShowColumns:42,ShowDatabases:43,ShowIndex:44,ShowTables:45,TruncateTable:46,WithSelect:47,CreateTrigger:48,DropTrigger:49,BeginTransaction:50,CommitTransaction:51,RollbackTransaction:52,EndTransaction:53,UseDatabase:54,Update:55,JavaScript:56,Source:57,Assert:58,While:59,Continue:60,Break:61,BeginEnd:62,Print:63,Require:64,SetVariable:65,ExpressionStatement:66,AddRule:67,Query:68,Echo:69,CreateFunction:70,CreateAggregate:71,WITH:72,WithTablesList:73,COMMA:74,WithTable:75,AS:76,LPAR:77,RPAR:78,SelectClause:79,Select_option0:80,IntoClause:81,FromClause:82,Select_option1:83,WhereClause:84,GroupClause:85,OrderClause:86,LimitClause:87,UnionClause:88,SEARCH:89,Select_repetition0:90,Select_option2:91,PivotClause:92,PIVOT:93,Expression:94,FOR:95,PivotClause_option0:96,PivotClause_option1:97,UNPIVOT:98,IN:99,ColumnsList:100,PivotClause_option2:101,PivotClause2:102,AsList:103,AsLiteral:104,AsPart:105,RemoveClause:106,REMOVE:107,RemoveClause_option0:108,RemoveColumnsList:109,RemoveColumn:110,Column:111,LIKE:112,StringValue:113,ArrowDot:114,ARROW:115,DOT:116,SearchSelector:117,ORDER:118,BY:119,OrderExpressionsList:120,SearchSelector_option0:121,DOTDOT:122,CARET:123,EQ:124,SearchSelector_repetition_plus0:125,SearchSelector_repetition_plus1:126,SearchSelector_option1:127,WHERE:128,OF:129,CLASS:130,NUMBER:131,STRING:132,SLASH:133,VERTEX:134,EDGE:135,EXCLAMATION:136,SHARP:137,MODULO:138,GT:139,LT:140,GTGT:141,LTLT:142,DOLLAR:143,Json:144,AT:145,SET:146,SetColumnsList:147,TO:148,VALUE:149,ROW:150,ExprList:151,COLON:152,PlusStar:153,NOT:154,SearchSelector_repetition2:155,IF:156,SearchSelector_repetition3:157,Aggregator:158,SearchSelector_repetition4:159,SearchSelector_group0:160,SearchSelector_repetition5:161,UNION:162,SearchSelectorList:163,ALL:164,SearchSelector_repetition6:165,ANY:166,SearchSelector_repetition7:167,INTERSECT:168,EXCEPT:169,AND:170,OR:171,PATH:172,RETURN:173,ResultColumns:174,REPEAT:175,SearchSelector_repetition8:176,SearchSelectorList_repetition0:177,SearchSelectorList_repetition1:178,PLUS:179,STAR:180,QUESTION:181,SearchFrom:182,FROM:183,SelectModifier:184,DISTINCT:185,TopClause:186,UNIQUE:187,SelectClause_option0:188,SELECT:189,COLUMN:190,MATRIX:191,TEXTSTRING:192,INDEX:193,RECORDSET:194,NumOrVarValue:195,NumValue:196,VarValue:197,TOP:198,TopClause_option0:199,INTO:200,Table:201,FuncValue:202,ParamValue:203,FromTablesList:204,JoinTablesList:205,ApplyClause:206,CROSS:207,APPLY:208,OUTER:209,FromTable:210,FromTable_option0:211,FromTable_option1:212,INDEXED:213,INSERTED:214,FromString:215,JoinTable:216,JoinMode:217,JoinTableAs:218,OnClause:219,JoinTableAs_option0:220,JoinTableAs_option1:221,JoinModeMode:222,NATURAL:223,JOIN:224,INNER:225,LEFT:226,RIGHT:227,FULL:228,SEMI:229,ANTI:230,ON:231,USING:232,GROUP:233,GroupExpressionsList:234,HavingClause:235,GroupExpression:236,GROUPING:237,ROLLUP:238,CUBE:239,HAVING:240,CORRESPONDING:241,OrderExpression:242,NullsOrder:243,NULLS:244,FIRST:245,LAST:246,DIRECTION:247,COLLATE:248,NOCASE:249,LIMIT:250,OffsetClause:251,OFFSET:252,LimitClause_option0:253,FETCH:254,LimitClause_option1:255,LimitClause_option2:256,LimitClause_option3:257,ResultColumn:258,Star:259,AggrValue:260,Op:261,LogicValue:262,NullValue:263,ExistsValue:264,CaseValue:265,CastClause:266,ArrayValue:267,NewClause:268,Expression_group0:269,CURRENT_TIMESTAMP:270,CURRENT_DATE:271,JAVASCRIPT:272,CREATE:273,FUNCTION:274,AGGREGATE:275,NEW:276,CAST:277,ColumnType:278,CONVERT:279,PrimitiveValue:280,OverClause:281,OVER:282,OverPartitionClause:283,OverOrderByClause:284,PARTITION:285,SUM:286,TOTAL:287,COUNT:288,MIN:289,MAX:290,AVG:291,AGGR:292,ARRAY:293,FuncValue_option0:294,REPLACE:295,DATEADD:296,DATEDIFF:297,TIMESTAMPDIFF:298,INTERVAL:299,TRUE:300,FALSE:301,NSTRING:302,NULL:303,EXISTS:304,ARRAYLBRA:305,RBRA:306,ParamValue_group0:307,BRAQUESTION:308,CASE:309,WhensList:310,ElseClause:311,END:312,When:313,WHEN:314,THEN:315,ELSE:316,REGEXP:317,TILDA:318,GLOB:319,ESCAPE:320,NOT_LIKE:321,BARBAR:322,MINUS:323,AMPERSAND:324,BAR:325,GE:326,LE:327,EQEQ:328,EQEQEQ:329,NE:330,NEEQEQ:331,NEEQEQEQ:332,CondOp:333,AllSome:334,ColFunc:335,BETWEEN:336,NOT_BETWEEN:337,IS:338,DOUBLECOLON:339,SOME:340,UPDATE:341,SetColumn:342,SetColumn_group0:343,DELETE:344,INSERT:345,Into:346,Values:347,ValuesListsList:348,DEFAULT:349,VALUES:350,ValuesList:351,Value:352,DateValue:353,TemporaryClause:354,TableClass:355,IfNotExists:356,CreateTableDefClause:357,CreateTableOptionsClause:358,TABLE:359,CreateTableOptions:360,CreateTableOption:361,IDENTITY:362,TEMP:363,ColumnDefsList:364,ConstraintsList:365,Constraint:366,ConstraintName:367,PrimaryKey:368,ForeignKey:369,UniqueKey:370,IndexKey:371,Check:372,CONSTRAINT:373,CHECK:374,PRIMARY:375,KEY:376,PrimaryKey_option0:377,ColsList:378,FOREIGN:379,REFERENCES:380,ForeignKey_option0:381,OnForeignKeyClause:382,ParColsList:383,OnDeleteClause:384,OnUpdateClause:385,NO:386,ACTION:387,UniqueKey_option0:388,UniqueKey_option1:389,ColumnDef:390,ColumnConstraintsClause:391,ColumnConstraints:392,SingularColumnType:393,NumberMax:394,ENUM:395,MAXNUM:396,ColumnConstraintsList:397,ColumnConstraint:398,ParLiteral:399,ColumnConstraint_option0:400,ColumnConstraint_option1:401,DROP:402,DropTable_group0:403,IfExists:404,TablesList:405,ALTER:406,RENAME:407,ADD:408,MODIFY:409,ATTACH:410,DATABASE:411,DETACH:412,AsClause:413,USE:414,SHOW:415,VIEW:416,CreateView_option0:417,CreateView_option1:418,SubqueryRestriction:419,READ:420,ONLY:421,OPTION:422,SOURCE:423,ASSERT:424,JsonObject:425,ATLBRA:426,JsonArray:427,JsonValue:428,JsonPrimitiveValue:429,LCUR:430,JsonPropertiesList:431,RCUR:432,JsonElementsList:433,JsonProperty:434,OnOff:435,SetPropsList:436,AtDollar:437,SetProp:438,OFF:439,COMMIT:440,TRANSACTION:441,ROLLBACK:442,BEGIN:443,ElseStatement:444,WHILE:445,CONTINUE:446,BREAK:447,PRINT:448,REQUIRE:449,StringValuesList:450,PluginsList:451,Plugin:452,ECHO:453,DECLARE:454,DeclaresList:455,DeclareItem:456,TRUNCATE:457,MERGE:458,MergeInto:459,MergeUsing:460,MergeOn:461,MergeMatchedList:462,OutputClause:463,MergeMatched:464,MergeNotMatched:465,MATCHED:466,MergeMatchedAction:467,MergeNotMatchedAction:468,TARGET:469,OUTPUT:470,CreateVertex_option0:471,CreateVertex_option1:472,CreateVertex_option2:473,CreateVertexSet:474,SharpValue:475,CONTENT:476,CreateEdge_option0:477,GRAPH:478,GraphList:479,GraphVertexEdge:480,GraphElement:481,GraphVertexEdge_option0:482,GraphVertexEdge_option1:483,GraphElementVar:484,GraphVertexEdge_option2:485,GraphVertexEdge_option3:486,GraphVertexEdge_option4:487,GraphVar:488,GraphAsClause:489,GraphAtClause:490,GraphElement2:491,GraphElement2_option0:492,GraphElement2_option1:493,GraphElement2_option2:494,GraphElement2_option3:495,GraphElement_option0:496,GraphElement_option1:497,GraphElement_option2:498,SharpLiteral:499,GraphElement_option3:500,GraphElement_option4:501,GraphElement_option5:502,ColonLiteral:503,DeleteVertex:504,DeleteVertex_option0:505,DeleteEdge:506,DeleteEdge_option0:507,DeleteEdge_option1:508,DeleteEdge_option2:509,Term:510,COLONDASH:511,TermsList:512,QUESTIONDASH:513,CALL:514,TRIGGER:515,BeforeAfter:516,InsertDeleteUpdate:517,CreateTrigger_option0:518,CreateTrigger_option1:519,BEFORE:520,AFTER:521,INSTEAD:522,REINDEX:523,A:524,ABSENT:525,ABSOLUTE:526,ACCORDING:527,ADA:528,ADMIN:529,ALWAYS:530,ASC:531,ASSERTION:532,ASSIGNMENT:533,ATTRIBUTE:534,ATTRIBUTES:535,BASE64:536,BERNOULLI:537,BLOCKED:538,BOM:539,BREADTH:540,C:541,CASCADE:542,CATALOG:543,CATALOG_NAME:544,CHAIN:545,CHARACTERISTICS:546,CHARACTERS:547,CHARACTER_SET_CATALOG:548,CHARACTER_SET_NAME:549,CHARACTER_SET_SCHEMA:550,CLASS_ORIGIN:551,COBOL:552,COLLATION:553,COLLATION_CATALOG:554,COLLATION_NAME:555,COLLATION_SCHEMA:556,COLUMNS:557,COLUMN_NAME:558,COMMAND_FUNCTION:559,COMMAND_FUNCTION_CODE:560,COMMITTED:561,CONDITION_NUMBER:562,CONNECTION:563,CONNECTION_NAME:564,CONSTRAINTS:565,CONSTRAINT_CATALOG:566,CONSTRAINT_NAME:567,CONSTRAINT_SCHEMA:568,CONSTRUCTOR:569,CONTROL:570,CURSOR_NAME:571,DATA:572,DATETIME_INTERVAL_CODE:573,DATETIME_INTERVAL_PRECISION:574,DB:575,DEFAULTS:576,DEFERRABLE:577,DEFERRED:578,DEFINED:579,DEFINER:580,DEGREE:581,DEPTH:582,DERIVED:583,DESC:584,DESCRIPTOR:585,DIAGNOSTICS:586,DISPATCH:587,DOCUMENT:588,DOMAIN:589,DYNAMIC_FUNCTION:590,DYNAMIC_FUNCTION_CODE:591,EMPTY:592,ENCODING:593,ENFORCED:594,EXCLUDE:595,EXCLUDING:596,EXPRESSION:597,FILE:598,FINAL:599,FLAG:600,FOLLOWING:601,FORTRAN:602,FOUND:603,FS:604,G:605,GENERAL:606,GENERATED:607,GO:608,GOTO:609,GRANTED:610,HEX:611,HIERARCHY:612,ID:613,IGNORE:614,IMMEDIATE:615,IMMEDIATELY:616,IMPLEMENTATION:617,INCLUDING:618,INCREMENT:619,INDENT:620,INITIALLY:621,INPUT:622,INSTANCE:623,INSTANTIABLE:624,INTEGRITY:625,INVOKER:626,ISOLATION:627,K:628,KEY_MEMBER:629,KEY_TYPE:630,LENGTH:631,LEVEL:632,LIBRARY:633,LINK:634,LOCATION:635,LOCATOR:636,M:637,MAP:638,MAPPING:639,MAXVALUE:640,MESSAGE_LENGTH:641,MESSAGE_OCTET_LENGTH:642,MESSAGE_TEXT:643,MINVALUE:644,MORE:645,MUMPS:646,NAME:647,NAMES:648,NAMESPACE:649,NESTING:650,NEXT:651,NFC:652,NFD:653,NFKC:654,NFKD:655,NIL:656,NORMALIZED:657,NULLABLE:658,OBJECT:659,OCTETS:660,OPTIONS:661,ORDERING:662,ORDINALITY:663,OTHERS:664,OVERRIDING:665,P:666,PAD:667,PARAMETER_MODE:668,PARAMETER_NAME:669,PARAMETER_ORDINAL_POSITION:670,PARAMETER_SPECIFIC_CATALOG:671,PARAMETER_SPECIFIC_NAME:672,PARAMETER_SPECIFIC_SCHEMA:673,PARTIAL:674,PASCAL:675,PASSING:676,PASSTHROUGH:677,PERMISSION:678,PLACING:679,PLI:680,PRECEDING:681,PRESERVE:682,PRIOR:683,PRIVILEGES:684,PUBLIC:685,RECOVERY:686,RELATIVE:687,REPEATABLE:688,REQUIRING:689,RESPECT:690,RESTART:691,RESTORE:692,RESTRICT:693,RETURNED_CARDINALITY:694,RETURNED_LENGTH:695,RETURNED_OCTET_LENGTH:696,RETURNED_SQLSTATE:697,RETURNING:698,ROLE:699,ROUTINE:700,ROUTINE_CATALOG:701,ROUTINE_NAME:702,ROUTINE_SCHEMA:703,ROW_COUNT:704,SCALE:705,SCHEMA:706,SCHEMA_NAME:707,SCOPE_CATALOG:708,SCOPE_NAME:709,SCOPE_SCHEMA:710,SECTION:711,SECURITY:712,SELECTIVE:713,SELF:714,SEQUENCE:715,SERIALIZABLE:716,SERVER:717,SERVER_NAME:718,SESSION:719,SETS:720,SIMPLE:721,SIZE:722,SPACE:723,SPECIFIC_NAME:724,STANDALONE:725,STATE:726,STATEMENT:727,STRIP:728,STRUCTURE:729,STYLE:730,SUBCLASS_ORIGIN:731,T:732,TABLE_NAME:733,TEMPORARY:734,TIES:735,TOKEN:736,TOP_LEVEL_COUNT:737,TRANSACTIONS_COMMITTED:738,TRANSACTIONS_ROLLED_BACK:739,TRANSACTION_ACTIVE:740,TRANSFORM:741,TRANSFORMS:742,TRIGGER_CATALOG:743,TRIGGER_NAME:744,TRIGGER_SCHEMA:745,TYPE:746,UNBOUNDED:747,UNCOMMITTED:748,UNDER:749,UNLINK:750,UNNAMED:751,UNTYPED:752,URI:753,USAGE:754,USER_DEFINED_TYPE_CATALOG:755,USER_DEFINED_TYPE_CODE:756,USER_DEFINED_TYPE_NAME:757,USER_DEFINED_TYPE_SCHEMA:758,VALID:759,VERSION:760,WHITESPACE:761,WORK:762,WRAPPER:763,WRITE:764,XMLDECLARATION:765,XMLSCHEMA:766,YES:767,ZONE:768,SEMICOLON:769,PERCENT:770,ROWS:771,FuncValue_option0_group0:772,$accept:0,$end:1},terminals_:{2:"error",4:"LITERAL",5:"BRALITERAL",10:"EOF",14:"EXPLAIN",15:"QUERY",16:"PLAN",53:"EndTransaction",72:"WITH",74:"COMMA",76:"AS",77:"LPAR",78:"RPAR",89:"SEARCH",93:"PIVOT",95:"FOR",98:"UNPIVOT",99:"IN",107:"REMOVE",112:"LIKE",115:"ARROW",116:"DOT",118:"ORDER",119:"BY",122:"DOTDOT",123:"CARET",124:"EQ",128:"WHERE",129:"OF",130:"CLASS",131:"NUMBER",132:"STRING",133:"SLASH",134:"VERTEX",135:"EDGE",136:"EXCLAMATION",137:"SHARP",138:"MODULO",139:"GT",140:"LT",141:"GTGT",142:"LTLT",143:"DOLLAR",145:"AT",146:"SET",148:"TO",149:"VALUE",150:"ROW",152:"COLON",154:"NOT",156:"IF",162:"UNION",164:"ALL",166:"ANY",168:"INTERSECT",169:"EXCEPT",170:"AND",171:"OR",172:"PATH",173:"RETURN",175:"REPEAT",179:"PLUS",180:"STAR",181:"QUESTION",183:"FROM",185:"DISTINCT",187:"UNIQUE",189:"SELECT",190:"COLUMN",191:"MATRIX",192:"TEXTSTRING",193:"INDEX",194:"RECORDSET",198:"TOP",200:"INTO",207:"CROSS",208:"APPLY",209:"OUTER",213:"INDEXED",214:"INSERTED",223:"NATURAL",224:"JOIN",225:"INNER",226:"LEFT",227:"RIGHT",228:"FULL",229:"SEMI",230:"ANTI",231:"ON",232:"USING",233:"GROUP",237:"GROUPING",238:"ROLLUP",239:"CUBE",240:"HAVING",241:"CORRESPONDING",244:"NULLS",245:"FIRST",246:"LAST",247:"DIRECTION",248:"COLLATE",249:"NOCASE",250:"LIMIT",252:"OFFSET",254:"FETCH",270:"CURRENT_TIMESTAMP",271:"CURRENT_DATE",272:"JAVASCRIPT",273:"CREATE",274:"FUNCTION",275:"AGGREGATE",276:"NEW",277:"CAST",279:"CONVERT",282:"OVER",285:"PARTITION",286:"SUM",287:"TOTAL",288:"COUNT",289:"MIN",290:"MAX",291:"AVG",292:"AGGR",293:"ARRAY",295:"REPLACE",296:"DATEADD",297:"DATEDIFF",298:"TIMESTAMPDIFF",299:"INTERVAL",300:"TRUE",301:"FALSE",302:"NSTRING",303:"NULL",304:"EXISTS",305:"ARRAYLBRA",306:"RBRA",308:"BRAQUESTION",309:"CASE",312:"END",314:"WHEN",315:"THEN",316:"ELSE",317:"REGEXP",318:"TILDA",319:"GLOB",320:"ESCAPE",321:"NOT_LIKE",322:"BARBAR",323:"MINUS",324:"AMPERSAND",325:"BAR",326:"GE",327:"LE",328:"EQEQ",329:"EQEQEQ",330:"NE",331:"NEEQEQ",332:"NEEQEQEQ",336:"BETWEEN",337:"NOT_BETWEEN",338:"IS",339:"DOUBLECOLON",340:"SOME",341:"UPDATE",344:"DELETE",345:"INSERT",349:"DEFAULT",350:"VALUES",353:"DateValue",359:"TABLE",362:"IDENTITY",363:"TEMP",373:"CONSTRAINT",374:"CHECK",375:"PRIMARY",376:"KEY",379:"FOREIGN",380:"REFERENCES",386:"NO",387:"ACTION",392:"ColumnConstraints",395:"ENUM",396:"MAXNUM",402:"DROP",406:"ALTER",407:"RENAME",408:"ADD",409:"MODIFY",410:"ATTACH",411:"DATABASE",412:"DETACH",414:"USE",415:"SHOW",416:"VIEW",420:"READ",421:"ONLY",422:"OPTION",423:"SOURCE",424:"ASSERT",426:"ATLBRA",430:"LCUR",432:"RCUR",439:"OFF",440:"COMMIT",441:"TRANSACTION",442:"ROLLBACK",443:"BEGIN",445:"WHILE",446:"CONTINUE",447:"BREAK",448:"PRINT",449:"REQUIRE",453:"ECHO",454:"DECLARE",457:"TRUNCATE",458:"MERGE",466:"MATCHED",469:"TARGET",470:"OUTPUT",476:"CONTENT",478:"GRAPH",511:"COLONDASH",513:"QUESTIONDASH",514:"CALL",515:"TRIGGER",520:"BEFORE",521:"AFTER",522:"INSTEAD",523:"REINDEX",524:"A",525:"ABSENT",526:"ABSOLUTE",527:"ACCORDING",528:"ADA",529:"ADMIN",530:"ALWAYS",531:"ASC",532:"ASSERTION",533:"ASSIGNMENT",534:"ATTRIBUTE",535:"ATTRIBUTES",536:"BASE64",537:"BERNOULLI",538:"BLOCKED",539:"BOM",540:"BREADTH",541:"C",542:"CASCADE",543:"CATALOG",544:"CATALOG_NAME",545:"CHAIN",546:"CHARACTERISTICS",547:"CHARACTERS",548:"CHARACTER_SET_CATALOG",549:"CHARACTER_SET_NAME",550:"CHARACTER_SET_SCHEMA",551:"CLASS_ORIGIN",552:"COBOL",553:"COLLATION",554:"COLLATION_CATALOG",555:"COLLATION_NAME",556:"COLLATION_SCHEMA",557:"COLUMNS",558:"COLUMN_NAME",559:"COMMAND_FUNCTION",560:"COMMAND_FUNCTION_CODE",561:"COMMITTED",562:"CONDITION_NUMBER",563:"CONNECTION",564:"CONNECTION_NAME",565:"CONSTRAINTS",566:"CONSTRAINT_CATALOG",567:"CONSTRAINT_NAME",568:"CONSTRAINT_SCHEMA",569:"CONSTRUCTOR",570:"CONTROL",571:"CURSOR_NAME",572:"DATA",573:"DATETIME_INTERVAL_CODE",574:"DATETIME_INTERVAL_PRECISION",575:"DB",576:"DEFAULTS",577:"DEFERRABLE",578:"DEFERRED",579:"DEFINED",580:"DEFINER",581:"DEGREE",582:"DEPTH",583:"DERIVED",584:"DESC",585:"DESCRIPTOR",586:"DIAGNOSTICS",587:"DISPATCH",588:"DOCUMENT",589:"DOMAIN",590:"DYNAMIC_FUNCTION",591:"DYNAMIC_FUNCTION_CODE",592:"EMPTY",593:"ENCODING",594:"ENFORCED",595:"EXCLUDE",596:"EXCLUDING",597:"EXPRESSION",598:"FILE",599:"FINAL",600:"FLAG",601:"FOLLOWING",602:"FORTRAN",603:"FOUND",604:"FS",605:"G",606:"GENERAL",607:"GENERATED",608:"GO",609:"GOTO",610:"GRANTED",611:"HEX",612:"HIERARCHY",613:"ID",614:"IGNORE",615:"IMMEDIATE",616:"IMMEDIATELY",617:"IMPLEMENTATION",618:"INCLUDING",619:"INCREMENT",620:"INDENT",621:"INITIALLY",622:"INPUT",623:"INSTANCE",624:"INSTANTIABLE",625:"INTEGRITY",626:"INVOKER",627:"ISOLATION",628:"K",629:"KEY_MEMBER",630:"KEY_TYPE",631:"LENGTH",632:"LEVEL",633:"LIBRARY",634:"LINK",635:"LOCATION",636:"LOCATOR",637:"M",638:"MAP",639:"MAPPING",640:"MAXVALUE",641:"MESSAGE_LENGTH",642:"MESSAGE_OCTET_LENGTH",643:"MESSAGE_TEXT",644:"MINVALUE",645:"MORE",646:"MUMPS",647:"NAME",648:"NAMES",649:"NAMESPACE",650:"NESTING",651:"NEXT",652:"NFC",653:"NFD",654:"NFKC",655:"NFKD",656:"NIL",657:"NORMALIZED",658:"NULLABLE",659:"OBJECT",660:"OCTETS",661:"OPTIONS",662:"ORDERING",663:"ORDINALITY",664:"OTHERS",665:"OVERRIDING",666:"P",667:"PAD",668:"PARAMETER_MODE",669:"PARAMETER_NAME",670:"PARAMETER_ORDINAL_POSITION",671:"PARAMETER_SPECIFIC_CATALOG",672:"PARAMETER_SPECIFIC_NAME",673:"PARAMETER_SPECIFIC_SCHEMA",674:"PARTIAL",675:"PASCAL",676:"PASSING",677:"PASSTHROUGH",678:"PERMISSION",679:"PLACING",680:"PLI",681:"PRECEDING",682:"PRESERVE",683:"PRIOR",684:"PRIVILEGES",685:"PUBLIC",686:"RECOVERY",687:"RELATIVE",688:"REPEATABLE",689:"REQUIRING",690:"RESPECT",691:"RESTART",692:"RESTORE",693:"RESTRICT",694:"RETURNED_CARDINALITY",695:"RETURNED_LENGTH",696:"RETURNED_OCTET_LENGTH",697:"RETURNED_SQLSTATE",698:"RETURNING",699:"ROLE",700:"ROUTINE",701:"ROUTINE_CATALOG",702:"ROUTINE_NAME",703:"ROUTINE_SCHEMA",704:"ROW_COUNT",705:"SCALE",706:"SCHEMA",707:"SCHEMA_NAME",708:"SCOPE_CATALOG",709:"SCOPE_NAME",710:"SCOPE_SCHEMA",711:"SECTION",712:"SECURITY",713:"SELECTIVE",714:"SELF",715:"SEQUENCE",716:"SERIALIZABLE",717:"SERVER",718:"SERVER_NAME",719:"SESSION",720:"SETS",721:"SIMPLE",722:"SIZE",723:"SPACE",724:"SPECIFIC_NAME",725:"STANDALONE",726:"STATE",727:"STATEMENT",728:"STRIP",729:"STRUCTURE",730:"STYLE",731:"SUBCLASS_ORIGIN",732:"T",733:"TABLE_NAME",734:"TEMPORARY",735:"TIES",736:"TOKEN",737:"TOP_LEVEL_COUNT",738:"TRANSACTIONS_COMMITTED",739:"TRANSACTIONS_ROLLED_BACK",740:"TRANSACTION_ACTIVE",741:"TRANSFORM",742:"TRANSFORMS",743:"TRIGGER_CATALOG",744:"TRIGGER_NAME",745:"TRIGGER_SCHEMA",746:"TYPE",747:"UNBOUNDED",748:"UNCOMMITTED",749:"UNDER",750:"UNLINK",751:"UNNAMED",752:"UNTYPED",753:"URI",754:"USAGE",755:"USER_DEFINED_TYPE_CATALOG",756:"USER_DEFINED_TYPE_CODE",757:"USER_DEFINED_TYPE_NAME",758:"USER_DEFINED_TYPE_SCHEMA",759:"VALID",760:"VERSION",761:"WHITESPACE",762:"WORK",763:"WRAPPER",764:"WRITE",765:"XMLDECLARATION",766:"XMLSCHEMA",767:"YES",768:"ZONE",769:"SEMICOLON",770:"PERCENT",771:"ROWS"},productions_:[0,[3,1],[3,1],[3,2],[7,1],[7,2],[8,2],[9,3],[9,1],[9,1],[13,2],[13,4],[12,1],[17,0],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[47,3],[73,3],[73,1],[75,5],[40,10],[40,4],[92,8],[92,11],[102,4],[104,2],[104,1],[103,3],[103,1],[105,1],[105,3],[106,3],[109,3],[109,1],[110,1],[110,2],[114,1],[114,1],[117,1],[117,5],[117,5],[117,1],[117,2],[117,1],[117,2],[117,2],[117,3],[117,4],[117,4],[117,4],[117,4],[117,4],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,2],[117,2],[117,2],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,2],[117,3],[117,4],[117,3],[117,1],[117,4],[117,2],[117,2],[117,4],[117,4],[117,4],[117,4],[117,4],[117,5],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,6],[163,3],[163,1],[153,1],[153,1],[153,1],[182,2],[79,4],[79,4],[79,4],[79,3],[184,1],[184,2],[184,2],[184,2],[184,2],[184,2],[184,2],[184,2],[195,1],[195,1],[186,3],[186,4],[186,0],[81,0],[81,2],[81,2],[81,2],[81,2],[81,2],[82,2],[82,3],[82,5],[82,0],[206,6],[206,7],[206,6],[206,7],[204,1],[204,3],[210,4],[210,5],[210,3],[210,3],[210,2],[210,3],[210,1],[210,3],[210,2],[210,3],[210,1],[210,1],[210,2],[210,3],[210,1],[210,1],[210,2],[210,3],[210,1],[210,2],[210,3],[215,1],[201,3],[201,1],[205,2],[205,2],[205,1],[205,1],[216,3],[218,1],[218,2],[218,3],[218,3],[218,2],[218,3],[218,4],[218,5],[218,1],[218,2],[218,3],[218,1],[218,2],[218,3],[217,1],[217,2],[222,1],[222,2],[222,2],[222,3],[222,2],[222,3],[222,2],[222,3],[222,2],[222,2],[222,2],[219,2],[219,2],[219,0],[84,0],[84,2],[85,0],[85,4],[234,1],[234,3],[236,5],[236,4],[236,4],[236,1],[235,0],[235,2],[88,0],[88,2],[88,3],[88,2],[88,2],[88,3],[88,4],[88,3],[88,3],[86,0],[86,3],[120,1],[120,3],[243,2],[243,2],[242,1],[242,2],[242,3],[242,3],[242,4],[87,0],[87,3],[87,8],[251,0],[251,2],[174,3],[174,1],[258,3],[258,2],[258,3],[258,2],[258,3],[258,2],[258,1],[259,5],[259,3],[259,1],[111,5],[111,3],[111,3],[111,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,3],[94,3],[94,3],[94,1],[94,1],[94,1],[56,1],[70,5],[71,5],[268,2],[268,2],[266,6],[266,8],[266,6],[266,8],[280,1],[280,1],[280,1],[280,1],[280,1],[280,1],[280,1],[280,1],[260,5],[260,6],[260,6],[281,0],[281,4],[281,4],[281,5],[283,3],[284,3],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[202,5],[202,3],[202,4],[202,4],[202,3],[202,8],[202,8],[202,8],[202,8],[202,8],[202,3],[151,1],[151,3],[196,1],[262,1],[262,1],[113,1],[113,1],[263,1],[197,2],[264,4],[267,3],[203,2],[203,2],[203,1],[203,1],[265,5],[265,4],[310,2],[310,1],[313,4],[311,2],[311,0],[261,3],[261,3],[261,3],[261,3],[261,5],[261,3],[261,5],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,5],[261,3],[261,3],[261,3],[261,5],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,3],[261,6],[261,6],[261,3],[261,3],[261,2],[261,2],[261,2],[261,2],[261,2],[261,3],[261,5],[261,6],[261,5],[261,6],[261,4],[261,5],[261,3],[261,4],[261,3],[261,4],[261,3],[261,3],[261,3],[261,3],[261,3],[335,1],[335,1],[335,4],[333,1],[333,1],[333,1],[333,1],[333,1],[333,1],[334,1],[334,1],[334,1],[55,6],[55,4],[147,1],[147,3],[342,3],[342,4],[29,5],[29,3],[36,5],[36,4],[36,7],[36,6],[36,5],[36,4],[36,5],[36,8],[36,7],[36,4],[36,6],[36,7],[347,1],[347,1],[346,0],[346,1],[348,3],[348,1],[348,1],[348,5],[348,3],[348,3],[351,1],[351,3],[352,1],[352,1],[352,1],[352,1],[352,1],[352,1],[100,1],[100,3],[24,9],[24,5],[355,1],[355,1],[358,0],[358,1],[360,2],[360,1],[361,1],[361,3],[361,3],[361,3],[354,0],[354,1],[356,0],[356,3],[357,3],[357,1],[357,2],[365,1],[365,3],[366,2],[366,2],[366,2],[366,2],[366,2],[367,0],[367,2],[372,4],[368,6],[369,9],[383,3],[382,0],[382,2],[384,4],[385,4],[370,6],[371,5],[371,5],[378,1],[378,1],[378,3],[378,3],[364,1],[364,3],[390,3],[390,2],[390,1],[393,6],[393,4],[393,1],[393,4],[278,2],[278,1],[394,1],[394,1],[391,0],[391,1],[397,2],[397,1],[399,3],[398,2],[398,5],[398,3],[398,6],[398,1],[398,2],[398,4],[398,2],[398,1],[398,2],[398,1],[398,1],[398,3],[398,5],[33,4],[405,3],[405,1],[404,0],[404,2],[18,6],[18,6],[18,6],[18,8],[18,6],[39,5],[19,4],[19,7],[19,6],[19,9],[30,3],[21,4],[21,6],[21,9],[21,6],[413,0],[413,2],[54,3],[54,2],[31,4],[31,5],[31,5],[22,8],[22,9],[32,3],[43,2],[43,4],[43,3],[43,5],[45,2],[45,4],[45,4],[45,6],[42,4],[42,6],[44,4],[44,6],[41,4],[41,6],[25,11],[25,8],[419,3],[419,3],[419,5],[34,4],[66,2],[57,2],[58,2],[58,2],[58,4],[144,4],[144,2],[144,2],[144,2],[144,2],[144,1],[144,2],[144,2],[428,1],[428,1],[429,1],[429,1],[429,1],[429,1],[429,1],[429,1],[429,1],[429,3],[425,3],[425,4],[425,2],[427,2],[427,3],[427,1],[431,3],[431,1],[434,3],[434,3],[434,3],[433,3],[433,1],[65,4],[65,3],[65,4],[65,5],[65,5],[65,6],[437,1],[437,1],[436,3],[436,2],[438,1],[438,1],[438,3],[435,1],[435,1],[51,2],[52,2],[50,2],[35,4],[35,3],[444,2],[59,3],[60,1],[61,1],[62,3],[63,2],[63,2],[64,2],[64,2],[452,1],[452,1],[69,2],[450,3],[450,1],[451,3],[451,1],[28,2],[455,1],[455,3],[456,3],[456,4],[456,5],[456,6],[46,3],[37,6],[459,1],[459,2],[460,2],[461,2],[462,2],[462,2],[462,1],[462,1],[464,4],[464,6],[467,1],[467,3],[465,5],[465,7],[465,7],[465,9],[465,7],[465,9],[468,3],[468,6],[468,3],[468,6],[463,0],[463,2],[463,5],[463,4],[463,7],[27,6],[475,2],[474,0],[474,2],[474,2],[474,1],[26,8],[23,3],[23,4],[479,3],[479,1],[480,3],[480,7],[480,6],[480,3],[480,4],[484,1],[484,1],[488,2],[489,3],[490,2],[491,4],[481,4],[481,3],[481,2],[481,1],[503,2],[499,2],[499,2],[504,4],[506,6],[67,3],[67,2],[512,3],[512,1],[510,1],[510,4],[68,2],[20,2],[48,9],[48,8],[48,9],[516,0],[516,1],[516,1],[516,1],[516,2],[517,1],[517,1],[517,1],[49,3],[38,2],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[11,1],[11,1],[80,0],[80,1],[83,0],[83,1],[90,0],[90,2],[91,0],[91,1],[96,0],[96,1],[97,0],[97,1],[101,0],[101,1],[108,0],[108,1],[121,0],[121,1],[125,1],[125,2],[126,1],[126,2],[127,0],[127,1],[155,0],[155,2],[157,0],[157,2],[159,0],[159,2],[160,1],[160,1],[161,0],[161,2],[165,0],[165,2],[167,0],[167,2],[176,0],[176,2],[177,0],[177,2],[178,0],[178,2],[188,0],[188,1],[199,0],[199,1],[211,0],[211,1],[212,0],[212,1],[220,0],[220,1],[221,0],[221,1],[253,0],[253,1],[255,0],[255,1],[256,0],[256,1],[257,0],[257,1],[269,1],[269,1],[772,1],[772,1],[294,0],[294,1],[307,1],[307,1],[343,1],[343,1],[377,0],[377,1],[381,0],[381,1],[388,0],[388,1],[389,0],[389,1],[400,0],[400,1],[401,0],[401,1],[403,1],[403,1],[417,0],[417,1],[418,0],[418,1],[471,0],[471,1],[472,0],[472,1],[473,0],[473,1],[477,0],[477,1],[482,0],[482,1],[483,0],[483,1],[485,0],[485,1],[486,0],[486,1],[487,0],[487,1],[492,0],[492,1],[493,0],[493,1],[494,0],[494,1],[495,0],[495,1],[496,0],[496,1],[497,0],[497,1],[498,0],[498,1],[500,0],[500,1],[501,0],[501,1],[502,0],[502,1],[505,0],[505,2],[507,0],[507,2],[508,0],[508,2],[509,0],[509,2],[518,0],[518,1],[519,0],[519,1]],performAction:function(e,t,r,n,i,a,s){var u=a.length-1;switch(i){case 1:o.options.casesensitive?this.$=a[u]:this.$=a[u].toLowerCase();break;case 2:this.$=h(a[u].substr(1,a[u].length-2));break;case 3:this.$=a[u].toLowerCase();break;case 4:case 77:case 78:case 86:case 147:case 187:case 249:case 285:case 293:case 294:case 295:case 296:case 297:case 298:case 299:case 300:case 301:case 302:case 303:case 304:case 305:case 306:case 309:case 310:case 326:case 327:case 328:case 329:case 330:case 331:case 384:case 450:case 451:case 452:case 453:case 454:case 455:case 526:case 552:case 556:case 558:case 633:case 634:case 635:case 636:case 637:case 638:case 642:case 644:case 645:case 654:case 670:case 671:case 733:case 748:case 749:case 751:case 752:case 758:case 759:case 314:case 447:case 448:case 680:this.$=a[u];break;case 5:this.$=a[u]?a[u-1]+" "+a[u]:a[u-1];break;case 6:return new n.Statements({statements:a[u-1]});case 7:this.$=a[u-2],a[u]&&a[u-2].push(a[u]);break;case 8:case 9:case 70:case 80:case 85:case 143:case 179:case 207:case 208:case 244:case 263:case 278:case 364:case 382:case 461:case 484:case 485:case 489:case 497:case 538:case 539:case 576:case 659:case 669:case 693:case 695:case 697:case 711:case 712:case 742:case 766:case 518:case 542:case 1071:case 1073:this.$=[a[u]];break;case 10:case 11:this.$=a[u],a[u].explain=!0;break;case 12:this.$=a[u],n.exists&&(this.$.exists=n.exists),delete n.exists,n.queries&&(this.$.queries=n.queries),delete n.queries;break;case 13:case 164:case 174:case 239:case 240:case 242:case 250:case 252:case 261:case 272:case 275:case 385:case 501:case 511:case 513:case 525:case 531:case 532:case 577:case 165:case 337:case 533:case 534:case 734:case 555:case 594:this.$=void 0;break;case 68:this.$=new n.WithSelect({withs:a[u-1],select:a[u]});break;case 69:case 575:case 277:case 519:case 543:case 658:case 668:case 692:case 694:case 698:case 365:a[u-2].push(a[u]),this.$=a[u-2];break;case 71:this.$={name:a[u-4],select:a[u-1]};break;case 72:n.extend(this.$,a[u-9]),n.extend(this.$,a[u-8]),n.extend(this.$,a[u-7]),n.extend(this.$,a[u-6]),n.extend(this.$,a[u-5]),n.extend(this.$,a[u-4]),n.extend(this.$,a[u-3]),n.extend(this.$,a[u-2]),n.extend(this.$,a[u-1]),n.extend(this.$,a[u]),this.$=a[u-9],n.exists&&(this.$.exists=n.exists.slice());break;case 73:this.$=new n.Search({selectors:a[u-2],from:a[u]}),n.extend(this.$,a[u-1]);break;case 74:this.$={pivot:{expr:a[u-5],columnid:a[u-3],inlist:a[u-2],as:a[u]}};break;case 75:this.$={unpivot:{tocolumnid:a[u-8],forcolumnid:a[u-6],inlist:a[u-3],as:a[u]}};break;case 76:case 530:case 559:case 595:case 629:case 646:case 647:case 650:case 672:case 449:this.$=a[u-1];break;case 79:case 84:case 741:case 765:case 142:this.$=a[u-2],this.$.push(a[u]);break;case 81:this.$={expr:a[u]};break;case 82:this.$={expr:a[u-2],as:a[u]};break;case 83:this.$={removecolumns:a[u]};break;case 87:this.$={like:a[u]};break;case 90:case 104:this.$={srchid:"PROP",args:[a[u]]};break;case 91:this.$={srchid:"ORDERBY",args:a[u-1]};break;case 92:var c=a[u-1];c||(c="ASC"),this.$={srchid:"ORDERBY",args:[{expression:new n.Column({columnid:"_"}),direction:c}]};break;case 93:this.$={srchid:"PARENT"};break;case 94:this.$={srchid:"APROP",args:[a[u]]};break;case 95:this.$={selid:"ROOT"};break;case 96:this.$={srchid:"EQ",args:[a[u]]};break;case 97:this.$={srchid:"LIKE",args:[a[u]]};break;case 98:case 99:this.$={selid:"WITH",args:a[u-1]};break;case 100:this.$={srchid:a[u-3].toUpperCase(),args:a[u-1]};break;case 101:this.$={srchid:"WHERE",args:[a[u-1]]};break;case 102:this.$={selid:"OF",args:[a[u-1]]};break;case 103:this.$={srchid:"CLASS",args:[a[u-1]]};break;case 105:this.$={srchid:"NAME",args:[a[u].substr(1,a[u].length-2)]};break;case 106:this.$={srchid:"CHILD"};break;case 107:this.$={srchid:"VERTEX"};break;case 108:this.$={srchid:"EDGE"};break;case 109:this.$={srchid:"REF"};break;case 110:this.$={srchid:"SHARP",args:[a[u]]};break;case 111:this.$={srchid:"ATTR",args:typeof a[u]>"u"?void 0:[a[u]]};break;case 112:this.$={srchid:"ATTR"};break;case 113:this.$={srchid:"OUT"};break;case 114:this.$={srchid:"IN"};break;case 115:this.$={srchid:"OUTOUT"};break;case 116:this.$={srchid:"ININ"};break;case 117:this.$={srchid:"CONTENT"};break;case 118:this.$={srchid:"EX",args:[new n.Json({value:a[u]})]};break;case 119:this.$={srchid:"AT",args:[a[u]]};break;case 120:this.$={srchid:"AS",args:[a[u]]};break;case 121:this.$={srchid:"SET",args:a[u-1]};break;case 122:this.$={selid:"TO",args:[a[u]]};break;case 123:this.$={srchid:"VALUE"};break;case 124:this.$={srchid:"ROW",args:a[u-1]};break;case 125:this.$={srchid:"CLASS",args:[a[u]]};break;case 126:this.$={selid:a[u],args:[a[u-1]]};break;case 127:this.$={selid:"NOT",args:a[u-1]};break;case 128:this.$={selid:"IF",args:a[u-1]};break;case 129:this.$={selid:a[u-3],args:a[u-1]};break;case 130:this.$={selid:"DISTINCT",args:a[u-1]};break;case 131:this.$={selid:"UNION",args:a[u-1]};break;case 132:this.$={selid:"UNIONALL",args:a[u-1]};break;case 133:this.$={selid:"ALL",args:[a[u-1]]};break;case 134:this.$={selid:"ANY",args:[a[u-1]]};break;case 135:this.$={selid:"INTERSECT",args:a[u-1]};break;case 136:this.$={selid:"EXCEPT",args:a[u-1]};break;case 137:this.$={selid:"AND",args:a[u-1]};break;case 138:this.$={selid:"OR",args:a[u-1]};break;case 139:this.$={selid:"PATH",args:[a[u-1]]};break;case 140:this.$={srchid:"RETURN",args:a[u-1]};break;case 141:this.$={selid:"REPEAT",sels:a[u-3],args:a[u-1]};break;case 144:this.$="PLUS";break;case 145:this.$="STAR";break;case 146:this.$="QUESTION";break;case 148:case 149:this.$=new n.Select({columns:a[u],distinct:!0}),n.extend(this.$,a[u-3]),n.extend(this.$,a[u-1]);break;case 150:this.$=new n.Select({columns:a[u],all:!0}),n.extend(this.$,a[u-3]),n.extend(this.$,a[u-1]);break;case 151:a[u]?(this.$=new n.Select({columns:a[u]}),n.extend(this.$,a[u-2]),n.extend(this.$,a[u-1])):this.$=new n.Select({columns:[new n.Column({columnid:"_"})],modifier:"COLUMN"});break;case 152:"SELECT"==a[u]?this.$=void 0:this.$={modifier:a[u]};break;case 153:this.$={modifier:"VALUE"};break;case 154:this.$={modifier:"ROW"};break;case 155:this.$={modifier:"COLUMN"};break;case 156:this.$={modifier:"MATRIX"};break;case 157:this.$={modifier:"TEXTSTRING"};break;case 158:this.$={modifier:"INDEX"};break;case 159:this.$={modifier:"RECORDSET"};break;case 162:this.$={top:a[u-1],percent:typeof a[u]<"u"||void 0};break;case 163:this.$={top:a[u-1]};break;case 166:case 167:case 168:case 169:case 705:case 706:this.$={into:a[u]};break;case 170:var l=(d=(d=a[u]).substr(1,d.length-2)).substr(-3).toUpperCase(),g=d.substr(-4).toUpperCase();"#"==d[0]?this.$={into:new n.FuncValue({funcid:"HTML",args:[new n.StringValue({value:d}),new n.Json({value:{headers:!0}})]})}:"XLS"==l||"CSV"==l||"TAB"==l?this.$={into:new n.FuncValue({funcid:l,args:[new n.StringValue({value:d}),new n.Json({value:{headers:!0}})]})}:("XLSX"==g||"JSON"==g)&&(this.$={into:new n.FuncValue({funcid:g,args:[new n.StringValue({value:d}),new n.Json({value:{headers:!0}})]})});break;case 171:this.$={from:a[u]};break;case 172:this.$={from:a[u-1],joins:a[u]};break;case 173:this.$={from:a[u-2],joins:a[u-1]};break;case 175:this.$=new n.Apply({select:a[u-2],applymode:"CROSS",as:a[u]});break;case 176:this.$=new n.Apply({select:a[u-3],applymode:"CROSS",as:a[u]});break;case 177:this.$=new n.Apply({select:a[u-2],applymode:"OUTER",as:a[u]});break;case 178:this.$=new n.Apply({select:a[u-3],applymode:"OUTER",as:a[u]});break;case 180:case 245:case 462:case 540:case 541:case 264:case 487:case 488:case 490:case 498:this.$=a[u-2],a[u-2].push(a[u]);break;case 181:this.$=a[u-2],this.$.as=a[u];break;case 182:this.$=a[u-3],this.$.as=a[u];break;case 183:this.$=a[u-1],this.$.as="default";break;case 184:this.$=new n.Json({value:a[u-2]}),a[u-2].as=a[u];break;case 185:case 189:case 193:case 197:case 200:this.$=a[u-1],a[u-1].as=a[u];break;case 186:case 190:case 194:case 198:case 201:this.$=a[u-2],a[u-2].as=a[u];break;case 188:case 648:case 651:this.$=a[u-2];break;case 191:case 192:case 196:case 199:this.$=a[u],a[u].as="default";break;case 195:this.$={inserted:!0};break;case 202:var d,f;if(l=(d=(d=a[u]).substr(1,d.length-2)).substr(-3).toUpperCase(),g=d.substr(-4).toUpperCase(),"#"==d[0])f=new n.FuncValue({funcid:"HTML",args:[new n.StringValue({value:d}),new n.Json({value:{headers:!0}})]});else if("XLS"==l||"CSV"==l||"TAB"==l)f=new n.FuncValue({funcid:l,args:[new n.StringValue({value:d}),new n.Json({value:{headers:!0}})]});else{if("XLSX"!=g&&"JSON"!=g)throw new Error("Unknown string in FROM clause");f=new n.FuncValue({funcid:g,args:[new n.StringValue({value:d}),new n.Json({value:{headers:!0}})]})}this.$=f;break;case 203:"INFORMATION_SCHEMA"==a[u-2]?this.$=new n.FuncValue({funcid:a[u-2],args:[new n.StringValue({value:a[u]})]}):this.$=new n.Table({databaseid:a[u-2],tableid:a[u]});break;case 204:this.$=new n.Table({tableid:a[u]});break;case 205:case 206:this.$=a[u-1],a[u-1].push(a[u]);break;case 209:this.$=new n.Join(a[u-2]),n.extend(this.$,a[u-1]),n.extend(this.$,a[u]);break;case 210:this.$={table:a[u]};break;case 211:this.$={table:a[u-1],as:a[u]};break;case 212:this.$={table:a[u-2],as:a[u]};break;case 213:this.$={json:new n.Json({value:a[u-2],as:a[u]})};break;case 214:this.$={param:a[u-1],as:a[u]};break;case 215:this.$={param:a[u-2],as:a[u]};break;case 216:this.$={select:a[u-2],as:a[u]};break;case 217:this.$={select:a[u-3],as:a[u]};break;case 218:this.$={func:a[u],as:"default"};break;case 219:this.$={func:a[u-1],as:a[u]};break;case 220:this.$={func:a[u-2],as:a[u]};break;case 221:this.$={variable:a[u],as:"default"};break;case 222:this.$={variable:a[u-1],as:a[u]};break;case 223:this.$={variable:a[u-2],as:a[u]};break;case 224:this.$={joinmode:a[u]};break;case 225:this.$={joinmode:a[u-1],natural:!0};break;case 226:case 227:this.$="INNER";break;case 228:case 229:this.$="LEFT";break;case 230:case 231:this.$="RIGHT";break;case 232:case 233:this.$="OUTER";break;case 234:this.$="SEMI";break;case 235:this.$="ANTI";break;case 236:this.$="CROSS";break;case 237:case 708:this.$={on:a[u]};break;case 238:case 707:this.$={using:a[u]};break;case 241:this.$={where:new n.Expression({expression:a[u]})};break;case 243:this.$={group:a[u-1]},n.extend(this.$,a[u]);break;case 246:this.$=new n.GroupExpression({type:"GROUPING SETS",group:a[u-1]});break;case 247:this.$=new n.GroupExpression({type:"ROLLUP",group:a[u-1]});break;case 248:this.$=new n.GroupExpression({type:"CUBE",group:a[u-1]});break;case 251:this.$={having:a[u]};break;case 253:this.$={union:a[u]};break;case 254:this.$={unionall:a[u]};break;case 255:this.$={except:a[u]};break;case 256:this.$={intersect:a[u]};break;case 257:this.$={union:a[u],corresponding:!0};break;case 258:this.$={unionall:a[u],corresponding:!0};break;case 259:this.$={except:a[u],corresponding:!0};break;case 260:this.$={intersect:a[u],corresponding:!0};break;case 262:case 342:this.$={order:a[u]};break;case 265:this.$={nullsOrder:"FIRST"};break;case 266:this.$={nullsOrder:"LAST"};break;case 267:this.$=new n.Expression({expression:a[u],direction:"ASC"});break;case 268:this.$=new n.Expression({expression:a[u-1],direction:a[u].toUpperCase()});break;case 269:this.$=new n.Expression({expression:a[u-2],direction:a[u-1].toUpperCase()}),n.extend(this.$,a[u]);break;case 270:this.$=new n.Expression({expression:a[u-2],direction:"ASC",nocase:!0});break;case 271:this.$=new n.Expression({expression:a[u-3],direction:a[u].toUpperCase(),nocase:!0});break;case 273:this.$={limit:a[u-1]},n.extend(this.$,a[u]);break;case 274:this.$={limit:a[u-2],offset:a[u-6]};break;case 276:this.$={offset:a[u]};break;case 279:case 281:case 283:a[u-2].as=a[u],this.$=a[u-2];break;case 280:case 282:case 284:a[u-1].as=a[u],this.$=a[u-1];break;case 286:this.$=new n.Column({columid:a[u],tableid:a[u-2],databaseid:a[u-4]});break;case 287:case 290:case 291:this.$=new n.Column({columnid:a[u],tableid:a[u-2]});break;case 288:case 292:this.$=new n.Column({columnid:a[u]});break;case 289:this.$=new n.Column({columnid:a[u],tableid:a[u-2],databaseid:a[u-4]});break;case 307:this.$=new n.DomainValueValue;break;case 308:this.$=new n.Json({value:a[u]});break;case 311:case 312:case 313:n.queries||(n.queries=[]),n.queries.push(a[u-1]),a[u-1].queriesidx=n.queries.length,this.$=a[u-1];break;case 315:case 332:this.$=new n.FuncValue({funcid:"CURRENT_TIMESTAMP"});break;case 316:case 333:this.$=new n.FuncValue({funcid:"CURRENT_DATE"});break;case 317:this.$=new n.JavaScript({value:a[u].substr(2,a[u].length-4)});break;case 318:this.$=new n.JavaScript({value:\'alasql.fn["\'+a[u-2]+\'"] = \'+a[u].substr(2,a[u].length-4)});break;case 319:this.$=new n.JavaScript({value:\'alasql.aggr["\'+a[u-2]+\'"] = \'+a[u].substr(2,a[u].length-4)});break;case 320:this.$=new n.FuncValue({funcid:a[u],newid:!0});break;case 321:this.$=a[u],n.extend(this.$,{newid:!0});break;case 322:this.$=new n.Convert({expression:a[u-3]}),n.extend(this.$,a[u-1]);break;case 323:this.$=new n.Convert({expression:a[u-5],style:a[u-1]}),n.extend(this.$,a[u-3]);break;case 324:this.$=new n.Convert({expression:a[u-1]}),n.extend(this.$,a[u-3]);break;case 325:this.$=new n.Convert({expression:a[u-3],style:a[u-1]}),n.extend(this.$,a[u-5]);break;case 334:a[u-2].length>1&&("MAX"==a[u-4].toUpperCase()||"MIN"==a[u-4].toUpperCase())?this.$=new n.FuncValue({funcid:a[u-4],args:a[u-2]}):this.$=new n.AggrValue({aggregatorid:a[u-4].toUpperCase(),expression:a[u-2].pop(),over:a[u]});break;case 335:this.$=new n.AggrValue({aggregatorid:a[u-5].toUpperCase(),expression:a[u-2],distinct:!0,over:a[u]});break;case 336:this.$=new n.AggrValue({aggregatorid:a[u-5].toUpperCase(),expression:a[u-2],over:a[u]});break;case 338:case 339:this.$=new n.Over,n.extend(this.$,a[u-1]);break;case 340:this.$=new n.Over,n.extend(this.$,a[u-2]),n.extend(this.$,a[u-1]);break;case 341:this.$={partition:a[u]};break;case 343:this.$="SUM";break;case 344:this.$="TOTAL";break;case 345:this.$="COUNT";break;case 346:this.$="MIN";break;case 347:case 554:this.$="MAX";break;case 348:this.$="AVG";break;case 349:this.$="FIRST";break;case 350:this.$="LAST";break;case 351:this.$="AGGR";break;case 352:this.$="ARRAY";break;case 353:var p=a[u-4],m=a[u-1];m.length>1&&("MIN"==p.toUpperCase()||"MAX"==p.toUpperCase())?this.$=new n.FuncValue({funcid:p,args:m}):o.aggr[a[u-4]]?this.$=new n.AggrValue({aggregatorid:"REDUCE",funcid:p,expression:m.pop(),distinct:"DISTINCT"==a[u-2]}):this.$=new n.FuncValue({funcid:p,args:m});break;case 354:case 357:this.$=new n.FuncValue({funcid:a[u-2]});break;case 355:this.$=new n.FuncValue({funcid:"IIF",args:a[u-1]});break;case 356:this.$=new n.FuncValue({funcid:"REPLACE",args:a[u-1]});break;case 358:this.$=new n.FuncValue({funcid:"DATEADD",args:[new n.StringValue({value:a[u-5]}),a[u-3],a[u-1]]});break;case 359:this.$=new n.FuncValue({funcid:"DATEADD",args:[a[u-5],a[u-3],a[u-1]]});break;case 360:this.$=new n.FuncValue({funcid:"DATEDIFF",args:[new n.StringValue({value:a[u-5]}),a[u-3],a[u-1]]});break;case 361:this.$=new n.FuncValue({funcid:"DATEDIFF",args:[a[u-5],a[u-3],a[u-1]]});break;case 362:this.$=new n.FuncValue({funcid:"TIMESTAMPDIFF",args:[new n.StringValue({value:a[u-5]}),a[u-3],a[u-1]]});break;case 363:this.$=new n.FuncValue({funcid:"INTERVAL",args:[a[u-1],new n.StringValue({value:a[u].toLowerCase()})]});break;case 366:this.$=new n.NumValue({value:+a[u]});break;case 367:this.$=new n.LogicValue({value:!0});break;case 368:this.$=new n.LogicValue({value:!1});break;case 369:this.$=new n.StringValue({value:a[u].substr(1,a[u].length-2).replace(/(\\\\\\\')/g,"\'").replace(/(\\\'\\\')/g,"\'")});break;case 370:this.$=new n.StringValue({value:a[u].substr(2,a[u].length-3).replace(/(\\\\\\\')/g,"\'").replace(/(\\\'\\\')/g,"\'")});break;case 371:this.$=new n.NullValue({value:void 0});break;case 372:this.$=new n.VarValue({variable:a[u]});break;case 373:n.exists||(n.exists=[]),this.$=new n.ExistsValue({value:a[u-1],existsidx:n.exists.length}),n.exists.push(a[u-1]);break;case 374:this.$=new n.ArrayValue({value:a[u-1]});break;case 375:case 376:this.$=new n.ParamValue({param:a[u]});break;case 377:typeof n.question>"u"&&(n.question=0),this.$=new n.ParamValue({param:n.question++});break;case 378:typeof n.question>"u"&&(n.question=0),this.$=new n.ParamValue({param:n.question++,array:!0});break;case 379:this.$=new n.CaseValue({expression:a[u-3],whens:a[u-2],elses:a[u-1]});break;case 380:this.$=new n.CaseValue({whens:a[u-2],elses:a[u-1]});break;case 381:case 709:case 710:this.$=a[u-1],this.$.push(a[u]);break;case 383:this.$={when:a[u-2],then:a[u]};break;case 386:case 387:this.$=new n.Op({left:a[u-2],op:"REGEXP",right:a[u]});break;case 388:this.$=new n.Op({left:a[u-2],op:"GLOB",right:a[u]});break;case 389:this.$=new n.Op({left:a[u-2],op:"LIKE",right:a[u]});break;case 390:this.$=new n.Op({left:a[u-4],op:"LIKE",right:a[u-2],escape:a[u]});break;case 391:this.$=new n.Op({left:a[u-2],op:"NOT LIKE",right:a[u]});break;case 392:this.$=new n.Op({left:a[u-4],op:"NOT LIKE",right:a[u-2],escape:a[u]});break;case 393:this.$=new n.Op({left:a[u-2],op:"||",right:a[u]});break;case 394:this.$=new n.Op({left:a[u-2],op:"+",right:a[u]});break;case 395:this.$=new n.Op({left:a[u-2],op:"-",right:a[u]});break;case 396:this.$=new n.Op({left:a[u-2],op:"*",right:a[u]});break;case 397:this.$=new n.Op({left:a[u-2],op:"/",right:a[u]});break;case 398:this.$=new n.Op({left:a[u-2],op:"%",right:a[u]});break;case 399:this.$=new n.Op({left:a[u-2],op:"^",right:a[u]});break;case 400:this.$=new n.Op({left:a[u-2],op:">>",right:a[u]});break;case 401:this.$=new n.Op({left:a[u-2],op:"<<",right:a[u]});break;case 402:this.$=new n.Op({left:a[u-2],op:"&",right:a[u]});break;case 403:this.$=new n.Op({left:a[u-2],op:"|",right:a[u]});break;case 404:case 405:case 407:this.$=new n.Op({left:a[u-2],op:"->",right:a[u]});break;case 406:this.$=new n.Op({left:a[u-4],op:"->",right:a[u-1]});break;case 408:case 409:case 411:this.$=new n.Op({left:a[u-2],op:"!",right:a[u]});break;case 410:this.$=new n.Op({left:a[u-4],op:"!",right:a[u-1]});break;case 412:this.$=new n.Op({left:a[u-2],op:">",right:a[u]});break;case 413:this.$=new n.Op({left:a[u-2],op:">=",right:a[u]});break;case 414:this.$=new n.Op({left:a[u-2],op:"<",right:a[u]});break;case 415:this.$=new n.Op({left:a[u-2],op:"<=",right:a[u]});break;case 416:this.$=new n.Op({left:a[u-2],op:"=",right:a[u]});break;case 417:this.$=new n.Op({left:a[u-2],op:"==",right:a[u]});break;case 418:this.$=new n.Op({left:a[u-2],op:"===",right:a[u]});break;case 419:this.$=new n.Op({left:a[u-2],op:"!=",right:a[u]});break;case 420:this.$=new n.Op({left:a[u-2],op:"!==",right:a[u]});break;case 421:this.$=new n.Op({left:a[u-2],op:"!===",right:a[u]});break;case 422:n.queries||(n.queries=[]),this.$=new n.Op({left:a[u-5],op:a[u-4],allsome:a[u-3],right:a[u-1],queriesidx:n.queries.length}),n.queries.push(a[u-1]);break;case 423:this.$=new n.Op({left:a[u-5],op:a[u-4],allsome:a[u-3],right:a[u-1]});break;case 424:"BETWEEN1"==a[u-2].op?"AND"==a[u-2].left.op?this.$=new n.Op({left:a[u-2].left.left,op:"AND",right:new n.Op({left:a[u-2].left.right,op:"BETWEEN",right1:a[u-2].right,right2:a[u]})}):this.$=new n.Op({left:a[u-2].left,op:"BETWEEN",right1:a[u-2].right,right2:a[u]}):"NOT BETWEEN1"==a[u-2].op?"AND"==a[u-2].left.op?this.$=new n.Op({left:a[u-2].left.left,op:"AND",right:new n.Op({left:a[u-2].left.right,op:"NOT BETWEEN",right1:a[u-2].right,right2:a[u]})}):this.$=new n.Op({left:a[u-2].left,op:"NOT BETWEEN",right1:a[u-2].right,right2:a[u]}):this.$=new n.Op({left:a[u-2],op:"AND",right:a[u]});break;case 425:this.$=new n.Op({left:a[u-2],op:"OR",right:a[u]});break;case 426:this.$=new n.UniOp({op:"NOT",right:a[u]});break;case 427:this.$=new n.UniOp({op:"-",right:a[u]});break;case 428:this.$=new n.UniOp({op:"+",right:a[u]});break;case 429:this.$=new n.UniOp({op:"~",right:a[u]});break;case 430:this.$=new n.UniOp({op:"#",right:a[u]});break;case 431:this.$=new n.UniOp({right:a[u-1]});break;case 432:n.queries||(n.queries=[]),this.$=new n.Op({left:a[u-4],op:"IN",right:a[u-1],queriesidx:n.queries.length}),n.queries.push(a[u-1]);break;case 433:n.queries||(n.queries=[]),this.$=new n.Op({left:a[u-5],op:"NOT IN",right:a[u-1],queriesidx:n.queries.length}),n.queries.push(a[u-1]);break;case 434:this.$=new n.Op({left:a[u-4],op:"IN",right:a[u-1]});break;case 435:this.$=new n.Op({left:a[u-5],op:"NOT IN",right:a[u-1]});break;case 436:this.$=new n.Op({left:a[u-3],op:"IN",right:[]});break;case 437:this.$=new n.Op({left:a[u-4],op:"NOT IN",right:[]});break;case 438:case 440:this.$=new n.Op({left:a[u-2],op:"IN",right:a[u]});break;case 439:case 441:this.$=new n.Op({left:a[u-3],op:"NOT IN",right:a[u]});break;case 442:this.$=new n.Op({left:a[u-2],op:"BETWEEN1",right:a[u]});break;case 443:this.$=new n.Op({left:a[u-2],op:"NOT BETWEEN1",right:a[u]});break;case 444:this.$=new n.Op({op:"IS",left:a[u-2],right:a[u]});break;case 445:this.$=new n.Op({op:"IS",left:a[u-2],right:new n.UniOp({op:"NOT",right:new n.NullValue({value:void 0})})});break;case 446:this.$=new n.Convert({expression:a[u-2]}),n.extend(this.$,a[u]);break;case 456:this.$="ALL";break;case 457:this.$="SOME";break;case 458:this.$="ANY";break;case 459:this.$=new n.Update({table:a[u-4],columns:a[u-2],where:a[u]});break;case 460:this.$=new n.Update({table:a[u-2],columns:a[u]});break;case 463:this.$=new n.SetColumn({column:a[u-2],expression:a[u]});break;case 464:this.$=new n.SetColumn({variable:a[u-2],expression:a[u],method:a[u-3]});break;case 465:this.$=new n.Delete({table:a[u-2],where:a[u]});break;case 466:this.$=new n.Delete({table:a[u]});break;case 467:this.$=new n.Insert({into:a[u-2],values:a[u]});break;case 468:this.$=new n.Insert({into:a[u-1],values:a[u]});break;case 469:case 471:this.$=new n.Insert({into:a[u-2],values:a[u],orreplace:!0});break;case 470:case 472:this.$=new n.Insert({into:a[u-1],values:a[u],orreplace:!0});break;case 473:this.$=new n.Insert({into:a[u-2],default:!0});break;case 474:this.$=new n.Insert({into:a[u-5],columns:a[u-3],values:a[u]});break;case 475:this.$=new n.Insert({into:a[u-4],columns:a[u-2],values:a[u]});break;case 476:this.$=new n.Insert({into:a[u-1],select:a[u]});break;case 477:this.$=new n.Insert({into:a[u-1],select:a[u],orreplace:!0});break;case 478:this.$=new n.Insert({into:a[u-4],columns:a[u-2],select:a[u]});break;case 483:this.$=[a[u-1]];break;case 486:this.$=a[u-4],a[u-4].push(a[u-1]);break;case 499:this.$=new n.CreateTable({table:a[u-4]}),n.extend(this.$,a[u-7]),n.extend(this.$,a[u-6]),n.extend(this.$,a[u-5]),n.extend(this.$,a[u-2]),n.extend(this.$,a[u]);break;case 500:this.$=new n.CreateTable({table:a[u]}),n.extend(this.$,a[u-3]),n.extend(this.$,a[u-2]),n.extend(this.$,a[u-1]);break;case 502:this.$={class:!0};break;case 512:this.$={temporary:!0};break;case 514:this.$={ifnotexists:!0};break;case 515:this.$={columns:a[u-2],constraints:a[u]};break;case 516:this.$={columns:a[u]};break;case 517:this.$={as:a[u]};break;case 520:case 521:case 522:case 523:case 524:a[u].constraintid=a[u-1],this.$=a[u];break;case 527:this.$={type:"CHECK",expression:a[u-1]};break;case 528:this.$={type:"PRIMARY KEY",columns:a[u-1],clustered:(a[u-3]+"").toUpperCase()};break;case 529:this.$={type:"FOREIGN KEY",columns:a[u-5],fktable:a[u-2],fkcolumns:a[u-1]};break;case 535:this.$={type:"UNIQUE",columns:a[u-1],clustered:(a[u-3]+"").toUpperCase()};break;case 544:this.$=new n.ColumnDef({columnid:a[u-2]}),n.extend(this.$,a[u-1]),n.extend(this.$,a[u]);break;case 545:this.$=new n.ColumnDef({columnid:a[u-1]}),n.extend(this.$,a[u]);break;case 546:this.$=new n.ColumnDef({columnid:a[u],dbtypeid:""});break;case 547:this.$={dbtypeid:a[u-5],dbsize:a[u-3],dbprecision:+a[u-1]};break;case 548:this.$={dbtypeid:a[u-3],dbsize:a[u-1]};break;case 549:this.$={dbtypeid:a[u]};break;case 550:this.$={dbtypeid:"ENUM",enumvalues:a[u-1]};break;case 551:this.$=a[u-1],a[u-1].dbtypeid+="["+a[u]+"]";break;case 553:case 760:this.$=+a[u];break;case 557:n.extend(a[u-1],a[u]),this.$=a[u-1];break;case 560:this.$={primarykey:!0};break;case 561:case 562:this.$={foreignkey:{table:a[u-1],columnid:a[u]}};break;case 563:this.$={identity:{value:a[u-3],step:a[u-1]}};break;case 564:this.$={identity:{value:1,step:1}};break;case 565:case 567:this.$={default:a[u]};break;case 566:this.$={default:a[u-1]};break;case 568:this.$={null:!0};break;case 569:this.$={notnull:!0};break;case 570:this.$={check:a[u]};break;case 571:this.$={unique:!0};break;case 572:this.$={onupdate:a[u]};break;case 573:this.$={onupdate:a[u-1]};break;case 574:this.$=new n.DropTable({tables:a[u],type:a[u-2]}),n.extend(this.$,a[u-1]);break;case 578:this.$={ifexists:!0};break;case 579:this.$=new n.AlterTable({table:a[u-3],renameto:a[u]});break;case 580:this.$=new n.AlterTable({table:a[u-3],addcolumn:a[u]});break;case 581:this.$=new n.AlterTable({table:a[u-3],modifycolumn:a[u]});break;case 582:this.$=new n.AlterTable({table:a[u-5],renamecolumn:a[u-2],to:a[u]});break;case 583:this.$=new n.AlterTable({table:a[u-3],dropcolumn:a[u]});break;case 584:this.$=new n.AlterTable({table:a[u-2],renameto:a[u]});break;case 585:this.$=new n.AttachDatabase({databaseid:a[u],engineid:a[u-2].toUpperCase()});break;case 586:this.$=new n.AttachDatabase({databaseid:a[u-3],engineid:a[u-5].toUpperCase(),args:a[u-1]});break;case 587:this.$=new n.AttachDatabase({databaseid:a[u-2],engineid:a[u-4].toUpperCase(),as:a[u]});break;case 588:this.$=new n.AttachDatabase({databaseid:a[u-5],engineid:a[u-7].toUpperCase(),as:a[u],args:a[u-3]});break;case 589:this.$=new n.DetachDatabase({databaseid:a[u]});break;case 590:this.$=new n.CreateDatabase({databaseid:a[u]}),n.extend(this.$,a[u]);break;case 591:this.$=new n.CreateDatabase({engineid:a[u-4].toUpperCase(),databaseid:a[u-1],as:a[u]}),n.extend(this.$,a[u-2]);break;case 592:this.$=new n.CreateDatabase({engineid:a[u-7].toUpperCase(),databaseid:a[u-4],args:a[u-2],as:a[u]}),n.extend(this.$,a[u-5]);break;case 593:this.$=new n.CreateDatabase({engineid:a[u-4].toUpperCase(),as:a[u],args:[a[u-1]]}),n.extend(this.$,a[u-2]);break;case 596:case 597:this.$=new n.UseDatabase({databaseid:a[u]});break;case 598:this.$=new n.DropDatabase({databaseid:a[u]}),n.extend(this.$,a[u-1]);break;case 599:case 600:this.$=new n.DropDatabase({databaseid:a[u],engineid:a[u-3].toUpperCase()}),n.extend(this.$,a[u-1]);break;case 601:this.$=new n.CreateIndex({indexid:a[u-5],table:a[u-3],columns:a[u-1]});break;case 602:this.$=new n.CreateIndex({indexid:a[u-5],table:a[u-3],columns:a[u-1],unique:!0});break;case 603:this.$=new n.DropIndex({indexid:a[u]});break;case 604:this.$=new n.ShowDatabases;break;case 605:this.$=new n.ShowDatabases({like:a[u]});break;case 606:this.$=new n.ShowDatabases({engineid:a[u-1].toUpperCase()});break;case 607:this.$=new n.ShowDatabases({engineid:a[u-3].toUpperCase(),like:a[u]});break;case 608:this.$=new n.ShowTables;break;case 609:this.$=new n.ShowTables({like:a[u]});break;case 610:this.$=new n.ShowTables({databaseid:a[u]});break;case 611:this.$=new n.ShowTables({like:a[u],databaseid:a[u-2]});break;case 612:this.$=new n.ShowColumns({table:a[u]});break;case 613:this.$=new n.ShowColumns({table:a[u-2],databaseid:a[u]});break;case 614:this.$=new n.ShowIndex({table:a[u]});break;case 615:this.$=new n.ShowIndex({table:a[u-2],databaseid:a[u]});break;case 616:this.$=new n.ShowCreateTable({table:a[u]});break;case 617:this.$=new n.ShowCreateTable({table:a[u-2],databaseid:a[u]});break;case 618:this.$=new n.CreateTable({table:a[u-6],view:!0,select:a[u-1],viewcolumns:a[u-4]}),n.extend(this.$,a[u-9]),n.extend(this.$,a[u-7]);break;case 619:this.$=new n.CreateTable({table:a[u-3],view:!0,select:a[u-1]}),n.extend(this.$,a[u-6]),n.extend(this.$,a[u-4]);break;case 623:this.$=new n.DropTable({tables:a[u],view:!0}),n.extend(this.$,a[u-1]);break;case 624:case 770:this.$=new n.ExpressionStatement({expression:a[u]});break;case 625:this.$=new n.Source({url:a[u].value});break;case 626:this.$=new n.Assert({value:a[u]});break;case 627:this.$=new n.Assert({value:a[u].value});break;case 628:this.$=new n.Assert({value:a[u],message:a[u-2]});break;case 630:case 641:case 643:this.$=a[u].value;break;case 631:case 639:this.$=+a[u].value;break;case 632:this.$=!!a[u].value;break;case 640:this.$=""+a[u].value;break;case 649:this.$={};break;case 652:case 1057:case 1077:case 1079:case 1081:case 1085:case 1087:case 1089:case 1091:case 1093:case 1095:this.$=[];break;case 653:n.extend(a[u-2],a[u]),this.$=a[u-2];break;case 655:this.$={},this.$[a[u-2].substr(1,a[u-2].length-2)]=a[u];break;case 656:case 657:this.$={},this.$[a[u-2]]=a[u];break;case 660:this.$=new n.SetVariable({variable:a[u-2].toLowerCase(),value:a[u]});break;case 661:this.$=new n.SetVariable({variable:a[u-1].toLowerCase(),value:a[u]});break;case 662:this.$=new n.SetVariable({variable:a[u-2],expression:a[u]});break;case 663:this.$=new n.SetVariable({variable:a[u-3],props:a[u-2],expression:a[u]});break;case 664:this.$=new n.SetVariable({variable:a[u-2],expression:a[u],method:a[u-3]});break;case 665:this.$=new n.SetVariable({variable:a[u-3],props:a[u-2],expression:a[u],method:a[u-4]});break;case 666:this.$="@";break;case 667:this.$="$";break;case 673:this.$=!0;break;case 674:this.$=!1;break;case 675:this.$=new n.CommitTransaction;break;case 676:this.$=new n.RollbackTransaction;break;case 677:this.$=new n.BeginTransaction;break;case 678:this.$=new n.If({expression:a[u-2],thenstat:a[u-1],elsestat:a[u]}),a[u-1].exists&&(this.$.exists=a[u-1].exists),a[u-1].queries&&(this.$.queries=a[u-1].queries);break;case 679:this.$=new n.If({expression:a[u-1],thenstat:a[u]}),a[u].exists&&(this.$.exists=a[u].exists),a[u].queries&&(this.$.queries=a[u].queries);break;case 681:this.$=new n.While({expression:a[u-1],loopstat:a[u]}),a[u].exists&&(this.$.exists=a[u].exists),a[u].queries&&(this.$.queries=a[u].queries);break;case 682:this.$=new n.Continue;break;case 683:this.$=new n.Break;break;case 684:this.$=new n.BeginEnd({statements:a[u-1]});break;case 685:this.$=new n.Print({exprs:a[u]});break;case 686:this.$=new n.Print({select:a[u]});break;case 687:this.$=new n.Require({paths:a[u]});break;case 688:this.$=new n.Require({plugins:a[u]});break;case 689:case 690:this.$=a[u].toUpperCase();break;case 691:this.$=new n.Echo({expr:a[u]});break;case 696:this.$=new n.Declare({declares:a[u]});break;case 699:this.$={variable:a[u-1]},n.extend(this.$,a[u]);break;case 700:this.$={variable:a[u-2]},n.extend(this.$,a[u]);break;case 701:this.$={variable:a[u-3],expression:a[u]},n.extend(this.$,a[u-2]);break;case 702:this.$={variable:a[u-4],expression:a[u]},n.extend(this.$,a[u-2]);break;case 703:this.$=new n.TruncateTable({table:a[u]});break;case 704:this.$=new n.Merge,n.extend(this.$,a[u-4]),n.extend(this.$,a[u-3]),n.extend(this.$,a[u-2]),n.extend(this.$,{matches:a[u-1]}),n.extend(this.$,a[u]);break;case 713:this.$={matched:!0,action:a[u]};break;case 714:this.$={matched:!0,expr:a[u-2],action:a[u]};break;case 715:this.$={delete:!0};break;case 716:this.$={update:a[u]};break;case 717:case 718:this.$={matched:!1,bytarget:!0,action:a[u]};break;case 719:case 720:this.$={matched:!1,bytarget:!0,expr:a[u-2],action:a[u]};break;case 721:this.$={matched:!1,bysource:!0,action:a[u]};break;case 722:this.$={matched:!1,bysource:!0,expr:a[u-2],action:a[u]};break;case 723:this.$={insert:!0,values:a[u]};break;case 724:this.$={insert:!0,values:a[u],columns:a[u-3]};break;case 725:this.$={insert:!0,defaultvalues:!0};break;case 726:this.$={insert:!0,defaultvalues:!0,columns:a[u-3]};break;case 728:this.$={output:{columns:a[u]}};break;case 729:this.$={output:{columns:a[u-3],intovar:a[u],method:a[u-1]}};break;case 730:this.$={output:{columns:a[u-2],intotable:a[u]}};break;case 731:this.$={output:{columns:a[u-5],intotable:a[u-3],intocolumns:a[u-1]}};break;case 732:this.$=new n.CreateVertex({class:a[u-3],sharp:a[u-2],name:a[u-1]}),n.extend(this.$,a[u]);break;case 735:this.$={sets:a[u]};break;case 736:this.$={content:a[u]};break;case 737:this.$={select:a[u]};break;case 738:this.$=new n.CreateEdge({from:a[u-3],to:a[u-1],name:a[u-5]}),n.extend(this.$,a[u]);break;case 739:this.$=new n.CreateGraph({graph:a[u]});break;case 740:this.$=new n.CreateGraph({from:a[u]});break;case 743:this.$=a[u-2],a[u-1]&&(this.$.json=new n.Json({value:a[u-1]})),a[u]&&(this.$.as=a[u]);break;case 744:this.$={source:a[u-6],target:a[u]},a[u-3]&&(this.$.json=new n.Json({value:a[u-3]})),a[u-2]&&(this.$.as=a[u-2]),n.extend(this.$,a[u-4]);break;case 745:this.$={source:a[u-5],target:a[u]},a[u-2]&&(this.$.json=new n.Json({value:a[u-3]})),a[u-1]&&(this.$.as=a[u-2]);break;case 746:this.$={source:a[u-2],target:a[u]};break;case 750:this.$={vars:a[u],method:a[u-1]};break;case 753:case 754:var y=a[u-1];this.$={prop:a[u-3],sharp:a[u-2],name:typeof y>"u"?void 0:y.substr(1,y.length-2),class:a[u]};break;case 755:var b=a[u-1];this.$={sharp:a[u-2],name:typeof b>"u"?void 0:b.substr(1,b.length-2),class:a[u]};break;case 756:var E=a[u-1];this.$={name:typeof E>"u"?void 0:E.substr(1,E.length-2),class:a[u]};break;case 757:this.$={class:a[u]};break;case 763:this.$=new n.AddRule({left:a[u-2],right:a[u]});break;case 764:this.$=new n.AddRule({right:a[u]});break;case 767:this.$={termid:a[u]};break;case 768:this.$={termid:a[u-3],args:a[u-1]};break;case 771:this.$=new n.CreateTrigger({trigger:a[u-6],when:a[u-5],action:a[u-4],table:a[u-2],statement:a[u]}),a[u].exists&&(this.$.exists=a[u].exists),a[u].queries&&(this.$.queries=a[u].queries);break;case 772:this.$=new n.CreateTrigger({trigger:a[u-5],when:a[u-4],action:a[u-3],table:a[u-1],funcid:a[u]});break;case 773:this.$=new n.CreateTrigger({trigger:a[u-6],when:a[u-4],action:a[u-3],table:a[u-5],statement:a[u]}),a[u].exists&&(this.$.exists=a[u].exists),a[u].queries&&(this.$.queries=a[u].queries);break;case 774:case 775:case 777:this.$="AFTER";break;case 776:this.$="BEFORE";break;case 778:this.$="INSTEADOF";break;case 779:this.$="INSERT";break;case 780:this.$="DELETE";break;case 781:this.$="UPDATE";break;case 782:this.$=new n.DropTrigger({trigger:a[u]});break;case 783:this.$=new n.Reindex({indexid:a[u]});break;case 1058:case 1072:case 1074:case 1078:case 1080:case 1082:case 1086:case 1088:case 1090:case 1092:case 1094:case 1096:a[u-1].push(a[u])}},table:[e([10,608,769],t,{8:1,9:2,12:3,13:4,17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,2:r,4:n,5:i,14:a,53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),{1:[3]},{10:[1,105],11:106,608:z,769:Y},e(W,[2,8]),e(W,[2,9]),e(K,[2,12]),e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,12:109,2:r,4:n,5:i,15:[1,110],53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),e(K,[2,14]),e(K,[2,15]),e(K,[2,16]),e(K,[2,17]),e(K,[2,18]),e(K,[2,19]),e(K,[2,20]),e(K,[2,21]),e(K,[2,22]),e(K,[2,23]),e(K,[2,24]),e(K,[2,25]),e(K,[2,26]),e(K,[2,27]),e(K,[2,28]),e(K,[2,29]),e(K,[2,30]),e(K,[2,31]),e(K,[2,32]),e(K,[2,33]),e(K,[2,34]),e(K,[2,35]),e(K,[2,36]),e(K,[2,37]),e(K,[2,38]),e(K,[2,39]),e(K,[2,40]),e(K,[2,41]),e(K,[2,42]),e(K,[2,43]),e(K,[2,44]),e(K,[2,45]),e(K,[2,46]),e(K,[2,47]),e(K,[2,48]),e(K,[2,49]),e(K,[2,50]),e(K,[2,51]),e(K,[2,52]),e(K,[2,53]),e(K,[2,54]),e(K,[2,55]),e(K,[2,56]),e(K,[2,57]),e(K,[2,58]),e(K,[2,59]),e(K,[2,60]),e(K,[2,61]),e(K,[2,62]),e(K,[2,63]),e(K,[2,64]),e(K,[2,65]),e(K,[2,66]),e(K,[2,67]),{359:[1,111]},{2:r,3:112,4:n,5:i},{2:r,3:114,4:n,5:i,156:J,202:113,271:X,295:Q,296:Z,297:ee,298:te,299:re},e(oe,[2,511],{3:123,354:127,2:r,4:n,5:i,134:ne,135:ie,187:[1,125],193:[1,124],274:[1,131],275:[1,132],363:[1,133],411:[1,122],478:[1,126],515:[1,130]}),{145:ae,455:134,456:135},{183:[1,137]},{411:[1,138]},{2:r,3:140,4:n,5:i,130:[1,146],193:[1,141],359:[1,145],403:142,411:[1,139],416:[1,143],515:[1,144]},{2:r,3:171,4:n,5:i,56:167,77:se,94:147,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(ze,Ye,{346:208,171:[1,209],200:We}),e(ze,Ye,{346:211,200:We}),{2:r,3:223,4:n,5:i,77:Ke,132:Je,143:ge,144:216,145:de,152:he,156:J,181:be,197:221,200:[1,214],201:217,202:219,203:218,210:213,214:Xe,215:222,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He,425:193,426:Ve,430:Ge,459:212},{2:r,3:225,4:n,5:i},{359:[1,226]},e(Qe,[2,1053],{80:227,106:228,107:[1,229]}),e(Ze,[2,1057],{90:230}),{2:r,3:234,4:n,5:i,190:[1,232],193:[1,235],273:[1,231],359:[1,236],411:[1,233]},{359:[1,237]},{2:r,3:240,4:n,5:i,73:238,75:239},e([312,608,769],t,{12:3,13:4,17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,9:242,2:r,4:n,5:i,14:a,53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,441:[1,241],442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),{441:[1,243]},{441:[1,244]},{2:r,3:246,4:n,5:i,411:[1,245]},{2:r,3:248,4:n,5:i,201:247},e(et,[2,317]),{113:249,132:ce,302:$e},{2:r,3:114,4:n,5:i,113:255,131:ue,132:[1,252],143:ge,144:250,145:tt,152:he,156:J,181:be,196:254,202:259,203:258,262:256,263:257,270:rt,271:ot,280:251,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,308:He,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:262,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(K,[2,682]),e(K,[2,683]),{2:r,3:171,4:n,5:i,40:264,56:167,77:se,79:75,89:c,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:263,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,184:99,189:f,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:271,4:n,5:i,113:268,132:ce,302:$e,450:266,451:267,452:269,453:nt},{2:r,3:272,4:n,5:i,143:it,145:at,437:273},{2:r,3:171,4:n,5:i,56:167,77:se,94:276,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{511:[1,277]},{2:r,3:100,4:n,5:i,510:279,512:278},{2:r,3:114,4:n,5:i,156:J,202:280,271:X,295:Q,296:Z,297:ee,298:te,299:re},{2:r,3:171,4:n,5:i,56:167,77:se,94:281,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(st,ut,{186:285,164:[1,284],185:[1,282],187:[1,283],198:ct}),e(lt,[2,767],{77:[1,287]}),e([2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,152,154,156,162,164,168,169,179,180,181,183,185,187,198,200,233,245,246,250,252,270,271,272,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,308,309,312,316,318,323,426,430,608,769],[2,152],{149:[1,288],150:[1,289],190:[1,290],191:[1,291],192:[1,292],193:[1,293],194:[1,294]}),e(gt,[2,1]),e(gt,[2,2]),{6:295,131:[1,444],172:[1,467],244:[1,443],245:[1,378],246:[1,412],250:[1,416],376:[1,409],387:[1,300],408:[1,302],416:[1,554],420:[1,476],422:[1,448],423:[1,514],439:[1,447],441:[1,530],446:[1,347],466:[1,423],470:[1,453],476:[1,346],520:[1,312],521:[1,304],522:[1,404],524:[1,296],525:[1,297],526:[1,298],527:[1,299],528:[1,301],529:[1,303],530:[1,305],531:[1,306],532:[1,307],533:[1,308],534:[1,309],535:[1,310],536:[1,311],537:[1,313],538:[1,314],539:[1,315],540:[1,316],541:[1,317],542:[1,318],543:[1,319],544:[1,320],545:[1,321],546:[1,322],547:[1,323],548:[1,324],549:[1,325],550:[1,326],551:[1,327],552:[1,328],553:[1,329],554:[1,330],555:[1,331],556:[1,332],557:[1,333],558:[1,334],559:[1,335],560:[1,336],561:[1,337],562:[1,338],563:[1,339],564:[1,340],565:[1,341],566:[1,342],567:[1,343],568:[1,344],569:[1,345],570:[1,348],571:[1,349],572:[1,350],573:[1,351],574:[1,352],575:[1,353],576:[1,354],577:[1,355],578:[1,356],579:[1,357],580:[1,358],581:[1,359],582:[1,360],583:[1,361],584:[1,362],585:[1,363],586:[1,364],587:[1,365],588:[1,366],589:[1,367],590:[1,368],591:[1,369],592:[1,370],593:[1,371],594:[1,372],595:[1,373],596:[1,374],597:[1,375],598:[1,376],599:[1,377],600:[1,379],601:[1,380],602:[1,381],603:[1,382],604:[1,383],605:[1,384],606:[1,385],607:[1,386],608:[1,387],609:[1,388],610:[1,389],611:[1,390],612:[1,391],613:[1,392],614:[1,393],615:[1,394],616:[1,395],617:[1,396],618:[1,397],619:[1,398],620:[1,399],621:[1,400],622:[1,401],623:[1,402],624:[1,403],625:[1,405],626:[1,406],627:[1,407],628:[1,408],629:[1,410],630:[1,411],631:[1,413],632:[1,414],633:[1,415],634:[1,417],635:[1,418],636:[1,419],637:[1,420],638:[1,421],639:[1,422],640:[1,424],641:[1,425],642:[1,426],643:[1,427],644:[1,428],645:[1,429],646:[1,430],647:[1,431],648:[1,432],649:[1,433],650:[1,434],651:[1,435],652:[1,436],653:[1,437],654:[1,438],655:[1,439],656:[1,440],657:[1,441],658:[1,442],659:[1,445],660:[1,446],661:[1,449],662:[1,450],663:[1,451],664:[1,452],665:[1,454],666:[1,455],667:[1,456],668:[1,457],669:[1,458],670:[1,459],671:[1,460],672:[1,461],673:[1,462],674:[1,463],675:[1,464],676:[1,465],677:[1,466],678:[1,468],679:[1,469],680:[1,470],681:[1,471],682:[1,472],683:[1,473],684:[1,474],685:[1,475],686:[1,477],687:[1,478],688:[1,479],689:[1,480],690:[1,481],691:[1,482],692:[1,483],693:[1,484],694:[1,485],695:[1,486],696:[1,487],697:[1,488],698:[1,489],699:[1,490],700:[1,491],701:[1,492],702:[1,493],703:[1,494],704:[1,495],705:[1,496],706:[1,497],707:[1,498],708:[1,499],709:[1,500],710:[1,501],711:[1,502],712:[1,503],713:[1,504],714:[1,505],715:[1,506],716:[1,507],717:[1,508],718:[1,509],719:[1,510],720:[1,511],721:[1,512],722:[1,513],723:[1,515],724:[1,516],725:[1,517],726:[1,518],727:[1,519],728:[1,520],729:[1,521],730:[1,522],731:[1,523],732:[1,524],733:[1,525],734:[1,526],735:[1,527],736:[1,528],737:[1,529],738:[1,531],739:[1,532],740:[1,533],741:[1,534],742:[1,535],743:[1,536],744:[1,537],745:[1,538],746:[1,539],747:[1,540],748:[1,541],749:[1,542],750:[1,543],751:[1,544],752:[1,545],753:[1,546],754:[1,547],755:[1,548],756:[1,549],757:[1,550],758:[1,551],759:[1,552],760:[1,553],761:[1,555],762:[1,556],763:[1,557],764:[1,558],765:[1,559],766:[1,560],767:[1,561],768:[1,562]},{1:[2,6]},e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,12:563,2:r,4:n,5:i,53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),e(dt,[2,1051]),e(dt,[2,1052]),e(W,[2,10]),{16:[1,564]},{2:r,3:248,4:n,5:i,201:565},{411:[1,566]},e(K,[2,770]),{77:ft},{77:[1,568]},{77:ht},{77:pt},{77:[1,571]},{77:[1,572]},{77:[1,573]},{2:r,3:171,4:n,5:i,56:167,77:se,94:574,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(ze,mt,{356:575,156:yt}),{411:[1,577]},{2:r,3:578,4:n,5:i},{193:[1,579]},{2:r,3:585,4:n,5:i,132:bt,137:Et,143:it,145:at,152:_t,183:[1,581],437:592,479:580,480:582,481:583,484:584,488:589,499:586,503:588},{130:[1,596],355:593,359:[1,595],416:[1,594]},{113:598,132:ce,183:[2,1151],302:$e,477:597},e(St,[2,1145],{471:599,3:600,2:r,4:n,5:i}),{2:r,3:601,4:n,5:i},{4:[1,602]},{4:[1,603]},e(oe,[2,512]),e(K,[2,696],{74:[1,604]}),e(vt,[2,697]),{2:r,3:605,4:n,5:i},{2:r,3:248,4:n,5:i,201:606},{2:r,3:607,4:n,5:i},e(ze,Tt,{404:608,156:At}),{411:[1,610]},{2:r,3:611,4:n,5:i},e(ze,Tt,{404:612,156:At}),e(ze,Tt,{404:613,156:At}),{2:r,3:614,4:n,5:i},e(Nt,[2,1139]),e(Nt,[2,1140]),e(K,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,12:615,114:632,333:644,2:r,4:n,5:i,53:s,72:u,89:c,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:Ot,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,146:g,154:Pt,156:d,170:Ht,171:jt,179:Bt,180:qt,189:f,272:p,273:m,295:y,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),e(et,[2,293]),e(et,[2,294]),e(et,[2,295]),e(et,[2,296]),e(et,[2,297]),e(et,[2,298]),e(et,[2,299]),e(et,[2,300]),e(et,[2,301]),e(et,[2,302]),e(et,[2,303]),e(et,[2,304]),e(et,[2,305]),e(et,[2,306]),e(et,[2,307]),e(et,[2,308]),e(et,[2,309]),e(et,[2,310]),{2:r,3:171,4:n,5:i,26:661,27:660,36:656,40:655,56:167,77:se,79:75,89:c,94:658,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,184:99,189:f,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,269:657,270:Se,271:ve,272:p,273:[1,662],276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:[1,659],296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,345:_,425:193,426:Ve,430:Ge},e(et,[2,314]),e(et,[2,315]),e(cr,[2,316],{77:pt}),{77:[1,663]},e([2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],lr,{77:ft,116:[1,664]}),{2:r,3:171,4:n,5:i,56:167,77:se,94:665,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:666,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:667,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:668,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:669,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(et,[2,288]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,232,233,240,245,246,247,248,250,252,254,270,271,272,273,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,306,308,309,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,349,362,374,375,379,380,402,406,407,410,412,414,415,421,423,424,426,430,432,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769,770,771],[2,366]),e(gr,[2,367]),e(gr,[2,368]),e(gr,dr),e(gr,[2,370]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,303,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,349,362,374,375,379,380,402,406,407,410,412,414,415,423,424,426,430,432,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],[2,371]),{2:r,3:671,4:n,5:i,131:[1,672],307:670},{2:r,3:673,4:n,5:i},e(gr,[2,377]),e(gr,[2,378]),{2:r,3:674,4:n,5:i,77:fr,113:676,131:ue,132:ce,143:ge,152:he,181:be,196:677,203:679,262:678,300:Me,301:Le,302:$e,308:He,425:680,430:Ge},{77:[1,681]},{2:r,3:171,4:n,5:i,56:167,77:se,94:682,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,310:683,313:684,314:hr,318:Be,323:qe,425:193,426:Ve,430:Ge},{77:[1,686]},{77:[1,687]},e(pr,[2,634]),{2:r,3:702,4:n,5:i,77:mr,111:697,113:695,131:ue,132:ce,143:ge,144:692,145:tt,152:he,156:J,181:be,196:694,202:700,203:699,262:696,263:698,271:X,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,306:[1,690],308:He,425:193,426:Ve,427:688,428:691,429:693,430:Ge,433:689},{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:703,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:704,4:n,5:i,156:J,202:705,271:X,295:Q,296:Z,297:ee,298:te,299:re},{77:[2,343]},{77:[2,344]},{77:[2,345]},{77:[2,346]},{77:[2,347]},{77:[2,348]},{77:[2,349]},{77:[2,350]},{77:[2,351]},{77:[2,352]},{2:r,3:711,4:n,5:i,131:yr,132:br,431:706,432:[1,707],434:708},{2:r,3:248,4:n,5:i,201:712},{295:[1,713]},e(ze,[2,482]),{2:r,3:248,4:n,5:i,201:714},{232:[1,716],460:715},{232:[2,705]},{2:r,3:223,4:n,5:i,77:Ke,132:Je,143:ge,144:216,145:de,152:he,156:J,181:be,197:221,201:217,202:219,203:218,210:717,214:Xe,215:222,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He,425:193,426:Ve,430:Ge},{40:718,79:75,89:c,184:99,189:f},e(Er,[2,1101],{211:719,76:[1,720]}),e(_r,[2,187],{3:721,2:r,4:n,5:i,76:[1,722],154:[1,723]}),e(_r,[2,191],{3:724,2:r,4:n,5:i,76:[1,725]}),e(_r,[2,192],{3:726,2:r,4:n,5:i,76:[1,727]}),e(_r,[2,195]),e(_r,[2,196],{3:728,2:r,4:n,5:i,76:[1,729]}),e(_r,[2,199],{3:730,2:r,4:n,5:i,76:[1,731]}),e([2,4,5,10,72,74,76,78,93,98,118,128,154,162,168,169,183,207,209,223,224,225,226,227,228,229,230,231,232,233,250,252,312,316,608,769],Sr,{77:ft,116:vr}),e([2,4,5,10,72,74,76,78,93,98,118,128,162,168,169,207,209,223,224,225,226,227,228,229,230,231,232,233,250,252,312,316,608,769],[2,202]),e(K,[2,783]),{2:r,3:248,4:n,5:i,201:733},e(Tr,Ar,{81:734,200:Nr}),e(Qe,[2,1054]),e(Cr,[2,1067],{108:736,190:[1,737]}),e([10,78,183,312,316,608,769],Ar,{425:193,81:738,117:739,3:740,114:743,144:765,158:775,160:776,2:r,4:n,5:i,72:Dr,76:wr,77:Rr,112:xr,115:wt,116:Rt,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,200:Nr,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,426:Ve,430:Ge}),{359:[1,789]},{183:[1,790]},e(K,[2,604],{112:[1,791]}),{411:[1,792]},{183:[1,793]},e(K,[2,608],{112:[1,794],183:[1,795]}),{2:r,3:248,4:n,5:i,201:796},{40:797,74:[1,798],79:75,89:c,184:99,189:f},e(bo,[2,70]),{76:[1,799]},e(K,[2,677]),{11:106,312:[1,800],608:z,769:Y},e(K,[2,675]),e(K,[2,676]),{2:r,3:801,4:n,5:i},e(K,[2,597]),{146:[1,802]},e([2,4,5,10,53,72,74,76,77,78,89,95,124,128,143,145,146,148,149,152,154,156,181,183,187,189,231,272,273,295,303,308,312,316,341,344,345,349,350,362,374,375,379,380,402,406,407,408,409,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,511,513,514,520,521,522,523,608,769],Sr,{116:vr}),e(K,[2,625]),e(K,[2,626]),e(K,[2,627]),e(K,dr,{74:[1,803]}),{77:fr,113:676,131:ue,132:ce,143:ge,152:he,181:be,196:677,203:679,262:678,300:Me,301:Le,302:$e,308:He,425:680,430:Ge},e(Eo,[2,326]),e(Eo,[2,327]),e(Eo,[2,328]),e(Eo,[2,329]),e(Eo,[2,330]),e(Eo,[2,331]),e(Eo,[2,332]),e(Eo,[2,333],{77:pt}),e(K,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,114:632,333:644,12:804,2:r,4:n,5:i,53:s,72:u,89:c,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:Ot,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,146:g,154:Pt,156:d,170:Ht,171:jt,179:Bt,180:qt,189:f,272:p,273:m,295:y,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),e(K,[2,685],{74:_o}),e(K,[2,686]),e(So,[2,364],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(K,[2,687],{74:[1,807]}),e(K,[2,688],{74:[1,808]}),e(vt,[2,693]),e(vt,[2,695]),e(vt,[2,689]),e(vt,[2,690]),{114:814,115:wt,116:Rt,124:[1,809],231:To,435:810,436:811,439:Ao},{2:r,3:815,4:n,5:i},e(ze,[2,666]),e(ze,[2,667]),e(K,[2,624],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:100,4:n,5:i,510:279,512:816},e(K,[2,764],{74:No}),e(Co,[2,766]),e(K,[2,769]),e(K,[2,691],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(Do,ut,{186:818,198:ct}),e(Do,ut,{186:819,198:ct}),e(Do,ut,{186:820,198:ct}),e(wo,[2,1097],{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,188:821,174:822,258:823,94:824,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),{77:[1,826],131:ue,145:Ro,195:825,196:827,197:828},{2:r,3:100,4:n,5:i,510:279,512:830},e(xo,[2,153]),e(xo,[2,154]),e(xo,[2,155]),e(xo,[2,156]),e(xo,[2,157]),e(xo,[2,158]),e(xo,[2,159]),e(gt,[2,3]),e(gt,[2,784]),e(gt,[2,785]),e(gt,[2,786]),e(gt,[2,787]),e(gt,[2,788]),e(gt,[2,789]),e(gt,[2,790]),e(gt,[2,791]),e(gt,[2,792]),e(gt,[2,793]),e(gt,[2,794]),e(gt,[2,795]),e(gt,[2,796]),e(gt,[2,797]),e(gt,[2,798]),e(gt,[2,799]),e(gt,[2,800]),e(gt,[2,801]),e(gt,[2,802]),e(gt,[2,803]),e(gt,[2,804]),e(gt,[2,805]),e(gt,[2,806]),e(gt,[2,807]),e(gt,[2,808]),e(gt,[2,809]),e(gt,[2,810]),e(gt,[2,811]),e(gt,[2,812]),e(gt,[2,813]),e(gt,[2,814]),e(gt,[2,815]),e(gt,[2,816]),e(gt,[2,817]),e(gt,[2,818]),e(gt,[2,819]),e(gt,[2,820]),e(gt,[2,821]),e(gt,[2,822]),e(gt,[2,823]),e(gt,[2,824]),e(gt,[2,825]),e(gt,[2,826]),e(gt,[2,827]),e(gt,[2,828]),e(gt,[2,829]),e(gt,[2,830]),e(gt,[2,831]),e(gt,[2,832]),e(gt,[2,833]),e(gt,[2,834]),e(gt,[2,835]),e(gt,[2,836]),e(gt,[2,837]),e(gt,[2,838]),e(gt,[2,839]),e(gt,[2,840]),e(gt,[2,841]),e(gt,[2,842]),e(gt,[2,843]),e(gt,[2,844]),e(gt,[2,845]),e(gt,[2,846]),e(gt,[2,847]),e(gt,[2,848]),e(gt,[2,849]),e(gt,[2,850]),e(gt,[2,851]),e(gt,[2,852]),e(gt,[2,853]),e(gt,[2,854]),e(gt,[2,855]),e(gt,[2,856]),e(gt,[2,857]),e(gt,[2,858]),e(gt,[2,859]),e(gt,[2,860]),e(gt,[2,861]),e(gt,[2,862]),e(gt,[2,863]),e(gt,[2,864]),e(gt,[2,865]),e(gt,[2,866]),e(gt,[2,867]),e(gt,[2,868]),e(gt,[2,869]),e(gt,[2,870]),e(gt,[2,871]),e(gt,[2,872]),e(gt,[2,873]),e(gt,[2,874]),e(gt,[2,875]),e(gt,[2,876]),e(gt,[2,877]),e(gt,[2,878]),e(gt,[2,879]),e(gt,[2,880]),e(gt,[2,881]),e(gt,[2,882]),e(gt,[2,883]),e(gt,[2,884]),e(gt,[2,885]),e(gt,[2,886]),e(gt,[2,887]),e(gt,[2,888]),e(gt,[2,889]),e(gt,[2,890]),e(gt,[2,891]),e(gt,[2,892]),e(gt,[2,893]),e(gt,[2,894]),e(gt,[2,895]),e(gt,[2,896]),e(gt,[2,897]),e(gt,[2,898]),e(gt,[2,899]),e(gt,[2,900]),e(gt,[2,901]),e(gt,[2,902]),e(gt,[2,903]),e(gt,[2,904]),e(gt,[2,905]),e(gt,[2,906]),e(gt,[2,907]),e(gt,[2,908]),e(gt,[2,909]),e(gt,[2,910]),e(gt,[2,911]),e(gt,[2,912]),e(gt,[2,913]),e(gt,[2,914]),e(gt,[2,915]),e(gt,[2,916]),e(gt,[2,917]),e(gt,[2,918]),e(gt,[2,919]),e(gt,[2,920]),e(gt,[2,921]),e(gt,[2,922]),e(gt,[2,923]),e(gt,[2,924]),e(gt,[2,925]),e(gt,[2,926]),e(gt,[2,927]),e(gt,[2,928]),e(gt,[2,929]),e(gt,[2,930]),e(gt,[2,931]),e(gt,[2,932]),e(gt,[2,933]),e(gt,[2,934]),e(gt,[2,935]),e(gt,[2,936]),e(gt,[2,937]),e(gt,[2,938]),e(gt,[2,939]),e(gt,[2,940]),e(gt,[2,941]),e(gt,[2,942]),e(gt,[2,943]),e(gt,[2,944]),e(gt,[2,945]),e(gt,[2,946]),e(gt,[2,947]),e(gt,[2,948]),e(gt,[2,949]),e(gt,[2,950]),e(gt,[2,951]),e(gt,[2,952]),e(gt,[2,953]),e(gt,[2,954]),e(gt,[2,955]),e(gt,[2,956]),e(gt,[2,957]),e(gt,[2,958]),e(gt,[2,959]),e(gt,[2,960]),e(gt,[2,961]),e(gt,[2,962]),e(gt,[2,963]),e(gt,[2,964]),e(gt,[2,965]),e(gt,[2,966]),e(gt,[2,967]),e(gt,[2,968]),e(gt,[2,969]),e(gt,[2,970]),e(gt,[2,971]),e(gt,[2,972]),e(gt,[2,973]),e(gt,[2,974]),e(gt,[2,975]),e(gt,[2,976]),e(gt,[2,977]),e(gt,[2,978]),e(gt,[2,979]),e(gt,[2,980]),e(gt,[2,981]),e(gt,[2,982]),e(gt,[2,983]),e(gt,[2,984]),e(gt,[2,985]),e(gt,[2,986]),e(gt,[2,987]),e(gt,[2,988]),e(gt,[2,989]),e(gt,[2,990]),e(gt,[2,991]),e(gt,[2,992]),e(gt,[2,993]),e(gt,[2,994]),e(gt,[2,995]),e(gt,[2,996]),e(gt,[2,997]),e(gt,[2,998]),e(gt,[2,999]),e(gt,[2,1e3]),e(gt,[2,1001]),e(gt,[2,1002]),e(gt,[2,1003]),e(gt,[2,1004]),e(gt,[2,1005]),e(gt,[2,1006]),e(gt,[2,1007]),e(gt,[2,1008]),e(gt,[2,1009]),e(gt,[2,1010]),e(gt,[2,1011]),e(gt,[2,1012]),e(gt,[2,1013]),e(gt,[2,1014]),e(gt,[2,1015]),e(gt,[2,1016]),e(gt,[2,1017]),e(gt,[2,1018]),e(gt,[2,1019]),e(gt,[2,1020]),e(gt,[2,1021]),e(gt,[2,1022]),e(gt,[2,1023]),e(gt,[2,1024]),e(gt,[2,1025]),e(gt,[2,1026]),e(gt,[2,1027]),e(gt,[2,1028]),e(gt,[2,1029]),e(gt,[2,1030]),e(gt,[2,1031]),e(gt,[2,1032]),e(gt,[2,1033]),e(gt,[2,1034]),e(gt,[2,1035]),e(gt,[2,1036]),e(gt,[2,1037]),e(gt,[2,1038]),e(gt,[2,1039]),e(gt,[2,1040]),e(gt,[2,1041]),e(gt,[2,1042]),e(gt,[2,1043]),e(gt,[2,1044]),e(gt,[2,1045]),e(gt,[2,1046]),e(gt,[2,1047]),e(gt,[2,1048]),e(gt,[2,1049]),e(gt,[2,1050]),e(W,[2,7]),e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,12:831,2:r,4:n,5:i,53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),{402:[1,835],407:[1,832],408:[1,833],409:[1,834]},{2:r,3:836,4:n,5:i},e(Do,[2,1121],{294:837,772:839,78:[1,838],164:[1,841],185:[1,840]}),{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:842,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:843,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{78:[1,844]},{2:r,3:845,4:n,5:i,132:[1,846]},{2:r,3:847,4:n,5:i,132:[1,848]},{2:r,3:171,4:n,5:i,56:167,77:se,94:849,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:850,4:n,5:i,99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{2:r,3:851,4:n,5:i},{154:[1,852]},e(Oo,mt,{356:853,156:yt}),{231:[1,854]},{2:r,3:855,4:n,5:i},e(K,[2,739],{74:Io}),{2:r,3:171,4:n,5:i,56:167,77:se,94:857,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Co,[2,742]),e(ko,[2,1153],{425:193,482:858,144:859,139:Mo,141:Mo,145:tt,426:Ve,430:Ge}),{139:[1,860],141:[1,861]},e(Lo,$o,{496:863,499:864,77:[1,862],137:Et}),e(Fo,[2,1177],{500:865,132:[1,866]}),e(Uo,[2,1181],{502:867,503:868,152:_t}),e(Uo,[2,757]),e(Po,[2,749]),{2:r,3:869,4:n,5:i,131:[1,870]},{2:r,3:871,4:n,5:i},{2:r,3:872,4:n,5:i},e(ze,mt,{356:873,156:yt}),e(ze,mt,{356:874,156:yt}),e(Nt,[2,501]),e(Nt,[2,502]),{183:[1,875]},{183:[2,1152]},e(Ho,[2,1147],{472:876,475:877,137:[1,878]}),e(St,[2,1146]),e(jo,Bo,{516:879,95:qo,231:[1,880],520:Vo,521:Go,522:zo}),{76:[1,885]},{76:[1,886]},{145:ae,456:887},{4:Yo,7:891,76:[1,889],278:888,393:890,395:Wo},e(K,[2,466],{128:[1,894]}),e(K,[2,589]),{2:r,3:895,4:n,5:i},{304:[1,896]},e(Oo,Tt,{404:897,156:At}),e(K,[2,603]),{2:r,3:248,4:n,5:i,201:899,405:898},{2:r,3:248,4:n,5:i,201:899,405:900},e(K,[2,782]),e(W,[2,679],{444:901,316:[1,902]}),{2:r,3:171,4:n,5:i,56:167,77:se,94:903,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:904,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:905,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:906,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:907,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:908,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:909,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:910,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:911,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:912,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:913,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:914,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:915,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:916,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:917,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:918,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:919,4:n,5:i,77:[1,921],131:ue,156:J,196:920,202:922,271:X,295:Q,296:Z,297:ee,298:te,299:re},{2:r,3:923,4:n,5:i,77:[1,925],131:ue,156:J,196:924,202:926,271:X,295:Q,296:Z,297:ee,298:te,299:re},e(Ko,[2,450],{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,94:927,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),e(Ko,[2,451],{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,94:928,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),e(Ko,[2,452],{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,94:929,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),e(Ko,[2,453],{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,94:930,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),e(Ko,Jo,{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,94:931,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),{2:r,3:171,4:n,5:i,56:167,77:se,94:932,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:933,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Ko,[2,455],{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,94:934,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),{2:r,3:171,4:n,5:i,56:167,77:se,94:935,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:936,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{164:[1,938],166:[1,940],334:937,340:[1,939]},{2:r,3:171,4:n,5:i,56:167,77:se,94:941,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:942,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:702,4:n,5:i,77:[1,943],111:946,145:Xo,156:J,197:945,202:947,271:X,295:Q,296:Z,297:ee,298:te,299:re,335:944},{99:[1,949],303:[1,950]},{2:r,3:171,4:n,5:i,56:167,77:se,94:951,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:952,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:953,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{4:Yo,7:891,278:954,393:890,395:Wo},e(Qo,[2,88]),e(Qo,[2,89]),{78:[1,955]},{78:[1,956]},{78:[1,957]},{78:[1,958],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(ze,Ye,{346:211,77:ht,200:We}),{78:[2,1117]},{78:[2,1118]},{134:ne,135:ie},{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:959,152:he,154:pe,156:J,158:170,164:[1,961],179:me,180:ye,181:be,185:[1,960],196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:962,4:n,5:i,149:Zo,180:[1,964]},e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,320,336,337,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],[2,426],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,338:sr}),e(en,[2,427],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,180:qt,318:Gt,322:Wt}),e(en,[2,428],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,180:qt,318:Gt,322:Wt}),e(tn,[2,429],{114:632,333:644,322:Wt}),e(tn,[2,430],{114:632,333:644,322:Wt}),e(gr,[2,375]),e(gr,[2,1123]),e(gr,[2,1124]),e(gr,[2,376]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,232,233,240,245,246,247,248,250,252,270,271,272,273,276,277,279,286,287,288,289,290,291,292,293,295,296,297,298,299,300,301,302,303,304,305,306,308,309,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769,770],[2,372]),{2:r,3:171,4:n,5:i,56:167,77:se,94:965,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(pr,[2,630]),e(pr,[2,631]),e(pr,[2,632]),e(pr,[2,633]),e(pr,[2,635]),{40:966,79:75,89:c,184:99,189:f},{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,310:967,313:684,314:hr,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{311:968,312:rn,313:969,314:hr,316:on},e(nn,[2,382]),{2:r,3:171,4:n,5:i,56:167,77:se,94:971,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:972,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{4:Yo,7:891,278:973,393:890,395:Wo},e(pr,[2,636]),{74:[1,975],306:[1,974]},e(pr,[2,652]),e(an,[2,659]),e(sn,[2,637]),e(sn,[2,638]),e(sn,[2,639]),e(sn,[2,640]),e(sn,[2,641]),e(sn,[2,642]),e(sn,[2,643]),e(sn,[2,644]),e(sn,[2,645]),{2:r,3:171,4:n,5:i,56:167,77:se,94:976,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e([2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,432,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],lr,{77:ft,116:un}),{74:_o,306:[1,978]},e(cr,[2,320],{77:ft}),e(et,[2,321]),{74:[1,980],432:[1,979]},e(pr,[2,649]),e(cn,[2,654]),{152:[1,981]},{152:[1,982]},{152:[1,983]},{40:988,77:[1,987],79:75,89:c,143:ge,144:991,145:tt,149:ln,152:he,181:be,184:99,189:f,203:992,308:He,347:984,348:985,349:[1,986],350:gn,425:193,426:Ve,430:Ge},e(ze,Ye,{346:993,200:We}),{77:dn,143:ge,144:991,145:tt,149:ln,152:he,181:be,203:992,308:He,347:994,348:995,350:gn,425:193,426:Ve,430:Ge},{231:[1,998],461:997},{2:r,3:223,4:n,5:i,77:Ke,132:Je,143:ge,144:216,145:de,152:he,156:J,181:be,197:221,201:217,202:219,203:218,210:999,214:Xe,215:222,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He,425:193,426:Ve,430:Ge},{232:[2,706]},{78:[1,1e3]},e(_r,[2,1103],{212:1001,3:1002,2:r,4:n,5:i}),e(Er,[2,1102]),e(_r,[2,185]),{2:r,3:1003,4:n,5:i},{213:[1,1004]},e(_r,[2,189]),{2:r,3:1005,4:n,5:i},e(_r,[2,193]),{2:r,3:1006,4:n,5:i},e(_r,[2,197]),{2:r,3:1007,4:n,5:i},e(_r,[2,200]),{2:r,3:1008,4:n,5:i},{2:r,3:1009,4:n,5:i},{148:[1,1010]},e(fn,[2,174],{82:1011,183:[1,1012]}),{2:r,3:223,4:n,5:i,132:[1,1017],143:ge,145:Ro,152:he,156:J,181:be,197:1016,201:1013,202:1014,203:1015,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He},{2:r,3:1022,4:n,5:i,109:1018,110:1019,111:1020,112:hn},e(Cr,[2,1068]),e(pn,[2,1059],{91:1023,182:1024,183:[1,1025]}),e(Ze,[2,1058],{153:1026,179:mn,180:yn,181:bn}),e([2,4,5,10,72,74,76,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,200,245,246,286,287,288,289,290,291,292,293,312,316,426,430,608,769],[2,90],{77:[1,1030]}),{119:[1,1031]},e(En,[2,93]),{2:r,3:1032,4:n,5:i},e(En,[2,95]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1033,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1034,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,112:xr,114:743,115:wt,116:Rt,117:1036,118:Or,122:Ir,123:kr,124:Mr,125:1035,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{77:[1,1037]},{77:[1,1038]},{77:[1,1039]},{77:[1,1040]},e(En,[2,104]),e(En,[2,105]),e(En,[2,106]),e(En,[2,107]),e(En,[2,108]),e(En,[2,109]),{2:r,3:1041,4:n,5:i},{2:r,3:1042,4:n,5:i,133:[1,1043]},e(En,[2,113]),e(En,[2,114]),e(En,[2,115]),e(En,[2,116]),e(En,[2,117]),e(En,[2,118]),{2:r,3:1044,4:n,5:i,77:fr,113:676,131:ue,132:ce,143:ge,152:he,181:be,196:677,203:679,262:678,300:Me,301:Le,302:$e,308:He,425:680,430:Ge},{145:[1,1045]},{77:[1,1046]},{145:[1,1047]},e(En,[2,123]),{77:[1,1048]},{2:r,3:1049,4:n,5:i},{77:[1,1050]},{77:[1,1051]},{77:[1,1052]},{77:[1,1053]},{77:[1,1054],164:[1,1055]},{77:[1,1056]},{77:[1,1057]},{77:[1,1058]},{77:[1,1059]},{77:[1,1060]},{77:[1,1061]},{77:[1,1062]},{77:[1,1063]},{77:[1,1064]},{77:[2,1083]},{77:[2,1084]},{2:r,3:248,4:n,5:i,201:1065},{2:r,3:248,4:n,5:i,201:1066},{113:1067,132:ce,302:$e},e(K,[2,606],{112:[1,1068]}),{2:r,3:248,4:n,5:i,201:1069},{113:1070,132:ce,302:$e},{2:r,3:1071,4:n,5:i},e(K,[2,703]),e(K,[2,68]),{2:r,3:240,4:n,5:i,75:1072},{77:[1,1073]},e(K,[2,684]),e(K,[2,596]),{2:r,3:1022,4:n,5:i,111:1076,143:_n,145:Sn,147:1074,342:1075,343:1077},{144:1080,145:tt,425:193,426:Ve,430:Ge},e(K,[2,681]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1081,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Ko,Jo,{260:148,202:149,261:150,111:151,259:152,196:153,262:154,113:155,263:156,203:157,197:158,264:159,265:160,266:161,144:163,267:164,268:165,56:167,158:170,3:171,425:193,94:1082,2:r,4:n,5:i,77:se,131:ue,132:ce,137:le,143:ge,145:de,149:fe,152:he,154:pe,156:J,179:me,180:ye,181:be,245:Ee,246:_e,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,426:Ve,430:Ge}),{113:1083,132:ce,302:$e},{2:r,3:271,4:n,5:i,452:1084,453:nt},{2:r,3:171,4:n,5:i,56:167,77:se,94:1086,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,231:To,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge,435:1085,439:Ao},e(K,[2,661]),{114:1088,115:wt,116:Rt,124:[1,1087]},e(K,[2,673]),e(K,[2,674]),{2:r,3:1090,4:n,5:i,77:vn,131:Tn,438:1089},{114:814,115:wt,116:Rt,124:[1,1093],436:1094},e(K,[2,763],{74:No}),{2:r,3:100,4:n,5:i,510:1095},{2:r,3:171,4:n,5:i,56:167,77:se,94:824,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,174:1096,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,258:823,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:824,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,174:1097,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,258:823,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:824,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,174:1098,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,258:823,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(wo,[2,151]),e(wo,[2,1098],{74:An}),e(Nn,[2,278]),e(Nn,[2,285],{114:632,333:644,3:1101,113:1103,2:r,4:n,5:i,76:[1,1100],99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,131:[1,1102],132:ce,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,302:$e,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(st,[2,1099],{199:1104,770:[1,1105]}),{131:ue,145:Ro,195:1106,196:827,197:828},e(Cn,[2,160]),e(Cn,[2,161]),{2:r,3:674,4:n,5:i},{74:No,78:[1,1107]},e(W,[2,11]),{148:[1,1108],190:[1,1109]},{190:[1,1110]},{190:[1,1111]},{190:[1,1112]},e(K,[2,585],{76:[1,1114],77:[1,1113]}),{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1115,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(gr,[2,354]),e(Do,[2,1122]),e(Do,[2,1119]),e(Do,[2,1120]),{74:_o,78:[1,1116]},{74:_o,78:[1,1117]},e(gr,[2,357]),{74:[1,1118]},{74:[1,1119]},{74:[1,1120]},{74:[1,1121]},{74:[1,1122],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(gr,[2,363]),e(K,[2,590]),{304:[1,1123]},{2:r,3:1124,4:n,5:i,113:1125,132:ce,302:$e},{2:r,3:248,4:n,5:i,201:1126},{231:[1,1127]},{2:r,3:585,4:n,5:i,132:bt,137:Et,143:it,145:at,152:_t,437:592,480:1128,481:583,484:584,488:589,499:586,503:588},e(K,[2,740],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(Co,[2,1155],{483:1129,489:1130,76:Dn}),e(ko,[2,1154]),{2:r,3:1134,4:n,5:i,132:bt,137:Et,144:1133,145:tt,152:_t,425:193,426:Ve,430:Ge,481:1132,499:586,503:588},{2:r,3:1134,4:n,5:i,132:bt,137:Et,143:it,145:at,152:_t,437:592,481:1136,484:1135,488:589,499:586,503:588},{2:r,3:585,4:n,5:i,132:bt,137:Et,143:it,145:at,152:_t,437:592,479:1137,480:582,481:583,484:584,488:589,499:586,503:588},e(Fo,[2,1173],{497:1138,132:[1,1139]}),e(Lo,[2,1172]),e(Uo,[2,1179],{501:1140,503:1141,152:_t}),e(Fo,[2,1178]),e(Uo,[2,756]),e(Uo,[2,1182]),e(Lo,[2,759]),e(Lo,[2,760]),e(Uo,[2,758]),e(Po,[2,750]),{2:r,3:248,4:n,5:i,201:1142},{2:r,3:248,4:n,5:i,201:1143},{2:r,3:171,4:n,5:i,56:167,77:se,94:1144,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(wn,[2,1149],{473:1145,113:1146,132:ce,302:$e}),e(Ho,[2,1148]),{2:r,3:1147,4:n,5:i},{341:Rn,344:xn,345:On,517:1148},{2:r,3:248,4:n,5:i,201:1152},e(jo,[2,775]),e(jo,[2,776]),e(jo,[2,777]),{129:[1,1153]},{272:[1,1154]},{272:[1,1155]},e(vt,[2,698]),e(vt,[2,699],{124:[1,1156]}),{4:Yo,7:891,278:1157,393:890,395:Wo},e([2,4,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,303,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,349,362,374,375,379,380,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],[2,552],{5:[1,1158]}),e([2,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,231,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,303,306,312,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,349,362,374,375,379,380,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],[2,549],{4:[1,1160],77:[1,1159]}),{77:[1,1161]},e(In,[2,4]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1162,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(K,[2,598]),e(Oo,[2,578]),{2:r,3:1163,4:n,5:i,113:1164,132:ce,302:$e},e(K,[2,574],{74:kn}),e(vt,[2,576]),e(K,[2,623],{74:kn}),e(K,[2,678]),e(K,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,12:1166,2:r,4:n,5:i,53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),e(Mn,[2,386],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,318:Gt,322:Wt,323:Kt,324:Jt,325:Xt}),e(tn,[2,387],{114:632,333:644,322:Wt}),e(Mn,[2,388],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,318:Gt,322:Wt,323:Kt,324:Jt,325:Xt}),e(Ln,[2,389],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,318:Gt,320:[1,1167],322:Wt,323:Kt,324:Jt,325:Xt}),e(Ln,[2,391],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,318:Gt,320:[1,1168],322:Wt,323:Kt,324:Jt,325:Xt}),e(et,[2,393],{114:632,333:644}),e(en,[2,394],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,180:qt,318:Gt,322:Wt}),e(en,[2,395],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,180:qt,318:Gt,322:Wt}),e($n,[2,396],{114:632,333:644,115:wt,116:Rt,123:xt,136:kt,318:Gt,322:Wt}),e($n,[2,397],{114:632,333:644,115:wt,116:Rt,123:xt,136:kt,318:Gt,322:Wt}),e($n,[2,398],{114:632,333:644,115:wt,116:Rt,123:xt,136:kt,318:Gt,322:Wt}),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,123,124,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,317,319,320,321,323,324,325,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],[2,399],{114:632,333:644,115:wt,116:Rt,136:kt,318:Gt,322:Wt}),e(Fn,[2,400],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,179:Bt,180:qt,318:Gt,322:Wt,323:Kt}),e(Fn,[2,401],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,179:Bt,180:qt,318:Gt,322:Wt,323:Kt}),e(Fn,[2,402],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,179:Bt,180:qt,318:Gt,322:Wt,323:Kt}),e(Fn,[2,403],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,179:Bt,180:qt,318:Gt,322:Wt,323:Kt}),e(cr,[2,404],{77:ft}),e(et,[2,405]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1169,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(et,[2,407]),e(cr,[2,408],{77:ft}),e(et,[2,409]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1170,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(et,[2,411]),e(Un,[2,412],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,413],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,414],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,415],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e([2,4,5,10,53,72,89,99,124,139,140,146,154,156,170,171,189,272,273,295,312,316,326,327,328,329,330,331,332,336,337,339,341,344,345,402,406,407,410,412,414,415,423,424,440,442,443,445,446,447,448,449,453,454,457,458,511,513,514,523,608,769],Pn,{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,417],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,418],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,419],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,420],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(Un,[2,421],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),{77:[1,1171]},{77:[2,456]},{77:[2,457]},{77:[2,458]},e(Hn,[2,424],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,338:sr}),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,156,162,164,166,168,169,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,320,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],[2,425],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr}),{2:r,3:171,4:n,5:i,40:1172,56:167,77:se,78:[1,1174],79:75,89:c,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1173,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,184:99,189:f,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(et,[2,438]),e(et,[2,440]),e(et,[2,447]),e(et,[2,448]),{2:r,3:674,4:n,5:i,77:[1,1175]},{2:r,3:702,4:n,5:i,77:[1,1176],111:946,145:Xo,156:J,197:1178,202:947,271:X,295:Q,296:Z,297:ee,298:te,299:re,335:1177},e(et,[2,445]),e(Hn,[2,442],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,338:sr}),e(Hn,[2,443],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,338:sr}),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,200,207,209,223,224,225,226,227,228,229,230,233,240,245,246,247,248,250,252,272,273,286,287,288,289,290,291,292,293,295,302,306,312,314,315,316,320,326,327,328,329,330,331,332,336,337,338,339,341,344,345,402,406,407,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,470,476,511,513,514,523,608,769],[2,444],{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt}),e(et,[2,446]),e(et,[2,311]),e(et,[2,312]),e(et,[2,313]),e(et,[2,431]),{74:_o,78:[1,1179]},{2:r,3:171,4:n,5:i,56:167,77:se,94:1180,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1181,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(et,jn),e(Bn,[2,291]),e(et,[2,287]),{78:[1,1183],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1184]},{311:1185,312:rn,313:969,314:hr,316:on},{312:[1,1186]},e(nn,[2,381]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1187,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,315:[1,1188],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{76:[1,1189],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{74:[1,1190]},e(pr,[2,650]),{2:r,3:702,4:n,5:i,77:mr,111:697,113:695,131:ue,132:ce,143:ge,144:692,145:tt,152:he,156:J,181:be,196:694,202:700,203:699,262:696,263:698,271:X,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,306:[1,1191],308:He,425:193,426:Ve,428:1192,429:693,430:Ge},{78:[1,1193],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{2:r,3:1194,4:n,5:i,149:Zo},e(et,[2,374]),e(pr,[2,647]),{2:r,3:711,4:n,5:i,131:yr,132:br,432:[1,1195],434:1196},{2:r,3:702,4:n,5:i,77:mr,111:697,113:695,131:ue,132:ce,143:ge,144:692,145:tt,152:he,156:J,181:be,196:694,202:700,203:699,262:696,263:698,271:X,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,308:He,425:193,426:Ve,428:1197,429:693,430:Ge},{2:r,3:702,4:n,5:i,77:mr,111:697,113:695,131:ue,132:ce,143:ge,144:692,145:tt,152:he,156:J,181:be,196:694,202:700,203:699,262:696,263:698,271:X,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,308:He,425:193,426:Ve,428:1198,429:693,430:Ge},{2:r,3:702,4:n,5:i,77:mr,111:697,113:695,131:ue,132:ce,143:ge,144:692,145:tt,152:he,156:J,181:be,196:694,202:700,203:699,262:696,263:698,271:X,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,308:He,425:193,426:Ve,428:1199,429:693,430:Ge},{77:dn,143:ge,144:991,145:tt,152:he,181:be,203:992,308:He,348:1200,425:193,426:Ve,430:Ge},e(qn,[2,468],{74:Vn}),{149:ln,347:1202,350:gn},{2:r,3:171,4:n,5:i,56:167,77:se,94:1206,100:1203,111:1205,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,351:1204,425:193,426:Ve,430:Ge},e(qn,[2,476]),e(Gn,[2,479]),e(Gn,[2,480]),e(zn,[2,484]),e(zn,[2,485]),{2:r,3:248,4:n,5:i,201:1207},{77:dn,143:ge,144:991,145:tt,152:he,181:be,203:992,308:He,348:1208,425:193,426:Ve,430:Ge},e(qn,[2,472],{74:Vn}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1206,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,351:1204,425:193,426:Ve,430:Ge},{314:Yn,462:1209,464:1210,465:1211},{2:r,3:171,4:n,5:i,56:167,77:se,94:1213,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{231:[2,707]},e(_r,[2,183],{3:1214,2:r,4:n,5:i,76:[1,1215]}),e(_r,[2,184]),e(_r,[2,1104]),e(_r,[2,186]),e(_r,[2,188]),e(_r,[2,190]),e(_r,[2,194]),e(_r,[2,198]),e(_r,[2,201]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,118,124,128,143,145,146,148,149,152,154,156,162,168,169,181,183,187,189,207,209,223,224,225,226,227,228,229,230,231,232,233,250,252,272,273,295,303,308,312,316,341,344,345,349,350,362,374,375,379,380,402,406,407,408,409,410,412,414,415,423,424,426,430,440,442,443,445,446,447,448,449,453,454,457,458,511,513,514,520,521,522,523,608,769],[2,203]),{2:r,3:1216,4:n,5:i},e(Wn,[2,1055],{83:1217,92:1218,93:[1,1219],98:[1,1220]}),{2:r,3:223,4:n,5:i,77:[1,1222],132:Je,143:ge,144:216,145:de,152:he,156:J,181:be,197:221,201:217,202:219,203:218,204:1221,210:1223,214:Xe,215:222,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He,425:193,426:Ve,430:Ge},e(Tr,[2,166]),e(Tr,[2,167]),e(Tr,[2,168]),e(Tr,[2,169]),e(Tr,[2,170]),e(Qe,[2,83],{74:[1,1224]}),e(Kn,[2,85]),e(Kn,[2,86]),{113:1225,132:ce,302:$e},e([10,72,74,78,93,98,118,124,128,162,168,169,183,200,207,209,223,224,225,226,227,228,229,230,233,250,252,312,316,608,769],lr,{116:un}),e(pn,[2,73]),e(pn,[2,1060]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1226,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(En,[2,126]),e(En,[2,144]),e(En,[2,145]),e(En,[2,146]),{2:r,3:171,4:n,5:i,56:167,77:se,78:[2,1075],94:265,111:151,113:155,127:1227,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1228,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{77:[1,1229]},e(En,[2,94]),e([2,4,5,10,72,74,76,77,78,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,200,245,246,286,287,288,289,290,291,292,293,312,316,426,430,608,769],[2,96],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e([2,4,5,10,72,74,76,77,78,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,200,245,246,286,287,288,289,290,291,292,293,312,316,426,430,608,769],[2,97],{114:632,333:644,99:Ct,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1230],112:xr,114:743,115:wt,116:Rt,117:1231,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},e(Jn,[2,1071],{153:1026,179:mn,180:yn,181:bn}),{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,112:xr,114:743,115:wt,116:Rt,117:1233,118:Or,122:Ir,123:kr,124:Mr,126:1232,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1234,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1235,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1236,4:n,5:i},e(En,[2,110]),e(En,[2,111]),e(En,[2,112]),e(En,[2,119]),{2:r,3:1237,4:n,5:i},{2:r,3:1022,4:n,5:i,111:1076,143:_n,145:Sn,147:1238,342:1075,343:1077},{2:r,3:1239,4:n,5:i},{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1240,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(En,[2,125]),e(Jn,[2,1077],{155:1241}),e(Jn,[2,1079],{157:1242}),e(Jn,[2,1081],{159:1243}),e(Jn,[2,1085],{161:1244}),e(Xn,Qn,{163:1245,178:1246}),{77:[1,1247]},e(Jn,[2,1087],{165:1248}),e(Jn,[2,1089],{167:1249}),e(Xn,Qn,{178:1246,163:1250}),e(Xn,Qn,{178:1246,163:1251}),e(Xn,Qn,{178:1246,163:1252}),e(Xn,Qn,{178:1246,163:1253}),{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,112:xr,114:743,115:wt,116:Rt,117:1254,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:824,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,174:1255,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,258:823,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Zn,[2,1091],{176:1256}),e(K,[2,616],{183:[1,1257]}),e(K,[2,612],{183:[1,1258]}),e(K,[2,605]),{113:1259,132:ce,302:$e},e(K,[2,614],{183:[1,1260]}),e(K,[2,609]),e(K,[2,610],{112:[1,1261]}),e(bo,[2,69]),{40:1262,79:75,89:c,184:99,189:f},e(K,[2,460],{74:ei,128:[1,1263]}),e(ti,[2,461]),{124:[1,1265]},{2:r,3:1266,4:n,5:i},e(ze,[2,1125]),e(ze,[2,1126]),e(K,[2,628]),e(So,[2,365],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(Un,Pn,{114:632,333:644,112:Dt,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,338:sr}),e(vt,[2,692]),e(vt,[2,694]),e(K,[2,660]),e(K,[2,662],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1267,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1090,4:n,5:i,77:vn,131:Tn,438:1268},e(ri,[2,669]),e(ri,[2,670]),e(ri,[2,671]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1269,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1270,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{114:1088,115:wt,116:Rt,124:[1,1271]},e(Co,[2,765]),e(wo,[2,148],{74:An}),e(wo,[2,149],{74:An}),e(wo,[2,150],{74:An}),{2:r,3:171,4:n,5:i,56:167,77:se,94:824,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,258:1272,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1273,4:n,5:i,113:1275,131:[1,1274],132:ce,302:$e},e(Nn,[2,280]),e(Nn,[2,282]),e(Nn,[2,284]),e(st,[2,162]),e(st,[2,1100]),{78:[1,1276]},e(lt,[2,768]),{2:r,3:1277,4:n,5:i},{2:r,3:1278,4:n,5:i},{2:r,3:1280,4:n,5:i,390:1279},{2:r,3:1280,4:n,5:i,390:1281},{2:r,3:1282,4:n,5:i},{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1283,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1284,4:n,5:i},{74:_o,78:[1,1285]},e(gr,[2,355]),e(gr,[2,356]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1286,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1287,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1288,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1289,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1290,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Oo,[2,514]),e(K,oi,{413:1291,76:ni,77:[1,1292]}),e(K,oi,{413:1294,76:ni}),{77:[1,1295]},{2:r,3:248,4:n,5:i,201:1296},e(Co,[2,741]),e(Co,[2,743]),e(Co,[2,1156]),{143:it,145:at,437:1297},e(ii,[2,1157],{425:193,485:1298,144:1299,145:tt,426:Ve,430:Ge}),{76:Dn,139:[2,1161],487:1300,489:1301},e([10,74,76,78,132,139,145,152,312,316,426,430,608,769],$o,{496:863,499:864,137:Et}),e(Co,[2,746]),e(Co,Mo),{74:Io,78:[1,1302]},e(Uo,[2,1175],{498:1303,503:1304,152:_t}),e(Fo,[2,1174]),e(Uo,[2,755]),e(Uo,[2,1180]),e(K,[2,500],{77:[1,1305]}),{76:[1,1307],77:[1,1306]},{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,148:[1,1308],154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(qn,ai,{79:75,184:99,474:1309,40:1312,89:c,146:si,189:f,476:ui}),e(wn,[2,1150]),e(Ho,[2,733]),{231:[1,1313]},e(ci,[2,779]),e(ci,[2,780]),e(ci,[2,781]),e(jo,Bo,{516:1314,95:qo,520:Vo,521:Go,522:zo}),e(jo,[2,778]),e(K,[2,318]),e(K,[2,319]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1315,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(vt,[2,700],{124:[1,1316]}),e(In,[2,551]),{131:[1,1318],394:1317,396:[1,1319]},e(In,[2,5]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1206,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,351:1320,425:193,426:Ve,430:Ge},e(K,[2,465],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(K,[2,599]),e(K,[2,600]),{2:r,3:248,4:n,5:i,201:1321},e(K,[2,680]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1322,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1323,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{78:[1,1324],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1325],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{2:r,3:171,4:n,5:i,40:1326,56:167,77:se,79:75,89:c,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1327,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,184:99,189:f,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{78:[1,1328]},{74:_o,78:[1,1329]},e(et,[2,436]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1330,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,40:1331,56:167,77:se,78:[1,1333],79:75,89:c,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1332,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,184:99,189:f,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(et,[2,439]),e(et,[2,441]),e(et,li,{281:1334,282:gi}),{78:[1,1336],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1337],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{2:r,3:1338,4:n,5:i,180:[1,1339]},e(pr,[2,629]),e(et,[2,373]),{312:[1,1340]},e(et,[2,380]),{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,312:[2,384],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{2:r,3:171,4:n,5:i,56:167,77:se,94:1341,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{4:Yo,7:891,278:1342,393:890,395:Wo},{2:r,3:171,4:n,5:i,56:167,77:se,94:1343,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(pr,[2,651]),e(an,[2,658]),e(sn,[2,646]),e(Bn,jn),e(pr,[2,648]),e(cn,[2,653]),e(cn,[2,655]),e(cn,[2,656]),e(cn,[2,657]),e(qn,[2,467],{74:Vn}),{77:[1,1345],143:ge,144:1346,145:tt,152:he,181:be,203:1347,308:He,425:193,426:Ve,430:Ge},e(qn,[2,473]),{74:di,78:[1,1348]},{74:fi,78:[1,1350]},e([74,78,99,112,115,116,123,124,133,136,138,139,140,141,142,154,170,171,179,180,317,318,319,321,322,323,324,325,326,327,328,329,330,331,332,336,337,338,339],hi),e(pi,[2,489],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{40:1354,77:dn,79:75,89:c,143:ge,144:991,145:tt,149:ln,152:he,181:be,184:99,189:f,203:992,308:He,347:1352,348:1353,350:gn,425:193,426:Ve,430:Ge},e(qn,[2,471],{74:Vn}),e(K,[2,727],{463:1355,464:1356,465:1357,314:Yn,470:[1,1358]}),e(mi,[2,711]),e(mi,[2,712]),{154:[1,1360],466:[1,1359]},{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,314:[2,708],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(_r,[2,181]),{2:r,3:1361,4:n,5:i},e(K,[2,584]),e(yi,[2,240],{84:1362,128:[1,1363]}),e(Wn,[2,1056]),{77:[1,1364]},{77:[1,1365]},e(fn,[2,171],{205:1366,216:1368,206:1369,217:1370,222:1373,74:bi,207:Ei,209:_i,223:Si,224:vi,225:Ti,226:Ai,227:Ni,228:Ci,229:Di,230:wi}),{2:r,3:223,4:n,5:i,40:718,77:Ke,79:75,89:c,132:Je,143:ge,144:216,145:de,152:he,156:J,181:be,184:99,189:f,197:221,201:217,202:219,203:218,204:1382,210:1223,214:Xe,215:222,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He,425:193,426:Ve,430:Ge},e(Ri,[2,179]),{2:r,3:1022,4:n,5:i,110:1383,111:1020,112:hn},e(Kn,[2,87]),e(pn,[2,147],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{78:[1,1384]},{74:_o,78:[2,1076]},{2:r,3:171,4:n,5:i,56:167,77:se,78:[2,1069],94:1389,111:151,113:155,120:1385,121:1386,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,242:1387,245:Ee,246:_e,247:[1,1388],259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(En,[2,98]),e(Jn,[2,1072],{153:1026,179:mn,180:yn,181:bn}),{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1390],112:xr,114:743,115:wt,116:Rt,117:1391,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},e(Jn,[2,1073],{153:1026,179:mn,180:yn,181:bn}),{78:[1,1392],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1393],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1394]},e(En,[2,120]),{74:ei,78:[1,1395]},e(En,[2,122]),{74:_o,78:[1,1396]},{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1397],112:xr,114:743,115:wt,116:Rt,117:1398,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1399],112:xr,114:743,115:wt,116:Rt,117:1400,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1401],112:xr,114:743,115:wt,116:Rt,117:1402,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1403],112:xr,114:743,115:wt,116:Rt,117:1404,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{74:xi,78:[1,1405]},e(pi,[2,143],{425:193,3:740,114:743,144:765,158:775,160:776,117:1407,2:r,4:n,5:i,72:Dr,76:wr,77:Rr,112:xr,115:wt,116:Rt,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,426:Ve,430:Ge}),e(Xn,Qn,{178:1246,163:1408}),{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1409],112:xr,114:743,115:wt,116:Rt,117:1410,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{2:r,3:740,4:n,5:i,72:Dr,76:wr,77:Rr,78:[1,1411],112:xr,114:743,115:wt,116:Rt,117:1412,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{74:xi,78:[1,1413]},{74:xi,78:[1,1414]},{74:xi,78:[1,1415]},{74:xi,78:[1,1416]},{78:[1,1417],153:1026,179:mn,180:yn,181:bn},{74:An,78:[1,1418]},{2:r,3:740,4:n,5:i,72:Dr,74:[1,1419],76:wr,77:Rr,112:xr,114:743,115:wt,116:Rt,117:1420,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,144:765,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,158:775,160:776,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,425:193,426:Ve,430:Ge},{2:r,3:1421,4:n,5:i},{2:r,3:1422,4:n,5:i},e(K,[2,607]),{2:r,3:1423,4:n,5:i},{113:1424,132:ce,302:$e},{78:[1,1425]},{2:r,3:171,4:n,5:i,56:167,77:se,94:1426,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1022,4:n,5:i,111:1076,143:_n,145:Sn,342:1427,343:1077},{2:r,3:171,4:n,5:i,56:167,77:se,94:1428,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{124:[1,1429]},e(K,[2,663],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(ri,[2,668]),{78:[1,1430],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(K,[2,664],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1431,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Nn,[2,277]),e(Nn,[2,279]),e(Nn,[2,281]),e(Nn,[2,283]),e(st,[2,163]),e(K,[2,579]),{148:[1,1432]},e(K,[2,580]),e(Co,[2,546],{393:890,7:891,278:1433,4:Yo,392:[1,1434],395:Wo}),e(K,[2,581]),e(K,[2,583]),{74:_o,78:[1,1435]},e(K,[2,587]),e(gr,[2,353]),{74:[1,1436],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{74:[1,1437],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{74:[1,1438],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{74:[1,1439],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{74:[1,1440],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(K,[2,591]),{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1441,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1442,4:n,5:i},e(K,[2,593]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1389,111:151,113:155,120:1443,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,242:1387,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{77:[1,1444]},{2:r,3:1445,4:n,5:i},{76:Dn,139:[2,1159],486:1446,489:1447},e(ii,[2,1158]),{139:[1,1448]},{139:[2,1162]},e(Co,[2,747]),e(Uo,[2,754]),e(Uo,[2,1176]),{2:r,3:1280,4:n,5:i,76:[1,1451],357:1449,364:1450,390:1452},{2:r,3:1022,4:n,5:i,100:1453,111:1454},{40:1455,79:75,89:c,184:99,189:f},{2:r,3:171,4:n,5:i,56:167,77:se,94:1456,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(qn,[2,732]),{2:r,3:1022,4:n,5:i,111:1076,143:_n,145:Sn,147:1457,342:1075,343:1077},{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1458,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(qn,[2,737]),{2:r,3:248,4:n,5:i,201:1459},{341:Rn,344:xn,345:On,517:1460},e(vt,[2,701],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1461,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{74:[1,1462],78:[1,1463]},e(pi,[2,553]),e(pi,[2,554]),{74:fi,78:[1,1464]},e(vt,[2,575]),e(Mn,[2,390],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,318:Gt,322:Wt,323:Kt,324:Jt,325:Xt}),e(Mn,[2,392],{114:632,333:644,115:wt,116:Rt,123:xt,133:It,136:kt,138:Mt,141:Ft,142:Ut,179:Bt,180:qt,318:Gt,322:Wt,323:Kt,324:Jt,325:Xt}),e(et,[2,406]),e(et,[2,410]),{78:[1,1465]},{74:_o,78:[1,1466]},e(et,[2,432]),e(et,[2,434]),{78:[1,1467],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1468]},{74:_o,78:[1,1469]},e(et,[2,437]),e(et,[2,334]),{77:[1,1470]},e(et,li,{281:1471,282:gi}),e(et,li,{281:1472,282:gi}),e(Bn,[2,289]),e(et,[2,286]),e(et,[2,379]),e(nn,[2,383],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{74:[1,1474],78:[1,1473]},{74:[1,1476],78:[1,1475],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{2:r,3:1338,4:n,5:i},{2:r,3:171,4:n,5:i,56:167,77:se,94:1206,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,351:1477,425:193,426:Ve,430:Ge},e(zn,[2,487]),e(zn,[2,488]),{40:1480,77:dn,79:75,89:c,143:ge,144:991,145:tt,149:ln,152:he,181:be,184:99,189:f,203:992,308:He,347:1478,348:1479,350:gn,425:193,426:Ve,430:Ge},{2:r,3:1022,4:n,5:i,111:1481},e(zn,[2,483]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1482,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{77:dn,143:ge,144:991,145:tt,152:he,181:be,203:992,308:He,348:1483,425:193,426:Ve,430:Ge},e(qn,[2,470],{74:Vn}),e(qn,[2,477]),e(K,[2,704]),e(mi,[2,709]),e(mi,[2,710]),{2:r,3:171,4:n,5:i,56:167,77:se,94:824,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,174:1484,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,258:823,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{170:[1,1486],315:[1,1485]},{466:[1,1487]},e(_r,[2,182]),e(Oi,[2,242],{85:1488,233:[1,1489]}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1490,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1491,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1492,4:n,5:i},e(fn,[2,172],{217:1370,222:1373,216:1493,206:1494,207:Ei,209:_i,223:Si,224:vi,225:Ti,226:Ai,227:Ni,228:Ci,229:Di,230:wi}),{2:r,3:223,4:n,5:i,77:Ke,132:Je,143:ge,144:216,145:de,152:he,156:J,181:be,197:221,201:217,202:219,203:218,210:1495,214:Xe,215:222,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He,425:193,426:Ve,430:Ge},e(Ii,[2,207]),e(Ii,[2,208]),{2:r,3:223,4:n,5:i,77:[1,1500],143:ge,144:1498,145:de,152:he,156:J,181:be,197:1502,201:1497,202:1501,203:1499,218:1496,271:X,295:Q,296:Z,297:ee,298:te,299:re,308:He,425:193,426:Ve,430:Ge},{208:[1,1503],224:ki},{208:[1,1505],224:Mi},e(Li,[2,224]),{207:[1,1509],209:[1,1508],222:1507,224:vi,225:Ti,226:Ai,227:Ni,228:Ci,229:Di,230:wi},e(Li,[2,226]),{224:[1,1510]},{209:[1,1512],224:[1,1511]},{209:[1,1514],224:[1,1513]},{209:[1,1515]},{224:[1,1516]},{224:[1,1517]},{74:bi,205:1518,206:1369,207:Ei,209:_i,216:1368,217:1370,222:1373,223:Si,224:vi,225:Ti,226:Ai,227:Ni,228:Ci,229:Di,230:wi},e(Kn,[2,84]),e(En,[2,100]),{74:$i,78:[1,1519]},{78:[1,1521]},e(Fi,[2,263]),{78:[2,1070]},e(Fi,[2,267],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,247:[1,1522],248:[1,1523],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(En,[2,99]),e(Jn,[2,1074],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,101]),e(En,[2,102]),e(En,[2,103]),e(En,[2,121]),e(En,[2,124]),e(En,[2,127]),e(Jn,[2,1078],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,128]),e(Jn,[2,1080],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,129]),e(Jn,[2,1082],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,130]),e(Jn,[2,1086],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,131]),e(Xn,[2,1093],{177:1524}),e(Xn,[2,1096],{153:1026,179:mn,180:yn,181:bn}),{74:xi,78:[1,1525]},e(En,[2,133]),e(Jn,[2,1088],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,134]),e(Jn,[2,1090],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,135]),e(En,[2,136]),e(En,[2,137]),e(En,[2,138]),e(En,[2,139]),e(En,[2,140]),{2:r,3:171,4:n,5:i,56:167,77:se,94:265,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,151:1526,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Zn,[2,1092],{153:1026,179:mn,180:yn,181:bn}),e(K,[2,617]),e(K,[2,613]),e(K,[2,615]),e(K,[2,611]),e(bo,[2,71]),e(K,[2,459],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(ti,[2,462]),e(ti,[2,463],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1527,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(ri,[2,672]),e(K,[2,665],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:1528,4:n,5:i},e(Co,[2,555],{391:1529,397:1530,398:1531,372:1539,154:Ui,187:Pi,231:Hi,303:ji,349:Bi,362:qi,374:Vi,375:Gi,379:zi,380:Yi}),e(Co,[2,545]),e(K,[2,586],{76:[1,1543]}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1544,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1545,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1546,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1547,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1548,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{74:_o,78:[1,1549]},e(K,[2,595]),{74:$i,78:[1,1550]},{2:r,3:171,4:n,5:i,56:167,77:se,94:1389,111:151,113:155,120:1551,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,242:1387,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e([10,74,78,139,312,316,608,769],[2,751]),{139:[1,1552]},{139:[2,1160]},{2:r,3:1134,4:n,5:i,132:bt,137:Et,143:it,145:at,152:_t,437:592,481:1136,484:1553,488:589,499:586,503:588},{78:[1,1554]},{74:[1,1555],78:[2,516]},{40:1556,79:75,89:c,184:99,189:f},e(pi,[2,542]),{74:di,78:[1,1557]},e(Ri,hi),e(K,[2,1143],{418:1558,419:1559,72:Wi}),e(qn,ai,{79:75,184:99,114:632,333:644,40:1312,474:1561,89:c,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,146:si,154:Pt,170:Ht,171:jt,179:Bt,180:qt,189:f,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur,476:ui}),e(qn,[2,735],{74:ei}),e(qn,[2,736],{74:_o}),e([10,53,72,89,124,146,156,189,272,273,295,312,316,341,344,345,402,406,407,410,412,414,415,423,424,440,442,443,445,446,447,448,449,453,454,457,458,511,513,514,523,608,769],[2,1191],{518:1562,3:1563,2:r,4:n,5:i,76:[1,1564]}),e(Ki,[2,1193],{519:1565,76:[1,1566]}),e(vt,[2,702],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{131:[1,1567]},e(In,[2,548]),e(In,[2,550]),e(et,[2,422]),e(et,[2,423]),e(et,[2,449]),e(et,[2,433]),e(et,[2,435]),{118:Ji,283:1568,284:1569,285:[1,1570]},e(et,[2,335]),e(et,[2,336]),e(et,[2,322]),{131:[1,1572]},e(et,[2,324]),{131:[1,1573]},{74:fi,78:[1,1574]},{77:dn,143:ge,144:991,145:tt,152:he,181:be,203:992,308:He,348:1575,425:193,426:Ve,430:Ge},e(qn,[2,475],{74:Vn}),e(qn,[2,478]),e(Ri,[2,498]),e(pi,[2,490],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(qn,[2,469],{74:Vn}),e(K,[2,728],{74:An,200:[1,1576]}),{341:Xi,344:Qi,467:1577},{2:r,3:171,4:n,5:i,56:167,77:se,94:1580,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{119:[1,1582],170:[1,1583],315:[1,1581]},e(Zi,[2,261],{86:1584,118:[1,1585]}),{119:[1,1586]},e(yi,[2,241],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{95:[1,1587],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{95:[1,1588]},e(Ii,[2,205]),e(Ii,[2,206]),e(Ri,[2,180]),e(Ii,[2,239],{219:1589,231:[1,1590],232:[1,1591]}),e(ea,[2,210],{3:1592,2:r,4:n,5:i,76:[1,1593]}),e(ta,[2,1105],{220:1594,76:[1,1595]}),{2:r,3:1596,4:n,5:i,76:[1,1597]},{40:1598,79:75,89:c,184:99,189:f},e(ea,[2,218],{3:1599,2:r,4:n,5:i,76:[1,1600]}),e(ea,[2,221],{3:1601,2:r,4:n,5:i,76:[1,1602]}),{77:[1,1603]},e(Li,[2,236]),{77:[1,1604]},e(Li,[2,232]),e(Li,[2,225]),{224:Mi},{224:ki},e(Li,[2,227]),e(Li,[2,228]),{224:[1,1605]},e(Li,[2,230]),{224:[1,1606]},{224:[1,1607]},e(Li,[2,234]),e(Li,[2,235]),{78:[1,1608],206:1494,207:Ei,209:_i,216:1493,217:1370,222:1373,223:Si,224:vi,225:Ti,226:Ai,227:Ni,228:Ci,229:Di,230:wi},e(En,[2,91]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1389,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,242:1609,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(En,[2,92]),e(Fi,[2,268],{243:1610,244:[1,1611]}),{249:[1,1612]},e(pi,[2,142],{425:193,3:740,114:743,144:765,158:775,160:776,117:1613,2:r,4:n,5:i,72:Dr,76:wr,77:Rr,112:xr,115:wt,116:Rt,118:Or,122:Ir,123:kr,124:Mr,128:Lr,129:$r,130:Fr,131:Ur,132:Pr,133:Hr,134:jr,135:Br,136:qr,137:Vr,138:Gr,139:zr,140:Yr,141:Wr,142:Kr,143:Jr,145:Xr,146:Qr,148:Zr,149:eo,150:to,152:ro,154:oo,156:no,162:io,164:ao,166:so,168:uo,169:co,170:lo,171:go,172:fo,173:ho,175:po,185:mo,187:yo,245:Ee,246:_e,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,426:Ve,430:Ge}),e(En,[2,132]),{74:_o,78:[1,1614]},e(ti,[2,464],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(K,[2,582]),e(Co,[2,544]),e(Co,[2,556],{372:1539,398:1615,154:Ui,187:Pi,231:Hi,303:ji,349:Bi,362:qi,374:Vi,375:Gi,379:zi,380:Yi}),e(Eo,[2,558]),{376:[1,1616]},{376:[1,1617]},{2:r,3:248,4:n,5:i,201:1618},e(Eo,[2,564],{77:[1,1619]}),{2:r,3:114,4:n,5:i,77:[1,1621],113:255,131:ue,132:ce,143:ge,152:he,156:J,181:be,196:254,202:1622,203:258,262:256,263:257,270:rt,271:ot,280:1620,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,308:He},e(Eo,[2,568]),{303:[1,1623]},e(Eo,[2,570]),e(Eo,[2,571]),{341:[1,1624]},{77:[1,1625]},{2:r,3:1626,4:n,5:i},{78:[1,1627],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1628],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1629],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1630],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{78:[1,1631],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(K,oi,{413:1632,76:ni}),e(K,[2,601]),{74:$i,78:[1,1633]},{2:r,3:1134,4:n,5:i,132:bt,137:Et,143:it,145:at,152:_t,437:592,481:1136,484:1634,488:589,499:586,503:588},e(Co,[2,745]),e(K,[2,503],{358:1635,360:1636,361:1637,4:ra,248:oa,349:na,362:ia}),e(aa,sa,{3:1280,365:1642,390:1643,366:1644,367:1645,2:r,4:n,5:i,373:ua}),{78:[2,517]},{76:[1,1647]},e(K,[2,619]),e(K,[2,1144]),{374:[1,1649],420:[1,1648]},e(qn,[2,738]),e(K,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,12:1650,2:r,4:n,5:i,53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),e(K,[2,772]),e(Ki,[2,1192]),e(K,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,510:95,184:99,3:100,12:1651,2:r,4:n,5:i,53:s,72:u,89:c,124:l,146:g,156:d,189:f,272:p,273:m,295:y,341:b,344:E,345:_,402:S,406:v,407:T,410:A,412:N,414:C,415:D,423:w,424:R,440:x,442:O,443:I,445:k,446:M,447:L,448:$,449:F,453:U,454:P,457:H,458:j,511:B,513:q,514:V,523:G}),e(Ki,[2,1194]),{78:[1,1652]},{78:[1,1653],118:Ji,284:1654},{78:[1,1655]},{119:[1,1656]},{119:[1,1657]},{78:[1,1658]},{78:[1,1659]},e(zn,[2,486]),e(qn,[2,474],{74:Vn}),{2:r,3:248,4:n,5:i,143:it,145:at,201:1661,437:1660},e(mi,[2,713]),e(mi,[2,715]),{146:[1,1662]},{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,315:[1,1663],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},{345:ca,468:1664},{423:[1,1667],469:[1,1666]},{2:r,3:171,4:n,5:i,56:167,77:se,94:1668,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(la,[2,272],{87:1669,250:[1,1670],252:[1,1671]}),{119:[1,1672]},{2:r,3:171,4:n,5:i,56:167,77:se,94:1678,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,234:1673,236:1674,237:ga,238:da,239:fa,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1679,4:n,5:i},{2:r,3:1680,4:n,5:i},e(Ii,[2,209]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1681,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1022,4:n,5:i,100:1682,111:1454},e(ea,[2,211]),{2:r,3:1683,4:n,5:i},e(ea,[2,1107],{221:1684,3:1685,2:r,4:n,5:i}),e(ta,[2,1106]),e(ea,[2,214]),{2:r,3:1686,4:n,5:i},{78:[1,1687]},e(ea,[2,219]),{2:r,3:1688,4:n,5:i},e(ea,[2,222]),{2:r,3:1689,4:n,5:i},{40:1690,79:75,89:c,184:99,189:f},{40:1691,79:75,89:c,184:99,189:f},e(Li,[2,229]),e(Li,[2,231]),e(Li,[2,233]),e(fn,[2,173]),e(Fi,[2,264]),e(Fi,[2,269]),{245:[1,1692],246:[1,1693]},e(Fi,[2,270],{247:[1,1694]}),e(Xn,[2,1094],{153:1026,179:mn,180:yn,181:bn}),e(En,[2,141]),e(Eo,[2,557]),e(Eo,[2,560]),{380:[1,1695]},e(Eo,[2,1137],{401:1696,399:1697,77:ha}),{131:ue,196:1699},e(Eo,[2,565]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1700,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Eo,[2,567]),e(Eo,[2,569]),{2:r,3:114,4:n,5:i,77:[1,1702],113:255,131:ue,132:ce,143:ge,152:he,156:J,181:be,196:254,202:259,203:258,262:256,263:257,270:rt,271:ot,280:1701,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,308:He},{2:r,3:171,4:n,5:i,56:167,77:se,94:1703,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(K,[2,588]),e(gr,[2,358]),e(gr,[2,359]),e(gr,[2,360]),e(gr,[2,361]),e(gr,[2,362]),e(K,[2,592]),e(K,[2,602]),e(Co,[2,744]),e(K,[2,499]),e(K,[2,504],{361:1704,4:ra,248:oa,349:na,362:ia}),e(pa,[2,506]),e(pa,[2,507]),{124:[1,1705]},{124:[1,1706]},{124:[1,1707]},{74:[1,1708],78:[2,515]},e(pi,[2,543]),e(pi,[2,518]),{187:[1,1716],193:[1,1717],368:1709,369:1710,370:1711,371:1712,372:1713,374:Vi,375:[1,1714],376:[1,1718],379:[1,1715]},{2:r,3:1719,4:n,5:i},{40:1720,79:75,89:c,184:99,189:f},{421:[1,1721]},{422:[1,1722]},e(K,[2,771]),e(K,[2,773]),e(In,[2,547]),e(et,[2,338]),{78:[1,1723]},e(et,[2,339]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1678,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,234:1724,236:1674,237:ga,238:da,239:fa,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1389,111:151,113:155,120:1725,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,242:1387,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(et,[2,323]),e(et,[2,325]),{2:r,3:1726,4:n,5:i},e(K,[2,730],{77:[1,1727]}),{2:r,3:1022,4:n,5:i,111:1076,143:_n,145:Sn,147:1728,342:1075,343:1077},{341:Xi,344:Qi,467:1729},e(mi,[2,717]),{77:[1,1731],349:[1,1732],350:[1,1730]},{170:[1,1734],315:[1,1733]},{170:[1,1736],315:[1,1735]},{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,315:[1,1737],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(pn,[2,252],{88:1738,162:[1,1739],168:[1,1741],169:[1,1740]}),{131:ue,196:1742},{131:ue,196:1743},{2:r,3:171,4:n,5:i,56:167,77:se,94:1389,111:151,113:155,120:1744,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,242:1387,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},e(Oi,[2,250],{235:1745,74:ma,240:[1,1747]}),e(ya,[2,244]),{146:[1,1748]},{77:[1,1749]},{77:[1,1750]},e(ya,[2,249],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{78:[2,1061],96:1751,99:[1,1753],102:1752},{99:[1,1754]},e(Ii,[2,237],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),e(Ii,[2,238],{74:di}),e(ea,[2,212]),e(ea,[2,213]),e(ea,[2,1108]),e(ea,[2,215]),{2:r,3:1755,4:n,5:i,76:[1,1756]},e(ea,[2,220]),e(ea,[2,223]),{78:[1,1757]},{78:[1,1758]},e(Fi,[2,265]),e(Fi,[2,266]),e(Fi,[2,271]),{2:r,3:248,4:n,5:i,201:1759},e(Eo,[2,562]),e(Eo,[2,1138]),{2:r,3:1760,4:n,5:i},{74:[1,1761]},{78:[1,1762],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(Eo,[2,572]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1763,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{78:[1,1764],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(pa,[2,505]),{2:r,3:1765,4:n,5:i},{131:ue,196:1766},{2:r,3:1767,4:n,5:i},e(aa,sa,{367:1645,366:1768,373:ua}),e(Co,[2,520]),e(Co,[2,521]),e(Co,[2,522]),e(Co,[2,523]),e(Co,[2,524]),{376:[1,1769]},{376:[1,1770]},e(ba,[2,1131],{388:1771,376:[1,1772]}),{2:r,3:1773,4:n,5:i},{2:r,3:1774,4:n,5:i},e(aa,[2,526]),e(K,[2,1141],{417:1775,419:1776,72:Wi}),e(K,[2,620]),e(K,[2,621],{373:[1,1777]}),e(et,[2,340]),e([78,118],[2,341],{74:ma}),{74:$i,78:[2,342]},e(K,[2,729]),{2:r,3:1022,4:n,5:i,100:1778,111:1454},e(mi,[2,716],{74:ei}),e(mi,[2,714]),{77:dn,143:ge,144:991,145:tt,152:he,181:be,203:992,308:He,348:1779,425:193,426:Ve,430:Ge},{2:r,3:1022,4:n,5:i,100:1780,111:1454},{350:[1,1781]},{345:ca,468:1782},{2:r,3:171,4:n,5:i,56:167,77:se,94:1783,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{345:ca,468:1784},{2:r,3:171,4:n,5:i,56:167,77:se,94:1785,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{345:ca,468:1786},e(pn,[2,72]),{40:1787,79:75,89:c,164:[1,1788],184:99,189:f,241:[1,1789]},{40:1790,79:75,89:c,184:99,189:f,241:[1,1791]},{40:1792,79:75,89:c,184:99,189:f,241:[1,1793]},e(la,[2,275],{251:1794,252:[1,1795]}),{253:1796,254:[2,1109],771:[1,1797]},e(Zi,[2,262],{74:$i}),e(Oi,[2,243]),{2:r,3:171,4:n,5:i,56:167,77:se,94:1678,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,236:1798,237:ga,238:da,239:fa,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1799,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{77:[1,1800]},{2:r,3:171,4:n,5:i,56:167,77:se,94:1678,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,234:1801,236:1674,237:ga,238:da,239:fa,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:171,4:n,5:i,56:167,77:se,94:1678,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,234:1802,236:1674,237:ga,238:da,239:fa,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{78:[1,1803]},{78:[2,1062]},{77:[1,1804]},{77:[1,1805]},e(ea,[2,216]),{2:r,3:1806,4:n,5:i},{2:r,3:1807,4:n,5:i,76:[1,1808]},{2:r,3:1809,4:n,5:i,76:[1,1810]},e(Eo,[2,1135],{400:1811,399:1812,77:ha}),{78:[1,1813]},{131:ue,196:1814},e(Eo,[2,566]),{78:[1,1815],99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(Eo,[2,527]),e(pa,[2,508]),e(pa,[2,509]),e(pa,[2,510]),e(pi,[2,519]),{2:r,3:1817,4:n,5:i,77:[2,1127],377:1816},{77:[1,1818]},{2:r,3:1820,4:n,5:i,77:[2,1133],389:1819},e(ba,[2,1132]),{77:[1,1821]},{77:[1,1822]},e(K,[2,618]),e(K,[2,1142]),e(aa,sa,{367:1645,366:1823,373:ua}),{74:di,78:[1,1824]},e(mi,[2,723],{74:Vn}),{74:di,78:[1,1825]},e(mi,[2,725]),e(mi,[2,718]),{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,315:[1,1826],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(mi,[2,721]),{99:Ct,112:Dt,114:632,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,315:[1,1827],317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,333:644,336:ir,337:ar,338:sr,339:ur},e(mi,[2,719]),e(pn,[2,253]),{40:1828,79:75,89:c,184:99,189:f,241:[1,1829]},{40:1830,79:75,89:c,184:99,189:f},e(pn,[2,255]),{40:1831,79:75,89:c,184:99,189:f},e(pn,[2,256]),{40:1832,79:75,89:c,184:99,189:f},e(la,[2,273]),{131:ue,196:1833},{254:[1,1834]},{254:[2,1110]},e(ya,[2,245]),e(Oi,[2,251],{114:632,333:644,99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1678,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,234:1835,236:1674,237:ga,238:da,239:fa,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{74:ma,78:[1,1836]},{74:ma,78:[1,1837]},e(Wn,[2,1063],{97:1838,104:1839,3:1841,2:r,4:n,5:i,76:Ea}),{2:r,3:171,4:n,5:i,56:167,77:se,94:1844,103:1842,105:1843,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1022,4:n,5:i,100:1845,111:1454},e(ea,[2,217]),e(Ii,[2,175]),{2:r,3:1846,4:n,5:i},e(Ii,[2,177]),{2:r,3:1847,4:n,5:i},e(Eo,[2,561]),e(Eo,[2,1136]),e(Eo,[2,559]),{78:[1,1848]},e(Eo,[2,573]),{77:[1,1849]},{77:[2,1128]},{2:r,3:1851,4:n,5:i,132:_a,378:1850},{77:[1,1853]},{77:[2,1134]},{2:r,3:1022,4:n,5:i,100:1854,111:1454},{2:r,3:1022,4:n,5:i,100:1855,111:1454},e(K,[2,622]),e(K,[2,731]),{349:[1,1857],350:[1,1856]},{345:ca,468:1858},{341:Xi,344:Qi,467:1859},e(pn,[2,254]),{40:1860,79:75,89:c,184:99,189:f},e(pn,[2,257]),e(pn,[2,259]),e(pn,[2,260]),e(la,[2,276]),{131:[2,1111],255:1861,651:[1,1862]},{74:ma,78:[1,1863]},e(ya,[2,247]),e(ya,[2,248]),e(Wn,[2,74]),e(Wn,[2,1064]),{2:r,3:1864,4:n,5:i},e(Wn,[2,78]),{74:[1,1866],78:[1,1865]},e(pi,[2,80]),e(pi,[2,81],{114:632,333:644,76:[1,1867],99:Ct,112:Dt,115:wt,116:Rt,123:xt,124:vo,133:It,136:kt,138:Mt,139:Lt,140:$t,141:Ft,142:Ut,154:Pt,170:Ht,171:jt,179:Bt,180:qt,317:Vt,318:Gt,319:zt,321:Yt,322:Wt,323:Kt,324:Jt,325:Xt,326:Qt,327:Zt,328:er,329:tr,330:rr,331:or,332:nr,336:ir,337:ar,338:sr,339:ur}),{74:di,78:[1,1868]},e(Ii,[2,176]),e(Ii,[2,178]),e(Eo,[2,563]),{2:r,3:1851,4:n,5:i,132:_a,378:1869},{74:Sa,78:[1,1870]},e(pi,[2,538]),e(pi,[2,539]),{2:r,3:1022,4:n,5:i,100:1872,111:1454},{74:di,78:[1,1873]},{74:di,78:[1,1874]},{77:dn,143:ge,144:991,145:tt,152:he,181:be,203:992,308:He,348:1875,425:193,426:Ve,430:Ge},{350:[1,1876]},e(mi,[2,720]),e(mi,[2,722]),e(pn,[2,258]),{131:ue,196:1877},{131:[2,1112]},e(ya,[2,246]),e(Wn,[2,77]),{78:[2,76]},{2:r,3:171,4:n,5:i,56:167,77:se,94:1844,105:1878,111:151,113:155,131:ue,132:ce,137:le,143:ge,144:163,145:de,149:fe,152:he,154:pe,156:J,158:170,179:me,180:ye,181:be,196:153,197:158,202:149,203:157,245:Ee,246:_e,259:152,260:148,261:150,262:154,263:156,264:159,265:160,266:161,267:164,268:165,270:Se,271:ve,272:p,276:Te,277:Ae,279:Ne,286:Ce,287:De,288:we,289:Re,290:xe,291:Oe,292:Ie,293:ke,295:Q,296:Z,297:ee,298:te,299:re,300:Me,301:Le,302:$e,303:Fe,304:Ue,305:Pe,308:He,309:je,318:Be,323:qe,425:193,426:Ve,430:Ge},{2:r,3:1879,4:n,5:i},{78:[1,1880]},{74:Sa,78:[1,1881]},{380:[1,1882]},{2:r,3:1883,4:n,5:i,132:[1,1884]},{74:di,78:[1,1885]},e(Co,[2,536]),e(Co,[2,537]),e(mi,[2,724],{74:Vn}),e(mi,[2,726]),e(va,[2,1113],{256:1886,771:[1,1887]}),e(pi,[2,79]),e(pi,[2,82]),e(Wn,[2,1065],{3:1841,101:1888,104:1889,2:r,4:n,5:i,76:Ea}),e(Co,[2,528]),{2:r,3:248,4:n,5:i,201:1890},e(pi,[2,540]),e(pi,[2,541]),e(Co,[2,535]),e(la,[2,1115],{257:1891,421:[1,1892]}),e(va,[2,1114]),e(Wn,[2,75]),e(Wn,[2,1066]),e(Ta,[2,1129],{381:1893,383:1894,77:[1,1895]}),e(la,[2,274]),e(la,[2,1116]),e(Co,[2,531],{382:1896,384:1897,231:[1,1898]}),e(Ta,[2,1130]),{2:r,3:1851,4:n,5:i,132:_a,378:1899},e(Co,[2,529]),{231:[1,1901],385:1900},{344:[1,1902]},{74:Sa,78:[1,1903]},e(Co,[2,532]),{341:[1,1904]},{386:[1,1905]},e(Ta,[2,530]),{386:[1,1906]},{387:[1,1907]},{387:[1,1908]},{231:[2,533]},e(Co,[2,534])],defaultActions:{105:[2,6],197:[2,343],198:[2,344],199:[2,345],200:[2,346],201:[2,347],202:[2,348],203:[2,349],204:[2,350],205:[2,351],206:[2,352],213:[2,705],598:[2,1152],660:[2,1117],661:[2,1118],717:[2,706],787:[2,1083],788:[2,1084],938:[2,456],939:[2,457],940:[2,458],999:[2,707],1301:[2,1162],1388:[2,1070],1447:[2,1160],1556:[2,517],1752:[2,1062],1797:[2,1110],1817:[2,1128],1820:[2,1134],1862:[2,1112],1865:[2,76],1907:[2,533]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],o=[null],n=[],i=this.table,a="",s=0,u=0,c=0,l=2,g=1,d=n.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(h.yy[p]=this.yy[p]);f.setInput(e,h.yy),h.yy.lexer=f,h.yy.parser=this,typeof f.yylloc>"u"&&(f.yylloc={});var m=f.yylloc;n.push(m);var y=f.options&&f.options.ranges;function b(e){r.length=r.length-2*e,o.length=o.length-e,n.length=n.length-e}"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var E,_,S,v,T,A,N,C,D,w=function(){var e;return"number"!=typeof(e=f.lex()||g)&&(e=t.symbols_[e]||e),e},R={};;){if(S=r[r.length-1],this.defaultActions[S]?v=this.defaultActions[S]:((null===E||typeof E>"u")&&(E=w()),v=i[S]&&i[S][E]),typeof v>"u"||!v.length||!v[0]){var x,O="",I=function(e){for(var t=r.length-1,o=0;;){if(l.toString()in i[e])return o;if(0===e||t<2)return!1;e=r[t-=2],++o}};if(c)_!==g&&(x=I(S));else{for(A in x=I(S),D=[],i[S])this.terminals_[A]&&A>l&&D.push("\'"+this.terminals_[A]+"\'");O=f.showPosition?"Parse error on line "+(s+1)+":\\n"+f.showPosition()+"\\nExpecting "+D.join(", ")+", got \'"+(this.terminals_[E]||E)+"\'":"Parse error on line "+(s+1)+": Unexpected "+(E==g?"end of input":"\'"+(this.terminals_[E]||E)+"\'"),this.parseError(O,{text:f.match,token:this.terminals_[E]||E,line:f.yylineno,loc:m,expected:D,recoverable:!1!==x})}if(3==c){if(E===g||_===g)throw new Error(O||"Parsing halted while starting to recover from another error.");u=f.yyleng,a=f.yytext,s=f.yylineno,m=f.yylloc,E=w()}if(!1===x)throw new Error(O||"Parsing halted. No suitable error recovery rule available.");b(x),_=E==l?null:E,E=l,S=r[r.length-1],v=i[S]&&i[S][l],c=3}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+E);switch(v[0]){case 1:r.push(E),o.push(f.yytext),n.push(f.yylloc),r.push(v[1]),E=null,_?(E=_,_=null):(u=f.yyleng,a=f.yytext,s=f.yylineno,m=f.yylloc,c>0&&c--);break;case 2:if(N=this.productions_[v[1]][1],R.$=o[o.length-N],R._$={first_line:n[n.length-(N||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(N||1)].first_column,last_column:n[n.length-1].last_column},y&&(R._$.range=[n[n.length-(N||1)].range[0],n[n.length-1].range[1]]),typeof(T=this.performAction.apply(R,[a,u,s,h.yy,v[1],o,n].concat(d)))<"u")return T;N&&(r=r.slice(0,-1*N*2),o=o.slice(0,-1*N),n=n.slice(0,-1*N)),r.push(this.productions_[v[1]][0]),o.push(R.$),n.push(R._$),C=i[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}},Na=["A","ABSENT","ABSOLUTE","ACCORDING","ACTION","ADA","ADD","ADMIN","AFTER","ALWAYS","ASC","ASSERTION","ASSIGNMENT","ATTRIBUTE","ATTRIBUTES","BASE64","BEFORE","BERNOULLI","BLOCKED","BOM","BREADTH","C","CASCADE","CATALOG","CATALOG_NAME","CHAIN","CHARACTERISTICS","CHARACTERS","CHARACTER_SET_CATALOG","CHARACTER_SET_NAME","CHARACTER_SET_SCHEMA","CLASS_ORIGIN","COBOL","COLLATION","COLLATION_CATALOG","COLLATION_NAME","COLLATION_SCHEMA","COLUMNS","COLUMN_NAME","COMMAND_FUNCTION","COMMAND_FUNCTION_CODE","COMMITTED","CONDITION_NUMBER","CONNECTION","CONNECTION_NAME","CONSTRAINTS","CONSTRAINT_CATALOG","CONSTRAINT_NAME","CONSTRAINT_SCHEMA","CONSTRUCTOR","CONTENT","CONTINUE","CONTROL","CURSOR_NAME","DATA","DATETIME_INTERVAL_CODE","DATETIME_INTERVAL_PRECISION","DB","DEFAULTS","DEFERRABLE","DEFERRED","DEFINED","DEFINER","DEGREE","DEPTH","DERIVED","DESC","DESCRIPTOR","DIAGNOSTICS","DISPATCH","DOCUMENT","DOMAIN","DYNAMIC_FUNCTION","DYNAMIC_FUNCTION_CODE","EMPTY","ENCODING","ENFORCED","EXCLUDE","EXCLUDING","EXPRESSION","FILE","FINAL","FIRST","FLAG","FOLLOWING","FORTRAN","FOUND","FS","G","GENERAL","GENERATED","GO","GOTO","GRANTED","HEX","HIERARCHY","ID","IGNORE","IMMEDIATE","IMMEDIATELY","IMPLEMENTATION","INCLUDING","INCREMENT","INDENT","INITIALLY","INPUT","INSTANCE","INSTANTIABLE","INSTEAD","INTEGRITY","INVOKER","ISOLATION","K","KEY","KEY_MEMBER","KEY_TYPE","LAST","LENGTH","LEVEL","LIBRARY","LIMIT","LINK","LOCATION","LOCATOR","M","MAP","MAPPING","MATCHED","MAXVALUE","MESSAGE_LENGTH","MESSAGE_OCTET_LENGTH","MESSAGE_TEXT","MINVALUE","MORE","MUMPS","NAME","NAMES","NAMESPACE","NESTING","NEXT","NFC","NFD","NFKC","NFKD","NIL","NORMALIZED","NULLABLE","NULLS","NUMBER","OBJECT","OCTETS","OFF","OPTION","OPTIONS","ORDERING","ORDINALITY","OTHERS","OUTPUT","OVERRIDING","P","PAD","PARAMETER_MODE","PARAMETER_NAME","PARAMETER_ORDINAL_POSITION","PARAMETER_SPECIFIC_CATALOG","PARAMETER_SPECIFIC_NAME","PARAMETER_SPECIFIC_SCHEMA","PARTIAL","PASCAL","PASSING","PASSTHROUGH","PATH","PERMISSION","PLACING","PLI","PRECEDING","PRESERVE","PRIOR","PRIVILEGES","PUBLIC","READ","RECOVERY","RELATIVE","REPEATABLE","REQUIRING","RESPECT","RESTART","RESTORE","RESTRICT","RETURNED_CARDINALITY","RETURNED_LENGTH","RETURNED_OCTET_LENGTH","RETURNED_SQLSTATE","RETURNING","ROLE","ROUTINE","ROUTINE_CATALOG","ROUTINE_NAME","ROUTINE_SCHEMA","ROW_COUNT","SCALE","SCHEMA","SCHEMA_NAME","SCOPE_CATALOG","SCOPE_NAME","SCOPE_SCHEMA","SECTION","SECURITY","SELECTIVE","SELF","SEQUENCE","SERIALIZABLE","SERVER","SERVER_NAME","SESSION","SETS","SIMPLE","SIZE","SOURCE","SPACE","SPECIFIC_NAME","STANDALONE","STATE","STATEMENT","STRIP","STRUCTURE","STYLE","SUBCLASS_ORIGIN","T","TABLE_NAME","TEMPORARY","TIES","TOKEN","TOP_LEVEL_COUNT","TRANSACTION","TRANSACTIONS_COMMITTED","TRANSACTIONS_ROLLED_BACK","TRANSACTION_ACTIVE","TRANSFORM","TRANSFORMS","TRIGGER_CATALOG","TRIGGER_NAME","TRIGGER_SCHEMA","TYPE","UNBOUNDED","UNCOMMITTED","UNDER","UNLINK","UNNAMED","UNTYPED","URI","USAGE","USER_DEFINED_TYPE_CATALOG","USER_DEFINED_TYPE_CODE","USER_DEFINED_TYPE_NAME","USER_DEFINED_TYPE_SCHEMA","VALID","VERSION","VIEW","WHITESPACE","WORK","WRAPPER","WRITE","XMLDECLARATION","XMLSCHEMA","YES","ZONE"];Aa.parseError=function(e,t){if(!(t.expected&&t.expected.indexOf("\'LITERAL\'")>-1&&/[a-zA-Z_][a-zA-Z_0-9]*/.test(t.token)&&Na.indexOf(t.token)>-1))throw new SyntaxError(e)};var Ca={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\\r\\n?|\\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\\r\\n?|\\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var o=this.match.split(/(?:\\r\\n?|\\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===o.length?this.yylloc.first_column:0)+o[o.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\\n"+t+"^"},test_match:function(e,t){var r,o,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(o=e[0].match(/(?:\\r\\n?|\\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\\r?\\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in n)this[i]=n[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),i=0;i<n.length;i++)if((r=this._input.match(this.rules[n[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,o=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,n[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,n[o]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:return o.options.disablejsfunc?"STRING":"JAVASCRIPT";case 1:return 308;case 2:return 426;case 3:return 305;case 4:case 5:return 5;case 6:case 7:return 302;case 8:case 9:return 132;case 10:return;case 11:break;case 12:return 322;case 13:case 250:return 325;case 14:return t.yytext="VALUE",89;case 15:return t.yytext="VALUE",189;case 16:return t.yytext="ROW",189;case 17:return t.yytext="COLUMN",189;case 18:return t.yytext="MATRIX",189;case 19:return t.yytext="INDEX",189;case 20:return t.yytext="RECORDSET",189;case 21:return t.yytext="TEXT",189;case 22:return t.yytext="SELECT",189;case 23:return 526;case 24:return 387;case 25:return 408;case 26:return 521;case 27:return 292;case 28:case 29:return 275;case 30:return 164;case 31:return 406;case 32:return 170;case 33:return 230;case 34:return 166;case 35:return 208;case 36:return 293;case 37:return 76;case 38:return 424;case 39:case 87:return 247;case 40:return 410;case 41:case 117:return 362;case 42:return 291;case 43:return 520;case 44:return 443;case 45:return 336;case 46:return 447;case 47:return 337;case 48:case 51:case 53:case 55:return 321;case 49:return 119;case 50:case 52:case 54:case 134:return 112;case 56:case 98:case 99:return 514;case 57:return 309;case 58:return 277;case 59:return 374;case 60:return 130;case 61:return"CLOSE";case 62:return 248;case 63:case 64:return 190;case 65:return 440;case 66:return 373;case 67:return 476;case 68:return 446;case 69:return 279;case 70:return 241;case 71:return 288;case 72:return 273;case 73:return 207;case 74:return 239;case 75:return 270;case 76:case 77:return 271;case 78:return"CURSOR";case 79:case 193:return 411;case 80:return 296;case 81:return 297;case 82:return 298;case 83:return 454;case 84:return 349;case 85:return 344;case 86:return"DELETED";case 88:return 412;case 89:return 185;case 90:return 402;case 91:return 453;case 92:return 135;case 93:return 312;case 94:return 395;case 95:return 316;case 96:return 320;case 97:case 142:return 169;case 100:return 304;case 101:return 14;case 102:return 301;case 103:return 254;case 104:return 245;case 105:return 95;case 106:return 379;case 107:return 183;case 108:return 228;case 109:return 274;case 110:return 319;case 111:return 608;case 112:return 478;case 113:return 233;case 114:return 237;case 115:return 240;case 116:return 156;case 118:return 338;case 119:return 99;case 120:return 193;case 121:return 213;case 122:return 225;case 123:return 522;case 124:return 345;case 125:return 214;case 126:return 168;case 127:return 299;case 128:return 200;case 129:return 224;case 130:return 376;case 131:return 246;case 132:return"LET";case 133:return 226;case 135:return 250;case 136:return 466;case 137:return 191;case 138:return 290;case 139:return 396;case 140:return 289;case 141:return 458;case 143:return 409;case 144:return 223;case 145:return 651;case 146:return 276;case 147:return 249;case 148:return 386;case 149:return 154;case 150:case 151:return 303;case 152:return 244;case 153:return 439;case 154:return 231;case 155:return 421;case 156:return 129;case 157:return 252;case 158:return"OPEN";case 159:return 422;case 160:return 171;case 161:return 118;case 162:return 209;case 163:return 282;case 164:return 172;case 165:return 285;case 166:return 770;case 167:return 93;case 168:return 16;case 169:return 375;case 170:return 448;case 171:return 683;case 172:return 15;case 173:return 420;case 174:return 194;case 175:return"REDUCE";case 176:return 380;case 177:return 317;case 178:return 523;case 179:return 687;case 180:return 107;case 181:return 407;case 182:return 175;case 183:return 295;case 184:return 449;case 185:return 692;case 186:case 187:return 173;case 188:return 227;case 189:return 442;case 190:return 238;case 191:return 150;case 192:return 771;case 194:return 89;case 195:return 229;case 196:case 197:return 146;case 198:return 415;case 199:return 340;case 200:return 423;case 201:return"STRATEGY";case 202:return"STORE";case 203:return 286;case 204:return 287;case 205:case 206:return 359;case 207:return 469;case 208:case 209:return 363;case 210:return 192;case 211:return 315;case 212:return"TIMEOUT";case 213:return 148;case 214:return 198;case 215:case 216:case 234:return 441;case 217:return 515;case 218:return 300;case 219:return 457;case 220:return 162;case 221:return 187;case 222:return 98;case 223:return 341;case 224:return 414;case 225:return 232;case 226:return 149;case 227:return 350;case 228:return 134;case 229:return 416;case 230:return 314;case 231:return 128;case 232:return 445;case 233:return 72;case 235:case 236:return 131;case 237:return 115;case 238:return 137;case 239:return 179;case 240:return 323;case 241:return 180;case 242:return 133;case 243:return 138;case 244:return 332;case 245:return 329;case 246:return 331;case 247:return 328;case 248:return 326;case 249:return 324;case 251:return 142;case 252:return 141;case 253:return 139;case 254:return 327;case 255:case 258:return 330;case 256:return 140;case 257:return 124;case 259:return 77;case 260:return 78;case 261:return 145;case 262:return 430;case 263:return 432;case 264:return 306;case 265:return 511;case 266:return 513;case 267:return 122;case 268:return 116;case 269:return 74;case 270:return 339;case 271:return 152;case 272:return 769;case 273:return 143;case 274:return 181;case 275:return 136;case 276:return 123;case 277:return 318;case 278:return 4;case 279:return 10;case 280:return"INVALID"}},rules:[/^(?:``([^\\`])+``)/i,/^(?:\\[\\?\\])/i,/^(?:@\\[)/i,/^(?:ARRAY\\[)/i,/^(?:\\[([^\\]\'])*?\\])/i,/^(?:`([^\\`\'])*?`)/i,/^(?:N([\'](\\\\.|[^\']|\\\\\')*?[\'])+)/i,/^(?:X([\'](\\\\.|[^\']|\\\\\')*?[\'])+)/i,/^(?:([\'](\\\\.|[^\']|\\\\\')*?[\'])+)/i,/^(?:(["](\\\\.|[^"]|\\\\")*?["])+)/i,/^(?:--(.*?)($|\\r\\n|\\r|\\n))/i,/^(?:\\s+)/i,/^(?:\\|\\|)/i,/^(?:\\|)/i,/^(?:VALUE\\s+OF\\s+SEARCH\\b)/i,/^(?:VALUE\\s+OF\\s+SELECT\\b)/i,/^(?:ROW\\s+OF\\s+SELECT\\b)/i,/^(?:COLUMN\\s+OF\\s+SELECT\\b)/i,/^(?:MATRIX\\s+OF\\s+SELECT\\b)/i,/^(?:INDEX\\s+OF\\s+SELECT\\b)/i,/^(?:RECORDSET\\s+OF\\s+SELECT\\b)/i,/^(?:TEXT\\s+OF\\s+SELECT\\b)/i,/^(?:SELECT\\b)/i,/^(?:ABSOLUTE\\b)/i,/^(?:ACTION\\b)/i,/^(?:ADD\\b)/i,/^(?:AFTER\\b)/i,/^(?:AGGR\\b)/i,/^(?:AGGREGATE\\b)/i,/^(?:AGGREGATOR\\b)/i,/^(?:ALL\\b)/i,/^(?:ALTER\\b)/i,/^(?:AND\\b)/i,/^(?:ANTI\\b)/i,/^(?:ANY\\b)/i,/^(?:APPLY\\b)/i,/^(?:ARRAY\\b)/i,/^(?:AS\\b)/i,/^(?:ASSERT\\b)/i,/^(?:ASC\\b)/i,/^(?:ATTACH\\b)/i,/^(?:AUTO(_)?INCREMENT\\b)/i,/^(?:AVG\\b)/i,/^(?:BEFORE\\b)/i,/^(?:BEGIN\\b)/i,/^(?:BETWEEN\\b)/i,/^(?:BREAK\\b)/i,/^(?:NOT\\s+BETWEEN\\b)/i,/^(?:NOT\\s+LIKE\\b)/i,/^(?:BY\\b)/i,/^(?:~~\\*)/i,/^(?:!~~\\*)/i,/^(?:~~)/i,/^(?:!~~)/i,/^(?:ILIKE\\b)/i,/^(?:NOT\\s+ILIKE\\b)/i,/^(?:CALL\\b)/i,/^(?:CASE\\b)/i,/^(?:CAST\\b)/i,/^(?:CHECK\\b)/i,/^(?:CLASS\\b)/i,/^(?:CLOSE\\b)/i,/^(?:COLLATE\\b)/i,/^(?:COLUMN\\b)/i,/^(?:COLUMNS\\b)/i,/^(?:COMMIT\\b)/i,/^(?:CONSTRAINT\\b)/i,/^(?:CONTENT\\b)/i,/^(?:CONTINUE\\b)/i,/^(?:CONVERT\\b)/i,/^(?:CORRESPONDING\\b)/i,/^(?:COUNT\\b)/i,/^(?:CREATE\\b)/i,/^(?:CROSS\\b)/i,/^(?:CUBE\\b)/i,/^(?:CURRENT_TIMESTAMP\\b)/i,/^(?:CURRENT_DATE\\b)/i,/^(?:CURDATE\\b)/i,/^(?:CURSOR\\b)/i,/^(?:DATABASE(S)?)/i,/^(?:DATEADD\\b)/i,/^(?:DATEDIFF\\b)/i,/^(?:TIMESTAMPDIFF\\b)/i,/^(?:DECLARE\\b)/i,/^(?:DEFAULT\\b)/i,/^(?:DELETE\\b)/i,/^(?:DELETED\\b)/i,/^(?:DESC\\b)/i,/^(?:DETACH\\b)/i,/^(?:DISTINCT\\b)/i,/^(?:DROP\\b)/i,/^(?:ECHO\\b)/i,/^(?:EDGE\\b)/i,/^(?:END\\b)/i,/^(?:ENUM\\b)/i,/^(?:ELSE\\b)/i,/^(?:ESCAPE\\b)/i,/^(?:EXCEPT\\b)/i,/^(?:EXEC\\b)/i,/^(?:EXECUTE\\b)/i,/^(?:EXISTS\\b)/i,/^(?:EXPLAIN\\b)/i,/^(?:FALSE\\b)/i,/^(?:FETCH\\b)/i,/^(?:FIRST\\b)/i,/^(?:FOR\\b)/i,/^(?:FOREIGN\\b)/i,/^(?:FROM\\b)/i,/^(?:FULL\\b)/i,/^(?:FUNCTION\\b)/i,/^(?:GLOB\\b)/i,/^(?:GO\\b)/i,/^(?:GRAPH\\b)/i,/^(?:GROUP\\b)/i,/^(?:GROUPING\\b)/i,/^(?:HAVING\\b)/i,/^(?:IF\\b)/i,/^(?:IDENTITY\\b)/i,/^(?:IS\\b)/i,/^(?:IN\\b)/i,/^(?:INDEX\\b)/i,/^(?:INDEXED\\b)/i,/^(?:INNER\\b)/i,/^(?:INSTEAD\\b)/i,/^(?:INSERT\\b)/i,/^(?:INSERTED\\b)/i,/^(?:INTERSECT\\b)/i,/^(?:INTERVAL\\b)/i,/^(?:INTO\\b)/i,/^(?:JOIN\\b)/i,/^(?:KEY\\b)/i,/^(?:LAST\\b)/i,/^(?:LET\\b)/i,/^(?:LEFT\\b)/i,/^(?:LIKE\\b)/i,/^(?:LIMIT\\b)/i,/^(?:MATCHED\\b)/i,/^(?:MATRIX\\b)/i,/^(?:MAX(\\s+)?(?=\\())/i,/^(?:MAX(\\s+)?(?=(,|\\))))/i,/^(?:MIN(\\s+)?(?=\\())/i,/^(?:MERGE\\b)/i,/^(?:MINUS\\b)/i,/^(?:MODIFY\\b)/i,/^(?:NATURAL\\b)/i,/^(?:NEXT\\b)/i,/^(?:NEW\\b)/i,/^(?:NOCASE\\b)/i,/^(?:NO\\b)/i,/^(?:NOT\\b)/i,/^(?:NULL\\b)/i,/^(?:EMPTY\\b)/i,/^(?:NULLS\\b)/i,/^(?:OFF\\b)/i,/^(?:ON\\b)/i,/^(?:ONLY\\b)/i,/^(?:OF\\b)/i,/^(?:OFFSET\\b)/i,/^(?:OPEN\\b)/i,/^(?:OPTION\\b)/i,/^(?:OR\\b)/i,/^(?:ORDER\\b)/i,/^(?:OUTER\\b)/i,/^(?:OVER\\b)/i,/^(?:PATH\\b)/i,/^(?:PARTITION\\b)/i,/^(?:PERCENT\\b)/i,/^(?:PIVOT\\b)/i,/^(?:PLAN\\b)/i,/^(?:PRIMARY\\b)/i,/^(?:PRINT\\b)/i,/^(?:PRIOR\\b)/i,/^(?:QUERY\\b)/i,/^(?:READ\\b)/i,/^(?:RECORDSET\\b)/i,/^(?:REDUCE\\b)/i,/^(?:REFERENCES\\b)/i,/^(?:REGEXP\\b)/i,/^(?:REINDEX\\b)/i,/^(?:RELATIVE\\b)/i,/^(?:REMOVE\\b)/i,/^(?:RENAME\\b)/i,/^(?:REPEAT\\b)/i,/^(?:REPLACE\\b)/i,/^(?:REQUIRE\\b)/i,/^(?:RESTORE\\b)/i,/^(?:RETURN\\b)/i,/^(?:RETURNS\\b)/i,/^(?:RIGHT\\b)/i,/^(?:ROLLBACK\\b)/i,/^(?:ROLLUP\\b)/i,/^(?:ROW\\b)/i,/^(?:ROWS\\b)/i,/^(?:SCHEMA(S)?)/i,/^(?:SEARCH\\b)/i,/^(?:SEMI\\b)/i,/^(?:SET\\b)/i,/^(?:SETS\\b)/i,/^(?:SHOW\\b)/i,/^(?:SOME\\b)/i,/^(?:SOURCE\\b)/i,/^(?:STRATEGY\\b)/i,/^(?:STORE\\b)/i,/^(?:SUM\\b)/i,/^(?:TOTAL\\b)/i,/^(?:TABLE\\b)/i,/^(?:TABLES\\b)/i,/^(?:TARGET\\b)/i,/^(?:TEMP\\b)/i,/^(?:TEMPORARY\\b)/i,/^(?:TEXTSTRING\\b)/i,/^(?:THEN\\b)/i,/^(?:TIMEOUT\\b)/i,/^(?:TO\\b)/i,/^(?:TOP\\b)/i,/^(?:TRAN\\b)/i,/^(?:TRANSACTION\\b)/i,/^(?:TRIGGER\\b)/i,/^(?:TRUE\\b)/i,/^(?:TRUNCATE\\b)/i,/^(?:UNION\\b)/i,/^(?:UNIQUE\\b)/i,/^(?:UNPIVOT\\b)/i,/^(?:UPDATE\\b)/i,/^(?:USE\\b)/i,/^(?:USING\\b)/i,/^(?:VALUE\\b)/i,/^(?:VALUES\\b)/i,/^(?:VERTEX\\b)/i,/^(?:VIEW\\b)/i,/^(?:WHEN\\b)/i,/^(?:WHERE\\b)/i,/^(?:WHILE\\b)/i,/^(?:WITH\\b)/i,/^(?:WORK\\b)/i,/^(?:(\\d*[.])?\\d+[eE]\\d+)/i,/^(?:(\\d*[.])?\\d+)/i,/^(?:->)/i,/^(?:#)/i,/^(?:\\+)/i,/^(?:-)/i,/^(?:\\*)/i,/^(?:\\/)/i,/^(?:%)/i,/^(?:!===)/i,/^(?:===)/i,/^(?:!==)/i,/^(?:==)/i,/^(?:>=)/i,/^(?:&)/i,/^(?:\\|)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:\\()/i,/^(?:\\))/i,/^(?:@)/i,/^(?:\\{)/i,/^(?:\\})/i,/^(?:\\])/i,/^(?::-)/i,/^(?:\\?-)/i,/^(?:\\.\\.)/i,/^(?:\\.)/i,/^(?:,)/i,/^(?:::)/i,/^(?::)/i,/^(?:;)/i,/^(?:\\$)/i,/^(?:\\?)/i,/^(?:!)/i,/^(?:\\^)/i,/^(?:~)/i,/^(?:[0-9]*[a-zA-Z_]+[a-zA-Z_0-9]*)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280],inclusive:!0}}};function Da(){this.yy={}}return Aa.lexer=Ca,Da.prototype=Aa,Aa.Parser=Da,new Da}();typeof n<"u"&&typeof t<"u"&&(t.parser=s,t.Parser=s.Parser,t.parse=function(){return s.parse.apply(s,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var r=n("fs").readFileSync(n("path").normalize(e[1]),"utf8");return t.parser.parse(r)},n.main===e&&t.main(process.argv.slice(1))),o.prettyflag=!1,o.pretty=function(e,t){var r=o.prettyflag;o.prettyflag=!t;var n=o.parse(e).toString();return o.prettyflag=r,n};var u=o.utils={};function c(e){return"(y="+e+",y===y?y:undefined)"}function l(e,t){return"(y="+e+\',typeof y=="undefined"?undefined:\'+t+")"}function g(){return!0}var d=u.escapeq=function(e){return(""+e).replace(/["\'\\\\\\n\\r\\u2028\\u2029]/g,(function(e){switch(e){case\'"\':case"\'":case"\\\\":return"\\\\"+e;case"\\n":return"\\\\n";case"\\r":return"\\\\r";case"\\u2028":return"\\\\u2028";case"\\u2029":return"\\\\u2029"}}))},f=u.undoubleq=function(e){return e.replace(/(\\\')/g,"\'\'")},h=u.doubleq=function(e){return e.replace(/(\\\'\\\')/g,"\\\\\'")},p=(u.doubleqq=function(e){return e.replace(/\\\'/g,"\'")},function(e){return"\\ufeff"===e[0]&&(e=e.substr(1)),e});const m=typeof self<"u"?self:typeof window<"u"?window:typeof r.g<"u"?r.g:Function("return this")();u.isNativeFunction=function(e){return"function"==typeof e&&!!~e.toString().indexOf("[native code]")},u.isWebWorker=function(){try{var e=m.importScripts;return u.isNativeFunction(e)}catch{return!1}}(),u.isNode=function(){try{return!(typeof process>"u"||!process.versions||!process.versions.node)}catch{return!1}}(),u.isBrowser=function(){try{return u.isNativeFunction(m.location.reload)}catch{return!1}}(),u.isBrowserify=u.isBrowser&&typeof process<"u"&&process.browser,u.isRequireJS=u.isBrowser&&"function"==typeof n&&"function"==typeof n.specified,u.isMeteor=typeof Meteor<"u"&&Meteor.release,u.isMeteorClient=u.isMeteorClient=u.isMeteor&&Meteor.isClient,u.isMeteorServer=u.isMeteor&&Meteor.isServer,u.isCordova="object"==typeof cordova,u.isReactNative=!1,u.hasIndexedDB=function(){try{return!!m.indexedDB}catch{return null}}(),u.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};let y=u.loadFile=function(e,t,r,o){var n;if(!u.isNode&&!u.isMeteorServer){if(u.isCordova)return void m.requestFileSystem(LocalFileSystem.PERSISTENT,0,(function(t){t.root.getFile(e,{create:!1},(function(e){e.file((function(e){var t=new FileReader;t.onloadend=function(e){r(p(this.result))},t.readAsText(e)}))}))}));if("string"==typeof e)return"#"===e.substr(0,1)&&typeof document<"u"?(n=document.querySelector(e).textContent,void r(n)):void E(e,(e=>r(p(e))),o,t);if(e instanceof Event){var i=e.target.files,a=new FileReader;i[0].name,a.onload=function(e){var t=e.target.result;r(p(t))},a.readAsText(i[0])}E(e,(e=>r(p(e))),o,t)}},b=typeof fetch<"u"?fetch:null;async function E(e,t,r,o){return o?_(e,t,r):await _(e,t,r)}function _(e,t,r){return b(e).then((e=>e.arrayBuffer())).then((e=>{var r=[...new Uint8Array(e)].map((e=>String.fromCharCode(e))).join("");t(r)})).catch((e=>{if(r)return r(e);throw console.error(e),e}))}u.loadBinaryFile=function(e,t,r,o=e=>{throw e}){if(!u.isNode&&!u.isMeteorServer)if("string"==typeof e){var n=new XMLHttpRequest;n.open("GET",e,t),n.responseType="arraybuffer",n.onload=function(){for(var e=new Uint8Array(n.response),t=[],o=0;o<e.length;++o)t[o]=String.fromCharCode(e[o]);r(t.join(""))},n.onerror=o,n.send()}else if(e instanceof Event){var i=e.target.files,a=new FileReader;i[0].name,a.onload=function(e){var t=e.target.result;r(t)},a.onerror=o,a.readAsArrayBuffer(i[0])}else e instanceof Blob&&r(e)},u.removeFile=function(e,t){if(!u.isNode)throw new Error("You can remove files only in Node.js and Apache Cordova")},u.deleteFile=function(e,t){},u.autoExtFilename=function(e,t,r){return r=r||{},"string"!=typeof e||e.match(/^[A-Z]+:\\/\\/|\\n|\\..{2,6}$/i)||0===r.autoExt||!1===r.autoExt?e:e+"."+t},u.fileExists=function(e,t){if(!u.isNode)throw new Error("You can use exists() only in Node.js or Apach Cordova")},u.saveFile=function(e,t,r,n){var i=1;if(void 0===e)i=t,r&&(i=r(i));else if(!u.isNode){var a={disableAutoBom:!1};o.utils.extend(a,n);var s=new Blob([t],{type:"text/plain;charset=utf-8"});Oe(s,e,a.disableAutoBom),r&&(i=r(i))}return i};var S=u.hash=function(e){for(var t=2166136261,r=e.length;r;)t^=e.charCodeAt(--r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t},v=u.arrayUnion=function(e,t){var r=t.slice(0);return e.forEach((function(e){r.indexOf(e)<0&&r.push(e)})),r},T=u.arrayDiff=function(e,t){return e.filter((function(e){return t.indexOf(e)<0}))},A=u.arrayIntersect=function(e,t){var r=[];return e.forEach((function(e){var o=!1;t.forEach((function(t){o=o||e===t})),o&&r.push(e)})),r},N=u.arrayUnionDeep=function(e,t){var r=t.slice(0);return e.forEach((function(e){var t=!1;r.forEach((function(r){t=t||R(e,r)})),t||r.push(e)})),r},C=u.arrayExceptDeep=function(e,t){var r=[];return e.forEach((function(e){var o=!1;t.forEach((function(t){o=o||R(e,t)})),o||r.push(e)})),r},D=u.arrayIntersectDeep=function(e,t){var r=[];return e.forEach((function(e){var o=!1;t.forEach((function(t){o=o||R(e,t,!0)})),o&&r.push(e)})),r},w=u.cloneDeep=function e(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t);if(t instanceof String)return t.toString();if(t instanceof Number)return+t;var r=new t.constructor;for(var o in t)t.hasOwnProperty(o)&&(r[o]=e(t[o]));return r},R=u.deepEqual=function(e,t){if(e===t)return!0;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!R(e[r],t[r]))return!1;return!0}return!1},x=u.distinctArray=function(e){for(var t={},r=0,o=e.length;r<o;r++)t["object"==typeof e[r]?Object.keys(e[r]).sort().map((function(t){return t+"`"+e[r][t]})).join("`"):e[r]]=e[r];var n=[];for(var i in t)n.push(t[i]);return n},O=u.extend=function(e,t){for(var r in e=e||{},t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},I=u.getValueOf=function(e){return"object"==typeof e&&(e instanceof String||e instanceof Number)?e.valueOf():e},k=u.flatArray=function(e){if(!e||0===e.length)return[];if("object"==typeof e&&e instanceof o.Recordset)return e.data.map((function(t){return I(t[e.columns[0].columnid])}));var t=Object.keys(e[0])[0];return void 0===t?[]:e.map((function(e){return e[t]}))};u.arrayOfArrays=function(e){return e.map((function(e){var t=[];for(var r in e)t.push(e[r]);return t}))},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),u.xlsnc=function(e){var t="";if(e>701){let r=((e-26)/676|0)-1;t=String.fromCharCode(65+r%26),e%=676}var r=String.fromCharCode(65+e%26);return e>=26&&(e=(e/26|0)-1,r=String.fromCharCode(65+e%26)+r,e>26&&(e=(e/26|0)-1,r=String.fromCharCode(65+e%26)+r)),t+r},u.xlscn=function(e){var t=e.charCodeAt(0)-65;return e.length>1&&(t=26*(t+1)+e.charCodeAt(1)-65,e.length>2&&(t=26*(t+1)+e.charCodeAt(2)-65)),t},u.domEmptyChildren=function(e){for(var t=e.childNodes.length;t--;)e.removeChild(e.lastChild)};var M={};u.like=function(e,t,r){if(!M[e]){r||(r="");for(var o=0,n="^";o<e.length;){var i=e[o],a="";o<e.length-1&&(a=e[o+1]),i===r?(n+="\\\\"+a,o++):"["===i&&"^"===a?(n+="[^",o++):"["===i||"]"===i?n+=i:"%"===i?n+="[\\\\s\\\\S]*":"_"===i?n+=".":"/.*+?|(){}".indexOf(i)>-1?n+="\\\\"+i:n+=i,o++}n+="$",M[e]=RegExp(n,"i")}return(""+(t??"")).search(M[e])>-1},u.glob=function(e,t){for(var r=0,o="^";r<t.length;){var n=t[r],i="";r<t.length-1&&(i=t[r+1]),"["===n&&"^"===i?(o+="[^",r++):"["===n||"]"===n?o+=n:"*"===n?o+=".*":"?"===n?o+=".":"/.*+?|(){}".indexOf(n)>-1?o+="\\\\"+n:o+=n,r++}return o+="$",(""+(e||"")).toUpperCase().search(RegExp(o.toUpperCase()))>-1},u.findAlaSQLPath=function(){if(u.isWebWorker)return"";if(u.isMeteorClient)return"/packages/dist/";if(u.isMeteorServer)return"assets/packages/dist/";if(u.isNode)return a;if(u.isBrowser)for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){if("alasql-worker.js"===e[t].src.substr(-16).toLowerCase())return e[t].src.substr(0,e[t].src.length-16);if("alasql-worker.min.js"===e[t].src.substr(-20).toLowerCase())return e[t].src.substr(0,e[t].src.length-20);if("alasql.js"===e[t].src.substr(-9).toLowerCase())return e[t].src.substr(0,e[t].src.length-9);if("alasql.min.js"===e[t].src.substr(-13).toLowerCase())return e[t].src.substr(0,e[t].src.length-13)}return""};var L=function(){var e=o.private.externalXlsxLib||m.XLSX||null;if(e)return e;if(u.isNode||u.isBrowserify||u.isMeteorServer,!e)throw new Error("Please include the xlsx.js library");return e};o.path=o.utils.findAlaSQLPath(),o.utils.uncomment=function(e){for(var t,r=!1,o=!1,n=!1,i=0,a=(e=("__"+e+"__").split("")).length;i<a;i++){var s="\\\\"!==e[i-1]||"\\\\"===e[i-2];r?e[i]===t&&s&&(r=!1):o?"*"===e[i]&&"/"===e[i+1]?(e[i]=e[i+1]="",o=!1,i++):e[i]="":n?(("\\n"===e[i+1]||"\\r"===e[i+1]||e.length-2===i)&&(n=!1),e[i]=""):\'"\'===e[i]||"\'"===e[i]?(r=!0,t=e[i]):"["===e[i]&&"@"!==e[i-1]?(r=!0,t="]"):"-"===e[i]&&"-"===e[i+1]?(e[i]="",n=!0):"/"===e[i]&&"*"===e[i+1]&&(e[i]="",o=!0)}return e=e.join("").slice(2,-2)},o.parser=s,o.parser.parseError=function(e,t){throw new Error("Have you used a reserved keyword without `escaping` it?\\n"+e)},o.parse=function(e){return s.parse(o.utils.uncomment(e))},o.engines={},o.databases={},o.databasenum=0,o.options={errorlog:!1,valueof:!0,dropifnotexists:!1,datetimeformat:"sql",disablejsfunc:!1,casesensitive:!0,logtarget:"output",logprompt:!0,progress:!1,modifier:void 0,columnlookup:10,autovertex:!0,usedbo:!0,autocommit:!0,cache:!0,tsql:!0,mysql:!0,postgres:!0,oracle:!0,sqlite:!0,orientdb:!0,nocount:!1,nan:!1,excel:{cellDates:!0},joinstar:"overwrite",loopbreak:1e5,dateAsString:!0},o.vars={},o.declares={},o.prompthistory=[],o.plugins={},o.from={},o.into={},o.fn={},o.aggr={},o.busy=0,o.MAXSQLCACHESIZE=1e4,o.DEFAULTDATABASEID="alasql",o.lastid=0,o.buffer={},o.private={externalXlsxLib:null},o.setXLSX=function(e){o.private.externalXlsxLib=e},o.use=function(e){if(e||(e=o.DEFAULTDATABASEID),o.useid!==e){if(void 0===o.databases[e])throw Error("Database does not exist: "+e);{o.useid=e;let t=o.databases[o.useid];o.tables=t.tables,t.resetSqlCache(),o.options.usedbo&&(o.databases.dbo=t)}}},o.autoval=function(e,t,r,n){var i=n?o.databases[n]:o.databases[o.useid];if(!i.tables[e])throw new Error("Tablename not found: "+e);if(!i.tables[e].identities[t])throw new Error("Colname not found: "+t);return r?i.tables[e].identities[t].value||null:i.tables[e].identities[t].value-i.tables[e].identities[t].step||null},o.exec=function(e,t,r,n){if("function"==typeof t&&(n=r,r=t,t={}),delete o.error,t=t||{},!o.options.errorlog)return o.dexec(o.useid,e,t,r,n);try{return o.dexec(o.useid,e,t,r,n)}catch(e){o.error=e,r&&r(null,o.error)}},o.dexec=function(e,t,r,n,i){var a=o.databases[e],s=S(t);if(o.options.cache){let e=a.sqlCache[s];if(e&&a.dbversion===e.dbversion)return e(r,n)}let u=a.astCache[s];if(o.options.cache&&!u?(u=o.parse(t),u&&(a.astCache[s]=u)):u=o.parse(t),u.statements){if(0===u.statements.length)return 0;if(1===u.statements.length){if(u.statements[0].compile){var c=u.statements[0].compile(e,r);if(!c)return;return c.sql=t,c.dbversion=a.dbversion,o.options.cache&&(a.sqlCacheSize>o.MAXSQLCACHESIZE&&a.resetSqlCache(),a.sqlCacheSize++,a.sqlCache[s]=c),o.res=c(r,n,i)}return o.precompile(u.statements[0],o.useid,r),o.res=u.statements[0].execute(e,r,n,i)}return n?void o.adrun(e,u,r,n,i):o.drun(e,u,r,n,i)}},o.drun=function(e,t,r,n,i){var a=o.useid;a!==e&&o.use(e);for(var s=[],u=0,c=t.statements.length;u<c;u++)if(t.statements[u])if(t.statements[u].compile){var l=t.statements[u].compile(o.useid);s.push(o.res=l(r,null,i))}else o.precompile(t.statements[u],o.useid,r),s.push(o.res=t.statements[u].execute(o.useid,r));return a!==e&&o.use(a),n&&n(s),o.res=s,s},o.adrun=function(e,t,r,n,i){var a=0,s=t.statements.length;!1!==o.options.progress&&o.options.progress(s,a++);var u=o.useid;u!==e&&o.use(e);var c=[];function l(g){void 0!==g&&c.push(g);var d=t.statements.shift();return d?d.compile?(d.compile(o.useid)(r,l,i),void(!1!==o.options.progress&&o.options.progress(s,a++))):(o.precompile(t.statements[0],o.useid,r),d.execute(o.useid,r,l),void(!1!==o.options.progress&&o.options.progress(s,a++))):(u!==e&&o.use(u),void n(c))}l()},o.compile=function(e,t){t=t||o.useid;let r=o.parse(e);if(1!==r.statements.length)throw new Error("Cannot compile, because number of statements in SQL is not equal to 1");var n=r.statements[0].compile(t);return n.promise=function(e){return new Promise((function(t,r){n(e,(function(e,o){o?r(o):t(e)}))}))},n},m.Promise||(m.Promise=Promise);var $=function(e,t,r,n){return new m.Promise((function(i,a){o(e,t,(function(e,t){t?a(t):(r&&n&&!1!==o.options.progress&&o.options.progress(r,n),i(e))}))}))};const F=(e,t)=>{var r=t.resolve([]);return e.forEach((e=>{r=r.then((t=>$(e.sql,e.params,e.i,e.length).then((e=>[...t,e]))))})),r};var U=function(e){if(!(e.length<1)){for(var t,r,o,n=[],i=0;i<e.length;i++){if("string"==typeof(t=e[i])&&(t=[t]),!u.isArray(t)||t.length<1||2<t.length)throw new Error("Error in .promise parameter");r=t[0],o=t[1]||void 0,n.push({sql:r,params:o,i:i,length:e.length})}return F(n,m.Promise)}};o.promise=function(e,t){if(typeof Promise>"u")throw new Error("Please include a Promise/A+ library");if("string"==typeof e)return $(e,t);if(!u.isArray(e)||e.length<1||typeof t<"u")throw new Error("Error in .promise parameters");return U(e)};var P=o.Database=function(e){var t=this;if(t===o)if(e){if(t=o.databases[e],o.databases[e]=t,!t)throw new Error(`Database ${e} not found`)}else t=o.databases.alasql,o.options.tsql&&(o.databases.tempdb=o.databases.alasql);return e||(e="db"+o.databasenum++),t.databaseid=e,o.databases[e]=t,t.dbversion=0,t.tables={},t.views={},t.triggers={},t.indices={},t.objects={},t.counter=0,t.resetSqlCache(),t};P.prototype.resetSqlCache=function(){this.sqlCache={},this.sqlCacheSize=0,this.astCache={}},P.prototype.exec=function(e,t,r){return o.dexec(this.databaseid,e,t,r)},P.prototype.autoval=function(e,t,r){return o.autoval(e,t,r,this.databaseid)},P.prototype.transaction=function(e){return e(new o.Transaction(this.databaseid))};class H{transactionid=Date.now();committed=!1;bank;constructor(e){this.databaseid=e,this.dbversion=o.databases[e].dbversion,this.bank=JSON.stringify(o.databases[e])}commit(){this.committed=!0,o.databases[this.databaseid].dbversion=Date.now(),delete this.bank}rollback(){if(this.committed)throw new Error("Transaction already commited");o.databases[this.databaseid]=JSON.parse(this.bank),delete this.bank}exec(e,t,r){return o.dexec(this.databaseid,e,t,r)}}H.prototype.executeSQL=H.prototype.exec,o.Transaction=H;var j=o.Table=function(e){this.data=[],this.columns=[],this.xcolumns={},this.inddefs={},this.indices={},this.uniqs={},this.uniqdefs={},this.identities={},this.checks=[],this.checkfns=[],this.beforeinsert={},this.afterinsert={},this.insteadofinsert={},this.beforedelete={},this.afterdelete={},this.insteadofdelete={},this.beforeupdate={},this.afterupdate={},this.insteadofupdate={},Object.assign(this,e)};j.prototype.indexColumns=function(){var e=this;e.xcolumns={},e.columns.forEach((function(t){e.xcolumns[t.columnid]=t}))};class B{constructor(e){this.columns=[],this.xcolumns={},this.query=[],Object.assign(this,e)}}o.View=B;class q{constructor(e){this.alasql=o,this.columns=[],this.xcolumns={},this.selectGroup=[],this.groupColumns={},Object.assign(this,e)}}class V{constructor(e){Object.assign(this,e)}}o.Recordset=V,o.Query=q;class G{constructor(e){Object.assign(this,e)}toString(){}toType(){}toJS(){}exec(){}compile(){}}var z={extend:Object.assign,casesensitive:o.options.casesensitive,Base:G};s.yy=o.yy=z,z.Statements=class{constructor(e){Object.assign(this,e)}toString(){return this.statements.map((e=>e.toString())).join("; ")}compile(e){const t=this.statements.map((t=>t.compile(e)));return 1===t.length?t[0]:(e,r)=>{const o=t.map((t=>t(e)));return r&&r(o),o}}},z.Search=class{constructor(e){Object.assign(this,e)}toString(){let e="SEARCH ";return this.selectors&&(e+=this.selectors.toString()),this.from&&(e+="FROM "+this.from.toString()),e}toJS(e){return`this.queriesfn[${this.queriesidx-1}](this.params,null,${e})`}compile(e){var t=e,r=(e,o)=>{var n;return this.#e(t,e,(function(e){n=te(r.query,e),o&&(n=o(n))})),n};return r.query={},r}#e(e,t,r){var n,i,a,s,u={},c=w(this.selectors);function l(e,r,n){var a=e[r],s=o.options.loopbreak||1e5;if(a.selid){if("PATH"===a.selid){for(var c=[{node:n,stack:[]}],g={},d=o.databases[o.useid].objects;c.length>0;){var f=c.shift(),h=f.node,p=f.stack;if((O=l(a.args,0,h)).length>0){if(r+1+1>e.length)return p;var m=[];return p&&p.length>0&&p.forEach((function(t){m=m.concat(l(e,r+1,t))})),m}typeof g[h.$id]<"u"||(g[h.$id]=!0,h.$out&&h.$out.length>0&&h.$out.forEach((function(e){var t=d[e],r=p.concat(t);r.push(d[t.$out[0]]),c.push({node:d[t.$out[0]],stack:r})})))}return[]}if("NOT"===a.selid)return(b=l(a.args,0,n)).length>0?[]:r+1+1>e.length?[n]:l(e,r+1,n);if("DISTINCT"===a.selid){if(0===(b=typeof a.args>"u"||0===a.args.length?x(n):l(a.args,0,n)).length)return[];var y=x(b);return r+1+1>e.length?y:l(e,r+1,y)}if("AND"===a.selid)return y=!0,a.args.forEach((function(e){y=y&&l(e,0,n).length>0})),y?r+1+1>e.length?[n]:l(e,r+1,n):[];if("OR"===a.selid)return y=!1,a.args.forEach((function(e){y=y||l(e,0,n).length>0})),y?r+1+1>e.length?[n]:l(e,r+1,n):[];if("ALL"===a.selid)return 0===(b=l(a.args[0],0,n)).length?[]:r+1+1>e.length?b:l(e,r+1,b);if("ANY"===a.selid)return 0===(b=l(a.args[0],0,n)).length?[]:r+1+1>e.length?[b[0]]:l(e,r+1,[b[0]]);if("UNIONALL"===a.selid){var b=[];return a.args.forEach((function(e){b=b.concat(l(e,0,n))})),0===b.length?[]:r+1+1>e.length?b:l(e,r+1,b)}if("UNION"===a.selid){var b=[];return a.args.forEach((function(e){b=b.concat(l(e,0,n))})),0===(b=x(b)).length?[]:r+1+1>e.length?b:l(e,r+1,b)}if("IF"===a.selid)return 0===(b=l(a.args,0,n)).length?[]:r+1+1>e.length?[n]:l(e,r+1,n);if("REPEAT"===a.selid){var E,_,S=a.args[0].value;_=a.args[1]?a.args[1].value:S,a.args[2]&&(E=a.args[2].variable);var v=[];if(0===S&&(r+1+1>e.length?v=[n]:(E&&(o.vars[E]=0),v=v.concat(l(e,r+1,n)))),_>0)for(var T=[{value:n,lvl:1}],A=0;T.length>0;){var b=T[0];if(T.shift(),b.lvl<=_){E&&(o.vars[E]=b.lvl);var N=l(a.sels,0,b.value);N.forEach((function(e){T.push({value:e,lvl:b.lvl+1})})),b.lvl>=S&&(r+1+1>e.length?v=v.concat(N):N.forEach((function(t){v=v.concat(l(e,r+1,t))})))}if(++A>s)throw new Error("Infinite loop brake. Number of iterations = "+A)}return v}if("OF"===a.selid){if(r+1+1>e.length)return[n];var C=[];return Object.keys(n).forEach((function(t){o.vars[a.args[0].variable]=t,C=C.concat(l(e,r+1,n[t]))})),C}if("TO"===a.selid){var D=o.vars[a.args[0]],w=[];return(w=void 0!==D?D.slice(0):[]).push(n),r+1+1>e.length?[n]:(o.vars[a.args[0]]=w,C=l(e,r+1,n),o.vars[a.args[0]]=D,C)}if("ARRAY"===a.selid)return(b=l(a.args,0,n)).length>0?(R=b,r+1+1>e.length?[R]:l(e,r+1,R)):[];if("SUM"===a.selid){if(!((b=l(a.args,0,n)).length>0))return[];var R=b.reduce((function(e,t){return e+t}),0);return r+1+1>e.length?[R]:l(e,r+1,R)}if("AVG"===a.selid)return(b=l(a.args,0,n)).length>0?(R=b.reduce((function(e,t){return e+t}),0)/b.length,r+1+1>e.length?[R]:l(e,r+1,R)):[];if("COUNT"===a.selid)return(b=l(a.args,0,n)).length>0?(R=b.length,r+1+1>e.length?[R]:l(e,r+1,R)):[];if("FIRST"===a.selid)return(b=l(a.args,0,n)).length>0?(R=b[0],r+1+1>e.length?[R]:l(e,r+1,R)):[];if("LAST"===a.selid)return(b=l(a.args,0,n)).length>0?(R=b[b.length-1],r+1+1>e.length?[R]:l(e,r+1,R)):[];if("MIN"===a.selid)return 0===(b=l(a.args,0,n)).length?[]:(R=b.reduce((function(e,t){return Math.min(e,t)}),1/0),r+1+1>e.length?[R]:l(e,r+1,R));if("MAX"===a.selid)return 0===(b=l(a.args,0,n)).length?[]:(R=b.reduce((function(e,t){return Math.max(e,t)}),-1/0),r+1+1>e.length?[R]:l(e,r+1,R));if("PLUS"===a.selid){for(v=[],T=l(a.args,0,n).slice(),r+1+1>e.length?v=v.concat(T):T.forEach((function(t){v=v.concat(l(e,r+1,t))})),A=0;T.length>0;)if(b=T.shift(),b=l(a.args,0,b),T=T.concat(b),r+1+1>e.length?v=v.concat(b):b.forEach((function(t){var o=l(e,r+1,t);v=v.concat(o)})),++A>s)throw new Error("Infinite loop brake. Number of iterations = "+A);return v}if("STAR"===a.selid){for(v=[],v=l(e,r+1,n),T=l(a.args,0,n).slice(),r+1+1>e.length?v=v.concat(T):T.forEach((function(t){v=v.concat(l(e,r+1,t))})),A=0;T.length>0;)if(b=T[0],T.shift(),b=l(a.args,0,b),T=T.concat(b),r+1+1<=e.length&&b.forEach((function(t){v=v.concat(l(e,r+1,t))})),++A>s)throw new Error("Infinite loop brake. Number of iterations = "+A);return v}if("QUESTION"===a.selid)return v=(v=[]).concat(l(e,r+1,n)),b=l(a.args,0,n),r+1+1<=e.length&&b.forEach((function(t){v=v.concat(l(e,r+1,t))})),v;if("WITH"!==a.selid){if("ROOT"===a.selid)return r+1+1>e.length?[n]:l(e,r+1,i);throw new Error("Wrong selector "+a.selid)}if(0===(b=l(a.args,0,n)).length)return[];var O={status:1,values:b}}else{if(!a.srchid)throw new Error("Selector not found");O=o.srch[a.srchid.toUpperCase()](n,a.args,u,t)}if(typeof O>"u"&&(O={status:1,values:[n]}),y=[],1===O.status){var I=O.values;if(r+1+1>e.length)y=I;else for(A=0;A<O.values.length;A++)y=y.concat(l(e,r+1,I[A]))}return y}if(void 0!==c&&c.length>0&&(c&&c[0]&&"PROP"===c[0].srchid&&c[0].args&&c[0].args[0]&&("XML"===c[0].args[0].toUpperCase()?(u.mode="XML",c.shift()):"HTML"===c[0].args[0].toUpperCase()?(u.mode="HTML",c.shift()):"JSON"===c[0].args[0].toUpperCase()&&(u.mode="JSON",c.shift())),c.length>0&&"VALUE"===c[0].srchid&&(u.value=!0,c.shift())),this.from instanceof z.Column){var g=this.from.databaseid||e;i=o.databases[g].tables[this.from.columnid].data}else if(this.from instanceof z.FuncValue&&o.from[this.from.funcid.toUpperCase()]){var d=this.from.args.map((function(e){var r=e.toJS();return new Function("params,alasql","var y;return "+r).bind(this)(t,o)}));i=o.from[this.from.funcid.toUpperCase()].apply(this,d)}else if(typeof this.from>"u")i=o.databases[e].objects;else{var f=new Function("params,alasql","var y;return "+this.from.toJS());i=f(t,o),"object"==typeof Mongo&&"object"!=typeof Mongo.Collection&&i instanceof Mongo.Collection&&(i=i.find().fetch())}return n=void 0!==c&&c.length>0?l(c,0,i):i,this.into?(typeof this.into.args[0]<"u"&&(a=new Function("params,alasql","var y;return "+this.into.args[0].toJS())(t,o)),typeof this.into.args[1]<"u"&&(s=new Function("params,alasql","var y;return "+this.into.args[1].toJS())(t,o)),n=o.into[this.into.funcid.toUpperCase()](a,s,n,[],r)):(u.value&&n.length>0&&(n=n[0]),r&&(n=r(n))),n}},o.srch={PROP(e,t,r){if("XML"===r.mode){const r=e.children.filter((e=>e.name.toUpperCase()===t[0].toUpperCase()));return{status:r.length?1:-1,values:r}}return"object"!=typeof e||null===e||"object"!=typeof t||typeof e[t[0]]>"u"?{status:-1,values:[]}:{status:1,values:[e[t[0]]]}},APROP(e,t){return"object"!=typeof e||null===e||"object"!=typeof t||typeof e[t[0]]>"u"?{status:1,values:[void 0]}:{status:1,values:[e[t[0]]]}},EQ(e,t,r,n){var i=t[0].toJS("x","");return e===new Function("x,alasql,params","return "+i)(e,o,n)?{status:1,values:[e]}:{status:-1,values:[]}},LIKE(e,t,r,n){var i=t[0].toJS("x",""),a=new Function("x,alasql,params","return "+i);return e.toUpperCase().match(new RegExp("^"+a(e,o,n).toUpperCase().replace(/%/g,".*").replace(/\\?|_/g,".")+"$"),"g")?{status:1,values:[e]}:{status:-1,values:[]}},ATTR(e,t,r){if("XML"===r.mode)return typeof t>"u"?{status:1,values:[e.attributes]}:"object"==typeof e&&"object"==typeof e.attributes&&typeof e.attributes[t[0]]<"u"?{status:1,values:[e.attributes[t[0]]]}:{status:-1,values:[]};throw new Error("ATTR is not using in usual mode")},CONTENT(e,t,r){if("XML"!==r.mode)throw new Error("ATTR is not using in usual mode");return{status:1,values:[e.content]}},SHARP(e,t){const r=o.databases[o.useid].objects[t[0]];return void 0!==e&&e===r?{status:1,values:[e]}:{status:-1,values:[]}},PARENT(){return console.error("PARENT not implemented",arguments),{status:-1,values:[]}},CHILD(e,t,r){return"object"==typeof e?Array.isArray(e)?{status:1,values:e}:"XML"===r.mode?{status:1,values:Object.keys(e.children).map((function(t){return e.children[t]}))}:{status:1,values:Object.keys(e).map((function(t){return e[t]}))}:{status:1,values:[]}},KEYS(e){return"object"==typeof e&&null!==e?{status:1,values:Object.keys(e)}:{status:1,values:[]}},WHERE(e,t,r,n){var i=t[0].toJS("x","");return new Function("x,alasql,params","return "+i)(e,o,n)?{status:1,values:[e]}:{status:-1,values:[]}},NAME(e,t){return e.name===t[0]?{status:1,values:[e]}:{status:-1,values:[]}},CLASS(e,t){return e.$class==t?{status:1,values:[e]}:{status:-1,values:[]}},VERTEX(e){return"VERTEX"===e.$node?{status:1,values:[e]}:{status:-1,values:[]}},INSTANCEOF(e,t){return e instanceof o.fn[t[0]]?{status:1,values:[e]}:{status:-1,values:[]}},EDGE(e){return"EDGE"===e.$node?{status:1,values:[e]}:{status:-1,values:[]}},EX(e,t,r,n){var i=t[0].toJS("x","");return{status:1,values:[new Function("x,alasql,params","return "+i)(e,o,n)]}},RETURN(e,t,r,n){var i={};return t&&t.length>0&&t.forEach((function(t){var r=t.toJS("x",""),a=new Function("x,alasql,params","return "+r);typeof t.as>"u"&&(t.as=t.toString()),i[t.as]=a(e,o,n)})),{status:1,values:[i]}},REF(e){return{status:1,values:[o.databases[o.useid].objects[e]]}},OUT(e){return e.$out&&e.$out.length>0?{status:1,values:e.$out.map((function(e){return o.databases[o.useid].objects[e]}))}:{status:-1,values:[]}},OUTOUT(e){if(e.$out&&e.$out.length>0){var t=[];return e.$out.forEach((function(e){var r=o.databases[o.useid].objects[e];r&&r.$out&&r.$out.length>0&&r.$out.forEach((function(e){t=t.concat(o.databases[o.useid].objects[e])}))})),{status:1,values:t}}return{status:-1,values:[]}},IN(e){return e.$in&&e.$in.length>0?{status:1,values:e.$in.map((function(e){return o.databases[o.useid].objects[e]}))}:{status:-1,values:[]}},ININ(e){if(e.$in&&e.$in.length>0){var t=[];return e.$in.forEach((function(e){var r=o.databases[o.useid].objects[e];r&&r.$in&&r.$in.length>0&&r.$in.forEach((function(e){t=t.concat(o.databases[o.useid].objects[e])}))})),{status:1,values:t}}return{status:-1,values:[]}},AS(e,t){return o.vars[t[0]]=e,{status:1,values:[e]}},AT(e,t){return{status:1,values:[o.vars[t[0]]]}},CLONEDEEP(e){return{status:1,values:[w(e)]}},SET(e,t,r,n){var i=t.map((function(e){return"@"===e.method?`alasql.vars[${JSON.stringify(e.variable)}]=`+e.expression.toJS("x",""):"$"===e.method?`params[${JSON.stringify(e.variable)}]=`+e.expression.toJS("x",""):`x[${JSON.stringify(e.column.columnid)}]=`+e.expression.toJS("x","")})).join(";");return new Function("x,params,alasql",i)(e,n,o),{status:1,values:[e]}},ROW(e,t,r,n){var i="var y;return [";return i+=t.map((e=>e.toJS("x",""))).join(","),i+="]",{status:1,values:[new Function("x,params,alasql",i)(e,n,o)]}},D3(e){return"VERTEX"!==e.$node&&"EDGE"===e.$node&&(e.source=e.$in[0],e.target=e.$out[0]),{status:1,values:[e]}},ORDERBY(e,t){return{status:1,values:e.sort(Y(t))}}};var Y=function(e){if(e){if("function"==typeof e?.[0]?.expression){var t=e[0].expression;return function(e,r){var o=t(e),n=t(r);return o>n?1:o===n?0:-1}}var r="",n="";return e.forEach((function(e){var t="";if(e.expression instanceof z.NumValue&&(e.expression=self.columns[e.expression.value-1]),e.expression instanceof z.Column){var i=e.expression.columnid;o.options.valueof&&(t=".valueOf()"),e.nocase&&(t+=".toUpperCase()"),"_"===i?(r+="if(a"+t+("ASC"===e.direction?">":"<")+"b"+t+")return 1;",r+="if(a"+t+"==b"+t+"){"):r+=`if (\\n\\t\\t\\t\\t\\t\\t\\t(a[${JSON.stringify(i)}]||\'\')${t}\\n\\t\\t\\t\\t\\t\\t\\t${"ASC"===e.direction?">":"<"}\\n\\t\\t\\t\\t\\t\\t\\t(b[${JSON.stringify(i)}]||\'\')${t}\\n\\t\\t\\t\\t\\t\\t) return 1;\\n\\n\\t\\t\\t\\t\\t\\tif(\\n\\t\\t\\t\\t\\t\\t\\t(a[${JSON.stringify(i)}]||\'\')${t}\\n\\t\\t\\t\\t\\t\\t\\t==\\n\\t\\t\\t\\t\\t\\t\\t(b[${JSON.stringify(i)}]||\'\')${t}\\n\\t\\t\\t\\t\\t\\t){\\n\\t\\t\\t\\t\\t\\t`}else t=".valueOf()",e.nocase&&(t+=".toUpperCase()"),r+=`\\n\\t\\t\\t\\t\\tif (\\n\\t\\t\\t\\t\\t\\t(${e.toJS("a","")} || \'\')${t}\\n\\t\\t\\t\\t\\t\\t${"ASC"===e.direction?">":"<"}\\n\\t\\t\\t\\t\\t\\t(${e.toJS("b","")} || \'\')${t}\\n\\t\\t\\t\\t\\t) return 1;\\n\\n\\t\\t\\t\\t\\tif (\\n\\t\\t\\t\\t\\t\\t(${e.toJS("a","")} || \'\')${t} ==\\n\\t\\t\\t\\t\\t\\t(${e.toJS("b","")} || \'\')${t}\\n\\t\\t\\t\\t\\t) {`;n+="}"})),r+="return 0;",r+=n+"return -1",new Function("a,b",r)}};function W(e,t,r,n,i){e.sourceslen=e.sources.length;let a,s=e.sourceslen;if(e.query=e,e.A=n,e.B=i,e.cb=r,e.oldscope=t,e.queriesfn&&(e.sourceslen+=e.queriesfn.length,s+=e.queriesfn.length,e.queriesdata=[],e.queriesfn.forEach((function(t,r){t.query.params=e.params,K([],-r-1,e)}))),e.scope=t?w(t):{},e.sources.forEach((function(t,r){t.query=e;var n=t.datafn(e,e.params,K,r,o);typeof n<"u"&&((e.intofn||e.intoallfn)&&Array.isArray(n)&&(n=n.length),a=n),t.queriesdata=e.queriesdata})),0==e.sources.length||0===s)try{a=J(e)}catch(e){if(r)return r(null,e);throw e}return a}function K(e,t,r){if(t>=0){let o=r.sources[t];o.data=e,"function"==typeof o.data&&(o.getfn=o.data,o.dontcache=o.getfn.dontcache,["OUTER","RIGHT","ANTI"].includes(o.joinmode)&&(o.dontcache=!1),o.data={})}else r.queriesdata[-t-1]=k(e);if(r.sourceslen--,!(r.sourceslen>0))return J(r)}function J(e){var t,r=e.scope;if(Z(e),e.data=[],e.xgroups={},e.groups=[],ee(e,r,0),e.groupfn){if(e.data=[],0===e.groups.length&&0===e.allgroups.length){var n={};e.selectGroup.length>0&&e.selectGroup.forEach((function(e){"COUNT"==e.aggregatorid||"SUM"==e.aggregatorid||"TOTAL"==e.aggregatorid?n[e.nick]=0:n[e.nick]=void 0})),e.groups=[n]}if(e.aggrKeys.length>0){var i="";e.aggrKeys.forEach((function(e){i+=`\\n\\t\\t\\t\\tg[${JSON.stringify(e.nick)}] = alasql.aggr[${JSON.stringify(e.funcid)}](undefined,g[${JSON.stringify(e.nick)}],3); `}));var a=new Function("g,params,alasql","var y;"+i)}for(var s=0,u=e.groups.length;s<u;s++)if(n=e.groups[s],a&&a(n,e.params,o),!e.havingfn||e.havingfn(n,e.params,o)){var c=e.selectgfn(n,e.params,o);for(const t in e.groupColumns)e.groupColumns[t]!==t&&c[e.groupColumns[t]]&&!e.groupColumns[e.groupColumns[t]]&&delete c[e.groupColumns[t]];e.data.push(c)}}if(Q(e),e.unionallfn){if(e.corresponding)e.unionallfn.query.modifier||(e.unionallfn.query.modifier=void 0),d=e.unionallfn(e.params);else for(e.unionallfn.query.modifier||(e.unionallfn.query.modifier="RECORDSET"),d=[],u=(f=e.unionallfn(e.params)).data.length,s=0;s<u;s++){var l={};if(e.columns.length){t=Math.min(e.columns.length,f.columns.length);for(var g=0;g<t;g++)l[e.columns[g].columnid]=f.data[s][f.columns[g].columnid]}else for(t=f.columns.length,g=0;g<t;g++)l[f.columns[g].columnid]=f.data[s][f.columns[g].columnid];d.push(l)}e.data=e.data.concat(d)}else if(e.unionfn){if(e.corresponding)e.unionfn.query.modifier||(e.unionfn.query.modifier="ARRAY"),d=e.unionfn(e.params);else for(e.unionfn.query.modifier||(e.unionfn.query.modifier="RECORDSET"),d=[],u=(f=e.unionfn(e.params)).data.length,s=0;s<u;s++){if(l={},e.columns.length)for(t=Math.min(e.columns.length,f.columns.length),g=0;g<t;g++)l[e.columns[g].columnid]=f.data[s][f.columns[g].columnid];else for(t=f.columns.length,g=0;g<t;g++)l[f.columns[g].columnid]=f.data[s][f.columns[g].columnid];d.push(l)}e.data=N(e.data,d)}else if(e.exceptfn){if(e.corresponding){e.exceptfn.query.modifier||(e.exceptfn.query.modifier="ARRAY");var d=e.exceptfn(e.params)}else{var f;for(e.exceptfn.query.modifier||(e.exceptfn.query.modifier="RECORDSET"),d=[],s=0,u=(f=e.exceptfn(e.params)).data.length;s<u;s++){for(l={},g=Math.min(e.columns.length,f.columns.length)-1;0<=g;g--)l[e.columns[g].columnid]=f.data[s][f.columns[g].columnid];d.push(l)}}e.data=C(e.data,d)}else if(e.intersectfn){if(e.corresponding)e.intersectfn.query.modifier||(e.intersectfn.query.modifier=void 0),d=e.intersectfn(e.params);else for(e.intersectfn.query.modifier||(e.intersectfn.query.modifier="RECORDSET"),d=[],u=(f=e.intersectfn(e.params)).data.length,s=0;s<u;s++){for(l={},t=Math.min(e.columns.length,f.columns.length),g=0;g<t;g++)l[e.columns[g].columnid]=f.data[s][f.columns[g].columnid];d.push(l)}e.data=D(e.data,d)}if(e.orderfn){if(e.explain)var h=Date.now();e.data=e.data.sort(e.orderfn),e.explain&&e.explaination.push({explid:e.explid++,description:"QUERY BY",ms:Date.now()-h})}if(X(e),typeof angular<"u"&&e.removeKeys.push("$$hashKey"),e.removeKeys.length>0){var p=e.removeKeys;if((t=p.length)>0)for(u=e.data.length,s=0;s<u;s++)for(g=0;g<t;g++)delete e.data[s][p[g]];e.columns.length>0&&(e.columns=e.columns.filter((function(e){var t=!1;return p.forEach((function(r){e.columnid==r&&(t=!0)})),!t})))}if(typeof e.removeLikeKeys<"u"&&e.removeLikeKeys.length>0){var m=e.removeLikeKeys;for(s=0,u=e.data.length;s<u;s++)for(var y in l=e.data[s])for(g=0;g<e.removeLikeKeys.length;g++)o.utils.like(e.removeLikeKeys[g],y)&&delete l[y];e.columns.length>0&&(e.columns=e.columns.filter((function(e){var t=!1;return m.forEach((function(r){o.utils.like(r,e.columnid)&&(t=!0)})),!t})))}if(e.pivotfn&&e.pivotfn(),e.unpivotfn&&e.unpivotfn(),e.intoallfn){var b=e.intoallfn(e.columns,e.cb,e.params,e.alasql);return b}if(e.intofn){for(u=e.data.length,s=0;s<u;s++)e.intofn(e.data[s],s,e.params,e.alasql);return e.cb&&e.cb(e.data.length,e.A,e.B),e.data.length}return b=e.data,e.cb&&(b=e.cb(e.data,e.A,e.B)),b}function X(e){if(e.limit){var t,r=0;e.offset&&(r=(r=0|e.offset||0)<0?0:r),t=e.percent?(e.data.length*e.limit/100|0)+r:(0|e.limit)+r,e.data=e.data.slice(r,t)}}function Q(e){if(e.distinct){for(var t={},r=Object.keys(e.data[0]||[]),o=0,n=e.data.length;o<n;o++)t[r.map((function(t){return e.data[o][t]})).join("`")]=e.data[o];for(var i in e.data=[],t)e.data.push(t[i])}}var Z=function(e){for(var t=0,r=e.sources.length;t<r;t++){var n=e.sources[t];if(delete n.ix,t>0&&"ix"==n.optimization&&n.onleftfn&&n.onrightfn){if(n.databaseid&&o.databases[n.databaseid].tables[n.tableid]){o.databases[n.databaseid].tables[n.tableid].indices||(e.database.tables[n.tableid].indices={});let t=o.databases[n.databaseid].tables[n.tableid].indices[S(n.onrightfns+"`"+n.srcwherefns)];!o.databases[n.databaseid].tables[n.tableid].dirty&&t&&(n.ix=t)}if(!n.ix){n.ix={};let t,r={},s=0,u=n.data.length;for(;(t=n.data[s])||n.getfn&&(t=n.getfn(s))||s<u;){if(n.getfn&&!n.dontcache&&(n.data[s]=t),r[n.alias||n.tableid]=t,n.srcwherefn(r,e.params,o)){var i=n.onrightfn(r,e.params,o),a=n.ix[i];a||(a=n.ix[i]=[]),a.push(t)}s++}n.databaseid&&o.databases[n.databaseid].tables[n.tableid]&&(o.databases[n.databaseid].tables[n.tableid].indices[S(n.onrightfns+"`"+n.srcwherefns)]=n.ix)}}else if(n.wxleftfn){if(o.databases[n.databaseid].engineid||(ixx=o.databases[n.databaseid].tables[n.tableid].indices[S(n.wxleftfns+"`")]),!o.databases[n.databaseid].tables[n.tableid].dirty&&ixx)n.ix=ixx,n.data=n.ix[n.wxrightfn(null,e.params,o)];else{for(n.ix={},s={},fe=0,ilen=n.data.length,dataw;(dataw=n.data[fe])||n.getfn&&(dataw=n.getfn(fe))||fe<ilen;)n.getfn&&!n.dontcache&&(n.data[fe]=dataw),s[n.alias||n.tableid]=n.data[fe],i=n.wxleftfn(s,e.params,o),(a=n.ix[i])||(a=n.ix[i]=[]),a.push(n.data[fe]),fe++;o.databases[n.databaseid].engineid||(o.databases[n.databaseid].tables[n.tableid].indices[S(n.wxleftfns+"`")]=n.ix)}n.srcwherefns&&(n.data?(s={},n.data=n.data.filter((function(t){return s[n.alias]=t,n.srcwherefn(s,e.params,o)}))):n.data=[])}else if(n.srcwherefns&&!n.dontcache)if(n.data){var s={};n.data=n.data.filter((function(t){return s[n.alias]=t,n.srcwherefn(s,e.params,o)})),s={},fe=0,ilen=n.data.length;let t=[];for(;(dataw=n.data[fe])||n.getfn&&(dataw=n.getfn(fe))||fe<ilen;)n.getfn&&!n.dontcache&&(n.data[fe]=dataw),s[n.alias]=dataw,n.srcwherefn(s,e.params,o)&&t.push(dataw),fe++;n.data=t}else n.data=[];n.databaseid&&o.databases[n.databaseid].tables[n.tableid]}};function ee(e,t,r){if(r>=e.sources.length)e.wherefn(t,e.params,o)&&(e.groupfn?e.groupfn(t,e.params,o):e.data.push(e.selectfn(t,e.params,o)));else if(e.sources[r].applyselect){var n=e.sources[r];n.applyselect(e.params,(function(o){if(o.length>0)for(var i=0;i<o.length;i++)t[n.alias]=o[i],ee(e,t,r+1);else"OUTER"==n.applymode&&(t[n.alias]={},ee(e,t,r+1))}),t)}else{let n=e.sources[r],c=e.sources[r+1],l=n.alias||n.tableid,g=!1,d=n.data,f=!1;(!n.getfn||n.getfn&&!n.dontcache)&&"RIGHT"!=n.joinmode&&"OUTER"!=n.joinmode&&"ANTI"!=n.joinmode&&"ix"==n.optimization&&(d=n.ix[n.onleftfn(t,e.params,o)]||[],f=!0);let h=0;if(typeof d>"u")throw new Error("Data source number "+r+" in undefined");let p,m=d.length;for(;(p=d[h])||!f&&n.getfn&&(p=n.getfn(h))||h<m;){!f&&n.getfn&&!n.dontcache&&(d[h]=p),t[l]=p;var i=!n.onleftfn;if(!i){var a=n.onleftfn(t,e.params,o),s=n.onrightfn(t,e.params,o);(a instanceof String||a instanceof Number)&&(a=a.valueOf()),(s instanceof String||s instanceof Number)&&(s=a.valueOf()),i=a==s}i&&n.onmiddlefn(t,e.params,o)&&("SEMI"!=n.joinmode&&"ANTI"!=n.joinmode&&ee(e,t,r+1),"LEFT"!=n.joinmode&&"INNER"!=n.joinmode&&(p._rightjoin=!0),g=!0),h++}if(("LEFT"==n.joinmode||"OUTER"==n.joinmode||"SEMI"==n.joinmode)&&!g&&(t[l]={},ee(e,t,r+1)),0==r)for(var u=r+1;u<e.sources.length;u++){if("OUTER"==c.joinmode||"RIGHT"==c.joinmode||"ANTI"==c.joinmode){t[n.alias]={};let r,o=0,i=c.data.length;for(;(r=c.data[o])||c.getfn&&(r=c.getfn(o))||o<i;)c.getfn&&!c.dontcache&&(c.data[o]=r),r._rightjoin?delete r._rightjoin:(t[c.alias]=r,ee(e,t,u+1)),o++}n=e.sources[u],c=e.sources[u+1]}t[l]=void 0}}function te(e,t){if(typeof t>"u"||"number"==typeof t||"string"==typeof t||"boolean"==typeof t)return t;var r=e.modifier||o.options.modifier,n=e.columns;if(typeof n>"u"||0==n.length)if(t.length>0){for(var i={},a=Math.min(t.length,o.options.columnlookup||10)-1;0<=a;a--)for(var s in t[a])i[s]=!0;n=Object.keys(i).map((function(e){return{columnid:e}}))}else n=[];switch(r){case"VALUE":if(0===t.length)return;const e=n&&n.length>0?n[0].columnid:Object.keys(t[0])[0];return t[0][e];case"ROW":return 0===t.length?void 0:Object.values(t[0]);case"COLUMN":if(0===t.length)return[];let r;r=n&&n.length>0?n[0].columnid:Object.keys(t[0])[0];let i=[];a=0;for(var u=t.length;a<u;a++)i.push(t[a][r]);return i;case"MATRIX":return 0===t.length?void 0:t.map((e=>n.map((t=>e[t.columnid]))));case"INDEX":if(0===t.length)return;const s=n&&n.length>0?n[0].columnid:Object.keys(t[0])[0],c=n&&n.length>1?n[1].columnid:Object.keys(t[0])[1];return t.reduce(((e,t)=>({...e,[t[s]]:t[c]})),{});case"RECORDSET":return new o.Recordset({columns:n,data:t});case"TEXTSTRING":if(0===t.length)return;const l=n&&n.length>0?n[0].columnid:Object.keys(t[0])[0];return t.map((e=>e[l])).join("\\n")}return t}function re(e,t,r){var n="",i=[],a={};return t.forEach((function(t){if(e.ixsources={},e.sources.forEach((function(t){e.ixsources[t.alias]=t})),e.ixsources[t])var s=e.ixsources[t].columns;r&&"json"==o.options.joinstar&&(n+="r[\'"+t+"\']={};"),s&&s.length>0?s.forEach((function(s){const u=d(s.columnid);if(r&&"underscore"==o.options.joinstar)i.push("\'"+t+"_"+u+"\':p[\'"+t+"\'][\'"+u+"\']");else if(r&&"json"==o.options.joinstar)n+="r[\'"+t+"\'][\'"+u+"\']=p[\'"+t+"\'][\'"+u+"\'];";else{var c="p[\'"+t+"\'][\'"+u+"\']";if(a[s.columnid]){var l=c+" !== undefined ? "+c+" : "+a[s.columnid].value;i[a[s.columnid].id]=a[s.columnid].key+l,a[s.columnid].value=l}else{var g="\'"+u+"\':";i.push(g+c),a[s.columnid]={id:i.length-1,value:c,key:g}}}e.selectColumns[u]=!0;var f={columnid:s.columnid,dbtypeid:s.dbtypeid,dbsize:s.dbsize,dbprecision:s.dbprecision,dbenum:s.dbenum};e.columns.push(f),e.xcolumns[f.columnid]=f})):(n+=\'var w=p["\'+t+\'"];for(var k in w){r[k]=w[k]};\',e.dirtyColumns=!0)})),{s:i.join(","),sp:n}}z.Select=class{constructor(e){Object.assign(this,e)}toString(){var e;return e="",this.explain&&(e+="EXPLAIN "),e+="SELECT ",this.modifier&&(e+=this.modifier+" "),this.distinct&&(e+="DISTINCT "),this.top&&(e+="TOP "+this.top.value+" ",this.percent&&(e+="PERCENT ")),e+=this.columns.map((function(e){var t;return t=e.toString(),typeof e.as<"u"&&(t+=" AS "+e.as),t})).join(", "),this.from&&(e+=" FROM "+this.from.map((function(e){var t;return t=e.toString(),e.as&&(t+=" AS "+e.as),t})).join(",")),this.joins&&(e+=this.joins.map((function(e){var t;if(t=" ",e.joinmode&&(t+=e.joinmode+" "),e.table)t+="JOIN "+e.table.toString();else if(e.select)t+="JOIN ("+e.select.toString()+")";else{if(!(e instanceof o.yy.Apply))throw new Error("Wrong type in JOIN mode");t+=e.toString()}return e.as&&(t+=" AS "+e.as),e.using&&(t+=" USING "+e.using.toString()),e.on&&(t+=" ON "+e.on.toString()),t})).join("")),this.where&&(e+=" WHERE "+this.where.toString()),this.group&&this.group.length>0&&(e+=" GROUP BY "+this.group.map((function(e){return e.toString()})).join(", ")),this.having&&(e+=" HAVING "+this.having.toString()),this.order&&this.order.length>0&&(e+=" ORDER BY "+this.order.map((function(e){return e.toString()})).join(", ")),this.limit&&(e+=" LIMIT "+this.limit.value),this.offset&&(e+=" OFFSET "+this.offset.value),this.union&&(e+=" UNION "+(this.corresponding?"CORRESPONDING ":"")+this.union.toString()),this.unionall&&(e+=" UNION ALL "+(this.corresponding?"CORRESPONDING ":"")+this.unionall.toString()),this.except&&(e+=" EXCEPT "+(this.corresponding?"CORRESPONDING ":"")+this.except.toString()),this.intersect&&(e+=" INTERSECT "+(this.corresponding?"CORRESPONDING ":"")+this.intersect.toString()),e}toJS(e){return"alasql.utils.flatArray(this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+"))[0]"}compile(e,t){var r=o.databases[e],n=new q;if(n.removeKeys=[],n.aggrKeys=[],n.explain=this.explain,n.explaination=[],n.explid=1,n.modifier=this.modifier,n.database=r,this.compileWhereExists(n),this.compileQueries(n),n.defcols=this.compileDefCols(n,e),n.fromfn=this.compileFrom(n),this.joins&&this.compileJoins(n),n.rownums=[],n.rowNum={},this.compileSelectGroup0(n),this.group||n.selectGroup.length>0?n.selectgfns=this.compileSelectGroup1(n):n.selectfns=this.compileSelect1(n,t),this.compileRemoveColumns(n),this.where&&this.compileWhereJoins(n),n.wherefn=this.compileWhere(n),(this.group||n.selectGroup.length>0)&&(n.groupfn=this.compileGroup(n)),this.having&&(n.havingfn=this.compileHaving(n)),this.order&&(n.orderfn=this.compileOrder(n,t)),this.group||n.selectGroup.length>0?n.selectgfn=this.compileSelectGroup2(n):n.selectfn=this.compileSelect2(n,t),n.distinct=this.distinct,this.pivot&&(n.pivotfn=this.compilePivot(n)),this.unpivot&&(n.pivotfn=this.compileUnpivot(n)),this.top){const{value:e,variable:t}=this.top,r=t&&o.vars[t];n.limit="number"==typeof r?r:e}else this.limit&&(n.limit=this.limit.value,this.offset&&(n.offset=this.offset.value));if(n.percent=this.percent,n.corresponding=this.corresponding,this.union?(n.unionfn=this.union.compile(e),n.orderfn=this.union.order?this.union.compileOrder(n,t):null):this.unionall?(n.unionallfn=this.unionall.compile(e),n.orderfn=this.unionall.order?this.unionall.compileOrder(n,t):null):this.except?(n.exceptfn=this.except.compile(e),n.orderfn=this.except.order?this.except.compileOrder(n,t):null):this.intersect&&(n.intersectfn=this.intersect.compile(e),n.orderfn=this.intersect.order?this.intersect.compileOrder(n,t):null),this.into){if(this.into instanceof z.Table)o.options.autocommit&&o.databases[this.into.databaseid||e].engineid?n.intoallfns=`return alasql\\n\\t\\t\\t\\t\\t\\t\\t\\t.engines[${JSON.stringify(o.databases[this.into.databaseid||e].engineid)}]\\n\\t\\t\\t\\t\\t\\t\\t\\t.intoTable(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t${JSON.stringify(this.into.databaseid||e)},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t${JSON.stringify(this.into.tableid)},\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tthis.data,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcolumns,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcb\\n\\t\\t\\t\\t\\t\\t\\t\\t);`:n.intofns=`alasql\\n\\t\\t\\t\\t\\t\\t\\t.databases[${JSON.stringify(this.into.databaseid||e)}]\\n\\t\\t\\t\\t\\t\\t\\t.tables[${JSON.stringify(this.into.tableid)}]\\n\\t\\t\\t\\t\\t\\t\\t.data.push(r);\\n\\t\\t\\t\\t\\t\\t`;else if(this.into instanceof z.VarValue)n.intoallfns=`\\n\\t\\t\\t\\t\\talasql.vars[${JSON.stringify(this.into.variable)}]=this.data;\\n\\t\\t\\t\\t\\tres=this.data.length;\\n\\t\\t\\t\\t\\tif(cb) res = cb(res);\\n\\t\\t\\t\\t\\treturn res;\\n\\t\\t\\t\\t`;else if(this.into instanceof z.FuncValue){var i="return alasql.into["+JSON.stringify(this.into.funcid.toUpperCase())+"](";this.into.args&&this.into.args.length>0?(i+=this.into.args[0].toJS()+",",this.into.args.length>1?i+=this.into.args[1].toJS()+",":i+="undefined,"):i+="undefined, undefined,",n.intoallfns=i+"this.data,columns,cb)"}else this.into instanceof z.ParamValue&&(n.intofns=`params[${JSON.stringify(this.into.param)}].push(r)`);n.intofns?n.intofn=new Function("r,i,params,alasql","var y;"+n.intofns):n.intoallfns&&(n.intoallfn=new Function("columns,cb,params,alasql","var y;"+n.intoallfns))}var a=function(e,t,r){return n.params=e,W(n,r,(function(e,r){if(r)return t(null,r);if(n.rownums.length>0)for(var o=0,i=e.length;o<i;o++)for(var a=0,s=n.rownums.length;a<s;a++)e[o][n.rownums[a]]=o+1;var u=te(n,e);return t&&t(u),u}))};return a.query=n,a}execute(e,t,r){return this.compile(e)(t,r)}compileWhereExists(e){this.exists&&(e.existsfn=this.exists.map((function(t){var r=t.compile(e.database.databaseid);return r.query.modifier="RECORDSET",r})))}compileQueries(e){this.queries&&(e.queriesfn=this.queries.map((function(t){var r=t.compile(e.database.databaseid);return r.query.modifier="RECORDSET",r})))}},z.ExistsValue=class{constructor(e){Object.assign(this,e)}toString(){return"EXISTS("+this.value.toString()+")"}toType(){return"boolean"}toJS(e,t,r){return`!!this.existsfn[${this.existsidx}](params, null, ${e}).data.length`}},o.precompile=function(e,t,r){e&&(e.params=r,e.queries&&(e.queriesfn=e.queries.map((function(r){var o=r.compile(t||e.database.databaseid);return o.query.modifier="RECORDSET",o}))),e.exists&&(e.existsfn=e.exists.map((function(r){var o=r.compile(t||e.database.databaseid);return o.query.modifier="RECORDSET",o}))))},z.Select.prototype.compileFrom=function(e){const t=this;e.sources=[],e.aliases={},t.from&&(t.from.forEach((t=>{const r=t.as||t.tableid;if(t instanceof z.Table)e.aliases[r]={tableid:t.tableid,databaseid:t.databaseid||e.database.databaseid,type:"table"};else if(t instanceof z.Select)e.aliases[r]={type:"subquery"};else if(t instanceof z.Search)e.aliases[r]={type:"subsearch"};else if(t instanceof z.ParamValue)e.aliases[r]={type:"paramvalue"};else if(t instanceof z.FuncValue)e.aliases[r]={type:"funcvalue"};else if(t instanceof z.VarValue)e.aliases[r]={type:"varvalue"};else if(t instanceof z.FromData)e.aliases[r]={type:"fromdata"};else if(t instanceof z.Json)e.aliases[r]={type:"json"};else{if(!t.inserted)throw new Error("Wrong table at FROM");e.aliases[r]={type:"inserted"}}const n={alias:r,databaseid:t.databaseid||e.database.databaseid,tableid:t.tableid,joinmode:"INNER",onmiddlefn:g,srcwherefns:"",srcwherefn:g};if(t instanceof z.Table)n.columns=o.databases[n.databaseid].tables[n.tableid].columns,o.options.autocommit&&o.databases[n.databaseid].engineid&&!o.databases[n.databaseid].tables[n.tableid].view?n.datafn=(e,t,r,o,i)=>i.engines[i.databases[n.databaseid].engineid].fromTable(n.databaseid,n.tableid,r,o,e):o.databases[n.databaseid].tables[n.tableid].view?n.datafn=(e,t,r,o,i)=>{let a=i.databases[n.databaseid].tables[n.tableid].select(t);return r&&(a=r(a,o,e)),a}:n.datafn=(e,t,r,o,i)=>{let a=i.databases[n.databaseid].tables[n.tableid].data;return r&&(a=r(a,o,e)),a};else if(t instanceof z.Select)n.subquery=t.compile(e.database.databaseid),typeof n.subquery.query.modifier>"u"&&(n.subquery.query.modifier="RECORDSET"),n.columns=n.subquery.query.columns,n.datafn=(e,t,r,o,i)=>{let a;return n.subquery(e.params,(t=>{a=t.data,r&&(a=r(a,o,e))})),a};else if(t instanceof z.Search)n.subsearch=t,n.columns=[],n.datafn=(e,t,r,o,i)=>{let a;return n.subsearch.execute(e.database.databaseid,e.params,(t=>{a=t,r&&(a=r(a,o,e))})),a};else if(t instanceof z.ParamValue){let e=`var res = alasql.prepareFromData(params[\'${t.param}\']`;t.array&&(e+=",true"),e+=");if(cb)res=cb(res,idx,query);return res",n.datafn=new Function("query,params,cb,idx,alasql",e)}else if(t.inserted){let e="var res = alasql.prepareFromData(alasql.inserted";t.array&&(e+=",true"),e+=");if(cb)res=cb(res,idx,query);return res",n.datafn=new Function("query,params,cb,idx,alasql",e)}else if(t instanceof z.Json){let e="var res = alasql.prepareFromData("+t.toJS();t.array&&(e+=",true"),e+=");if(cb)res=cb(res,idx,query);return res",n.datafn=new Function("query,params,cb,idx,alasql",e)}else if(t instanceof z.VarValue){let e=`var res = alasql.prepareFromData(alasql.vars[\'${t.variable}\']`;t.array&&(e+=",true"),e+=");if(cb)res=cb(res,idx,query);return res",n.datafn=new Function("query,params,cb,idx,alasql",e)}else if(t instanceof z.FuncValue){let e="var res=alasql.from["+JSON.stringify(t.funcid.toUpperCase())+"](";t.args&&t.args.length>0?(t.args[0]?e+=t.args[0].toJS("query.oldscope")+",":e+="null,",t.args[1]?e+=t.args[1].toJS("query.oldscope")+",":e+="null,"):e+="null,null,",e+="cb,idx,query); return res",n.datafn=new Function("query,params,cb,idx,alasql",e)}else{if(!(t instanceof z.FromData))throw new Error("Wrong table at FROM");n.datafn=(e,r,o,n,i)=>{let a=t.data;return o&&(a=o(a,n,e)),a}}e.sources.push(n)})),e.defaultTableid=e.sources[0].alias)},o.prepareFromData=function(e,t){let r=e;if("string"==typeof e)r=e.split(/\\r?\\n/),t&&(r=r.map((e=>[e])));else if(t)r=e.map((e=>[e]));else if("object"==typeof e&&!Array.isArray(e))if(typeof Mongo<"u"&&typeof Mongo.Collection<"u"&&e instanceof Mongo.Collection)r=e.find().fetch();else{r=[];for(const t in e)e.hasOwnProperty(t)&&r.push([t,e[t]])}return r},z.Select.prototype.compileJoins=function(e){this.joins.forEach((t=>{let r,n,i;if("CROSS"===t.joinmode){if(t.using||t.on)throw new Error("CROSS JOIN cannot have USING or ON clauses");t.joinmode="INNER"}if(t instanceof z.Apply)return i={alias:t.as,applymode:t.applymode,onmiddlefn:g,srcwherefns:"",srcwherefn:g,columns:[]},i.applyselect=t.select.compile(e.database.databaseid),i.columns=i.applyselect.query.columns,i.datafn=function(e,t,r,o,n){let i;return r&&(i=r(i,o,e)),i},void e.sources.push(i);if(t.table){if(r=t.table,i={alias:t.as||r.tableid,databaseid:r.databaseid||e.database.databaseid,tableid:r.tableid,joinmode:t.joinmode,onmiddlefn:g,srcwherefns:"",srcwherefn:g,columns:[]},!o.databases[i.databaseid].tables[i.tableid])throw new Error("Table \'"+i.tableid+"\' is not exists in database \'"+i.databaseid+"\'");i.columns=o.databases[i.databaseid].tables[i.tableid].columns,o.options.autocommit&&o.databases[i.databaseid].engineid?i.datafn=function(e,t,r,o,n){return n.engines[n.databases[i.databaseid].engineid].fromTable(i.databaseid,i.tableid,r,o,e)}:o.databases[i.databaseid].tables[i.tableid].view?i.datafn=function(e,t,r,o,n){let a=n.databases[i.databaseid].tables[i.tableid].select(t);return r&&(a=r(a,o,e)),a}:i.datafn=function(e,t,r,o,n){let a=n.databases[i.databaseid].tables[i.tableid].data;return r&&(a=r(a,o,e)),a},e.aliases[i.alias]={tableid:r.tableid,databaseid:r.databaseid||e.database.databaseid}}else if(t.select)r=t.select,i={alias:t.as,joinmode:t.joinmode,onmiddlefn:g,srcwherefns:"",srcwherefn:g,columns:[]},i.subquery=r.compile(e.database.databaseid),typeof i.subquery.query.modifier>"u"&&(i.subquery.query.modifier="RECORDSET"),i.columns=i.subquery.query.columns,i.datafn=function(e,t,r,o,n){i.data=i.subquery(e.params,null,r,o).data;let a=i.data;return r&&(a=r(a,o,e)),a},e.aliases[i.alias]={type:"subquery"};else if(t.param)i={alias:t.as,joinmode:t.joinmode,onmiddlefn:g,srcwherefns:"",srcwherefn:g},n="let res=alasql.prepareFromData(params[\'"+t.param.param+"\']",t.array&&(n+=",true"),n+="); if(cb) res=cb(res, idx, query); return res",i.datafn=new Function("query,params,cb,idx, alasql",n),e.aliases[i.alias]={type:"paramvalue"};else if(t.variable)i={alias:t.as,joinmode:t.joinmode,onmiddlefn:g,srcwherefns:"",srcwherefn:g},n="let res=alasql.prepareFromData(alasql.vars[\'"+t.variable+"\']",t.array&&(n+=", true"),n+="); if(cb)res=cb(res, idx, query);return res",i.datafn=new Function("query,params,cb,idx, alasql",n),e.aliases[i.alias]={type:"varvalue"};else if(t.func){i={alias:t.as,joinmode:t.joinmode,onmiddlefn:g,srcwherefns:"",srcwherefn:g};let r="let res=alasql.from["+JSON.stringify(t.func.funcid.toUpperCase())+"](";const o=t.func.args;o&&o.length>0?(o[0]?r+=o[0].toJS("query.oldscope")+", ":r+="null, ",o[1]?r+=o[1].toJS("query.oldscope")+", ":r+="null, "):r+="null, null, ",r+="cb, idx, query); return res",i.datafn=new Function("query, params, cb, idx, alasql",r),e.aliases[i.alias]={type:"funcvalue"}}const a=i.alias;if(t.natural){if(t.using||t.on)throw new Error("NATURAL JOIN cannot have USING or ON clauses");if(e.sources.length>0){const r=e.sources[e.sources.length-1],n=o.databases[r.databaseid].tables[r.tableid],a=o.databases[i.databaseid].tables[i.tableid];if(!n||!a)throw new Error("In this version of Alasql NATURAL JOIN works for tables with predefined columns only");{const e=n.columns.map((e=>e.columnid)),r=a.columns.map((e=>e.columnid));t.using=A(e,r).map((e=>({columnid:e})))}}}if(t.using){const r=e.sources[e.sources.length-1];i.onleftfns=t.using.map((e=>"p[\'"+(r.alias||r.tableid)+"\'][\'"+e.columnid+"\']")).join(\'+"`"+\'),i.onleftfn=new Function("p,params,alasql","let y;return "+i.onleftfns),i.onrightfns=t.using.map((e=>"p[\'"+(i.alias||i.tableid)+"\'][\'"+e.columnid+"\']")).join(\'+"`"+\'),i.onrightfn=new Function("p,params,alasql","let y;return "+i.onrightfns),i.optimization="ix"}else if(t.on)if(t.on instanceof z.Op&&"="===t.on.op&&!t.on.allsome){i.optimization="ix";let r="",o="",n="",s=!1;const u=t.on.left.toJS("p",e.defaultTableid,e.defcols),c=t.on.right.toJS("p",e.defaultTableid,e.defcols);u.indexOf("p[\'"+a+"\']")>-1&&!(c.indexOf("p[\'"+a+"\']")>-1)?(u.match(/p\\[\'.*?\'\\]/g)||[]).every((e=>e==="p[\'"+a+"\']"))?o=u:s=!0:!(u.indexOf("p[\'"+a+"\']")>-1)&&c.indexOf("p[\'"+a+"\']")>-1&&(c.match(/p\\[\'.*?\'\\]/g)||[]).every((e=>e==="p[\'"+a+"\']"))?r=u:s=!0,c.indexOf("p[\'"+a+"\']")>-1&&!(u.indexOf("p[\'"+a+"\']")>-1)?(c.match(/p\\[\'.*?\'\\]/g)||[]).every((e=>e==="p[\'"+a+"\']"))?o=c:s=!0:!(c.indexOf("p[\'"+a+"\']")>-1)&&u.indexOf("p[\'"+a+"\']")>-1&&(u.match(/p\\[\'.*?\'\\]/g)||[]).every((e=>e==="p[\'"+a+"\']"))?r=c:s=!0,s&&(o="",r="",n=t.on.toJS("p",e.defaultTableid,e.defcols),i.optimization="no"),i.onleftfns=r,i.onrightfns=o,i.onmiddlefns=n||"true",i.onleftfn=new Function("p,params,alasql","let y;return "+i.onleftfns),i.onrightfn=new Function("p,params,alasql","let y;return "+i.onrightfns),i.onmiddlefn=new Function("p,params,alasql","let y;return "+i.onmiddlefns)}else i.optimization="no",i.onmiddlefns=t.on.toJS("p",e.defaultTableid,e.defcols),i.onmiddlefn=new Function("p,params,alasql","let y;return "+t.on.toJS("p",e.defaultTableid,e.defcols));e.sources.push(i)}))},z.Select.prototype.compileWhere=function(e){if(this.where){if("function"==typeof this.where)return this.where;var t=this.where.toJS("p",e.defaultTableid,e.defcols);return e.wherefns=t,new Function("p,params,alasql","var y;return "+t)}return function(){return!0}},z.Select.prototype.compileWhereJoins=function(e){},z.Select.prototype.compileGroup=function(e){if(e.sources.length>0)var t=e.sources[0].alias;else t="";var r=e.defcols,o=[[]];this.group&&(o=se(this.group,e));var n=[];o.forEach((function(e){n=v(n,e)})),e.allgroups=n,e.ingroup=[];var i="";return o.forEach((function(o){i+="var g=this.xgroups[";var a=o.map((function(t){var r=t.split("\\t")[0],o=t.split("\\t")[1];return""===r?"1":(e.ingroup.push(r),o)}));0===a.length&&(a=["\'\'"]),i+=a.join(\'+"`"+\'),i+="];if(!g) {this.groups.push((g=this.xgroups[",i+=a.join(\'+"`"+\'),i+="] = {",i+=o.map((function(e){var t=e.split("\\t")[0],r=e.split("\\t")[1];return""===t?"":"\'"+t+"\':"+r+","})).join("");var s=T(n,o);i+=s.map((function(e){return"\'"+e.split("\\t")[0]+"\':null,"})).join("");var u="",c="";typeof e.groupStar<"u"&&(c+="for(var f in p[\'"+e.groupStar+"\']) {g[f]=p[\'"+e.groupStar+"\'][f];};"),i+=e.selectGroup.map((function(o){var n=o.expression.toJS("p",t,r),i=o.nick;let a=e=>e.args[0].toJS("p",t,r);if(o instanceof z.AggrValue){if(o.distinct&&(u+=",g[\'$$_VALUES_"+i+"\']={},g[\'$$_VALUES_"+i+"\']["+n+"]=true"),"SUM"===o.aggregatorid)return`\'${i}\':(${n}),`;if("TOTAL"===o.aggregatorid){if("funcid"in o.expression){let e=a(o.expression);return`\'${i}\':(${e}) || typeof ${e} == \'number\' ?\\n\\t\\t\\t\\t\\t\\t\\t${e} : ${e} == \'string\' && typeof Number(${e}) == \'number\' ? Number(${e}) :\\n\\t\\t\\t\\t\\t\\t\\ttypeof ${e} == \'boolean\' ?  Number(${e}) : 0,`}return`\'${i}\':(${n})|| typeof ${n} == \'number\' ?\\n\\t\\t\\t\\t\\t\\t\\t${n} : ${n} == \'string\' && typeof Number(${n}) == \'number\' ? Number(${n}) :\\n\\t\\t\\t\\t\\t\\t\\ttypeof ${n} === \'boolean\' ?  Number(${n}) : 0,`}return"MIN"===o.aggregatorid||"MAX"===o.aggregatorid||"FIRST"===o.aggregatorid||"LAST"===o.aggregatorid?"\'"+i+"\':"+n+",":"ARRAY"===o.aggregatorid?`\'${i}\':[${n}],`:"COUNT"===o.aggregatorid?"*"===o.expression.columnid?`\'${i}\':1,`:`\'${i}\':(typeof ${n} == "undefined" || ${n} === null) ? 0 : 1,`:"AVG"===o.aggregatorid?(e.removeKeys.push(`_SUM_${i}`),e.removeKeys.push(`_COUNT_${i}`),`\'${i}\':${n},\'_SUM_${i}\':(${n})||0,\'_COUNT_${i}\':(typeof ${n} == "undefined" || ${n} === null) ? 0 : 1,`):"AGGR"===o.aggregatorid?(u+=`,g[\'${i}\']=${o.expression.toJS("g",-1)}`,""):"REDUCE"===o.aggregatorid?(e.aggrKeys.push(o),`\'${i}\':alasql.aggr[\'${o.funcid}\'](${n},undefined,1),`):""}return""})).join(""),i+="}"+u+",g));"+c+"} else {",i+=e.selectGroup.map((function(e){var o=e.nick,n=e.expression.toJS("p",t,r);let i=e=>e.args[0].toJS("p",t,r);if(e instanceof z.AggrValue){var a="",s="";return e.distinct&&(a=`if(typeof ${n}!="undefined" && (!g[\'$$_VALUES_${o}\'][${n}])) {`,s=`g[\'$$_VALUES_${o}\'][${n}]=true;}`),"SUM"===e.aggregatorid?`${a}if((y=${n})!=null){const v=g[\'${o}\'];g[\'${o}\']=(v==null)?y:v+y;}${s}`:"TOTAL"===e.aggregatorid?"funcid"in e.expression?a+`{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tconst __g_colas = g[\'${o}\'];\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tconst __colexp1 = ${i(e.expression)};\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tconst __typeof_g_colas = typeof __g_colas;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tconst __typeof_colexp1 = typeof __colexp1;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (__typeof_g_colas == \'string\' && !isNaN(__g_colas) && typeof Number(__g_colas) == \'number\' &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t__typeof_colexp1 == \'string\' && !isNaN(__colexp1) && typeof Number(__colexp1) == \'number\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = Number(__g_colas) + Number(__colexp1);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else if (__typeof_g_colas == \'string\' && __typeof_colexp1 == \'string\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else if (__typeof_g_colas == \'string\' && __typeof_colexp1 == \'number\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = __colexp1;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else if (__typeof_colexp1 == \'string\' && __typeof_g_colas == \'number\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = __g_colas;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] += __colexp1 || 0;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}`+s:a+`{\\n\\t\\t\\t\\t\\t\\t\\t\\tconst __g_colas = g[\'${o}\'];\\n\\t\\t\\t\\t\\t\\t\\t\\tconst __colexp = ${n};\\n\\t\\t\\t\\t\\t\\t\\t\\tconst __typeof_g_colas = typeof __g_colas;\\n\\t\\t\\t\\t\\t\\t\\t\\tconst __typeof_colexp = typeof __colexp;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tif (__typeof_g_colas === \'string\' && !isNaN(__g_colas) && typeof Number(__g_colas) === \'number\' &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t__typeof_colexp === \'string\' && !isNaN(__colexp) && typeof Number(__colexp) === \'number\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = Number(__g_colas) + Number(__colexp);\\n\\t\\t\\t\\t\\t\\t\\t\\t} else if (__typeof_g_colas === \'string\' && __typeof_colexp === \'string\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = 0;\\n\\t\\t\\t\\t\\t\\t\\t\\t} else if (__typeof_g_colas === \'string\' && __typeof_colexp === \'number\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = __colexp;\\n\\t\\t\\t\\t\\t\\t\\t\\t} else if (__typeof_colexp === \'string\' && __typeof_g_colas === \'number\') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = __g_colas;\\n\\t\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] += __colexp || 0;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t`+s:"COUNT"===e.aggregatorid?"*"===e.expression.columnid?`${a}\\n\\t\\t\\t\\t\\t\\t\\t\\tg[\'${o}\']++;\\n\\t\\t\\t\\t\\t\\t\\t\\t${s}`:`${a}\\n\\t\\t\\t\\t\\t\\t\\tif(typeof ${n}!="undefined" && ${n} !== null) g[\'${o}\']++;\\n\\t\\t\\t\\t\\t\\t\\t${s}`:"ARRAY"===e.aggregatorid?a+"g[\'"+o+"\'].push("+n+");"+s:"MIN"===e.aggregatorid?`${a}if ((y=${n}) < g[\'${o}\'] && y!=null || g[\'${o}\']===null){ g[\'${o}\'] = y;}${s}`:"MAX"===e.aggregatorid?`${a}if ((y=${n}) > g[\'${o}\'] && y!=null || g[\'${o}\']===null) g[\'${o}\'] = y;${s}`:"FIRST"===e.aggregatorid?"":"LAST"===e.aggregatorid?`${a}g[\'${o}\']=${n};${s}`:"AVG"===e.aggregatorid?`${a}\\n\\t\\t\\t\\t\\t\\t\\tg[\'_SUM_${o}\'] += (y=${n})||0;\\n\\t\\t\\t\\t\\t\\t\\tg[\'_COUNT_${o}\'] += (typeof y == "undefined" || y === null) ? 0 : 1;\\n\\t\\t\\t\\t\\t\\t\\tg[\'${o}\']=g[\'_SUM_${o}\'] / g[\'_COUNT_${o}\'];\\n\\t\\t\\t\\t\\t\\t\\t${s}`:"AGGR"===e.aggregatorid?`${a}\\n\\t\\t\\t\\t\\t\\t\\tg[\'${o}\']=${e.expression.toJS("g",-1)};\\n\\t\\t\\t\\t\\t\\t\\t${s}`:"REDUCE"===e.aggregatorid?`${a}\\n\\t\\t\\t\\t\\t\\t\\tg[\'${o}\'] = alasql.aggr.${e.funcid}(${n},g[\'${o}\'],2);\\n\\t\\t\\t\\t\\t\\t\\t${s}`:""}return""})).join(""),i+="}"})),new Function("p,params,alasql","var y;"+i)},z.Select.prototype.compileSelect1=function(e,t){var r=this;e.columns=[],e.xcolumns={},e.selectColumns={},e.dirtyColumns=!1;var n="var r={",i="",a=[];return this.columns.forEach((function(n){if(n instanceof z.Column)if("*"===n.columnid)if(n.func)i+="r=params[\'"+n.param+"\'](p[\'"+e.sources[0].alias+"\'],p,params,alasql);";else if(n.tableid)(s=re(e,[n.tableid],!1)).s&&(a=a.concat(s.s)),i+=s.sp;else{var s;(s=re(e,Object.keys(e.aliases),!0)).s&&(a=a.concat(s.s)),i+=s.sp}else{var u=n.tableid,l=n.databaseid||e.sources[0].databaseid||e.database.databaseid;if(u||(u=e.defcols[n.columnid]),u||(u=e.defaultTableid),"_"!==n.columnid?t&&t.length>1&&Array.isArray(t[0])&&t[0].length>=1&&t[0][0].hasOwnProperty("sheetid")?i=\'var r={};var w=p["\'+u+\'"];var cols=[\'+r.columns.map((function(e){return"\'"+e.columnid+"\'"})).join(",")+"];var colas=["+r.columns.map((function(e){return"\'"+(e.as||e.columnid)+"\'"})).join(",")+"];for (var i=0;i<Object.keys(p[\'"+u+"\']).length;i++) for(var k=0;k<cols.length;k++){if (!r.hasOwnProperty(i)) r[i]={}; r[i][colas[k]]=w[i][cols[k]];}":a.push("\'"+d(n.as||n.columnid)+"\':p[\'"+u+"\'][\'"+n.columnid+"\']"):a.push("\'"+d(n.as||n.columnid)+"\':p[\'"+u+"\']"),e.selectColumns[d(n.as||n.columnid)]=!0,e.aliases[u]&&"table"===e.aliases[u].type){if(!o.databases[l].tables[e.aliases[u].tableid])throw new Error("Table \'"+u+"\' does not exist in database");var g=o.databases[l].tables[e.aliases[u].tableid].columns,f=o.databases[l].tables[e.aliases[u].tableid].xcolumns;if(f&&g.length>0){var h=f[n.columnid];if(void 0===h)throw new Error("Column does not exist: "+n.columnid);var p={columnid:n.as||n.columnid,dbtypeid:h.dbtypeid,dbsize:h.dbsize,dbpecision:h.dbprecision,dbenum:h.dbenum};e.columns.push(p),e.xcolumns[p.columnid]=p}else p={columnid:n.as||n.columnid},e.columns.push(p),e.xcolumns[p.columnid]=p,e.dirtyColumns=!0}else p={columnid:n.as||n.columnid},e.columns.push(p),e.xcolumns[p.columnid]=p}else if(n instanceof z.AggrValue)r.group||(r.group=[""]),n.as||(n.as=d(n.toString())),"SUM"===n.aggregatorid||"MAX"===n.aggregatorid||"MIN"===n.aggregatorid||"FIRST"===n.aggregatorid||"LAST"===n.aggregatorid||"AVG"===n.aggregatorid||"ARRAY"===n.aggregatorid||"REDUCE"===n.aggregatorid||"TOTAL"===n.aggregatorid?a.push("\'"+d(n.as)+"\':"+c(n.expression.toJS("p",e.defaultTableid,e.defcols))):"COUNT"===n.aggregatorid&&a.push("\'"+d(n.as)+"\':1"),p={columnid:n.as||n.columnid||n.toString()},e.columns.push(p),e.xcolumns[p.columnid]=p;else{const t=d(n.as||n.columnid||n.toString());a.push("\'"+t+"\':"+c(n.toJS("p",e.defaultTableid,e.defcols))),e.selectColumns[t]=!0,p={columnid:n.as||n.columnid||n.toString()},e.columns.push(p),e.xcolumns[p.columnid]=p}})),n+=a.join(",")+"};"+i},z.Select.prototype.compileSelect2=function(e,t){var r=e.selectfns;return this.orderColumns&&this.orderColumns.length>0&&this.orderColumns.forEach((function(o,n){var i="$$$"+n;o instanceof z.Column&&e.xcolumns[o.columnid]?r+="r[\'"+i+"\']=r[\'"+o.columnid+"\'];":o instanceof z.ParamValue&&e.xcolumns[t[o.param]]?r+="r[\'"+i+"\']=r[\'"+t[o.param]+"\'];":r+="r[\'"+i+"\']="+o.toJS("p",e.defaultTableid,e.defcols)+";",e.removeKeys.push(i)})),new Function("p,params,alasql","var y;"+r+"return r")},z.Select.prototype.compileSelectGroup0=function(e){var t=this;t.columns.forEach((function(r,o){if(r instanceof z.Column&&"*"===r.columnid)e.groupStar=r.tableid||"default";else{var n;n=r instanceof z.Column?d(r.columnid):d(r.toString(!0));for(var i=0;i<o;i++)if(n===t.columns[i].nick){n=t.columns[i].nick+":"+o;break}if(r.nick=n,t.group){var a=t.group.findIndex((function(e){return e.columnid===r.columnid&&e.tableid===r.tableid}));a>-1&&(t.group[a].nick=n)}r.funcid&&("ROWNUM"===r.funcid.toUpperCase()||"ROW_NUMBER"===r.funcid.toUpperCase())&&e.rownums.push(r.as)}})),this.columns.forEach((function(t){t.findAggregator&&t.findAggregator(e)})),this.having&&this.having.findAggregator&&this.having.findAggregator(e)},z.Select.prototype.compileSelectGroup1=function(e){var t="var r = {};";return this.columns.forEach((function(r){if(r instanceof z.Column&&"*"===r.columnid)return t+="for(var k in g) {r[k]=g[k]};","";var o=r.as;void 0===o&&(o=r instanceof z.Column?d(r.columnid):r.nick),e.groupColumns[o]=r.nick,t+="r[\'"+d(o)+"\']=",t+=c(r.toJS("g",""))+";";for(var n=0;n<e.removeKeys.length;n++)if(e.removeKeys[n]===o){e.removeKeys.splice(n,1);break}})),t},z.Select.prototype.compileSelectGroup2=function(e){var t=this,r=e.selectgfns;return t.columns.forEach((function(t){e.ingroup.indexOf(t.nick)>-1&&(r+="r[\'"+(t.as||t.nick)+"\']=g[\'"+t.nick+"\'];")})),this.orderColumns&&this.orderColumns.length>0&&this.orderColumns.forEach((function(t,o){var n="$$$"+o;t instanceof z.Column&&e.groupColumns[t.columnid]?r+="r[\'"+n+"\']=r[\'"+t.columnid+"\'];":r+="r[\'"+n+"\']="+t.toJS("g","")+";",e.removeKeys.push(n)})),new Function("g,params,alasql","var y;"+r+"return r")},z.Select.prototype.compileRemoveColumns=function(e){typeof this.removecolumns<"u"&&(e.removeKeys=e.removeKeys.concat(this.removecolumns.filter((function(e){return typeof e.like>"u"})).map((function(e){return e.columnid}))),e.removeLikeKeys=this.removecolumns.filter((function(e){return typeof e.like<"u"})).map((function(e){return e.like.value})))},z.Select.prototype.compileHaving=function(e){if(this.having){var t=this.having.toJS("g",-1);return e.havingfns=t,new Function("g,params,alasql","var y;return "+t)}return function(){return!0}},z.Select.prototype.compileOrder=function(e,t){var r=this;if(r.orderColumns=[],this.order){if(this.order&&1==this.order.length&&this.order[0].expression&&"function"==typeof this.order[0].expression){var n=this.order[0].expression,i="FIRST"==this.order[0].nullsOrder?-1:"LAST"==this.order[0].nullsOrder?1:0;return function(e,t){var r=n(e),o=n(t);if(i){if(null==r)return null==o?0:i;if(null==o)return-i}return r>o?1:r==o?0:-1}}var a="",s="";return this.order.forEach((function(n,i){if(n.expression instanceof z.NumValue){if(n.expression.value>r.columns.length)throw new Error(`You are trying to order by column number ${n.expression.value} but you have only selected ${r.columns.length} columns.`);var u=r.columns[n.expression.value-1]}else u=n.expression;r.orderColumns.push(u);var c="$$$"+i,l="";if(n.expression instanceof z.Column){var g=n.expression.columnid;(o.options.valueof||e.xcolumns[g]&&("DATE"==(d=e.xcolumns[g].dbtypeid)||"DATETIME"==d||"DATETIME2"==d||"STRING"==d||"NUMBER"==d))&&(l=".valueOf()")}if(n.expression instanceof z.ParamValue)if(g=t[n.expression.param],o.options.valueof)l=".valueOf()";else if(e.xcolumns[g]){var d;("DATE"==(d=e.xcolumns[g].dbtypeid)||"DATETIME"==d||"DATETIME2"==d||"STRING"==d||"NUMBER"==d)&&(l=".valueOf()")}n.nocase&&(l+=".toUpperCase()"),n.nullsOrder&&("FIRST"==n.nullsOrder?a+="if((a[\'"+c+"\'] != null) && (b[\'"+c+"\'] == null)) return 1;":"LAST"==n.nullsOrder&&(a+="if((a[\'"+c+"\'] == null) && (b[\'"+c+"\'] != null)) return 1;"),a+="if((a[\'"+c+"\'] == null) == (b[\'"+c+"\'] == null)) {",s+="}"),a+="if((a[\'"+c+"\']||\'\')"+l+("ASC"==n.direction?">":"<")+"(b[\'"+c+"\']||\'\')"+l+")return 1;",a+="if((a[\'"+c+"\']||\'\')"+l+"==(b[\'"+c+"\']||\'\')"+l+"){",s+="}"})),a+="return 0;",a+=s+"return -1",e.orderfns=a,new Function("a,b","var y;"+a)}},z.Select.prototype.compilePivot=function(e){var t=this,r=t.pivot.columnid,n=t.pivot.expr.aggregatorid,i=t.pivot.inlist,a=null;if(null==(a=t.pivot.expr.expression.hasOwnProperty("columnid")?t.pivot.expr.expression.columnid:t.pivot.expr.expression.expression.columnid))throw"columnid not found";return i&&(i=i.map((function(e){return e.expr.columnid}))),function(){var e=this,t=e.columns.filter((function(e){return e.columnid!=r&&e.columnid!=a})).map((function(e){return e.columnid})),s=[],u={},c={},l={},g=[];if(e.data.forEach((function(e){if(!i||i.indexOf(e[r])>-1){var d=t.map((function(t){return e[t]})).join("`"),f=c[d];if(f||(f={},c[d]=f,g.push(f),t.forEach((function(t){f[t]=e[t]}))),l[d]||(l[d]={}),l[d][e[r]]?l[d][e[r]]++:l[d][e[r]]=1,u[e[r]]||(u[e[r]]=!0,s.push(e[r])),"SUM"==n||"AVG"==n||"TOTAL"==n)typeof f[e[r]]>"u"&&(f[e[r]]=0),f[e[r]]+=+e[a];else if("COUNT"==n)typeof f[e[r]]>"u"&&(f[e[r]]=0),f[e[r]]++;else if("MIN"==n)typeof f[e[r]]>"u"&&(f[e[r]]=e[a]),e[a]<f[e[r]]&&(f[e[r]]=e[a]);else if("MAX"==n)typeof f[e[r]]>"u"&&(f[e[r]]=e[a]),e[a]>f[e[r]]&&(f[e[r]]=e[a]);else if("FIRST"==n)typeof f[e[r]]>"u"&&(f[e[r]]=e[a]);else if("LAST"==n)f[e[r]]=e[a];else{if(!o.aggr[n])throw new Error("Wrong aggregator in PIVOT clause");o.aggr[n](f[e[r]],e[a])}}})),"AVG"==n)for(var d in c){var f=c[d];for(var h in f)-1==t.indexOf(h)&&h!=a&&(f[h]=f[h]/l[d][h])}e.data=g,i&&(s=i);var p=e.columns.filter((function(e){return e.columnid==a}))[0];e.columns=e.columns.filter((function(e){return!(e.columnid==r||e.columnid==a)})),s.forEach((function(t){var r=w(p);r.columnid=t,e.columns.push(r)}))}},z.Select.prototype.compileUnpivot=function(e){var t=this,r=t.unpivot.tocolumnid,o=t.unpivot.forcolumnid,n=t.unpivot.inlist.map((function(e){return e.columnid}));return function(){var t=[],i=e.columns.map((function(e){return e.columnid})).filter((function(e){return-1==n.indexOf(e)&&e!=o&&e!=r}));e.data.forEach((function(e){n.forEach((function(n){var a={};i.forEach((function(t){a[t]=e[t]})),a[o]=n,a[r]=e[n],t.push(a)}))})),e.data=t}};const oe=(e,t)=>{const r=[];let o=0;const n=e.length;for(let i=0;i<n+1;i++){const i=[];for(let r=0;r<n;r++){let n;e[r]instanceof z.Column?(e[r].nick=d(e[r].columnid),t.groupColumns[d(e[r].columnid)]=e[r].nick,n=`${e[r].nick}\\t${e[r].toJS("p",t.sources[0].alias,t.defcols)}`):(t.groupColumns[d(e[r].toString())]=d(e[r].toString()),n=`${d(e[r].toString())}\\t${e[r].toJS("p",t.sources[0].alias,t.defcols)}`),o&1<<r&&i.push(n)}r.push(i),o=1+(o<<1)}return r},ne=(e,t)=>{const r=[],o=e.length,n=1<<o;for(let i=0;i<n;i++){let n=[];for(let r=0;r<o;r++)i&1<<r&&(n=n.concat(se(e[r],t)));r.push(n)}return r},ie=(e,t)=>e.reduce(((e,r)=>e=e.concat(se(r,t))),[]),ae=(e,t)=>{const r=[];for(let o=0;o<e.length;o++)for(let n=0;n<t.length;n++)r.push(e[o].concat(t[n]));return r};function se(e,t){if(Array.isArray(e)){let r=[[]];for(let o=0;o<e.length;o++)if(e[o]instanceof z.Column)e[o].nick=e[o].nick?d(e[o].nick):d(e[o].columnid),t.groupColumns[e[o].nick]=e[o].nick,r=r.map((r=>r.concat(`${e[o].nick}\\t${e[o].toJS("p",t.sources[0].alias,t.defcols)}`)));else if(e[o]instanceof z.FuncValue)t.groupColumns[d(e[o].toString())]=d(e[o].toString()),r=r.map((r=>r.concat(`${d(e[o].toString())}\\t${e[o].toJS("p",t.sources[0].alias,t.defcols)}`)));else if(e[o]instanceof z.GroupExpression)if("ROLLUP"==e[o].type)r=ae(r,oe(e[o].group,t));else if("CUBE"==e[o].type)r=ae(r,ne(e[o].group,t));else{if("GROUPING SETS"!=e[o].type)throw new Error("Unknown grouping function");r=ae(r,ie(e[o].group,t))}else r=""===e[o]?[["1\\t1"]]:r.map((r=>r.concat(`${d(e[o].toString())}\\t${e[o].toJS("p",t.sources[0].alias,t.defcols)}`)));return r}return e instanceof z.FuncValue?(t.groupColumns[d(e.toString())]=d(e.toString()),[`${e.toString()}\\t${e.toJS("p",t.sources[0].alias,t.defcols)}`]):e instanceof z.Column?(e.nick=d(e.columnid),t.groupColumns[e.nick]=e.nick,[`${e.nick}\\t${e.toJS("p",t.sources[0].alias,t.defcols)}`]):(t.groupColumns[d(e.toString())]=d(e.toString()),[`${d(e.toString())}\\t${e.toJS("p",t.sources[0].alias,t.defcols)}`])}z.Select.prototype.compileDefCols=function(e,t){var r={".":{}};return this.from&&this.from.forEach((function(e){if(r["."][e.as||e.tableid]=!0,e instanceof z.Table){var n=e.as||e.tableid,i=o.databases[e.databaseid||t].tables[e.tableid];if(void 0===i)throw new Error("Table does not exist: "+e.tableid);i.columns&&i.columns.forEach((function(e){r[e.columnid]?r[e.columnid]="-":r[e.columnid]=n}))}else if(!(e instanceof z.Select||e instanceof z.Search||e instanceof z.ParamValue||e instanceof z.VarValue||e instanceof z.FuncValue||e instanceof z.FromData||e instanceof z.Json||e.inserted))throw new Error("Unknown type of FROM clause")})),this.joins&&this.joins.forEach((function(e){if(r["."][e.as||e.table.tableid]=!0,e.table){var n=e.as||e.table.tableid,i=e.table.databaseid||t,a=o.databases[i];if(void 0===a)throw new Error("Database does not exist: "+i);var s=a.tables[e.table.tableid];if(void 0===s)throw new Error("Table does not exist: "+e.table.tableid);s.columns&&s.columns.forEach((function(e){r[e.columnid]?r[e.columnid]="-":r[e.columnid]=n}))}else if(!e.select&&!e.param&&!e.func)throw new Error("Unknown type of FROM clause")})),r},z.Union=class{constructor(e){Object.assign(this,e)}toString(){return"UNION"}compile(e){return null}},z.Apply=class{constructor(e){Object.assign(this,e)}toString(){let e=`${this.applymode} APPLY (${this.select.toString()})`;return this.as&&(e+=` AS ${this.as}`),e}},z.Over=class{constructor(e){Object.assign(this,e)}toString(){let e="OVER (";return this.partition&&(e+=`PARTITION BY ${this.partition.toString()}`,this.order&&(e+=" ")),this.order&&(e+=`ORDER BY ${this.order.toString()}`),e+=")",e}};{const e=["constructor","call","apply","bind","prototype"],t=Object.assign;class r{constructor(e){t(this,e)}toString(){return this.expression.toString()}execute(e,t,r){if(this.expression){o.precompile(this,e,t);var n=new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this)(t,o);return r&&(n=r(n)),n}}}class n{constructor(e){t(this,e)}toString(){var e=this.expression.toString();return this.order&&(e+=" "+this.order.toString()),this.nocase&&(e+=" COLLATE NOCASE"),this.direction&&(e+=" "+this.direction),e}findAggregator(e){this.expression.findAggregator&&this.expression.findAggregator(e)}toJS(e,t,r){return this.expression.reduced?"true":this.expression.toJS(e,t,r)}compile(e,t,r){return this.reduced?g():new Function("p","var y;return "+this.toJS(e,t,r))}}class i{constructor(e){t(this,e)}toString(){return"``"+this.value+"``"}toJS(){return"("+this.value+")"}execute(e,t,r){var n=1;return new Function("params,alasql,p",this.value)(t,o),r&&(n=r(n)),n}}class a{constructor(e){t(this,e)}toString(){var e=this.value;return this.value1&&(e=this.value1+"."+e),e}}class s{constructor(e){t(this,e)}toString(){var e=" ";return this.joinmode&&(e+=this.joinmode+" "),e+="JOIN "+this.table.toString()}}class u{constructor(e){t(this,e)}toString(){var e=this.tableid;return this.databaseid&&(e=this.databaseid+"."+e),e}}class c{constructor(e){t(this,e)}toString(){var e=this.viewid;return this.databaseid&&(e=this.databaseid+"."+e),e}}const l=new Set(["-","*","/","%","^"]),f=new Set(["||"]),h=new Set(["AND","OR","NOT","=","==","===","!=","!==","!===",">",">=","<","<=","IN","NOT IN","LIKE","NOT LIKE","REGEXP","GLOB","BETWEEN","NOT BETWEEN","IS NULL","IS NOT NULL"]);class p{constructor(e){t(this,e)}toString(){const e=this.left.toString();let t;return"IN"===this.op||"NOT IN"===this.op?`${e} ${this.op} (${this.right.toString()})`:this.allsome?`${e} ${this.op} ${this.allsome} (${this.right.toString()})`:"->"===this.op||"!"===this.op?(t=`${e}${this.op}`,"string"!=typeof this.right&&"number"!=typeof this.right?t+`(${this.right.toString()})`:t+this.right.toString()):"BETWEEN"===this.op||"NOT BETWEEN"===this.op?`${e} ${this.op} ${this.right1.toString()} AND ${this.right2.toString()}`:`${e} ${this.op} ${this.allsome?this.allsome+" ":""}${this.right.toString()}`}findAggregator(e){this.left&&this.left.findAggregator&&this.left.findAggregator(e),this.right&&this.right.findAggregator&&!this.allsome&&this.right.findAggregator(e)}toType(e){if(l.has(this.op))return"number";if(f.has(this.op))return"string";if("+"===this.op){const t=this.left.toType(e),r=this.right.toType(e);if("string"===t||"string"===r)return"string";if("number"===t||"number"===r)return"number"}return h.has(this.op)||this.allsome?"boolean":this.op?"unknown":this.left.toType(e)}toJS(t,r,n){let i=[],a=this.op,s=this,u=function(e){return e.toJS&&(e=e.toJS(t,r,n)),"y["+(i.push(e)-1)+"]"};var c=function(){return u(s.left)},l=function(){return u(s.right)};if("="===this.op)a="===";else if("<>"===this.op)a="!=";else if("OR"===this.op)a="||";else if("->"===this.op){const t=`(${c()} || {})`,r=e.includes(this.right.funcid??this.right);if("string"==typeof this.right)f=`${t}["${d(this.right)}"]`,r&&(f=`(function(propValue) { return typeof propValue === \'function\' ? null : propValue; })(${f})`);else if("number"==typeof this.right)f=`${t}[${this.right}]`;else if(this.right instanceof z.FuncValue){if(r)throw new Error(`Access to dangerous property "${this.right.funcid}" is forbidden`);let e=[];this.right.args&&this.right.args.length>0&&(e=this.right.args.map(u)),f=`${t}[${JSON.stringify(this.right.funcid)}](${e.join(",")})`}else f=`${t}[${l()}]`}else if("!"===this.op)"string"==typeof this.right&&(f=`alasql.databases[alasql.useid].objects[${c()}]["${this.right}"]`);else if("IS"===this.op){const e=c(),t=l();f=this.right instanceof z.NullValue||"NOT"===this.right.op&&this.right.right instanceof z.NullValue?`((${e} == null) === (${t} == null))`:`((${e} == ${t}) || (${e} < 0 && true == ${t}))`}else if("=="===this.op)f=`alasql.utils.deepEqual(${c()}, ${l()})`;else if("==="===this.op||"!==="===this.op)f=`(${"!==="===this.op?"!":""}((${c()}).valueOf() === (${l()}).valueOf()))`;else if("!=="===this.op)f=`(!alasql.utils.deepEqual(${c()}, ${l()}))`;else if("||"===this.op)f=`(\'\'+(${c()} || \'\') + (${l()} || \'\'))`;else if("LIKE"===this.op||"NOT LIKE"===this.op)f=`(${"NOT LIKE"===this.op?"!":""}alasql.utils.like(${l()}, ${c()}${this.escape?`, ${u(this.escape)}`:""}))`;else if("REGEXP"===this.op)f=`alasql.stdfn.REGEXP_LIKE(${c()}, ${l()})`;else if("GLOB"===this.op)f=`alasql.utils.glob(${c()}, ${l()})`;else if("BETWEEN"===this.op||"NOT BETWEEN"===this.op){const e=c();f=`(${"NOT BETWEEN"===this.op?"!":""}((${u(this.right1)} <= ${e}) && (${e} <= ${u(this.right2)})))`}else if("IN"===this.op)if(this.right instanceof z.Select)f=`alasql.utils.flatArray(this.queriesfn[${this.queriesidx}](params, null, ${t})).indexOf(alasql.utils.getValueOf(${c()})) > -1`;else if(Array.isArray(this.right))if(!o.options.cache||this.right.some((e=>e instanceof z.ParamValue)))f=`(new Set([${this.right.map(u).join(",")}]).has(alasql.utils.getValueOf(${c()})))`;else{o.sets=o.sets||{};const e=this.right.map((e=>e.value)),t=e.join(",");o.sets[t]=o.sets[t]||new Set(e),f=`alasql.sets["${t}"].has(alasql.utils.getValueOf(${c()}))`}else f=`(${l()}.indexOf(${c()}) > -1)`;else if("NOT IN"===this.op)if(this.right instanceof z.Select)f=`alasql.utils.flatArray(this.queriesfn[${this.queriesidx}](params, null, p)).indexOf(alasql.utils.getValueOf(${c()})) < 0`;else if(Array.isArray(this.right))if(!o.options.cache||this.right.some((e=>e instanceof z.ParamValue)))f=`(!(new Set([${this.right.map(u).join(",")}]).has(alasql.utils.getValueOf(${c()}))))`;else{o.sets=o.sets||{};const e=this.right.map((e=>e.value)),t=e.join(",");o.sets[t]=o.sets[t]||new Set(e),f=`!alasql.sets["${t}"].has(alasql.utils.getValueOf(${c()}))`}else f=`(${l()}.indexOf(${c()}) === -1)`;const g=()=>`alasql.utils.getValueOf(${c()})`;var f;if("ALL"===this.allsome)if(this.right instanceof z.Select)f="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))",f+=".every(function(b){return (",f+=g()+")"+a+"b})";else{if(!Array.isArray(this.right))throw new Error("NOT IN operator without SELECT");f=""+(1==this.right.length?u(this.right[0]):"["+this.right.map(u).join(",")+"]"),f+=".every(function(b){return (",f+=g()+")"+a+"b})"}if("SOME"===this.allsome||"ANY"===this.allsome)if(this.right instanceof z.Select)f="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))",f+=".some(function(b){return (",f+=g()+")"+a+"b})";else{if(!Array.isArray(this.right))throw new Error("SOME/ANY operator without SELECT");f=""+(1==this.right.length?u(this.right[0]):"["+this.right.map(u).join(",")+"]"),f+=".some(function(b){return (",f+=g()+")"+a+"b})"}if("AND"===this.op){if(this.left.reduced){if(this.right.reduced)return"true";f=l()}else this.right.reduced&&(f=c());a="&&"}var h=f||"("+c()+a+l()+")",p="y=[("+i.join("), (")+")]";return"&&"===a||"||"===a||"IS"===a||"IS NULL"===a||"IS NOT NULL"===a?"("+p+", "+h+")":`(${p}, y.some(e => e == null) ? void 0 : ${h})`}}class m{constructor(e){t(this,e)}toString(){return"@"+this.variable}toType(){return"unknown"}toJS(){return"alasql.vars[\'"+d(this.variable)+"\']"}}class y{constructor(e){t(this,e)}toString(){return this.value.toString()}toType(){return"number"}toJS(){return""+this.value}}class b{constructor(e){t(this,e)}toString(){return"\'"+this.value.toString()+"\'"}toType(){return"string"}toJS(){return"\'"+d(this.value)+"\'"}}class E{constructor(e){t(this,e)}toString(){return"VALUE"}toType(){return"object"}toJS(e,t,r){return e}}class _{constructor(e){t(this,e)}toString(){return"ARRAY[]"}toType(){return"object"}toJS(e,t,r){return"[("+this.value.map((function(o){return o.toJS(e,t,r)})).join("), (")+")]"}}class S{constructor(e){t(this,e)}toString(){return this.value?"TRUE":"FALSE"}toType(){return"boolean"}toJS(){return this.value?"true":"false"}}class v{constructor(e){t(this,e)}toString(){return"NULL"}toJS(){return"undefined"}}class T{constructor(e){t(this,e)}toString(){return"$"+this.param}toJS(){return"string"==typeof this.param?"params[\'"+this.param+"\']":"params["+this.param+"]"}}const A={"~":"~","-":"-","+":"+",NOT:"!"};class N{constructor(e){t(this,e)}toString(){const{op:e,right:t}=this,r=t.toString();switch(e){case"~":case"-":case"+":case"#":return e+r;case"NOT":return e+"("+r+")";default:return"("+r+")"}}findAggregator(e){this.right.findAggregator&&this.right.findAggregator(e)}toType(){switch(this.op){case"-":case"+":return"number";case"NOT":return"boolean";default:return"string"}}toJS(e,t,r){if(this.right instanceof C&&"#"===this.op)return`(alasql.databases[alasql.useid].objects[\'${this.right.columnid}\'])`;const o=this.right.toJS(e,t,r);if(A.hasOwnProperty(this.op))return`(${A[this.op]}(${o}))`;if(null==this.op)return`(${o})`;throw new Error(`Unsupported operator: ${this.op}`)}}class C{constructor(e){t(this,e)}toString(){let e=this.columnid;return this.columnid==+this.columnid&&(e="["+this.columnid+"]"),this.tableid&&(e=this.tableid+(this.columnid===+this.columnid?"":".")+e,this.databaseid&&(e=this.databaseid+"."+e)),e}toJS(e,t,r){if(!this.tableid&&""===t&&!r)return"_"!==this.columnid?`${e}[\'${this.columnid}\']`:"g"===e?"g[\'_\']":e;if("g"===e)return`g[\'${this.nick}\']`;if(this.tableid)return"_"!==this.columnid?`${e}[\'${this.tableid}\'][\'${this.columnid}\']`:"g"===e?"g[\'_\']":`${e}[\'${this.tableid}\']`;if(r){const o=r[this.columnid];if("-"===o)throw new Error(`Cannot resolve column "${this.columnid}" because it exists in two source tables`);return o?"_"!==this.columnid?`${e}[\'${o}\'][\'${this.columnid}\']`:`${e}[\'${o}\']`:"_"!==this.columnid?`${e}[\'${this.tableid||t}\'][\'${this.columnid}\']`:`${e}[\'${this.tableid||t}\']`}return-1===t?`${e}[\'${this.columnid}\']`:"_"!==this.columnid?`${e}[\'${this.tableid||t}\'][\'${this.columnid}\']`:`${e}[\'${this.tableid||t}\']`}}class D{constructor(e){t(this,e)}toString(){return`${"REDUCE"===this.aggregatorid?this.funcid.replace(ue,""):this.aggregatorid}(${this.distinct?"DISTINCT ":""}${this.expression?this.expression.toString():""})${this.over?` ${this.over.toString()}`:""}`}findAggregator(e){const t=d(this.toString())+":"+e.selectGroup.length;this.nick||(this.nick=t,e.removeKeys.includes(t)||e.removeKeys.push(t)),e.selectGroup.push(this)}toType(){return["SUM","COUNT","AVG","MIN","MAX","AGGR","VAR","STDDEV","TOTAL"].includes(this.aggregatorid)?"number":"ARRAY"===this.aggregatorid?"array":this.expression.toType()}toJS(){var e=this.nick;return void 0===e&&(e=d(this.toString())),"g[\'"+e+"\']"}}class w{constructor(e){t(this,e)}}w.prototype.toString=n.prototype.toString;class R{constructor(e){t(this,e)}toString(){return this.type+"("+this.group.toString()+")"}}t(z,{AggrValue:D,ArrayValue:_,Column:C,DomainValueValue:E,Expression:n,ExpressionStatement:r,GroupExpression:R,JavaScript:i,Join:s,Literal:a,LogicValue:S,NullValue:v,NumValue:y,Op:p,OrderExpression:w,ParamValue:T,StringValue:b,Table:u,UniOp:N,VarValue:m,View:c})}z.FromData=function(e){return z.extend(this,e)},z.FromData.prototype.toString=function(){return this.data?"DATA("+(1e16*Math.random()|0)+")":"?"},z.FromData.prototype.toJS=function(){},z.Select.prototype.exec=function(e,t){this.preparams&&(e=this.preparams.concat(e));var r=o.useid,n=o.databases[r],i=this.toString(),a=S(i),s=this.compile(r);if(s)return s.sql=i,s.dbversion=n.dbversion,n.sqlCacheSize>o.MAXSQLCACHESIZE&&n.resetSqlCache(),n.sqlCacheSize++,n.sqlCache[a]=s,o.res=s(e,t)},z.Select.prototype.Select=function(){var e=this,t=[];if(arguments.length>1)t=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");t=Array.isArray(arguments[0])?arguments[0]:[arguments[0]]}return e.columns=[],t.forEach((function(t){if("string"==typeof t)e.columns.push(new z.Column({columnid:t}));else if("function"==typeof t){var r=0;e.preparams?r=e.preparams.length:e.preparams=[],e.preparams.push(t),e.columns.push(new z.Column({columnid:"*",func:t,param:r}))}})),e},z.Select.prototype.From=function(e){var t=this;if(t.from||(t.from=[]),Array.isArray(e)){var r=0;t.preparams?r=t.preparams.length:t.preparams=[],t.preparams.push(e),t.from.push(new z.ParamValue({param:r}))}else{if("string"!=typeof e)throw new Error("Unknown arguments in From() function");t.from.push(new z.Table({tableid:e}))}return t},z.Select.prototype.OrderBy=function(){var e=this,t=[];if(e.order=[],0==arguments.length)t=["_"];else if(arguments.length>1)t=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");t=Array.isArray(arguments[0])?arguments[0]:[arguments[0]]}return t.length>0&&t.forEach((function(t){var r=new z.Column({columnid:t});"function"==typeof t&&(r=t),e.order.push(new z.OrderExpression({expression:r,direction:"ASC"}))})),e},z.Select.prototype.Top=function(e){var t=this;return t.top=new z.NumValue({value:e}),t},z.Select.prototype.GroupBy=function(){var e=this,t=[];if(arguments.length>1)t=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");t=Array.isArray(arguments[0])?arguments[0]:[arguments[0]]}return e.group=[],t.forEach((function(t){var r=new z.Column({columnid:t});e.group.push(r)})),e},z.Select.prototype.Where=function(e){var t=this;return"function"==typeof e&&(t.where=e),t},z.FuncValue=function(e){return Object.assign(this,e)};let ue=/[^0-9A-Z_$]+/i;z.FuncValue.prototype.toString=function(){let e="";return o.fn[this.funcid]||o.aggr[this.funcid]?e+=this.funcid:(o.stdlib[this.funcid.toUpperCase()]||o.stdfn[this.funcid.toUpperCase()])&&(e+=this.funcid.toUpperCase().replace(ue,"")),"CURRENT_TIMESTAMP"!==this.funcid&&(e+="(",this.args&&this.args.length>0&&(e+=this.args.map((function(e){return e.toString()})).join(",")),e+=")"),e},z.FuncValue.prototype.execute=function(e,t,r){let n=1;return o.precompile(this,e,t),new Function("params,alasql","var y;return "+this.toJS("","",null))(t,o),r&&(n=r(n)),n},z.FuncValue.prototype.findAggregator=function(e){this.args&&this.args.length>0&&this.args.forEach((function(t){t.findAggregator&&t.findAggregator(e)}))},z.FuncValue.prototype.toJS=function(e,t,r){var n="",i=this.funcid;return!o.fn[i]&&o.stdlib[i.toUpperCase()]?this.args&&this.args.length>0?n+=o.stdlib[i.toUpperCase()].apply(this,this.args.map((function(r){return r.toJS(e,t)}))):n+=o.stdlib[i.toUpperCase()]():!o.fn[i]&&o.stdfn[i.toUpperCase()]?(this.newid&&(n+="new "),n+="alasql.stdfn["+JSON.stringify(this.funcid.toUpperCase())+"](",this.args&&this.args.length>0&&(n+=this.args.map((function(o){return o.toJS(e,t,r)})).join(",")),n+=")"):(this.newid&&(n+="new "),n+="alasql.fn["+JSON.stringify(this.funcid)+"](",this.args&&this.args.length>0&&(n+=this.args.map((function(o){return o.toJS(e,t,r)})).join(",")),n+=")"),n};var ce=o.stdlib={},le=o.stdfn={};const ge=(e,...t)=>`(${t.map(((e,t)=>`(y${t}=${e})==null`)).join("||")}?null:isNaN(y=${e})?null:y)`;ce.ABS=function(e){return ge("Math.abs(y0)",e)},ce.CLONEDEEP=function(e){return"alasql.utils.cloneDeep("+e+")"},le.CONCAT=function(){return Array.prototype.slice.call(arguments).join("")},ce.EXP=function(e){return ge("Math.pow(Math.E,y0)",e)},ce.IIF=function(e,t,r){if(3===arguments.length)return`((${e}) ? (${t}) : (${r}))`;throw new Error("Number of arguments of IFF is not equals to 3")},ce.IFNULL=function(e,t){return`((typeof ${e} === "undefined" || ${e} === null) ? ${t} : ${e})`},ce.INSTR=function(e,t){return`((${e}).indexOf(${t}) + 1)`},ce.LEN=ce.LENGTH=function(e){return l(e,"y.length")},ce.LOWER=ce.LCASE=function(e){return l(e,"String(y).toLowerCase()")},ce.LTRIM=function(e){return l(e,\'y.replace(/^[ ]+/,"")\')},ce.RTRIM=function(e){return l(e,\'y.replace(/[ ]+$/,"")\')},ce.MAX=ce.GREATEST=function(){return"["+Array.prototype.join.call(arguments,",")+"].reduce(function (a, b) { return a > b ? a : b; })"},ce.MIN=ce.LEAST=function(){return"["+Array.prototype.join.call(arguments,",")+"].reduce(function (a, b) { return a < b ? a : b; })"},ce.SUBSTRING=ce.SUBSTR=ce.MID=function(e,t,r){return 2==arguments.length?l(e,"y.substr("+t+"-1)"):3==arguments.length?l(e,"y.substr("+t+"-1,"+r+")"):void 0},le.REGEXP_LIKE=function(e,t,r){return(e||"").search(RegExp(t,r))>-1},ce.ISNULL=ce.NULLIF=function(e,t){return"("+e+"=="+t+"?undefined:"+e+")"},ce.POWER=function(e,t){return ge("Math.pow(y0,y1)",e,t)},ce.RANDOM=function(e){return 0==arguments.length?"Math.random()":"(Math.random()*("+e+")|0)"},ce.ROUND=function(e,t){return 2===arguments.length?ge("Math.round((y0)*Math.pow(10,(y1)))/Math.pow(10,(y1))",e,t):ge("Math.round(y0)",e)},ce.CEIL=ce.CEILING=function(e){return ge("Math.ceil(y0)",e)},ce.FLOOR=function(e){return ge("Math.floor(y0)",e)},ce.ROWNUM=function(){const e="this.rowNum["+Math.floor(1e3*Math.random())+"]";return`(${e}=(typeof ${e} === "undefined" ? 0 : ${e}) + 1)`},ce.ROW_NUMBER=ce.ROWNUM,ce.SQRT=function(e){return ge("Math.sqrt(y0)",e)},ce.TRIM=function(e){return l(e,"y.trim()")},ce.UPPER=ce.UCASE=function(e){return l(e,"String(y).toUpperCase()")},le.CONCAT_WS=function(){var e=Array.prototype.slice.call(arguments);return(e=e.filter((e=>!(null===e||typeof e>"u")))).slice(1,e.length).join(e[0]||"")},o.aggr.group_concat=o.aggr.GROUP_CONCAT=function(e,t,r){return 1===r?""+e:(2===r&&(t+=","+e),t)},o.aggr.median=o.aggr.MEDIAN=function(e,t,r){if(2===r)return null!==e&&t.push(e),t;if(1===r)return null===e?[]:[e];if(!t.length)return null;let o=t.sort(((e,t)=>e>t?1:e<t?-1:0)),n=(o.length+1)/2,i=0|n,a=o[i-1];return n!==i&&("number"==typeof a||a instanceof Number)?(a+o[i])/2:a},o.aggr.QUART=function(e,t,r,o){if(2===r)return null!==e&&t.push(e),t;if(1===r)return null===e?[]:[e];if(!t.length)return t;o=o||1;var n=t.sort((function(e,t){return e===t?0:e>t?1:-1}));let i=o*(n.length+1)/4;return Number.isInteger(i)?n[i-1]:n[Math.floor(i)]},o.aggr.QUART2=function(e,t,r){return o.aggr.QUART(e,t,r,2)},o.aggr.QUART3=function(e,t,r){return o.aggr.QUART(e,t,r,3)},o.aggr.VAR=function(e,t,r){return 1===r?null===e?{sum:0,sumSq:0,count:0}:{sum:e,sumSq:e*e,count:1}:2===r?(null!==e&&(t.sum+=e,t.sumSq+=e*e,t.count++),t):t.count>1?(t.sumSq-t.sum*t.sum/t.count)/(t.count-1):0},o.aggr.STDEV=function(e,t,r){return 1===r||2===r?o.aggr.VAR(e,t,r):Math.sqrt(o.aggr.VAR(e,t,r))},o.aggr.STDEV=function(e,t,r){return 1===r||2===r?o.aggr.VAR(e,t,r):Math.sqrt(o.aggr.VAR(e,t,r))},o.aggr.VARP=function(e,t,r){if(1===r)return{count:1,sum:e,sumSq:e*e};if(2===r)return t.count++,t.sum+=e,t.sumSq+=e*e,t;if(t.count>0){const e=t.sum/t.count;return t.sumSq/t.count-e*e}return 0},o.aggr.STD=o.aggr.STDDEV=o.aggr.STDEVP=function(e,t,r){return 1==r||2==r?o.aggr.VARP(e,t,r):Math.sqrt(o.aggr.VARP(e,t,r))},o._aggrOriginal=o.aggr,o.aggr={},Object.keys(o._aggrOriginal).forEach((function(e){o.aggr[e]=function(t,r,n){if(!(3===n&&typeof r>"u"))return o._aggrOriginal[e].apply(null,arguments)}})),le.REPLACE=function(e,t,r){return(e||"").split(t).join(r)};for(var de=[],fe=0;fe<256;fe++)de[fe]=(fe<16?"0":"")+fe.toString(16);le.NEWID=le.UUID=le.GEN_RANDOM_UUID=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return de[255&e]+de[e>>8&255]+de[e>>16&255]+de[e>>24&255]+"-"+de[255&t]+de[t>>8&255]+"-"+de[t>>16&15|64]+de[t>>24&255]+"-"+de[63&r|128]+de[r>>8&255]+"-"+de[r>>16&255]+de[r>>24&255]+de[255&o]+de[o>>8&255]+de[o>>16&255]+de[o>>24&255]},z.CaseValue=function(e){return Object.assign(this,e)},z.CaseValue.prototype.toString=function(){var e="CASE ";return this.expression&&(e+=this.expression.toString()),this.whens&&(e+=this.whens.map((function(e){return" WHEN "+e.when.toString()+" THEN "+e.then.toString()})).join()),e+=" END"},z.CaseValue.prototype.findAggregator=function(e){this.expression&&this.expression.findAggregator&&this.expression.findAggregator(e),this.whens&&this.whens.length>0&&this.whens.forEach((function(t){t.when.findAggregator&&t.when.findAggregator(e),t.then.findAggregator&&t.then.findAggregator(e)})),this.elses&&this.elses.findAggregator&&this.elses.findAggregator(e)},z.CaseValue.prototype.toJS=function(e,t,r){let o=`(((${e}, params, alasql) => {\\n        let y, r;`;return this.expression?(o+=`let v = ${this.expression.toJS(e,t,r)};`,this.whens.forEach(((n,i)=>{const a=`v == ${n.when.toJS(e,t,r)}`,s=`r = ${n.then.toJS(e,t,r)}`;o+=`${0===i?"if":" else if"} (${a}) { ${s}; }`}))):this.whens.forEach(((n,i)=>{const a=n.when.toJS(e,t,r),s=`r = ${n.then.toJS(e,t,r)}`;o+=`${0===i?"if":" else if"} (${a}) { ${s}; }`})),this.elses&&(o+=` else { r = ${this.elses.toJS(e,t,r)}; }`),o+="; return r; }))("+e+", params, alasql)",o},z.Json=function(e){return Object.assign(this,e)},z.Json.prototype.toString=function(){var e="";return e+=he(this.value),e+=""};const he=o.utils.JSONtoString=function(e){if("string"==typeof e)return`"${e}"`;if("number"==typeof e||"boolean"==typeof e)return String(e);if(Array.isArray(e))return`[${e.map((e=>he(e))).join(",")}]`;if("object"==typeof e){if(!e.toJS||e instanceof z.Json){const t=[];for(const r in e){const o="string"==typeof r?`"${r}"`:String(r),n=he(e[r]);t.push(`${o}:${n}`)}return`{${t.join(",")}}`}if(e.toString)return e.toString();throw new Error(`1: Cannot show JSON object ${JSON.stringify(e)}`)}throw new Error(`2: Cannot show JSON object ${JSON.stringify(e)}`)};function pe(e,t,r,o){var n="";if("string"==typeof e)n=\'"\'+e+\'"\';else if("number"==typeof e)n="("+e+")";else if("boolean"==typeof e)n=e;else{if("object"!=typeof e)throw new Error("2Can not parse JSON object "+JSON.stringify(e));if(Array.isArray(e))n+=`[${e.map((e=>pe(e,t,r,o))).join(",")}]`;else if(!e.toJS||e instanceof z.Json){let i=[];for(const n in e){let a="string"==typeof n?`"${n}"`:n.toString(),s=pe(e[n],t,r,o);i.push(`${a}:${s}`)}n=`{${i.join(",")}}`}else{if(!e.toJS)throw new Error(`Cannot parse JSON object ${JSON.stringify(e)}`);n=e.toJS(t,r,o)}}return n}function me(e){var t=e.getMonth()+1,r=e.getYear(),o=e.getFullYear(),n=e.getDate();return{month:t,year:r,fullYear:o,date:n,day:e.toString().substr(4,3),formattedDate:("0"+n).substr(-2),formattedMonth:("0"+t).substr(-2),formattedYear:("0"+r).substr(-2),formattedHour:("0"+e.getHours()).substr(-2),formattedMinutes:("0"+e.getMinutes()).substr(-2),formattedSeconds:("0"+e.getSeconds()).substr(-2),formattedMilliseconds:("00"+e.getMilliseconds()).substr(-3)}}z.Json.prototype.toJS=function(e,t,r){return pe(this.value,e,t,r)},z.Convert=function(e){return Object.assign(this,e)},z.Convert.prototype.toString=function(){var e="CONVERT(";return e+=this.dbtypeid,typeof this.dbsize<"u"&&(e+="("+this.dbsize,this.dbprecision&&(e+=","+this.dbprecision),e+=")"),e+=","+this.expression.toString(),this.style&&(e+=","+this.style),e+=")"},z.Convert.prototype.toJS=function(e,t,r){return`alasql.stdfn.CONVERT(${this.expression.toJS(e,t,r)}, {\\n        dbtypeid: "${this.dbtypeid}",\\n        dbsize: ${this.dbsize},\\n        dbprecision: ${this.dbprecision},\\n        style: ${this.style}\\n    })`},o.stdfn.CONVERT=function(e,t){var r,o,n=e,i=t.dbtypeid?.toUpperCase();if((t.style||"Date"==t.dbtypeid||["DATE","DATETIME","DATETIME2"].indexOf(i)>-1)&&(o=me(r="string"==typeof n&&/\\d{8}/.test(n)?new Date(+n.substr(0,4),+n.substr(4,2)-1,+n.substr(6,2)):Ee(n))),t.style)switch(t.style){case 1:n=o.formattedMonth+"/"+o.formattedDate+"/"+o.formattedYear;break;case 2:n=o.formattedYear+"."+o.formattedMonth+"."+o.formattedDate;break;case 3:n=o.formattedDate+"/"+o.formattedMonth+"/"+o.formattedYear;break;case 4:n=o.formattedDate+"."+o.formattedMonth+"."+o.formattedYear;break;case 5:n=o.formattedDate+"-"+o.formattedMonth+"-"+o.formattedYear;break;case 6:n=o.formattedDate+" "+o.day.toLowerCase()+" "+o.formattedYear;break;case 7:n=o.day+" "+o.formattedDate+","+o.formattedYear;break;case 8:case 108:n=o.formattedHour+":"+o.formattedMinutes+":"+o.formattedSeconds;break;case 10:n=o.formattedMonth+"-"+o.formattedDate+"-"+o.formattedYear;break;case 11:n=o.formattedYear+"/"+o.formattedMonth+"/"+o.formattedDate;break;case 12:n=o.formattedYear+o.formattedMonth+o.formattedDate;break;case 101:n=o.formattedMonth+"/"+o.formattedDate+"/"+o.fullYear;break;case 102:n=o.fullYear+"."+o.formattedMonth+"."+o.formattedDate;break;case 103:n=o.formattedDate+"/"+o.formattedMonth+"/"+o.fullYear;break;case 104:n=o.formattedDate+"."+o.formattedMonth+"."+o.fullYear;break;case 105:n=o.formattedDate+"-"+o.formattedMonth+"-"+o.fullYear;break;case 106:n=o.formattedDate+" "+o.day.toLowerCase()+" "+o.fullYear;break;case 107:n=o.day+" "+o.formattedDate+","+o.fullYear;break;case 110:n=o.formattedMonth+"-"+o.formattedDate+"-"+o.fullYear;break;case 111:n=o.fullYear+"/"+o.formattedMonth+"/"+o.formattedDate;break;case 112:n=o.fullYear+o.formattedMonth+o.formattedDate;break;default:throw new Error("The CONVERT style "+t.style+" is not realized yet.")}if("Date"==t.dbtypeid)return r;switch(i){case"DATE":return`${o.formattedYear}.${o.formattedMonth}.${o.formattedDate}`;case"DATETIME":case"DATETIME2":return`${o.fullYear}.${o.formattedMonth}.${o.formattedDate} ${o.formattedHour}:${o.formattedMinutes}:${o.formattedSeconds}.${o.formattedMilliseconds}`;case"MONEY":return(0|(a=+n))+100*a%100/100;case"BOOLEAN":return!!n;case"INT":case"INTEGER":case"SMALLINT":case"BIGINT":case"SERIAL":case"SMALLSERIAL":case"BIGSERIAL":return 0|n;case"STRING":case"VARCHAR":case"NVARCHAR":case"CHARACTER VARIABLE":return t.dbsize?String(n).substr(0,t.dbsize):String(n);case"CHAR":case"CHARACTER":case"NCHAR":return(n+" ".repeat(t.dbsize)).substr(0,t.dbsize);case"NUMBER":case"FLOAT":case"DECIMAL":case"NUMERIC":var a=+n;return void 0!==t.dbsize&&(a=parseFloat(a.toPrecision(t.dbsize))),void 0!==t.dbprecision&&(a=parseFloat(a.toFixed(t.dbprecision))),a;case"JSON":if("object"==typeof n)return n;try{return JSON.parse(n)}catch{throw new Error("Cannot convert string to JSON")}default:return n}},z.ColumnDef=function(e){return Object.assign(this,e)},z.ColumnDef.prototype.toString=function(){let e=this.columnid;return this.dbtypeid&&(e+=" "+this.dbtypeid),this.dbsize&&(e+="("+this.dbsize,this.dbprecision&&(e+=","+this.dbprecision),e+=")"),this.primarykey&&(e+=" PRIMARY KEY"),this.notnull&&(e+=" NOT NULL"),e},z.CreateTable=function(e){return Object.assign(this,e)},z.CreateTable.prototype.toString=function(){let e=`CREATE${this.temporary?" TEMPORARY":""}${this.view?" VIEW":" "+(this.class?"CLASS":"TABLE")}${this.ifnotexists?" IF NOT EXISTS":""} ${this.table.toString()}`;return this.viewcolumns&&(e+=`(${this.viewcolumns.map((e=>e.toString())).join(",")})`),this.as?e+=` AS ${this.as}`:e+=` (${this.columns.map((e=>e.toString())).join(",")})`,this.view&&this.select&&(e+=` AS ${this.select.toString()}`),e},z.CreateTable.prototype.execute=function(e,t,r){var n=o.databases[this.table.databaseid||e],i=this.table.tableid;if(!i)throw new Error("Table name is not defined");var a=this.columns,s=this.constraints||[];if(this.ifnotexists&&n.tables[i])return r?r(0):0;if(n.tables[i])throw new Error("Can not create table \'"+i+"\', because it already exists in the database \'"+n.databaseid+"\'");var u=n.tables[i]=new o.Table;this.class&&(u.isclass=!0);var c,l=[],g=[];if(a&&a.forEach((function(t){var r=t.dbtypeid;o.fn[r]||(r=r.toUpperCase()),["SERIAL","SMALLSERIAL","BIGSERIAL"].indexOf(r)>-1&&(t.identity={value:1,step:1});var n={columnid:t.columnid,dbtypeid:r,dbsize:t.dbsize,dbprecision:t.dbprecision,notnull:t.notnull,identity:t.identity};if(t.identity&&(u.identities[t.columnid]={value:+t.identity.value,step:+t.identity.step}),t.check&&u.checks.push({id:t.check.constrantid,fn:new Function("r","var y;return "+t.check.expression.toJS("r",""))}),t.default&&l.push(JSON.stringify(""+t.columnid)+":"+t.default.toJS("r","")),t.primarykey){var i=u.pk={};i.columns=[t.columnid],i.onrightfns=`r[${JSON.stringify(t.columnid)}]`,i.onrightfn=new Function("r","var y;return "+i.onrightfns),i.hh=S(i.onrightfns),u.uniqs[i.hh]={}}if(t.unique){var a={};u.uk=u.uk||[],u.uk.push(a),a.columns=[t.columnid],a.onrightfns=`r[${JSON.stringify(t.columnid)}]`,a.onrightfn=new Function("r","var y;return "+a.onrightfns),a.hh=S(a.onrightfns),u.uniqs[a.hh]={}}if(t.foreignkey){var s=t.foreignkey.table,c=o.databases[s.databaseid||e].tables[s.tableid];if(typeof s.columnid>"u"){if(!(c.pk.columns&&c.pk.columns.length>0))throw new Error("FOREIGN KEY allowed only to tables with PRIMARY KEYs");s.columnid=c.pk.columns[0]}var d=function(e){var r={};if(typeof e[t.columnid]>"u")return!0;r[s.columnid]=e[t.columnid];var o=c.pk.onrightfn(r);if(!c.uniqs[c.pk.hh][o])throw new Error("Foreign key violation");return!0};u.checks.push({fn:d})}t.onupdate&&g.push(`r[${JSON.stringify(t.columnid)}]=`+t.onupdate.toJS("r","")),u.columns.push(n),u.xcolumns[n.columnid]=n})),u.defaultfns=l.join(","),u.onupdatefns=g.join(";"),s.forEach((function(t){var r;if("PRIMARY KEY"===t.type){if(u.pk)throw new Error("Primary key already exists");var n=u.pk={};n.columns=t.columns,n.onrightfns=n.columns.map((function(e){return`r[${JSON.stringify(e)}]`})).join("+\'`\'+"),n.onrightfn=new Function("r","var y;return "+n.onrightfns),n.hh=S(n.onrightfns),u.uniqs[n.hh]={}}else if("CHECK"===t.type)r=new Function("r","var y;return "+t.expression.toJS("r",""));else if("UNIQUE"===t.type){var i={};u.uk=u.uk||[],u.uk.push(i),i.columns=t.columns,i.onrightfns=i.columns.map((function(e){return`r[${JSON.stringify(e)}]`})).join("+\'`\'+"),i.onrightfn=new Function("r","var y;return "+i.onrightfns),i.hh=S(i.onrightfns),u.uniqs[i.hh]={}}else if("FOREIGN KEY"===t.type){var a=t.fktable;t.fkcolumns&&t.fkcolumns.length>0&&(a.fkcolumns=t.fkcolumns);var s=o.databases[a.databaseid||e].tables[a.tableid];if(typeof a.fkcolumns>"u"&&(a.fkcolumns=s.pk.columns),a.columns=t.columns,a.fkcolumns.length>a.columns.length)throw new Error("Invalid foreign key on table "+u.tableid);r=function(t){var r={};if(a.fkcolumns.forEach((function(e,o){null!=t[a.columns[o]]&&(r[e]=t[a.columns[o]])})),0===Object.keys(r).length)return!0;if(Object.keys(r).length!==a.columns.length)throw new Error("Invalid foreign key on table "+u.tableid);var n=o.databases[a.databaseid||e].tables[a.tableid],i=n.pk.onrightfn(r);if(!n.uniqs[n.pk.hh][i])throw new Error("Foreign key violation");return!0}}r&&u.checks.push({fn:r,id:t.constraintid,fk:"FOREIGN KEY"===t.type})})),this.view&&this.viewcolumns){var d=this;this.viewcolumns.forEach((function(e,t){d.select.columns[t].as=e.columnid}))}return this.view&&this.select&&(u.view=!0,u.select=this.select.compile(this.table.databaseid||e)),n.engineid?o.engines[n.engineid].createTable(this.table.databaseid||e,i,this.ifnotexists,r):(u.insert=function(r,n){var i=o.inserted;o.inserted=[r];var a=this,s=!1,u=!1;for(var c in a.beforeinsert)(p=a.beforeinsert[c])&&(p.funcid?!1===o.fn[p.funcid](r)&&(u=u||!0):p.statement&&!1===p.statement.execute(e)&&(u=u||!0));if(!u){var l=!1;for(c in a.insteadofinsert)l=!0,(p=a.insteadofinsert[c])&&(p.funcid?o.fn[p.funcid](r):p.statement&&p.statement.execute(e));if(!l){for(var g in a.identities){var d=a.identities[g];r[g]=d.value}if(a.checks&&a.checks.length>0&&a.checks.forEach((function(e){if(!e.fn(r))throw new Error("Violation of CHECK constraint "+(e.id||""))})),a.columns.forEach((function(e){if(e.notnull&&typeof r[e.columnid]>"u")throw new Error("Wrong NULL value in NOT NULL column "+e.columnid)})),a.pk){var f=(h=a.pk).onrightfn(r);if(typeof a.uniqs[h.hh][f]<"u"){if(!n)throw new Error("Cannot insert record, because it already exists in primary key index");s=a.uniqs[h.hh][f]}}if(a.uk&&a.uk.length&&a.uk.forEach((function(e){var t=e.onrightfn(r);if(typeof a.uniqs[e.hh][t]<"u"){if(!n)throw new Error("Cannot insert record, because it already exists in unique index");s=a.uniqs[e.hh][t]}})),s)a.update((function(e){for(var t in r)e[t]=r[t]}),a.data.indexOf(s),t);else{for(var g in a.data.push(r),a.identities)(d=a.identities[g]).value+=d.step;var h;if(a.pk)f=(h=a.pk).onrightfn(r),a.uniqs[h.hh][f]=r;a.uk&&a.uk.length&&a.uk.forEach((function(e){var t=e.onrightfn(r);a.uniqs[e.hh][t]=r}))}for(var c in a.afterinsert){var p;(p=a.afterinsert[c])&&(p.funcid?o.fn[p.funcid](r):p.statement&&p.statement.execute(e))}o.inserted=i}}},u.delete=function(t){var r=this,n=r.data[t],i=!1;for(var a in r.beforedelete)(u=r.beforedelete[a])&&(u.funcid?!1===o.fn[u.funcid](n)&&(i=i||!0):u.statement&&!1===u.statement.execute(e)&&(i=i||!0));if(i)return!1;var s=!1;for(var a in r.insteadofdelete){var u;s=!0,(u=r.insteadofdelete[a])&&(u.funcid?o.fn[u.funcid](n):u.statement&&u.statement.execute(e))}if(!s){if(this.pk){var c=this.pk,l=c.onrightfn(n);if(typeof this.uniqs[c.hh][l]>"u")throw new Error("Something wrong with primary key index on table");this.uniqs[c.hh][l]=void 0}r.uk&&r.uk.length&&r.uk.forEach((function(e){var t=e.onrightfn(n);if(typeof r.uniqs[e.hh][t]>"u")throw new Error("Something wrong with unique index on table");r.uniqs[e.hh][t]=void 0}))}},u.deleteall=function(){this.data.length=0,this.pk&&(this.uniqs[this.pk.hh]={}),u.uk&&u.uk.length&&u.uk.forEach((function(e){u.uniqs[e.hh]={}}))},u.update=function(t,r,n){var i,a=w(this.data[r]);if(this.pk&&((i=this.pk).pkaddr=i.onrightfn(a,n),typeof this.uniqs[i.hh][i.pkaddr]>"u"))throw new Error("Something wrong with index on table");u.uk&&u.uk.length&&u.uk.forEach((function(e){if(e.ukaddr=e.onrightfn(a),typeof u.uniqs[e.hh][e.ukaddr]>"u")throw new Error("Something wrong with unique index on table")})),t(a,n,o);var s=!1;for(var c in u.beforeupdate)(g=u.beforeupdate[c])&&(g.funcid?!1===o.fn[g.funcid](this.data[r],a)&&(s=s||!0):g.statement&&!1===g.statement.execute(e)&&(s=s||!0));if(s)return!1;var l=!1;for(var c in u.insteadofupdate)l=!0,(g=u.insteadofupdate[c])&&(g.funcid?o.fn[g.funcid](this.data[r],a):g.statement&&g.statement.execute(e));if(!l){if(u.checks&&u.checks.length>0&&u.checks.forEach((function(e){if(!e.fn(a))throw new Error("Violation of CHECK constraint "+(e.id||""))})),u.columns.forEach((function(e){if(e.notnull&&typeof a[e.columnid]>"u")throw new Error("Wrong NULL value in NOT NULL column "+e.columnid)})),this.pk&&(i.newpkaddr=i.onrightfn(a),typeof this.uniqs[i.hh][i.newpkaddr]<"u"&&i.newpkaddr!==i.pkaddr))throw new Error("Record already exists");for(var c in u.uk&&u.uk.length&&u.uk.forEach((function(e){if(e.newukaddr=e.onrightfn(a),typeof u.uniqs[e.hh][e.newukaddr]<"u"&&e.newukaddr!==e.ukaddr)throw new Error("Record already exists")})),this.pk&&(this.uniqs[i.hh][i.pkaddr]=void 0,this.uniqs[i.hh][i.newpkaddr]=a),u.uk&&u.uk.length&&u.uk.forEach((function(e){u.uniqs[e.hh][e.ukaddr]=void 0,u.uniqs[e.hh][e.newukaddr]=a})),this.data[r]=a,u.afterupdate){var g;(g=u.afterupdate[c])&&(g.funcid?o.fn[g.funcid](this.data[r],a):g.statement&&g.statement.execute(e))}}},o.options.nocount||(c=1),r&&(c=r(c)),c)},o.fn.Date=Object,o.fn.Date=Date,o.fn.Number=Number,o.fn.String=String,o.fn.Boolean=Boolean,le.EXTEND=o.utils.extend,le.CHAR=String.fromCharCode.bind(String),le.ASCII=function(e){return e.charCodeAt(0)},le.COALESCE=function(){for(var e=0;e<arguments.length;e++)if(!(null===arguments[e]||typeof arguments[e]>"u"||"number"==typeof arguments[e]&&isNaN(arguments[e])))return arguments[e]},le.USER=function(){return"alasql"},le.OBJECT_ID=function(e){return!!o.tables[e]},le.DATE=function(e){return isNaN(e)||8!==e.length?Ee(e):new Date(+e.substr(0,4),+e.substr(4,2)-1,+e.substr(6,2))},le.NOW=function(){if(o.options.dateAsString){var e=new Date,t=e.getFullYear()+"."+("0"+(e.getMonth()+1)).substr(-2)+"."+("0"+e.getDate()).substr(-2);return t+=" "+("0"+e.getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2),t+="."+("00"+e.getMilliseconds()).substr(-3)}return new Date},le.GETDATE=le.NOW,le.CURRENT_TIMESTAMP=le.NOW,le.CURDATE=le.CURRENT_DATE=function(){var e=new Date;return e.setHours(0,0,0,0),o.options.dateAsString?e.getFullYear()+"-"+("0"+(e.getMonth()+1)).substr(-2)+"-"+("0"+e.getDate()).substr(-2):e},le.SECOND=function(e){return(e=Ee(e)).getSeconds()},le.MINUTE=function(e){return(e=Ee(e)).getMinutes()},le.HOUR=function(e){return(e=Ee(e)).getHours()},le.DAYOFWEEK=le.WEEKDAY=function(e){return(e=Ee(e)).getDay()},le.DAY=le.DAYOFMONTH=function(e){return(e=Ee(e)).getDate()},le.MONTH=function(e){return(e=Ee(e)).getMonth()+1},le.YEAR=function(e){return(e=Ee(e)).getFullYear()};var ye={year:31536e6,quarter:7884e6,month:2592e6,week:6048e5,day:864e5,dayofyear:864e5,weekday:864e5,hour:36e5,minute:6e4,second:1e3,millisecond:1,microsecond:.001};o.stdfn.DATEDIFF=function(e,t,r){return(Ee(r).getTime()-Ee(t).getTime())/ye[e.toLowerCase()]|0},o.stdfn.DATEADD=function(e,t,r){var o=Ee(r);switch(e=e.toLowerCase()){case"day":o.setDate(o.getDate()+t);break;case"year":o.setFullYear(o.getFullYear()+t);break;case"quarter":o.setMonth(o.getMonth()+3*t);break;case"month":o.setMonth(o.getMonth()+t);break;default:o=new Date(o.getTime()+t*ye[e])}return o},o.stdfn.INTERVAL=function(e,t){return e*ye[t.toLowerCase()]},o.stdfn.DATE_ADD=o.stdfn.ADDDATE=function(e,t){var r=Ee(e).getTime()+t;return new Date(r)},o.stdfn.DATE_SUB=o.stdfn.SUBDATE=function(e,t){var r=Ee(e).getTime()-t;return new Date(r)};var be=/^(?<year>\\d{4})[-\\.](?<month>\\d{1,2})[-\\.](?<day>\\d{1,2})( (?<hours>\\d{2}):(?<minutes>\\d{2})(:(?<seconds>\\d{2})(\\.(?<milliseconds>)\\d{3})?)?)?/;function Ee(e){let t=new Date(e);if(isNaN(t)&&"string"==typeof e){const r=e.match(be);if(r){const{year:e,month:o,day:n,hours:i,minutes:a,seconds:s,milliseconds:u}=r.groups,c=[e,o-1,n];i&&c.push(i,a,s||0,u||0),t=new Date(...c)}}return t}z.DropTable=function(e){return Object.assign(this,e)},z.DropTable.prototype.toString=function(){var e="DROP ";return this.view?e+="VIEW":e+="TABLE",this.ifexists&&(e+=" IF EXISTS"),e+=" "+this.tables.toString()},z.DropTable.prototype.execute=function(e,t,r){var n=this.ifexists,i=0,a=0,s=this.tables.length;return this.tables.forEach((function(t){var u=o.databases[t.databaseid||e],c=t.tableid;if(!n||n&&u.tables[c]){if(u.tables[c])u.engineid?o.engines[u.engineid].dropTable(t.databaseid||e,c,n,(function(e){delete u.tables[c],i+=e,++a==s&&r&&r(i)})):(delete u.tables[c],i++,++a==s&&r&&r(i));else if(!o.options.dropifnotexists)throw new Error(`Can not drop table ${JSON.stringify(t.tableid)} because it does not exist in the database.`)}else++a==s&&r&&r(i)})),i},z.TruncateTable=function(e){return Object.assign(this,e)},z.TruncateTable.prototype.toString=function(){var e="TRUNCATE TABLE";return e+=" "+this.table.toString()},z.TruncateTable.prototype.execute=function(e,t,r){var n=o.databases[this.table.databaseid||e],i=this.table.tableid;if(n.engineid)return o.engines[n.engineid].truncateTable(this.table.databaseid||e,i,this.ifexists,r);if(!n.tables[i])throw new Error("Cannot truncate table becaues it does not exist");return n.tables[i].data=[],r?r(0):0},z.CreateVertex=function(e){return Object.assign(this,e)},z.CreateVertex.prototype.toString=function(){var e="CREATE VERTEX ";return this.class&&(e+=this.class+" "),this.sharp&&(e+="#"+this.sharp+" "),this.sets?e+=this.sets.toString():this.content?e+=this.content.toString():this.select&&(e+=this.select.toString()),e},z.CreateVertex.prototype.toJS=function(e){return"this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")"},z.CreateVertex.prototype.compile=function(e){var t=e,r=this.sharp;if(typeof this.name<"u")var n="x.name="+this.name.toJS(),i=new Function("x",n);if(this.sets&&this.sets.length>0){n=this.sets.map((function(e){return`x[${JSON.stringify(e.column.columnid)}]=`+e.expression.toJS("x","")})).join(";");var a=new Function("x,params,alasql",n)}return function(e,n){var s,u=o.databases[t],c={$id:typeof r<"u"?r:u.counter++,$node:"VERTEX"};return u.objects[c.$id]=c,s=c,i&&i(c),a&&a(c,e,o),n&&(s=n(s)),s}},z.CreateEdge=function(e){return Object.assign(this,e)},z.CreateEdge.prototype.toString=function(){var e="CREATE EDGE ";return this.class&&(e+=this.class+" "),e},z.CreateEdge.prototype.toJS=function(e){return"this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")"},z.CreateEdge.prototype.compile=function(e){var t=e,r=new Function("params,alasql","var y;return "+this.from.toJS()),n=new Function("params,alasql","var y;return "+this.to.toJS());if(typeof this.name<"u")var i="x.name="+this.name.toJS(),a=new Function("x",i);if(this.sets&&this.sets.length>0){i=this.sets.map((function(e){return`x[${JSON.stringify(e.column.columnid)}]=`+e.expression.toJS("x","")})).join(";");var s=new Function("x,params,alasql","var y;"+i)}return(e,i)=>{let u=0,c=o.databases[t],l={$id:c.counter++,$node:"EDGE"},g=r(e,o),d=n(e,o);return l.$in=[g.$id],l.$out=[d.$id],g.$out=g.$out||[],g.$out.push(l.$id),d.$in=d.$in||[],d.$in.push(l.$id),c.objects[l.$id]=l,u=l,a?.(l),s?.(l,e,o),i?i(u):u}},z.CreateGraph=function(e){return Object.assign(this,e)},z.CreateGraph.prototype.toString=function(){var e="CREATE GRAPH ";return this.class&&(e+=this.class+" "),e},z.CreateGraph.prototype.execute=function(e,t,r){var n=[];return this.from&&o.from[this.from.funcid]&&(this.graph=o.from[this.from.funcid.toUpperCase()]),this.graph.forEach((r=>{if(r.source){let s={};void 0!==r.as&&(o.vars[r.as]=s),void 0!==r.prop&&(s.name=r.prop),void 0!==r.sharp&&(s.$id=r.sharp),void 0!==r.name&&(s.name=r.name),void 0!==r.class&&(s.$class=r.class);let u=o.databases[e];s.$id=void 0!==s.$id?s.$id:u.counter++,s.$node="EDGE",void 0!==r.json&&Object.assign(s,new Function("params, alasql",`return ${r.json.toJS()}`)(t,o));const c=(e,t)=>{let r,n;if(e.vars)n=o.vars[e.vars],r="object"==typeof n?n:u.objects[n];else{let t=e.sharp||e.prop;r=u.objects[t],void 0===r&&o.options.autovertex&&(e.prop||e.name)&&(r=i(e.prop||e.name)||a(e))}return t&&r&&typeof r.$out>"u"&&(r.$out=[]),!t&&r&&typeof r.$in>"u"&&(r.$in=[]),r};let l=c(r.source,!0),g=c(r.target,!1);if(s.$in=[l.$id],s.$out=[g.$id],l.$out.push(s.$id),g.$in.push(s.$id),u.objects[s.$id]=s,void 0!==s.$class){let t=o.databases[e].tables[s.$class];if(void 0===t)throw new Error("No such class. Please use CREATE CLASS");t.data.push(s)}n.push(s.$id)}else a(r)})),r&&(n=r(n)),n;function i(e){var t=o.databases[o.useid].objects;for(var r in t)if(t[r].name===e)return t[r]}function a(r){var i={};typeof r.as<"u"&&(o.vars[r.as]=i),typeof r.prop<"u"&&(i.$id=r.prop,i.name=r.prop),typeof r.sharp<"u"&&(i.$id=r.sharp),typeof r.name<"u"&&(i.name=r.name),typeof r.class<"u"&&(i.$class=r.class);var a=o.databases[e];if(typeof i.$id>"u"&&(i.$id=a.counter++),i.$node="VERTEX",typeof r.json<"u"&&O(i,new Function("params,alasql","var y;return "+r.json.toJS())(t,o)),a.objects[i.$id]=i,typeof i.$class<"u"){if(typeof o.databases[e].tables[i.$class]>"u")throw new Error("No such class. Pleace use CREATE CLASS");o.databases[e].tables[i.$class].data.push(i)}return n.push(i.$id),i}},z.CreateGraph.prototype.compile1=function(e){const t=e,r=new Function("params, alasql",`return ${this.from.toJS()}`),n=new Function("params, alasql",`return ${this.to.toJS()}`);let i,a;if(void 0!==this.name){const e=`x.name = ${this.name.toJS()}`;i=new Function("x",e)}if(this.sets&&this.sets.length>0){const e=this.sets.map((e=>`x[${JSON.stringify(e.column.columnid)}] = ${e.expression.toJS("x","")}`)).join(";");a=new Function("x, params, alasql",`var y; ${e}`)}return(e,s)=>{let u=0;const c=o.databases[t],l={$id:c.counter++,$node:"EDGE"},g=r(e,o),d=n(e,o);return l.$in=[g.$id],l.$out=[d.$id],g.$out=g.$out||[],g.$out.push(l.$id),d.$in=d.$in||[],d.$in.push(l.$id),c.objects[l.$id]=l,u=l,i&&i(l),a&&a(l,e,o),s&&(u=s(u)),u}},z.AlterTable=function(e){return Object.assign(this,e)},z.AlterTable.prototype.toString=function(){let e="ALTER TABLE "+this.table.toString();return this.renameto&&(e+=" RENAME TO "+this.renameto),e},z.AlterTable.prototype.execute=function(e,t,r){let n=o.databases[e];if(n.dbversion=Date.now(),this.renameto){var i=this.table.tableid,a=this.renameto,s=1;if(n.tables[a])throw new Error(`Can not rename a table "${i}" to "${a}" because the table with this name already exists`);if(a===i)throw new Error(`Can not rename a table "${i}" to itself`);return n.tables[a]=n.tables[i],delete n.tables[i],s=1,r&&r(s),s}if(this.addcolumn){n=o.databases[this.table.databaseid||e],n.dbversion++;var u=this.table.tableid,c=n.tables[u],l=this.addcolumn.columnid;if(c.xcolumns[l])throw new Error(`Cannot add column "${l}" because it already exists in table "${u}"`);var g={columnid:l,dbtypeid:this.addcolumn.dbtypeid,dbsize:this.dbsize,dbprecision:this.dbprecision,dbenum:this.dbenum,defaultfns:null},d=function(){};c.columns.push(g),c.xcolumns[l]=g;for(let e=0,t=c.data.length;e<t;e++)c.data[e][l]=d();return r?r(1):1}if(this.modifycolumn){let t=o.databases[this.table.databaseid||e];if(t.dbversion++,u=this.table.tableid,c=t.tables[u],l=this.modifycolumn.columnid,!c.xcolumns[l])throw new Error(`Cannot modify column "${l}" because it was not found in table "${u}"`);return(g=c.xcolumns[l]).dbtypeid=this.dbtypeid,g.dbsize=this.dbsize,g.dbprecision=this.dbprecision,g.dbenum=this.dbenum,r?r(1):1}if(this.renamecolumn){let t=o.databases[this.table.databaseid||e];t.dbversion++,u=this.table.tableid,c=t.tables[u],l=this.renamecolumn;var f=this.to;if(!c.xcolumns[l])throw new Error(\'Column "\'+l+\'" is not found in the table "\'+u+\'"\');if(c.xcolumns[f])throw new Error(\'Column "\'+f+\'" already exists in the table "\'+u+\'"\');if(l!=f){for(var h=0;h<c.columns.length;h++)c.columns[h].columnid==l&&(c.columns[h].columnid=f);c.xcolumns[f]=c.xcolumns[l],delete c.xcolumns[l];for(var p=0,m=c.data.length;p<m;p++)c.data[p][f]=c.data[p][l],delete c.data[p][l];return c.data.length}return r?r(0):0}if(this.dropcolumn){let t=o.databases[this.table.databaseid||e];t.dbversion++,u=this.table.tableid,c=t.tables[u],l=this.dropcolumn;var y=!1;for(h=0;h<c.columns.length;h++)if(c.columns[h].columnid==l){y=!0,c.columns.splice(h,1);break}if(!y)throw new Error(`Cannot drop column "${l}" because it was not found in the table ${u}"`);for(delete c.xcolumns[l],p=0,m=c.data.length;p<m;p++)delete c.data[p][l];return r?r(c.data.length):c.data.length}throw Error("Unknown ALTER TABLE method")},z.CreateIndex=function(e){return Object.assign(this,e)},z.CreateIndex.prototype.toString=function(){var e="CREATE";return this.unique&&(e+=" UNIQUE"),e+=" INDEX "+this.indexid+" ON "+this.table.toString(),e+="("+this.columns.toString()+")"},z.CreateIndex.prototype.execute=function(e,t,r){var n=o.databases[e],i=this.table.tableid,a=n.tables[i],s=this.indexid;n.indices[s]=i;var u=this.columns.map((function(e){return e.expression.toJS("r","")})).join("+\'`\'+"),c=new Function("r,params,alasql","return "+u);if(this.unique){a.uniqdefs[s]={rightfns:u};var l=a.uniqs[s]={};if(a.data.length>0)for(var g=0,d=a.data.length;g<d;g++)l[p=u(a.data[g])]||(l[p]={num:0}),l[p].num++}else{var f=S(u);a.inddefs[s]={rightfns:u,hh:f},a.indices[f]={};var h=a.indices[f]={};if(a.data.length>0)for(g=0,d=a.data.length;g<d;g++){var p;h[p=c(a.data[g],t,o)]||(h[p]=[]),h[p].push(a.data[g])}}var m=1;return r&&(m=r(m)),m},z.Reindex=function(e){return Object.assign(this,e)},z.Reindex.prototype.toString=function(){return"REINDEX "+this.indexid},z.Reindex.prototype.execute=function(e,t,r){var n=o.databases[e],i=this.indexid,a=n.indices[i];n.tables[a].indexColumns();var s=1;return r&&(s=r(s)),s},z.DropIndex=function(e){return Object.assign(this,e)},z.DropIndex.prototype.toString=function(){return"DROP INDEX"+this.indexid},z.DropIndex.prototype.compile=function(e){return this.indexid,function(){return 1}},z.WithSelect=function(e){return Object.assign(this,e)},z.WithSelect.prototype.toString=function(){var e="WITH ";return e+=this.withs.map((function(e){return e.name+" AS ("+e.select.toString()+")"})).join(",")+" ",e+=this.select.toString()},z.WithSelect.prototype.execute=function(e,t,r){var n=this,i=[];return n.withs.forEach((function(r){i.push(o.databases[e].tables[r.name]),(o.databases[e].tables[r.name]=new j({tableid:r.name})).data=r.select.execute(e,t)})),this.select.execute(e,t,(function(t){return n.withs.forEach((function(t,r){i[r]?o.databases[e].tables[t.name]=i[r]:delete o.databases[e].tables[t.name]})),r&&(t=r(t)),t}))},z.If=function(e){return Object.assign(this,e)},z.If.prototype.toString=function(){var e="IF ";return e+=this.expression.toString(),e+=" "+this.thenstat.toString(),this.elsestat&&(e+=" ELSE "+this.thenstat.toString()),e},z.If.prototype.execute=function(e,t,r){var n;return new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this)(t,o)?n=this.thenstat.execute(e,t,r):this.elsestat?n=this.elsestat.execute(e,t,r):r&&(n=r(n)),n},z.While=function(e){return Object.assign(this,e)},z.While.prototype.toString=function(){var e="WHILE ";return e+=this.expression.toString(),e+=" "+this.loopstat.toString()},z.While.prototype.execute=function(e,t,r){var n=this,i=[],a=new Function("params,alasql,p","var y;return "+this.expression.toJS());if(r){var s=!1,u=function(c){s?i.push(c):s=!0,setTimeout((function(){a(t,o)?n.loopstat.execute(e,t,u):i=r(i)}),0)};u()}else for(;a(t,o);){var c=n.loopstat.execute(e,t);i.push(c)}return i},z.Break=function(e){return Object.assign(this,e)},z.Break.prototype.toString=function(){return"BREAK"},z.Break.prototype.execute=function(e,t,r,o){var n=1;return r&&(n=r(n)),n},z.Continue=function(e){return Object.assign(this,e)},z.Continue.prototype.toString=function(){return"CONTINUE"},z.Continue.prototype.execute=function(e,t,r,o){var n=1;return r&&(n=r(n)),n},z.BeginEnd=function(e){return Object.assign(this,e)},z.BeginEnd.prototype.toString=function(){return"BEGIN "+this.statements.toString()+" END"},z.BeginEnd.prototype.execute=function(e,t,r,o){var n=this,i=[],a=0;function s(){n.statements[a].execute(e,t,(function(e){if(i.push(e),++a<n.statements.length)return s();r&&(i=r(i))}))}return s(),i},z.Insert=function(e){return Object.assign(this,e)},z.Insert.prototype.toString=function(){var e="INSERT ";return this.orreplace&&(e+="OR REPLACE "),this.replaceonly&&(e="REPLACE "),e+="INTO "+this.into.toString(),this.columns&&(e+="("+this.columns.toString()+")"),this.values&&(e+=" VALUES "+this.values.map((function(e){return"("+e.toString()+")"})).join(",")),this.select&&(e+=" "+this.select.toString()),e},z.Insert.prototype.toJS=function(e,t,r){return"this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")"},z.Insert.prototype.compile=function(e){var t=this;e=t.into.databaseid||e;var r=o.databases[e],n=t.into.tableid,i=r.tables[n];if(!i)throw"Table \'"+n+"\' could not be found";var a,s="",u="",c=(s="db.tables[\'"+n+"\'].dirty=true;","var a,aa=[],x;");if(this.values){this.exists&&(this.existsfn=this.exists.map((function(t){var r=t.compile(e);return r.query.modifier="RECORDSET",r}))),this.queries&&(this.queriesfn=this.queries.map((function(t){var r=t.compile(e);return r.query.modifier="RECORDSET",r}))),t.values.forEach((function(a){var c=[];t.columns?t.columns.forEach((function(e,t){var r="\'"+e.columnid+"\':";i.xcolumns&&i.xcolumns[e.columnid]?["INT","FLOAT","NUMBER","MONEY"].indexOf(i.xcolumns[e.columnid].dbtypeid)>=0?r+="(x="+a[t].toJS()+",x==undefined?undefined:+x)":o.fn[i.xcolumns[e.columnid].dbtypeid]?(r+="(new "+i.xcolumns[e.columnid].dbtypeid+"(",r+=a[t].toJS(),r+="))"):r+=a[t].toJS():r+=a[t].toJS(),c.push(r)})):Array.isArray(a)&&i.columns&&i.columns.length>0?i.columns.forEach((function(e,t){var r="\'"+e.columnid+"\':";["INT","FLOAT","NUMBER","MONEY"].indexOf(e.dbtypeid)>=0?r+="+"+a[t].toJS():o.fn[e.dbtypeid]?(r+="(new "+e.dbtypeid+"(",r+=a[t].toJS(),r+="))"):r+=a[t].toJS(),c.push(r)})):u=pe(a),r.tables[n].defaultfns&&c.unshift(r.tables[n].defaultfns),s+=u?"a="+u+";":"a={"+c.join(",")+"};",r.tables[n].isclass&&(s+="db=alasql.databases[\'"+e+"\'];",s+=\'a.$class="\'+n+\'";\',s+="a.$id=db.counter++;",s+="db.objects[a.$id]=a;"),r.tables[n].insert?(s+="db=alasql.databases[\'"+e+"\'];",s+="db.tables[\'"+n+"\'].insert(a,"+(t.orreplace?"true":"false")+");"):s+="aa.push(a);"})),a=c+s,r.tables[n].insert||(s+="alasql.databases[\'"+e+"\'].tables[\'"+n+"\'].data=alasql.databases[\'"+e+"\'].tables[\'"+n+"\'].data.concat(aa);"),r.tables[n].insert&&r.tables[n].isclass?s+="return a.$id;":s+="return "+t.values.length;var l=new Function("db, params, alasql","var y;"+c+s).bind(this)}else if(this.select){this.select.modifier="RECORDSET",this.queries&&(this.select.queries=this.queries);var g=this.select.compile(e);if(r.engineid&&o.engines[r.engineid].intoTable)return p=function(e,t){var i=g(e);return o.engines[r.engineid].intoTable(r.databaseid,n,i.data,null,t)};var d="return alasql.utils.extend(r,{"+i.defaultfns+"})",f=new Function("r,db,params,alasql",d);l=function(e,r,o){var i=g(r).data;if(e.tables[n].insert)for(var a=0,s=i.length;a<s;a++){var u=w(i[a]);f(u,e,r,o),e.tables[n].insert(u,t.orreplace)}else e.tables[n].data=e.tables[n].data.concat(i);if(!o.options.nocount)return i.length}}else{if(!this.default)throw new Error("Wrong INSERT parameters");var h="db.tables[\'"+n+"\'].data.push({"+i.defaultfns+"});return 1;";l=new Function("db,params,alasql",h)}if(r.engineid&&o.engines[r.engineid].intoTable&&o.options.autocommit)var p=function(e,t){var i=new Function("db,params","var y;"+a+"return aa;")(r,e);return o.engines[r.engineid].intoTable(r.databaseid,n,i,null,t)};else p=function(t,r){var i=o.databases[e];o.options.autocommit&&i.engineid&&o.engines[i.engineid].loadTableData(e,n);var a=l(i,t,o);return o.options.autocommit&&i.engineid&&o.engines[i.engineid].saveTableData(e,n),o.options.nocount&&(a=void 0),r&&r(a),a};return p},z.Insert.prototype.execute=function(e,t,r){return this.compile(e)(t,r)},z.CreateTrigger=function(e){return Object.assign(this,e)},z.CreateTrigger.prototype.toString=function(){var e="CREATE TRIGGER "+this.trigger+" ";return this.when&&(e+=this.when+" "),e+=this.action+" ON ",this.table.databaseid&&(e+=this.table.databaseid+"."),e+=this.table.tableid+" ",e+=this.statement.toString()};const _e=["beforeinsert","afterinsert","insteadofinsert","beforedelete","afterdelete","insteadofdelete","beforeupdate","afterupdate","insteadofupdate"];function Se(e){var t="";if(void 0===e)t+="undefined";else if(Array.isArray(e)){t+="<style>",t+="table {border:1px black solid; border-collapse: collapse; border-spacing: 0px;}",t+="td,th {border:1px black solid; padding-left:5px; padding-right:5px}",t+="th {background-color: #EEE}",t+="</style>",t+="<table>";var r=[];for(var o in e[0])r.push(o);t+="<tr><th>#",r.forEach((function(e){t+="<th>"+e}));for(var n=0,i=e.length;n<i;n++)t+="<tr><th>"+(n+1),r.forEach((function(r){t+="<td> ",e[n][r]==+e[n][r]?(t+=\'<div style="text-align:right">\',typeof e[n][r]>"u"?t+="NULL":t+=e[n][r],t+="</div>"):typeof e[n][r]>"u"?t+="NULL":"string"==typeof e[n][r]?t+=e[n][r]:t+=he(e[n][r])}));t+="</table>"}else t+="<p>"+he(e)+"</p>";return t}function ve(e,t,r){if(!(r<=0)){var o=(t-e.scrollTop)/r*10;setTimeout((function(){e.scrollTop!==t&&(e.scrollTop=e.scrollTop+o,ve(e,t,r-10))}),10)}}z.CreateTrigger.prototype.execute=function(e,t,r){let n=1;const i=this.trigger;e=this.table.databaseid||e;const a=o.databases[e],{tableid:s}=this.table,u={action:this.action,when:this.when,statement:this.statement,funcid:this.funcid,tableid:s};a.triggers[i]=u;const c=`${this.when}${this.action}`.toLowerCase();return _e.includes(c)&&(a.tables[s]=a.tables[s]||{},a.tables[s][c]=a.tables[s][c]||{},a.tables[s][c][i]=u),r&&(n=r(n)),n},z.DropTrigger=function(e){return Object.assign(this,e)},z.DropTrigger.prototype.toString=function(){return"DROP TRIGGER "+this.trigger},z.DropTrigger.prototype.execute=function(e,t,r){let n=0;const i=o.databases[e],a=this.trigger,s=i.triggers[a];if(!s)throw new Error("Trigger not found");{const{tableid:e}=s;if(!e)throw new Error("Trigger Table not found");n=1,_e.forEach((t=>{delete i.tables[e][t][a]})),delete i.triggers[a]}return r&&(n=r(n)),n},z.Delete=function(e){return Object.assign(this,e)},z.Delete.prototype.toString=function(){var e="DELETE FROM "+this.table.toString();return this.where&&(e+=" WHERE "+this.where.toString()),e},z.Delete.prototype.compile=function(e){e=this.table.databaseid||e;var t,r=this.table.tableid,n=o.databases[e];if(this.where){this.exists&&(this.existsfn=this.exists.map((function(t){var r=t.compile(e);return r.query.modifier="RECORDSET",r}))),this.queries&&(this.queriesfn=this.queries.map((function(t){var r=t.compile(e);return r.query.modifier="RECORDSET",r})));var i=new Function("r,params,alasql","var y;return ("+this.where.toJS("r","")+")").bind(this);t=function(t,a){if(n.engineid&&o.engines[n.engineid].deleteFromTable)return o.engines[n.engineid].deleteFromTable(e,r,i,t,a);o.options.autocommit&&n.engineid&&("LOCALSTORAGE"==n.engineid||"FILESTORAGE"==n.engineid)&&o.engines[n.engineid].loadTableData(e,r);for(var s=n.tables[r],u=s.data.length,c=[],l=0,g=s.data.length;l<g;l++)i(s.data[l],t,o)?s.delete&&s.delete(l,t,o):c.push(s.data[l]);for(var d in s.data=c,s.afterdelete){var f=s.afterdelete[d];f&&(f.funcid?o.fn[f.funcid]():f.statement&&f.statement.execute(e))}var h=u-s.data.length;return o.options.autocommit&&n.engineid&&("LOCALSTORAGE"==n.engineid||"FILESTORAGE"==n.engineid)&&o.engines[n.engineid].saveTableData(e,r),a&&(h=a(h)),h}}else t=function(t,i){o.options.autocommit&&n.engineid&&o.engines[n.engineid].loadTableData(e,r),n.tables[r].dirty=!0;var a=n.tables[r].data.length;for(var s in n.tables[r].data.length=0,n.tables[r].uniqs)n.tables[r].uniqs[s]={};for(var s in n.tables[r].indices)n.tables[r].indices[s]={};return o.options.autocommit&&n.engineid&&o.engines[n.engineid].saveTableData(e,r),i&&i(a),a};return t},z.Delete.prototype.execute=function(e,t,r){return this.compile(e)(t,r)},z.Update=function(e){return Object.assign(this,e)},z.Update.prototype.toString=function(){var e="UPDATE "+this.table.toString();return this.columns&&(e+=" SET "+this.columns.toString()),this.where&&(e+=" WHERE "+this.where.toString()),e},z.SetColumn=function(e){return Object.assign(this,e)},z.SetColumn.prototype.toString=function(){return this.column.toString()+"="+this.expression.toString()},z.Update.prototype.compile=function(e){e=this.table.databaseid||e;var t=this.table.tableid;if(this.where){this.exists&&(this.existsfn=this.exists.map((function(t){var r=t.compile(e);return r.query.modifier="RECORDSET",r}))),this.queries&&(this.queriesfn=this.queries.map((function(t){var r=t.compile(e);return r.query.modifier="RECORDSET",r})));var r=new Function("r,params,alasql","var y;return "+this.where.toJS("r","")).bind(this)}var n=o.databases[e].tables[t].onupdatefns||"";n+=";",this.columns.forEach((function(e){n+="r[\'"+e.column.columnid+"\']="+e.expression.toJS("r","")+";"}));var i=new Function("r,params,alasql","var y;"+n);return function(n,a){var s=o.databases[e];if(s.engineid&&o.engines[s.engineid].updateTable)return o.engines[s.engineid].updateTable(e,t,i,r,n,a);o.options.autocommit&&s.engineid&&o.engines[s.engineid].loadTableData(e,t);var u=s.tables[t];if(!u)throw new Error("Table \'"+t+"\' not exists");for(var c=0,l=0,g=u.data.length;l<g;l++)(!r||r(u.data[l],n,o))&&(u.update?u.update(i,l,n):i(u.data[l],n,o),c++);return o.options.autocommit&&s.engineid&&o.engines[s.engineid].saveTableData(e,t),a&&a(c),c}},z.Update.prototype.execute=function(e,t,r){return this.compile(e)(t,r)},z.Merge=function(e){return Object.assign(this,e)},z.Merge.prototype.toString=function(){let e=`MERGE ${this.into.tableid} `;return this.into.as&&(e+=`AS ${this.into.as} `),e+=`USING ${this.using.tableid} `,this.using.as&&(e+=`AS ${this.using.as} `),e+=`ON ${this.on.toString()} `,this.matches.forEach((t=>{e+="WHEN ",t.matched||(e+="NOT "),e+="MATCHED ",t.bytarget&&(e+="BY TARGET "),t.bysource&&(e+="BY SOURCE "),t.expr&&(e+=`AND ${t.expr.toString()} `),e+="THEN ",t.action.delete&&(e+="DELETE "),t.action.insert&&(e+="INSERT ",t.action.columns&&(e+=`(${t.action.columns.toString()}) `),t.action.values&&(e+=`VALUES (${t.action.values.toString()}) `),t.action.defaultvalues&&(e+="DEFAULT VALUES ")),t.action.update&&(e+="UPDATE ",e+=t.action.update.map((e=>e.toString())).join(", ")+" ")})),e},z.Merge.prototype.execute=function(e,t,r){var o=1;return r&&(o=r(o)),o},z.CreateDatabase=function(e){return Object.assign(this,e)},z.CreateDatabase.prototype.toString=function(){let e="CREATE ";return this.engineid&&(e+=`${this.engineid} `),e+="DATABASE ",this.ifnotexists&&(e+="IF NOT EXISTS "),e+=`${this.databaseid} `,this.args&&this.args.length>0&&(e+=`(${this.args.map((e=>e.toString())).join(", ")}) `),this.as&&(e+=`AS ${this.as}`),e},z.CreateDatabase.prototype.execute=function(e,t,r){if(this.args&&this.args.length>0&&this.args.map((function(e){return new Function("params,alasql","var y;return "+e.toJS())(t,o)})),this.engineid)return i=o.engines[this.engineid].createDatabase(this.databaseid,this.args,this.ifnotexists,this.as,r);var n=this.databaseid;if(o.databases[n])throw new Error("Database \'"+n+"\' already exists");new o.Database(n);var i=1;return r?r(i):i},z.AttachDatabase=function(e){return Object.assign(this,e)},z.AttachDatabase.prototype.toString=function(e){let t="ATTACH";return this.engineid&&(t+=` ${this.engineid}`),t+=` DATABASE ${this.databaseid}`,e&&(t+="(",e.length>0&&(t+=e.map((e=>e.toString())).join(", ")),t+=")"),this.as&&(t+=` AS ${this.as}`),t},z.AttachDatabase.prototype.execute=function(e,t,r){if(!o.engines[this.engineid])throw new Error(\'Engine "\'+this.engineid+\'" is not defined.\');return o.engines[this.engineid].attachDatabase(this.databaseid,this.as,this.args,t,r)},z.DetachDatabase=function(e){return Object.assign(this,e)},z.DetachDatabase.prototype.toString=function(){var e="DETACH";return e+=" DATABASE "+this.databaseid},z.DetachDatabase.prototype.execute=function(e,t,r){if(!o.databases[this.databaseid].engineid)throw new Error(\'Cannot detach database "\'+this.engineid+\'", because it was not attached.\');var n,i=this.databaseid;if(i===o.DEFAULTDATABASEID)throw new Error("Drop of default database is prohibited");if(o.databases[i]){var a=o.databases[i].engineid&&"FILESTORAGE"==o.databases[i].engineid,s=o.databases[i].filename||"";delete o.databases[i],a&&(o.databases[i]={},o.databases[i].isDetached=!0,o.databases[i].filename=s),i===o.useid&&o.use(),n=1}else{if(!this.ifexists)throw new Error("Database \'"+i+"\' does not exist");n=0}return r&&r(n),n},z.UseDatabase=function(e){return Object.assign(this,e)},z.UseDatabase.prototype.toString=function(){return"USE DATABASE "+this.databaseid},z.UseDatabase.prototype.execute=function(e,t,r){var n=this.databaseid;if(!o.databases[n])throw new Error("Database \'"+n+"\' does not exist");o.use(n);var i=1;return r&&r(i),i},z.DropDatabase=function(e){return Object.assign(this,e)},z.DropDatabase.prototype.toString=function(){var e="DROP";return this.ifexists&&(e+=" IF EXISTS"),e+=" DATABASE "+this.databaseid},z.DropDatabase.prototype.execute=function(e,t,r){if(this.engineid)return o.engines[this.engineid].dropDatabase(this.databaseid,this.ifexists,r);let n;const i=this.databaseid;if(i===o.DEFAULTDATABASEID)throw new Error("Drop of default database is prohibited");if(o.databases[i]){if(o.databases[i].engineid)throw new Error(`Cannot drop database \'${i}\', because it is attached. Detach it.`);delete o.databases[i],i===o.useid&&o.use(),n=1}else{if(!this.ifexists)throw new Error(`Database \'${i}\' does not exist`);n=0}return r&&r(n),n},z.Declare=function(e){return Object.assign(this,e)},z.Declare.prototype.toString=function(){let e="DECLARE ";return this.declares&&this.declares.length>0&&(e+=this.declares.map((e=>{let t=`@${e.variable} ${e.dbtypeid}`;return e.dbsize&&(t+=`(${e.dbsize}`,e.dbprecision&&(t+=`,${e.dbprecision}`),t+=")"),e.expression&&(t+=` = ${e.expression.toString()}`),t})).join(",")),e},z.Declare.prototype.execute=function(e,t,r){var n=1,i=this;return i.declares&&i.declares.length>0&&i.declares.forEach((function(e){var r=e.dbtypeid;o.fn[r]||(r=r.toUpperCase()),o.declares[e.variable]={dbtypeid:r,dbsize:e.dbsize,dbprecision:e.dbprecision},e.expression&&(o.vars[e.variable]=new Function("params,alasql","return "+e.expression.toJS("({})","",null)).bind(i)(t,o),o.declares[e.variable]&&(o.vars[e.variable]=o.stdfn.CONVERT(o.vars[e.variable],o.declares[e.variable])))})),r&&(n=r(n)),n},z.ShowDatabases=function(e){return Object.assign(this,e)},z.ShowDatabases.prototype.toString=function(){var e="SHOW DATABASES";return this.like&&(e+="LIKE "+this.like.toString()),e},z.ShowDatabases.prototype.execute=function(e,t,r){if(this.engineid)return o.engines[this.engineid].showDatabases(this.like,r);var n=this,i=[];for(var a in o.databases)i.push({databaseid:a});return n.like&&i&&i.length>0&&(i=i.filter((function(e){return o.utils.like(n.like.value,e.databaseid)}))),r&&r(i),i},z.ShowTables=function(e){return Object.assign(this,e)},z.ShowTables.prototype.toString=function(){var e="SHOW TABLES";return this.databaseid&&(e+=" FROM "+this.databaseid),this.like&&(e+=" LIKE "+this.like.toString()),e},z.ShowTables.prototype.execute=function(e,t,r){var n=o.databases[this.databaseid||e],i=this,a=[];for(var s in n.tables)a.push({tableid:s});return i.like&&a&&a.length>0&&(a=a.filter((function(e){return o.utils.like(i.like.value,e.tableid)}))),r&&r(a),a},z.ShowColumns=function(e){return Object.assign(this,e)},z.ShowColumns.prototype.toString=function(){var e="SHOW COLUMNS";return this.table.tableid&&(e+=" FROM "+this.table.tableid),this.databaseid&&(e+=" FROM "+this.databaseid),e},z.ShowColumns.prototype.execute=function(e,t,r){var n=o.databases[this.databaseid||e].tables[this.table.tableid];if(n&&n.columns){var i=n.columns.map((function(e){return{columnid:e.columnid,dbtypeid:e.dbtypeid,dbsize:e.dbsize}}));return r&&r(i),i}return r&&r([]),[]},z.ShowIndex=function(e){return Object.assign(this,e)},z.ShowIndex.prototype.toString=function(){var e="SHOW INDEX";return this.table.tableid&&(e+=" FROM "+this.table.tableid),this.databaseid&&(e+=" FROM "+this.databaseid),e},z.ShowIndex.prototype.execute=function(e,t,r){var n=o.databases[this.databaseid||e].tables[this.table.tableid],i=[];if(n&&n.indices)for(var a in n.indices)i.push({hh:a,len:Object.keys(n.indices[a]).length});return r&&r(i),i},z.ShowCreateTable=function(e){return Object.assign(this,e)},z.ShowCreateTable.prototype.toString=function(){var e="SHOW CREATE TABLE "+this.table.tableid;return this.databaseid&&(e+=" FROM "+this.databaseid),e},z.ShowCreateTable.prototype.execute=function(e){var t=o.databases[this.databaseid||e].tables[this.table.tableid];if(t){var r="CREATE TABLE "+this.table.tableid+" (",n=[];return t.columns&&(t.columns.forEach((function(e){var t=e.columnid+" "+e.dbtypeid;e.dbsize&&(t+="("+e.dbsize+")"),e.primarykey&&(t+=" PRIMARY KEY"),n.push(t)})),r+=n.join(", ")),r+=")"}throw new Error(\'There is no such table "\'+this.table.tableid+\'"\')},z.SetVariable=function(e){return Object.assign(this,e)},z.SetVariable.prototype.toString=function(){var e="SET ";return typeof this.value<"u"&&(e+=this.variable.toUpperCase()+" "+(this.value?"ON":"OFF")),this.expression&&(e+=this.method+this.variable+" = "+this.expression.toString()),e},z.SetVariable.prototype.execute=function(e,t,r){if(typeof this.value<"u"){let e=this.value;"ON"===e?e=!0:"OFF"===e&&(e=!1),o.options[this.variable]=e}else if(this.expression){this.exists&&(this.existsfn=this.exists.map((t=>{let r=t.compile(e);return r.query&&!r.query.modifier&&(r.query.modifier="RECORDSET"),r}))),this.queries&&(this.queriesfn=this.queries.map((t=>{let r=t.compile(e);return r.query&&!r.query.modifier&&(r.query.modifier="RECORDSET"),r})));let r=new Function("params, alasql","return "+this.expression.toJS("({})","",null)).bind(this)(t,o);if(o.declares[this.variable]&&(r=o.stdfn.CONVERT(r,o.declares[this.variable])),this.props&&this.props.length>0){let e;e="@"===this.method?`alasql.vars[\'${this.variable}\']`:`params[\'${this.variable}\']`,this.props.forEach((t=>{e+="string"==typeof t?`[\'${t}\']`:"number"==typeof t?`[${t}]`:`[${t.toJS()}]`})),new Function("value, params, alasql",`${e} = value`)(r,t,o)}else"@"===this.method?o.vars[this.variable]=r:t[this.variable]=r}let n=1;return r&&(n=r(n)),n},o.test=function(e,t,r){if(0!==arguments.length){var n=Date.now();if(1===arguments.length)return r(),void o.con.log(Date.now()-n);2===arguments.length&&(r=t,t=1);for(var i=0;i<t;i++)r();o.con.results[e]=Date.now()-n}else o.log(o.con.results)},o.log=function(e,t){var r,n=o.useid,i=o.options.logtarget;if(u.isNode&&(i="console"),r="string"==typeof e?o(e,t):e,"console"===i||u.isNode)"string"==typeof e&&o.options.logprompt&&console.log(n+">",e),Array.isArray(r)&&console.table?console.table(r):console.log(he(r));else{var a;a="output"===i?document.getElementsByTagName("output")[0]:"string"==typeof i?document.getElementById(i):i;var s="";if("string"==typeof e&&o.options.logprompt&&(s+="<pre><code>"+o.pretty(e)+"</code></pre>"),Array.isArray(r))if(0===r.length)s+="<p>[ ]</p>";else if("object"!=typeof r[0]||Array.isArray(r[0]))for(var c=0,l=r.length;c<l;c++)s+="<p>"+Se(r[c])+"</p>";else s+=Se(r);else s+=Se(r);a.innerHTML+=s}},o.clear=function(){var e=o.options.logtarget;u.isNode||u.isMeteorServer?console.clear&&console.clear():("output"===e?document.getElementsByTagName("output")[0]:"string"==typeof e?document.getElementById(e):e).innerHTML=""},o.write=function(e){var t=o.options.logtarget;u.isNode||u.isMeteorServer?console.log&&console.log(e):("output"===t?document.getElementsByTagName("output")[0]:"string"==typeof t?document.getElementById(t):t).innerHTML+=e},o.prompt=function(e,t,r){if(u.isNode)throw new Error("The prompt not realized for Node.js");var n=0;if("string"==typeof e&&(e=document.getElementById(e)),"string"==typeof t&&(t=document.getElementById(t)),t.textContent=o.useid,r){o.prompthistory.push(r),n=o.prompthistory.length;try{var i=Date.now();o.log(r),o.write(\'<p style="color:blue">\'+(Date.now()-i)+" ms</p>")}catch(e){o.write("<p>"+o.useid+"&gt;&nbsp;<b>"+r+"</b></p>"),o.write(\'<p style="color:red">\'+e+"<p>")}}var a=e.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop;ve(document.getElementsByTagName("body")[0],a,500),e.onkeydown=function(r){if(13===r.which){var i=e.value,a=o.useid;e.value="",o.prompthistory.push(i),n=o.prompthistory.length;try{var s=Date.now();o.log(i),o.write(\'<p style="color:blue">\'+(Date.now()-s)+" ms</p>")}catch(e){o.write("<p>"+a+"&gt;&nbsp;"+o.pretty(i,!1)+"</p>"),o.write(\'<p style="color:red">\'+e+"<p>")}e.focus(),t.textContent=o.useid;var u=e.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop;ve(document.getElementsByTagName("body")[0],u,500)}else 38===r.which?(--n<0&&(n=0),o.prompthistory[n]&&(e.value=o.prompthistory[n],r.preventDefault())):40===r.which&&(++n>=o.prompthistory.length?(n=o.prompthistory.length,e.value=""):o.prompthistory[n]&&(e.value=o.prompthistory[n],r.preventDefault()))}},z.BeginTransaction=function(e){return Object.assign(this,e)},z.BeginTransaction.prototype.toString=function(){return"BEGIN TRANSACTION"},z.BeginTransaction.prototype.execute=function(e,t,r){var n=1;return o.databases[e].engineid?o.engines[o.databases[o.useid].engineid].begin(e,r):(r&&(n=r(n)),n)},z.CommitTransaction=function(e){return Object.assign(this,e)},z.CommitTransaction.prototype.toString=function(){return"COMMIT TRANSACTION"},z.CommitTransaction.prototype.execute=function(e,t,r){var n=1;return o.databases[e].engineid?o.engines[o.databases[o.useid].engineid].commit(e,r):(r&&(n=r(n)),n)},z.RollbackTransaction=function(e){return Object.assign(this,e)},z.RollbackTransaction.prototype.toString=function(){return"ROLLBACK TRANSACTION"},z.RollbackTransaction.prototype.execute=function(e,t,r){var n=1;return o.databases[e].engineid?o.engines[o.databases[e].engineid].rollback(e,r):(r&&(n=r(n)),n)},o.options.tsql&&(o.stdfn.OBJECT_ID=function(e,t){typeof t>"u"&&(t="T"),t=t.toUpperCase();var r=e.split("."),n=o.useid,i=r[0];2==r.length&&(n=r[0],i=r[1]);var a=o.databases[n].tables;for(var s in n=o.databases[n].databaseid,a)if(s==i)return a[s].view&&"V"==t||!a[s].view&&"T"==t?n+"."+s:void 0}),o.options.mysql&&(o.fn.TIMESTAMPDIFF=function(e,t,r){return o.stdfn.DATEDIFF(e,t,r)}),(o.options.mysql||o.options.sqlite)&&(o.from.INFORMATION_SCHEMA=function(e,t,r,n,i){if("VIEWS"==e||"TABLES"==e){var a=[];for(var s in o.databases){var u=o.databases[s].tables;for(var c in u)(u[c].view&&"VIEWS"==e||!u[c].view&&"TABLES"==e)&&a.push({TABLE_CATALOG:s,TABLE_NAME:c})}return r&&(a=r(a,n,i)),a}throw new Error("Unknown INFORMATION_SCHEMA table")}),o.options.postgres,o.options.oracle,o.options.sqlite,o.into.SQL=function(e,t,r,n,i){var a;"object"==typeof e&&(t=e,e=void 0);var s={};if(o.utils.extend(s,t),typeof s.tableid>"u")throw new Error("Table for INSERT TO is not defined.");var u="";0===n.length&&"object"==typeof r[0]&&(n=Object.keys(r[0]).map((function(e){return{columnid:e}})));for(var c=0,l=r.length;c<l;c++)u+="INSERT INTO "+t.tableid+"(",u+=n.map((function(e){return e.columnid})).join(","),u+=") VALUES (",u+=n.map((function(e){var t=r[c][e.columnid];return e.typeid?("STRING"===e.typeid||"VARCHAR"===e.typeid||"NVARCHAR"===e.typeid||"CHAR"===e.typeid||"NCHAR"===e.typeid)&&(t="\'"+f(t)+"\'"):"string"==typeof t&&(t="\'"+f(t)+"\'"),t})),u+=");\\n";return e=o.utils.autoExtFilename(e,"sql",t),a=o.utils.saveFile(e,u),i&&(a=i(a)),a},o.into.HTML=function(e,t,r,n,i){var a=1;if("object"!=typeof document){var s={headers:!0};o.utils.extend(s,t);var u=document.querySelector(e);if(!u)throw new Error("Selected HTML element is not found");0===n.length&&"object"==typeof r[0]&&(n=Object.keys(r[0]).map((function(e){return{columnid:e}})));var c=document.createElement("table"),l=document.createElement("thead");if(c.appendChild(l),s.headers){for(var g=document.createElement("tr"),d=0;d<n.length;d++)(p=document.createElement("th")).textContent=n[d].columnid,g.appendChild(p);l.appendChild(g)}var f=document.createElement("tbody");c.appendChild(f);for(var h=0;h<r.length;h++){for(g=document.createElement("tr"),d=0;d<n.length;d++){var p;(p=document.createElement("td")).textContent=r[h][n[d].columnid],g.appendChild(p)}f.appendChild(g)}o.utils.domEmptyChildren(u),u.appendChild(c)}return i&&(a=i(a)),a},o.into.JSON=function(e,t,r,n,i){var a=1;"object"==typeof e&&(t=e,e=void 0);var s=JSON.stringify(r);return e=o.utils.autoExtFilename(e,"json",t),a=o.utils.saveFile(e,s),i&&(a=i(a)),a},o.into.TXT=function(e,t,r,n,i){0===n.length&&r.length>0&&(n=Object.keys(r[0]).map((function(e){return{columnid:e}}))),"object"==typeof e&&(t=e,e=void 0);var a=r.length,s="";if(r.length>0){var u=n[0].columnid;s+=r.map((function(e){return e[u]})).join("\\n")}return e=o.utils.autoExtFilename(e,"txt",t),a=o.utils.saveFile(e,s),i&&(a=i(a)),a},o.into.TAB=o.into.TSV=function(e,t,r,n,i){var a={};return o.utils.extend(a,t),a.separator="\\t",e=o.utils.autoExtFilename(e,"tab",t),a.autoExt=!1,o.into.CSV(e,a,r,n,i)},o.into.CSV=function(e,t,r,n,i){0===n.length&&r.length>0&&(n=Object.keys(r[0]).map((function(e){return{columnid:e}}))),"object"==typeof e&&(t=e,e=void 0);var a={headers:!0,separator:";",quote:\'"\',utf8Bom:!0};t&&!t.headers&&typeof t.headers<"u"&&(a.utf8Bom=!1),o.utils.extend(a,t);var s=r.length,u=a.utf8Bom?"\\ufeff":"";return a.headers&&(u+=a.quote+n.map((function(e){return e.columnid.trim()})).join(a.quote+a.separator+a.quote)+a.quote+"\\r\\n"),r.forEach((function(e){u+=n.map((function(t){var r=e[t.columnid];return""!==a.quote&&(r=(r+"").replace(new RegExp("\\\\"+a.quote,"g"),a.quote+a.quote)),+r!=r&&(r=a.quote+r+a.quote),r})).join(a.separator)+"\\r\\n"})),e=o.utils.autoExtFilename(e,"csv",t),s=o.utils.saveFile(e,u,null,{disableAutoBom:!0}),i&&(s=i(s)),s},o.into.XLS=function(e,t,r,n,i){"object"==typeof e&&(t=e,e=void 0);var a={};t&&t.sheets&&(a=t.sheets);var s={headers:!0};typeof a.Sheet1<"u"?s=a[0]:typeof t<"u"&&(s=t),typeof s.sheetid>"u"&&(s.sheetid="Sheet1");var u=l();e=o.utils.autoExtFilename(e,"xls",t);var c=o.utils.saveFile(e,u);return i&&(c=i(c)),c;function l(){var e=\'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" \\t\\txmlns="http://www.w3.org/TR/REC-html40"><head> \\t\\t<meta charset="utf-8" /> \\t\\t\\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets> \';if(e+=" <x:ExcelWorksheet><x:Name>"+s.sheetid+"</x:Name><x:WorksheetOptions><x:DisplayGridlines/>     </x:WorksheetOptions> \\t\\t</x:ExcelWorksheet>",e+="</x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\\x3e</head>",e+="<body",typeof s.style<"u"&&(e+=\' style="\',"function"==typeof s.style?e+=s.style(s):e+=s.style,e+=\'"\'),e+=">",e+="<table>",typeof s.caption<"u"){var o=s.caption;"string"==typeof o&&(o={title:o}),e+="<caption",typeof o.style<"u"&&(e+=\' style="\',"function"==typeof o.style?e+=o.style(s,o):e+=o.style,e+=\'" \'),e+=">",e+=o.title,e+="</caption>"}return typeof s.columns<"u"?n=s.columns:0==n.length&&r.length>0&&"object"==typeof r[0]&&(n=Array.isArray(r[0])?r[0].map((function(e,t){return{columnid:t}})):Object.keys(r[0]).map((function(e){return{columnid:e}}))),n.forEach((function(e,t){typeof s.column<"u"&&O(e,s.column),typeof e.width>"u"&&(s.column&&"undefined"!=s.column.width?e.width=s.column.width:e.width="120px"),"number"==typeof e.width&&(e.width=e.width+"px"),typeof e.columnid>"u"&&(e.columnid=t),typeof e.title>"u"&&(e.title=""+e.columnid.trim()),s.headers&&Array.isArray(s.headers)&&(e.title=s.headers[t])})),e+="<colgroups>",n.forEach((function(t){e+=\'<col style="width: \'+t.width+\'"></col>\'})),e+="</colgroups>",s.headers&&(e+="<thead>",e+="<tr>",n.forEach((function(t,r){e+="<th ",typeof t.style<"u"&&(e+=\' style="\',"function"==typeof t.style?e+=t.style(s,t,r):e+=t.style,e+=\'" \'),e+=">",typeof t.title<"u"&&("function"==typeof t.title?e+=t.title(s,t,r):e+=t.title),e+="</th>"})),e+="</tr>",e+="</thead>"),e+="<tbody>",r&&r.length>0&&r.forEach((function(r,o){if(!(o>s.limit)){e+="<tr";var i={};O(i,s.row),s.rows&&s.rows[o]&&O(i,s.rows[o]),typeof i<"u"&&typeof i.style<"u"&&(e+=\' style="\',"function"==typeof i.style?e+=i.style(s,r,o):e+=i.style,e+=\'" \'),e+=">",n.forEach((function(n,a){var u={};O(u,s.cell),O(u,i.cell),typeof s.column<"u"&&O(u,s.column.cell),O(u,n.cell),s.cells&&s.cells[o]&&s.cells[o][a]&&O(u,s.cells[o][a]);var c=r[n.columnid];"function"==typeof u.value&&(c=u.value(c,s,r,n,u,o,a));var l=u.typeid;"function"==typeof l&&(l=l(c,s,r,n,u,o,a)),typeof l>"u"&&("number"==typeof c?l="number":"string"==typeof c?l="string":"boolean"==typeof c?l="boolean":"object"==typeof c&&c instanceof Date&&(l="date"));var g="";"money"==l?g=\'mso-number-format:"\\\\#\\\\,\\\\#\\\\#0\\\\\\\\ __\\\\.";white-space:normal;\':"number"==l?g=" ":"date"==l?g=\'mso-number-format:"Short Date";\':t.types&&t.types[l]&&t.types[l].typestyle&&(g=t.types[l].typestyle),e+="<td style=\'"+(g=g||\'mso-number-format:"\\\\@";\')+"\' ",typeof u.style<"u"&&(e+=\' style="\',"function"==typeof u.style?e+=u.style(c,s,r,n,o,a):e+=u.style,e+=\'" \'),e+=">";var d=u.format;if(typeof c>"u")e+="";else if(typeof d<"u")if("function"==typeof d)e+=d(c);else{if("string"!=typeof d)throw new Error("Unknown format type. Should be function or string");e+=c}else e+="number"==l||"date"==l?c.toString():"money"==l?(+c).toFixed(2):c;e+="</td>"})),e+="</tr>"}})),e+="</tbody>",e+="</table>",e+="</body>",e+="</html>"}},o.into.XLSXML=function(e,t,r,n,i){t=t||{},"object"==typeof e&&(t=e,e=void 0);var a,s,u={};t&&t.sheets?(u=t.sheets,a=r,s=n):(u.Sheet1=t,a=[r],s=[n]),e=o.utils.autoExtFilename(e,"xls",t);var c=o.utils.saveFile(e,l());return i&&(c=i(c)),c;function l(){var e=\'<?xml version="1.0"?> \\t\\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \\t\\t xmlns:o="urn:schemas-microsoft-com:office:office" \\t\\t xmlns:x="urn:schemas-microsoft-com:office:excel" \\t\\t xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \\t\\t xmlns:html="http://www.w3.org/TR/REC-html40"> \\t\\t <DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \\t\\t </DocumentProperties> \\t\\t <OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office"> \\t\\t  <AllowPNG/> \\t\\t </OfficeDocumentSettings> \\t\\t <ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \\t\\t  <ActiveSheet>0</ActiveSheet> \\t\\t </ExcelWorkbook> \\t\\t <Styles> \\t\\t  <Style ss:ID="Default" ss:Name="Normal"> \\t\\t   <Alignment ss:Vertical="Bottom"/> \\t\\t   <Borders/> \\t\\t   <Font ss:FontName="Calibri" x:Family="Swiss" ss:Size="12" ss:Color="#000000"/> \\t\\t   <Interior/> \\t\\t   <NumberFormat/> \\t\\t   <Protection/> \\t\\t  </Style>\',r="",o=" </Styles>",n={},i=62;function c(e){var t="";for(var o in e){for(var a in t+="<"+o,e[o])t+=" ","x:"==a.substr(0,2)?t+=a:t+="ss:",t+=a+"="+JSON.stringify(e[o][a]);t+="/>"}var s=S(t);return n[s]||(n[s]={styleid:i},r+=`<Style ss:ID=${JSON.stringify("s"+i)}>`,r+=t.replace(/<\\s*\\/\\s*Style /gi,"<"),r+="</Style>",i++),"s"+n[s].styleid}function l(e){try{return Object.values(e)}catch{return Object.keys(e).map((function(t){return e[t]}))}}var g=0;for(var d in u){var f=u[d],h=typeof f.dataidx<"u"?f.dataidx:g++,p=l(a[h]),m=void 0;typeof f.columns<"u"?m=f.columns:(void 0===(m=s[h])||0==m.length&&p.length>0)&&"object"==typeof p[0]&&(m=Array.isArray(p[0])?p[0].map((function(e,t){return{columnid:t}})):Object.keys(p[0]).map((function(e){return{columnid:e}}))),m.forEach((function(e,t){typeof f.column<"u"&&O(e,f.column),typeof e.width>"u"&&(f.column&&typeof f.column.width<"u"?e.width=f.column.width:e.width=120),"number"==typeof e.width&&(e.width=e.width),typeof e.columnid>"u"&&(e.columnid=t),typeof e.title>"u"&&(e.title=""+e.columnid.trim()),f.headers&&Array.isArray(f.headers)&&(e.title=f.headers[t])})),o+="<Worksheet ss:Name="+JSON.stringify(d)+\'> \\t  \\t\\t\\t<Table ss:ExpandedColumnCount="\'+m.length+\'" ss:ExpandedRowCount="\'+((f.headers?1:0)+Math.min(p.length,f.limit||p.length))+\'" x:FullColumns="1" \\t   \\t\\t\\tx:FullRows="1" ss:DefaultColumnWidth="65" ss:DefaultRowHeight="15">\',m.forEach((function(e,t){o+=`\\n\\t\\t\\t\\t\\t<Column \\n\\t\\t\\t\\t\\t\\tss:Index="${t+1}" \\n\\t\\t\\t\\t\\t\\tss:AutoFitWidth="0" \\n\\t\\t\\t\\t\\t\\tss:Width=${JSON.stringify(""+e.width)}\\n\\t\\t\\t\\t\\t/>`})),f.headers&&(o+=\'<Row ss:AutoFitHeight="0">\',m.forEach((function(e,t){if(o+="<Cell ",typeof e.style<"u"){var r={};"function"==typeof e.style?O(r,e.style(f,e,t)):O(r,e.style),o+="ss:StyleID="+JSON.stringify(c(r))}o+=\'><Data ss:Type="String">\',typeof e.title<"u"&&("function"==typeof e.title?o+=e.title(f,e,t):o+=e.title),o+="</Data></Cell>"})),o+="</Row>"),p&&p.length>0&&p.forEach((function(e,r){if(!(r>f.limit)){var n={};if(O(n,f.row),f.rows&&f.rows[r]&&O(n,f.rows[r]),o+="<Row ",typeof n<"u"){var i={};typeof n.style<"u"&&("function"==typeof n.style?O(i,n.style(f,e,r)):O(i,n.style),o+="ss:StyleID="+JSON.stringify(c(i)))}o+=">",m.forEach((function(i,a){var s={};O(s,f.cell),O(s,n.cell),typeof f.column<"u"&&O(s,f.column.cell),O(s,i.cell),f.cells&&f.cells[r]&&f.cells[r][a]&&O(s,f.cells[r][a]);var u=e[i.columnid];"function"==typeof s.value&&(u=s.value(u,f,e,i,s,r,a));var l=s.typeid;"function"==typeof l&&(l=l(u,f,e,i,s,r,a)),typeof l>"u"&&("number"==typeof u?l="number":"string"==typeof u?l="string":"boolean"==typeof u?l="boolean":"object"==typeof u&&u instanceof Date&&(l="date"));var g="String";"number"==l?g="Number":"date"==l&&(g="Date");var d="";"money"==l?d=\'mso-number-format:"\\\\#\\\\,\\\\#\\\\#0\\\\\\\\ __\\\\.";white-space:normal;\':"number"==l?d=" ":"date"==l?d=\'mso-number-format:"Short Date";\':t.types&&t.types[l]&&t.types[l].typestyle&&(d=t.types[l].typestyle),d=d||\'mso-number-format:"\\\\@";\',o+="<Cell ";var h={};typeof s.style<"u"&&("function"==typeof s.style?O(h,s.style(u,f,e,i,r,a)):O(h,s.style),o+="ss:StyleID="+JSON.stringify(c(h))),o+=">",o+="<Data ss:Type="+JSON.stringify(g)+">";var p=s.format;if(typeof u>"u")o+="";else if(typeof p<"u")if("function"==typeof p)o+=p(u);else{if("string"!=typeof p)throw new Error("Unknown format type. Should be function or string");o+=u}else o+="number"==l||"date"==l?u.toString():"money"==l?(+u).toFixed(2):u;o+="</Data></Cell>"})),o+="</Row>"}})),o+="</Table></Worksheet>"}return e+r+(o+="</Workbook>")}},o.into.XLSX=function(e,t,r,n,i){var a=1;t=t||{},R(n,[{columnid:"_"}])&&(r=r.map((function(e){return e._})),n=void 0),e=o.utils.autoExtFilename(e,"xlsx",t);var s=L();"object"==typeof e&&(t=e,e=void 0);var c={SheetNames:[],Sheets:{}};return t.sourcefilename?o.utils.loadBinaryFile(t.sourcefilename,!!i,(function(e){c=s.read(e,{type:"binary",...o.options.excel,...t}),l()})):l(),i&&(a=i(a)),a;function l(){"object"==typeof t&&Array.isArray(t)?r&&r.length>0&&r.forEach((function(e,r){g(t[r],e,void 0,r+1)})):g(t,r,n,1),d(i)}function g(e,t,r,n){var i={sheetid:"Sheet "+n,headers:!0};o.utils.extend(i,e);var a=Object.keys(t).length;(!r||0==r.length)&&(r=a>0?Object.keys(t[0]).map((function(e){return{columnid:e}})):[]);var s={};c.SheetNames.indexOf(i.sheetid)>-1||(c.SheetNames.push(i.sheetid),c.Sheets[i.sheetid]={}),s=c.Sheets[i.sheetid];var u="A1";i.range&&(u=i.range);var l=o.utils.xlscn(u.match(/[A-Z]+/)[0]),g=+u.match(/[0-9]+/)[0]-1;if(c.Sheets[i.sheetid]["!ref"])var d=c.Sheets[i.sheetid]["!ref"],f=o.utils.xlscn(d.match(/[A-Z]+/)[0]),h=+d.match(/[0-9]+/)[0]-1;else f=1,h=1;var p=r.length?0:1,m=Math.max(l+r.length-1+p,f),y=Math.max(g+a+2,h),b=g+1;c.Sheets[i.sheetid]["!ref"]="A1:"+o.utils.xlsnc(m)+y,i.headers&&(r.forEach((function(e,t){s[o.utils.xlsnc(l+t)+""+b]={v:e.columnid.trim()}})),b++);for(var E=0;E<a;E++)r.forEach((function(e,r){var n={v:t[E][e.columnid]};"number"==typeof t[E][e.columnid]?n.t="n":"string"==typeof t[E][e.columnid]?n.t="s":"boolean"==typeof t[E][e.columnid]?n.t="b":"object"==typeof t[E][e.columnid]&&t[E][e.columnid]instanceof Date&&(n.t="d"),s[o.utils.xlsnc(l+r)+""+b]=n})),b++}function d(t){var r;if(typeof e>"u")a=c;else if(r=L(),u.isNode||u.isMeteorServer)r.writeFile(c,e);else{var o={bookType:"xlsx",bookSST:!1,type:"binary"},n=r.write(c,o);Oe(new Blob([function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),o=0;o!=e.length;++o)r[o]=255&e.charCodeAt(o);return t}(n)],{type:"application/octet-stream"}),e)}}},o.from.METEOR=function(e,t,r,o,n){var i=e.find(t).fetch();return r&&(i=r(i,o,n)),i},o.from.TABLETOP=function(e,t,r,n,i){var a=[],s={headers:!0,simpleSheet:!0,key:e};return o.utils.extend(s,t),s.callback=function(e){a=e,r&&(a=r(a,n,i))},Tabletop.init(s),null},o.from.HTML=function(e,t,r,n,i){var a={};o.utils.extend(a,t);var s=document.querySelector(e);if(!s&&"TABLE"!==s.tagName)throw new Error("Selected HTML element is not a TABLE");var u=[],c=a.headers;if(c&&!Array.isArray(c)){c=[];for(var l=s.querySelector("thead tr").children,g=0;g<l.length;g++)l.item(g).style&&"none"===l.item(g).style.display&&a.skipdisplaynone?c.push(void 0):c.push(l.item(g).textContent)}for(var d=s.querySelectorAll("tbody tr"),f=0;f<d.length;f++){var h=d.item(f).children,p={};for(g=0;g<h.length;g++)h.item(g).style&&"none"===h.item(g).style.display&&a.skipdisplaynone||(c?p[c[g]]=h.item(g).textContent:p[g]=h.item(g).textContent);u.push(p)}return r&&(u=r(u,n,i)),u},o.from.RANGE=function(e,t,r,o,n){for(var i=[],a=e;a<=t;a++)i.push(a);return r&&(i=r(i,o,n)),i},o.from.FILE=function(e,t,r,n,i){var a;if("string"==typeof e)a=e;else{if(!(e instanceof Event))throw new Error("Wrong usage of FILE() function");a=e.target.files[0].name}var s=a.split("."),u=s[s.length-1].toUpperCase();if(o.from[u])return o.from[u](e,t,r,n,i);throw new Error("Cannot recognize file type for loading")},o.from.JSON=function(e,t,r,n,i){var a;return e=o.utils.autoExtFilename(e,"json",t),o.utils.loadFile(e,!!r,(function(e){a=JSON.parse(e),r&&(a=r(a,n,i))})),a};const Te=e=>function(t,r,n,i,a){let s=[];return t=o.utils.autoExtFilename(t,e,r),o.utils.loadFile(t,!!n,(function(e){e.split(/\\r?\\n/).forEach(((e,t)=>{const r=e.trim();if(""!==r)try{s.push(JSON.parse(r))}catch(e){throw new Error(`Could not parse JSON at line ${t}: ${e.toString()}`)}})),n&&(res=n(s,i,a))}),(e=>{throw new Error(e)})),s};function Ae(e,t,r,n,i,a){var s,u={};function c(e){for(var t="",r=0,o=10240;r<e.byteLength/o;++r)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(r*o,r*o+o)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(r*o)))}function l(e){return e&&!1===o.options.casesensitive?e.toLowerCase():e}return r=r||{},o.utils.extend(u,r),typeof u.headers>"u"&&(u.headers=!0),t=o.utils.autoExtFilename(t,"xls",r),o.utils.loadBinaryFile(t,!!n,(function(t){if(t instanceof ArrayBuffer)var s=c(t),g=e.read(btoa(s),{type:"base64",...o.options.excel,...r});else g=e.read(t,{type:"binary",...o.options.excel,...r});var d;d=typeof u.sheetid>"u"?g.SheetNames[0]:"number"==typeof u.sheetid?g.SheetNames[u.sheetid]:u.sheetid;var f,h=[];if(typeof u.range>"u"?f=g.Sheets[d]["!ref"]:(f=u.range,g.Sheets[d][f]&&(f=g.Sheets[d][f])),f){for(var p=f.split(":"),m=p[0].match(/[A-Z]+/)[0],y=+p[0].match(/[0-9]+/)[0],b=p[1].match(/[A-Z]+/)[0],E=+p[1].match(/[0-9]+/)[0],_={},S=o.utils.xlscn(m),v=o.utils.xlscn(b),T=S;T<=v;T++){var A=o.utils.xlsnc(T);u.headers?g.Sheets[d][A+""+y]?_[A]=l(g.Sheets[d][A+""+y].v):_[A]=l(A):_[A]=A}u.headers&&y++;for(var N=y;N<=E;N++){var C={};for(T=S;T<=v;T++)A=o.utils.xlsnc(T),g.Sheets[d][A+""+N]&&(C[_[A]]=g.Sheets[d][A+""+N].v);h.push(C)}}else h.push([]);h.length>0&&h[h.length-1]&&0==Object.keys(h[h.length-1]).length&&h.pop(),n&&(h=n(h,i,a))}),(function(e){throw e})),s}function Ne(e){return e=(e=e.trim()).replace(/\x3c!--[\\s\\S]*?--\x3e/g,""),t();function t(){return{declaration:r(),root:o()}}function r(){if(s(/^<\\?xml\\s*/)){for(var e={attributes:{}};!u()&&!c("?>");){var t=i();if(!t)return e;e.attributes[t.name]=t.value}return s(/\\?>\\s*/),e}}function o(){var e=s(/^<([\\w-:.]+)\\s*/);if(e){for(var t={name:e[1],attributes:{},children:[]};!(u()||c(">")||c("?>")||c("/>"));){var r=i();if(!r)return t;t.attributes[r.name]=r.value}if(s(/^\\s*\\/>\\s*/))return t;s(/\\??>\\s*/),t.content=n();for(var a;a=o();)t.children.push(a);return s(/^<\\/[\\w-:.]+>\\s*/),t}}function n(){var e=s(/^([^<]*)/);return e?e[1]:""}function i(){var e=s(/([\\w:-]+)\\s*=\\s*("[^"]*"|\'[^\']*\'|\\w+)\\s*/);if(e)return{name:e[1],value:a(e[2])}}function a(e){return e.replace(/^[\'"]|[\'"]$/g,"")}function s(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function u(){return 0==e.length}function c(t){return 0==e.indexOf(t)}}o.from.JSONL=Te("jsonl"),o.from.NDJSON=Te("ndjson"),o.from.TXT=function(e,t,r,n,i){var a;return e=o.utils.autoExtFilename(e,"txt",t),o.utils.loadFile(e,!!r,(function(e){""===(a=e.split(/\\r?\\n/))[a.length-1]&&a.pop();for(var t=0,o=a.length;t<o;t++)a[t]==+a[t]&&(a[t]=+a[t]),a[t]=[a[t]];r&&(a=r(a,n,i))})),a},o.from.TAB=o.from.TSV=function(e,t,r,n,i){return(t=t||{}).separator="\\t",e=o.utils.autoExtFilename(e,"tab",t),t.autoext=!1,o.from.CSV(e,t,r,n,i)},o.from.CSV=function(e,t,r,n,i){e=""+e;var a={separator:",",quote:\'"\',headers:!0,raw:!1};o.utils.extend(a,t);var s,u=[];function c(e){var t,o,c=a.separator.charCodeAt(0),l=a.quote.charCodeAt(0),g={},d={},f=[],h=e.length,p=0,m=0;function y(){if(p>=h)return d;if(o)return o=!1,g;var t=p;if(e.charCodeAt(t)===l){for(var r=t;r++<h;)if(e.charCodeAt(r)===l){if(e.charCodeAt(r+1)!==l)break;++r}return p=r+2,13===(n=e.charCodeAt(r+1))?(o=!0,10===e.charCodeAt(r+2)&&++p):10===n&&(o=!0),e.substring(t+1,r).replace(/""/g,\'"\')}for(;p<h;){var n,i=1;if(10===(n=e.charCodeAt(p++)))o=!0;else if(13===n)o=!0,10===e.charCodeAt(p)&&(++p,++i);else if(n!==c)continue;return e.substring(t,p-i)}return e.substring(t)}for(;(t=y())!==d;){for(var b=[];t!==g&&t!==d;)b.push(t.trim()),t=y();if(a.headers){if(0===m){if("boolean"==typeof a.headers)u=b;else if(Array.isArray(a.headers)){u=a.headers;var E={};u.forEach((function(e,t){E[e]=b[t],!a.raw&&typeof E[e]<"u"&&0!==E[e].length&&E[e].trim()==+E[e]&&(E[e]=+E[e])})),f.push(E)}}else E={},u.forEach((function(e,t){E[e]=b[t],!a.raw&&typeof E[e]<"u"&&0!==E[e].length&&E[e].trim()==+E[e]&&(E[e]=+E[e])})),f.push(E);m++}else E={},b.forEach((function(e,t){E[t]=b[t],!a.raw&&typeof E[t]<"u"&&0!==E[t].length&&E[t].trim()==+E[t]&&(E[t]=+E[t])})),f.push(E)}if(s=f,a.headers&&i&&i.sources&&i.sources[n]){var _=i.sources[n].columns=[];u.forEach((function(e){_.push({columnid:e})}))}r&&(s=r(s,n,i))}return new RegExp("\\n").test(e)?c(e):(e=o.utils.autoExtFilename(e,"csv",t),o.utils.loadFile(e,!!r,c,i.cb)),s},o.from.XLS=function(e,t,r,n,i){return t=t||{},e=o.utils.autoExtFilename(e,"xls",t),t.autoExt=!1,Ae(L(),e,t,r,n,i)},o.from.XLSX=function(e,t,r,n,i){return t=t||{},e=o.utils.autoExtFilename(e,"xlsx",t),t.autoExt=!1,Ae(L(),e,t,r,n,i)},o.from.ODS=function(e,t,r,n,i){return t=t||{},e=o.utils.autoExtFilename(e,"ods",t),t.autoExt=!1,Ae(L(),e,t,r,n,i)},o.from.XML=function(e,t,r,n,i){var a;return o.utils.loadFile(e,!!r,(function(e){a=Ne(e).root,r&&(a=r(a,n,i))})),a},o.from.GEXF=function(e,t,r,n,i){var a;return o("SEARCH FROM XML("+e+")",[],(function(e){a=e,r&&(a=r(a))})),a},z.Print=function(e){return Object.assign(this,e)},z.Print.prototype.toString=function(){var e="PRINT";return this.statement&&(e+=" "+this.statement.toString()),e},z.Print.prototype.execute=function(e,t,r){var n=this,i=1;if(o.precompile(this,e,t),this.exprs&&this.exprs.length>0){var a=this.exprs.map((function(e){var r=new Function("params,alasql,p","var y;return "+e.toJS("({})","",null)).bind(n)(t,o);return he(r)}));console.log.apply(console,a)}else if(this.select){var s=this.select.execute(e,t);console.log(he(s))}else console.log();return r&&(i=r(i)),i},z.Source=function(e){return Object.assign(this,e)},z.Source.prototype.toString=function(){var e="SOURCE";return this.url&&(e+=" \'"+this.url+" \'"),e},z.Source.prototype.execute=function(e,t,r){var n;return y(this.url,!!r,(function(e){return n=o(e),r&&(n=r(n)),n}),(function(e){throw e})),n},z.Require=function(e){return Object.assign(this,e)},z.Require.prototype.toString=function(){var e="REQUIRE";return this.paths&&this.paths.length>0&&(e+=this.paths.map((function(e){return e.toString()})).join(",")),this.plugins&&this.plugins.length>0&&(e+=this.plugins.map((function(e){return e.toUpperCase()})).join(",")),e},z.Require.prototype.execute=function(e,t,r){var n=this,i=0,a="";return this.paths&&this.paths.length>0?this.paths.forEach((function(e){y(e.value,!!r,(function(e){i++,a+=e,!(i<n.paths.length)&&(new Function("params,alasql,Function",a)(t,o,Function),r&&(i=r(i)))}))})):this.plugins&&this.plugins.length>0?this.plugins.forEach((function(e){o.plugins[e]||y(o.path+"/alasql-"+e.toLowerCase()+".js",!!r,(function(s){i++,a+=s,!(i<n.plugins.length)&&(new Function("params,alasql,Function",a)(t,o,Function),o.plugins[e]=!0,r&&(i=r(i)))}))})):r&&(i=r(i)),i},z.Assert=function(e){return Object.assign(this,e)},z.Source.prototype.toString=function(){var e="ASSERT";return this.value&&(e+=" "+JSON.stringify(this.value)),e},z.Assert.prototype.execute=function(e){if(!R(o.res,this.value))throw new Error((this.message||"Assert wrong")+": "+JSON.stringify(o.res)+" == "+JSON.stringify(this.value));return 1};var Ce=o.engines.INDEXEDDB=function(){};async function De(e){const t=globalThis.indexedDB;if(!t)throw new Error("IndexedDB is not supported in this browser");if(t.databases)return(await t.databases()).find((t=>t.name===e))||0;const r=t.open(e);return new Promise((function(t,o){r.onsuccess=()=>{r.result.close(),t({name:e,version:r.result.version})},r.onupgradeneeded=e=>{e.target.transaction.abort(),t(0)},r.onerror=()=>{o(new Error("IndexedDB error"))},r.onblocked=()=>{t({name:e,version:r.result.version})}}))}Ce.showDatabases=function(e,t){indexedDB.databases?indexedDB.databases().then((r=>{const o=[],n=e&&new RegExp(e.value.replace(/\\%/g,".*"),"g");for(var i=0;i<r.length;i++)(!e||r[i].name.match(n))&&o.push({databaseid:r[i].name});t(o)})):t(null,new Error("SHOW DATABASE is not supported in this browser"))},Ce.createDatabase=async function(e,t,r,o,n){if(await De(e).catch((e=>{throw n&&n(null,e),e})))if(r)n&&n(0);else{const t=new Error(`IndexedDB: Cannot create new database "${e}" because it already exists`);n&&n(null,t)}else{const t=indexedDB.open(e,1);t.onsuccess=()=>{t.result.close(),n(1)}}},Ce.dropDatabase=async function(e,t,r){await De(e).catch((e=>{throw r&&r(null,e),e}))?indexedDB.deleteDatabase(e).onsuccess=()=>{r&&r(1)}:t?r&&r(0):r&&r(null,new Error(`IndexedDB: Cannot drop new database "${e}" because it does not exist\'`))},Ce.attachDatabase=async function(e,t,r,n,i){if(!await De(e).catch((e=>{throw i&&i(null,e),e}))){const t=new Error(`IndexedDB: Cannot attach database "${e}" because it does not exist`);throw i&&i(null,t),t}const a=await new Promise(((t,r)=>{const o=indexedDB.open(e);o.onsuccess=()=>{t(o.result.objectStoreNames),o.result.close()}})),s=new o.Database(t||e);s.engineid="INDEXEDDB",s.ixdbid=e,s.tables=[];for(var u=0;u<a.length;u++)s.tables[a[u]]={};i&&i(1)},Ce.createTable=async function(e,t,r,n){const i=o.databases[e].ixdbid,a=await De(i).catch((e=>{throw n&&n(null,e),e}));if(!a){const e=new Error(\'IndexedDB: Cannot create table in database "\'+i+\'" because it does not exist\');throw n&&n(null,e),e}const s=indexedDB.open(i,a.version+1);s.onupgradeneeded=function(e){s.result.createObjectStore(t,{autoIncrement:!0})},s.onsuccess=function(e){s.result.close(),n&&n(1)},s.onerror=e=>{n(null,e)},s.onblocked=function(r){n(null,new Error(`Cannot create table "${t}" because database "${e}"  is blocked`))}},Ce.dropTable=async function(e,t,r,n){const i=o.databases[e].ixdbid,a=await De(i).catch((e=>{throw n&&n(null,e),e}));if(!a){const e=new Error(\'IndexedDB: Cannot drop table in database "\'+i+\'" because it does not exist\');throw n&&n(null,e),e}const s=indexedDB.open(i,a.version+1);let u;s.onupgradeneeded=function(n){var i=s.result;i.objectStoreNames.contains(t)?(i.deleteObjectStore(t),delete o.databases[e].tables[t]):r||(u=new Error(`IndexedDB: Cannot drop table "${t}" because it does not exist`),n.target.transaction.abort())},s.onsuccess=function(e){s.result.close(),n&&n(1)},s.onerror=function(e){n&&n(null,u||e)},s.onblocked=function(r){n(null,new Error(`Cannot drop table "${t}" because database "${e}" is blocked`))}},Ce.intoTable=function(e,t,r,n,i){const a=o.databases[e].ixdbid,s=indexedDB.open(a);var u=o.databases[e].tables[t];s.onupgradeneeded=r=>{r.target.transaction.abort();const o=new Error(`Cannot insert into table "${t}" because database "${e}" does not exist`);i&&i(null,o)},s.onsuccess=()=>{for(var n=s.result,a=n.transaction([t],"readwrite"),c=a.objectStore(t),l=0,g=r.length;l<g;l++)c.add(r[l]);a.oncomplete=function(){for(var t in n.close(),u.afterinsert)if(u.afterinsert[t]){var a=u.afterinsert[t];a.funcid?o.fn[a.funcid](r):a.statement&&a.statement.execute(e)}i&&i(g)}}},Ce.fromTable=function(e,t,r,n,i){const a=o.databases[e].ixdbid,s=indexedDB.open(a);s.onupgradeneeded=o=>{o.target.transaction.abort();const n=new Error(`Cannot select from table "${t}" because database "${e}" does not exist`);r&&r(null,n)},s.onsuccess=()=>{const e=[],o=s.result,a=o.transaction([t]).objectStore(t).openCursor();a.onsuccess=()=>{const t=a.result;if(t){const r="object"==typeof t?t.value:{[t.key]:t.value};e.push(r),t.continue()}else o.close(),r&&r(e,n,i)}}},Ce.deleteFromTable=function(e,t,r,n,i){const a=o.databases[e].ixdbid,s=indexedDB.open(a);s.onsuccess=()=>{const e=s.result,a=e.transaction([t],"readwrite").objectStore(t).openCursor();let u=0;a.onsuccess=()=>{var t=a.result;t?((!r||r(t.value,n,o))&&(t.delete(),u++),t.continue()):(e.close(),i&&i(u))}}},Ce.updateTable=function(e,t,r,n,i,a){const s=o.databases[e].ixdbid,u=indexedDB.open(s);u.onsuccess=function(){const e=u.result,o=e.transaction([t],"readwrite").objectStore(t).openCursor();let s=0;o.onsuccess=()=>{var t=o.result;if(t){if(!n||n(t.value,i)){var u=t.value;r(u,i),t.update(u),s++}t.continue()}else e.close(),a&&a(s)}}};var we=o.engines.LOCALSTORAGE=function(){};we.get=function(e){var t=localStorage.getItem(e);if(!(typeof t>"u")){var r;try{r=JSON.parse(t)}catch{throw new Error("Cannot parse JSON object from localStorage"+t)}return r}},we.set=function(e,t){typeof t>"u"?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))},we.storeTable=function(e,t){var r=o.databases[e],n=r.tables[t],i={};i.columns=n.columns,i.data=n.data,i.identities=n.identities,we.set(r.lsdbid+"."+t,i)},we.restoreTable=function(e,t){var r=o.databases[e],n=we.get(r.lsdbid+"."+t),i=new o.Table;for(var a in n)i[a]=n[a];return r.tables[t]=i,i.indexColumns(),i},we.removeTable=function(e,t){var r=o.databases[e];localStorage.removeItem(r.lsdbid+"."+t)},we.createDatabase=function(e,t,r,o,n){var i=1,a=we.get("alasql");if(r&&a&&a.databases&&a.databases[e])i=0;else{if(a||(a={databases:{}}),a.databases&&a.databases[e])throw new Error(\'localStorage: Cannot create new database "\'+e+\'" because it already exists\');a.databases[e]=!0,we.set("alasql",a),we.set(e,{databaseid:e,tables:{}})}return n&&(i=n(i)),i},we.dropDatabase=function(e,t,r){var o=1,n=we.get("alasql");if(t&&n&&n.databases&&!n.databases[e])o=0;else{if(!n){if(t)return r?r(0):0;throw new Error("There is no any AlaSQL databases in localStorage")}if(n.databases&&!n.databases[e])throw new Error(\'localStorage: Cannot drop database "\'+e+\'" because there is no such database\');delete n.databases[e],we.set("alasql",n);var i=we.get(e);for(var a in i.tables)localStorage.removeItem(e+"."+a);localStorage.removeItem(e)}return r&&(o=r(o)),o},we.attachDatabase=function(e,t,r,n,i){var a=1;if(o.databases[t])throw new Error(\'Unable to attach database as "\'+t+\'" because it already exists\');t||(t=e);var s=new o.Database(t);if(s.engineid="LOCALSTORAGE",s.lsdbid=e,s.tables=we.get(e).tables,!o.options.autocommit&&s.tables)for(var u in s.tables)we.restoreTable(t,u);return i&&(a=i(a)),a},we.showDatabases=function(e,t){var r=[],o=we.get("alasql");if(e)var n=new RegExp(e.value.replace(/%/g,".*"),"g");if(o&&o.databases){for(var i in o.databases)r.push({databaseid:i});e&&r&&r.length>0&&(r=r.filter((function(e){return e.databaseid.match(n)})))}return t&&(r=t(r)),r},we.createTable=function(e,t,r,n){var i=1,a=o.databases[e].lsdbid;if(we.get(a+"."+t)&&!r)throw new Error(\'Table "\'+t+\'" alsready exists in localStorage database "\'+a+\'"\');var s=we.get(a);return o.databases[e].tables[t],s.tables[t]=!0,we.set(a,s),we.storeTable(e,t),n&&(i=n(i)),i},we.truncateTable=function(e,t,r,n){var i,a=1,s=o.databases[e].lsdbid;if(i=o.options.autocommit?we.get(s):o.databases[e],!r&&!i.tables[t])throw new Error(\'Cannot truncate table "\'+t+\'" in localStorage, because it does not exist\');return we.restoreTable(e,t).data=[],we.storeTable(e,t),n&&(a=n(a)),a},we.dropTable=function(e,t,r,n){var i,a=1,s=o.databases[e].lsdbid;if(i=o.options.autocommit?we.get(s):o.databases[e],!r&&!i.tables[t])throw new Error(\'Cannot drop table "\'+t+\'" in localStorage, because it does not exist\');return delete i.tables[t],we.set(s,i),we.removeTable(e,t),n&&(a=n(a)),a},we.fromTable=function(e,t,r,n,i){o.databases[e].lsdbid;var a=we.restoreTable(e,t).data;return r&&(a=r(a,n,i)),a},we.intoTable=function(e,t,r,n,i){o.databases[e].lsdbid;var a=r.length,s=we.restoreTable(e,t);for(var u in s.identities){var c=s.identities[u];for(var l in r)r[l][u]=c.value,c.value+=c.step}return s.data||(s.data=[]),s.data=s.data.concat(r),we.storeTable(e,t),i&&(a=i(a)),a},we.loadTableData=function(e,t){o.databases[e],o.databases[e].lsdbid,we.restoreTable(e,t)},we.saveTableData=function(e,t){var r=o.databases[e],n=o.databases[e].lsdbid;we.storeTable(n,t),r.tables[t].data=void 0},we.commit=function(e,t){var r=o.databases[e],n=o.databases[e].lsdbid,i={databaseid:n,tables:{}};if(r.tables)for(var a in r.tables)i.tables[a]=!0,we.storeTable(e,a);return we.set(n,i),t?t(1):1},we.begin=we.commit,we.rollback=function(e,t){};var Re=o.engines.SQLITE=function(){};Re.createDatabase=function(e,t,r,o,n){throw new Error("Connot create SQLITE database in memory. Attach it.")},Re.dropDatabase=function(e){throw new Error("This is impossible to drop SQLite database. Detach it.")},Re.attachDatabase=function(e,t,r,n,i){var a=1;if(o.databases[t])throw new Error(\'Unable to attach database as "\'+t+\'" because it already exists\');if(r[0]&&r[0]instanceof z.StringValue||r[0]instanceof z.ParamValue){if(r[0]instanceof z.StringValue)var s=r[0].value;else r[0]instanceof z.ParamValue&&(s=n[r[0].param]);return o.utils.loadBinaryFile(s,!0,(function(r){var n=new o.Database(t||e);n.engineid="SQLITE",n.sqldbid=e;var a=n.sqldb=new SQL.Database(r);n.tables=[],a.exec("SELECT * FROM sqlite_master WHERE type=\'table\'")[0].values.forEach((function(e){n.tables[e[1]]={};var t=n.tables[e[1]].columns=[],r=o.parse(e[4]).statements[0].columns;r&&r.length>0&&r.forEach((function(e){t.push(e)}))})),i(1)}),(function(e){throw new Error(\'Cannot open SQLite database file "\'+r[0].value+\'"\')})),a}throw new Error("Cannot attach SQLite database without a file")},Re.fromTable=function(e,t,r,n,i){var a=o.databases[e].sqldb.exec("SELECT * FROM "+t),s=i.sources[n].columns=[];a[0].columns.length>0&&a[0].columns.forEach((function(e){s.push({columnid:e})}));var u=[];a[0].values.length>0&&a[0].values.forEach((function(e){var t={};s.forEach((function(r,o){t[r.columnid]=e[o]})),u.push(t)})),r&&r(u,n,i)},Re.intoTable=function(e,t,r,n,i){for(var a=o.databases[e].sqldb,s=0,u=r.length;s<u;s++){var c="INSERT INTO "+t+" (",l=r[s],g=Object.keys(l);c+=g.join(","),c+=") VALUES (",c+=g.map((function(e){var t=l[e];return"string"==typeof t&&(t="\'"+t+"\'"),t})).join(","),c+=")",a.exec(c)}var d=u;return i&&i(d),d};var xe=o.engines.FILESTORAGE=o.engines.FILE=function(){};if(xe.createDatabase=function(e,t,r,n,i){var a=1,s=t[0].value;return o.utils.fileExists(s,(function(e){if(e){if(r)return a=0,i&&(a=i(a)),a;throw new Error("Cannot create new database file, because it already exists")}var t={tables:{}};o.utils.saveFile(s,JSON.stringify(t),(function(e){i&&(a=i(a))}))})),a},xe.dropDatabase=function(e,t,r){var n,i="";if("object"==typeof e&&e.value)i=e.value;else{var a=o.databases[e]||{};i=a.filename||"",delete o.databases[e]}return o.utils.fileExists(i,(function(e){if(e)n=1,o.utils.deleteFile(i,(function(){n=1,r&&(n=r(n))}));else{if(!t)throw new Error("Cannot drop database file, because it does not exist");n=0,r&&(n=r(n))}})),n},xe.attachDatabase=function(e,t,r,n,i){var a=1;if(o.databases[t])throw new Error(\'Unable to attach database as "\'+t+\'" because it already exists\');var s=new o.Database(t||e);return s.engineid="FILESTORAGE",s.filename=r[0].value,y(s.filename,!!i,(function(e){try{s.data=JSON.parse(e)}catch{throw new Error("Data in FileStorage database are corrupted")}if(s.tables=s.data.tables,!o.options.autocommit&&s.tables)for(var t in s.tables)s.tables[t].data=s.data[t];i&&(a=i(a))})),a},xe.createTable=function(e,t,r,n){var i=o.databases[e],a=1;if(i.data[t]&&!r)throw new Error(\'Table "\'+t+\'" alsready exists in the database "\'+fsdbid+\'"\');var s=o.databases[e].tables[t];return i.data.tables[t]={columns:s.columns},i.data[t]=[],xe.updateFile(e),n&&n(a),a},xe.updateFile=function(e){var t=o.databases[e];t.issaving?t.postsave=!0:(t.issaving=!0,t.postsave=!1,o.utils.saveFile(t.filename,JSON.stringify(t.data),(function(){t.issaving=!1,t.postsave&&setTimeout((function(){xe.updateFile(e)}),50)})))},xe.dropTable=function(e,t,r,n){var i=1,a=o.databases[e];if(!r&&!a.tables[t])throw new Error(\'Cannot drop table "\'+t+\'" in fileStorage, because it does not exist\');return delete a.tables[t],delete a.data.tables[t],delete a.data[t],xe.updateFile(e),n&&n(i),i},xe.fromTable=function(e,t,r,n,i){var a=o.databases[e].data[t];return r&&(a=r(a,n,i)),a},xe.intoTable=function(e,t,r,n,i){var a=o.databases[e],s=r.length,u=a.data[t];return u||(u=[]),a.data[t]=u.concat(r),xe.updateFile(e),i&&i(s),s},xe.loadTableData=function(e,t){var r=o.databases[e];r.tables[t].data=r.data[t]},xe.saveTableData=function(e,t){var r=o.databases[e];r.data[t]=r.tables[t].data,r.tables[t].data=null,xe.updateFile(e)},xe.commit=function(e,t){var r=o.databases[e];if(r.tables)for(var n in r.tables)r.data.tables[n]={columns:r.tables[n].columns},r.data[n]=r.tables[n].data;return xe.updateFile(e),t?t(1):1},xe.begin=xe.commit,xe.rollback=function(e,t){var r=1,n=o.databases[e];function i(){setTimeout((function(){if(n.issaving)return i();o.loadFile(n.filename,!!t,(function(i){for(var a in n.data=i,n.tables={},n.data.tables){var s=new o.Table({columns:n.data.tables[a].columns});O(s,n.data.tables[a]),n.tables[a]=s,o.options.autocommit||(n.tables[a].data=n.data[a]),n.tables[a].indexColumns()}delete o.databases[e],o.databases[e]=new o.Database(e),O(o.databases[e],n),o.databases[e].engineid="FILESTORAGE",o.databases[e].filename=n.filename,t&&(r=t(r))}))}),100)}n.dbversion++,i()},u.isBrowser&&!u.isWebWorker){if(o=o||!1,!o)throw new Error("alasql was not found");o.worker=function(){throw new Error("Can find webworker in this enviroment")},typeof Worker<"u"&&(o.worker=function(e,t,r){if(!0===e&&(e=void 0),typeof e>"u")for(var n=document.getElementsByTagName("script"),i=0;i<n.length;i++){if("alasql-worker.js"===n[i].src.substr(-16).toLowerCase()){e=n[i].src.substr(0,n[i].src.length-16)+"alasql.js";break}if("alasql-worker.min.js"===n[i].src.substr(-20).toLowerCase()){e=n[i].src.substr(0,n[i].src.length-20)+"alasql.min.js";break}if("alasql.js"===n[i].src.substr(-9).toLowerCase()){e=n[i].src;break}if("alasql.min.js"===n[i].src.substr(-13).toLowerCase()){e=n[i].src.substr(0,n[i].src.length-13)+"alasql.min.js";break}}if(typeof e>"u")throw new Error("Path to alasql.js is not specified");if(!1!==e){var a="importScripts(\'";a+=e,a+="\');self.onmessage = function(event) {alasql(event.data.sql,event.data.params, function(data){postMessage({id:event.data.id, data:data});});}";var s=new Blob([a],{type:"text/plain"});if(o.webworker=new Worker(URL.createObjectURL(s)),o.webworker.onmessage=function(e){var t=e.data.id;o.buffer[t](e.data.data),delete o.buffer[t]},o.webworker.onerror=function(e){throw e},arguments.length>1){var u="REQUIRE "+t.map((function(e){return\'"\'+e+\'"\'})).join(",");o(u,[],r)}}else if(!1===e)return void delete o.webworker});var Oe=Oe||function(e){if(!(typeof e>"u"||typeof navigator<"u"&&/MSIE [1-9]\\./.test(navigator.userAgent))){var t=e.document,r=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\\/[\\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},c="application/octet-stream",l=4e4,g=function(e){setTimeout((function(){"string"==typeof e?r().revokeObjectURL(e):e.remove()}),l)},d=function(e,t,r){for(var o=(t=[].concat(t)).length;o--;){var n=e["on"+t[o]];if("function"==typeof n)try{n.call(e,r||e)}catch(e){u(e)}}},f=function(e){return/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type)?new Blob(["\\ufeff",e],{type:e.type}):e},h=function(t,u,l){l||(t=f(t));var h,p=this,m=t.type===c,y=function(){d(p,"writestart progress write writeend".split(" "))},b=function(){if((s||m&&a)&&e.FileReader){var o=new FileReader;return o.onloadend=function(){var t=s?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,y()},o.readAsDataURL(t),void(p.readyState=p.INIT)}h||(h=r().createObjectURL(t)),m?e.location.href=h:e.open(h,"_blank")||(e.location.href=h),p.readyState=p.DONE,y(),g(h)};if(p.readyState=p.INIT,n)return h=r().createObjectURL(t),void setTimeout((function(){o.href=h,o.download=u,i(o),y(),g(h),p.readyState=p.DONE}));b()},p=h.prototype,m=function(e,t,r){return new h(e,t||e.name||"download",r)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,m)}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);e.exports?e.exports.saveAs=Oe:null!==r.amdD&&null!==r.amdO&&void 0!==(i=function(){return Oe}.call(t,r,t,e))&&(e.exports=i),(u.isCordova||u.isMeteorServer||u.isNode)&&console.log("It looks like you are using the browser version of AlaSQL. Please use the alasql.fs.js file instead."),o.utils.saveAs=Oe}return new P("alasql"),o.use("alasql"),o},void 0===(i="function"==typeof o?o.apply(t,n):o)||(e.exports=i)},2900:function(e,t,r){"use strict";var o=r(3291);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},2901:function(e,t,r){"use strict";var o=r(8052),n=r(5004),i=r(7140),a=r(3348),s=r(671),u=r(8819),c=r(4175)("iterator"),l=a.values,g=function(e,t){if(e){if(e[c]!==l)try{s(e,c,l)}catch(t){e[c]=l}if(u(e,t,!0),n[t])for(var r in a)if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var d in n)g(o[d]&&o[d].prototype,d);g(i,"DOMTokenList")},2921:function(e,t,r){"use strict";var o=r(6007),n=r(8052),i=r(1941),a="__core-js_shared__",s=e.exports=n[a]||i(a,{});(s.versions||(s.versions=[])).push({version:"3.41.0",mode:o?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},2961:function(e,t,r){"use strict";var o=r(9004),n=r(2484),i=r(51),a=r(8649),s=r(8770),u=r(4929),c=n([].push),l=function(e){var t=1===e,r=2===e,n=3===e,l=4===e,g=6===e,d=7===e,f=5===e||g;return function(h,p,m,y){for(var b,E,_=a(h),S=i(_),v=s(S),T=o(p,m),A=0,N=y||u,C=t?N(h,v):r||d?N(h,0):void 0;v>A;A++)if((f||A in S)&&(E=T(b=S[A],A,_),e))if(t)C[A]=E;else if(E)switch(e){case 3:return!0;case 5:return b;case 6:return A;case 2:c(C,b)}else switch(e){case 4:return!1;case 7:c(C,b)}return g?-1:n||l?l:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},2999:function(e,t,r){var o,n,i;i=function(){var e="first",t=document,r={}.hasOwnProperty;function o(){return n.apply(null,arguments)||i.apply(null,arguments)}function n(e,t,r,n,a){if(t&&!t.nodeType&&arguments.length<=2)return!1;var s,u="function"==typeof r;u&&(s=r,r=function(e,t){return s(e.text,t.startIndex)});var c=i(t,{find:e,wrap:u?null:r,replace:u?r:"$"+(n||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(n>0){var r=e[n];e.index+=e[0].indexOf(r),e[0]=r}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},filterElements:a});return o.revert=function(){return c.revert()},!0}function i(e,t){return new a(e,t)}function a(e,t){var n=t.preset&&o.PRESETS[t.preset];if(t.portionMode=t.portionMode||"retain",n)for(var i in n)r.call(n,i)&&!r.call(t,i)&&(t[i]=n[i]);this.node=e,this.options=t,this.prepMatch=t.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}return o.NON_PROSE_ELEMENTS={br:1,hr:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1},o.NON_CONTIGUOUS_PROSE_ELEMENTS={address:1,article:1,aside:1,blockquote:1,dd:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,nav:1,noscript:1,ol:1,output:1,p:1,pre:1,section:1,ul:1,br:1,li:1,summary:1,dt:1,details:1,rp:1,rt:1,rtc:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1,table:1,tbody:1,thead:1,th:1,tr:1,td:1,caption:1,col:1,tfoot:1,colgroup:1},o.NON_INLINE_PROSE=function(e){return r.call(o.NON_CONTIGUOUS_PROSE_ELEMENTS,e.nodeName.toLowerCase())},o.PRESETS={prose:{forceContext:o.NON_INLINE_PROSE,filterElements:function(e){return!r.call(o.NON_PROSE_ELEMENTS,e.nodeName.toLowerCase())}}},o.Finder=a,a.prototype={search:function(){var e,t=0,r=0,o=this.options.find,n=this.getAggregateText(),i=[],a=this;return o="string"==typeof o?RegExp(String(o).replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g,"\\\\$1"),"g"):o,function n(s){for(var u=0,c=s.length;u<c;++u){var l=s[u];if("string"==typeof l){if(o.global)for(;e=o.exec(l);)i.push(a.prepMatch(e,t++,r));else(e=l.match(o))&&i.push(a.prepMatch(e,0,r));r+=l.length}else n(l)}}(n),i},prepMatch:function(e,t,r){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=r+e.index+e[0].length,e.startIndex=r+e.index,e.index=t,e},getAggregateText:function(){var e=this.options.filterElements,t=this.options.forceContext;return function r(o){if(o.nodeType===Node.TEXT_NODE)return[o.data];if(e&&!e(o))return[];var n=[""],i=0;if(o=o.firstChild)do{if(o.nodeType!==Node.TEXT_NODE){var a=r(o);t&&o.nodeType===Node.ELEMENT_NODE&&(!0===t||t(o))?(n[++i]=a,n[++i]=""):("string"==typeof a[0]&&(n[i]+=a.shift()),a.length&&(n[++i]=a,n[++i]=""))}else n[i]+=o.data}while(o=o.nextSibling);return n}(this.node)},processMatches:function(){var e,t,r,o=this.matches,n=this.node,i=this.options.filterElements,a=[],s=n,u=o.shift(),c=0,l=0,g=[n];e:for(;;){if(s.nodeType===Node.TEXT_NODE&&(!t&&s.length+c>=u.endIndex?t={node:s,index:l++,text:s.data.substring(u.startIndex-c,u.endIndex-c),indexInMatch:0===c?0:c-u.startIndex,indexInNode:u.startIndex-c,endIndexInNode:u.endIndex-c,isEnd:!0}:e&&a.push({node:s,index:l++,text:s.data,indexInMatch:c-u.startIndex,indexInNode:0}),!e&&s.length+c>u.startIndex&&(e={node:s,index:l++,indexInMatch:0,indexInNode:u.startIndex-c,endIndexInNode:u.endIndex-c,text:s.data.substring(u.startIndex-c,u.endIndex-c)}),c+=s.data.length),r=s.nodeType===Node.ELEMENT_NODE&&i&&!i(s),e&&t){if(s=this.replaceMatch(u,e,a,t),c-=t.node.data.length-t.endIndexInNode,e=null,t=null,a=[],l=0,!(u=o.shift()))break}else if(!r&&(s.firstChild||s.nextSibling)){s.firstChild?(g.push(s),s=s.firstChild):s=s.nextSibling;continue}for(;;){if(s.nextSibling){s=s.nextSibling;break}if((s=g.pop())===n)break e}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(t,r,o){var n=this.options.portionMode;return n===e&&r.indexInMatch>0?"":(t=t.replace(/\\$(\\d+|&|`|\')/g,(function(e,t){var r;switch(t){case"&":r=o[0];break;case"`":r=o.input.substring(0,o.startIndex);break;case"\'":r=o.input.substring(o.endIndex);break;default:r=o[+t]||""}return r})),n===e?t:r.isEnd?t.substring(r.indexInMatch):t.substring(r.indexInMatch,r.indexInMatch+r.text.length))},getPortionReplacementNode:function(e,r){var o=this.options.replace||"$&",n=this.options.wrap,i=this.options.wrapClass;if(n&&n.nodeType){var a=t.createElement("div");a.innerHTML=n.outerHTML||(new XMLSerializer).serializeToString(n),n=a.firstChild}if("function"==typeof o)return(o=o(e,r))&&o.nodeType?o:t.createTextNode(String(o));var s="string"==typeof n?t.createElement(n):n;return s&&i&&(s.className=i),(o=t.createTextNode(this.prepareReplacementString(o,e,r))).data&&s?(s.appendChild(o),s):o},replaceMatch:function(e,r,o,n){var i,a,s=r.node,u=n.node;if(s===u){var c=s;r.indexInNode>0&&(i=t.createTextNode(c.data.substring(0,r.indexInNode)),c.parentNode.insertBefore(i,c));var l=this.getPortionReplacementNode(n,e);return c.parentNode.insertBefore(l,c),n.endIndexInNode<c.length&&(a=t.createTextNode(c.data.substring(n.endIndexInNode)),c.parentNode.insertBefore(a,c)),c.parentNode.removeChild(c),this.reverts.push((function(){i===l.previousSibling&&i.parentNode.removeChild(i),a===l.nextSibling&&a.parentNode.removeChild(a),l.parentNode.replaceChild(c,l)})),l}i=t.createTextNode(s.data.substring(0,r.indexInNode)),a=t.createTextNode(u.data.substring(n.endIndexInNode));for(var g=this.getPortionReplacementNode(r,e),d=[],f=0,h=o.length;f<h;++f){var p=o[f],m=this.getPortionReplacementNode(p,e);p.node.parentNode.replaceChild(m,p.node),this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(p,m)),d.push(m)}var y=this.getPortionReplacementNode(n,e);return s.parentNode.insertBefore(i,s),s.parentNode.insertBefore(g,s),s.parentNode.removeChild(s),u.parentNode.insertBefore(y,u),u.parentNode.insertBefore(a,u),u.parentNode.removeChild(u),this.reverts.push((function(){i.parentNode.removeChild(i),g.parentNode.replaceChild(s,g),a.parentNode.removeChild(a),y.parentNode.replaceChild(u,y)})),y}},o},e.exports?e.exports=i():void 0===(n="function"==typeof(o=i)?o.call(t,r,t,e):o)||(e.exports=n)},3026:function(e,t,r){"use strict";var o=r(7391),n=Math.min;e.exports=function(e){var t=o(e);return t>0?n(t,9007199254740991):0}},3037:function(e,t,r){"use strict";var o=r(2128),n=r(706),i=r(6005),a=r(659),s=r(8969),u=r(4700);t.f=o&&!n?Object.defineProperties:function(e,t){a(e);for(var r,o=s(t),n=u(t),c=n.length,l=0;c>l;)i.f(e,r=n[l++],o[r]);return e}},3049:function(e,t,r){"use strict";var o=r(4690).PROPER,n=r(5236),i=r(659),a=r(7267),s=r(2675),u=r(3614),c="toString",l=RegExp.prototype,g=l[c],d=s((function(){return"/a/b"!==g.call({source:"a",flags:"b"})})),f=o&&g.name!==c;(d||f)&&n(l,c,(function(){var e=i(this);return"/"+a(e.source)+"/"+a(u(e))}),{unsafe:!0})},3071:function(e,t,r){"use strict";var o=r(2128),n=r(3625),i=r(7769),a=r(5936),s=r(8969),u=r(1261),c=r(4461),l=r(4113),g=Object.getOwnPropertyDescriptor;t.f=o?g:function(e,t){if(e=s(e),t=u(t),l)try{return g(e,t)}catch(e){}if(c(e,t))return a(!n(i.f,e,t),e[t])}},3107:function(e,t,r){"use strict";var o=r(2404),n=r(1990).has,i=r(7358),a=r(4665),s=r(8711),u=r(1151);e.exports=function(e){var t=o(this),r=a(e);if(i(t)<r.size)return!1;var c=r.getIterator();return!1!==s(c,(function(e){if(!n(t,e))return u(c,"normal",!1)}))}},3112:function(e,t,r){"use strict";var o=r(1441),n=r(8379),i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(n(e)+" is not a constructor")}},3150:function(e){"use strict";var t=/["\'&<>]/;e.exports=function(e){var r,o=""+e,n=t.exec(o);if(!n)return o;var i="",a=0,s=0;for(a=n.index;a<o.length;a++){switch(o.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=o.substring(s,a)),s=a+1,i+=r}return s!==a?i+o.substring(s,a):i}},3163:function(e,t,r){"use strict";var o=r(8052),n=r(321);e.exports=function(e,t){return arguments.length<2?(r=o[e],n(r)?r:void 0):o[e]&&o[e][t];var r}},3179:function(e,t,r){"use strict";var o=r(5236);e.exports=function(e,t,r){for(var n in t)o(e,n,t[n],r);return e}},3256:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2454),a=r(2285);o({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return n(a,this,i(e))}})},3291:function(e,t,r){"use strict";var o=r(8052).navigator,n=o&&o.userAgent;e.exports=n?String(n):""},3316:function(e,t,r){"use strict";var o=r(6891);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3348:function(e,t,r){"use strict";var o=r(8969),n=r(2153),i=r(6609),a=r(6369),s=r(6005).f,u=r(8676),c=r(381),l=r(6007),g=r(2128),d="Array Iterator",f=a.set,h=a.getterFor(d);e.exports=u(Array,"Array",(function(e,t){f(this,{type:d,target:o(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,c(void 0,!0);switch(e.kind){case"keys":return c(r,!1);case"values":return c(t[r],!1)}return c([r,t[r]],!1)}),"values");var p=i.Arguments=i.Array;if(n("keys"),n("values"),n("entries"),!l&&g&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},3401:function(e,t,r){"use strict";var o=r(3163),n=r(321),i=r(7837),a=r(3316),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return n(t)&&i(t.prototype,s(e))}},3406:function(e,t,r){"use strict";var o=r(8810),n=r(5150).trim;o({target:"String",proto:!0,forced:r(790)("trim")},{trim:function(){return n(this)}})},3443:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3452:function(e,t,r){"use strict";var o=r(8810),n=r(4334),i=r(2404),a=r(6417),s=TypeError;o({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=i(this),r=arguments.length<2,o=r?void 0:arguments[1];if(n(e),a(t,(function(n){r?(r=!1,o=n):o=e(o,n,n,t)})),r)throw new s("Reduce of empty set with no initial value");return o}})},3544:function(e,t,r){"use strict";var o=r(8052),n=r(5004),i=r(7140),a=r(9311),s=r(671),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in n)n[c]&&u(o[c]&&o[c].prototype);u(i)},3555:function(e,t,r){"use strict";var o=r(8052),n=r(2675),i=r(2484),a=r(7267),s=r(5150).trim,u=r(4912),c=o.parseInt,l=o.Symbol,g=l&&l.iterator,d=/^[+-]?0x/i,f=i(d.exec),h=8!==c(u+"08")||22!==c(u+"0x16")||g&&!n((function(){c(Object(g))}));e.exports=h?function(e,t){var r=s(a(e));return c(r,t>>>0||(f(d,r)?16:10))}:c},3560:function(e,t,r){"use strict";var o=r(2404),n=r(1990).add,i=r(466),a=r(4665),s=r(8711);e.exports=function(e){var t=o(this),r=a(e).getIterator(),u=i(t);return s(r,(function(e){n(u,e)})),u}},3588:function(e,t,r){"use strict";var o=r(2675);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3597:function(e,t,r){"use strict";var o,n,i,a=r(2675),s=r(321),u=r(4102),c=r(3844),l=r(5927),g=r(5236),d=r(4175),f=r(6007),h=d("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(n=l(l(i)))!==Object.prototype&&(o=n):p=!0),!u(o)||a((function(){var e={};return o[h].call(e)!==e}))?o={}:f&&(o=c(o)),s(o[h])||g(o,h,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:p}},3614:function(e,t,r){"use strict";var o=r(3625),n=r(4461),i=r(7837),a=r(8303),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||n(e,"flags")||!i(s,e)?t:o(a,e)}},3625:function(e,t,r){"use strict";var o=r(3588),n=Function.prototype.call;e.exports=o?n.bind(n):function(){return n.apply(n,arguments)}},3709:function(e,t,r){"use strict";var o=r(4175),n=r(6609),i=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},3779:function(e,t,r){"use strict";var o=r(6445),n=r(2868),i=o("keys");e.exports=function(e){return i[e]||(i[e]=n(e))}},3844:function(e,t,r){"use strict";var o,n=r(659),i=r(3037),a=r(8563),s=r(6617),u=r(7073),c=r(4451),l=r(3779),g="prototype",d="script",f=l("IE_PROTO"),h=function(){},p=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;y="undefined"!=typeof document?document.domain&&o?m(o):(t=c("iframe"),r="java"+d+":",t.style.display="none",u.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):m(o);for(var n=a.length;n--;)delete y[g][a[n]];return y()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[g]=n(e),r=new h,h[g]=null,r[f]=e):r=y(),void 0===t?r:i.f(r,t)}},3886:function(e,t){var r;!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,(function(o,n){"use strict";var i=[],a=Object.getPrototypeOf,s=i.slice,u=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,l=i.indexOf,g={},d=g.toString,f=g.hasOwnProperty,h=f.toString,p=h.call(Object),m={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},E=o.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function S(e,t,r){var o,n,i=(r=r||E).createElement("script");if(i.text=e,t)for(o in _)(n=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,n);r.head.appendChild(i).parentNode.removeChild(i)}function v(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?g[d.call(e)]||"object":typeof e}var T="3.7.1",A=/HTML$/i,N=function(e,t){return new N.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,r=v(e);return!y(e)&&!b(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}N.fn=N.prototype={jquery:T,constructor:N,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=N.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return N.each(this,e)},map:function(e){return this.pushStack(N.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(N.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(N.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},N.extend=N.fn.extend=function(){var e,t,r,o,n,i,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)o=e[t],"__proto__"!==t&&a!==o&&(c&&o&&(N.isPlainObject(o)||(n=Array.isArray(o)))?(r=a[t],i=n&&!Array.isArray(r)?[]:n||N.isPlainObject(r)?r:{},n=!1,a[t]=N.extend(c,i,o)):void 0!==o&&(a[t]=o));return a},N.extend({expando:"jQuery"+(T+Math.random()).replace(/\\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(r=f.call(t,"constructor")&&t.constructor)&&h.call(r)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){S(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,o=0;if(C(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},text:function(e){var t,r="",o=0,n=e.nodeType;if(!n)for(;t=e[o++];)r+=N.text(t);return 1===n||11===n?e.textContent:9===n?e.documentElement.textContent:3===n||4===n?e.nodeValue:r},makeArray:function(e,t){var r=t||[];return null!=e&&(C(Object(e))?N.merge(r,"string"==typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:l.call(t,e,r)},isXMLDoc:function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!A.test(t||r&&r.nodeName||"HTML")},merge:function(e,t){for(var r=+t.length,o=0,n=e.length;o<r;o++)e[n++]=t[o];return e.length=n,e},grep:function(e,t,r){for(var o=[],n=0,i=e.length,a=!r;n<i;n++)!t(e[n],n)!==a&&o.push(e[n]);return o},map:function(e,t,r){var o,n,i=0,a=[];if(C(e))for(o=e.length;i<o;i++)null!=(n=t(e[i],i,r))&&a.push(n);else for(i in e)null!=(n=t(e[i],i,r))&&a.push(n);return u(a)},guid:1,support:m}),"function"==typeof Symbol&&(N.fn[Symbol.iterator]=i[Symbol.iterator]),N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){g["[object "+t+"]"]=t.toLowerCase()}));var w=i.pop,R=i.sort,x=i.splice,O="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",I=new RegExp("^"+O+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+O+"+$","g");N.contains=function(e,t){var r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(e.contains?e.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))};var k=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;function M(e,t){return t?"\\0"===e?"":e.slice(0,-1)+"\\\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\\\"+e}N.escapeSelector=function(e){return(e+"").replace(k,M)};var L=E,$=c;!function(){var e,t,r,n,a,u,c,g,d,h,p=$,y=N.expando,b=0,E=0,_=ee(),S=ee(),v=ee(),T=ee(),A=function(e,t){return e===t&&(a=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",k="(?:\\\\\\\\[\\\\da-fA-F]{1,6}"+O+"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+",M="\\\\["+O+"*("+k+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\"|("+k+"))|)"+O+"*\\\\]",F=":("+k+")(?:\\\\(((\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+M+")*)|.*)\\\\)|)",U=new RegExp(O+"+","g"),P=new RegExp("^"+O+"*,"+O+"*"),H=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),j=new RegExp(O+"|>"),B=new RegExp(F),q=new RegExp("^"+k+"$"),V={ID:new RegExp("^#("+k+")"),CLASS:new RegExp("^\\\\.("+k+")"),TAG:new RegExp("^("+k+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+O+"*(even|odd|(([+-]|)(\\\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\\\d+)|))"+O+"*\\\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+O+"*((?:-\\\\d)?\\\\d*)"+O+"*\\\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,z=/^h\\d$/i,Y=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,W=/[+~]/,K=new RegExp("\\\\\\\\[\\\\da-fA-F]{1,6}"+O+"?|\\\\\\\\([^\\\\r\\\\n\\\\f])","g"),J=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},X=function(){ue()},Q=de((function(e){return!0===e.disabled&&D(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{p.apply(i=s.call(L.childNodes),L.childNodes),i[L.childNodes.length].nodeType}catch(e){p={apply:function(e,t){$.apply(e,s.call(t))},call:function(e){$.apply(e,s.call(arguments,1))}}}function Z(e,t,r,o){var n,i,a,s,c,l,f,h=t&&t.ownerDocument,b=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return r;if(!o&&(ue(t),t=t||u,g)){if(11!==b&&(c=Y.exec(e)))if(n=c[1]){if(9===b){if(!(a=t.getElementById(n)))return r;if(a.id===n)return p.call(r,a),r}else if(h&&(a=h.getElementById(n))&&Z.contains(t,a)&&a.id===n)return p.call(r,a),r}else{if(c[2])return p.apply(r,t.getElementsByTagName(e)),r;if((n=c[3])&&t.getElementsByClassName)return p.apply(r,t.getElementsByClassName(n)),r}if(!(T[e+" "]||d&&d.test(e))){if(f=e,h=t,1===b&&(j.test(e)||H.test(e))){for((h=W.test(e)&&se(t.parentNode)||t)==t&&m.scope||((s=t.getAttribute("id"))?s=N.escapeSelector(s):t.setAttribute("id",s=y)),i=(l=le(e)).length;i--;)l[i]=(s?"#"+s:":scope")+" "+ge(l[i]);f=l.join(",")}try{return p.apply(r,h.querySelectorAll(f)),r}catch(t){T(e,!0)}finally{s===y&&t.removeAttribute("id")}}}return be(e.replace(I,"$1"),t,r,o)}function ee(){var e=[];return function r(o,n){return e.push(o+" ")>t.cacheLength&&delete r[e.shift()],r[o+" "]=n}}function te(e){return e[y]=!0,e}function re(e){var t=u.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(e){return function(t){return D(t,"input")&&t.type===e}}function ne(e){return function(t){return(D(t,"input")||D(t,"button"))&&t.type===e}}function ie(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(r,o){for(var n,i=e([],r.length,t),a=i.length;a--;)r[n=i[a]]&&(r[n]=!(o[n]=r[n]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function ue(e){var r,o=e?e.ownerDocument||e:L;return o!=u&&9===o.nodeType&&o.documentElement?(c=(u=o).documentElement,g=!N.isXMLDoc(u),h=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&L!=u&&(r=u.defaultView)&&r.top!==r&&r.addEventListener("unload",X),m.getById=re((function(e){return c.appendChild(e).id=N.expando,!u.getElementsByName||!u.getElementsByName(N.expando).length})),m.disconnectedMatch=re((function(e){return h.call(e,"*")})),m.scope=re((function(){return u.querySelectorAll(":scope")})),m.cssHas=re((function(){try{return u.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),m.getById?(t.filter.ID=function(e){var t=e.replace(K,J);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r=t.getElementById(e);return r?[r]:[]}}):(t.filter.ID=function(e){var t=e.replace(K,J);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r,o,n,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(n=t.getElementsByName(e),o=0;i=n[o++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},d=[],re((function(e){var t;c.appendChild(e).innerHTML="<a id=\'"+y+"\' href=\'\' disabled=\'disabled\'></a><select id=\'"+y+"-\\r\\\\\' disabled=\'disabled\'><option selected=\'\'></option></select>",e.querySelectorAll("[selected]").length||d.push("\\\\["+O+"*(?:value|"+C+")"),e.querySelectorAll("[id~="+y+"-]").length||d.push("~="),e.querySelectorAll("a#"+y+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=u.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=u.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name=\'\']").length||d.push("\\\\["+O+"*name"+O+"*="+O+"*(?:\'\'|\\"\\")")})),m.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),A=function(e,t){if(e===t)return a=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===r?e===u||e.ownerDocument==L&&Z.contains(L,e)?-1:t===u||t.ownerDocument==L&&Z.contains(L,t)?1:n?l.call(n,e)-l.call(n,t):0:4&r?-1:1)},u):u}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(ue(e),g&&!T[t+" "]&&(!d||!d.test(t)))try{var r=h.call(e,t);if(r||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){T(t,!0)}return Z(t,u,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=u&&ue(e),N.contains(e,t)},Z.attr=function(e,r){(e.ownerDocument||e)!=u&&ue(e);var o=t.attrHandle[r.toLowerCase()],n=o&&f.call(t.attrHandle,r.toLowerCase())?o(e,r,!g):void 0;return void 0!==n?n:e.getAttribute(r)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},N.uniqueSort=function(e){var t,r=[],o=0,i=0;if(a=!m.sortStable,n=!m.sortStable&&s.call(e,0),R.call(e,A),a){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)x.call(e,r[o],1)}return n=null,e},N.fn.uniqueSort=function(){return this.pushStack(N.uniqueSort(s.apply(this)))},t=N.expr={cacheLength:50,createPseudo:te,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,J),e[3]=(e[3]||e[4]||e[5]||"").replace(K,J),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&B.test(r)&&(t=le(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,J).toLowerCase();return"*"===e?function(){return!0}:function(e){return D(e,t)}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&_(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(o){var n=Z.attr(o,e);return null==n?"!="===t:!t||(n+="","="===t?n===r:"!="===t?n!==r:"^="===t?r&&0===n.indexOf(r):"*="===t?r&&n.indexOf(r)>-1:"$="===t?r&&n.slice(-r.length)===r:"~="===t?(" "+n.replace(U," ")+" ").indexOf(r)>-1:"|="===t&&(n===r||n.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,o,n){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===n?function(e){return!!e.parentNode}:function(t,r,u){var c,l,g,d,f,h=i!==a?"nextSibling":"previousSibling",p=t.parentNode,m=s&&t.nodeName.toLowerCase(),E=!u&&!s,_=!1;if(p){if(i){for(;h;){for(g=t;g=g[h];)if(s?D(g,m):1===g.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?p.firstChild:p.lastChild],a&&E){for(_=(d=(c=(l=p[y]||(p[y]={}))[e]||[])[0]===b&&c[1])&&c[2],g=d&&p.childNodes[d];g=++d&&g&&g[h]||(_=d=0)||f.pop();)if(1===g.nodeType&&++_&&g===t){l[e]=[b,d,_];break}}else if(E&&(_=d=(c=(l=t[y]||(t[y]={}))[e]||[])[0]===b&&c[1]),!1===_)for(;(g=++d&&g&&g[h]||(_=d=0)||f.pop())&&(!(s?D(g,m):1===g.nodeType)||!++_||(E&&((l=g[y]||(g[y]={}))[e]=[b,_]),g!==t)););return(_-=n)===o||_%o==0&&_/o>=0}}},PSEUDO:function(e,r){var o,n=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return n[y]?n(r):n.length>1?(o=[e,e,"",r],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var o,i=n(e,r),a=i.length;a--;)e[o=l.call(e,i[a])]=!(t[o]=i[a])})):function(e){return n(e,0,o)}):n}},pseudos:{not:te((function(e){var t=[],r=[],o=ye(e.replace(I,"$1"));return o[y]?te((function(e,t,r,n){for(var i,a=o(e,null,n,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,n,i){return t[0]=e,o(t,null,i,r),t[0]=null,!r.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(K,J),function(t){return(t.textContent||N.text(t)).indexOf(e)>-1}})),lang:te((function(e){return q.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(K,J).toLowerCase(),function(t){var r;do{if(r=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=o.location&&o.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return u.activeElement}catch(e){}}()&&u.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:ie(!1),disabled:ie(!0),checked:function(e){return D(e,"input")&&!!e.checked||D(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return z.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){return D(e,"input")&&"button"===e.type||D(e,"button")},text:function(e){var t;return D(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,r){return[r<0?r+t:r]})),even:ae((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:ae((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:ae((function(e,t,r){var o;for(o=r<0?r+t:r>t?t:r;--o>=0;)e.push(o);return e})),gt:ae((function(e,t,r){for(var o=r<0?r+t:r;++o<t;)e.push(o);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=oe(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ne(e);function ce(){}function le(e,r){var o,n,i,a,s,u,c,l=S[e+" "];if(l)return r?0:l.slice(0);for(s=e,u=[],c=t.preFilter;s;){for(a in o&&!(n=P.exec(s))||(n&&(s=s.slice(n[0].length)||s),u.push(i=[])),o=!1,(n=H.exec(s))&&(o=n.shift(),i.push({value:o,type:n[0].replace(I," ")}),s=s.slice(o.length)),t.filter)!(n=V[a].exec(s))||c[a]&&!(n=c[a](n))||(o=n.shift(),i.push({value:o,type:a,matches:n}),s=s.slice(o.length));if(!o)break}return r?s.length:s?Z.error(e):S(e,u).slice(0)}function ge(e){for(var t=0,r=e.length,o="";t<r;t++)o+=e[t].value;return o}function de(e,t,r){var o=t.dir,n=t.next,i=n||o,a=r&&"parentNode"===i,s=E++;return t.first?function(t,r,n){for(;t=t[o];)if(1===t.nodeType||a)return e(t,r,n);return!1}:function(t,r,u){var c,l,g=[b,s];if(u){for(;t=t[o];)if((1===t.nodeType||a)&&e(t,r,u))return!0}else for(;t=t[o];)if(1===t.nodeType||a)if(l=t[y]||(t[y]={}),n&&D(t,n))t=t[o]||t;else{if((c=l[i])&&c[0]===b&&c[1]===s)return g[2]=c[2];if(l[i]=g,g[2]=e(t,r,u))return!0}return!1}}function fe(e){return e.length>1?function(t,r,o){for(var n=e.length;n--;)if(!e[n](t,r,o))return!1;return!0}:e[0]}function he(e,t,r,o,n){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(r&&!r(i,o,n)||(a.push(i),c&&t.push(s)));return a}function pe(e,t,r,o,n,i){return o&&!o[y]&&(o=pe(o)),n&&!n[y]&&(n=pe(n,i)),te((function(i,a,s,u){var c,g,d,f,h=[],m=[],y=a.length,b=i||function(e,t,r){for(var o=0,n=t.length;o<n;o++)Z(e,t[o],r);return r}(t||"*",s.nodeType?[s]:s,[]),E=!e||!i&&t?b:he(b,h,e,s,u);if(r?r(E,f=n||(i?e:y||o)?[]:a,s,u):f=E,o)for(c=he(f,m),o(c,[],s,u),g=c.length;g--;)(d=c[g])&&(f[m[g]]=!(E[m[g]]=d));if(i){if(n||e){if(n){for(c=[],g=f.length;g--;)(d=f[g])&&c.push(E[g]=d);n(null,f=[],c,u)}for(g=f.length;g--;)(d=f[g])&&(c=n?l.call(i,d):h[g])>-1&&(i[c]=!(a[c]=d))}}else f=he(f===a?f.splice(y,f.length):f),n?n(null,a,f,u):p.apply(a,f)}))}function me(e){for(var o,n,i,a=e.length,s=t.relative[e[0].type],u=s||t.relative[" "],c=s?1:0,g=de((function(e){return e===o}),u,!0),d=de((function(e){return l.call(o,e)>-1}),u,!0),f=[function(e,t,n){var i=!s&&(n||t!=r)||((o=t).nodeType?g(e,t,n):d(e,t,n));return o=null,i}];c<a;c++)if(n=t.relative[e[c].type])f=[de(fe(f),n)];else{if((n=t.filter[e[c].type].apply(null,e[c].matches))[y]){for(i=++c;i<a&&!t.relative[e[i].type];i++);return pe(c>1&&fe(f),c>1&&ge(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(I,"$1"),n,c<i&&me(e.slice(c,i)),i<a&&me(e=e.slice(i)),i<a&&ge(e))}f.push(n)}return fe(f)}function ye(e,o){var n,i=[],a=[],s=v[e+" "];if(!s){for(o||(o=le(e)),n=o.length;n--;)(s=me(o[n]))[y]?i.push(s):a.push(s);s=v(e,function(e,o){var n=o.length>0,i=e.length>0,a=function(a,s,c,l,d){var f,h,m,y=0,E="0",_=a&&[],S=[],v=r,T=a||i&&t.find.TAG("*",d),A=b+=null==v?1:Math.random()||.1,C=T.length;for(d&&(r=s==u||s||d);E!==C&&null!=(f=T[E]);E++){if(i&&f){for(h=0,s||f.ownerDocument==u||(ue(f),c=!g);m=e[h++];)if(m(f,s||u,c)){p.call(l,f);break}d&&(b=A)}n&&((f=!m&&f)&&y--,a&&_.push(f))}if(y+=E,n&&E!==y){for(h=0;m=o[h++];)m(_,S,s,c);if(a){if(y>0)for(;E--;)_[E]||S[E]||(S[E]=w.call(l));S=he(S)}p.apply(l,S),d&&!a&&S.length>0&&y+o.length>1&&N.uniqueSort(l)}return d&&(b=A,r=v),_};return n?te(a):a}(a,i)),s.selector=e}return s}function be(e,r,o,n){var i,a,s,u,c,l="function"==typeof e&&e,d=!n&&le(e=l.selector||e);if(o=o||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===r.nodeType&&g&&t.relative[a[1].type]){if(!(r=(t.find.ID(s.matches[0].replace(K,J),r)||[])[0]))return o;l&&(r=r.parentNode),e=e.slice(a.shift().value.length)}for(i=V.needsContext.test(e)?0:a.length;i--&&(s=a[i],!t.relative[u=s.type]);)if((c=t.find[u])&&(n=c(s.matches[0].replace(K,J),W.test(a[0].type)&&se(r.parentNode)||r))){if(a.splice(i,1),!(e=n.length&&ge(a)))return p.apply(o,n),o;break}}return(l||ye(e,d))(n,r,!g,o,!r||W.test(e)&&se(r.parentNode)||r),o}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,m.sortStable=y.split("").sort(A).join("")===y,ue(),m.sortDetached=re((function(e){return 1&e.compareDocumentPosition(u.createElement("fieldset"))})),N.find=Z,N.expr[":"]=N.expr.pseudos,N.unique=N.uniqueSort,Z.compile=ye,Z.select=be,Z.setDocument=ue,Z.tokenize=le,Z.escape=N.escapeSelector,Z.getText=N.text,Z.isXML=N.isXMLDoc,Z.selectors=N.expr,Z.support=N.support,Z.uniqueSort=N.uniqueSort}();var F=function(e,t,r){for(var o=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&N(e).is(r))break;o.push(e)}return o},U=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},P=N.expr.match.needsContext,H=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function j(e,t,r){return y(t)?N.grep(e,(function(e,o){return!!t.call(e,o,e)!==r})):t.nodeType?N.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?N.grep(e,(function(e){return l.call(t,e)>-1!==r})):N.filter(t,e,r)}N.filter=function(e,t,r){var o=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?N.find.matchesSelector(o,e)?[o]:[]:N.find.matches(e,N.grep(t,(function(e){return 1===e.nodeType})))},N.fn.extend({find:function(e){var t,r,o=this.length,n=this;if("string"!=typeof e)return this.pushStack(N(e).filter((function(){for(t=0;t<o;t++)if(N.contains(n[t],this))return!0})));for(r=this.pushStack([]),t=0;t<o;t++)N.find(e,n[t],r);return o>1?N.uniqueSort(r):r},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&P.test(e)?N(e):e||[],!1).length}});var B,q=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(N.fn.init=function(e,t,r){var o,n;if(!e)return this;if(r=r||B,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!o[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof N?t[0]:t,N.merge(this,N.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),H.test(o[1])&&N.isPlainObject(t))for(o in t)y(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(n=E.getElementById(o[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==r.ready?r.ready(e):e(N):N.makeArray(e,this)}).prototype=N.fn,B=N(E);var V=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function z(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}N.fn.extend({has:function(e){var t=N(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(N.contains(this,t[e]))return!0}))},closest:function(e,t){var r,o=0,n=this.length,i=[],a="string"!=typeof e&&N(e);if(!P.test(e))for(;o<n;o++)for(r=this[o];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&N.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(i.length>1?N.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(N(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),N.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F(e,"parentNode")},parentsUntil:function(e,t,r){return F(e,"parentNode",r)},next:function(e){return z(e,"nextSibling")},prev:function(e){return z(e,"previousSibling")},nextAll:function(e){return F(e,"nextSibling")},prevAll:function(e){return F(e,"previousSibling")},nextUntil:function(e,t,r){return F(e,"nextSibling",r)},prevUntil:function(e,t,r){return F(e,"previousSibling",r)},siblings:function(e){return U((e.parentNode||{}).firstChild,e)},children:function(e){return U(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),N.merge([],e.childNodes))}},(function(e,t){N.fn[e]=function(r,o){var n=N.map(this,t,r);return"Until"!==e.slice(-5)&&(o=r),o&&"string"==typeof o&&(n=N.filter(o,n)),this.length>1&&(G[e]||N.uniqueSort(n),V.test(e)&&n.reverse()),this.pushStack(n)}}));var Y=/[^\\x20\\t\\r\\n\\f]+/g;function W(e){return e}function K(e){throw e}function J(e,t,r,o){var n;try{e&&y(n=e.promise)?n.call(e).done(t).fail(r):e&&y(n=e.then)?n.call(e,t,r):t.apply(void 0,[e].slice(o))}catch(e){r.apply(void 0,[e])}}N.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return N.each(e.match(Y)||[],(function(e,r){t[r]=!0})),t}(e):N.extend({},e);var t,r,o,n,i=[],a=[],s=-1,u=function(){for(n=n||e.once,o=t=!0;a.length;s=-1)for(r=a.shift();++s<i.length;)!1===i[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=i.length,r=!1);e.memory||(r=!1),t=!1,n&&(i=r?[]:"")},c={add:function(){return i&&(r&&!t&&(s=i.length-1,a.push(r)),function t(r){N.each(r,(function(r,o){y(o)?e.unique&&c.has(o)||i.push(o):o&&o.length&&"string"!==v(o)&&t(o)}))}(arguments),r&&!t&&u()),this},remove:function(){return N.each(arguments,(function(e,t){for(var r;(r=N.inArray(t,i,r))>-1;)i.splice(r,1),r<=s&&s--})),this},has:function(e){return e?N.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return n=a=[],i=r="",this},disabled:function(){return!i},lock:function(){return n=a=[],r||t||(i=r=""),this},locked:function(){return!!n},fireWith:function(e,r){return n||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},N.extend({Deferred:function(e){var t=[["notify","progress",N.Callbacks("memory"),N.Callbacks("memory"),2],["resolve","done",N.Callbacks("once memory"),N.Callbacks("once memory"),0,"resolved"],["reject","fail",N.Callbacks("once memory"),N.Callbacks("once memory"),1,"rejected"]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return N.Deferred((function(r){N.each(t,(function(t,o){var n=y(e[o[4]])&&e[o[4]];i[o[1]]((function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this,n?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,n){var i=0;function a(e,t,r,n){return function(){var s=this,u=arguments,c=function(){var o,c;if(!(e<i)){if((o=r.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");c=o&&("object"==typeof o||"function"==typeof o)&&o.then,y(c)?n?c.call(o,a(i,t,W,n),a(i,t,K,n)):(i++,c.call(o,a(i,t,W,n),a(i,t,K,n),a(i,t,W,t.notifyWith))):(r!==W&&(s=void 0,u=[o]),(n||t.resolveWith)(s,u))}},l=n?c:function(){try{c()}catch(o){N.Deferred.exceptionHook&&N.Deferred.exceptionHook(o,l.error),e+1>=i&&(r!==K&&(s=void 0,u=[o]),t.rejectWith(s,u))}};e?l():(N.Deferred.getErrorHook?l.error=N.Deferred.getErrorHook():N.Deferred.getStackHook&&(l.error=N.Deferred.getStackHook()),o.setTimeout(l))}}return N.Deferred((function(o){t[0][3].add(a(0,o,y(n)?n:W,o.notifyWith)),t[1][3].add(a(0,o,y(e)?e:W)),t[2][3].add(a(0,o,y(r)?r:K))})).promise()},promise:function(e){return null!=e?N.extend(e,n):n}},i={};return N.each(t,(function(e,o){var a=o[2],s=o[5];n[o[1]]=a.add,s&&a.add((function(){r=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(o[3].fire),i[o[0]]=function(){return i[o[0]+"With"](this===i?void 0:this,arguments),this},i[o[0]+"With"]=a.fireWith})),n.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,r=t,o=Array(r),n=s.call(arguments),i=N.Deferred(),a=function(e){return function(r){o[e]=this,n[e]=arguments.length>1?s.call(arguments):r,--t||i.resolveWith(o,n)}};if(t<=1&&(J(e,i.done(a(r)).resolve,i.reject,!t),"pending"===i.state()||y(n[r]&&n[r].then)))return i.then();for(;r--;)J(n[r],a(r),i.reject);return i.promise()}});var X=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;N.Deferred.exceptionHook=function(e,t){o.console&&o.console.warn&&e&&X.test(e.name)&&o.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},N.readyException=function(e){o.setTimeout((function(){throw e}))};var Q=N.Deferred();function Z(){E.removeEventListener("DOMContentLoaded",Z),o.removeEventListener("load",Z),N.ready()}N.fn.ready=function(e){return Q.then(e).catch((function(e){N.readyException(e)})),this},N.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--N.readyWait:N.isReady)||(N.isReady=!0,!0!==e&&--N.readyWait>0||Q.resolveWith(E,[N]))}}),N.ready.then=Q.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?o.setTimeout(N.ready):(E.addEventListener("DOMContentLoaded",Z),o.addEventListener("load",Z));var ee=function(e,t,r,o,n,i,a){var s=0,u=e.length,c=null==r;if("object"===v(r))for(s in n=!0,r)ee(e,t,s,r[s],!0,i,a);else if(void 0!==o&&(n=!0,y(o)||(a=!0),c&&(a?(t.call(e,o),t=null):(c=t,t=function(e,t,r){return c.call(N(e),r)})),t))for(;s<u;s++)t(e[s],r,a?o:o.call(e[s],s,t(e[s],r)));return n?e:c?t.call(e):u?t(e[0],r):i},te=/^-ms-/,re=/-([a-z])/g;function oe(e,t){return t.toUpperCase()}function ne(e){return e.replace(te,"ms-").replace(re,oe)}var ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=N.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var o,n=this.cache(e);if("string"==typeof t)n[ne(t)]=r;else for(o in t)n[ne(o)]=t[o];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ne(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,o=e[this.expando];if(void 0!==o){if(void 0!==t){r=(t=Array.isArray(t)?t.map(ne):(t=ne(t))in o?[t]:t.match(Y)||[]).length;for(;r--;)delete o[t[r]]}(void 0===t||N.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!N.isEmptyObject(t)}};var se=new ae,ue=new ae,ce=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,le=/[A-Z]/g;function ge(e,t,r){var o;if(void 0===r&&1===e.nodeType)if(o="data-"+t.replace(le,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(o))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(r)}catch(e){}ue.set(e,t,r)}else r=void 0;return r}N.extend({hasData:function(e){return ue.hasData(e)||se.hasData(e)},data:function(e,t,r){return ue.access(e,t,r)},removeData:function(e,t){ue.remove(e,t)},_data:function(e,t,r){return se.access(e,t,r)},_removeData:function(e,t){se.remove(e,t)}}),N.fn.extend({data:function(e,t){var r,o,n,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(n=ue.get(i),1===i.nodeType&&!se.get(i,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(o=a[r].name).indexOf("data-")&&(o=ne(o.slice(5)),ge(i,o,n[o]));se.set(i,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each((function(){ue.set(this,e)})):ee(this,(function(t){var r;if(i&&void 0===t)return void 0!==(r=ue.get(i,e))||void 0!==(r=ge(i,e))?r:void 0;this.each((function(){ue.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ue.remove(this,e)}))}}),N.extend({queue:function(e,t,r){var o;if(e)return t=(t||"fx")+"queue",o=se.get(e,t),r&&(!o||Array.isArray(r)?o=se.access(e,t,N.makeArray(r)):o.push(r)),o||[]},dequeue:function(e,t){t=t||"fx";var r=N.queue(e,t),o=r.length,n=r.shift(),i=N._queueHooks(e,t);"inprogress"===n&&(n=r.shift(),o--),n&&("fx"===t&&r.unshift("inprogress"),delete i.stop,n.call(e,(function(){N.dequeue(e,t)}),i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return se.get(e,r)||se.access(e,r,{empty:N.Callbacks("once memory").add((function(){se.remove(e,[t+"queue",r])}))})}}),N.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?N.queue(this[0],e):void 0===t?this:this.each((function(){var r=N.queue(this,e,t);N._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&N.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){N.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,o=1,n=N.Deferred(),i=this,a=this.length,s=function(){--o||n.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=se.get(i[a],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(s));return s(),n.promise(t)}});var de=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),he=["Top","Right","Bottom","Left"],pe=E.documentElement,me=function(e){return N.contains(e.ownerDocument,e)},ye={composed:!0};pe.getRootNode&&(me=function(e){return N.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});var be=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===N.css(e,"display")};function Ee(e,t,r,o){var n,i,a=20,s=o?function(){return o.cur()}:function(){return N.css(e,t,"")},u=s(),c=r&&r[3]||(N.cssNumber[t]?"":"px"),l=e.nodeType&&(N.cssNumber[t]||"px"!==c&&+u)&&fe.exec(N.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)N.style(e,t,l+c),(1-i)*(1-(i=s()/u||.5))<=0&&(a=0),l/=i;l*=2,N.style(e,t,l+c),r=r||[]}return r&&(l=+l||+u||0,n=r[1]?l+(r[1]+1)*r[2]:+r[2],o&&(o.unit=c,o.start=l,o.end=n)),n}var _e={};function Se(e){var t,r=e.ownerDocument,o=e.nodeName,n=_e[o];return n||(t=r.body.appendChild(r.createElement(o)),n=N.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),_e[o]=n,n)}function ve(e,t){for(var r,o,n=[],i=0,a=e.length;i<a;i++)(o=e[i]).style&&(r=o.style.display,t?("none"===r&&(n[i]=se.get(o,"display")||null,n[i]||(o.style.display="")),""===o.style.display&&be(o)&&(n[i]=Se(o))):"none"!==r&&(n[i]="none",se.set(o,"display",r)));for(i=0;i<a;i++)null!=n[i]&&(e[i].style.display=n[i]);return e}N.fn.extend({show:function(){return ve(this,!0)},hide:function(){return ve(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){be(this)?N(this).show():N(this).hide()}))}});var Te,Ae,Ne=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,De=/^$|^module$|\\/(?:java|ecma)script/i;Te=E.createDocumentFragment().appendChild(E.createElement("div")),(Ae=E.createElement("input")).setAttribute("type","radio"),Ae.setAttribute("checked","checked"),Ae.setAttribute("name","t"),Te.appendChild(Ae),m.checkClone=Te.cloneNode(!0).cloneNode(!0).lastChild.checked,Te.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!Te.cloneNode(!0).lastChild.defaultValue,Te.innerHTML="<option></option>",m.option=!!Te.lastChild;var we={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Re(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?N.merge([e],r):r}function xe(e,t){for(var r=0,o=e.length;r<o;r++)se.set(e[r],"globalEval",!t||se.get(t[r],"globalEval"))}we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td,m.option||(we.optgroup=we.option=[1,"<select multiple=\'multiple\'>","</select>"]);var Oe=/<|&#?\\w+;/;function Ie(e,t,r,o,n){for(var i,a,s,u,c,l,g=t.createDocumentFragment(),d=[],f=0,h=e.length;f<h;f++)if((i=e[f])||0===i)if("object"===v(i))N.merge(d,i.nodeType?[i]:i);else if(Oe.test(i)){for(a=a||g.appendChild(t.createElement("div")),s=(Ce.exec(i)||["",""])[1].toLowerCase(),u=we[s]||we._default,a.innerHTML=u[1]+N.htmlPrefilter(i)+u[2],l=u[0];l--;)a=a.lastChild;N.merge(d,a.childNodes),(a=g.firstChild).textContent=""}else d.push(t.createTextNode(i));for(g.textContent="",f=0;i=d[f++];)if(o&&N.inArray(i,o)>-1)n&&n.push(i);else if(c=me(i),a=Re(g.appendChild(i),"script"),c&&xe(a),r)for(l=0;i=a[l++];)De.test(i.type||"")&&r.push(i);return g}var ke=/^([^.]*)(?:\\.(.+)|)/;function Me(){return!0}function Le(){return!1}function $e(e,t,r,o,n,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(o=o||r,r=void 0),t)$e(e,s,r,o,t[s],i);return e}if(null==o&&null==n?(n=r,o=r=void 0):null==n&&("string"==typeof r?(n=o,o=void 0):(n=o,o=r,r=void 0)),!1===n)n=Le;else if(!n)return e;return 1===i&&(a=n,n=function(e){return N().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=N.guid++)),e.each((function(){N.event.add(this,t,n,o,r)}))}function Fe(e,t,r){r?(se.set(e,t,!1),N.event.add(e,t,{namespace:!1,handler:function(e){var r,o=se.get(this,t);if(1&e.isTrigger&&this[t]){if(o)(N.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),se.set(this,t,o),this[t](),r=se.get(this,t),se.set(this,t,!1),o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r}else o&&(se.set(this,t,N.event.trigger(o[0],o.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Me)}})):void 0===se.get(e,t)&&N.event.add(e,t,Me)}N.event={global:{},add:function(e,t,r,o,n){var i,a,s,u,c,l,g,d,f,h,p,m=se.get(e);if(ie(e))for(r.handler&&(r=(i=r).handler,n=i.selector),n&&N.find.matchesSelector(pe,n),r.guid||(r.guid=N.guid++),(u=m.events)||(u=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==N&&N.event.triggered!==t.type?N.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Y)||[""]).length;c--;)f=p=(s=ke.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f&&(g=N.event.special[f]||{},f=(n?g.delegateType:g.bindType)||f,g=N.event.special[f]||{},l=N.extend({type:f,origType:p,data:o,handler:r,guid:r.guid,selector:n,needsContext:n&&N.expr.match.needsContext.test(n),namespace:h.join(".")},i),(d=u[f])||((d=u[f]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,o,h,a)||e.addEventListener&&e.addEventListener(f,a)),g.add&&(g.add.call(e,l),l.handler.guid||(l.handler.guid=r.guid)),n?d.splice(d.delegateCount++,0,l):d.push(l),N.event.global[f]=!0)},remove:function(e,t,r,o,n){var i,a,s,u,c,l,g,d,f,h,p,m=se.hasData(e)&&se.get(e);if(m&&(u=m.events)){for(c=(t=(t||"").match(Y)||[""]).length;c--;)if(f=p=(s=ke.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f){for(g=N.event.special[f]||{},d=u[f=(o?g.delegateType:g.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\\\.)"+h.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"),a=i=d.length;i--;)l=d[i],!n&&p!==l.origType||r&&r.guid!==l.guid||s&&!s.test(l.namespace)||o&&o!==l.selector&&("**"!==o||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,g.remove&&g.remove.call(e,l));a&&!d.length&&(g.teardown&&!1!==g.teardown.call(e,h,m.handle)||N.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)N.event.remove(e,f+t[c],r,o,!0);N.isEmptyObject(u)&&se.remove(e,"handle events")}},dispatch:function(e){var t,r,o,n,i,a,s=new Array(arguments.length),u=N.event.fix(e),c=(se.get(this,"events")||Object.create(null))[u.type]||[],l=N.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=N.event.handlers.call(this,u,c),t=0;(n=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=n.elem,r=0;(i=n.handlers[r++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==i.namespace&&!u.rnamespace.test(i.namespace)||(u.handleObj=i,u.data=i.data,void 0!==(o=((N.event.special[i.origType]||{}).handle||i.handler).apply(n.elem,s))&&!1===(u.result=o)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var r,o,n,i,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},r=0;r<u;r++)void 0===a[n=(o=t[r]).selector+" "]&&(a[n]=o.needsContext?N(n,this).index(c)>-1:N.find(n,this,null,[c]).length),a[n]&&i.push(o);i.length&&s.push({elem:c,handlers:i})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(N.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[N.expando]?e:new N.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ne.test(t.type)&&t.click&&D(t,"input")&&Fe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ne.test(t.type)&&t.click&&D(t,"input")&&Fe(t,"click"),!0},_default:function(e){var t=e.target;return Ne.test(t.type)&&t.click&&D(t,"input")&&se.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},N.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},N.Event=function(e,t){if(!(this instanceof N.Event))return new N.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Me:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&N.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[N.expando]=!0},N.Event.prototype={constructor:N.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},N.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},N.event.addProp),N.each({focus:"focusin",blur:"focusout"},(function(e,t){function r(e){if(E.documentMode){var r=se.get(this,"handle"),o=N.event.fix(e);o.type="focusin"===e.type?"focus":"blur",o.isSimulated=!0,r(e),o.target===o.currentTarget&&r(o)}else N.event.simulate(t,e.target,N.event.fix(e))}N.event.special[e]={setup:function(){var o;if(Fe(this,e,!0),!E.documentMode)return!1;(o=se.get(this,t))||this.addEventListener(t,r),se.set(this,t,(o||0)+1)},trigger:function(){return Fe(this,e),!0},teardown:function(){var e;if(!E.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,r),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},N.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,n=E.documentMode?this:o,i=se.get(n,t);i||(E.documentMode?this.addEventListener(t,r):o.addEventListener(e,r,!0)),se.set(n,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,n=E.documentMode?this:o,i=se.get(n,t)-1;i?se.set(n,t,i):(E.documentMode?this.removeEventListener(t,r):o.removeEventListener(e,r,!0),se.remove(n,t))}}})),N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){N.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,o=e.relatedTarget,n=e.handleObj;return o&&(o===this||N.contains(this,o))||(e.type=n.origType,r=n.handler.apply(this,arguments),e.type=t),r}}})),N.fn.extend({on:function(e,t,r,o){return $e(this,e,t,r,o)},one:function(e,t,r,o){return $e(this,e,t,r,o,1)},off:function(e,t,r){var o,n;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,N(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=Le),this.each((function(){N.event.remove(this,e,r,t)}))}});var Ue=/<script|<style|<link/i,Pe=/checked\\s*(?:[^=]|=\\s*.checked.)/i,He=/^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;function je(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&N(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ve(e,t){var r,o,n,i,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(n in se.remove(t,"handle events"),s)for(r=0,o=s[n].length;r<o;r++)N.event.add(t,n,s[n][r]);ue.hasData(e)&&(i=ue.access(e),a=N.extend({},i),ue.set(t,a))}}function Ge(e,t){var r=t.nodeName.toLowerCase();"input"===r&&Ne.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function ze(e,t,r,o){t=u(t);var n,i,a,s,c,l,g=0,d=e.length,f=d-1,h=t[0],p=y(h);if(p||d>1&&"string"==typeof h&&!m.checkClone&&Pe.test(h))return e.each((function(n){var i=e.eq(n);p&&(t[0]=h.call(this,n,i.html())),ze(i,t,r,o)}));if(d&&(i=(n=Ie(t,e[0].ownerDocument,!1,e,o)).firstChild,1===n.childNodes.length&&(n=i),i||o)){for(s=(a=N.map(Re(n,"script"),Be)).length;g<d;g++)c=n,g!==f&&(c=N.clone(c,!0,!0),s&&N.merge(a,Re(c,"script"))),r.call(e[g],c,g);if(s)for(l=a[a.length-1].ownerDocument,N.map(a,qe),g=0;g<s;g++)c=a[g],De.test(c.type||"")&&!se.access(c,"globalEval")&&N.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?N._evalUrl&&!c.noModule&&N._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):S(c.textContent.replace(He,""),c,l))}return e}function Ye(e,t,r){for(var o,n=t?N.filter(t,e):e,i=0;null!=(o=n[i]);i++)r||1!==o.nodeType||N.cleanData(Re(o)),o.parentNode&&(r&&me(o)&&xe(Re(o,"script")),o.parentNode.removeChild(o));return e}N.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var o,n,i,a,s=e.cloneNode(!0),u=me(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||N.isXMLDoc(e)))for(a=Re(s),o=0,n=(i=Re(e)).length;o<n;o++)Ge(i[o],a[o]);if(t)if(r)for(i=i||Re(e),a=a||Re(s),o=0,n=i.length;o<n;o++)Ve(i[o],a[o]);else Ve(e,s);return(a=Re(s,"script")).length>0&&xe(a,!u&&Re(e,"script")),s},cleanData:function(e){for(var t,r,o,n=N.event.special,i=0;void 0!==(r=e[i]);i++)if(ie(r)){if(t=r[se.expando]){if(t.events)for(o in t.events)n[o]?N.event.remove(r,o):N.removeEvent(r,o,t.handle);r[se.expando]=void 0}r[ue.expando]&&(r[ue.expando]=void 0)}}}),N.fn.extend({detach:function(e){return Ye(this,e,!0)},remove:function(e){return Ye(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?N.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ze(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)}))},prepend:function(){return ze(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(N.cleanData(Re(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return N.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},r=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ue.test(e)&&!we[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=N.htmlPrefilter(e);try{for(;r<o;r++)1===(t=this[r]||{}).nodeType&&(N.cleanData(Re(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,arguments,(function(t){var r=this.parentNode;N.inArray(this,e)<0&&(N.cleanData(Re(this)),r&&r.replaceChild(t,this))}),e)}}),N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){N.fn[e]=function(e){for(var r,o=[],n=N(e),i=n.length-1,a=0;a<=i;a++)r=a===i?this:this.clone(!0),N(n[a])[t](r),c.apply(o,r.get());return this.pushStack(o)}}));var We=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Ke=/^--/,Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=o),t.getComputedStyle(e)},Xe=function(e,t,r){var o,n,i={};for(n in t)i[n]=e.style[n],e.style[n]=t[n];for(n in o=r.call(e),t)e.style[n]=i[n];return o},Qe=new RegExp(he.join("|"),"i");function Ze(e,t,r){var o,n,i,a,s=Ke.test(t),u=e.style;return(r=r||Je(e))&&(a=r.getPropertyValue(t)||r[t],s&&a&&(a=a.replace(I,"$1")||void 0),""!==a||me(e)||(a=N.style(e,t)),!m.pixelBoxStyles()&&We.test(a)&&Qe.test(t)&&(o=u.width,n=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=r.width,u.width=o,u.minWidth=n,u.maxWidth=i)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(c).appendChild(l);var e=o.getComputedStyle(l);r="1%"!==e.top,u=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),n=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),pe.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,n,i,a,s,u,c=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,N.extend(m,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,n;return null==s&&(e=E.createElement("table"),t=E.createElement("tr"),r=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",pe.appendChild(e).appendChild(t).appendChild(r),n=o.getComputedStyle(t),s=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,pe.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],rt=E.createElement("div").style,ot={};function nt(e){var t=N.cssProps[e]||ot[e];return t||(e in rt?e:ot[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=tt.length;r--;)if((e=tt[r]+t)in rt)return e}(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ut(e,t,r){var o=fe.exec(t);return o?Math.max(0,o[2]-(r||0))+(o[3]||"px"):t}function ct(e,t,r,o,n,i){var a="width"===t?1:0,s=0,u=0,c=0;if(r===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(c+=N.css(e,r+he[a],!0,n)),o?("content"===r&&(u-=N.css(e,"padding"+he[a],!0,n)),"margin"!==r&&(u-=N.css(e,"border"+he[a]+"Width",!0,n))):(u+=N.css(e,"padding"+he[a],!0,n),"padding"!==r?u+=N.css(e,"border"+he[a]+"Width",!0,n):s+=N.css(e,"border"+he[a]+"Width",!0,n));return!o&&i>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-u-s-.5))||0),u+c}function lt(e,t,r){var o=Je(e),n=(!m.boxSizingReliable()||r)&&"border-box"===N.css(e,"boxSizing",!1,o),i=n,a=Ze(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(a)){if(!r)return a;a="auto"}return(!m.boxSizingReliable()&&n||!m.reliableTrDimensions()&&D(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===N.css(e,"display",!1,o))&&e.getClientRects().length&&(n="border-box"===N.css(e,"boxSizing",!1,o),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ct(e,t,r||(n?"border":"content"),i,o,a)+"px"}function gt(e,t,r,o,n){return new gt.prototype.init(e,t,r,o,n)}N.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ze(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,r,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,i,a,s=ne(t),u=Ke.test(t),c=e.style;if(u||(t=nt(s)),a=N.cssHooks[t]||N.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(n=a.get(e,!1,o))?n:c[t];"string"===(i=typeof r)&&(n=fe.exec(r))&&n[1]&&(r=Ee(e,t,n),i="number"),null!=r&&r==r&&("number"!==i||u||(r+=n&&n[3]||(N.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,o))||(u?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,o){var n,i,a,s=ne(t);return Ke.test(t)||(t=nt(s)),(a=N.cssHooks[t]||N.cssHooks[s])&&"get"in a&&(n=a.get(e,!0,r)),void 0===n&&(n=Ze(e,t,o)),"normal"===n&&t in st&&(n=st[t]),""===r||r?(i=parseFloat(n),!0===r||isFinite(i)?i||0:n):n}}),N.each(["height","width"],(function(e,t){N.cssHooks[t]={get:function(e,r,o){if(r)return!it.test(N.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,o):Xe(e,at,(function(){return lt(e,t,o)}))},set:function(e,r,o){var n,i=Je(e),a=!m.scrollboxSize()&&"absolute"===i.position,s=(a||o)&&"border-box"===N.css(e,"boxSizing",!1,i),u=o?ct(e,t,o,s,i):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-ct(e,t,"border",!1,i)-.5)),u&&(n=fe.exec(r))&&"px"!==(n[3]||"px")&&(e.style[t]=r,r=N.css(e,t)),ut(0,r,u)}}})),N.cssHooks.marginLeft=et(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),N.each({margin:"",padding:"",border:"Width"},(function(e,t){N.cssHooks[e+t]={expand:function(r){for(var o=0,n={},i="string"==typeof r?r.split(" "):[r];o<4;o++)n[e+he[o]+t]=i[o]||i[o-2]||i[0];return n}},"margin"!==e&&(N.cssHooks[e+t].set=ut)})),N.fn.extend({css:function(e,t){return ee(this,(function(e,t,r){var o,n,i={},a=0;if(Array.isArray(t)){for(o=Je(e),n=t.length;a<n;a++)i[t[a]]=N.css(e,t[a],!1,o);return i}return void 0!==r?N.style(e,t,r):N.css(e,t)}),e,t,arguments.length>1)}}),N.Tween=gt,gt.prototype={constructor:gt,init:function(e,t,r,o,n,i){this.elem=e,this.prop=r,this.easing=n||N.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(N.cssNumber[r]?"":"px")},cur:function(){var e=gt.propHooks[this.prop];return e&&e.get?e.get(this):gt.propHooks._default.get(this)},run:function(e){var t,r=gt.propHooks[this.prop];return this.options.duration?this.pos=t=N.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):gt.propHooks._default.set(this),this}},gt.prototype.init.prototype=gt.prototype,gt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=N.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){N.fx.step[e.prop]?N.fx.step[e.prop](e):1!==e.elem.nodeType||!N.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:N.style(e.elem,e.prop,e.now+e.unit)}}},gt.propHooks.scrollTop=gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},N.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},N.fx=gt.prototype.init,N.fx.step={};var dt,ft,ht=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function mt(){ft&&(!1===E.hidden&&o.requestAnimationFrame?o.requestAnimationFrame(mt):o.setTimeout(mt,N.fx.interval),N.fx.tick())}function yt(){return o.setTimeout((function(){dt=void 0})),dt=Date.now()}function bt(e,t){var r,o=0,n={height:e};for(t=t?1:0;o<4;o+=2-t)n["margin"+(r=he[o])]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function Et(e,t,r){for(var o,n=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),i=0,a=n.length;i<a;i++)if(o=n[i].call(r,t,e))return o}function _t(e,t,r){var o,n,i=0,a=_t.prefilters.length,s=N.Deferred().always((function(){delete u.elem})),u=function(){if(n)return!1;for(var t=dt||yt(),r=Math.max(0,c.startTime+c.duration-t),o=1-(r/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(o);return s.notifyWith(e,[c,o,r]),o<1&&a?r:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:N.extend({},t),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},r),originalProperties:t,originalOptions:r,startTime:dt||yt(),duration:r.duration,tweens:[],createTween:function(t,r){var o=N.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var r=0,o=t?c.tweens.length:0;if(n)return this;for(n=!0;r<o;r++)c.tweens[r].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var r,o,n,i,a;for(r in e)if(n=t[o=ne(r)],i=e[r],Array.isArray(i)&&(n=i[1],i=e[r]=i[0]),r!==o&&(e[o]=i,delete e[r]),(a=N.cssHooks[o])&&"expand"in a)for(r in i=a.expand(i),delete e[o],i)r in e||(e[r]=i[r],t[r]=n);else t[o]=n}(l,c.opts.specialEasing);i<a;i++)if(o=_t.prefilters[i].call(c,e,l,c.opts))return y(o.stop)&&(N._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return N.map(l,Et,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),N.fx.timer(N.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}N.Animation=N.extend(_t,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return Ee(r.elem,e,fe.exec(t),r),r}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(Y);for(var r,o=0,n=e.length;o<n;o++)r=e[o],_t.tweeners[r]=_t.tweeners[r]||[],_t.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var o,n,i,a,s,u,c,l,g="width"in t||"height"in t,d=this,f={},h=e.style,p=e.nodeType&&be(e),m=se.get(e,"fxshow");for(o in r.queue||(null==(a=N._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,N.queue(e,"fx").length||a.empty.fire()}))}))),t)if(n=t[o],ht.test(n)){if(delete t[o],i=i||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!m||void 0===m[o])continue;p=!0}f[o]=m&&m[o]||N.style(e,o)}if((u=!N.isEmptyObject(t))||!N.isEmptyObject(f))for(o in g&&1===e.nodeType&&(r.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=se.get(e,"display")),"none"===(l=N.css(e,"display"))&&(c?l=c:(ve([e],!0),c=e.style.display||c,l=N.css(e,"display"),ve([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===N.css(e,"float")&&(u||(d.done((function(){h.display=c})),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),r.overflow&&(h.overflow="hidden",d.always((function(){h.overflow=r.overflow[0],h.overflowX=r.overflow[1],h.overflowY=r.overflow[2]}))),u=!1,f)u||(m?"hidden"in m&&(p=m.hidden):m=se.access(e,"fxshow",{display:c}),i&&(m.hidden=!p),p&&ve([e],!0),d.done((function(){for(o in p||ve([e]),se.remove(e,"fxshow"),f)N.style(e,o,f[o])}))),u=Et(p?m[o]:0,o,d),o in m||(m[o]=u.start,p&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),N.speed=function(e,t,r){var o=e&&"object"==typeof e?N.extend({},e):{complete:r||!r&&t||y(e)&&e,duration:e,easing:r&&t||t&&!y(t)&&t};return N.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in N.fx.speeds?o.duration=N.fx.speeds[o.duration]:o.duration=N.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){y(o.old)&&o.old.call(this),o.queue&&N.dequeue(this,o.queue)},o},N.fn.extend({fadeTo:function(e,t,r,o){return this.filter(be).css("opacity",0).show().end().animate({opacity:t},e,r,o)},animate:function(e,t,r,o){var n=N.isEmptyObject(e),i=N.speed(t,r,o),a=function(){var t=_t(this,N.extend({},e),i);(n||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,n||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,n=null!=e&&e+"queueHooks",i=N.timers,a=se.get(this);if(n)a[n]&&a[n].stop&&o(a[n]);else for(n in a)a[n]&&a[n].stop&&pt.test(n)&&o(a[n]);for(n=i.length;n--;)i[n].elem!==this||null!=e&&i[n].queue!==e||(i[n].anim.stop(r),t=!1,i.splice(n,1));!t&&r||N.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=se.get(this),o=r[e+"queue"],n=r[e+"queueHooks"],i=N.timers,a=o?o.length:0;for(r.finish=!0,N.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete r.finish}))}}),N.each(["toggle","show","hide"],(function(e,t){var r=N.fn[t];N.fn[t]=function(e,o,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(bt(t,!0),e,o,n)}})),N.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){N.fn[e]=function(e,r,o){return this.animate(t,e,r,o)}})),N.timers=[],N.fx.tick=function(){var e,t=0,r=N.timers;for(dt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||N.fx.stop(),dt=void 0},N.fx.timer=function(e){N.timers.push(e),N.fx.start()},N.fx.interval=13,N.fx.start=function(){ft||(ft=!0,mt())},N.fx.stop=function(){ft=null},N.fx.speeds={slow:600,fast:200,_default:400},N.fn.delay=function(e,t){return e=N.fx&&N.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var n=o.setTimeout(t,e);r.stop=function(){o.clearTimeout(n)}}))},function(){var e=E.createElement("input"),t=E.createElement("select").appendChild(E.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=E.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var St,vt=N.expr.attrHandle;N.fn.extend({attr:function(e,t){return ee(this,N.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){N.removeAttr(this,e)}))}}),N.extend({attr:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?N.prop(e,t,r):(1===i&&N.isXMLDoc(e)||(n=N.attrHooks[t.toLowerCase()]||(N.expr.match.bool.test(t)?St:void 0)),void 0!==r?null===r?void N.removeAttr(e,t):n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:(e.setAttribute(t,r+""),r):n&&"get"in n&&null!==(o=n.get(e,t))?o:null==(o=N.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&D(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,o=0,n=t&&t.match(Y);if(n&&1===e.nodeType)for(;r=n[o++];)e.removeAttribute(r)}}),St={set:function(e,t,r){return!1===t?N.removeAttr(e,r):e.setAttribute(r,r),r}},N.each(N.expr.match.bool.source.match(/\\w+/g),(function(e,t){var r=vt[t]||N.find.attr;vt[t]=function(e,t,o){var n,i,a=t.toLowerCase();return o||(i=vt[a],vt[a]=n,n=null!=r(e,t,o)?a:null,vt[a]=i),n}}));var Tt=/^(?:input|select|textarea|button)$/i,At=/^(?:a|area)$/i;function Nt(e){return(e.match(Y)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Dt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Y)||[]}N.fn.extend({prop:function(e,t){return ee(this,N.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[N.propFix[e]||e]}))}}),N.extend({prop:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&N.isXMLDoc(e)||(t=N.propFix[t]||t,n=N.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:e[t]=r:n&&"get"in n&&null!==(o=n.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=N.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(N.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),N.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){N.propFix[this.toLowerCase()]=this})),N.fn.extend({addClass:function(e){var t,r,o,n,i,a;return y(e)?this.each((function(t){N(this).addClass(e.call(this,t,Ct(this)))})):(t=Dt(e)).length?this.each((function(){if(o=Ct(this),r=1===this.nodeType&&" "+Nt(o)+" "){for(i=0;i<t.length;i++)n=t[i],r.indexOf(" "+n+" ")<0&&(r+=n+" ");a=Nt(r),o!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,r,o,n,i,a;return y(e)?this.each((function(t){N(this).removeClass(e.call(this,t,Ct(this)))})):arguments.length?(t=Dt(e)).length?this.each((function(){if(o=Ct(this),r=1===this.nodeType&&" "+Nt(o)+" "){for(i=0;i<t.length;i++)for(n=t[i];r.indexOf(" "+n+" ")>-1;)r=r.replace(" "+n+" "," ");a=Nt(r),o!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var r,o,n,i,a=typeof e,s="string"===a||Array.isArray(e);return y(e)?this.each((function(r){N(this).toggleClass(e.call(this,r,Ct(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(r=Dt(e),this.each((function(){if(s)for(i=N(this),n=0;n<r.length;n++)o=r[n],i.hasClass(o)?i.removeClass(o):i.addClass(o);else void 0!==e&&"boolean"!==a||((o=Ct(this))&&se.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===e?"":se.get(this,"__className__")||""))})))},hasClass:function(e){var t,r,o=0;for(t=" "+e+" ";r=this[o++];)if(1===r.nodeType&&(" "+Nt(Ct(r))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\\r/g;N.fn.extend({val:function(e){var t,r,o,n=this[0];return arguments.length?(o=y(e),this.each((function(r){var n;1===this.nodeType&&(null==(n=o?e.call(this,r,N(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=N.map(n,(function(e){return null==e?"":e+""}))),(t=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))}))):n?(t=N.valHooks[n.type]||N.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:"string"==typeof(r=n.value)?r.replace(wt,""):null==r?"":r:void 0}}),N.extend({valHooks:{option:{get:function(e){var t=N.find.attr(e,"value");return null!=t?t:Nt(N.text(e))}},select:{get:function(e){var t,r,o,n=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?i+1:n.length;for(o=i<0?u:a?i:0;o<u;o++)if(((r=n[o]).selected||o===i)&&!r.disabled&&(!r.parentNode.disabled||!D(r.parentNode,"optgroup"))){if(t=N(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,o,n=e.options,i=N.makeArray(t),a=n.length;a--;)((o=n[a]).selected=N.inArray(N.valHooks.option.get(o),i)>-1)&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),N.each(["radio","checkbox"],(function(){N.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=N.inArray(N(e).val(),t)>-1}},m.checkOn||(N.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Rt=o.location,xt={guid:Date.now()},Ot=/\\?/;N.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{t=(new o.DOMParser).parseFromString(e,"text/xml")}catch(e){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||N.error("Invalid XML: "+(r?N.map(r.childNodes,(function(e){return e.textContent})).join("\\n"):e)),t};var It=/^(?:focusinfocus|focusoutblur)$/,kt=function(e){e.stopPropagation()};N.extend(N.event,{trigger:function(e,t,r,n){var i,a,s,u,c,l,g,d,h=[r||E],p=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=r=r||E,3!==r.nodeType&&8!==r.nodeType&&!It.test(p+N.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),c=p.indexOf(":")<0&&"on"+p,(e=e[N.expando]?e:new N.Event(p,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\\\.)"+m.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:N.makeArray(t,[e]),g=N.event.special[p]||{},n||!g.trigger||!1!==g.trigger.apply(r,t))){if(!n&&!g.noBubble&&!b(r)){for(u=g.delegateType||p,It.test(u+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||E)&&h.push(s.defaultView||s.parentWindow||o)}for(i=0;(a=h[i++])&&!e.isPropagationStopped();)d=a,e.type=i>1?u:g.bindType||p,(l=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&l.apply(a,t),(l=c&&a[c])&&l.apply&&ie(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,n||e.isDefaultPrevented()||g._default&&!1!==g._default.apply(h.pop(),t)||!ie(r)||c&&y(r[p])&&!b(r)&&((s=r[c])&&(r[c]=null),N.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,kt),r[p](),e.isPropagationStopped()&&d.removeEventListener(p,kt),N.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,r){var o=N.extend(new N.Event,r,{type:e,isSimulated:!0});N.event.trigger(o,null,t)}}),N.fn.extend({trigger:function(e,t){return this.each((function(){N.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return N.event.trigger(e,t,r,!0)}});var Mt=/\\[\\]$/,Lt=/\\r?\\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;function Ut(e,t,r,o){var n;if(Array.isArray(t))N.each(t,(function(t,n){r||Mt.test(e)?o(e,n):Ut(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,o)}));else if(r||"object"!==v(t))o(e,t);else for(n in t)Ut(e+"["+n+"]",t[n],r,o)}N.param=function(e,t){var r,o=[],n=function(e,t){var r=y(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!N.isPlainObject(e))N.each(e,(function(){n(this.name,this.value)}));else for(r in e)Ut(r,e[r],t,n);return o.join("&")},N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=N.prop(this,"elements");return e?N.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!N(this).is(":disabled")&&Ft.test(this.nodeName)&&!$t.test(e)&&(this.checked||!Ne.test(e))})).map((function(e,t){var r=N(this).val();return null==r?null:Array.isArray(r)?N.map(r,(function(e){return{name:t.name,value:e.replace(Lt,"\\r\\n")}})):{name:t.name,value:r.replace(Lt,"\\r\\n")}})).get()}});var Pt=/%20/g,Ht=/#.*$/,jt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,qt=/^(?:GET|HEAD)$/,Vt=/^\\/\\//,Gt={},zt={},Yt="*/".concat("*"),Wt=E.createElement("a");function Kt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var o,n=0,i=t.toLowerCase().match(Y)||[];if(y(r))for(;o=i[n++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(r)):(e[o]=e[o]||[]).push(r)}}function Jt(e,t,r,o){var n={},i=e===zt;function a(s){var u;return n[s]=!0,N.each(e[s]||[],(function(e,s){var c=s(t,r,o);return"string"!=typeof c||i||n[c]?i?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),u}return a(t.dataTypes[0])||!n["*"]&&a("*")}function Xt(e,t){var r,o,n=N.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:o||(o={}))[r]=t[r]);return o&&N.extend(!0,e,o),e}Wt.href=Rt.href,N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,N.ajaxSettings),t):Xt(N.ajaxSettings,e)},ajaxPrefilter:Kt(Gt),ajaxTransport:Kt(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,n,i,a,s,u,c,l,g,d,f=N.ajaxSetup({},t),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?N(h):N.event,m=N.Deferred(),y=N.Callbacks("once memory"),b=f.statusCode||{},_={},S={},v="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Bt.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||v;return r&&r.abort(t),A(0,t),this}};if(m.promise(T),f.url=((e||f.url||Rt.href)+"").replace(Vt,Rt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Y)||[""],null==f.crossDomain){u=E.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Wt.protocol+"//"+Wt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=N.param(f.data,f.traditional)),Jt(Gt,f,t,T),c)return T;for(g in(l=N.event&&f.global)&&0==N.active++&&N.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!qt.test(f.type),n=f.url.replace(Ht,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pt,"+")):(d=f.url.slice(n.length),f.data&&(f.processData||"string"==typeof f.data)&&(n+=(Ot.test(n)?"&":"?")+f.data,delete f.data),!1===f.cache&&(n=n.replace(jt,"$1"),d=(Ot.test(n)?"&":"?")+"_="+xt.guid+++d),f.url=n+d),f.ifModified&&(N.lastModified[n]&&T.setRequestHeader("If-Modified-Since",N.lastModified[n]),N.etag[n]&&T.setRequestHeader("If-None-Match",N.etag[n])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Yt+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(g,f.headers[g]);if(f.beforeSend&&(!1===f.beforeSend.call(h,T,f)||c))return T.abort();if(v="abort",y.add(f.complete),T.done(f.success),T.fail(f.error),r=Jt(zt,f,t,T)){if(T.readyState=1,l&&p.trigger("ajaxSend",[T,f]),c)return T;f.async&&f.timeout>0&&(s=o.setTimeout((function(){T.abort("timeout")}),f.timeout));try{c=!1,r.send(_,A)}catch(e){if(c)throw e;A(-1,e)}}else A(-1,"No Transport");function A(e,t,a,u){var g,d,E,_,S,v=t;c||(c=!0,s&&o.clearTimeout(s),r=void 0,i=u||"",T.readyState=e>0?4:0,g=e>=200&&e<300||304===e,a&&(_=function(e,t,r){for(var o,n,i,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(n in s)if(s[n]&&s[n].test(o)){u.unshift(n);break}if(u[0]in r)i=u[0];else{for(n in r){if(!u[0]||e.converters[n+" "+u[0]]){i=n;break}a||(a=n)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),r[i]}(f,T,a)),!g&&N.inArray("script",f.dataTypes)>-1&&N.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),_=function(e,t,r,o){var n,i,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!u&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=l.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=c[u+" "+i]||c["* "+i]))for(n in c)if((s=n.split(" "))[1]===i&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[n]:!0!==c[n]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}(f,_,T,g),g?(f.ifModified&&((S=T.getResponseHeader("Last-Modified"))&&(N.lastModified[n]=S),(S=T.getResponseHeader("etag"))&&(N.etag[n]=S)),204===e||"HEAD"===f.type?v="nocontent":304===e?v="notmodified":(v=_.state,d=_.data,g=!(E=_.error))):(E=v,!e&&v||(v="error",e<0&&(e=0))),T.status=e,T.statusText=(t||v)+"",g?m.resolveWith(h,[d,v,T]):m.rejectWith(h,[T,v,E]),T.statusCode(b),b=void 0,l&&p.trigger(g?"ajaxSuccess":"ajaxError",[T,f,g?d:E]),y.fireWith(h,[T,v]),l&&(p.trigger("ajaxComplete",[T,f]),--N.active||N.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,r){return N.get(e,t,r,"json")},getScript:function(e,t){return N.get(e,void 0,t,"script")}}),N.each(["get","post"],(function(e,t){N[t]=function(e,r,o,n){return y(r)&&(n=n||o,o=r,r=void 0),N.ajax(N.extend({url:e,type:t,dataType:n,data:r,success:o},N.isPlainObject(e)&&e))}})),N.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),N._evalUrl=function(e,t,r){return N.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){N.globalEval(e,t,r)}})},N.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=N(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){N(this).wrapInner(e.call(this,t))})):this.each((function(){var t=N(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(r){N(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){N(this).replaceWith(this.childNodes)})),this}}),N.expr.pseudos.hidden=function(e){return!N.expr.pseudos.visible(e)},N.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},N.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Zt=N.ajaxSettings.xhr();m.cors=!!Zt&&"withCredentials"in Zt,m.ajax=Zt=!!Zt,N.ajaxTransport((function(e){var t,r;if(m.cors||Zt&&!e.crossDomain)return{send:function(n,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)s.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&o.setTimeout((function(){t&&r()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),N.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{"text script":function(e){return N.globalEval(e),e}}}),N.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),N.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(o,n){t=N("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&n("error"===e.type?404:200,e.type)}),E.head.appendChild(t[0])},abort:function(){r&&r()}}}));var er,tr=[],rr=/(=)\\?(?=&|$)|\\?\\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||N.expando+"_"+xt.guid++;return this[e]=!0,e}}),N.ajaxPrefilter("json jsonp",(function(e,t,r){var n,i,a,s=!1!==e.jsonp&&(rr.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(rr,"$1"+n):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return a||N.error(n+" was not called"),a[0]},e.dataTypes[0]="json",i=o[n],o[n]=function(){a=arguments},r.always((function(){void 0===i?N(o).removeProp(n):o[n]=i,e[n]&&(e.jsonpCallback=t.jsonpCallback,tr.push(n)),a&&y(i)&&i(a[0]),a=i=void 0})),"script"})),m.createHTMLDocument=((er=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===er.childNodes.length),N.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(m.createHTMLDocument?((o=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(o)):t=E),i=!r&&[],(n=H.exec(e))?[t.createElement(n[1])]:(n=Ie([e],t,i),i&&i.length&&N(i).remove(),N.merge([],n.childNodes)));var o,n,i},N.fn.load=function(e,t,r){var o,n,i,a=this,s=e.indexOf(" ");return s>-1&&(o=Nt(e.slice(s)),e=e.slice(0,s)),y(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),a.length>0&&N.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(o?N("<div>").append(N.parseHTML(e)).find(o):e)})).always(r&&function(e,t){a.each((function(){r.apply(this,i||[e.responseText,t,e])}))}),this},N.expr.pseudos.animated=function(e){return N.grep(N.timers,(function(t){return e===t.elem})).length},N.offset={setOffset:function(e,t,r){var o,n,i,a,s,u,c=N.css(e,"position"),l=N(e),g={};"static"===c&&(e.style.position="relative"),s=l.offset(),i=N.css(e,"top"),u=N.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1?(a=(o=l.position()).top,n=o.left):(a=parseFloat(i)||0,n=parseFloat(u)||0),y(t)&&(t=t.call(e,r,N.extend({},s))),null!=t.top&&(g.top=t.top-s.top+a),null!=t.left&&(g.left=t.left-s.left+n),"using"in t?t.using.call(e,g):l.css(g)}},N.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){N.offset.setOffset(this,e,t)}));var t,r,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),r=o.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,o=this[0],n={top:0,left:0};if("fixed"===N.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),r=o.ownerDocument,e=o.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===N.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((n=N(e).offset()).top+=N.css(e,"borderTopWidth",!0),n.left+=N.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-N.css(o,"marginTop",!0),left:t.left-n.left-N.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===N.css(e,"position");)e=e.offsetParent;return e||pe}))}}),N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;N.fn[e]=function(o){return ee(this,(function(e,o,n){var i;if(b(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[t]:e[o];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[o]=n}),e,o,arguments.length)}})),N.each(["top","left"],(function(e,t){N.cssHooks[t]=et(m.pixelPosition,(function(e,r){if(r)return r=Ze(e,t),We.test(r)?N(e).position()[t]+"px":r}))})),N.each({Height:"height",Width:"width"},(function(e,t){N.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,o){N.fn[o]=function(n,i){var a=arguments.length&&(r||"boolean"!=typeof n),s=r||(!0===n||!0===i?"margin":"border");return ee(this,(function(t,r,n){var i;return b(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?N.css(t,r,s):N.style(t,r,n,s)}),t,a?n:void 0,a)}}))})),N.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){N.fn[t]=function(e){return this.on(t,e)}})),N.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,o){return this.on(t,e,r,o)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),N.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){N.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}));var or=/^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;N.proxy=function(e,t){var r,o,n;if("string"==typeof t&&(r=e[t],t=e,e=r),y(e))return o=s.call(arguments,2),n=function(){return e.apply(t||this,o.concat(s.call(arguments)))},n.guid=e.guid=e.guid||N.guid++,n},N.holdReady=function(e){e?N.readyWait++:N.ready(!0)},N.isArray=Array.isArray,N.parseJSON=JSON.parse,N.nodeName=D,N.isFunction=y,N.isWindow=b,N.camelCase=ne,N.type=v,N.now=Date.now,N.isNumeric=function(e){var t=N.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},N.trim=function(e){return null==e?"":(e+"").replace(or,"$1")},void 0===(r=function(){return N}.apply(t,[]))||(e.exports=r);var nr=o.jQuery,ir=o.$;return N.noConflict=function(e){return o.$===N&&(o.$=ir),e&&o.jQuery===N&&(o.jQuery=nr),N},void 0===n&&(o.jQuery=o.$=N),N}))},3985:function(e,t,r){"use strict";var o=r(659),n=r(3112),i=r(9601),a=r(4175)("species");e.exports=function(e,t){var r,s=o(e).constructor;return void 0===s||i(r=o(s)[a])?t:n(r)}},4003:function(e,t,r){"use strict";var o=r(8810),n=r(9004),i=r(2404),a=r(6417);o({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),r=n(e,arguments.length>1?arguments[1]:void 0);return!1!==a(t,(function(e){if(!r(e,e,t))return!1}),!0)}})},4028:function(e,t,r){"use strict";var o=r(2128),n=r(6005),i=r(5936);e.exports=function(e,t,r){o?n.f(e,t,i(0,r)):e[t]=r}},4049:function(e){"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?r:t)(o)}},4057:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array(\'<\\0\\0\\0\\0\\0\\0EMabcfglmnoprstu\\\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\\0\\0\\0\\0f;;DEot;qual;bleCDLRUVontourIntegrao\\0\\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\\0\\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\\0\\0ightVector;eeVector;ector;Bar;ight\\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\\0\\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\\0\\0mallSquare;erySmallSquare;\\0\\0\\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\\0cy;lcfosuiyrc;;r;pf;\\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\\0bleBracket;n\\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\\0bleBracket;n\\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\\0\\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\\0\\0\\0\\0\\0\\0\\0cruter;ocir;r\\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\\0oWidta;r;pf;cr;\\0\\0\\0\\0\\0\\0\\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\\0\\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\\0\\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\\0\\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\\0\\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\\0on;e;q\\0\\0a;t;;flemxente\\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\\0\\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\\0\\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\\0\\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\\0\\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\\0\\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\\0\\0\\0\\0\\0\\0\\0llingdotsey;male;ilrlig;\\0\\0g;ig;;lig;lig;fjaltt;ig;ns;of;\\0f;ak;v;artint;aocs\\0\\0;;;;\\0;;\\0\\0;;5;\\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\\0\\0\\0\\0\\0\\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\\0cy;lcfmosuiyrc;;r;ath;pf;\\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\\0\\0\\0\\0\\0\\0\\0\\0\\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\\0pmp;eaeouy\\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\\0\\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0csuteiyr;c;abioslac;v;old;lig;crir;;\\0\\0\\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\\0\\0\\0\\0\\0\\0\\0\\0\\0r;ast;lle\\0\\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\\0\\0\\0\\0\\0\\0\\0cute;qu;Eaceinpsy;\\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\\0\\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0get;;raeyron;dil;;lrec;r;eiko\\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\\0\\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\\0\\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\\0\\0\\0\\0\\0\\0\\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;\'.split("").map((function(e){return e.charCodeAt(0)})))},4102:function(e,t,r){"use strict";var o=r(321);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},4113:function(e,t,r){"use strict";var o=r(2128),n=r(2675),i=r(4451);e.exports=!o&&!n((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},4175:function(e,t,r){"use strict";var o=r(8052),n=r(6445),i=r(4461),a=r(2868),s=r(6891),u=r(3316),c=o.Symbol,l=n("wks"),g=u?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return i(l,e)||(l[e]=s&&i(c,e)?c[e]:g("Symbol."+e)),l[e]}},4267:function(e,t,r){"use strict";var o=r(8810),n=r(863);o({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},4334:function(e,t,r){"use strict";var o=r(321),n=r(8379),i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(n(e)+" is not a function")}},4451:function(e,t,r){"use strict";var o=r(8052),n=r(4102),i=o.document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},4461:function(e,t,r){"use strict";var o=r(2484),n=r(8649),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(n(e),t)}},4492:function(e,t,r){"use strict";var o=r(4540),n=Math.floor,i=function(e,t){var r=e.length;if(r<8)for(var a,s,u=1;u<r;){for(s=u,a=e[u];s&&t(e[s-1],a)>0;)e[s]=e[--s];s!==u++&&(e[s]=a)}else for(var c=n(r/2),l=i(o(e,0,c),t),g=i(o(e,c),t),d=l.length,f=g.length,h=0,p=0;h<d||p<f;)e[h+p]=h<d&&p<f?t(l[h],g[p])<=0?l[h++]:g[p++]:h<d?l[h++]:g[p++];return e};e.exports=i},4540:function(e,t,r){"use strict";var o=r(2484);e.exports=o([].slice)},4555:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2454),a=r(3560);o({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return n(a,this,i(e))}})},4584:function(e,t,r){"use strict";var o=r(4102),n=r(2748),i=r(4175)("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"===n(e))}},4665:function(e,t,r){"use strict";var o=r(4334),n=r(659),i=r(3625),a=r(7391),s=r(779),u="Invalid size",c=RangeError,l=TypeError,g=Math.max,d=function(e,t){this.set=e,this.size=g(t,0),this.has=o(e.has),this.keys=o(e.keys)};d.prototype={getIterator:function(){return s(n(i(this.keys,this.set)))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){n(e);var t=+e.size;if(t!=t)throw new l(u);var r=a(t);if(r<0)throw new c(u);return new d(e,r)}},4677:function(e,t){var r,o,n;o=[e,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;function r(e){for(var t,r;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(r=parseInt(e.css("zIndex"),10),!isNaN(r)&&0!==r))return r;e=e.parent()}return 0}function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id=\'"+this._mainDivId+"\' class=\'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>"))}function n(t){var r="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",r,(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",r,i)}function i(){e.datepicker._isDisabledDatepicker(t.inline?t.dpDiv.parent()[0]:t.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,r){for(var o in e.extend(t,r),r)null==r[o]&&(t[o]=r[o]);return t}return e.extend(e.ui,{datepicker:{version:"1.12.1"}}),e.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,r){var o,n,i;n="div"===(o=t.nodeName.toLowerCase())||"span"===o,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(i=this._newInst(e(t),n)).settings=e.extend({},r||{}),"input"===o?this._connectDatepicker(t,i):n&&this._inlineDatepicker(t,i)},_newInst:function(t,r){return{id:t[0].id.replace(/([^A-Za-z0-9_\\-])/g,"\\\\\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:r,dpDiv:r?n(e("<div class=\'"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>")):this.dpDiv}},_connectDatepicker:function(t,r){var o=e(t);r.append=e([]),r.trigger=e([]),o.hasClass(this.markerClassName)||(this._attachments(o,r),o.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(r),e.data(t,"datepicker",r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,r){var o,n,i,a=this._get(r,"appendText"),s=this._get(r,"isRTL");r.append&&r.append.remove(),a&&(r.append=e("<span class=\'"+this._appendClass+"\'>"+a+"</span>"),t[s?"before":"after"](r.append)),t.off("focus",this._showDatepicker),r.trigger&&r.trigger.remove(),"focus"!==(o=this._get(r,"showOn"))&&"both"!==o||t.on("focus",this._showDatepicker),"button"!==o&&"both"!==o||(n=this._get(r,"buttonText"),i=this._get(r,"buttonImage"),r.trigger=e(this._get(r,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:i,alt:n,title:n}):e("<button type=\'button\'></button>").addClass(this._triggerClass).html(i?e("<img/>").attr({src:i,alt:n,title:n}):n)),t[s?"before":"after"](r.trigger),r.trigger.on("click",(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,r,o,n,i=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(r=0,o=0,n=0;n<e.length;n++)e[n].length>r&&(r=e[n].length,o=n);return o},i.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay())),e.input.attr("size",this._formatDate(e,i).length)}},_inlineDatepicker:function(t,r){var o=e(t);o.hasClass(this.markerClassName)||(o.addClass(this.markerClassName).append(r.dpDiv),e.data(t,"datepicker",r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,r,o,n,i){var s,u,c,l,g,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type=\'text\' id=\'"+s+"\' style=\'position: absolute; top: -100px; width: 0px;\'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),r=r&&r.constructor===Date?this._formatDate(d,r):r,this._dialogInput.val(r),this._pos=i?i.length?i:[i.pageX,i.pageY]:null,this._pos||(u=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,g=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+l,c/2-150+g]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=o,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(r){var o,n=e(r),i=e.data(r,"datepicker");n.hasClass(this.markerClassName)&&(o=r.nodeName.toLowerCase(),e.removeData(r,"datepicker"),"input"===o?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==o&&"span"!==o||n.removeClass(this.markerClassName).empty(),t===i&&(t=null))},_enableDatepicker:function(t){var r,o,n=e(t),i=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(r=t.nodeName.toLowerCase())?(t.disabled=!1,i.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==r&&"span"!==r||((o=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var r,o,n=e(t),i=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(r=t.nodeName.toLowerCase())?(t.disabled=!0,i.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==r&&"span"!==r||((o=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,r,o){var n,i,s,u,c=this._getInst(t);if(2===arguments.length&&"string"==typeof r)return"defaults"===r?e.extend({},e.datepicker._defaults):c?"all"===r?e.extend({},c.settings):this._get(c,r):null;n=r||{},"string"==typeof r&&((n={})[r]=o),c&&(this._curInst===c&&this._hideDatepicker(),i=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),u=this._getMinMaxDate(c,"max"),a(c.settings,n),null!==s&&void 0!==n.dateFormat&&void 0===n.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==u&&void 0!==n.dateFormat&&void 0===n.maxDate&&(c.settings.maxDate=this._formatDate(c,u)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,i),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,r){this._optionDatepicker(e,t,r)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var r=this._getInst(e);r&&(this._setDate(r,t),this._updateDatepicker(r),this._updateAlternate(r))},_getDateDatepicker:function(e,t){var r=this._getInst(e);return r&&!r.inline&&this._setDateFromField(r,t),r?this._getDate(r):null},_doKeyDown:function(t){var r,o,n,i=e.datepicker._getInst(t.target),a=!0,s=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",i.dpDiv))[0]&&e.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,n[0]),(r=e.datepicker._get(i,"onSelect"))?(o=e.datepicker._formatDate(i),r.apply(i.input?i.input[0]:null,[o,i])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(i,"stepBigMonths"):-e.datepicker._get(i,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(i,"stepBigMonths"):+e.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(i,"stepBigMonths"):-e.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(i,"stepBigMonths"):+e.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var r,o,n=e.datepicker._getInst(t.target);if(e.datepicker._get(n,"constrainInput"))return r=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),o=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||o<" "||!r||r.indexOf(o)>-1},_doKeyUp:function(t){var r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r))&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(e){}return!0},_showDatepicker:function(t){var o,n,i,s,u,c,l;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t||(o=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==o&&(e.datepicker._curInst.dpDiv.stop(!0,!0),o&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(i=(n=e.datepicker._get(o,"beforeShow"))?n.apply(t,[t,o]):{})&&(a(o.settings,i),o.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(o),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each((function(){return!(s|="fixed"===e(this).css("position"))})),u={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,o.dpDiv.empty(),o.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(o),u=e.datepicker._checkOffset(o,u,s),o.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),o.inline||(c=e.datepicker._get(o,"showAnim"),l=e.datepicker._get(o,"duration"),o.dpDiv.css("z-index",r(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?o.dpDiv.show(c,e.datepicker._get(o,"showOptions"),l):o.dpDiv[c||"show"](c?l:null),e.datepicker._shouldFocusInput(o)&&o.input.trigger("focus"),e.datepicker._curInst=o)))},_updateDatepicker:function(r){this.maxRows=4,t=r,r.dpDiv.empty().append(this._generateHTML(r)),this._attachHandlers(r);var o,n=this._getNumberOfMonths(r),a=n[1],s=17,u=r.dpDiv.find("."+this._dayOverClass+" a");u.length>0&&i.apply(u.get(0)),r.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&r.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",s*a+"em"),r.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),r.dpDiv[(this._get(r,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),r===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(r)&&r.input.trigger("focus"),r.yearshtml&&(o=r.yearshtml,setTimeout((function(){o===r.yearshtml&&r.yearshtml&&r.dpDiv.find("select.ui-datepicker-year:first").replaceWith(r.yearshtml),o=r.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,r,o){var n=t.dpDiv.outerWidth(),i=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(o?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(o?0:e(document).scrollTop());return r.left-=this._get(t,"isRTL")?n-a:0,r.left-=o&&r.left===t.input.offset().left?e(document).scrollLeft():0,r.top-=o&&r.top===t.input.offset().top+s?e(document).scrollTop():0,r.left-=Math.min(r.left,r.left+n>u&&u>n?Math.abs(r.left+n-u):0),r.top-=Math.min(r.top,r.top+i>c&&c>i?Math.abs(i+s):0),r},_findPos:function(t){for(var r,o=this._getInst(t),n=this._get(o,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return[(r=e(t).offset()).left,r.top]},_hideDatepicker:function(t){var r,o,n,i,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(a,"showAnim"),o=this._get(a,"duration"),n=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[r]||e.effects[r])?a.dpDiv.hide(r,e.datepicker._get(a,"showOptions"),o,n):a.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?o:null,n),r||n(),this._datepickerShowing=!1,(i=this._get(a,"onClose"))&&i.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var r=e(t.target),o=e.datepicker._getInst(r[0]);(r[0].id===e.datepicker._mainDivId||0!==r.parents("#"+e.datepicker._mainDivId).length||r.hasClass(e.datepicker.markerClassName)||r.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!r.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===o)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,r,o){var n=e(t),i=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(i,r,o),this._updateDatepicker(i))},_gotoToday:function(t){var r,o=e(t),n=this._getInst(o[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(r=new Date,n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()),this._notifyChange(n),this._adjustDate(o)},_selectMonthYear:function(t,r,o){var n=e(t),i=this._getInst(n[0]);i["selected"+("M"===o?"Month":"Year")]=i["draw"+("M"===o?"Month":"Year")]=parseInt(r.options[r.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(n)},_selectDay:function(t,r,o,n){var i,a=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((i=this._getInst(a[0])).selectedDay=i.currentDay=e("a",n).html(),i.selectedMonth=i.currentMonth=r,i.selectedYear=i.currentYear=o,this._selectDate(t,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear)))},_clearDate:function(t){var r=e(t);this._selectDate(r,"")},_selectDate:function(t,r){var o,n=e(t),i=this._getInst(n[0]);r=null!=r?r:this._formatDate(i),i.input&&i.input.val(r),this._updateAlternate(i),(o=this._get(i,"onSelect"))?o.apply(i.input?i.input[0]:null,[r,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var r,o,n,i=this._get(t,"altField");i&&(r=this._get(t,"altFormat")||this._get(t,"dateFormat"),o=this._getDate(t),n=this.formatDate(r,o,this._getFormatConfig(t)),e(i).val(n))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,r=new Date(e.getTime());return r.setDate(r.getDate()+4-(r.getDay()||7)),t=r.getTime(),r.setMonth(0),r.setDate(1),Math.floor(Math.round((t-r)/864e5)/7)+1},parseDate:function(t,r,o){if(null==t||null==r)throw"Invalid arguments";if(""===(r="object"==typeof r?r.toString():r+""))return null;var n,i,a,s,u=0,c=(o?o.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),g=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,d=(o?o.dayNames:null)||this._defaults.dayNames,f=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort,h=(o?o.monthNames:null)||this._defaults.monthNames,p=-1,m=-1,y=-1,b=-1,E=!1,_=function(e){var r=n+1<t.length&&t.charAt(n+1)===e;return r&&n++,r},S=function(e){var t=_(e),o="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\\\d{"+("y"===e?o:1)+","+o+"}"),i=r.substring(u).match(n);if(!i)throw"Missing number at position "+u;return u+=i[0].length,parseInt(i[0],10)},v=function(t,o,n){var i=-1,a=e.map(_(t)?n:o,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var o=t[1];if(r.substr(u,o.length).toLowerCase()===o.toLowerCase())return i=t[0],u+=o.length,!1})),-1!==i)return i+1;throw"Unknown name at position "+u},T=function(){if(r.charAt(u)!==t.charAt(n))throw"Unexpected literal at position "+u;u++};for(n=0;n<t.length;n++)if(E)"\'"!==t.charAt(n)||_("\'")?T():E=!1;else switch(t.charAt(n)){case"d":y=S("d");break;case"D":v("D",g,d);break;case"o":b=S("o");break;case"m":m=S("m");break;case"M":m=v("M",f,h);break;case"y":p=S("y");break;case"@":p=(s=new Date(S("@"))).getFullYear(),m=s.getMonth()+1,y=s.getDate();break;case"!":p=(s=new Date((S("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,y=s.getDate();break;case"\'":_("\'")?T():E=!0;break;default:T()}if(u<r.length&&(a=r.substr(u),!/^\\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=l?0:-100)),b>-1)for(m=1,y=b;!(y<=(i=this._getDaysInMonth(p,m-1)));)m++,y-=i;if((s=this._daylightSavingAdjust(new Date(p,m-1,y))).getFullYear()!==p||s.getMonth()+1!==m||s.getDate()!==y)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,r){if(!t)return"";var o,n=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,i=(r?r.dayNames:null)||this._defaults.dayNames,a=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,s=(r?r.monthNames:null)||this._defaults.monthNames,u=function(t){var r=o+1<e.length&&e.charAt(o+1)===t;return r&&o++,r},c=function(e,t,r){var o=""+t;if(u(e))for(;o.length<r;)o="0"+o;return o},l=function(e,t,r,o){return u(e)?o[t]:r[t]},g="",d=!1;if(t)for(o=0;o<e.length;o++)if(d)"\'"!==e.charAt(o)||u("\'")?g+=e.charAt(o):d=!1;else switch(e.charAt(o)){case"d":g+=c("d",t.getDate(),2);break;case"D":g+=l("D",t.getDay(),n,i);break;case"o":g+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":g+=c("m",t.getMonth()+1,2);break;case"M":g+=l("M",t.getMonth(),a,s);break;case"y":g+=u("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":g+=t.getTime();break;case"!":g+=1e4*t.getTime()+this._ticksTo1970;break;case"\'":u("\'")?g+="\'":d=!0;break;default:g+=e.charAt(o)}return g},_possibleChars:function(e){var t,r="",o=!1,n=function(r){var o=t+1<e.length&&e.charAt(t+1)===r;return o&&t++,o};for(t=0;t<e.length;t++)if(o)"\'"!==e.charAt(t)||n("\'")?r+=e.charAt(t):o=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":r+="0123456789";break;case"D":case"M":return null;case"\'":n("\'")?r+="\'":o=!0;break;default:r+=e.charAt(t)}return r},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var r=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),i=n,a=this._getFormatConfig(e);try{i=this.parseDate(r,o,a)||n}catch(e){o=t?"":o}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=o?i.getDate():0,e.currentMonth=o?i.getMonth():0,e.currentYear=o?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,r,o){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(r){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),r,e.datepicker._getFormatConfig(t))}catch(e){}for(var o=(r.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=o.getFullYear(),i=o.getMonth(),a=o.getDate(),s=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(r);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":i+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(n,i))}u=s.exec(r)}return new Date(n,i,a)},a=null==r||""===r?o:"string"==typeof r?i(r):"number"==typeof r?isNaN(r)?o:n(r):new Date(r.getTime());return(a=a&&"Invalid Date"===a.toString()?o:a)&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,r){var o=!t,n=e.selectedMonth,i=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),n===e.selectedMonth&&i===e.selectedYear||r||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(o?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),o="#"+t.id.replace(/\\\\\\\\/g,"\\\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(o,-r,"M")},next:function(){e.datepicker._adjustDate(o,+r,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(o)},selectDay:function(){return e.datepicker._selectDay(o,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(o,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(o,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,r,o,n,i,a,s,u,c,l,g,d,f,h,p,m,y,b,E,_,S,v,T,A,N,C,D,w,R,x,O,I,k,M,L,$,F,U,P,H=new Date,j=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),B=this._get(e,"isRTL"),q=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),G=this._get(e,"navigationAsDateFormat"),z=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),W=this._get(e,"stepMonths"),K=1!==z[0]||1!==z[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-Y,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-z[0]*z[1]+1,Q.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,r=this._get(e,"prevText"),r=G?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z-W,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,-1,ee,Z)?"<a class=\'ui-datepicker-prev ui-corner-all\' data-handler=\'prev\' data-event=\'click\' title=\'"+r+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"\'>"+r+"</span></a>":V?"":"<a class=\'ui-datepicker-prev ui-corner-all ui-state-disabled\' title=\'"+r+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"\'>"+r+"</span></a>",n=this._get(e,"nextText"),n=G?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z+W,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,1,ee,Z)?"<a class=\'ui-datepicker-next ui-corner-all\' data-handler=\'next\' data-event=\'click\' title=\'"+n+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"\'>"+n+"</span></a>":V?"":"<a class=\'ui-datepicker-next ui-corner-all ui-state-disabled\' title=\'"+n+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"\'>"+n+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?J:j,a=G?this.formatDate(a,s,this._getFormatConfig(e)):a,u=e.inline?"":"<button type=\'button\' class=\'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\' data-handler=\'hide\' data-event=\'click\'>"+this._get(e,"closeText")+"</button>",c=q?"<div class=\'ui-datepicker-buttonpane ui-widget-content\'>"+(B?u:"")+(this._isInRange(e,s)?"<button type=\'button\' class=\'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\' data-handler=\'today\' data-event=\'click\'>"+a+"</button>":"")+(B?"":u)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,g=this._get(e,"showWeek"),d=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),h=this._get(e,"monthNames"),p=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),y=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),E=this._getDefaultDate(e),_="",v=0;v<z[0];v++){for(T="",this.maxRows=4,A=0;A<z[1];A++){if(N=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),C=" ui-corner-all",D="",K){if(D+="<div class=\'ui-datepicker-group",z[1]>1)switch(A){case 0:D+=" ui-datepicker-group-first",C=" ui-corner-"+(B?"right":"left");break;case z[1]-1:D+=" ui-datepicker-group-last",C=" ui-corner-"+(B?"left":"right");break;default:D+=" ui-datepicker-group-middle",C=""}D+="\'>"}for(D+="<div class=\'ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"\'>"+(/all|left/.test(C)&&0===v?B?i:o:"")+(/all|right/.test(C)&&0===v?B?o:i:"")+this._generateMonthYearHeader(e,Z,ee,X,Q,v>0||A>0,h,p)+"</div><table class=\'ui-datepicker-calendar\'><thead><tr>",w=g?"<th class=\'ui-datepicker-week-col\'>"+this._get(e,"weekHeader")+"</th>":"",S=0;S<7;S++)w+="<th scope=\'col\'"+((S+l+6)%7>=5?" class=\'ui-datepicker-week-end\'":"")+"><span title=\'"+d[R=(S+l)%7]+"\'>"+f[R]+"</span></th>";for(D+=w+"</tr></thead><tbody>",x=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,x)),O=(this._getFirstDayOfMonth(ee,Z)-l+7)%7,I=Math.ceil((O+x)/7),k=K&&this.maxRows>I?this.maxRows:I,this.maxRows=k,M=this._daylightSavingAdjust(new Date(ee,Z,1-O)),L=0;L<k;L++){for(D+="<tr>",$=g?"<td class=\'ui-datepicker-week-col\'>"+this._get(e,"calculateWeek")(M)+"</td>":"",S=0;S<7;S++)F=m?m.apply(e.input?e.input[0]:null,[M]):[!0,""],P=(U=M.getMonth()!==Z)&&!b||!F[0]||X&&M<X||Q&&M>Q,$+="<td class=\'"+((S+l+6)%7>=5?" ui-datepicker-week-end":"")+(U?" ui-datepicker-other-month":"")+(M.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||E.getTime()===M.getTime()&&E.getTime()===N.getTime()?" "+this._dayOverClass:"")+(P?" "+this._unselectableClass+" ui-state-disabled":"")+(U&&!y?"":" "+F[1]+(M.getTime()===J.getTime()?" "+this._currentClass:"")+(M.getTime()===j.getTime()?" ui-datepicker-today":""))+"\'"+(U&&!y||!F[2]?"":" title=\'"+F[2].replace(/\'/g,"&#39;")+"\'")+(P?"":" data-handler=\'selectDay\' data-event=\'click\' data-month=\'"+M.getMonth()+"\' data-year=\'"+M.getFullYear()+"\'")+">"+(U&&!y?"&#xa0;":P?"<span class=\'ui-state-default\'>"+M.getDate()+"</span>":"<a class=\'ui-state-default"+(M.getTime()===j.getTime()?" ui-state-highlight":"")+(M.getTime()===J.getTime()?" ui-state-active":"")+(U?" ui-priority-secondary":"")+"\' href=\'#\'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);D+=$+"</tr>"}++Z>11&&(Z=0,ee++),T+=D+="</tbody></table>"+(K?"</div>"+(z[0]>0&&A===z[1]-1?"<div class=\'ui-datepicker-row-break\'></div>":""):"")}_+=T}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,r,o,n,i,a,s){var u,c,l,g,d,f,h,p,m=this._get(e,"changeMonth"),y=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),E="<div class=\'ui-datepicker-title\'>",_="";if(i||!m)_+="<span class=\'ui-datepicker-month\'>"+a[t]+"</span>";else{for(u=o&&o.getFullYear()===r,c=n&&n.getFullYear()===r,_+="<select class=\'ui-datepicker-month\' data-handler=\'selectMonth\' data-event=\'change\'>",l=0;l<12;l++)(!u||l>=o.getMonth())&&(!c||l<=n.getMonth())&&(_+="<option value=\'"+l+"\'"+(l===t?" selected=\'selected\'":"")+">"+s[l]+"</option>");_+="</select>"}if(b||(E+=_+(!i&&m&&y?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",i||!y)E+="<span class=\'ui-datepicker-year\'>"+r+"</span>";else{for(g=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\\-].*/)?r+parseInt(e.substring(1),10):e.match(/[+\\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},h=f(g[0]),p=Math.max(h,f(g[1]||"")),h=o?Math.max(h,o.getFullYear()):h,p=n?Math.min(p,n.getFullYear()):p,e.yearshtml+="<select class=\'ui-datepicker-year\' data-handler=\'selectYear\' data-event=\'change\'>";h<=p;h++)e.yearshtml+="<option value=\'"+h+"\'"+(h===r?" selected=\'selected\'":"")+">"+h+"</option>";e.yearshtml+="</select>",E+=e.yearshtml,e.yearshtml=null}return E+=this._get(e,"yearSuffix"),b&&(E+=(!i&&m&&y?"":"&#xa0;")+_),E+="</div>"},_adjustInstDate:function(e,t,r){var o=e.selectedYear+("Y"===r?t:0),n=e.selectedMonth+("M"===r?t:0),i=Math.min(e.selectedDay,this._getDaysInMonth(o,n))+("D"===r?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(o,n,i)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==r&&"Y"!==r||this._notifyChange(e)},_restrictMinMax:function(e,t){var r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),n=r&&t<r?r:t;return o&&n>o?o:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,r,o){var n=this._getNumberOfMonths(e),i=this._daylightSavingAdjust(new Date(r,o+(t<0?t:n[0]*n[1]),1));return t<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())),this._isInRange(e,i)},_isInRange:function(e,t){var r,o,n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),a=null,s=null,u=this._get(e,"yearRange");return u&&(r=u.split(":"),o=(new Date).getFullYear(),a=parseInt(r[0],10),s=parseInt(r[1],10),r[0].match(/[+\\-].*/)&&(a+=o),r[1].match(/[+\\-].*/)&&(s+=o)),(!n||t.getTime()>=n.getTime())&&(!i||t.getTime()<=i.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,r,o){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(o,r,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var r=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(r)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(r)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(r))},e.datepicker=new o,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker},e.exports=t.default},void 0===(n="function"==typeof r?r.apply(t,o):r)||(e.exports=n)},4690:function(e,t,r){"use strict";var o=r(2128),n=r(4461),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=n(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!o||o&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},4700:function(e,t,r){"use strict";var o=r(4792),n=r(8563);e.exports=Object.keys||function(e){return o(e,n)}},4707:function(e,t,r){"use strict";var o=r(8810),n=r(6749).includes,i=r(2675),a=r(2153);o({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},4792:function(e,t,r){"use strict";var o=r(2484),n=r(4461),i=r(8969),a=r(6749).indexOf,s=r(6617),u=o([].push);e.exports=function(e,t){var r,o=i(e),c=0,l=[];for(r in o)!n(s,r)&&n(o,r)&&u(l,r);for(;t.length>c;)n(o,r=t[c++])&&(~a(l,r)||u(l,r));return l}},4802:function(e,t,r){"use strict";var o=r(8810),n=r(2128),i=r(9467),a=r(8969),s=r(3071),u=r(4028);o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){for(var t,r,o=a(e),n=s.f,c=i(o),l={},g=0;c.length>g;)void 0!==(r=n(o,t=c[g++]))&&u(l,t,r);return l}})},4834:function(e,t,r){"use strict";var o=r(9601),n=TypeError;e.exports=function(e){if(o(e))throw new n("Can\'t call method on "+e);return e}},4853:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2454),a=r(5596);o({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return n(a,this,i(e))}})},4912:function(e){"use strict";e.exports="\\t\\n\\v\\f\\r \\u2028\\u2029\\ufeff"},4929:function(e,t,r){"use strict";var o=r(8845);e.exports=function(e,t){return new(o(e))(0===t?0:t)}},4951:function(e,t,r){"use strict";var o=r(5719),n=r(9538),i=r(9601),a=r(6609),s=r(4175)("iterator");e.exports=function(e){if(!i(e))return n(e,s)||n(e,"@@iterator")||a[o(e)]}},4956:function(e,t,r){"use strict";var o=r(4792),n=r(8563).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,n)}},5004:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},5034:function(e,t,r){"use strict";var o=r(8052);e.exports=o.Promise},5143:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(4334),a=r(1031),s=r(3443),u=r(1072);o({target:"Promise",stat:!0,forced:r(341)},{all:function(e){var t=this,r=a.f(t),o=r.resolve,c=r.reject,l=s((function(){var r=i(t.resolve),a=[],s=0,l=1;u(e,(function(e){var i=s++,u=!1;l++,n(r,t,e).then((function(e){u||(u=!0,a[i]=e,--l||o(a))}),c)})),--l||o(a)}));return l.error&&c(l.value),r.promise}})},5150:function(e,t,r){"use strict";var o=r(2484),n=r(4834),i=r(7267),a=r(4912),s=o("".replace),u=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var r=i(n(t));return 1&e&&(r=s(r,u,"")),2&e&&(r=s(r,c,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},5183:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(2454),a=r(5462);o({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return n(a,this,i(e))}})},5236:function(e,t,r){"use strict";var o=r(321),n=r(6005),i=r(9455),a=r(1941);e.exports=function(e,t,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(o(r)&&i(r,c,s),s.global)u?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=r:n.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},5433:function(e,t,r){"use strict";var o=r(2128),n=r(2484),i=r(3625),a=r(2675),s=r(4700),u=r(9073),c=r(7769),l=r(8649),g=r(51),d=Object.assign,f=Object.defineProperty,h=n([].concat);e.exports=!d||a((function(){if(o&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!==d({},e)[r]||s(d({},t)).join("")!==n}))?function(e,t){for(var r=l(e),n=arguments.length,a=1,d=u.f,f=c.f;n>a;)for(var p,m=g(arguments[a++]),y=d?h(s(m),d(m)):s(m),b=y.length,E=0;b>E;)p=y[E++],o&&!i(f,m,p)||(r[p]=m[p]);return r}:d},5462:function(e,t,r){"use strict";var o=r(2404),n=r(1990),i=r(466),a=r(4665),s=r(8711),u=n.add,c=n.has,l=n.remove;e.exports=function(e){var t=o(this),r=a(e).getIterator(),n=i(t);return s(r,(function(e){c(t,e)?l(n,e):u(n,e)})),n}},5514:function(e,t,r){"use strict";var o=r(3625),n=r(321),i=r(4102),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&n(r=e.toString)&&!i(s=o(r,e)))return s;if(n(r=e.valueOf)&&!i(s=o(r,e)))return s;if("string"!==t&&n(r=e.toString)&&!i(s=o(r,e)))return s;throw new a("Can\'t convert object to primitive value")}},5596:function(e,t,r){"use strict";var o=r(2404),n=r(1990),i=r(466),a=r(7358),s=r(4665),u=r(6417),c=r(8711),l=n.has,g=n.remove;e.exports=function(e){var t=o(this),r=s(e),n=i(t);return a(t)<=r.size?u(t,(function(e){r.includes(e)&&g(n,e)})):c(r.getIterator(),(function(e){l(t,e)&&g(n,e)})),n}},5719:function(e,t,r){"use strict";var o=r(7928),n=r(321),i=r(2748),a=r(4175)("toStringTag"),s=Object,u="Arguments"===i(function(){return arguments}());e.exports=o?i:function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:u?i(t):"Object"===(o=i(t))&&n(t.callee)?"Arguments":o}},5722:function(e,t,r){"use strict";var o=r(2675),n=r(8052).RegExp;e.exports=o((function(){var e=n("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5755:function(e,t,r){"use strict";var o=r(7837),n=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw new n("Incorrect invocation")}},5809:function(e,t,r){"use strict";var o=r(8810),n=r(2404),i=r(1990).add;o({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=n(this),t=0,r=arguments.length;t<r;t++)i(e,arguments[t]);return e}})},5891:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(1904),a=r(7270),s=r(381),u=r(4834),c=r(3026),l=r(7267),g=r(659),d=r(9601),f=r(2748),h=r(4584),p=r(3614),m=r(9538),y=r(5236),b=r(2675),E=r(4175),_=r(3985),S=r(8785),v=r(9198),T=r(6369),A=r(6007),N=E("matchAll"),C="RegExp String",D=C+" Iterator",w=T.set,R=T.getterFor(D),x=RegExp.prototype,O=TypeError,I=i("".indexOf),k=i("".matchAll),M=!!k&&!b((function(){k("a",/./)})),L=a((function(e,t,r,o){w(this,{type:D,regexp:e,string:t,global:r,unicode:o,done:!1})}),C,(function(){var e=R(this);if(e.done)return s(void 0,!0);var t=e.regexp,r=e.string,o=v(t,r);return null===o?(e.done=!0,s(void 0,!0)):e.global?(""===l(o[0])&&(t.lastIndex=S(r,c(t.lastIndex),e.unicode)),s(o,!1)):(e.done=!0,s(o,!1))})),$=function(e){var t,r,o,n=g(this),i=l(e),a=_(n,RegExp),s=l(p(n));return t=new a(a===RegExp?n.source:n,s),r=!!~I(s,"g"),o=!!~I(s,"u"),t.lastIndex=c(n.lastIndex),new L(t,i,r,o)};o({target:"String",proto:!0,forced:M},{matchAll:function(e){var t,r,o,i,a=u(this);if(d(e)){if(M)return k(a,e)}else{if(h(e)&&(t=l(u(p(e))),!~I(t,"g")))throw new O("`.matchAll` does not allow non-global regexes");if(M)return k(a,e);if(void 0===(o=m(e,N))&&A&&"RegExp"===f(e)&&(o=$),o)return n(o,e,a)}return r=l(a),i=new RegExp(e,"g"),A?n($,i,r):i[N](r)}}),A||N in x||y(x,N,$)},5927:function(e,t,r){"use strict";var o=r(4461),n=r(321),i=r(8649),a=r(3779),s=r(2407),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(o(t,u))return t[u];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},5936:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5940:function(e,t,r){"use strict";var o=r(2675),n=r(4175),i=r(2128),a=r(6007),s=n("iterator");e.exports=!o((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),o="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),o+=r+e})),r.delete("a",2),r.delete("b",void 0),a&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(a||!i)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==o||"x"!==new URL("https://x",void 0).host}))},5972:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=a(r(4057));t.htmlDecodeTree=s.default;var u=a(r(6615));t.xmlDecodeTree=u.default;var c=i(r(1946));t.decodeCodePoint=c.default;var l,g=r(1946);Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return g.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return g.fromCodePoint}}),function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(l||(l={}));var d,f,h;function p(e){return e>=l.ZERO&&e<=l.NINE}function m(e){return e===l.EQUALS||function(e){return e>=l.UPPER_A&&e<=l.UPPER_Z||e>=l.LOWER_A&&e<=l.LOWER_Z||p(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(d=t.BinTrieFlags||(t.BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(f||(f={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(h=t.DecodingMode||(t.DecodingMode={}));var y=function(){function e(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=f.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=h.Strict}return e.prototype.startEntity=function(e){this.decodeMode=e,this.state=f.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},e.prototype.write=function(e,t){switch(this.state){case f.EntityStart:return e.charCodeAt(t)===l.NUM?(this.state=f.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=f.NamedEntity,this.stateNamedEntity(e,t));case f.NumericStart:return this.stateNumericStart(e,t);case f.NumericDecimal:return this.stateNumericDecimal(e,t);case f.NumericHex:return this.stateNumericHex(e,t);case f.NamedEntity:return this.stateNamedEntity(e,t)}},e.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===l.LOWER_X?(this.state=f.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=f.NumericDecimal,this.stateNumericDecimal(e,t))},e.prototype.addToNumericResult=function(e,t,r,o){if(t!==r){var n=r-t;this.result=this.result*Math.pow(o,n)+parseInt(e.substr(t,n),o),this.consumed+=n}},e.prototype.stateNumericHex=function(e,t){for(var r,o=t;t<e.length;){var n=e.charCodeAt(t);if(!(p(n)||(r=n,r>=l.UPPER_A&&r<=l.UPPER_F||r>=l.LOWER_A&&r<=l.LOWER_F)))return this.addToNumericResult(e,o,t,16),this.emitNumericEntity(n,3);t+=1}return this.addToNumericResult(e,o,t,16),-1},e.prototype.stateNumericDecimal=function(e,t){for(var r=t;t<e.length;){var o=e.charCodeAt(t);if(!p(o))return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(o,2);t+=1}return this.addToNumericResult(e,r,t,10),-1},e.prototype.emitNumericEntity=function(e,t){var r;if(this.consumed<=t)return null===(r=this.errors)||void 0===r||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===l.SEMI)this.consumed+=1;else if(this.decodeMode===h.Strict)return 0;return this.emitCodePoint((0,c.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},e.prototype.stateNamedEntity=function(e,t){for(var r=this.decodeTree,o=r[this.treeIndex],n=(o&d.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var i=e.charCodeAt(t);if(this.treeIndex=E(r,o,this.treeIndex+Math.max(1,n),i),this.treeIndex<0)return 0===this.result||this.decodeMode===h.Attribute&&(0===n||m(i))?0:this.emitNotTerminatedNamedEntity();if(0!==(n=((o=r[this.treeIndex])&d.VALUE_LENGTH)>>14)){if(i===l.SEMI)return this.emitNamedEntityData(this.treeIndex,n,this.consumed+this.excess);this.decodeMode!==h.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},e.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this.result,r=(this.decodeTree[t]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed},e.prototype.emitNamedEntityData=function(e,t,r){var o=this.decodeTree;return this.emitCodePoint(1===t?o[e]&~d.VALUE_LENGTH:o[e+1],r),3===t&&this.emitCodePoint(o[e+2],r),r},e.prototype.end=function(){var e;switch(this.state){case f.NamedEntity:return 0===this.result||this.decodeMode===h.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case f.NumericDecimal:return this.emitNumericEntity(0,2);case f.NumericHex:return this.emitNumericEntity(0,3);case f.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case f.EntityStart:return 0}},e}();function b(e){var t="",r=new y(e,(function(e){return t+=(0,c.fromCodePoint)(e)}));return function(e,o){for(var n=0,i=0;(i=e.indexOf("&",i))>=0;){t+=e.slice(n,i),r.startEntity(o);var a=r.write(e,i+1);if(a<0){n=i+r.end();break}n=i+a,i=0===a?n+1:n}var s=t+e.slice(n);return t="",s}}function E(e,t,r,o){var n=(t&d.BRANCH_LENGTH)>>7,i=t&d.JUMP_TABLE;if(0===n)return 0!==i&&o===i?r:-1;if(i){var a=o-i;return a<0||a>=n?-1:e[r+a]-1}for(var s=r,u=s+n-1;s<=u;){var c=s+u>>>1,l=e[c];if(l<o)s=c+1;else{if(!(l>o))return e[c+n];u=c-1}}return-1}t.EntityDecoder=y,t.determineBranch=E;var _=b(s.default),S=b(u.default);t.decodeHTML=function(e,t){return void 0===t&&(t=h.Legacy),_(e,t)},t.decodeHTMLAttribute=function(e){return _(e,h.Attribute)},t.decodeHTMLStrict=function(e){return _(e,h.Strict)},t.decodeXML=function(e){return S(e,h.Strict)}},6005:function(e,t,r){"use strict";var o=r(2128),n=r(4113),i=r(706),a=r(659),s=r(1261),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,g="enumerable",d="configurable",f="writable";t.f=o?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var o=l(e,t);o&&o[f]&&(e[t]=r.value,r={configurable:d in r?r[d]:o[d],enumerable:g in r?r[g]:o[g],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),n)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},6007:function(e){"use strict";e.exports=!1},6038:function(e,t,r){"use strict";var o=r(9455),n=r(6005);e.exports=function(e,t,r){return r.get&&o(r.get,t,{getter:!0}),r.set&&o(r.set,t,{setter:!0}),n.f(e,t,r)}},6125:function(e,t,r){"use strict";var o=r(6627);e.exports="NODE"===o},6221:function(e,t,r){"use strict";var o=r(3625),n=r(4334),i=r(659),a=r(8379),s=r(4951),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(n(r))return i(o(r,e));throw new u(a(e)+" is not iterable")}},6266:function(e,t,r){"use strict";var o=r(8810),n=r(2484),i=r(2404),a=r(6417),s=r(7267),u=n([].join),c=n([].push);o({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=i(this),r=void 0===e?",":s(e),o=[];return a(t,(function(e){c(o,e)})),u(o,r)}})},6349:function(e,t,r){"use strict";r(2006)},6369:function(e,t,r){"use strict";var o,n,i,a=r(8434),s=r(8052),u=r(4102),c=r(671),l=r(4461),g=r(2921),d=r(3779),f=r(6617),h="Object already initialized",p=s.TypeError,m=s.WeakMap;if(a||g.state){var y=g.state||(g.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,o=function(e,t){if(y.has(e))throw new p(h);return t.facade=e,y.set(e,t),t},n=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var b=d("state");f[b]=!0,o=function(e,t){if(l(e,b))throw new p(h);return t.facade=e,c(e,b,t),t},n=function(e){return l(e,b)?e[b]:{}},i=function(e){return l(e,b)}}e.exports={set:o,get:n,has:i,enforce:function(e){return i(e)?n(e):o(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=n(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return r}}}},6417:function(e,t,r){"use strict";var o=r(2484),n=r(8711),i=r(1990),a=i.Set,s=i.proto,u=o(s.forEach),c=o(s.keys),l=c(new a).next;e.exports=function(e,t,r){return r?n({iterator:c(e),next:l},t):u(e,t)}},6421:function(e,t,r){var o=r(3886),n=r(6482);void 0===n.$&&(n.$=o),void 0===n.jQuery&&(n.jQuery=o),e.exports=o},6445:function(e,t,r){"use strict";var o=r(2921);e.exports=function(e,t){return o[e]||(o[e]=t||{})}},6482:function(e,t,r){"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==r.g)return r.g}return e}()},6526:function(e,t,r){"use strict";var o=r(7391),n=Math.max,i=Math.min;e.exports=function(e,t){var r=o(e);return r<0?n(r+t,0):i(r,t)}},6558:function(e,t,r){"use strict";r(8808),r(5143),r(383),r(2035),r(2173),r(2148)},6559:function(e,t,r){"use strict";var o,n,i,a,s,u=r(8052),c=r(6977),l=r(9004),g=r(6781).set,d=r(1661),f=r(2900),h=r(7517),p=r(552),m=r(6125),y=u.MutationObserver||u.WebKitMutationObserver,b=u.document,E=u.process,_=u.Promise,S=c("queueMicrotask");if(!S){var v=new d,T=function(){var e,t;for(m&&(e=E.domain)&&e.exit();t=v.get();)try{t()}catch(e){throw v.head&&o(),e}e&&e.enter()};f||m||p||!y||!b?!h&&_&&_.resolve?((a=_.resolve(void 0)).constructor=_,s=l(a.then,a),o=function(){s(T)}):m?o=function(){E.nextTick(T)}:(g=l(g,u),o=function(){g(T)}):(n=!0,i=b.createTextNode(""),new y(T).observe(i,{characterData:!0}),o=function(){i.data=n=!n}),S=function(e){v.head||o(),v.add(e)}}e.exports=S},6608:function(e,t,r){"use strict";var o=r(9982);function n(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}function i(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===i(e)}function s(e){return e.replace(/[.?*+^$[\\]\\\\(){}|-]/g,"\\\\$&")}const u={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const c={"http:":{validate:function(e,t,r){const o=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\\\/\\\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(o)?o.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const o=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(o)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:o.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const o=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(o)?o.match(r.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function g(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=o.Any.source,t.src_Cc=o.Cc.source,t.src_Z=o.Z.source,t.src_P=o.P.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\\\[\\\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\\\d|\\\\.-|\\\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\\\]{}.,\\"\'?!\\\\-;]).|\\\\[(?:(?!"+t.src_ZCc+"|\\\\]).)*\\\\]|\\\\((?:(?!"+t.src_ZCc+"|[)]).)*\\\\)|\\\\{(?:(?!"+t.src_ZCc+\'|[}]).)*\\\\}|\\\\"(?:(?!\'+t.src_ZCc+\'|["]).)+\\\\"|\\\\\\\'(?:(?!\'+t.src_ZCc+"|[\']).)+\\\\\'|\\\\\'(?="+t.src_pseudo_letter+"|[-])|\\\\.{2,}[a-zA-Z0-9%/&]|\\\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\\\-(?!--(?:[^-]|$))(?:-*)|":"\\\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\\\!+(?!"+t.src_ZCc+"|[!]|$)|\\\\?(?!"+t.src_ZCc+"|[?]|$))+|\\\\/)?",t.src_email_name=\'[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\"\\\\.a-zA-Z0-9_]*\',t.src_xn="xn--[a-z0-9\\\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy=\'(^|[><]|"|\\\\(|\'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),r=e.__tlds__.slice();function n(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const u=[];function c(e,t){throw new Error(\'(LinkifyIt) Invalid schema "\'+e+\'": \'+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const r=e.__schemas__[t];if(null===r)return;const o={validate:null,link:null};if(e.__compiled__[t]=o,"[object Object]"===i(r))return!function(e){return"[object RegExp]"===i(e)}(r.validate)?a(r.validate)?o.validate=r.validate:c(t,r):o.validate=function(e){return function(t,r){const o=t.slice(r);return e.test(o)?o.match(e)[0].length:0}}(r.validate),void(a(r.normalize)?o.normalize=r.normalize:r.normalize?c(t,r):o.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(r)?c(t,r):u.push(t)})),u.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){const r=e.__index__,o=e.__last_index__,n=e.__text_cache__.slice(r,o);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=o+t,this.raw=n,this.text=n,this.url=n}function f(e,t){const r=new d(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function h(e,t){if(!(this instanceof h))return new h(e,t);var r;t||(r=e,Object.keys(r||{}).reduce((function(e,t){return e||u.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},u,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},c,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},g(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,g(this),this},h.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,r,o,n,i,a,s,u,c;if(this.re.schema_test.test(e))for(s=this.re.schema_search,s.lastIndex=0;null!==(t=s.exec(e));)if(n=this.testSchemaAt(e,t[2],s.lastIndex),n){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(o=e.match(this.re.email_fuzzy))&&(i=o.index+o[1].length,a=o.index+o[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a))),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},h.prototype.match=function(e){const t=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(f(this,r)),r=this.__last_index__);let o=r?e.slice(r):e;for(;this.test(o);)t.push(f(this,r)),o=o.slice(this.__last_index__),r+=this.__last_index__;return t.length?t:null},h.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const r=this.testSchemaAt(e,t[2],t[0].length);return r?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r,f(this,0)):null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,r){return e!==r[t-1]})).reverse(),g(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,g(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},6609:function(e){"use strict";e.exports={}},6615:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array("aglq\\t\\0\\0p;os;t;t;uot;".split("").map((function(e){return e.charCodeAt(0)})))},6617:function(e){"use strict";e.exports={}},6627:function(e,t,r){"use strict";var o=r(8052),n=r(3291),i=r(2748),a=function(e){return n.slice(0,e.length)===e};e.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":o.Bun&&"string"==typeof Bun.version?"BUN":o.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(o.process)?"NODE":o.window&&o.document?"BROWSER":"REST"},6749:function(e,t,r){"use strict";var o=r(8969),n=r(6526),i=r(8770),a=function(e){return function(t,r,a){var s=o(t),u=i(s);if(0===u)return!e&&-1;var c,l=n(a,u);if(e&&r!=r){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6781:function(e,t,r){"use strict";var o,n,i,a,s=r(8052),u=r(133),c=r(9004),l=r(321),g=r(4461),d=r(2675),f=r(7073),h=r(4540),p=r(4451),m=r(464),y=r(2900),b=r(6125),E=s.setImmediate,_=s.clearImmediate,S=s.process,v=s.Dispatch,T=s.Function,A=s.MessageChannel,N=s.String,C=0,D={},w="onreadystatechange";d((function(){o=s.location}));var R=function(e){if(g(D,e)){var t=D[e];delete D[e],t()}},x=function(e){return function(){R(e)}},O=function(e){R(e.data)},I=function(e){s.postMessage(N(e),o.protocol+"//"+o.host)};E&&_||(E=function(e){m(arguments.length,1);var t=l(e)?e:T(e),r=h(arguments,1);return D[++C]=function(){u(t,void 0,r)},n(C),C},_=function(e){delete D[e]},b?n=function(e){S.nextTick(x(e))}:v&&v.now?n=function(e){v.now(x(e))}:A&&!y?(a=(i=new A).port2,i.port1.onmessage=O,n=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&o&&"file:"!==o.protocol&&!d(I)?(n=I,s.addEventListener("message",O,!1)):n=w in p("script")?function(e){f.appendChild(p("script"))[w]=function(){f.removeChild(this),R(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:E,clear:_}},6794:function(e,t,r){"use strict";var o=r(659),n=r(4102),i=r(1031);e.exports=function(e,t){if(o(e),n(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},6855:function(e,t,r){"use strict";var o=r(5719),n=r(4461),i=r(9601),a=r(4175),s=r(6609),u=a("iterator"),c=Object;e.exports=function(e){if(i(e))return!1;var t=c(e);return void 0!==t[u]||"@@iterator"in t||n(s,o(t))}},6891:function(e,t,r){"use strict";var o=r(2763),n=r(2675),i=r(8052).String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},6977:function(e,t,r){"use strict";var o=r(8052),n=r(2128),i=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!n)return o[e];var t=i(o,e);return t&&t.value}},7032:function(e,t,r){"use strict";var o=r(8052),n=r(5034),i=r(321),a=r(2360),s=r(2718),u=r(4175),c=r(6627),l=r(6007),g=r(2763),d=n&&n.prototype,f=u("species"),h=!1,p=i(o.PromiseRejectionEvent),m=a("Promise",(function(){var e=s(n),t=e!==String(n);if(!t&&66===g)return!0;if(l&&(!d.catch||!d.finally))return!0;if(!g||g<51||!/native code/.test(e)){var r=new n((function(e){e(1)})),o=function(e){e((function(){}),(function(){}))};if((r.constructor={})[f]=o,!(h=r.then((function(){}))instanceof o))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||p)}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:p,SUBCLASSING:h}},7073:function(e,t,r){"use strict";var o=r(3163);e.exports=o("document","documentElement")},7132:function(e,t,r){"use strict";var o=r(6005).f;e.exports=function(e,t,r){r in e||o(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},7140:function(e,t,r){"use strict";var o=r(4451)("span").classList,n=o&&o.constructor&&o.constructor.prototype;e.exports=n===Object.prototype?void 0:n},7267:function(e,t,r){"use strict";var o=r(5719),n=String;e.exports=function(e){if("Symbol"===o(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},7270:function(e,t,r){"use strict";var o=r(3597).IteratorPrototype,n=r(3844),i=r(5936),a=r(8819),s=r(6609),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=n(o,{next:i(+!c,r)}),a(e,l,!1,!0),s[l]=u,e}},7358:function(e,t,r){"use strict";var o=r(8438),n=r(1990);e.exports=o(n.proto,"size","get")||function(e){return e.size}},7391:function(e,t,r){"use strict";var o=r(4049);e.exports=function(e){var t=+e;return t!=t||0===t?0:o(t)}},7446:function(e,t,r){"use strict";r.r(t),r.d(t,{decode:function(){return y},encode:function(){return b},toASCII:function(){return _},toUnicode:function(){return E},ucs2decode:function(){return f},ucs2encode:function(){return h}});const o=2147483647,n=36,i=/^xn--/,a=/[^\\0-\\x7F]/,s=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,l=String.fromCharCode;function g(e){throw new RangeError(u[e])}function d(e,t){const r=e.split("@");let o="";r.length>1&&(o=r[0]+"@",e=r[1]);const n=function(e,t){const r=[];let o=e.length;for(;o--;)r[o]=t(e[o]);return r}((e=e.replace(s,".")).split("."),t).join(".");return o+n}function f(e){const t=[];let r=0;const o=e.length;for(;r<o;){const n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<o){const o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),r--)}else t.push(n)}return t}const h=e=>String.fromCodePoint(...e),p=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},m=function(e,t,r){let o=0;for(e=r?c(e/700):e>>1,e+=c(e/t);e>455;o+=n)e=c(e/35);return c(o+36*e/(e+38))},y=function(e){const t=[],r=e.length;let i=0,a=128,s=72,u=e.lastIndexOf("-");u<0&&(u=0);for(let r=0;r<u;++r)e.charCodeAt(r)>=128&&g("not-basic"),t.push(e.charCodeAt(r));for(let d=u>0?u+1:0;d<r;){const u=i;for(let t=1,a=n;;a+=n){d>=r&&g("invalid-input");const u=(l=e.charCodeAt(d++))>=48&&l<58?l-48+26:l>=65&&l<91?l-65:l>=97&&l<123?l-97:n;u>=n&&g("invalid-input"),u>c((o-i)/t)&&g("overflow"),i+=u*t;const f=a<=s?1:a>=s+26?26:a-s;if(u<f)break;const h=n-f;t>c(o/h)&&g("overflow"),t*=h}const f=t.length+1;s=m(i-u,f,0==u),c(i/f)>o-a&&g("overflow"),a+=c(i/f),i%=f,t.splice(i++,0,a)}var l;return String.fromCodePoint(...t)},b=function(e){const t=[],r=(e=f(e)).length;let i=128,a=0,s=72;for(const r of e)r<128&&t.push(l(r));const u=t.length;let d=u;for(u&&t.push("-");d<r;){let r=o;for(const t of e)t>=i&&t<r&&(r=t);const f=d+1;r-i>c((o-a)/f)&&g("overflow"),a+=(r-i)*f,i=r;for(const r of e)if(r<i&&++a>o&&g("overflow"),r===i){let e=a;for(let r=n;;r+=n){const o=r<=s?1:r>=s+26?26:r-s;if(e<o)break;const i=e-o,a=n-o;t.push(l(p(o+i%a,0))),e=c(i/a)}t.push(l(p(e,0))),s=m(a,f,d===u),a=0,++d}++a,++i}return t.join("")},E=function(e){return d(e,(function(e){return i.test(e)?y(e.slice(4).toLowerCase()):e}))},_=function(e){return d(e,(function(e){return a.test(e)?"xn--"+b(e):e}))},S={version:"2.3.1",ucs2:{decode:f,encode:h},decode:y,encode:b,toASCII:_,toUnicode:E};t.default=S},7517:function(e,t,r){"use strict";var o=r(3291);e.exports=/ipad|iphone|ipod/i.test(o)&&"undefined"!=typeof Pebble},7628:function(e,t,r){"use strict";r(2690)},7665:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&\'<>$\\x80-\\uFFFF]/g;var r=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function o(e){for(var o,n="",i=0;null!==(o=t.xmlReplacer.exec(e));){var a=o.index,s=e.charCodeAt(a),u=r.get(s);void 0!==u?(n+=e.substring(i,a)+u,i=a+1):(n+="".concat(e.substring(i,a),"&#x").concat((0,t.getCodePoint)(e,a).toString(16),";"),i=t.xmlReplacer.lastIndex+=Number(55296==(64512&s)))}return n+e.substr(i)}function n(e,t){return function(r){for(var o,n=0,i="";o=e.exec(r);)n!==o.index&&(i+=r.substring(n,o.index)),i+=t.get(o[0].charCodeAt(0)),n=o.index+1;return i+r.substring(n)}}t.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},t.encodeXML=o,t.escape=o,t.escapeUTF8=n(/[&<>\'"]/g,r),t.escapeAttribute=n(/["&\\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=n(/[&<>\\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},7706:function(e,t,r){"use strict";var o=r(2404),n=r(1990),i=r(7358),a=r(4665),s=r(6417),u=r(8711),c=n.Set,l=n.add,g=n.has;e.exports=function(e){var t=o(this),r=a(e),n=new c;return i(t)>r.size?u(r.getIterator(),(function(e){g(t,e)&&l(n,e)})):s(t,(function(e){r.includes(e)&&l(n,e)})),n}},7709:function(e,t,r){"use strict";var o=r(8810),n=r(9004),i=r(2404),a=r(6417);o({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),r=n(e,arguments.length>1?arguments[1]:void 0),o=a(t,(function(e){if(r(e,e,t))return{value:e}}),!0);return o&&o.value}})},7769:function(e,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,n=o&&!r.call({1:2},1);t.f=n?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},7778:function(e){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7808:function(e,t,r){"use strict";r(4267);var o=r(3625),n=r(5236),i=r(863),a=r(2675),s=r(4175),u=r(671),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,g){var d=s(e),f=!a((function(){var t={};return t[d]=function(){return 7},7!==""[e](t)})),h=f&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!f||!h||r){var p=/./[d],m=t(d,""[e],(function(e,t,r,n,a){var s=t.exec;return s===i||s===l.exec?f&&!a?{done:!0,value:o(p,t,r,n)}:{done:!0,value:o(e,r,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(l,d,m[1])}g&&u(l[d],"sham",!0)}},7837:function(e,t,r){"use strict";var o=r(2484);e.exports=o({}.isPrototypeOf)},7928:function(e,t,r){"use strict";var o={};o[r(4175)("toStringTag")]="z",e.exports="[object z]"===String(o)},8052:function(e,t,r){"use strict";var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r.g&&r.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},8142:function(e,t,r){"use strict";var o=r(3625),n=r(7808),i=r(659),a=r(9601),s=r(4834),u=r(7778),c=r(7267),l=r(9538),g=r(9198);n("search",(function(e,t,r){return[function(t){var r=s(this),n=a(t)?void 0:l(t,e);return n?o(n,t,r):new RegExp(t)[e](c(r))},function(e){var o=i(this),n=c(e),a=r(t,o,n);if(a.done)return a.value;var s=o.lastIndex;u(s,0)||(o.lastIndex=0);var l=g(o,n);return u(o.lastIndex,s)||(o.lastIndex=s),null===l?-1:l.index}]}))},8220:function(e,t,r){"use strict";var o=r(2128),n=r(8052),i=r(2484),a=r(2360),s=r(9859),u=r(671),c=r(3844),l=r(4956).f,g=r(7837),d=r(4584),f=r(7267),h=r(3614),p=r(2537),m=r(7132),y=r(5236),b=r(2675),E=r(4461),_=r(6369).enforce,S=r(461),v=r(4175),T=r(991),A=r(5722),N=v("match"),C=n.RegExp,D=C.prototype,w=n.SyntaxError,R=i(D.exec),x=i("".charAt),O=i("".replace),I=i("".indexOf),k=i("".slice),M=/^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/,L=/a/g,$=/a/g,F=new C(L)!==L,U=p.MISSED_STICKY,P=p.UNSUPPORTED_Y,H=o&&(!F||U||T||A||b((function(){return $[N]=!1,C(L)!==L||C($)===$||"/a/i"!==String(C(L,"i"))})));if(a("RegExp",H)){for(var j=function(e,t){var r,o,n,i,a,l,p=g(D,this),m=d(e),y=void 0===t,b=[],S=e;if(!p&&m&&y&&e.constructor===j)return e;if((m||g(D,e))&&(e=e.source,y&&(t=h(S))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),S=e,T&&"dotAll"in L&&(o=!!t&&I(t,"s")>-1)&&(t=O(t,/s/g,"")),r=t,U&&"sticky"in L&&(n=!!t&&I(t,"y")>-1)&&P&&(t=O(t,/y/g,"")),A&&(i=function(e){for(var t,r=e.length,o=0,n="",i=[],a=c(null),s=!1,u=!1,l=0,g="";o<=r;o++){if("\\\\"===(t=x(e,o)))t+=x(e,++o);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:if(n+=t,"?:"===k(e,o+1,o+3))continue;R(M,k(e,o+1))&&(o+=2,u=!0),l++;continue;case">"===t&&u:if(""===g||E(a,g))throw new w("Invalid capture group name");a[g]=!0,i[i.length]=[g,l],u=!1,g="";continue}u?g+=t:n+=t}return[n,i]}(e),e=i[0],b=i[1]),a=s(C(e,t),p?this:D,j),(o||n||b.length)&&(l=_(a),o&&(l.dotAll=!0,l.raw=j(function(e){for(var t,r=e.length,o=0,n="",i=!1;o<=r;o++)"\\\\"!==(t=x(e,o))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),n+=t):n+="[\\\\s\\\\S]":n+=t+x(e,++o);return n}(e),r)),n&&(l.sticky=!0),b.length&&(l.groups=b)),e!==S)try{u(a,"source",""===S?"(?:)":S)}catch(e){}return a},B=l(C),q=0;B.length>q;)m(j,C,B[q++]);D.constructor=j,j.prototype=D,y(n,"RegExp",j,{constructor:!0})}S("RegExp")},8303:function(e,t,r){"use strict";var o=r(659);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8379:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},8397:function(module){(function(__global){var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||!r.execScript||r.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)!e.length&&goog.isDef(t)?r[o]=t:r=r[o]&&Object.prototype.hasOwnProperty.call(r,o)?r[o]:r[o]={}},goog.define=function(e,t){var r=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?r=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(r=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,r)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(e))throw Error(\'Namespace "\'+e+\'" already declared.\');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You\'re likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error(\'Namespace "\'+e+\'" already declared.\');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e];if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var r,o=e.split("."),n=t||goog.global;r=o.shift();){if(!goog.isDefAndNotNull(n[r]))return null;n=n[r]}return n},goog.globalize=function(e,t){var r,o=t||goog.global;for(r in e)o[r]=e[r]},goog.addDependency=function(e,t,r,o){if(goog.DEPENDENCIES_ENABLED){var n;e=e.replace(/\\\\/g,"/");var i=goog.dependencies_;o&&"boolean"!=typeof o||(o=o?{module:"goog"}:{});for(var a=0;n=t[a];a++)i.nameToPath[n]=e,i.loadFlags[e]=o;for(o=0;t=r[o];o++)e in i.requires||(i.requires[e]={}),i.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(!t)throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);goog.writeScripts_(t)}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var r=e[t].src,o=-1==(o=r.lastIndexOf("?"))?r.length:o;if("base.js"==r.substr(o-7,7)){goog.basePath=r.substr(0,o-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importProcessedScript_=function(e,t,r){goog.importScript_("",\'goog.retrieveAndExec_("\'+e+\'", \'+t+", "+r+");")},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\\n//# sourceURL="+e+"\\n")+");":\'goog.loadModule(function(exports) {"use strict";\'+t+"\\n;return exports});\\n//# sourceURL="+e+"\\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var r=0;r<e;r++)goog.maybeProcessDeferredPath_(t[r])}},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){var t=(e=goog.getPathFromDeps_(e))&&goog.dependencies_.loadFlags[e]||{},r=t.lang||"es3";return!(!e||"goog"!=t.module&&!goog.needsTranspile_(r))&&goog.basePath+e in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,!0,!1)},goog.writeScriptSrcNode_=function(e){goog.global.document.write(\'<script type="text/javascript" src="\'+e+\'"><\\/script>\')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,r=t.createElement("script");r.type="text/javascript",r.src=e,r.defer=!1,r.async=!1,t.head.appendChild(r)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var r=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==r.readyState){if(/\\bdeps.js$/.test(e))return!1;throw Error(\'Cannot write "\'+e+\'" after document load\')}if(void 0===t)if(goog.IS_OLD_IE_){var o=" onreadystatechange=\'goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")\' ";r.write(\'<script type="text/javascript" src="\'+e+\'"\'+o+"><\\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else r.write(\'<script type="text/javascript">\'+goog.protectScriptTag_(t)+"<\\/script>");return!0}return!1},goog.protectScriptTag_=function(e){return e.replace(/<\\/(SCRIPT)/gi,"\\\\x3c\\\\$1")},goog.needsTranspile_=function(e){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),e in goog.requiresTranspilation_)return goog.requiresTranspilation_[e];throw Error("Unknown language mode: "+e)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){var t=[],r={},o=goog.dependencies_;for(function e(n){if(!(n in o.written)&&!(n in o.visited)){if(o.visited[n]=!0,n in o.requires)for(var i in o.requires[n])if(!goog.isProvided_(i)){if(!(i in o.nameToPath))throw Error("Undefined nameToPath for "+i);e(o.nameToPath[i])}n in r||(r[n]=!0,t.push(n))}}(e),e=0;e<t.length;e++){var n=t[e];goog.dependencies_.written[n]=!0}var i=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,e=0;e<t.length;e++){if(!(n=t[e]))throw goog.moduleLoaderState_=i,Error("Undefined script input");var a=o.loadFlags[n]||{},s=goog.needsTranspile_(a.lang||"es3");"goog"==a.module||s?goog.importProcessedScript_(goog.basePath+n,"goog"==a.module,s):goog.importScript_(goog.basePath+n)}goog.moduleLoaderState_=i},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){var a;try{a=!eval(\'"use strict";let x = 1; function f() { return typeof x; };f() == "number";\')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\\n;})();\\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{var r;if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(e))r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var o=goog.moduleLoaderState_.moduleName;if(!goog.isString(o)||!o)throw Error(\'Invalid module name "\'+o+\'"\');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[o]=r}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.retrieveAndExec_=function(e,t,r){if(!COMPILED){var o=e;e=goog.normalizePath_(e);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,i=goog.loadFileSync_(e);if(null==i)throw Error(\'Load of "\'+e+\'" failed\');r&&(i=goog.transpile_.call(goog.global,i,e)),i=t?goog.wrapModule_(e,i):i+"\\n//# sourceURL="+e,goog.IS_OLD_IE_?(goog.dependencies_.deferred[o]=i,goog.queuedModules_.push(o)):n(e,i)}},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(eval(f+"\\n//# sourceURL="+e),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error(\'The transpiler did not properly export the "transpile" method. $gwtExport: \'+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),d(a,b)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){if("object"==(r=goog.typeOf(e))||"array"==r){if(e.clone)return e.clone();var t,r="array"==r?[]:{};for(t in e)r[t]=goog.cloneObject(e[t]);return r}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,o),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.body.appendChild(r),t.body.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error(\'className passed in goog.getCssName must not start with ".". You passed: \'+e);var r=function(e){return goog.cssNameMapping_[e]||e},o=function(e){e=e.split("-");for(var t=[],o=0;o<e.length;o++)t.push(r(e[o]));return t.join("-")};o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:o:function(e){return e},o=t?e+"-"+o(t):o(e);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(o):o},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\\{\\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,o){for(var n=Array(arguments.length-2),i=2;i<arguments.length;i++)n[i-2]=arguments[i];return t.prototype[r].apply(e,n)}},goog.base=function(e,t,r){var o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(o.superClass_){for(var n=Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return o.superClass_.constructor.apply(e,n)}for(n=Array(arguments.length-2),i=2;i<arguments.length;i++)n[i-2]=arguments[i];i=!1;for(var a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===o)i=!0;else if(i)return a.prototype[t].apply(e,n);if(e[t]===o)return e.constructor.prototype[t].apply(e,n);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,o=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=o&&(o instanceof Function?o(r):goog.defineClass.applyProperties_(r,o)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),o=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===o&&r&&Object.seal instanceof Function&&Object.seal(t),t};return o},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function a(e,t){d?c[e]=!0:t()?c[e]=!1:d=c[e]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c={es3:!1},d=!1;return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return b(\'(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()\')})),a("es6-impl",(function(){return!0})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),c},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var r=e.split("%s"),o="",n=Array.prototype.slice.call(arguments,1);n.length&&1<r.length;)o+=r.shift()+n.shift();return o+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\\s\\xa0]+/g," ").replace(/^\\s+|\\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\\s\\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\\t\\n\\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},goog.string.stripNewlines=function(e){return e.replace(/(\\r\\n|\\r|\\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\\r\\n|\\r|\\n)/g,"\\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\\xa0|\\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\\xa0|[ \\t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\\t\\r\\n ]+/g," ").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\\s\\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\\s\\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var r=String(e).toLowerCase(),o=String(t).toLowerCase();return r<o?-1:r==o?0:1},goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(r),n=t.toLowerCase().match(r),i=Math.min(o.length,n.length),a=0;a<i;a++){r=o[a];var s=n[a];if(r!=s)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:r<s?-1:1}return o.length!=n.length?o.length-n.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\\d+|\\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\\d+|\\.\\d+|\\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\\r\\n|\\r|\\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf(\'"\')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("\'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\\0")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/\'/g,goog.string.NULL_RE_=/\\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\\x00&<>"\'e]/:/[\\x00&<>"\']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r,o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":\'"\'};return r=t?t.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var n=o[e];if(n)return n;if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(n=String.fromCharCode(i))}return n||(r.innerHTML=e+" ",n=r.firstChild.nodeValue.slice(0,-1)),o[e]=n}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return\'"\';default:if("#"==t.charAt(0)){var r=Number("0"+t.substr(1));if(!isNaN(r))return String.fromCharCode(r)}return e}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,o=0;o<r;o++){var n=1==r?t:t.charAt(o);if(e.charAt(0)==n&&e.charAt(e.length-1)==n)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,o){if(r&&(e=goog.string.unescapeEntities(e)),o&&e.length>t){o>t&&(o=t);var n=e.length-o;e=e.substring(0,t-o)+"..."+e.substring(n)}else e.length>t&&(o=Math.floor(t/2),n=e.length-o,e=e.substring(0,o+t%2)+"..."+e.substring(n));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\\0":"\\\\0","\\b":"\\\\b","\\f":"\\\\f","\\n":"\\\\n","\\r":"\\\\r","\\t":"\\\\t","\\v":"\\\\x0B",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\","<":"<"},goog.string.jsEscapeCache_={"\'":"\\\\\'"},goog.string.quote=function(e){e=String(e);for(var t=[\'"\'],r=0;r<e.length;r++){var o=e.charAt(r),n=o.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[o]||(31<n&&127>n?o:goog.string.escapeChar(o))}return t.push(\'"\'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t,r=e.charCodeAt(0);return 31<r&&127>r?t=e:(256>r?(t="\\\\x",(16>r||256<r)&&(t+="0")):(t="\\\\u",4096>r&&(t+="0")),t+=r.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var o=e;return 0<=t&&t<e.length&&0<r&&(o=e.substr(0,t)+e.substr(t+r,e.length-t-r)),o},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){var r=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(r,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1").replace(/\\x08/g,"\\\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var r=0,o=goog.string.trim(String(e)).split("."),n=goog.string.trim(String(t)).split("."),i=Math.max(o.length,n.length),a=0;0==r&&a<i;a++){var s=o[a]||"",u=n[a]||"";do{if(s=/(\\d*)(\\D*)(.*)/.exec(s)||["","","",""],u=/(\\d*)(\\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;r=0==s[1].length?0:parseInt(s[1],10);var c=0==u[1].length?0:parseInt(u[1],10);r=goog.string.compareElements_(r,c)||goog.string.compareElements_(0==s[2].length,0==u[2].length)||goog.string.compareElements_(s[2],u[2]),s=s[3],u=u[3]}while(0==r)}return r},goog.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var r=goog.isString(t)?goog.string.regExpEscape(t):"\\\\s";return e.replace(new RegExp("(^"+(r?"|["+r+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var o=[];0<r&&e.length;)o.push(e.shift()),r--;return e.length&&o.push(e.join(t)),o},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,o=0;o<t.length;o++)if(""!=t[o]){var n=e.lastIndexOf(t[o]);n>r&&(r=n)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],o=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var n=0;n<t.length+1;n++)r[n]=n;for(n=0;n<e.length;n++){o[0]=n+1;for(var i=0;i<t.length;i++)o[i+1]=Math.min(o[i]+1,r[i+1]+1,r[i]+Number(e[n]!=t[i]));for(i=0;i<r.length;i++)r[i]=o[i]}return o[t.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,r,o){var n="Assertion failed";if(r){n=n+": "+r;var i=o}else e&&(n+=": "+e,i=t);e=new goog.asserts.AssertionError(""+n,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,o){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)i in n&&t.call(r,n[i],i,e)},goog.array.forEachRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(o=o-1;0<=o;--o)o in n&&t.call(r,n[o],o,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=[],i=0,a=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in a){var u=a[s];t.call(r,u,s,e)&&(n[i++]=u)}return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=Array(o),i=goog.isString(e)?e.split(""):e,a=0;a<o;a++)a in i&&(n[a]=t.call(r,i[a],a,e));return n},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),o&&(t=goog.bind(t,o)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEach(e,(function(r,i){n=t.call(o,n,r,i,e)})),n},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),o&&(t=goog.bind(t,o)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEachRight(e,(function(r,i){n=t.call(o,n,r,i,e)})),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)if(i in n&&t.call(r,n[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)if(i in n&&!t.call(r,n[i],i,e))return!1;return!0},goog.array.count=function(e,t,r){var o=0;return goog.array.forEach(e,(function(e,n,i){t.call(r,e,n,i)&&++o}),r),o},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)if(i in n&&t.call(r,n[i],i,e))return i;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(o=o-1;0<=o;o--)if(o in n&&t.call(r,n[o],o,e))return o;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var o;2==arguments.length||0>(o=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,o)},goog.array.remove=function(e,t){var r,o=goog.array.indexOf(e,t);return(r=0<=o)&&goog.array.removeAt(e,o),r},goog.array.removeLast=function(e,t){var r=goog.array.lastIndexOf(e,t);return 0<=r&&(goog.array.removeAt(e,r),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var o=0;return goog.array.forEachRight(e,(function(n,i){t.call(r,n,i,e)&&goog.array.removeAt(e,i)&&o++})),o},goog.array.concat=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.join=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var o=arguments[r];if(goog.isArrayLike(o)){var n=e.length||0,i=o.length||0;e.length=n+i;for(var a=0;a<i;a++)e[n+a]=o[a]}else e.push(o)}},goog.array.splice=function(e,t,r,o){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var o=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||o;o={};for(var n=0,i=0;i<e.length;){var a=e[i++],s=r(a);Object.prototype.hasOwnProperty.call(o,s)||(o[s]=!0,t[n++]=a)}t.length=n},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,o,n){for(var i,a=0,s=e.length;a<s;){var u,c=a+s>>1;0<(u=r?t.call(n,e[c],c,e):t(o,e[c]))?a=c+1:(s=c,i=!u)}return i?a:~a},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]={index:o,value:e[o]};var n=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return n(e.value,t.value)||e.index-t.index})),o=0;o<e.length;o++)e[o]=r[o].value},goog.array.sortByKey=function(e,t,r){var o=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return o(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var o=1;o<e.length;o++){var n=t(e[o-1],e[o]);if(0<n||0==n&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var o=e.length;r=r||goog.array.defaultCompareEquality;for(var n=0;n<o;n++)if(!r(e[n],t[n]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var o=Math.min(e.length,t.length),n=0;n<o;n++){var i=r(e[n],t[n]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var o={},n=0;n<e.length;n++){var i=e[n],a=t.call(r,i,n,e);goog.isDef(a)&&(o[a]||(o[a]=[])).push(i)}return o},goog.array.toObject=function(e,t,r){var o={};return goog.array.forEach(e,(function(n,i){o[t.call(r,n,i,e)]=n})),o},goog.array.range=function(e,t,r){var o=[],n=0,i=e;if(void 0!==t&&(n=e,i=t),0>(r=r||1)*(i-n))return[];if(0<r)for(e=n;e<i;e+=r)o.push(e);else for(e=n;e>i;e+=r)o.push(e);return o},goog.array.repeat=function(e,t){for(var r=[],o=0;o<t;o++)r[o]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var o=arguments[r];if(goog.isArray(o))for(var n=0;n<o.length;n+=8192)for(var i=goog.array.slice(o,n,n+8192),a=(i=goog.array.flatten.apply(null,i),0);a<i.length;a++)t.push(i[a]);else t.push(o)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,o=1;o<arguments.length;o++)arguments[o].length<r&&(r=arguments[o].length);for(o=0;o<r;o++){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i][o]);t.push(n)}return t},goog.array.shuffle=function(e,t){for(var r=t||Math.random,o=e.length-1;0<o;o--){var n=Math.floor(r()*(o+1)),i=e[o];e[o]=e[n],e[n]=i}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var o in e)t.call(r,e[o],o,e)},goog.object.filter=function(e,t,r){var o,n={};for(o in e)t.call(r,e[o],o,e)&&(n[o]=e[o]);return n},goog.object.map=function(e,t,r){var o,n={};for(o in e)n[o]=t.call(r,e[o],o,e);return n},goog.object.some=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return!0;return!1},goog.object.every=function(e,t,r){for(var o in e)if(!t.call(r,e[o],o,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],o=0;for(t in e)r[o++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],o=0;for(t in e)r[o++]=t;return r},goog.object.getValueByKeys=function(e,t){for(var r=(o=goog.isArrayLike(t))?t:arguments,o=o?0:1;o<r.length&&(e=e[r[o]],goog.isDef(e));o++);return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return o},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error(\'The object already contains the key "\'+t+\'"\');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(r in t)if(!(r in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){if("object"==(r=goog.typeOf(e))||"array"==r){if(goog.isFunction(e.clone))return e.clone();var t,r="array"==r?[]:{};for(t in e)r[t]=goog.object.unsafeClone(e[t]);return r}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,o,n=1;n<arguments.length;n++){for(r in o=arguments[n])e[r]=o[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},o=0;o<t;o+=2)r[arguments[o]]=arguments[o+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},o=0;o<t;o++)r[arguments[o]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var r={},o=e;o&&(o!==Object.prototype||t);){for(var n=Object.getOwnPropertyNames(o),i=0;i<n.length;i++)r[n[i]]=!0;o=Object.getPrototypeOf(o)}return goog.object.getKeys(r)},goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.string.TypedString=function(){},goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got \'"+e+"\'"),"type_error:Const")},goog.string.Const.from=function(e){return goog.string.Const.create__googStringSecurityPrivate_(e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.create__googStringSecurityPrivate_=function(e){var t=new goog.string.Const;return t.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e,t},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html={},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got \'"+e+"\' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(e),goog.asserts.assert(goog.string.endsWith(e,";"),"Last character of style string is not \';\': "+e),goog.asserts.assert(goog.string.contains(e,":"),"Style string must contain at least one \':\', to specify a \\"name: value\\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got \'"+e+"\' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var o=e[t];null!=o&&(o instanceof goog.string.Const?(o=goog.string.Const.unwrap(o),goog.asserts.assert(!/[{;}]/.test(o),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.hasBalancedQuotes_(o)||(goog.asserts.fail("String value requires balanced quotes, got: "+o),o=goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only [-,.\\"\'%_!# a-zA-Z0-9], rgb() and rgba(), got: "+o),o=goog.html.SafeStyle.INNOCUOUS_STRING),r+=t+":"+o+";")}return r?(goog.html.SafeStyle.checkStyle_(r),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,o=0;o<e.length;o++){var n=e.charAt(o);"\'"==n&&r?t=!t:\'"\'==n&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.VALUE_RE_=/^([-,."\'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\\([0-9.%, ]+\\))$/,goog.html.SafeStyle.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(e,"<"),"Forbidden \'<\' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got \'"+e+"\' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn\'t seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z--------",goog.i18n.bidi.rtlChars_="----",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\\/\\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){var r=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,r+"$&"+r)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\\w+/,"$& dir=rtl"):"\\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\\w+/,"$& dir=ltr"):"\\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\\u0591-\\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\\u0591-\\u05f2])\'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\\d\\u06f0-\\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var r=0,o=0,n=!1,i=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),a=0;a<i.length;a++){var s=i[a];goog.i18n.bidi.startsWithRtl(s)?(r++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?n=!0:goog.i18n.bidi.hasAnyLtr(s)?o++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(n=!0)}return 0==o?n?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got \'"+e+"\' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);var o=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,o){if(!Object.prototype.hasOwnProperty.call(t,o))throw Error(\'Found marker, "\'+o+\'", in format string, "\'+r+\'", but no valid label mapping found in args: \'+JSON.stringify(t));var n=t[o];return n instanceof goog.string.Const?goog.string.Const.unwrap(n):encodeURIComponent(String(n))}));return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^(?:https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|^\\/[^\\/\\\\]/i,goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got \'"+e+"\' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm))$/i,goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(t=e.match(goog.html.DATA_URL_PATTERN_))&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=RegExp("(\\\\w[\\\\w ]+)/([^\\\\s]+)\\\\s*(?:\\\\((.*?)\\\\))?","g"),o=[];t=r.exec(e);)o.push([t[1],t[2],t[3]||void 0]);return o},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,o),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var o=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){if((t=/rv: *([\\d\\.]*)/.exec(e))&&t[1])return t[1];var t="",r=/MSIE +([\\d\\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\\/(\\d.\\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got \'"+e+"\' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t=null;return e.implementsGoogI18nBidiDirectionalString&&(t=e.getDirection()),e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(e),t)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,o){e&&goog.html.TrustedResourceUrl.unwrap(e);var n={};return n.src=e||null,n.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(n,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,o){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var n={};return n.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,n.srcdoc=t||null,n.sandbox="",e=goog.html.SafeHtml.combineAttributes(n,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){goog.html.TrustedResourceUrl.unwrap(e);var r=goog.html.SafeHtml.combineAttributes({src:e},{},t);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",r)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var o=r.toLowerCase();if("language"==o||"src"==o||"text"==o||"type"==o)throw Error(\'Cannot set "\'+o+\'" attribute\')}for(r="",e=goog.array.concat(e),o=0;o<e.length;o++)r+=goog.html.SafeScript.unwrap(e[o]);return r=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,r)},goog.html.SafeHtml.createStyle=function(e,t){var r=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t),o="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)o+=goog.html.SafeStyleSheet.unwrap(e[n]);return o=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",r,o)},goog.html.SafeHtml.createMetaRefresh=function(e,t){var r=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e));return(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(r,";")&&(r="\'"+r.replace(/\'/g,"%27")+"\'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+r})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error(\'Attribute "\'+t+\'" requires goog.string.Const value, "\'+r+\'" given.\');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error(\'Attribute "\'+t+\'" on tag "\'+e+\'" requires goog.html.SafeUrl, goog.string.Const, or string, value "\'+r+\'" given.\');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+\'="\'+goog.string.htmlEscape(String(r))+\'"\'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error(\'The "style" attribute requires goog.html.SafeStyle or map of style properties, \'+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,o){return(t=goog.html.SafeHtml.create(t,r,o)).dir_=e,t},goog.html.SafeHtml.concat=function(e){var t=goog.i18n.bidi.Dir.NEUTRAL,r="",o=function(e){goog.isArray(e)?goog.array.forEach(e,o):(e=goog.html.SafeHtml.htmlEscape(e),r+=goog.html.SafeHtml.unwrap(e),e=e.getDirection(),t==goog.i18n.bidi.Dir.NEUTRAL?t=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&t!=e&&(t=null))};return goog.array.forEach(arguments,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,t)},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var o,n=null;return o="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t),goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),o+=">"):(n=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var o in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(o))throw Error(\'Invalid attribute name "\'+o+\'".\');var n=t[o];goog.isDefAndNotNull(n)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,o,n))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var o,n={};for(o in e)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),n[o]=e[o];for(o in t)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),n[o]=t[o];for(o in r){var i=o.toLowerCase();if(i in e)throw Error(\'Cannot override "\'+i+\'" attribute, got "\'+o+\'" with value "\'+r[o]+\'"\');i in t&&delete n[i],n[o]=r[o]}return n},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.structs={},goog.structs.getCount=function(e){return e.getCount&&"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if(e.getValues&&"function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var t=[],r=e.length,o=0;o<r;o++)t.push(e[o]);return t}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if(e.getKeys&&"function"==typeof e.getKeys)return e.getKeys();if(!e.getValues||"function"!=typeof e.getValues){if(goog.isArrayLike(e)||goog.isString(e)){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}return goog.object.getKeys(e)}},goog.structs.contains=function(e,t){return e.contains&&"function"==typeof e.contains?e.contains(t):e.containsValue&&"function"==typeof e.containsValue?e.containsValue(t):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,t):goog.object.containsValue(e,t)},goog.structs.isEmpty=function(e){return e.isEmpty&&"function"==typeof e.isEmpty?e.isEmpty():goog.isArrayLike(e)||goog.isString(e)?goog.array.isEmpty(e):goog.object.isEmpty(e)},goog.structs.clear=function(e){e.clear&&"function"==typeof e.clear?e.clear():goog.isArrayLike(e)?goog.array.clear(e):goog.object.clear(e)},goog.structs.forEach=function(e,t,r){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,r);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,t,r);else for(var o=goog.structs.getKeys(e),n=goog.structs.getValues(e),i=n.length,a=0;a<i;a++)t.call(r,n[a],o&&o[a],e)},goog.structs.filter=function(e,t,r){if("function"==typeof e.filter)return e.filter(t,r);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,t,r);var o,n=goog.structs.getKeys(e),i=goog.structs.getValues(e),a=i.length;if(n){o={};for(var s=0;s<a;s++)t.call(r,i[s],n[s],e)&&(o[n[s]]=i[s])}else for(o=[],s=0;s<a;s++)t.call(r,i[s],void 0,e)&&o.push(i[s]);return o},goog.structs.map=function(e,t,r){if("function"==typeof e.map)return e.map(t,r);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,t,r);var o,n=goog.structs.getKeys(e),i=goog.structs.getValues(e),a=i.length;if(n){o={};for(var s=0;s<a;s++)o[n[s]]=t.call(r,i[s],n[s],e)}else for(o=[],s=0;s<a;s++)o[s]=t.call(r,i[s],void 0,e);return o},goog.structs.some=function(e,t,r){if("function"==typeof e.some)return e.some(t,r);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,t,r);for(var o=goog.structs.getKeys(e),n=goog.structs.getValues(e),i=n.length,a=0;a<i;a++)if(t.call(r,n[a],o&&o[a],e))return!0;return!1},goog.structs.every=function(e,t,r){if("function"==typeof e.every)return e.every(t,r);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,t,r);for(var o=goog.structs.getKeys(e),n=goog.structs.getValues(e),i=n.length,a=0;a<i;a++)if(!t.call(r,n[a],o&&o[a],e))return!1;return!0},goog.structs.Collection=function(){},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,o=r.length;return function(){var e;o&&(e=r[o-1].apply(this,arguments));for(var t=o-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,o=0;o<r;o++)e=t[o].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var o=0;return function(n){goog.global.clearTimeout(o);var i=arguments;o=goog.global.setTimeout((function(){e.apply(r,i)}),t)}},goog.functions.throttle=function(e,t,r){var o=0,n=!1,i=[],a=function(){o=0,n&&(n=!1,s())},s=function(){o=goog.global.setTimeout(a,t),e.apply(r,i)};return function(e){i=arguments,o?n=!0:s()}},goog.functions.rateLimit=function(e,t,r){var o=0,n=function(){o=0};return function(i){o||(o=goog.global.setTimeout(n,t),e.apply(r,arguments))}},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,r){return Math.min(Math.max(e,t),r)},goog.math.modulo=function(e,t){var r=e%t;return 0>r*t?r+t:r},goog.math.lerp=function(e,t,r){return e+r*(t-e)},goog.math.nearlyEquals=function(e,t,r){return Math.abs(e-t)<=(r||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,r,o){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(o-t,r-e)))},goog.math.angleDifference=function(e,t){var r=goog.math.standardAngle(t)-goog.math.standardAngle(e);return 180<r?r-=360:-180>=r&&(r=360+r),r},goog.math.sign=function(e){return 0<e?1:0>e?-1:e},goog.math.longestCommonSubsequence=function(e,t,r,o){r=r||function(e,t){return e==t},o=o||function(t,r){return e[t]};for(var n=e.length,i=t.length,a=[],s=0;s<n+1;s++)a[s]=[],a[s][0]=0;for(var u=0;u<i+1;u++)a[0][u]=0;for(s=1;s<=n;s++)for(u=1;u<=i;u++)r(e[s-1],t[u-1])?a[s][u]=a[s-1][u-1]+1:a[s][u]=Math.max(a[s-1][u],a[s][u-1]);var c=[];for(s=n,u=i;0<s&&0<u;)r(e[s-1],t[u-1])?(c.unshift(o(s-1,u-1)),s--,u--):a[s-1][u]>a[s][u-1]?s--:u--;return c},goog.math.sum=function(e){return goog.array.reduce(arguments,(function(e,t){return e+t}),0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var r=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,(function(e){return Math.pow(e-r,2)})))/(t-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.isNegativeZero=function(e){return 0==e&&0>1/e},goog.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e?1:0)}return 0==e?-1/0:NaN},goog.math.safeFloor=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},goog.iter={},goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if("function"==typeof e.__iterator__)return e.__iterator__(!1);if(goog.isArrayLike(e)){var t=0,r=new goog.iter.Iterator;return r.next=function(){for(;;){if(t>=e.length)throw goog.iter.StopIteration;if(t in e)return e[t++];t++}},r}throw Error("Not implemented")},goog.iter.forEach=function(e,t,r){if(goog.isArrayLike(e))try{goog.array.forEach(e,t,r)}catch(e){if(e!==goog.iter.StopIteration)throw e}else{e=goog.iter.toIterator(e);try{for(;;)t.call(r,e.next(),void 0,e)}catch(e){if(e!==goog.iter.StopIteration)throw e}}},goog.iter.filter=function(e,t,r){var o=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){for(;;){var e=o.next();if(t.call(r,e,void 0,o))return e}},e},goog.iter.filterFalse=function(e,t,r){return goog.iter.filter(e,goog.functions.not(t),r)},goog.iter.range=function(e,t,r){var o=0,n=e,i=r||1;if(1<arguments.length&&(o=e,n=t),0==i)throw Error("Range step argument must not be zero");var a=new goog.iter.Iterator;return a.next=function(){if(0<i&&o>=n||0>i&&o<=n)throw goog.iter.StopIteration;var e=o;return o+=i,e},a},goog.iter.join=function(e,t){return goog.iter.toArray(e).join(t)},goog.iter.map=function(e,t,r){var o=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=o.next();return t.call(r,e,void 0,o)},e},goog.iter.reduce=function(e,t,r,o){var n=r;return goog.iter.forEach(e,(function(e){n=t.call(o,n,e)})),n},goog.iter.some=function(e,t,r){e=goog.iter.toIterator(e);try{for(;;)if(t.call(r,e.next(),void 0,e))return!0}catch(e){if(e!==goog.iter.StopIteration)throw e}return!1},goog.iter.every=function(e,t,r){e=goog.iter.toIterator(e);try{for(;;)if(!t.call(r,e.next(),void 0,e))return!1}catch(e){if(e!==goog.iter.StopIteration)throw e}return!0},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var t=goog.iter.toIterator(e);e=new goog.iter.Iterator;var r=null;return e.next=function(){for(;;){if(null==r){var e=t.next();r=goog.iter.toIterator(e)}try{return r.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;r=null}}},e},goog.iter.dropWhile=function(e,t,r){var o=goog.iter.toIterator(e);e=new goog.iter.Iterator;var n=!0;return e.next=function(){for(;;){var e=o.next();if(!n||!t.call(r,e,void 0,o))return n=!1,e}},e},goog.iter.takeWhile=function(e,t,r){var o=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=o.next();if(t.call(r,e,void 0,o))return e;throw goog.iter.StopIteration},e},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return goog.array.toArray(e);e=goog.iter.toIterator(e);var t=[];return goog.iter.forEach(e,(function(e){t.push(e)})),t},goog.iter.equals=function(e,t,r){e=goog.iter.zipLongest({},e,t);var o=r||goog.array.defaultCompareEquality;return goog.iter.every(e,(function(e){return o(e[0],e[1])}))},goog.iter.nextOrValue=function(e,t){try{return goog.iter.toIterator(e).next()}catch(e){if(e!=goog.iter.StopIteration)throw e;return t}},goog.iter.product=function(e){if(goog.array.some(arguments,(function(e){return!e.length}))||!arguments.length)return new goog.iter.Iterator;var t=new goog.iter.Iterator,r=arguments,o=goog.array.repeat(0,r.length);return t.next=function(){if(o){for(var e=goog.array.map(o,(function(e,t){return r[t][e]})),t=o.length-1;0<=t;t--){if(goog.asserts.assert(o),o[t]<r[t].length-1){o[t]++;break}if(0==t){o=null;break}o[t]=0}return e}throw goog.iter.StopIteration},t},goog.iter.cycle=function(e){var t=goog.iter.toIterator(e),r=[],o=0;e=new goog.iter.Iterator;var n=!1;return e.next=function(){var e=null;if(!n)try{return e=t.next(),r.push(e),e}catch(e){if(e!=goog.iter.StopIteration||goog.array.isEmpty(r))throw e;n=!0}return e=r[o],o=(o+1)%r.length,e},e},goog.iter.count=function(e,t){var r=e||0,o=goog.isDef(t)?t:1,n=new goog.iter.Iterator;return n.next=function(){var e=r;return r+=o,e},n},goog.iter.repeat=function(e){var t=new goog.iter.Iterator;return t.next=goog.functions.constant(e),t},goog.iter.accumulate=function(e){var t=goog.iter.toIterator(e),r=0;return(e=new goog.iter.Iterator).next=function(){return r+=t.next()},e},goog.iter.zip=function(e){var t=arguments,r=new goog.iter.Iterator;if(0<t.length){var o=goog.array.map(t,goog.iter.toIterator);r.next=function(){return goog.array.map(o,(function(e){return e.next()}))}}return r},goog.iter.zipLongest=function(e,t){var r=goog.array.slice(arguments,1),o=new goog.iter.Iterator;if(0<r.length){var n=goog.array.map(r,goog.iter.toIterator);o.next=function(){var t=!1,r=goog.array.map(n,(function(r){var o;try{o=r.next(),t=!0}catch(t){if(t!==goog.iter.StopIteration)throw t;o=e}return o}));if(!t)throw goog.iter.StopIteration;return r}}return o},goog.iter.compress=function(e,t){var r=goog.iter.toIterator(t);return goog.iter.filter(e,(function(){return!!r.next()}))},goog.iter.GroupByIterator_=function(e,t){this.iterator=goog.iter.toIterator(e),this.keyFunc=t||goog.functions.identity},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var t=[];this.currentKey==e;){t.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;break}this.currentKey=this.keyFunc(this.currentValue)}return t},goog.iter.groupBy=function(e,t){return new goog.iter.GroupByIterator_(e,t)},goog.iter.starMap=function(e,t,r){var o=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=goog.iter.toArray(o.next());return t.apply(r,goog.array.concat(e,void 0,o))},e},goog.iter.tee=function(e,t){var r=goog.iter.toIterator(e),o=goog.isNumber(t)?t:2,n=goog.array.map(goog.array.range(o),(function(){return[]}));return goog.array.map(n,(function(e){var t=new goog.iter.Iterator;return t.next=function(){return goog.array.isEmpty(e)&&function(){var e=r.next();goog.array.forEach(n,(function(t){t.push(e)}))}(),goog.asserts.assert(!goog.array.isEmpty(e)),e.shift()},t}))},goog.iter.enumerate=function(e,t){return goog.iter.zip(goog.iter.count(t),e)},goog.iter.limit=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);var r=goog.iter.toIterator(e),o=new goog.iter.Iterator,n=t;return o.next=function(){if(0<n--)return r.next();throw goog.iter.StopIteration},o},goog.iter.consume=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);for(var r=goog.iter.toIterator(e);0<t--;)goog.iter.nextOrValue(r,null);return r},goog.iter.slice=function(e,t,r){return goog.asserts.assert(goog.math.isInt(t)&&0<=t),e=goog.iter.consume(e,t),goog.isNumber(r)&&(goog.asserts.assert(goog.math.isInt(r)&&r>=t),e=goog.iter.limit(e,r-t)),e},goog.iter.hasDuplicates_=function(e){var t=[];return goog.array.removeDuplicates(e,t),e.length!=t.length},goog.iter.permutations=function(e,t){var r=goog.iter.toArray(e),o=goog.isNumber(t)?t:r.length;r=goog.array.repeat(r,o),r=goog.iter.product.apply(void 0,r);return goog.iter.filter(r,(function(e){return!goog.iter.hasDuplicates_(e)}))},goog.iter.combinations=function(e,t){function r(e){return o[e]}var o=goog.iter.toArray(e),n=goog.iter.range(o.length),i=(n=goog.iter.permutations(n,t),goog.iter.filter(n,(function(e){return goog.array.isSorted(e)})));return(n=new goog.iter.Iterator).next=function(){return goog.array.map(i.next(),r)},n},goog.iter.combinationsWithReplacement=function(e,t){function r(e){return o[e]}var o=goog.iter.toArray(e),n=goog.array.range(o.length),i=(n=goog.array.repeat(n,t),n=goog.iter.product.apply(void 0,n),goog.iter.filter(n,(function(e){return goog.array.isSorted(e)})));return(n=new goog.iter.Iterator).next=function(){return goog.array.map(i.next(),r)},n},goog.structs.Map=function(e,t){this.map_={},this.keys_=[],this.version_=this.count_=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],t=0;t<this.keys_.length;t++)e.push(this.map_[this.keys_[t]]);return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var t=0;t<this.keys_.length;t++){var r=this.keys_[t];if(goog.structs.Map.hasKey_(this.map_,r)&&this.map_[r]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,t){if(this===e)return!0;if(this.count_!=e.getCount())return!1;var r=t||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var o,n=0;o=this.keys_[n];n++)if(!r(this.get(o),e.get(o)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,t){return e===t},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.version_=this.count_=this.keys_.length=0},goog.structs.Map.prototype.remove=function(e){return!!goog.structs.Map.hasKey_(this.map_,e)&&(delete this.map_[e],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0)},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var e=0,t=0;e<this.keys_.length;){var r=this.keys_[e];goog.structs.Map.hasKey_(this.map_,r)&&(this.keys_[t++]=r),e++}this.keys_.length=t}if(this.count_!=this.keys_.length){var o={};for(t=e=0;e<this.keys_.length;)r=this.keys_[e],goog.structs.Map.hasKey_(o,r)||(this.keys_[t++]=r,o[r]=1),e++;this.keys_.length=t}};goog.structs.Map.prototype.get=function(e,t){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:t},goog.structs.Map.prototype.set=function(e,t){goog.structs.Map.hasKey_(this.map_,e)||(this.count_++,this.keys_.push(e),this.version_++),this.map_[e]=t},goog.structs.Map.prototype.addAll=function(e){var t;e instanceof goog.structs.Map?(t=e.getKeys(),e=e.getValues()):(t=goog.object.getKeys(e),e=goog.object.getValues(e));for(var r=0;r<t.length;r++)this.set(t[r],e[r])},goog.structs.Map.prototype.forEach=function(e,t){for(var r=this.getKeys(),o=0;o<r.length;o++){var n=r[o],i=this.get(n);e.call(t,i,n,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,t=0;t<this.keys_.length;t++){var r=this.keys_[t];e.set(this.map_[r],r)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},t=0;t<this.keys_.length;t++){var r=this.keys_[t];e[r]=this.map_[r]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.__iterator__=function(e){this.cleanupKeysArray_();var t=0,r=this.version_,o=this,n=new goog.iter.Iterator;return n.next=function(){if(r!=o.version_)throw Error("The map has changed since the iterator was created");if(t>=o.keys_.length)throw goog.iter.StopIteration;var n=o.keys_[t++];return e?n:o.map_[n]},n},goog.structs.Map.hasKey_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},goog.structs.Set=function(e){this.map_=new goog.structs.Map,e&&this.addAll(e)},goog.structs.Set.getKey_=function(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+goog.getUid(e):t.substr(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e)},goog.structs.Set.prototype.addAll=function(e){for(var t=(e=goog.structs.getValues(e)).length,r=0;r<t;r++)this.add(e[r])},goog.structs.Set.prototype.removeAll=function(e){for(var t=(e=goog.structs.getValues(e)).length,r=0;r<t;r++)this.remove(e[r])},goog.structs.Set.prototype.remove=function(e){return this.map_.remove(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){var t=new goog.structs.Set;e=goog.structs.getValues(e);for(var r=0;r<e.length;r++){var o=e[r];this.contains(o)&&t.add(o)}return t},goog.structs.Set.prototype.difference=function(e){var t=this.clone();return t.removeAll(e),t},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(e){var t=goog.structs.getCount(e);return!(this.getCount()>t)&&(!(e instanceof goog.structs.Set)&&5<t&&(e=new goog.structs.Set(e)),goog.structs.every(this,(function(t){return goog.structs.contains(e,t)})))},goog.structs.Set.prototype.__iterator__=function(e){return this.map_.__iterator__(!1)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){if(t=goog.labs.userAgent.util.getUserAgent()){var e,t=goog.labs.userAgent.util.extractVersionTuples(t),r=goog.labs.userAgent.engine.getEngineTuple_(t);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):r[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\\/([^\\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){var r=goog.array.find(e,(function(e){return t==e[0]}));return r&&r[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\\s+([^\\);]+)(\\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,o){return o=o?o(t):t,Object.prototype.hasOwnProperty.call(e,o)?e[o]:e[o]=r(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\\:([^\\);]+)(\\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\\/([\\d\\.]+)/.exec(e):goog.userAgent.IE?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\\/(\\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \\/]?(\\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,t=goog.userAgent.getDocumentMode_();if(e&&goog.userAgent.IE)return t||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}(),goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.catchErrors=function(e,t,r){var o=(r=r||goog.global).onerror,n=!!t;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(n=!n),r.onerror=function(t,r,i,a,s){return o&&o(t,r,i,a,s),e({message:t,fileName:r,line:i,col:a,error:s}),n}},goog.debug.expose=function(e,t){if(void 0===e)return"undefined";if(null==e)return"NULL";var r,o=[];for(r in e)if(t||!goog.isFunction(e[r])){var n=r+" = ";try{n+=e[r]}catch(e){n+="*** "+e+" ***"}o.push(n)}return o.join("\\n")},goog.debug.deepExpose=function(e,t){var r=[],o=function(e,n,i){var a=n+"  ";i=new goog.structs.Set(i);try{if(goog.isDef(e))if(goog.isNull(e))r.push("NULL");else if(goog.isString(e))r.push(\'"\'+e.replace(/\\n/g,"\\n"+n)+\'"\');else if(goog.isFunction(e))r.push(String(e).replace(/\\n/g,"\\n"+n));else if(goog.isObject(e))if(i.contains(e))r.push("*** reference loop detected ***");else{for(var s in i.add(e),r.push("{"),e)!t&&goog.isFunction(e[s])||(r.push("\\n"),r.push(a),r.push(s+" = "),o(e[s],a,i));r.push("\\n"+n+"}")}else r.push(e);else r.push("undefined")}catch(e){r.push("*** "+e+" ***")}};return o(e,"",new goog.structs.Set),r.join("")},goog.debug.exposeArray=function(e){for(var t=[],r=0;r<e.length;r++)goog.isArray(e[r])?t.push(goog.debug.exposeArray(e[r])):t.push(e[r]);return"[ "+t.join(", ")+" ]"},goog.debug.exposeException=function(e,t){var r=goog.debug.exposeExceptionAsHtml(e,t);return goog.html.SafeHtml.unwrap(r)},goog.debug.exposeExceptionAsHtml=function(e,t){try{var r=goog.debug.normalizeErrorObject(e),o=goog.debug.createViewSourceUrl_(r.fileName);return goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: "+r.message+"\\nUrl: "),goog.html.SafeHtml.create("a",{href:o,target:"_new"},r.fileName),goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\\nLine: "+r.lineNumber+"\\n\\nBrowser stack:\\n"+r.stack+"-> [end]\\n\\nJS stack traversal:\\n"+goog.debug.getStacktrace(t)+"-> "))}catch(e){return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. "+e)}},goog.debug.createViewSourceUrl_=function(e){return goog.isDefAndNotNull(e)||(e=""),/^https?:\\/\\//i.test(e)?(e=goog.html.SafeUrl.sanitize(e),goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"),"view-source:"+goog.html.SafeUrl.unwrap(e))):goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"))},goog.debug.normalizeErrorObject=function(e){var t=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:t,stack:"Not available"};var r,o,n=!1;try{r=e.lineNumber||e.line||"Not available"}catch(e){r="Not available",n=!0}try{o=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||t}catch(e){o="Not available",n=!0}return!n&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:r,fileName:o,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,t){var r;if(e instanceof Error?r=e:(r=Error(e),Error.captureStackTrace&&Error.captureStackTrace(r,goog.debug.enhanceError)),r.stack||(r.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var o=0;r["message"+o];)++o;r["message"+o]=String(t)}return r},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS&&(t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple)))return t;for(var t=[],r=arguments.callee.caller,o=0;r&&(!e||o<e);){t.push(goog.debug.getFunctionName(r)),t.push("()\\n");try{r=r.caller}catch(e){t.push("[exception trying to get caller]\\n");break}if(++o>=goog.debug.MAX_STACK_DEPTH){t.push("[...long stack...]");break}}return e&&o>=e?t.push("[...reached max depth limit...]"):t.push("[end]"),t.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=Error();if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(e){t=e}return(e=t.stack)?String(e):null},goog.debug.getStacktrace=function(e){var t;return goog.debug.FORCE_SLOPPY_STACKS||(t=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),t||(t=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),t},goog.debug.getStacktraceHelper_=function(e,t){var r=[];if(goog.array.contains(t,e))r.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){r.push(goog.debug.getFunctionName(e)+"(");for(var o=e.arguments,n=0;o&&n<o.length;n++){var i;switch(0<n&&r.push(", "),typeof(i=o[n])){case"object":i=i?"object":"null";break;case"string":break;case"number":i=String(i);break;case"boolean":i=i?"true":"false";break;case"function":i=(i=goog.debug.getFunctionName(i))?i:"[fn]";break;default:i=typeof i}40<i.length&&(i=i.substr(0,40)+"..."),r.push(i)}t.push(e),r.push(")\\n");try{r.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch(e){r.push("[exception trying to get caller]\\n")}}else e?r.push("[...long stack...]"):r.push("[end]");return r.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var t=goog.debug.fnNameResolver_(e);if(t)return goog.debug.fnNameCache_[e]=t}return e=String(e),goog.debug.fnNameCache_[e]||(t=/function ([^\\(]+)/.exec(e),goog.debug.fnNameCache_[e]=t?t[1]:"[Anonymous]"),goog.debug.fnNameCache_[e]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\\f/g,"[f]").replace(/\\n/g,"[n]\\n").replace(/\\r/g,"[r]").replace(/\\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.debug.fnNameCache_={},goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrap(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}e.innerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrap(t))},goog.dom.safe.setAnchorHref=function(e,t){var r;goog.dom.safe.assertIsHTMLAnchorElement_(e),r=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(r)},goog.dom.safe.setImageSrc=function(e,t){var r;goog.dom.safe.assertIsHTMLImageElement_(e),r=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.src=goog.html.SafeUrl.unwrap(r)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.safe.assertIsHTMLEmbedElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.safe.assertIsHTMLFrameElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.safe.assertIsHTMLIFrameElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.safe.assertIsHTMLIFrameElement_(e),e.srcdoc=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.safe.assertIsHTMLLinkElement_(e),e.rel=r,goog.string.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,\'URL must be TrustedResourceUrl because "rel" contains "stylesheet"\'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.sanitize(t).getTypedStringValue()},goog.dom.safe.setObjectData=function(e,t){goog.dom.safe.assertIsHTMLObjectElement_(e),e.data=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.safe.assertIsHTMLScriptElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setLocationHref=function(e,t){var r;goog.dom.safe.assertIsLocation_(e),r=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(r)},goog.dom.safe.openInWindow=function(e,t,r,o,n){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitize(e),(t||window).open(goog.html.SafeUrl.unwrap(e),r?goog.string.Const.unwrap(r):"",o,n)},goog.dom.safe.assertIsLocation_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof Location||!(e instanceof Element)),"Argument is not a Location (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLAnchorElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLAnchorElement||!(e instanceof Location||e instanceof Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLLinkElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLLinkElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLLinkElement||!(e instanceof Location||e instanceof Element)),"Argument is not a HTMLLinkElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLImageElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLImageElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLImageElement||!(e instanceof Element)),"Argument is not a HTMLImageElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLEmbedElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLEmbedElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLEmbedElement||!(e instanceof Element)),"Argument is not a HTMLEmbedElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLFrameElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLFrameElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLFrameElement||!(e instanceof Element)),"Argument is not a HTMLFrameElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLIFrameElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLIFrameElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLIFrameElement||!(e instanceof Element)),"Argument is not a HTMLIFrameElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLObjectElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLObjectElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLObjectElement||!(e instanceof Element)),"Argument is not a HTMLObjectElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLScriptElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLScriptElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLScriptElement||!(e instanceof Element)),"Argument is not a HTMLScriptElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.debugStringForType_=function(e){return goog.isObject(e)?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):void 0===e?"undefined":null===e?"null":typeof e},goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.prototype.equals=function(e){return e instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,e)},goog.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},goog.math.Coordinate.distance=function(e,t){var r=e.x-t.x,o=e.y-t.y;return Math.sqrt(r*r+o*o)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var r=e.x-t.x,o=e.y-t.y;return r*r+o*o},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=Number(e),goog.isNumber(t)&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){var r=goog.isNumber(t)?t:e;return this.x*=e,this.y*=r,this},goog.math.Coordinate.prototype.rotateRadians=function(e,t){var r=t||new goog.math.Coordinate(0,0),o=this.x,n=this.y,i=Math.cos(e),a=Math.sin(e);this.x=(o-r.x)*i-(n-r.y)*a+r.x,this.y=(o-r.x)*a+(n-r.y)*i+r.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(goog.math.toRadians(e),t)},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){var r=goog.isNumber(t)?t:e;return this.width*=e,this.height*=r,this},goog.math.Size.prototype.scaleToCover=function(e){return e=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,t){return goog.isString(t)?e.getElementById(t):t},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,t){goog.asserts.assertString(t);var r=goog.dom.getElementHelper_(e,t);return goog.asserts.assertElement(r,"No element found with id: "+t)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagName=function(e,t){return(t||document).getElementsByTagName(String(e))},goog.dom.getElementsByTagNameAndClass=function(e,t,r){return goog.dom.getElementsByTagNameAndClass_(document,e,t,r)},goog.dom.getElementsByClass=function(e,t){var r=t||document;return goog.dom.canUseQuerySelector_(r)?r.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var r=t||document;return(r.getElementsByClassName?r.getElementsByClassName(e)[0]:goog.dom.canUseQuerySelector_(r)?r.querySelector("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},goog.dom.getRequiredElementByClass=function(e,t){var r=goog.dom.getElementByClass(e,t);return goog.asserts.assert(r,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,r,o){if(e=o||e,t=t&&"*"!=t?String(t).toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(t||r))return e.querySelectorAll(t+(r?"."+r:""));if(r&&e.getElementsByClassName){if(e=e.getElementsByClassName(r),t){o={};for(var n,i=0,a=0;n=e[a];a++)t==n.nodeName&&(o[i++]=n);return o.length=i,o}return e}if(e=e.getElementsByTagName(t||"*"),r){for(o={},a=i=0;n=e[a];a++)"function"==typeof(t=n.className).split&&goog.array.contains(t.split(/\\s+/),r)&&(o[i++]=n);return o.length=i,o}return e},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,t){goog.object.forEach(t,(function(t,r){"style"==r?e.style.cssText=t:"class"==r?e.className=t:"for"==r?e.htmlFor=t:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(r)?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[r],t):goog.string.startsWith(r,"aria-")||goog.string.startsWith(r,"data-")?e.setAttribute(r,t):e[r]=t}))},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(e){return goog.dom.getDocumentHeight_(e)},goog.dom.getDocumentHeight_=function(e){var t=0;if(o=e.document){t=o.body;var r=o.documentElement;if(!r||!t)return 0;if(e=goog.dom.getViewportSize_(e).height,goog.dom.isCss1CompatMode_(o)&&r.scrollHeight)t=r.scrollHeight!=e?r.scrollHeight:r.offsetHeight;else{var o=r.scrollHeight,n=r.offsetHeight;r.clientHeight!=n&&(o=t.scrollHeight,n=t.offsetHeight),t=o>e?o>n?o:n:o<n?o:n}}return t},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e);return e=goog.dom.getWindow_(e),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new goog.math.Coordinate(t.scrollLeft,t.scrollTop):new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,r){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var r=String(t[0]),o=t[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&o&&(o.name||o.type)){if(r=["<",r],o.name&&r.push(\' name="\',goog.string.htmlEscape(o.name),\'"\'),o.type){r.push(\' type="\',goog.string.htmlEscape(o.type),\'"\');var n={};goog.object.extend(n,o),delete n.type,o=n}r.push(">"),r=r.join("")}return r=e.createElement(r),o&&(goog.isString(o)?r.className=o:goog.isArray(o)?r.className=o.join(" "):goog.dom.setProperties(r,o)),2<t.length&&goog.dom.append_(e,r,t,2),r},goog.dom.append_=function(e,t,r,o){function n(r){r&&t.appendChild(goog.isString(r)?e.createTextNode(r):r)}for(;o<r.length;o++){var i=r[o];goog.isArrayLike(i)&&!goog.dom.isNodeLike(i)?goog.array.forEach(goog.dom.isNodeList(i)?goog.array.toArray(i):i,n):n(i)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return goog.dom.createElement_(document,e)},goog.dom.createElement_=function(e,t){return e.createElement(String(t))},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,r){return goog.dom.createTable_(document,e,t,!!r)},goog.dom.createTable_=function(e,t,r,o){for(var n=goog.dom.createElement_(e,"TABLE"),i=n.appendChild(goog.dom.createElement_(e,"TBODY")),a=0;a<t;a++){for(var s=goog.dom.createElement_(e,"TR"),u=0;u<r;u++){var c=goog.dom.createElement_(e,"TD");o&&goog.dom.setTextContent(c,goog.string.Unicode.NBSP),s.appendChild(c)}i.appendChild(s)}return n},goog.dom.constHtmlToNode=function(e){var t=goog.array.map(arguments,goog.string.Const.unwrap);t=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),t.join(""));return goog.dom.safeHtmlToNode(t)},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,t){var r=goog.dom.createElement_(e,"DIV");return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(r,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,t)),r.removeChild(r.firstChild)):goog.dom.safe.setInnerHtml(r,t),goog.dom.childrenToNode_(e,r)},goog.dom.childrenToNode_=function(e,t){if(1==t.childNodes.length)return t.removeChild(t.firstChild);for(var r=e.createDocumentFragment();t.firstChild;)r.appendChild(t.firstChild);return r},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case"SCRIPT":case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,r){e.insertBefore(t,e.childNodes[r]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,r=e.parentNode;if(r&&r.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)r.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&null!=e.children?e.children:goog.array.filter(e.childNodes,(function(e){return e.nodeType==goog.dom.NodeType.ELEMENT}))},goog.dom.getFirstElementChild=function(e){return goog.isDef(e.firstElementChild)?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return goog.isDef(e.lastElementChild)?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return goog.isDef(e.nextElementSibling)?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return goog.isDef(e.previousElementSibling)?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var t;return!goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&e instanceof goog.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,goog.dom.isElement(t)?t:null):t},goog.dom.contains=function(e,t){if(!e||!t)return!1;if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var r=e.nodeType==goog.dom.NodeType.ELEMENT,o=t.nodeType==goog.dom.NodeType.ELEMENT;if(r&&o)return e.sourceIndex-t.sourceIndex;var n=e.parentNode,i=t.parentNode;return n==i?goog.dom.compareSiblingOrder_(e,t):!r&&goog.dom.contains(n,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!o&&goog.dom.contains(i,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(r?e.sourceIndex:n.sourceIndex)-(o?t.sourceIndex:i.sourceIndex)}return(r=(o=goog.dom.getOwnerDocument(e)).createRange()).selectNode(e),r.collapse(!0),(o=o.createRange()).selectNode(t),o.collapse(!0),r.compareBoundaryPoints(goog.global.Range.START_TO_END,o)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var r=e.parentNode;if(r==t)return-1;for(var o=t;o.parentNode!=r;)o=o.parentNode;return goog.dom.compareSiblingOrder_(o,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var r=t;r=r.previousSibling;)if(r==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t,r=arguments.length;if(!r)return null;if(1==r)return arguments[0];var o=[],n=1/0;for(t=0;t<r;t++){for(var i=[],a=arguments[t];a;)i.unshift(a),a=a.parentNode;o.push(i),n=Math.min(n,i.length)}for(i=null,t=0;t<n;t++){a=o[0][t];for(var s=1;s<r;s++)if(a!=o[s][t])return i;i=a}return i},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){try{return e.contentWindow||(e.contentDocument?goog.dom.getWindow(e.contentDocument):null)}catch(e){}return null},goog.dom.setTextContent=function(e,t){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{goog.dom.removeChildren(e);var r=goog.dom.getOwnerDocument(e);e.appendChild(r.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if(goog.asserts.assert(null!==e,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e);return(t=goog.dom.createElement_(t,"DIV")).appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var r=[];return goog.dom.findNodes_(e,t,r,!0)?r[0]:void 0},goog.dom.findNodes=function(e,t){var r=[];return goog.dom.findNodes_(e,t,r,!1),r},goog.dom.findNodes_=function(e,t,r,o){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(r.push(e),o)||goog.dom.findNodes_(e,t,r,o))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var t;return(t=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):t},goog.dom.hasSpecifiedTabIndex_=function(e){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")?(e=e.getAttributeNode("tabindex"),goog.isDefAndNotNull(e)&&e.specified):e.hasAttribute("tabindex")},goog.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,goog.isNumber(e)&&0<=e&&32768>e},goog.dom.nativelySupportsFocus_=function(e){return"A"==e.tagName||"INPUT"==e.tagName||"TEXTAREA"==e.tagName||"SELECT"==e.tagName||"BUTTON"==e.tagName},goog.dom.hasNonZeroBoundingRect_=function(e){return e=!goog.isFunction(e.getBoundingClientRect)||goog.userAgent.IE&&null==e.parentElement?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect(),goog.isDefAndNotNull(e)&&0<e.height&&0<e.width},goog.dom.getTextContent=function(e){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==e&&"innerText"in e)e=goog.string.canonicalizeNewlines(e.innerText);else{var t=[];goog.dom.getTextContent_(e,t,!0),e=t.join("")}return e=(e=e.replace(/ \\xAD /g," ").replace(/\\xAD/g,"")).replace(/\\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\\s*/,"")),e},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,r){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)r?t.push(String(e.nodeValue).replace(/(\\r\\n|\\r|\\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,t,r),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var r=t||goog.dom.getOwnerDocument(e).body,o=[];e&&e!=r;){for(var n=e;n=n.previousSibling;)o.unshift(goog.dom.getTextContent(n));e=e.parentNode}return goog.string.trimLeft(o.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,r){e=[e];for(var o=0,n=null;0<e.length&&o<t;)if(!((n=e.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_))if(n.nodeType==goog.dom.NodeType.TEXT){var i=n.nodeValue.replace(/(\\r\\n|\\r|\\n)/g,"").replace(/ +/g," ");o=o+i.length}else if(n.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)o+=goog.dom.PREDEFINED_TAG_VALUES_[n.nodeName].length;else for(i=n.childNodes.length-1;0<=i;i--)e.push(n.childNodes[i]);return goog.isObject(r)&&(r.remainder=n?n.nodeValue.length+t-o-1:0,r.node=n),n},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,r,o){if(!t&&!r)return null;var n=t?String(t).toUpperCase():null;return goog.dom.getAncestor(e,(function(e){return(!n||e.nodeName==n)&&(!r||goog.isString(e.className)&&goog.array.contains(e.className.split(/\\s+/),r))}),!0,o)},goog.dom.getAncestorByClass=function(e,t,r){return goog.dom.getAncestorByTagNameAndClass(e,null,t,r)},goog.dom.getAncestor=function(e,t,r,o){for(e&&!r&&(e=e.parentNode),r=0;e&&(null==o||r<=o);){if(goog.asserts.assert("parentNode"!=e.name),t(e))return e;e=e.parentNode,r++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return goog.isDef(e.devicePixelRatio)?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(min-resolution: "+e+"dppx),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+96*e+"dpi)").matches?e:0},goog.dom.getCanvasContext2D=function(e){return e.getContext("2d")},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagName=function(e,t){return(t||this.document_).getElementsByTagName(String(e))},goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,r){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,r)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return goog.dom.getRequiredElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,r){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return goog.dom.createElement_(this.document_,e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,r){return goog.dom.createTable_(this.document_,e,t,!!r)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D,goog.structs.InversionMap=function(e,t,r){this.rangeArray=null,goog.asserts.assert(e.length==t.length,"rangeArray and valueArray must have the same length."),this.storeInversion_(e,r),this.values=t},goog.structs.InversionMap.prototype.storeInversion_=function(e,t){this.rangeArray=e;for(var r=1;r<e.length;r++)null==e[r]?e[r]=e[r-1]+1:t&&(e[r]+=e[r-1])},goog.structs.InversionMap.prototype.spliceInversion=function(e,t,r){t=(e=new goog.structs.InversionMap(e,t,r)).rangeArray[0];var o=goog.array.peek(e.rangeArray);r=this.getLeast(t),o=this.getLeast(o),t!=this.rangeArray[r]&&r++,this.rangeArray=this.rangeArray.slice(0,r).concat(e.rangeArray).concat(this.rangeArray.slice(o+1)),this.values=this.values.slice(0,r).concat(e.values).concat(this.values.slice(o+1))},goog.structs.InversionMap.prototype.at=function(e){return 0>(e=this.getLeast(e))?null:this.values[e]},goog.structs.InversionMap.prototype.getLeast=function(e){for(var t=this.rangeArray,r=0,o=t.length;8<o-r;){var n=o+r>>1;t[n]<=e?r=n:o=n}for(;r<o&&!(e<t[r]);++r);return r-1},goog.i18n.GraphemeBreak={},goog.i18n.GraphemeBreak.property={ANY:0,CONTROL:1,EXTEND:2,PREPEND:3,SPACING_MARK:4,INDIC_CONSONANT:5,VIRAMA:6,L:7,V:8,T:9,LV:10,LVT:11,CR:12,LF:13,REGIONAL_INDICATOR:14},goog.i18n.GraphemeBreak.inversions_=null,goog.i18n.GraphemeBreak.applyLegacyBreakRules_=function(e,t){var r=goog.i18n.GraphemeBreak.property;return(e!=r.CR||t!=r.LF)&&(e==r.CONTROL||e==r.CR||e==r.LF||t==r.CONTROL||t==r.CR||t==r.LF||(e!=r.L||t!=r.L&&t!=r.V&&t!=r.LV&&t!=r.LVT)&&(e!=r.LV&&e!=r.V||t!=r.V&&t!=r.T)&&(e!=r.LVT&&e!=r.T||t!=r.T)&&t!=r.EXTEND&&t!=r.VIRAMA&&(e!=r.VIRAMA||t!=r.INDIC_CONSONANT))},goog.i18n.GraphemeBreak.getBreakProp_=function(e){if(44032<=e&&55203>=e){var t=goog.i18n.GraphemeBreak.property;return 16==e%28?t.LV:t.LVT}return goog.i18n.GraphemeBreak.inversions_||(goog.i18n.GraphemeBreak.inversions_=new goog.structs.InversionMap([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,5,11,11,48,21,16,1,101,7,1,1,6,2,2,1,4,33,1,1,1,30,27,91,11,58,9,34,4,1,9,1,3,1,5,43,3,136,31,1,17,37,1,1,1,1,3,8,4,1,2,1,7,8,2,2,21,8,1,2,17,39,1,1,1,2,6,6,1,9,5,4,2,2,12,2,15,2,1,17,39,2,3,12,4,8,6,17,2,3,14,1,17,39,1,1,3,8,4,1,20,2,29,1,2,17,39,1,1,2,1,6,6,9,6,4,2,2,13,1,16,1,18,41,1,1,1,12,1,9,1,41,3,17,37,4,3,5,7,8,3,2,8,2,30,2,17,39,1,1,1,1,2,1,3,1,5,1,8,9,1,3,2,30,2,17,38,3,1,2,5,7,1,9,1,10,2,30,2,22,48,5,1,2,6,7,19,2,13,46,2,1,1,1,6,1,12,8,50,46,2,1,1,1,9,11,6,14,2,58,2,27,1,1,1,1,1,4,2,49,14,1,4,1,1,2,5,48,9,1,57,33,12,4,1,6,1,2,2,2,1,16,2,4,2,2,4,3,1,3,2,7,3,4,13,1,1,1,2,6,1,1,14,1,98,96,72,88,349,3,931,15,2,1,14,15,2,1,14,15,2,15,15,14,35,17,2,1,7,8,1,2,9,1,1,9,1,45,3,155,1,87,31,3,4,2,9,1,6,3,20,19,29,44,9,3,2,1,69,23,2,3,4,45,6,2,1,1,1,8,1,1,1,2,8,6,13,128,4,1,14,33,1,1,5,1,1,5,1,1,1,7,31,9,12,2,1,7,23,1,4,2,2,2,2,2,11,3,2,36,2,1,1,2,3,1,1,3,2,12,36,8,8,2,2,21,3,128,3,1,13,1,7,4,1,4,2,1,203,64,523,1,2,2,24,7,49,16,96,33,3070,3,141,1,96,32,554,6,105,2,30164,4,1,10,33,1,80,2,272,1,3,1,4,1,23,2,2,1,24,30,4,4,3,8,1,1,13,2,16,34,16,1,27,18,24,24,4,8,2,23,11,1,1,12,32,3,1,5,3,3,36,1,2,4,2,1,3,1,69,35,6,2,2,2,2,12,1,8,1,1,18,16,1,3,6,1,5,48,1,1,3,2,2,5,2,1,1,32,9,1,2,2,5,1,1,201,14,2,1,1,9,8,2,1,2,1,2,1,1,1,18,11184,27,49,1028,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,7,1,1472,1,1,1,53,14,1,57,2,1,45,3,4,2,1,1,2,1,66,3,36,5,1,6,2,75,2,1,48,3,9,1,1,1258,1,1,1,2,6,1,1,22681,62,4,25042,1,1,3,3,1,5,8,8,2,7,30,4,148,3,8097,26,790017,255],[1,13,1,12,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,4,0,5,2,4,2,0,4,2,4,6,4,0,2,5,0,2,0,5,2,4,0,5,2,0,2,4,2,4,6,0,2,5,0,2,0,5,0,2,4,0,5,2,4,2,6,2,5,0,2,0,2,4,0,5,2,0,4,2,4,6,0,2,0,2,4,0,5,2,0,2,4,2,4,6,2,5,0,2,0,5,0,2,0,5,2,4,2,4,6,0,2,0,4,0,5,0,2,4,2,6,2,5,0,2,0,4,0,5,2,0,4,2,4,2,4,2,4,2,6,2,5,0,2,0,4,0,5,0,2,4,2,4,6,0,2,0,2,0,4,0,5,6,2,4,2,4,2,4,0,5,0,2,0,4,2,6,0,2,0,5,0,2,0,4,2,0,2,0,5,0,2,0,2,0,2,0,2,0,4,5,2,4,2,6,0,2,0,2,0,2,0,5,0,2,4,2,0,6,4,2,5,0,5,0,4,2,5,2,5,0,5,0,5,2,5,2,0,4,2,0,2,5,0,2,0,7,8,9,0,2,0,5,2,6,0,5,2,6,0,5,2,0,5,2,5,0,2,4,2,4,2,4,2,6,2,0,2,0,2,0,2,0,5,2,4,2,4,2,4,2,0,5,0,5,0,4,0,4,0,5,2,4,0,5,0,5,4,2,4,2,6,0,2,0,2,4,2,0,2,4,0,5,2,4,2,4,2,4,2,4,6,5,0,2,0,2,4,0,5,4,2,4,2,6,4,5,0,5,0,5,0,2,4,2,4,2,4,2,6,0,5,4,2,4,2,0,5,0,2,0,2,4,2,0,2,0,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,6,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,6,5,2,5,4,2,4,0,5,0,5,0,5,0,5,0,4,0,5,4,6,0,2,0,5,0,2,0,5,2,4,6,0,7,2,4,0,5,0,5,2,4,2,4,2,4,6,0,5,2,4,2,4,2,0,2,0,2,4,0,5,0,5,0,5,0,5,2,0,2,0,2,0,2,0,2,0,5,4,2,4,0,4,6,0,5,0,5,0,5,0,4,2,4,2,4,0,4,6,0,11,8,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,6,0,4,2,4,0,2,6,0,2,4,0,4,2,4,6,2,0,1,0,2,0,2,4,2,6,0,2,4,0,4,2,4,6,0,2,4,2,4,2,6,2,0,4,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,14,0,1,2],!0)),goog.i18n.GraphemeBreak.inversions_.at(e)},goog.i18n.GraphemeBreak.hasGraphemeBreak=function(e,t,r){e=goog.i18n.GraphemeBreak.getBreakProp_(e),t=goog.i18n.GraphemeBreak.getBreakProp_(t);var o=goog.i18n.GraphemeBreak.property;return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(e,t)&&!(r&&(e==o.PREPEND||t==o.SPACING_MARK))},goog.format={},goog.format.fileSize=function(e,t){return goog.format.numBytesToString(e,t,!1)},goog.format.isConvertableScaledNumber=function(e){return goog.format.SCALED_NUMERIC_RE_.test(e)},goog.format.stringToNumericValue=function(e){return goog.string.endsWith(e,"B")?goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_):goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_SI_)},goog.format.stringToNumBytes=function(e){return goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_)},goog.format.numericValueToString=function(e,t){return goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_SI_,t)},goog.format.numBytesToString=function(e,t,r,o){var n="";return goog.isDef(r)&&!r||(n="B"),goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_BINARY_,t,n,o)},goog.format.stringToNumericValue_=function(e,t){var r=e.match(goog.format.SCALED_NUMERIC_RE_);return r?Number(r[1])*t[r[2]]:NaN},goog.format.numericValueToString_=function(e,t,r,o,n){var i=goog.format.NUMERIC_SCALE_PREFIXES_,a=e,s="",u="",c=1;0>e&&(e=-e);for(var l=0;l<i.length;l++){var g=i[l];if(e>=(c=t[g])||1>=c&&e>.1*c){s=g;break}}return s?(o&&(s+=o),n&&(u=" ")):c=1,e=Math.pow(10,goog.isDef(r)?r:2),Math.round(a/c*e)/e+u+s},goog.format.SCALED_NUMERIC_RE_=/^([-]?\\d+\\.?\\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/,goog.format.NUMERIC_SCALE_PREFIXES_="P T G M K  m u n".split(" "),goog.format.NUMERIC_SCALES_SI_={"":1,n:1e-9,u:1e-6,m:.001,k:1e3,K:1e3,M:1e6,G:1e9,T:1e12,P:1e15},goog.format.NUMERIC_SCALES_BINARY_={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)},goog.format.FIRST_GRAPHEME_EXTEND_=768,goog.format.isTreatedAsBreakingSpace_=function(e){return e<=goog.format.WbrToken_.SPACE||4096<=e&&(8192<=e&&8198>=e||8200<=e&&8203>=e||5760==e||6158==e||8232==e||8233==e||8287==e||12288==e)},goog.format.isInvisibleFormattingCharacter_=function(e){return 8204<=e&&8207>=e||8234<=e&&8238>=e},goog.format.insertWordBreaksGeneric_=function(e,t,r){if((r=r||10)>e.length)return e;for(var o=[],n=0,i=0,a=0,s=0,u=0;u<e.length;u++){var c=s;c=(s=e.charCodeAt(u))>=goog.format.FIRST_GRAPHEME_EXTEND_&&!t(c,s,!0);n>=r&&!goog.format.isTreatedAsBreakingSpace_(s)&&!c&&(o.push(e.substring(a,u),goog.format.WORD_BREAK_HTML),a=u,n=0),i?s==goog.format.WbrToken_.GT&&i==goog.format.WbrToken_.LT?i=0:s==goog.format.WbrToken_.SEMI_COLON&&i==goog.format.WbrToken_.AMP&&(i=0,n++):s==goog.format.WbrToken_.LT||s==goog.format.WbrToken_.AMP?i=s:goog.format.isTreatedAsBreakingSpace_(s)?n=0:goog.format.isInvisibleFormattingCharacter_(s)||n++}return o.push(e.substr(a)),o.join("")},goog.format.insertWordBreaks=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.i18n.GraphemeBreak.hasGraphemeBreak,t)},goog.format.conservativelyHasGraphemeBreak_=function(e,t,r){return 1024<=t&&1315>t},goog.format.insertWordBreaksBasic=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.format.conservativelyHasGraphemeBreak_,t)},goog.format.IS_IE8_OR_ABOVE_=goog.userAgent.IE&&goog.userAgent.isVersionOrHigher(8),goog.format.WORD_BREAK_HTML=goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.format.IS_IE8_OR_ABOVE_?"&#8203;":"<wbr>",goog.format.WbrToken_={LT:60,GT:62,AMP:38,SEMI_COLON:59,SPACE:32},goog.i18n.BidiFormatter=function(e,t){this.contextDir_=goog.i18n.bidi.toDir(e,!0),this.alwaysSpan_=!!t},goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.contextDir_},goog.i18n.BidiFormatter.prototype.getAlwaysSpan=function(){return this.alwaysSpan_},goog.i18n.BidiFormatter.prototype.setContextDir=function(e){this.contextDir_=goog.i18n.bidi.toDir(e,!0)},goog.i18n.BidiFormatter.prototype.setAlwaysSpan=function(e){this.alwaysSpan_=e},goog.i18n.BidiFormatter.prototype.estimateDirection=goog.i18n.bidi.estimateDirection,goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_=function(e,t){return 0>Number(e)*Number(t)},goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_=function(e,t,r,o){return o&&(this.areDirectionalitiesOpposite_(t,this.contextDir_)||this.contextDir_==goog.i18n.bidi.Dir.LTR&&goog.i18n.bidi.endsWithRtl(e,r)||this.contextDir_==goog.i18n.bidi.Dir.RTL&&goog.i18n.bidi.endsWithLtr(e,r))?this.contextDir_==goog.i18n.bidi.Dir.LTR?goog.i18n.bidi.Format.LRM:goog.i18n.bidi.Format.RLM:""},goog.i18n.BidiFormatter.prototype.dirAttrValue=function(e,t){return this.knownDirAttrValue(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttrValue=function(e){return(e==goog.i18n.bidi.Dir.NEUTRAL?this.contextDir_:e)==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"},goog.i18n.BidiFormatter.prototype.dirAttr=function(e,t){return this.knownDirAttr(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e!=this.contextDir_?e==goog.i18n.bidi.Dir.RTL?\'dir="rtl"\':e==goog.i18n.bidi.Dir.LTR?\'dir="ltr"\':"":""},goog.i18n.BidiFormatter.prototype.spanWrapSafeHtml=function(e,t){return this.spanWrapSafeHtmlWithKnownDir(null,e,t)},goog.i18n.BidiFormatter.prototype.spanWrapSafeHtmlWithKnownDir=function(e,t,r){return null==e&&(e=this.estimateDirection(goog.html.SafeHtml.unwrap(t),!0)),this.spanWrapWithKnownDir_(e,t,r)},goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir_=function(e,t,r){var o,n;(r=r||null==r,o=e!=goog.i18n.bidi.Dir.NEUTRAL&&e!=this.contextDir_,this.alwaysSpan_||o)?(o&&(n=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"),o=goog.html.SafeHtml.create("span",{dir:n},t)):o=t;return t=goog.html.SafeHtml.unwrap(t),goog.html.SafeHtml.concatWithDir(goog.i18n.bidi.Dir.NEUTRAL,o,this.dirResetIfNeeded_(t,e,!0,r))},goog.i18n.BidiFormatter.prototype.unicodeWrap=function(e,t,r){return this.unicodeWrapWithKnownDir(null,e,t,r)},goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,t,r,o){return null==e&&(e=this.estimateDirection(t,r)),this.unicodeWrapWithKnownDir_(e,t,r,o)},goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir_=function(e,t,r,o){o=o||null==o;var n=[];return e!=goog.i18n.bidi.Dir.NEUTRAL&&e!=this.contextDir_?(n.push(e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.Format.RLE:goog.i18n.bidi.Format.LRE),n.push(t),n.push(goog.i18n.bidi.Format.PDF)):n.push(t),n.push(this.dirResetIfNeeded_(t,e,r,o)),n.join("")},goog.i18n.BidiFormatter.prototype.markAfter=function(e,t){return this.markAfterKnownDir(null,e,t)},goog.i18n.BidiFormatter.prototype.markAfterKnownDir=function(e,t,r){return null==e&&(e=this.estimateDirection(t,r)),this.dirResetIfNeeded_(t,e,r,!0)},goog.i18n.BidiFormatter.prototype.mark=function(){switch(this.contextDir_){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Format.LRM;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Format.RLM;default:return""}},goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT},goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT},goog.html.legacyconversions={},goog.html.legacyconversions.safeHtmlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,null)},goog.html.legacyconversions.safeStyleFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.safeStyleSheetFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.safeUrlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.trustedResourceUrlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.reportCallback_=goog.nullFunction,goog.html.legacyconversions.setReportCallback=function(e){goog.html.legacyconversions.reportCallback_=e},goog.uri={},goog.uri.utils={},goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63},goog.uri.utils.buildFromEncodedParts=function(e,t,r,o,n,i,a){var s="";return e&&(s+=e+":"),r&&(s+="//",t&&(s+=t+"@"),s+=r,o&&(s+=":"+o)),n&&(s+=n),i&&(s+="?"+i),a&&(s+="#"+a),s},goog.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/,goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.split=function(e){return e.match(goog.uri.utils.splitRe_)},goog.uri.utils.decodeIfPossible_=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):e},goog.uri.utils.getComponentByIndex_=function(e,t){return goog.uri.utils.split(t)[e]||null},goog.uri.utils.getScheme=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,e)},goog.uri.utils.getEffectiveScheme=function(e){return!(e=goog.uri.utils.getScheme(e))&&goog.global.self&&goog.global.self.location&&(e=(e=goog.global.self.location.protocol).substr(0,e.length-1)),e?e.toLowerCase():""},goog.uri.utils.getUserInfoEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,e)},goog.uri.utils.getUserInfo=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(e))},goog.uri.utils.getDomainEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,e)},goog.uri.utils.getDomain=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(e),!0)},goog.uri.utils.getPort=function(e){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,e))||null},goog.uri.utils.getPathEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,e)},goog.uri.utils.getPath=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(e),!0)},goog.uri.utils.getQueryData=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,e)},goog.uri.utils.getFragmentEncoded=function(e){var t=e.indexOf("#");return 0>t?null:e.substr(t+1)},goog.uri.utils.setFragmentEncoded=function(e,t){return goog.uri.utils.removeFragment(e)+(t?"#"+t:"")},goog.uri.utils.getFragment=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(e))},goog.uri.utils.getHost=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],e[goog.uri.utils.ComponentIndex.USER_INFO],e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getOrigin=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],null,e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getPathAndAfter=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(null,null,null,null,e[goog.uri.utils.ComponentIndex.PATH],e[goog.uri.utils.ComponentIndex.QUERY_DATA],e[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.removeFragment=function(e){var t=e.indexOf("#");return 0>t?e:e.substr(0,t)},goog.uri.utils.haveSameDomain=function(e,t){var r=goog.uri.utils.split(e),o=goog.uri.utils.split(t);return r[goog.uri.utils.ComponentIndex.DOMAIN]==o[goog.uri.utils.ComponentIndex.DOMAIN]&&r[goog.uri.utils.ComponentIndex.SCHEME]==o[goog.uri.utils.ComponentIndex.SCHEME]&&r[goog.uri.utils.ComponentIndex.PORT]==o[goog.uri.utils.ComponentIndex.PORT]},goog.uri.utils.assertNoFragmentsOrQueries_=function(e){goog.asserts.assert(0>e.indexOf("#")&&0>e.indexOf("?"),"goog.uri.utils: Fragment or query identifiers are not supported: [%s]",e)},goog.uri.utils.parseQueryData=function(e,t){if(e)for(var r=e.split("&"),o=0;o<r.length;o++){var n,i=r[o].indexOf("="),a=null;0<=i?(n=r[o].substring(0,i),a=r[o].substring(i+1)):n=r[o],t(n,a?goog.string.urlDecode(a):"")}},goog.uri.utils.appendQueryData_=function(e){if(e[1]){var t=e[0],r=t.indexOf("#");0<=r&&(e.push(t.substr(r)),e[0]=t=t.substr(0,r)),0>(r=t.indexOf("?"))?e[1]="?":r==t.length-1&&(e[1]=void 0)}return e.join("")},goog.uri.utils.appendKeyValuePairs_=function(e,t,r){if(goog.isArray(t)){goog.asserts.assertArray(t);for(var o=0;o<t.length;o++)goog.uri.utils.appendKeyValuePairs_(e,String(t[o]),r)}else null!=t&&r.push("&",e,""===t?"":"=",goog.string.urlEncode(t))},goog.uri.utils.buildQueryDataBuffer_=function(e,t,r){for(goog.asserts.assert(0==Math.max(t.length-(r||0),0)%2,"goog.uri.utils: Key/value lists must be even in length."),r=r||0;r<t.length;r+=2)goog.uri.utils.appendKeyValuePairs_(t[r],t[r+1],e);return e},goog.uri.utils.buildQueryData=function(e,t){var r=goog.uri.utils.buildQueryDataBuffer_([],e,t);return r[0]="",r.join("")},goog.uri.utils.buildQueryDataBufferFromMap_=function(e,t){for(var r in t)goog.uri.utils.appendKeyValuePairs_(r,t[r],e);return e},goog.uri.utils.buildQueryDataFromMap=function(e){return(e=goog.uri.utils.buildQueryDataBufferFromMap_([],e))[0]="",e.join("")},goog.uri.utils.appendParams=function(e,t){return goog.uri.utils.appendQueryData_(2==arguments.length?goog.uri.utils.buildQueryDataBuffer_([e],arguments[1],0):goog.uri.utils.buildQueryDataBuffer_([e],arguments,1))},goog.uri.utils.appendParamsFromMap=function(e,t){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([e],t))},goog.uri.utils.appendParam=function(e,t,r){return e=[e,"&",t],goog.isDefAndNotNull(r)&&e.push("=",goog.string.urlEncode(r)),goog.uri.utils.appendQueryData_(e)},goog.uri.utils.findParam_=function(e,t,r,o){for(var n=r.length;0<=(t=e.indexOf(r,t))&&t<o;){var i=e.charCodeAt(t-1);if(!(i!=goog.uri.utils.CharCode_.AMPERSAND&&i!=goog.uri.utils.CharCode_.QUESTION||(i=e.charCodeAt(t+n))&&i!=goog.uri.utils.CharCode_.EQUAL&&i!=goog.uri.utils.CharCode_.AMPERSAND&&i!=goog.uri.utils.CharCode_.HASH))return t;t+=n+1}return-1},goog.uri.utils.hashOrEndRe_=/#|$/,goog.uri.utils.hasParam=function(e,t){return 0<=goog.uri.utils.findParam_(e,0,t,e.search(goog.uri.utils.hashOrEndRe_))},goog.uri.utils.getParamValue=function(e,t){var r=e.search(goog.uri.utils.hashOrEndRe_),o=goog.uri.utils.findParam_(e,0,t,r);if(0>o)return null;var n=e.indexOf("&",o);return(0>n||n>r)&&(n=r),o+=t.length+1,goog.string.urlDecode(e.substr(o,n-o))},goog.uri.utils.getParamValues=function(e,t){for(var r,o=e.search(goog.uri.utils.hashOrEndRe_),n=0,i=[];0<=(r=goog.uri.utils.findParam_(e,n,t,o));)(0>(n=e.indexOf("&",r))||n>o)&&(n=o),r+=t.length+1,i.push(goog.string.urlDecode(e.substr(r,n-r)));return i},goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/,goog.uri.utils.removeParam=function(e,t){for(var r,o=e.search(goog.uri.utils.hashOrEndRe_),n=0,i=[];0<=(r=goog.uri.utils.findParam_(e,n,t,o));)i.push(e.substring(n,r)),n=Math.min(e.indexOf("&",r)+1||o,o);return i.push(e.substr(n)),i.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")},goog.uri.utils.setParam=function(e,t,r){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(e,t),t,r)},goog.uri.utils.appendPath=function(e,t){return goog.uri.utils.assertNoFragmentsOrQueries_(e),goog.string.endsWith(e,"/")&&(e=e.substr(0,e.length-1)),goog.string.startsWith(t,"/")&&(t=t.substr(1)),goog.string.buildString(e,"/",t)},goog.uri.utils.setPath=function(e,t){goog.string.startsWith(t,"/")||(t="/"+t);var r=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(r[goog.uri.utils.ComponentIndex.SCHEME],r[goog.uri.utils.ComponentIndex.USER_INFO],r[goog.uri.utils.ComponentIndex.DOMAIN],r[goog.uri.utils.ComponentIndex.PORT],t,r[goog.uri.utils.ComponentIndex.QUERY_DATA],r[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.StandardQueryParam={RANDOM:"zx"},goog.uri.utils.makeUnique=function(e){return goog.uri.utils.setParam(e,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())},goog.Uri=function(e,t){var r;this.domain_=this.userInfo_=this.scheme_="",this.port_=null,this.fragment_=this.path_="",this.ignoreCase_=this.isReadOnly_=!1,e instanceof goog.Uri?(this.ignoreCase_=goog.isDef(t)?t:e.getIgnoreCase(),this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(r=goog.uri.utils.split(String(e)))?(this.ignoreCase_=!!t,this.setScheme(r[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(r[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(r[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(r[goog.uri.utils.ComponentIndex.PORT]),this.setPath(r[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(r[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(r[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!t,this.queryData_=new goog.Uri.QueryData(null,null,this.ignoreCase_))},goog.Uri.preserveParameterTypesCompatibilityFlag=!1,goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM,goog.Uri.prototype.toString=function(){var e=[],t=this.getScheme();t&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":");var r=this.getDomain();return(r||"file"==t)&&(e.push("//"),(t=this.getUserInfo())&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),e.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(r))),null!=(r=this.getPort())&&e.push(":",String(r))),(r=this.getPath())&&(this.hasDomain()&&"/"!=r.charAt(0)&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(r,"/"==r.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0))),(r=this.getEncodedQuery())&&e.push("?",r),(r=this.getFragment())&&e.push("#",goog.Uri.encodeSpecialChars_(r,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var t=this.clone(),r=e.hasScheme();r?t.setScheme(e.getScheme()):r=e.hasUserInfo(),r?t.setUserInfo(e.getUserInfo()):r=e.hasDomain(),r?t.setDomain(e.getDomain()):r=e.hasPort();var o=e.getPath();if(r)t.setPort(e.getPort());else if(r=e.hasPath()){if("/"!=o.charAt(0))if(this.hasDomain()&&!this.hasPath())o="/"+o;else{var n=t.getPath().lastIndexOf("/");-1!=n&&(o=t.getPath().substr(0,n+1)+o)}o=goog.Uri.removeDotSegments(o)}return r?t.setPath(o):r=e.hasQuery(),r?t.setQueryData(e.getQueryData().clone()):r=e.hasFragment(),r&&t.setFragment(e.getFragment()),t},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,t){return this.enforceReadOnly(),(this.scheme_=t?goog.Uri.decodeOrEmpty_(e,!0):e)&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,t){return this.enforceReadOnly(),this.userInfo_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,t){return this.enforceReadOnly(),this.domain_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(this.enforceReadOnly(),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return null!=this.port_},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,t){return this.enforceReadOnly(),this.path_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()},goog.Uri.prototype.setQueryData=function(e,t){return this.enforceReadOnly(),e instanceof goog.Uri.QueryData?(this.queryData_=e,this.queryData_.setIgnoreCase(this.ignoreCase_)):(t||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,null,this.ignoreCase_)),this},goog.Uri.prototype.setQuery=function(e,t){return this.setQueryData(e,t)},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()},goog.Uri.prototype.setParameterValue=function(e,t){return this.enforceReadOnly(),this.queryData_.set(e,t),this},goog.Uri.prototype.setParameterValues=function(e,t){return this.enforceReadOnly(),goog.isArray(t)||(t=[String(t)]),this.queryData_.setValues(e,t),this},goog.Uri.prototype.getParameterValues=function(e){return this.queryData_.getValues(e)},goog.Uri.prototype.getParameterValue=function(e){return this.queryData_.get(e)},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,t){return this.enforceReadOnly(),this.fragment_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.prototype.hasSameDomainAs=function(e){return!((this.hasDomain()||e.hasDomain())&&this.getDomain()!=e.getDomain()||(this.hasPort()||e.hasPort())&&this.getPort()!=e.getPort())},goog.Uri.prototype.makeUnique=function(){return this.enforceReadOnly(),this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString()),this},goog.Uri.prototype.removeParameter=function(e){return this.enforceReadOnly(),this.queryData_.remove(e),this},goog.Uri.prototype.setReadOnly=function(e){return this.isReadOnly_=e,this},goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_},goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri")},goog.Uri.prototype.setIgnoreCase=function(e){return this.ignoreCase_=e,this.queryData_&&this.queryData_.setIgnoreCase(e),this},goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_},goog.Uri.parse=function(e,t){return e instanceof goog.Uri?e.clone():new goog.Uri(e,t)},goog.Uri.create=function(e,t,r,o,n,i,a,s){return s=new goog.Uri(null,s),e&&s.setScheme(e),t&&s.setUserInfo(t),r&&s.setDomain(r),o&&s.setPort(o),n&&s.setPath(n),i&&s.setQueryData(i),a&&s.setFragment(a),s},goog.Uri.resolve=function(e,t){return e instanceof goog.Uri||(e=goog.Uri.parse(e)),t instanceof goog.Uri||(t=goog.Uri.parse(t)),e.resolve(t)},goog.Uri.removeDotSegments=function(e){if(".."==e||"."==e)return"";if(goog.string.contains(e,"./")||goog.string.contains(e,"/.")){var t=goog.string.startsWith(e,"/");e=e.split("/");for(var r=[],o=0;o<e.length;){var n=e[o++];"."==n?t&&o==e.length&&r.push(""):".."==n?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),t&&o==e.length&&r.push("")):(r.push(n),t=!0)}return r.join("/")}return e},goog.Uri.decodeOrEmpty_=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,t,r){return goog.isString(e)?(e=encodeURI(e).replace(t,goog.Uri.encodeChar_),r&&(e=goog.Uri.removeDoubleEncoding_(e)),e):null},goog.Uri.encodeChar_=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},goog.Uri.removeDoubleEncoding_=function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\\/\\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[\\#\\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[\\#\\?]/g,goog.Uri.reDisallowedInQuery_=/[\\#\\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.haveSameDomain=function(e,t){var r=goog.uri.utils.split(e),o=goog.uri.utils.split(t);return r[goog.uri.utils.ComponentIndex.DOMAIN]==o[goog.uri.utils.ComponentIndex.DOMAIN]&&r[goog.uri.utils.ComponentIndex.PORT]==o[goog.uri.utils.ComponentIndex.PORT]},goog.Uri.QueryData=function(e,t,r){this.count_=this.keyMap_=null,this.encodedQuery_=e||null,this.ignoreCase_=!!r},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new goog.structs.Map,this.count_=0,this.encodedQuery_)){var e=this;goog.uri.utils.parseQueryData(this.encodedQuery_,(function(t,r){e.add(goog.string.urlDecode(t),r)}))}},goog.Uri.QueryData.createFromMap=function(e,t,r){if(void 0===(t=goog.structs.getKeys(e)))throw Error("Keys are undefined");r=new goog.Uri.QueryData(null,null,r),e=goog.structs.getValues(e);for(var o=0;o<t.length;o++){var n=t[o],i=e[o];goog.isArray(i)?r.setValues(n,i):r.add(n,i)}return r},goog.Uri.QueryData.createFromKeysValues=function(e,t,r,o){if(e.length!=t.length)throw Error("Mismatched lengths for keys/values");for(r=new goog.Uri.QueryData(null,null,o),o=0;o<e.length;o++)r.add(e[o],t[o]);return r},goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,t){this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e);var r=this.keyMap_.get(e);return r||this.keyMap_.set(e,r=[]),r.push(t),this.count_=goog.asserts.assertNumber(this.count_)+1,this},goog.Uri.QueryData.prototype.remove=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),!!this.keyMap_.containsKey(e)&&(this.invalidateCache_(),this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(e).length,this.keyMap_.remove(e))},goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_(),this.keyMap_=null,this.count_=0},goog.Uri.QueryData.prototype.isEmpty=function(){return this.ensureKeyMapInitialized_(),0==this.count_},goog.Uri.QueryData.prototype.containsKey=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.containsKey(e)},goog.Uri.QueryData.prototype.containsValue=function(e){var t=this.getValues();return goog.array.contains(t,e)},goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var e=this.keyMap_.getValues(),t=this.keyMap_.getKeys(),r=[],o=0;o<t.length;o++)for(var n=e[o],i=0;i<n.length;i++)r.push(t[o]);return r},goog.Uri.QueryData.prototype.getValues=function(e){this.ensureKeyMapInitialized_();var t=[];if(goog.isString(e))this.containsKey(e)&&(t=goog.array.concat(t,this.keyMap_.get(this.getKeyName_(e))));else{e=this.keyMap_.getValues();for(var r=0;r<e.length;r++)t=goog.array.concat(t,e[r])}return t},goog.Uri.QueryData.prototype.set=function(e,t){return this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e),this.containsKey(e)&&(this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(e).length),this.keyMap_.set(e,[t]),this.count_=goog.asserts.assertNumber(this.count_)+1,this},goog.Uri.QueryData.prototype.get=function(e,t){var r=e?this.getValues(e):[];return goog.Uri.preserveParameterTypesCompatibilityFlag?0<r.length?r[0]:t:0<r.length?String(r[0]):t},goog.Uri.QueryData.prototype.setValues=function(e,t){this.remove(e),0<t.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(e),goog.array.clone(t)),this.count_=goog.asserts.assertNumber(this.count_)+t.length)},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var e=[],t=this.keyMap_.getKeys(),r=0;r<t.length;r++)for(var o=t[r],n=goog.string.urlEncode(o),i=(o=this.getValues(o),0);i<o.length;i++){var a=n;""!==o[i]&&(a+="="+goog.string.urlEncode(o[i])),e.push(a)}return this.encodedQuery_=e.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null},goog.Uri.QueryData.prototype.filterKeys=function(e){return this.ensureKeyMapInitialized_(),this.keyMap_.forEach((function(t,r){goog.array.contains(e,r)||this.remove(r)}),this),this},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;return e.encodedQuery_=this.encodedQuery_,this.keyMap_&&(e.keyMap_=this.keyMap_.clone(),e.count_=this.count_),e},goog.Uri.QueryData.prototype.getKeyName_=function(e){return e=String(e),this.ignoreCase_&&(e=e.toLowerCase()),e},goog.Uri.QueryData.prototype.setIgnoreCase=function(e){e&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach((function(e,t){var r=t.toLowerCase();t!=r&&(this.remove(t),this.setValues(r,e))}),this)),this.ignoreCase_=e},goog.Uri.QueryData.prototype.extend=function(e){for(var t=0;t<arguments.length;t++)goog.structs.forEach(arguments[t],(function(e,t){this.add(t,e)}),this)},goog.soy={},goog.soy.data={},goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:goog.DEBUG?{sanitizedContentJsChars:!0}:{},URI:goog.DEBUG?{sanitizedContentUri:!0}:{},TRUSTED_RESOURCE_URI:goog.DEBUG?{sanitizedContentTrustedResourceUri:!0}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:goog.DEBUG?{sanitizedContentCss:!0}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:!0}:{}},goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},goog.soy.data.SanitizedContent.prototype.contentDir=null,goog.soy.data.SanitizedContent.prototype.getContent=function(){return this.content},goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content},goog.soy.data.SanitizedContent.prototype.toSafeHtml=function(){if(this.contentKind===goog.soy.data.SanitizedContentKind.TEXT)return goog.html.SafeHtml.htmlEscape(this.toString());if(this.contentKind!==goog.soy.data.SanitizedContentKind.HTML)throw Error("Sanitized content was not of kind TEXT or HTML.");return goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Soy SanitizedContent of kind HTML produces SafeHtml-contract-compliant value."),this.toString(),this.contentDir)},goog.soy.data.SanitizedContent.prototype.toSafeUrl=function(){if(this.contentKind!==goog.soy.data.SanitizedContentKind.URI)throw Error("Sanitized content was not of kind URI.");return goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Soy SanitizedContent of kind URI produces SafeHtml-contract-compliant value."),this.toString())},goog.soy.data.UnsanitizedText=function(e,t){this.content=String(e),this.contentDir=null!=t?t:null},goog.inherits(goog.soy.data.UnsanitizedText,goog.soy.data.SanitizedContent),goog.soy.data.UnsanitizedText.prototype.contentKind=goog.soy.data.SanitizedContentKind.TEXT,goog.soy.data.SanitizedHtml=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(goog.soy.data.SanitizedHtml,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedHtml.prototype.contentKind=goog.soy.data.SanitizedContentKind.HTML,goog.soy.data.SanitizedHtml.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedHtml||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.SafeHtml},goog.soy.data.SanitizedJs=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(goog.soy.data.SanitizedJs,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedJs.prototype.contentKind=goog.soy.data.SanitizedContentKind.JS,goog.soy.data.SanitizedJs.prototype.contentDir=goog.i18n.bidi.Dir.LTR,goog.soy.data.SanitizedJs.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedJs||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.SafeScript},goog.soy.data.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(goog.soy.data.SanitizedUri,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedUri.prototype.contentKind=goog.soy.data.SanitizedContentKind.URI,goog.soy.data.SanitizedUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR,goog.soy.data.SanitizedUri.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedUri||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.SafeUrl||e instanceof goog.html.TrustedResourceUrl||e instanceof goog.Uri},goog.soy.data.SanitizedTrustedResourceUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(goog.soy.data.SanitizedTrustedResourceUri,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedTrustedResourceUri.prototype.contentKind=goog.soy.data.SanitizedContentKind.TRUSTED_RESOURCE_URI,goog.soy.data.SanitizedTrustedResourceUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR,goog.soy.data.SanitizedTrustedResourceUri.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedTrustedResourceUri||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.TrustedResourceUrl},goog.soy.data.SanitizedHtmlAttribute=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(goog.soy.data.SanitizedHtmlAttribute,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedHtmlAttribute.prototype.contentKind=goog.soy.data.SanitizedContentKind.ATTRIBUTES,goog.soy.data.SanitizedHtmlAttribute.prototype.contentDir=goog.i18n.bidi.Dir.LTR,goog.soy.data.SanitizedHtmlAttribute.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedHtmlAttribute||e instanceof goog.soy.data.UnsanitizedText},goog.soy.data.SanitizedCss=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(goog.soy.data.SanitizedCss,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedCss.prototype.contentKind=goog.soy.data.SanitizedContentKind.CSS,goog.soy.data.SanitizedCss.prototype.contentDir=goog.i18n.bidi.Dir.LTR,goog.soy.data.SanitizedCss.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedCss||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.SafeStyle},goog.soy.REQUIRE_STRICT_AUTOESCAPE=!1,goog.soy.renderHtml=function(e,t){e.innerHTML=goog.soy.ensureTemplateOutputHtml_(t)},goog.soy.renderElement=function(e,t,r,o){goog.asserts.assert(t,"Soy template may not be null."),e.innerHTML=goog.soy.ensureTemplateOutputHtml_(t(r||goog.soy.defaultTemplateData_,void 0,o))},goog.soy.renderAsFragment=function(e,t,r,o){return goog.asserts.assert(e,"Soy template may not be null."),o=o||goog.dom.getDomHelper(),e=e(t||goog.soy.defaultTemplateData_,void 0,r),t=goog.soy.ensureTemplateOutputHtml_(e),goog.soy.assertFirstTagValid_(t),e=e instanceof goog.soy.data.SanitizedContent?e.toSafeHtml():goog.html.legacyconversions.safeHtmlFromString(t),o.safeHtmlToNode(e)},goog.soy.renderAsElement=function(e,t,r,o){return goog.asserts.assert(e,"Soy template may not be null."),goog.soy.convertToElement_(e(t||goog.soy.defaultTemplateData_,void 0,r),o)},goog.soy.convertToElement=function(e,t){return goog.soy.convertToElement_(e,t)},goog.soy.convertToElement_=function(e,t){var r=(t||goog.dom.getDomHelper()).createElement("DIV"),o=goog.soy.ensureTemplateOutputHtml_(e);return goog.soy.assertFirstTagValid_(o),r.innerHTML=o,1==r.childNodes.length&&(o=r.firstChild).nodeType==goog.dom.NodeType.ELEMENT?o:r},goog.soy.ensureTemplateOutputHtml_=function(e){if(!goog.soy.REQUIRE_STRICT_AUTOESCAPE&&!goog.isObject(e))return String(e);if(e instanceof goog.soy.data.SanitizedContent){var t=goog.soy.data.SanitizedContentKind;if(e.contentKind===t.HTML)return goog.asserts.assertString(e.getContent());if(e.contentKind===t.TEXT)return goog.string.htmlEscape(e.getContent())}return goog.asserts.fail("Soy template output is unsafe for use as HTML: "+e),"zSoyz"},goog.soy.assertFirstTagValid_=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=e.match(goog.soy.INVALID_TAG_TO_RENDER_);goog.asserts.assert(!t,"This template starts with a %s, which cannot be a child of a <div>, as required by soy internals. Consider using goog.soy.renderElement instead.\\nTemplate output: %s",t&&t[0],e)}},goog.soy.INVALID_TAG_TO_RENDER_=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,goog.soy.defaultTemplateData_={},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,r){if(this.buffer_+=String(e),null!=t)for(var o=1;o<arguments.length;o++)this.buffer_+=arguments[o];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};var soy={asserts:{},esc:{}},soydata={VERY_UNSAFE:{}};soy.StringBuilder=goog.string.StringBuffer,soydata.isContentKind_=function(e,t){return null!=e&&e.contentKind===t},soydata.getContentDir=function(e){if(null!=e)switch(e.contentDir){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Dir.LTR;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Dir.RTL;case goog.i18n.bidi.Dir.NEUTRAL:return goog.i18n.bidi.Dir.NEUTRAL}return null},soydata.SanitizedHtml=function(){goog.soy.data.SanitizedHtml.call(this)},goog.inherits(soydata.SanitizedHtml,goog.soy.data.SanitizedHtml),soydata.SanitizedHtml.from=function(e){return null!=e&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedHtml||e.constructor===soydata.SanitizedHtml),e):e instanceof goog.html.SafeHtml?soydata.VERY_UNSAFE.ordainSanitizedHtml(goog.html.SafeHtml.unwrap(e),e.getDirection()):soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.esc.$$escapeHtmlHelper(String(e)),soydata.getContentDir(e))},soydata.SanitizedHtml.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedHtml||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.SafeHtml},soydata.$$EMPTY_STRING_={VALUE:""},soydata.$$makeSanitizedContentFactory_=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,r){var o=new t(String(e));return void 0!==r&&(o.contentDir=r),o}},soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}},soydata.markUnsanitizedText=function(e,t){return new goog.soy.data.UnsanitizedText(e,t)},soydata.VERY_UNSAFE.ordainSanitizedHtml=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.ordainSanitizedJs=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(goog.soy.data.SanitizedJs),soydata.VERY_UNSAFE.ordainSanitizedUri=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(goog.soy.data.SanitizedUri),soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(goog.soy.data.SanitizedTrustedResourceUri),soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(goog.soy.data.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.ordainSanitizedCss=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(goog.soy.data.SanitizedCss),soy.renderElement=goog.soy.renderElement,soy.renderAsFragment=function(e,t,r,o){return goog.soy.renderAsFragment(e,t,o,new goog.dom.DomHelper(r))},soy.renderAsElement=function(e,t,r,o){return goog.soy.renderAsElement(e,t,o,new goog.dom.DomHelper(r))},soy.$$IS_LOCALE_RTL=goog.i18n.bidi.IS_RTL,soy.$$augmentMap=function(e,t){return soy.$$assignDefaults(soy.$$assignDefaults({},t),e)},soy.$$assignDefaults=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},soy.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal\'s key expression must evaluate to string (encountered type \\""+typeof e+\'").\');return e},soy.$$getMapKeys=function(e){var t,r=[];for(t in e)r.push(t);return r},soy.$$checkNotNull=function(e){if(null==e)throw Error("unexpected null value");return e},soy.$$parseInt=function(e){return e=parseInt(e,10),isNaN(e)?null:e},soy.$$getDelTemplateId=function(e){return e},soy.$$DELEGATE_REGISTRY_PRIORITIES_={},soy.$$DELEGATE_REGISTRY_FUNCTIONS_={},soy.$$registerDelegateFn=function(e,t,r,o){var n="key_"+e+":"+t,i=soy.$$DELEGATE_REGISTRY_PRIORITIES_[n];if(void 0===i||r>i)soy.$$DELEGATE_REGISTRY_PRIORITIES_[n]=r,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[n]=o;else if(r==i)throw Error(\'Encountered two active delegates with the same priority ("\'+e+":"+t+\'").\')},soy.$$getDelegateFn=function(e,t,r){var o=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"+t];if(o||""==t||(o=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"]),o)return o;if(r)return soy.$$EMPTY_TEMPLATE_FN_;throw Error(\'Found no active impl for delegate call to "\'+e+":"+t+\'" (and not allowemptydefault="true").\')},soy.$$EMPTY_TEMPLATE_FN_=function(e,t,r){return""},soydata.$$makeSanitizedContentFactoryForInternalBlocks_=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,r){var o=String(e);return o?(o=new t(o),void 0!==r&&(o.contentDir=r),o):soydata.$$EMPTY_STRING_.VALUE}},soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return(e=String(e))?new t(e):soydata.$$EMPTY_STRING_.VALUE}},soydata.$$markUnsanitizedTextForInternalBlocks=function(e,t){var r=String(e);return r?new goog.soy.data.UnsanitizedText(r,t):soydata.$$EMPTY_STRING_.VALUE},soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=soydata.$$makeSanitizedContentFactoryForInternalBlocks_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(goog.soy.data.SanitizedJs),soydata.VERY_UNSAFE.$$ordainSanitizedTrustedResourceUriForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(goog.soy.data.SanitizedTrustedResourceUri),soydata.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(goog.soy.data.SanitizedUri),soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(goog.soy.data.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(goog.soy.data.SanitizedCss),soy.$$escapeHtml=function(e){return soydata.SanitizedHtml.from(e)},soy.$$cleanHtml=function(e,t){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedHtml||e.constructor===soydata.SanitizedHtml),e):(t?(r=goog.object.createSet(t),goog.object.extend(r,soy.esc.$$SAFE_TAG_WHITELIST_)):r=soy.esc.$$SAFE_TAG_WHITELIST_,soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$stripHtmlTags(e,r),soydata.getContentDir(e)));var r},soy.$$normalizeHtml=function(e){return soy.esc.$$normalizeHtmlHelper(e)},soy.$$escapeHtmlRcdata=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedHtml||e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(e.getContent())):soy.esc.$$escapeHtmlHelper(e)},soy.$$HTML5_VOID_ELEMENTS_=/^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b/,soy.$$stripHtmlTags=function(e,t){if(!t)return String(e).replace(soy.esc.$$HTML_TAG_REGEX_,"").replace(soy.esc.$$LT_REGEX_,"&lt;");var r=String(e).replace(/\\[/g,"&#91;"),o=[],n=[],i=(r=r.replace(soy.esc.$$HTML_TAG_REGEX_,(function(e,r){if(r&&(r=r.toLowerCase(),t.hasOwnProperty(r)&&t[r])){var i="/"==e.charAt(1),a=o.length,s="</",u="";if(!i){for(s="<";i=soy.esc.$$HTML_ATTRIBUTE_REGEX_.exec(e);)if(i[1]&&"dir"==i[1].toLowerCase()){(i=i[2])&&("\'"!=i.charAt(0)&&\'"\'!=i.charAt(0)||(i=i.substr(1,i.length-2)),"ltr"!=(i=i.toLowerCase())&&"rtl"!=i&&"auto"!=i||(u=\' dir="\'+i+\'"\'));break}soy.esc.$$HTML_ATTRIBUTE_REGEX_.lastIndex=0}return o[a]=s+r+">",n[a]=u,"["+a+"]"}return""})),r=soy.esc.$$normalizeHtmlHelper(r),soy.$$balanceTags_(o));r=r.replace(/\\[(\\d+)\\]/g,(function(e,t){return n[t]&&o[t]?o[t].substr(0,o[t].length-1)+n[t]+">":o[t]}));return r+i},soy.$$embedCssIntoHtml_=function(e){return e.replace(/<\\//g,"<\\\\/").replace(/\\]\\]>/g,"]]\\\\>")},soy.$$balanceTags_=function(e){for(var t=[],r=0,o=e.length;r<o;++r){var n=e[r];"/"==n.charAt(1)?0>(n=goog.array.lastIndexOf(t,n))?e[r]="":(e[r]=t.slice(n).reverse().join(""),t.length=n):"<li>"==n&&0>goog.array.lastIndexOf(t,"</ol>")&&0>goog.array.lastIndexOf(t,"</ul>")?e[r]="":soy.$$HTML5_VOID_ELEMENTS_.test(n)||t.push("</"+n.substring(1))}return t.reverse().join("")},soy.$$escapeHtmlAttribute=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedHtml||e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(e.getContent()))):soy.esc.$$escapeHtmlHelper(e)},soy.$$escapeHtmlAttributeNospace=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedHtml||e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(e.getContent()))):soy.esc.$$escapeHtmlNospaceHelper(e)},soy.$$filterHtmlAttributes=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.ATTRIBUTES)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedHtmlAttribute),e.getContent().replace(/([^"\'\\s])$/,"$1 ")):soy.esc.$$filterHtmlAttributesHelper(e)},soy.$$filterHtmlElementName=function(e){return soy.esc.$$filterHtmlElementNameHelper(e)},soy.$$escapeJs=function(e){return soy.$$escapeJsString(e)},soy.$$escapeJsString=function(e){return soy.esc.$$escapeJsStringHelper(e)},soy.$$escapeJsValue=function(e){if(null==e)return" null ";if(soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.JS))return goog.asserts.assert(e.constructor===goog.soy.data.SanitizedJs),e.getContent();if(e instanceof goog.html.SafeScript)return goog.html.SafeScript.unwrap(e);switch(typeof e){case"boolean":case"number":return" "+e+" ";default:return"\'"+soy.esc.$$escapeJsStringHelper(String(e))+"\'"}},soy.$$escapeJsRegex=function(e){return soy.esc.$$escapeJsRegexHelper(e)},soy.$$problematicUriMarks_=/[\'()]/g,soy.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},soy.$$escapeUri=function(e){return e=soy.esc.$$escapeUriHelper(e),soy.$$problematicUriMarks_.lastIndex=0,soy.$$problematicUriMarks_.test(e)?e.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):e},soy.$$normalizeUri=function(e){return soy.esc.$$normalizeUriHelper(e)},soy.$$filterNormalizeUri=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.URI)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedUri),soy.$$normalizeUri(e)):soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.TRUSTED_RESOURCE_URI)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedTrustedResourceUri),soy.$$normalizeUri(e)):e instanceof goog.html.SafeUrl?soy.$$normalizeUri(goog.html.SafeUrl.unwrap(e)):e instanceof goog.html.TrustedResourceUrl?soy.$$normalizeUri(goog.html.TrustedResourceUrl.unwrap(e)):soy.esc.$$filterNormalizeUriHelper(e)},soy.$$filterNormalizeMediaUri=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.URI)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedUri),soy.$$normalizeUri(e)):soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.TRUSTED_RESOURCE_URI)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedTrustedResourceUri),soy.$$normalizeUri(e)):e instanceof goog.html.SafeUrl?soy.$$normalizeUri(goog.html.SafeUrl.unwrap(e)):e instanceof goog.html.TrustedResourceUrl?soy.$$normalizeUri(goog.html.TrustedResourceUrl.unwrap(e)):soy.esc.$$filterNormalizeMediaUriHelper(e)},soy.$$filterTrustedResourceUri=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.TRUSTED_RESOURCE_URI)?(goog.asserts.assert(e.constructor===goog.soy.data.SanitizedTrustedResourceUri),e.getContent()):e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(e):(goog.asserts.fail("Bad value `%s` for |filterTrustedResourceUri",[String(e)]),"about:invalid#zSoyz")},soy.$$blessStringAsTrustedResourceUrlForLegacy=function(e){return e},soy.$$filterImageDataUri=function(e){return soydata.VERY_UNSAFE.ordainSanitizedUri(soy.esc.$$filterImageDataUriHelper(e))},soy.$$filterTelUri=function(e){return soydata.VERY_UNSAFE.ordainSanitizedUri(soy.esc.$$filterTelUriHelper(e))},soy.$$escapeCssString=function(e){return soy.esc.$$escapeCssStringHelper(e)},soy.$$filterCssValue=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.CSS)?(goog.asserts.assertInstanceof(e,goog.soy.data.SanitizedCss),soy.$$embedCssIntoHtml_(e.getContent())):null==e?"":e instanceof goog.html.SafeStyle?soy.$$embedCssIntoHtml_(goog.html.SafeStyle.unwrap(e)):e instanceof goog.html.SafeStyleSheet?soy.$$embedCssIntoHtml_(goog.html.SafeStyleSheet.unwrap(e)):soy.esc.$$filterCssValueHelper(e)},soy.$$filterCspNonceValue=function(e){return soy.esc.$$filterCspNonceValueHelper(e)},soy.$$filterNoAutoescape=function(e){return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.TEXT)?(goog.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.getContent()]),"zSoyz"):e},soy.$$changeNewlineToBr=function(e){var t=goog.string.newLineToBr(String(e),!1);return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.HTML)?soydata.VERY_UNSAFE.ordainSanitizedHtml(t,soydata.getContentDir(e)):t},soy.$$insertWordBreaks=function(e,t){var r=goog.format.insertWordBreaks(String(e),t);return soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.HTML)?soydata.VERY_UNSAFE.ordainSanitizedHtml(r,soydata.getContentDir(e)):r},soy.$$truncate=function(e,t,r){return(e=String(e)).length<=t||(r&&(3<t?t-=3:r=!1),soy.$$isHighSurrogate_(e.charCodeAt(t-1))&&soy.$$isLowSurrogate_(e.charCodeAt(t))&&--t,e=e.substring(0,t),r&&(e+="...")),e},soy.$$isHighSurrogate_=function(e){return 55296<=e&&56319>=e},soy.$$isLowSurrogate_=function(e){return 56320<=e&&57343>=e},soy.$$bidiFormatterCache_={},soy.$$getBidiFormatterInstance_=function(e){return soy.$$bidiFormatterCache_[e]||(soy.$$bidiFormatterCache_[e]=new goog.i18n.BidiFormatter(e))},soy.$$bidiTextDir=function(e,t){var r=soydata.getContentDir(e);return null!=r?r:(r=t||soydata.isContentKind_(e,goog.soy.data.SanitizedContentKind.HTML),goog.i18n.bidi.estimateDirection(e+"",r))},soy.$$bidiDirAttr=function(e,t,r){e=soy.$$getBidiFormatterInstance_(e);var o=soydata.getContentDir(t);return null==o&&(r=r||soydata.isContentKind_(t,goog.soy.data.SanitizedContentKind.HTML),o=goog.i18n.bidi.estimateDirection(t+"",r)),soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute(e.knownDirAttr(o))},soy.$$bidiMarkAfter=function(e,t,r){return e=soy.$$getBidiFormatterInstance_(e),r=r||soydata.isContentKind_(t,goog.soy.data.SanitizedContentKind.HTML),e.markAfterKnownDir(soydata.getContentDir(t),t+"",r)},soy.$$bidiSpanWrap=function(e,t){var r=soy.$$getBidiFormatterInstance_(e),o=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Soy |bidiSpanWrap is applied on an autoescaped text."),String(t));r=r.spanWrapSafeHtmlWithKnownDir(soydata.getContentDir(t),o);return goog.html.SafeHtml.unwrap(r)},soy.$$bidiUnicodeWrap=function(e,t){var r=soy.$$getBidiFormatterInstance_(e),o=soydata.isContentKind_(t,goog.soy.data.SanitizedContentKind.HTML),n=r.unicodeWrapWithKnownDir(soydata.getContentDir(t),t+"",o);r=r.getContextDir();return soydata.isContentKind_(t,goog.soy.data.SanitizedContentKind.TEXT)?new goog.soy.data.UnsanitizedText(n,r):o?soydata.VERY_UNSAFE.ordainSanitizedHtml(n,r):n},soy.asserts.assertType=function(e,t,r,o){return goog.asserts.ENABLE_ASSERTS&&!e&&(e="expected param "+t+" of type "+o+(goog.DEBUG?", but got "+goog.debug.runtimeType(r):"")+".",goog.asserts.fail(e)),r},soy.esc.$$escapeHtmlHelper=function(e){return goog.string.htmlEscape(String(e))},soy.esc.$$escapeUriHelper=function(e){return goog.string.urlEncode(String(e))},soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\\0":"&#0;","\\t":"&#9;","\\n":"&#10;","\\v":"&#11;","\\f":"&#12;","\\r":"&#13;"," ":"&#32;",\'"\':"&quot;","&":"&amp;","\'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\\u2028":"&#8232;","\\u2029":"&#8233;"},soy.esc.$$REPLACER_FOR_NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\\0":"\\\\x00","\\b":"\\\\x08","\\t":"\\\\t","\\n":"\\\\n","\\v":"\\\\x0b","\\f":"\\\\f","\\r":"\\\\r",\'"\':"\\\\x22",$:"\\\\x24","&":"\\\\x26","\'":"\\\\x27","(":"\\\\x28",")":"\\\\x29","*":"\\\\x2a","+":"\\\\x2b",",":"\\\\x2c","-":"\\\\x2d",".":"\\\\x2e","/":"\\\\/",":":"\\\\x3a","<":"\\\\x3c","=":"\\\\x3d",">":"\\\\x3e","?":"\\\\x3f","[":"\\\\x5b","\\\\":"\\\\\\\\","]":"\\\\x5d","^":"\\\\x5e","{":"\\\\x7b","|":"\\\\x7c","}":"\\\\x7d","":"\\\\x85","\\u2028":"\\\\u2028","\\u2029":"\\\\u2029"},soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\\0":"\\\\0 ","\\b":"\\\\8 ","\\t":"\\\\9 ","\\n":"\\\\a ","\\v":"\\\\b ","\\f":"\\\\c ","\\r":"\\\\d ",\'"\':"\\\\22 ","&":"\\\\26 ","\'":"\\\\27 ","(":"\\\\28 ",")":"\\\\29 ","*":"\\\\2a ","/":"\\\\2f ",":":"\\\\3a ",";":"\\\\3b ","<":"\\\\3c ","=":"\\\\3d ",">":"\\\\3e ","@":"\\\\40 ","\\\\":"\\\\5c ","{":"\\\\7b ","}":"\\\\7d ","":"\\\\85 ","":"\\\\a0 ","\\u2028":"\\\\2028 ","\\u2029":"\\\\2029 "},soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[e]},soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_={"\\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\\b":"%08","\\t":"%09","\\n":"%0A","\\v":"%0B","\\f":"%0C","\\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",\'"\':"%22","\'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\\u2028":"%E2%80%A8","\\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"},soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_[e]},soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\\x00\\x22\\x27\\x3c\\x3e]/g,soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\\x00\\x09-\\x0d \\x22\\x26\\x27\\x2d\\/\\x3c-\\x3e`\\x85\\xa0\\u2028\\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\\x00\\x09-\\x0d \\x22\\x27\\x2d\\/\\x3c-\\x3e`\\x85\\xa0\\u2028\\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\\x00\\x08-\\x0d\\x22\\x26\\x27\\/\\x3c-\\x3e\\\\\\x85\\u2028\\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\\x00\\x08-\\x0d\\x22\\x24\\x26-\\/\\x3a\\x3c-\\x3f\\x5b-\\x5e\\x7b-\\x7d\\x85\\u2028\\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\\x00\\x08-\\x0d\\x22\\x26-\\x2a\\/\\x3a-\\x3e@\\\\\\x7b\\x7d\\x85\\xa0\\u2028\\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_=/[\\x00- \\x22\\x27-\\x29\\x3c\\x3e\\\\\\x7b\\x7d\\x7f\\x85\\xa0\\u2028\\u2029\\uff01\\uff03\\uff04\\uff06-\\uff0c\\uff0f\\uff1a\\uff1b\\uff1d\\uff1f\\uff20\\uff3b\\uff3d]/g,soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|(?:rgb|hsl)a?\\([0-9.%,\\u0020]+\\)|-?(?:[0-9]+(?:\\.[0-9]*)?|\\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,soy.esc.$$FILTER_FOR_FILTER_CSP_NONCE_VALUE_=/^[a-zA-Z0-9+\\/]+=*$/,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?![^#?]*\\/(?:\\.|%2E){2}(?:[\\/?#]|$))(?:(?:https?|mailto):|[^&:\\/?#]*(?:[\\/?#]|$))/i,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_MEDIA_URI_=/^[^&:\\/?#]*(?:[\\/?#]|$)|^https?:|^data:image\\/[a-z0-9+]+;base64,[a-z0-9+\\/]+=*$|^blob:/i,soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\\/]+=*$/i,soy.esc.$$FILTER_FOR_FILTER_TEL_URI_=/^tel:[0-9a-z;=\\-+._!~*\'\\u0020\\/():&$#?@,]+$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!on|src|(?:style|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|usemap)\\s*$)(?:[a-z0-9_$:-]*)$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,soy.esc.$$normalizeHtmlHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeHtmlNospaceHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlNospaceHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeJsStringHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeJsRegexHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeCssStringHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},soy.esc.$$filterCssValueHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterCssValue",[e]),"zSoyz")},soy.esc.$$normalizeUriHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_)},soy.esc.$$filterCspNonceValueHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_CSP_NONCE_VALUE_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterCspNonceValue",[e]),"zSoyz")},soy.esc.$$filterNormalizeUriHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(e)?e.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_):(goog.asserts.fail("Bad value `%s` for |filterNormalizeUri",[e]),"about:invalid#zSoyz")},soy.esc.$$filterNormalizeMediaUriHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_MEDIA_URI_.test(e)?e.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_):(goog.asserts.fail("Bad value `%s` for |filterNormalizeMediaUri",[e]),"about:invalid#zSoyz")},soy.esc.$$filterImageDataUriHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterImageDataUri",[e]),"data:image/gif;base64,zSoyz")},soy.esc.$$filterTelUriHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_TEL_URI_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterTelUri",[e]),"about:invalid#zSoyz")},soy.esc.$$filterHtmlAttributesHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterHtmlAttributes",[e]),"zSoyz")},soy.esc.$$filterHtmlElementNameHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterHtmlElementName",[e]),"zSoyz")},soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\\/?([a-zA-Z][a-zA-Z0-9:\\-]*))(?:[^>\'"]|"[^"]*"|\'[^\']*\')*>/g,soy.esc.$$LT_REGEX_=/</g,soy.esc.$$SAFE_TAG_WHITELIST_={b:!0,br:!0,em:!0,i:!0,s:!0,sub:!0,sup:!0,u:!0},soy.esc.$$HTML_ATTRIBUTE_REGEX_=/([a-zA-Z][a-zA-Z0-9:\\-]*)[\\t\\n\\r\\u0020]*=[\\t\\n\\r\\u0020]*("[^"]*"|\'[^\']*\')/g,__global=__global||this,__global.soy=soy,__global.soydata=soydata})(module.exports={})},8434:function(e,t,r){"use strict";var o=r(8052),n=r(321),i=o.WeakMap;e.exports=n(i)&&/native code/.test(String(i))},8438:function(e,t,r){"use strict";var o=r(2484),n=r(4334);e.exports=function(e,t,r){try{return o(n(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},8493:function(e,t){var r,o,n;o=[],void 0===(n="function"==typeof(r=function(){"use strict";var e=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function t(e){return e.split("").reverse().join("")}function r(e,t){return e.substring(0,t.length)===t}function o(e,t){return e.slice(-1*t.length)===t}function n(e,t,r){if((e[t]||e[r])&&e[t]===e[r])throw new Error(t)}function i(e){return"number"==typeof e&&isFinite(e)}function a(e,t){return e=e.toString().split("e"),(+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(t)}function s(e,r,o,n,s,u,c,l,g,d,f,h){var p,m,y,b=h,E="",_="";return u&&(h=u(h)),!!i(h)&&(!1!==e&&0===parseFloat(h.toFixed(e))&&(h=0),h<0&&(p=!0,h=Math.abs(h)),!1!==e&&(h=a(h,e)),-1!==(h=h.toString()).indexOf(".")?(y=(m=h.split("."))[0],o&&(E=o+m[1])):y=h,r&&(y=t(y).match(/.{1,3}/g),y=t(y.join(t(r)))),p&&l&&(_+=l),n&&(_+=n),p&&g&&(_+=g),_+=y,_+=E,s&&(_+=s),d&&(_=d(_,b)),_)}function u(e,t,n,a,s,u,c,l,g,d,f,h){var p,m="";return f&&(h=f(h)),!(!h||"string"!=typeof h)&&(l&&r(h,l)&&(h=h.replace(l,""),p=!0),a&&r(h,a)&&(h=h.replace(a,"")),g&&r(h,g)&&(h=h.replace(g,""),p=!0),s&&o(h,s)&&(h=h.slice(0,-1*s.length)),t&&(h=h.split(t).join("")),n&&(h=h.replace(n,".")),p&&(m+="-"),""!==(m=(m+=h).replace(/[^0-9\\.\\-.]/g,""))&&(m=Number(m),c&&(m=c(m)),!!i(m)&&m))}function c(t){var r,o,i,a={};for(void 0===t.suffix&&(t.suffix=t.postfix),r=0;r<e.length;r+=1)if(void 0===(i=t[o=e[r]]))"negative"!==o||a.negativeBefore?"mark"===o&&"."!==a.thousand?a[o]=".":a[o]=!1:a[o]="-";else if("decimals"===o){if(!(i>=0&&i<8))throw new Error(o);a[o]=i}else if("encoder"===o||"decoder"===o||"edit"===o||"undo"===o){if("function"!=typeof i)throw new Error(o);a[o]=i}else{if("string"!=typeof i)throw new Error(o);a[o]=i}return n(a,"mark","thousand"),n(a,"prefix","negative"),n(a,"prefix","negativeBefore"),a}function l(t,r,o){var n,i=[];for(n=0;n<e.length;n+=1)i.push(t[e[n]]);return i.push(o),r.apply("",i)}function g(e){if(!(this instanceof g))return new g(e);"object"==typeof e&&(e=c(e),this.to=function(t){return l(e,s,t)},this.from=function(t){return l(e,u,t)})}return g})?r.apply(t,o):r)||(e.exports=n)},8530:function(e,t,r){"use strict";var o=r(8810),n=r(9004),i=r(2404),a=r(1990),s=r(6417),u=a.Set,c=a.add;o({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=i(this),r=n(e,arguments.length>1?arguments[1]:void 0),o=new u;return s(t,(function(e){c(o,r(e,e,t))})),o}})},8563:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8649:function(e,t,r){"use strict";var o=r(4834),n=Object;e.exports=function(e){return n(o(e))}},8676:function(e,t,r){"use strict";var o=r(8810),n=r(3625),i=r(6007),a=r(4690),s=r(321),u=r(7270),c=r(5927),l=r(1715),g=r(8819),d=r(671),f=r(5236),h=r(4175),p=r(6609),m=r(3597),y=a.PROPER,b=a.CONFIGURABLE,E=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,S=h("iterator"),v="keys",T="values",A="entries",N=function(){return this};e.exports=function(e,t,r,a,h,m,C){u(r,t,a);var D,w,R,x=function(e){if(e===h&&L)return L;if(!_&&e&&e in k)return k[e];switch(e){case v:case T:case A:return function(){return new r(this,e)}}return function(){return new r(this)}},O=t+" Iterator",I=!1,k=e.prototype,M=k[S]||k["@@iterator"]||h&&k[h],L=!_&&M||x(h),$="Array"===t&&k.entries||M;if($&&(D=c($.call(new e)))!==Object.prototype&&D.next&&(i||c(D)===E||(l?l(D,E):s(D[S])||f(D,S,N)),g(D,O,!0,!0),i&&(p[O]=N)),y&&h===T&&M&&M.name!==T&&(!i&&b?d(k,"name",T):(I=!0,L=function(){return n(M,this)})),h)if(w={values:x(T),keys:m?L:x(v),entries:x(A)},C)for(R in w)(_||I||!(R in k))&&f(k,R,w[R]);else o({target:t,proto:!0,forced:_||I},w);return i&&!C||k[S]===L||f(k,S,L,{name:h}),p[t]=L,w}},8711:function(e,t,r){"use strict";var o=r(3625);e.exports=function(e,t,r){for(var n,i,a=r?e:e.iterator,s=e.next;!(n=o(s,a)).done;)if(void 0!==(i=t(n.value)))return i}},8754:function(e,t,r){"use strict";var o=r(2675);e.exports=function(e,t){var r=[][e];return!!r&&o((function(){r.call(null,t||function(){return 1},1)}))}},8770:function(e,t,r){"use strict";var o=r(3026);e.exports=function(e){return o(e.length)}},8785:function(e,t,r){"use strict";var o=r(1955).charAt;e.exports=function(e,t,r){return t+(r?o(e,t).length:1)}},8793:function(e,t,r){"use strict";var o=r(1248),n=r(9982),i=r(1360),a=r(6608),s=r(7446);function u(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var c=u(o),l=u(n);function g(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}const d=Object.prototype.hasOwnProperty;function f(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(r){e[r]=t[r]}))}})),e}function h(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function p(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function m(e){if(e>65535){const t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const y=/\\\\([!"#$%&\'()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~])/g,b=new RegExp(y.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),E=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function _(e){return e.indexOf("\\\\")<0&&e.indexOf("&")<0?e:e.replace(b,(function(e,t,r){return t||function(e,t){if(35===t.charCodeAt(0)&&E.test(t)){const r="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return p(r)?m(r):e}const r=i.decodeHTML(e);return r!==e?r:e}(e,r)}))}const S=/[&<>"]/,v=/[&<>"]/g,T={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;"};function A(e){return T[e]}function N(e){return S.test(e)?e.replace(v,A):e}const C=/[.?*+^$[\\]\\\\(){}|-]/g;function D(e){switch(e){case 9:case 32:return!0}return!1}function w(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function R(e){return l.P.test(e)||l.S.test(e)}function x(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function O(e){return e=e.trim().replace(/\\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const I={mdurl:c,ucmicro:l};var k=Object.freeze({__proto__:null,arrayReplaceAt:h,assign:f,escapeHtml:N,escapeRE:function(e){return e.replace(C,"\\\\$&")},fromCodePoint:m,has:function(e,t){return d.call(e,t)},isMdAsciiPunct:x,isPunctChar:R,isSpace:D,isString:g,isValidEntityCode:p,isWhiteSpace:w,lib:I,normalizeReference:O,unescapeAll:_,unescapeMd:function(e){return e.indexOf("\\\\")<0?e:e.replace(y,"$1")}});var M=Object.freeze({__proto__:null,parseLinkDestination:function(e,t,r){let o,n=t;const i={ok:!1,pos:0,str:""};if(60===e.charCodeAt(n)){for(n++;n<r;){if(o=e.charCodeAt(n),10===o)return i;if(60===o)return i;if(62===o)return i.pos=n+1,i.str=_(e.slice(t+1,n)),i.ok=!0,i;92===o&&n+1<r?n+=2:n++}return i}let a=0;for(;n<r&&(o=e.charCodeAt(n),32!==o)&&!(o<32||127===o);)if(92===o&&n+1<r){if(32===e.charCodeAt(n+1))break;n+=2}else{if(40===o&&(a++,a>32))return i;if(41===o){if(0===a)break;a--}n++}return t===n||0!==a||(i.str=_(e.slice(t,n)),i.pos=n,i.ok=!0),i},parseLinkLabel:function(e,t,r){let o,n,i,a;const s=e.posMax,u=e.pos;for(e.pos=t+1,o=1;e.pos<s;){if(i=e.src.charCodeAt(e.pos),93===i&&(o--,0===o)){n=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)o++;else if(r)return e.pos=u,-1}let c=-1;return n&&(c=e.pos),e.pos=u,c},parseLinkTitle:function(e,t,r,o){let n,i=t;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)a.str=o.str,a.marker=o.marker;else{if(i>=r)return a;let o=e.charCodeAt(i);if(34!==o&&39!==o&&40!==o)return a;t++,i++,40===o&&(o=41),a.marker=o}for(;i<r;){if(n=e.charCodeAt(i),n===a.marker)return a.pos=i+1,a.str+=_(e.slice(t,i)),a.ok=!0,a;if(40===n&&41===a.marker)return a;92===n&&i+1<r&&i++,i++}return a.can_continue=!0,a.str+=_(e.slice(t,i)),a}});const L={};function $(){this.rules=f({},L)}function F(){this.__rules__=[],this.__cache__=null}function U(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function P(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}L.code_inline=function(e,t,r,o,n){const i=e[t];return"<code"+n.renderAttrs(i)+">"+N(i.content)+"</code>"},L.code_block=function(e,t,r,o,n){const i=e[t];return"<pre"+n.renderAttrs(i)+"><code>"+N(e[t].content)+"</code></pre>\\n"},L.fence=function(e,t,r,o,n){const i=e[t],a=i.info?_(i.info).trim():"";let s,u="",c="";if(a){const e=a.split(/(\\s+)/g);u=e[0],c=e.slice(2).join("")}if(s=r.highlight&&r.highlight(i.content,u,c)||N(i.content),0===s.indexOf("<pre"))return s+"\\n";if(a){const e=i.attrIndex("class"),t=i.attrs?i.attrs.slice():[];e<0?t.push(["class",r.langPrefix+u]):(t[e]=t[e].slice(),t[e][1]+=" "+r.langPrefix+u);const o={attrs:t};return`<pre><code${n.renderAttrs(o)}>${s}</code></pre>\\n`}return`<pre><code${n.renderAttrs(i)}>${s}</code></pre>\\n`},L.image=function(e,t,r,o,n){const i=e[t];return i.attrs[i.attrIndex("alt")][1]=n.renderInlineAsText(i.children,r,o),n.renderToken(e,t,r)},L.hardbreak=function(e,t,r){return r.xhtmlOut?"<br />\\n":"<br>\\n"},L.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?"<br />\\n":"<br>\\n":"\\n"},L.text=function(e,t){return N(e[t].content)},L.html_block=function(e,t){return e[t].content},L.html_inline=function(e,t){return e[t].content},$.prototype.renderAttrs=function(e){let t,r,o;if(!e.attrs)return"";for(o="",t=0,r=e.attrs.length;t<r;t++)o+=" "+N(e.attrs[t][0])+\'="\'+N(e.attrs[t][1])+\'"\';return o},$.prototype.renderToken=function(e,t,r){const o=e[t];let n="";if(o.hidden)return"";o.block&&-1!==o.nesting&&t&&e[t-1].hidden&&(n+="\\n"),n+=(-1===o.nesting?"</":"<")+o.tag,n+=this.renderAttrs(o),0===o.nesting&&r.xhtmlOut&&(n+=" /");let i=!1;if(o.block&&(i=!0,1===o.nesting&&t+1<e.length)){const r=e[t+1];("inline"===r.type||r.hidden||-1===r.nesting&&r.tag===o.tag)&&(i=!1)}return n+=i?">\\n":">",n},$.prototype.renderInline=function(e,t,r){let o="";const n=this.rules;for(let i=0,a=e.length;i<a;i++){const a=e[i].type;void 0!==n[a]?o+=n[a](e,i,t,r,this):o+=this.renderToken(e,i,t)}return o},$.prototype.renderInlineAsText=function(e,t,r){let o="";for(let n=0,i=e.length;n<i;n++)switch(e[n].type){case"text":case"html_inline":case"html_block":o+=e[n].content;break;case"image":o+=this.renderInlineAsText(e[n].children,t,r);break;case"softbreak":case"hardbreak":o+="\\n"}return o},$.prototype.render=function(e,t,r){let o="";const n=this.rules;for(let i=0,a=e.length;i<a;i++){const a=e[i].type;"inline"===a?o+=this.renderInline(e[i].children,t,r):void 0!==n[a]?o+=n[a](e,i,t,r,this):o+=this.renderToken(e,i,t,r)}return o},F.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},F.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||e.__cache__[t].push(r.fn))}))}))},F.prototype.at=function(e,t,r){const o=this.__find__(e),n=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=n.alt||[],this.__cache__=null},F.prototype.before=function(e,t,r,o){const n=this.__find__(e),i=o||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},F.prototype.after=function(e,t,r,o){const n=this.__find__(e),i=o||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n+1,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},F.prototype.push=function(e,t,r){const o=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},F.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach((function(e){const o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!0,r.push(e)}),this),this.__cache__=null,r},F.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},F.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach((function(e){const o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!1,r.push(e)}),this),this.__cache__=null,r},F.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},U.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let r=0,o=t.length;r<o;r++)if(t[r][0]===e)return r;return-1},U.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},U.prototype.attrSet=function(e,t){const r=this.attrIndex(e),o=[e,t];r<0?this.attrPush(o):this.attrs[r]=o},U.prototype.attrGet=function(e){const t=this.attrIndex(e);let r=null;return t>=0&&(r=this.attrs[t][1]),r},U.prototype.attrJoin=function(e,t){const r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t},P.prototype.Token=U;const H=/\\r\\n?|\\n/g,j=/\\0/g;function B(e){return/^<\\/a\\s*>/i.test(e)}const q=/\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/,V=/\\((c|tm|r)\\)/i,G=/\\((c|tm|r)\\)/gi,z={c:"",r:"",tm:""};function Y(e,t){return z[t.toLowerCase()]}function W(e){let t=0;for(let r=e.length-1;r>=0;r--){const o=e[r];"text"!==o.type||t||(o.content=o.content.replace(G,Y)),"link_open"===o.type&&"auto"===o.info&&t--,"link_close"===o.type&&"auto"===o.info&&t++}}function K(e){let t=0;for(let r=e.length-1;r>=0;r--){const o=e[r];"text"!==o.type||t||q.test(o.content)&&(o.content=o.content.replace(/\\+-/g,"").replace(/\\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\\s)--(?=\\s|$)/gm,"$1").replace(/(^|[^-\\s])--(?=[^-\\s]|$)/gm,"$1")),"link_open"===o.type&&"auto"===o.info&&t--,"link_close"===o.type&&"auto"===o.info&&t++}}const J=/[\'"]/,X=/[\'"]/g;function Q(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function Z(e,t){let r;const o=[];for(let n=0;n<e.length;n++){const i=e[n],a=e[n].level;for(r=o.length-1;r>=0&&!(o[r].level<=a);r--);if(o.length=r+1,"text"!==i.type)continue;let s=i.content,u=0,c=s.length;e:for(;u<c;){X.lastIndex=u;const l=X.exec(s);if(!l)break;let g=!0,d=!0;u=l.index+1;const f="\'"===l[0];let h=32;if(l.index-1>=0)h=s.charCodeAt(l.index-1);else for(r=n-1;r>=0&&("softbreak"!==e[r].type&&"hardbreak"!==e[r].type);r--)if(e[r].content){h=e[r].content.charCodeAt(e[r].content.length-1);break}let p=32;if(u<c)p=s.charCodeAt(u);else for(r=n+1;r<e.length&&("softbreak"!==e[r].type&&"hardbreak"!==e[r].type);r++)if(e[r].content){p=e[r].content.charCodeAt(0);break}const m=x(h)||R(String.fromCharCode(h)),y=x(p)||R(String.fromCharCode(p)),b=w(h),E=w(p);if(E?g=!1:y&&(b||m||(g=!1)),b?d=!1:m&&(E||y||(d=!1)),34===p&&\'"\'===l[0]&&h>=48&&h<=57&&(d=g=!1),g&&d&&(g=m,d=y),g||d){if(d)for(r=o.length-1;r>=0;r--){let g=o[r];if(o[r].level<a)break;if(g.single===f&&o[r].level===a){let a,d;g=o[r],f?(a=t.md.options.quotes[2],d=t.md.options.quotes[3]):(a=t.md.options.quotes[0],d=t.md.options.quotes[1]),i.content=Q(i.content,l.index,d),e[g.token].content=Q(e[g.token].content,g.pos,a),u+=d.length-1,g.token===n&&(u+=a.length-1),s=i.content,c=s.length,o.length=r;continue e}}g?o.push({token:n,pos:l.index,single:f,level:a}):d&&f&&(i.content=Q(i.content,l.index,""))}else f&&(i.content=Q(i.content,l.index,""))}}}const ee=[["normalize",function(e){let t;t=e.src.replace(H,"\\n"),t=t.replace(j,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let r=0,o=t.length;r<o;r++){const o=t[r];"inline"===o.type&&e.md.inline.parse(o.content,e.md,e.env,o.children)}}],["linkify",function(e){const t=e.tokens;var r;if(e.md.options.linkify)for(let o=0,n=t.length;o<n;o++){if("inline"!==t[o].type||!e.md.linkify.pretest(t[o].content))continue;let n=t[o].children,i=0;for(let a=n.length-1;a>=0;a--){const s=n[a];if("link_close"!==s.type){if("html_inline"===s.type&&(r=s.content,/^<a[>\\s]/i.test(r)&&i>0&&i--,B(s.content)&&i++),!(i>0)&&"text"===s.type&&e.md.linkify.test(s.content)){const r=s.content;let i=e.md.linkify.match(r);const u=[];let c=s.level,l=0;i.length>0&&0===i[0].index&&a>0&&"text_special"===n[a-1].type&&(i=i.slice(1));for(let t=0;t<i.length;t++){const o=i[t].url,n=e.md.normalizeLink(o);if(!e.md.validateLink(n))continue;let a=i[t].text;a=i[t].schema?"mailto:"!==i[t].schema||/^mailto:/i.test(a)?e.md.normalizeLinkText(a):e.md.normalizeLinkText("mailto:"+a).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+a).replace(/^http:\\/\\//,"");const s=i[t].index;if(s>l){const t=new e.Token("text","",0);t.content=r.slice(l,s),t.level=c,u.push(t)}const g=new e.Token("link_open","a",1);g.attrs=[["href",n]],g.level=c++,g.markup="linkify",g.info="auto",u.push(g);const d=new e.Token("text","",0);d.content=a,d.level=c,u.push(d);const f=new e.Token("link_close","a",-1);f.level=--c,f.markup="linkify",f.info="auto",u.push(f),l=i[t].lastIndex}if(l<r.length){const t=new e.Token("text","",0);t.content=r.slice(l),t.level=c,u.push(t)}t[o].children=n=h(n,a,u)}}else for(a--;n[a].level!==s.level&&"link_open"!==n[a].type;)a--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(V.test(e.tokens[t].content)&&W(e.tokens[t].children),q.test(e.tokens[t].content)&&K(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&J.test(e.tokens[t].content)&&Z(e.tokens[t].children,e)}],["text_join",function(e){let t,r;const o=e.tokens,n=o.length;for(let e=0;e<n;e++){if("inline"!==o[e].type)continue;const n=o[e].children,i=n.length;for(t=0;t<i;t++)"text_special"===n[t].type&&(n[t].type="text");for(t=r=0;t<i;t++)"text"===n[t].type&&t+1<i&&"text"===n[t+1].type?n[t+1].content=n[t].content+n[t+1].content:(t!==r&&(n[r]=n[t]),r++);t!==r&&(n.length=r)}}]];function te(){this.ruler=new F;for(let e=0;e<ee.length;e++)this.ruler.push(ee[e][0],ee[e][1])}function re(e,t,r,o){this.src=e,this.md=t,this.env=r,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const n=this.src;for(let e=0,t=0,r=0,o=0,i=n.length,a=!1;t<i;t++){const s=n.charCodeAt(t);if(!a){if(D(s)){r++,9===s?o+=4-o%4:o++;continue}a=!0}10!==s&&t!==i-1||(10!==s&&t++,this.bMarks.push(e),this.eMarks.push(t),this.tShift.push(r),this.sCount.push(o),this.bsCount.push(0),a=!1,r=0,o=0,e=t+1)}this.bMarks.push(n.length),this.eMarks.push(n.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}te.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,o=t.length;r<o;r++)t[r](e)},te.prototype.State=P,re.prototype.push=function(e,t,r){const o=new U(e,t,r);return o.block=!0,r<0&&this.level--,o.level=this.level,r>0&&this.level++,this.tokens.push(o),o},re.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},re.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},re.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!D(this.src.charCodeAt(e)))break}return e},re.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!D(this.src.charCodeAt(--e)))return e+1;return e},re.prototype.skipChars=function(e,t){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e},re.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e},re.prototype.getLines=function(e,t,r,o){if(e>=t)return"";const n=new Array(t-e);for(let i=0,a=e;a<t;a++,i++){let e=0;const s=this.bMarks[a];let u,c=s;for(u=a+1<t||o?this.eMarks[a]+1:this.eMarks[a];c<u&&e<r;){const t=this.src.charCodeAt(c);if(D(t))9===t?e+=4-(e+this.bsCount[a])%4:e++;else{if(!(c-s<this.tShift[a]))break;e++}c++}n[i]=e>r?new Array(e-r+1).join(" ")+this.src.slice(c,u):this.src.slice(c,u)}return n.join("")},re.prototype.Token=U;function oe(e,t){const r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(r,o)}function ne(e){const t=[],r=e.length;let o=0,n=e.charCodeAt(o),i=!1,a=0,s="";for(;o<r;)124===n&&(i?(s+=e.substring(a,o-1),a=o):(t.push(s+e.substring(a,o)),s="",a=o+1)),i=92===n,o++,n=e.charCodeAt(o);return t.push(s+e.substring(a)),t}function ie(e,t){const r=e.eMarks[t];let o=e.bMarks[t]+e.tShift[t];const n=e.src.charCodeAt(o++);if(42!==n&&45!==n&&43!==n)return-1;if(o<r){if(!D(e.src.charCodeAt(o)))return-1}return o}function ae(e,t){const r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];let n=r;if(n+1>=o)return-1;let i=e.src.charCodeAt(n++);if(i<48||i>57)return-1;for(;;){if(n>=o)return-1;if(i=e.src.charCodeAt(n++),!(i>=48&&i<=57)){if(41===i||46===i)break;return-1}if(n-r>=10)return-1}return n<o&&(i=e.src.charCodeAt(n),!D(i))?-1:n}const se="<[A-Za-z][A-Za-z0-9\\\\-]*(?:\\\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\\\s*=\\\\s*(?:[^\\"\'=<>`\\\\x00-\\\\x20]+|\'[^\']*\'|\\"[^\\"]*\\"))?)*\\\\s*\\\\/?>",ue="<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>",ce=new RegExp("^(?:"+se+"|"+ue+"|\\x3c!---?>|\\x3c!--(?:[^-]|-[^-]|--[^>])*--\\x3e|<[?][\\\\s\\\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>)"),le=new RegExp("^(?:"+se+"|"+ue+")"),ge=[[/^<(script|pre|style|textarea)(?=(\\s|>|$))/i,/<\\/(script|pre|style|textarea)>/i,!0],[/^\x3c!--/,/--\x3e/,!0],[/^<\\?/,/\\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\\[CDATA\\[/,/\\]\\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\\\s|/?>|$))","i"),/^$/,!0],[new RegExp(le.source+"\\\\s*$"),/^$/,!1]];const de=[["table",function(e,t,r,o){if(t+2>r)return!1;let n=t+1;if(e.sCount[n]<e.blkIndent)return!1;if(e.sCount[n]-e.blkIndent>=4)return!1;let i=e.bMarks[n]+e.tShift[n];if(i>=e.eMarks[n])return!1;const a=e.src.charCodeAt(i++);if(124!==a&&45!==a&&58!==a)return!1;if(i>=e.eMarks[n])return!1;const s=e.src.charCodeAt(i++);if(124!==s&&45!==s&&58!==s&&!D(s))return!1;if(45===a&&D(s))return!1;for(;i<e.eMarks[n];){const t=e.src.charCodeAt(i);if(124!==t&&45!==t&&58!==t&&!D(t))return!1;i++}let u=oe(e,t+1),c=u.split("|");const l=[];for(let e=0;e<c.length;e++){const t=c[e].trim();if(!t){if(0===e||e===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?l.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?l.push("left"):l.push("")}if(u=oe(e,t).trim(),-1===u.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;c=ne(u),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const g=c.length;if(0===g||g!==l.length)return!1;if(o)return!0;const d=e.parentType;e.parentType="table";const f=e.md.block.ruler.getRules("blockquote"),h=[t,0];e.push("table_open","table",1).map=h,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let t=0;t<c.length;t++){const r=e.push("th_open","th",1);l[t]&&(r.attrs=[["style","text-align:"+l[t]]]);const o=e.push("inline","",0);o.content=c[t].trim(),o.children=[],e.push("th_close","th",-1)}let p;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let m=0;for(n=t+2;n<r&&!(e.sCount[n]<e.blkIndent);n++){let o=!1;for(let t=0,i=f.length;t<i;t++)if(f[t](e,n,r,!0)){o=!0;break}if(o)break;if(u=oe(e,n).trim(),!u)break;if(e.sCount[n]-e.blkIndent>=4)break;if(c=ne(u),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),m+=g-c.length,m>65536)break;if(n===t+2){e.push("tbody_open","tbody",1).map=p=[t+2,0]}e.push("tr_open","tr",1).map=[n,n+1];for(let t=0;t<g;t++){const r=e.push("td_open","td",1);l[t]&&(r.attrs=[["style","text-align:"+l[t]]]);const o=e.push("inline","",0);o.content=c[t]?c[t].trim():"",o.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return p&&(e.push("tbody_close","tbody",-1),p[1]=n),e.push("table_close","table",-1),h[1]=n,e.parentType=d,e.line=n,!0},["paragraph","reference"]],["code",function(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let o=t+1,n=o;for(;o<r;)if(e.isEmpty(o))o++;else{if(!(e.sCount[o]-e.blkIndent>=4))break;o++,n=o}e.line=n;const i=e.push("code_block","code",0);return i.content=e.getLines(t,n,4+e.blkIndent,!1)+"\\n",i.map=[t,e.line],!0}],["fence",function(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(n+3>i)return!1;const a=e.src.charCodeAt(n);if(126!==a&&96!==a)return!1;let s=n;n=e.skipChars(n,a);let u=n-s;if(u<3)return!1;const c=e.src.slice(s,n),l=e.src.slice(n,i);if(96===a&&l.indexOf(String.fromCharCode(a))>=0)return!1;if(o)return!0;let g=t,d=!1;for(;(g++,!(g>=r))&&(n=s=e.bMarks[g]+e.tShift[g],i=e.eMarks[g],!(n<i&&e.sCount[g]<e.blkIndent));)if(e.src.charCodeAt(n)===a&&!(e.sCount[g]-e.blkIndent>=4||(n=e.skipChars(n,a),n-s<u||(n=e.skipSpaces(n),n<i)))){d=!0;break}u=e.sCount[t],e.line=g+(d?1:0);const f=e.push("fence","code",0);return f.info=l,f.content=e.getLines(t+1,g,u,!0),f.markup=c,f.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];const a=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(n))return!1;if(o)return!0;const s=[],u=[],c=[],l=[],g=e.md.block.ruler.getRules("blockquote"),d=e.parentType;e.parentType="blockquote";let f,h=!1;for(f=t;f<r;f++){const t=e.sCount[f]<e.blkIndent;if(n=e.bMarks[f]+e.tShift[f],i=e.eMarks[f],n>=i)break;if(62===e.src.charCodeAt(n++)&&!t){let t,r,o=e.sCount[f]+1;32===e.src.charCodeAt(n)?(n++,o++,r=!1,t=!0):9===e.src.charCodeAt(n)?(t=!0,(e.bsCount[f]+o)%4==3?(n++,o++,r=!1):r=!0):t=!1;let a=o;for(s.push(e.bMarks[f]),e.bMarks[f]=n;n<i;){const t=e.src.charCodeAt(n);if(!D(t))break;9===t?a+=4-(a+e.bsCount[f]+(r?1:0))%4:a++,n++}h=n>=i,u.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(t?1:0),c.push(e.sCount[f]),e.sCount[f]=a-o,l.push(e.tShift[f]),e.tShift[f]=n-e.bMarks[f];continue}if(h)break;let o=!1;for(let t=0,n=g.length;t<n;t++)if(g[t](e,f,r,!0)){o=!0;break}if(o){e.lineMax=f,0!==e.blkIndent&&(s.push(e.bMarks[f]),u.push(e.bsCount[f]),l.push(e.tShift[f]),c.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}s.push(e.bMarks[f]),u.push(e.bsCount[f]),l.push(e.tShift[f]),c.push(e.sCount[f]),e.sCount[f]=-1}const p=e.blkIndent;e.blkIndent=0;const m=e.push("blockquote_open","blockquote",1);m.markup=">";const y=[t,0];m.map=y,e.md.block.tokenize(e,t,f),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=a,e.parentType=d,y[1]=e.line;for(let r=0;r<l.length;r++)e.bMarks[r+t]=s[r],e.tShift[r+t]=l[r],e.sCount[r+t]=c[r],e.bsCount[r+t]=u[r];return e.blkIndent=p,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,r,o){const n=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(i++);if(42!==a&&45!==a&&95!==a)return!1;let s=1;for(;i<n;){const t=e.src.charCodeAt(i++);if(t!==a&&!D(t))return!1;t===a&&s++}if(s<3)return!1;if(o)return!0;e.line=t+1;const u=e.push("hr","hr",0);return u.map=[t,e.line],u.markup=Array(s+1).join(String.fromCharCode(a)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,r,o){let n,i,a,s,u=t,c=!0;if(e.sCount[u]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[u]-e.listIndent>=4&&e.sCount[u]<e.blkIndent)return!1;let l,g,d,f=!1;if(o&&"paragraph"===e.parentType&&e.sCount[u]>=e.blkIndent&&(f=!0),(d=ae(e,u))>=0){if(l=!0,a=e.bMarks[u]+e.tShift[u],g=Number(e.src.slice(a,d-1)),f&&1!==g)return!1}else{if(!((d=ie(e,u))>=0))return!1;l=!1}if(f&&e.skipSpaces(d)>=e.eMarks[u])return!1;if(o)return!0;const h=e.src.charCodeAt(d-1),p=e.tokens.length;l?(s=e.push("ordered_list_open","ol",1),1!==g&&(s.attrs=[["start",g]])):s=e.push("bullet_list_open","ul",1);const m=[u,0];s.map=m,s.markup=String.fromCharCode(h);let y=!1;const b=e.md.block.ruler.getRules("list"),E=e.parentType;for(e.parentType="list";u<r;){i=d,n=e.eMarks[u];const t=e.sCount[u]+d-(e.bMarks[u]+e.tShift[u]);let o=t;for(;i<n;){const t=e.src.charCodeAt(i);if(9===t)o+=4-(o+e.bsCount[u])%4;else{if(32!==t)break;o++}i++}const g=i;let f;f=g>=n?1:o-t,f>4&&(f=1);const p=t+f;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(h);const m=[u,0];s.map=m,l&&(s.info=e.src.slice(a,d-1));const E=e.tight,_=e.tShift[u],S=e.sCount[u],v=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=p,e.tight=!0,e.tShift[u]=g-e.bMarks[u],e.sCount[u]=o,g>=n&&e.isEmpty(u+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,u,r,!0),e.tight&&!y||(c=!1),y=e.line-u>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=v,e.tShift[u]=_,e.sCount[u]=S,e.tight=E,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(h),u=e.line,m[1]=u,u>=r)break;if(e.sCount[u]<e.blkIndent)break;if(e.sCount[u]-e.blkIndent>=4)break;let T=!1;for(let t=0,o=b.length;t<o;t++)if(b[t](e,u,r,!0)){T=!0;break}if(T)break;if(l){if(d=ae(e,u),d<0)break;a=e.bMarks[u]+e.tShift[u]}else if(d=ie(e,u),d<0)break;if(h!==e.src.charCodeAt(d-1))break}return s=l?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(h),m[1]=u,e.line=u,e.parentType=E,c&&function(e,t){const r=e.level+2;for(let o=t+2,n=e.tokens.length-2;o<n;o++)e.tokens[o].level===r&&"paragraph_open"===e.tokens[o].type&&(e.tokens[o+2].hidden=!0,e.tokens[o].hidden=!0,o+=2)}(e,p),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],a=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(n))return!1;function s(t){const r=e.lineMax;if(t>=r||e.isEmpty(t))return null;let o=!1;if(e.sCount[t]-e.blkIndent>3&&(o=!0),e.sCount[t]<0&&(o=!0),!o){const o=e.md.block.ruler.getRules("reference"),n=e.parentType;e.parentType="reference";let i=!1;for(let n=0,a=o.length;n<a;n++)if(o[n](e,t,r,!0)){i=!0;break}if(e.parentType=n,i)return null}const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(n,i+1)}let u=e.src.slice(n,i+1);i=u.length;let c=-1;for(n=1;n<i;n++){const e=u.charCodeAt(n);if(91===e)return!1;if(93===e){c=n;break}if(10===e){const e=s(a);null!==e&&(u+=e,i=u.length,a++)}else if(92===e&&(n++,n<i&&10===u.charCodeAt(n))){const e=s(a);null!==e&&(u+=e,i=u.length,a++)}}if(c<0||58!==u.charCodeAt(c+1))return!1;for(n=c+2;n<i;n++){const e=u.charCodeAt(n);if(10===e){const e=s(a);null!==e&&(u+=e,i=u.length,a++)}else if(!D(e))break}const l=e.md.helpers.parseLinkDestination(u,n,i);if(!l.ok)return!1;const g=e.md.normalizeLink(l.str);if(!e.md.validateLink(g))return!1;n=l.pos;const d=n,f=a,h=n;for(;n<i;n++){const e=u.charCodeAt(n);if(10===e){const e=s(a);null!==e&&(u+=e,i=u.length,a++)}else if(!D(e))break}let p,m=e.md.helpers.parseLinkTitle(u,n,i);for(;m.can_continue;){const t=s(a);if(null===t)break;u+=t,n=i,i=u.length,a++,m=e.md.helpers.parseLinkTitle(u,n,i,m)}for(n<i&&h!==n&&m.ok?(p=m.str,n=m.pos):(p="",n=d,a=f);n<i;){if(!D(u.charCodeAt(n)))break;n++}if(n<i&&10!==u.charCodeAt(n)&&p)for(p="",n=d,a=f;n<i;){if(!D(u.charCodeAt(n)))break;n++}if(n<i&&10!==u.charCodeAt(n))return!1;const y=O(u.slice(1,c));return!!y&&(o||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[y]&&(e.env.references[y]={title:p,href:g}),e.line=a),!0)}],["html_block",function(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(n))return!1;let a=e.src.slice(n,i),s=0;for(;s<ge.length&&!ge[s][0].test(a);s++);if(s===ge.length)return!1;if(o)return ge[s][2];let u=t+1;if(!ge[s][1].test(a))for(;u<r&&!(e.sCount[u]<e.blkIndent);u++)if(n=e.bMarks[u]+e.tShift[u],i=e.eMarks[u],a=e.src.slice(n,i),ge[s][1].test(a)){0!==a.length&&u++;break}e.line=u;const c=e.push("html_block","",0);return c.map=[t,u],c.content=e.getLines(t,u,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.src.charCodeAt(n);if(35!==a||n>=i)return!1;let s=1;for(a=e.src.charCodeAt(++n);35===a&&n<i&&s<=6;)s++,a=e.src.charCodeAt(++n);if(s>6||n<i&&!D(a))return!1;if(o)return!0;i=e.skipSpacesBack(i,n);const u=e.skipCharsBack(i,35,n);u>n&&D(e.src.charCodeAt(u-1))&&(i=u),e.line=t+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[t,e.line];const l=e.push("inline","",0);return l.content=e.src.slice(n,i).trim(),l.map=[t,e.line],l.children=[],e.push("heading_close","h"+String(s),-1).markup="########".slice(0,s),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,r){const o=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const n=e.parentType;e.parentType="paragraph";let i,a=0,s=t+1;for(;s<r&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let t=e.bMarks[s]+e.tShift[s];const r=e.eMarks[s];if(t<r&&(i=e.src.charCodeAt(t),(45===i||61===i)&&(t=e.skipChars(t,i),t=e.skipSpaces(t),t>=r))){a=61===i?1:2;break}}if(e.sCount[s]<0)continue;let t=!1;for(let n=0,i=o.length;n<i;n++)if(o[n](e,s,r,!0)){t=!0;break}if(t)break}if(!a)return!1;const u=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(a),1);c.markup=String.fromCharCode(i),c.map=[t,e.line];const l=e.push("inline","",0);return l.content=u,l.map=[t,e.line-1],l.children=[],e.push("heading_close","h"+String(a),-1).markup=String.fromCharCode(i),e.parentType=n,!0}],["paragraph",function(e,t,r){const o=e.md.block.ruler.getRules("paragraph"),n=e.parentType;let i=t+1;for(e.parentType="paragraph";i<r&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3)continue;if(e.sCount[i]<0)continue;let t=!1;for(let n=0,a=o.length;n<a;n++)if(o[n](e,i,r,!0)){t=!0;break}if(t)break}const a=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i,e.push("paragraph_open","p",1).map=[t,e.line];const s=e.push("inline","",0);return s.content=a,s.map=[t,e.line],s.children=[],e.push("paragraph_close","p",-1),e.parentType=n,!0}]];function fe(){this.ruler=new F;for(let e=0;e<de.length;e++)this.ruler.push(de[e][0],de[e][1],{alt:(de[e][2]||[]).slice()})}function he(e,t,r,o){this.src=e,this.env=r,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function pe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}fe.prototype.tokenize=function(e,t,r){const o=this.ruler.getRules(""),n=o.length,i=e.md.options.maxNesting;let a=t,s=!1;for(;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=i){e.line=r;break}const t=e.line;let u=!1;for(let i=0;i<n;i++)if(u=o[i](e,a,r,!1),u){if(t>=e.line)throw new Error("block rule didn\'t increment state.line");break}if(!u)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),a=e.line,a<r&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},fe.prototype.parse=function(e,t,r,o){if(!e)return;const n=new this.State(e,t,r,o);this.tokenize(n,n.line,n.lineMax)},fe.prototype.State=re,he.prototype.pushPending=function(){const e=new U("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},he.prototype.push=function(e,t,r){this.pending&&this.pushPending();const o=new U(e,t,r);let n=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(n),o},he.prototype.scanDelims=function(e,t){const r=this.posMax,o=this.src.charCodeAt(e),n=e>0?this.src.charCodeAt(e-1):32;let i=e;for(;i<r&&this.src.charCodeAt(i)===o;)i++;const a=i-e,s=i<r?this.src.charCodeAt(i):32,u=x(n)||R(String.fromCharCode(n)),c=x(s)||R(String.fromCharCode(s)),l=w(n),g=w(s),d=!g&&(!c||l||u),f=!l&&(!u||g||c);return{can_open:d&&(t||!f||u),can_close:f&&(t||!d||c),length:a}},he.prototype.Token=U;const me=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const ye=[];for(let e=0;e<256;e++)ye.push(0);function be(e,t){let r;const o=[],n=t.length;for(let i=0;i<n;i++){const n=t[i];if(126!==n.marker)continue;if(-1===n.end)continue;const a=t[n.end];r=e.tokens[n.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[a.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="","text"===e.tokens[a.token-1].type&&"~"===e.tokens[a.token-1].content&&o.push(a.token-1)}for(;o.length;){const t=o.pop();let n=t+1;for(;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;n--,t!==n&&(r=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=r)}}"\\\\!\\"#$%&\'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){ye[e.charCodeAt(0)]=1}));var Ee={tokenize:function(e,t){const r=e.pos,o=e.src.charCodeAt(r);if(t)return!1;if(126!==o)return!1;const n=e.scanDelims(e.pos,!0);let i=n.length;const a=String.fromCharCode(o);if(i<2)return!1;let s;i%2&&(s=e.push("text","",0),s.content=a,i--);for(let t=0;t<i;t+=2)s=e.push("text","",0),s.content=a+a,e.delimiters.push({marker:o,length:0,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},postProcess:function(e){const t=e.tokens_meta,r=e.tokens_meta.length;be(e,e.delimiters);for(let o=0;o<r;o++)t[o]&&t[o].delimiters&&be(e,t[o].delimiters)}};function _e(e,t){for(let r=t.length-1;r>=0;r--){const o=t[r];if(95!==o.marker&&42!==o.marker)continue;if(-1===o.end)continue;const n=t[o.end],i=r>0&&t[r-1].end===o.end+1&&t[r-1].marker===o.marker&&t[r-1].token===o.token-1&&t[o.end+1].token===n.token+1,a=String.fromCharCode(o.marker),s=e.tokens[o.token];s.type=i?"strong_open":"em_open",s.tag=i?"strong":"em",s.nesting=1,s.markup=i?a+a:a,s.content="";const u=e.tokens[n.token];u.type=i?"strong_close":"em_close",u.tag=i?"strong":"em",u.nesting=-1,u.markup=i?a+a:a,u.content="",i&&(e.tokens[t[r-1].token].content="",e.tokens[t[o.end+1].token].content="",r--)}}var Se={tokenize:function(e,t){const r=e.pos,o=e.src.charCodeAt(r);if(t)return!1;if(95!==o&&42!==o)return!1;const n=e.scanDelims(e.pos,42===o);for(let t=0;t<n.length;t++){e.push("text","",0).content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close})}return e.pos+=n.length,!0},postProcess:function(e){const t=e.tokens_meta,r=e.tokens_meta.length;_e(e,e.delimiters);for(let o=0;o<r;o++)t[o]&&t[o].delimiters&&_e(e,t[o].delimiters)}};const ve=/^([a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Te=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\\x00-\\x20]*)$/;const Ae=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Ne=/^&([a-z][a-z0-9]{1,31});/i;function Ce(e){const t={},r=e.length;if(!r)return;let o=0,n=-2;const i=[];for(let a=0;a<r;a++){const r=e[a];if(i.push(0),e[o].marker===r.marker&&n===r.token-1||(o=a),n=r.token,r.length=r.length||0,!r.close)continue;t.hasOwnProperty(r.marker)||(t[r.marker]=[-1,-1,-1,-1,-1,-1]);const s=t[r.marker][(r.open?3:0)+r.length%3];let u=o-i[o]-1,c=u;for(;u>s;u-=i[u]+1){const t=e[u];if(t.marker===r.marker&&(t.open&&t.end<0)){let o=!1;if((t.close||r.open)&&(t.length+r.length)%3==0&&(t.length%3==0&&r.length%3==0||(o=!0)),!o){const o=u>0&&!e[u-1].open?i[u-1]+1:0;i[a]=a-u+o,i[u]=o,r.open=!1,t.end=a,t.close=!1,c=-1,n=-2;break}}}-1!==c&&(t[r.marker][(r.open?3:0)+(r.length||0)%3]=c)}}const De=[["text",function(e,t){let r=e.pos;for(;r<e.posMax&&!pe(e.src.charCodeAt(r));)r++;return r!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const r=e.pos;if(r+3>e.posMax)return!1;if(58!==e.src.charCodeAt(r))return!1;if(47!==e.src.charCodeAt(r+1))return!1;if(47!==e.src.charCodeAt(r+2))return!1;const o=e.pending.match(me);if(!o)return!1;const n=o[1],i=e.md.linkify.matchAtStart(e.src.slice(r-n.length));if(!i)return!1;let a=i.url;if(a.length<=n.length)return!1;a=a.replace(/\\*+$/,"");const s=e.md.normalizeLink(a);if(!e.md.validateLink(s))return!1;if(!t){e.pending=e.pending.slice(0,-n.length);const t=e.push("link_open","a",1);t.attrs=[["href",s]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(a);const r=e.push("link_close","a",-1);r.markup="linkify",r.info="auto"}return e.pos+=a.length-n.length,!0}],["newline",function(e,t){let r=e.pos;if(10!==e.src.charCodeAt(r))return!1;const o=e.pending.length-1,n=e.posMax;if(!t)if(o>=0&&32===e.pending.charCodeAt(o))if(o>=1&&32===e.pending.charCodeAt(o-1)){let t=o-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<n&&D(e.src.charCodeAt(r));)r++;return e.pos=r,!0}],["escape",function(e,t){let r=e.pos;const o=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(r++,r>=o)return!1;let n=e.src.charCodeAt(r);if(10===n){for(t||e.push("hardbreak","br",0),r++;r<o&&(n=e.src.charCodeAt(r),D(n));)r++;return e.pos=r,!0}let i=e.src[r];if(n>=55296&&n<=56319&&r+1<o){const t=e.src.charCodeAt(r+1);t>=56320&&t<=57343&&(i+=e.src[r+1],r++)}const a="\\\\"+i;if(!t){const t=e.push("text_special","",0);n<256&&0!==ye[n]?t.content=i:t.content=a,t.markup=a,t.info="escape"}return e.pos=r+1,!0}],["backticks",function(e,t){let r=e.pos;if(96!==e.src.charCodeAt(r))return!1;const o=r;r++;const n=e.posMax;for(;r<n&&96===e.src.charCodeAt(r);)r++;const i=e.src.slice(o,r),a=i.length;if(e.backticksScanned&&(e.backticks[a]||0)<=o)return t||(e.pending+=i),e.pos+=a,!0;let s,u=r;for(;-1!==(s=e.src.indexOf("`",u));){for(u=s+1;u<n&&96===e.src.charCodeAt(u);)u++;const o=u-s;if(o===a){if(!t){const t=e.push("code_inline","code",0);t.markup=i,t.content=e.src.slice(r,s).replace(/\\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=u,!0}e.backticks[o]=s}return e.backticksScanned=!0,t||(e.pending+=i),e.pos+=a,!0}],["strikethrough",Ee.tokenize],["emphasis",Se.tokenize],["link",function(e,t){let r,o,n,i,a="",s="",u=e.pos,c=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const l=e.pos,g=e.posMax,d=e.pos+1,f=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(f<0)return!1;let h=f+1;if(h<g&&40===e.src.charCodeAt(h)){for(c=!1,h++;h<g&&(r=e.src.charCodeAt(h),D(r)||10===r);h++);if(h>=g)return!1;if(u=h,n=e.md.helpers.parseLinkDestination(e.src,h,e.posMax),n.ok){for(a=e.md.normalizeLink(n.str),e.md.validateLink(a)?h=n.pos:a="",u=h;h<g&&(r=e.src.charCodeAt(h),D(r)||10===r);h++);if(n=e.md.helpers.parseLinkTitle(e.src,h,e.posMax),h<g&&u!==h&&n.ok)for(s=n.str,h=n.pos;h<g&&(r=e.src.charCodeAt(h),D(r)||10===r);h++);}(h>=g||41!==e.src.charCodeAt(h))&&(c=!0),h++}if(c){if(void 0===e.env.references)return!1;if(h<g&&91===e.src.charCodeAt(h)?(u=h+1,h=e.md.helpers.parseLinkLabel(e,h),h>=0?o=e.src.slice(u,h++):h=f+1):h=f+1,o||(o=e.src.slice(d,f)),i=e.env.references[O(o)],!i)return e.pos=l,!1;a=i.href,s=i.title}if(!t){e.pos=d,e.posMax=f;const t=[["href",a]];e.push("link_open","a",1).attrs=t,s&&t.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=h,e.posMax=g,!0}],["image",function(e,t){let r,o,n,i,a,s,u,c,l="";const g=e.pos,d=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const f=e.pos+2,h=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(h<0)return!1;if(i=h+1,i<d&&40===e.src.charCodeAt(i)){for(i++;i<d&&(r=e.src.charCodeAt(i),D(r)||10===r);i++);if(i>=d)return!1;for(c=i,s=e.md.helpers.parseLinkDestination(e.src,i,e.posMax),s.ok&&(l=e.md.normalizeLink(s.str),e.md.validateLink(l)?i=s.pos:l=""),c=i;i<d&&(r=e.src.charCodeAt(i),D(r)||10===r);i++);if(s=e.md.helpers.parseLinkTitle(e.src,i,e.posMax),i<d&&c!==i&&s.ok)for(u=s.str,i=s.pos;i<d&&(r=e.src.charCodeAt(i),D(r)||10===r);i++);else u="";if(i>=d||41!==e.src.charCodeAt(i))return e.pos=g,!1;i++}else{if(void 0===e.env.references)return!1;if(i<d&&91===e.src.charCodeAt(i)?(c=i+1,i=e.md.helpers.parseLinkLabel(e,i),i>=0?n=e.src.slice(c,i++):i=h+1):i=h+1,n||(n=e.src.slice(f,h)),a=e.env.references[O(n)],!a)return e.pos=g,!1;l=a.href,u=a.title}if(!t){o=e.src.slice(f,h);const t=[];e.md.inline.parse(o,e.md,e.env,t);const r=e.push("image","img",0),n=[["src",l],["alt",""]];r.attrs=n,r.children=t,r.content=o,u&&n.push(["title",u])}return e.pos=i,e.posMax=d,!0}],["autolink",function(e,t){let r=e.pos;if(60!==e.src.charCodeAt(r))return!1;const o=e.pos,n=e.posMax;for(;;){if(++r>=n)return!1;const t=e.src.charCodeAt(r);if(60===t)return!1;if(62===t)break}const i=e.src.slice(o+1,r);if(Te.test(i)){const r=e.md.normalizeLink(i);if(!e.md.validateLink(r))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",r]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(i);const o=e.push("link_close","a",-1);o.markup="autolink",o.info="auto"}return e.pos+=i.length+2,!0}if(ve.test(i)){const r=e.md.normalizeLink("mailto:"+i);if(!e.md.validateLink(r))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",r]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(i);const o=e.push("link_close","a",-1);o.markup="autolink",o.info="auto"}return e.pos+=i.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const r=e.posMax,o=e.pos;if(60!==e.src.charCodeAt(o)||o+2>=r)return!1;const n=e.src.charCodeAt(o+1);if(33!==n&&63!==n&&47!==n&&!function(e){const t=32|e;return t>=97&&t<=122}(n))return!1;const i=e.src.slice(o).match(ce);if(!i)return!1;if(!t){const t=e.push("html_inline","",0);t.content=i[0],a=t.content,/^<a[>\\s]/i.test(a)&&e.linkLevel++,function(e){return/^<\\/a\\s*>/i.test(e)}(t.content)&&e.linkLevel--}var a;return e.pos+=i[0].length,!0}],["entity",function(e,t){const r=e.pos,o=e.posMax;if(38!==e.src.charCodeAt(r))return!1;if(r+1>=o)return!1;if(35===e.src.charCodeAt(r+1)){const o=e.src.slice(r).match(Ae);if(o){if(!t){const t="x"===o[1][0].toLowerCase()?parseInt(o[1].slice(1),16):parseInt(o[1],10),r=e.push("text_special","",0);r.content=p(t)?m(t):m(65533),r.markup=o[0],r.info="entity"}return e.pos+=o[0].length,!0}}else{const o=e.src.slice(r).match(Ne);if(o){const r=i.decodeHTML(o[0]);if(r!==o[0]){if(!t){const t=e.push("text_special","",0);t.content=r,t.markup=o[0],t.info="entity"}return e.pos+=o[0].length,!0}}}return!1}]],we=[["balance_pairs",function(e){const t=e.tokens_meta,r=e.tokens_meta.length;Ce(e.delimiters);for(let e=0;e<r;e++)t[e]&&t[e].delimiters&&Ce(t[e].delimiters)}],["strikethrough",Ee.postProcess],["emphasis",Se.postProcess],["fragments_join",function(e){let t,r,o=0;const n=e.tokens,i=e.tokens.length;for(t=r=0;t<i;t++)n[t].nesting<0&&o--,n[t].level=o,n[t].nesting>0&&o++,"text"===n[t].type&&t+1<i&&"text"===n[t+1].type?n[t+1].content=n[t].content+n[t+1].content:(t!==r&&(n[r]=n[t]),r++);t!==r&&(n.length=r)}]];function Re(){this.ruler=new F;for(let e=0;e<De.length;e++)this.ruler.push(De[e][0],De[e][1]);this.ruler2=new F;for(let e=0;e<we.length;e++)this.ruler2.push(we[e][0],we[e][1])}Re.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),o=r.length,n=e.md.options.maxNesting,i=e.cache;if(void 0!==i[t])return void(e.pos=i[t]);let a=!1;if(e.level<n){for(let n=0;n<o;n++)if(e.level++,a=r[n](e,!0),e.level--,a){if(t>=e.pos)throw new Error("inline rule didn\'t increment state.pos");break}}else e.pos=e.posMax;a||e.pos++,i[t]=e.pos},Re.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,o=e.posMax,n=e.md.options.maxNesting;for(;e.pos<o;){const i=e.pos;let a=!1;if(e.level<n)for(let o=0;o<r;o++)if(a=t[o](e,!1),a){if(i>=e.pos)throw new Error("inline rule didn\'t increment state.pos");break}if(a){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Re.prototype.parse=function(e,t,r,o){const n=new this.State(e,t,r,o);this.tokenize(n);const i=this.ruler2.getRules(""),a=i.length;for(let e=0;e<a;e++)i[e](n)},Re.prototype.State=he;const xe={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Oe=/^(vbscript|javascript|file|data):/,Ie=/^data:image\\/(gif|png|jpeg|webp);/;function ke(e){const t=e.trim().toLowerCase();return!Oe.test(t)||Ie.test(t)}const Me=["http:","https:","mailto:"];function Le(e){const t=c.parse(e,!0);if(t.hostname&&(!t.protocol||Me.indexOf(t.protocol)>=0))try{t.hostname=s.toASCII(t.hostname)}catch(e){}return c.encode(c.format(t))}function $e(e){const t=c.parse(e,!0);if(t.hostname&&(!t.protocol||Me.indexOf(t.protocol)>=0))try{t.hostname=s.toUnicode(t.hostname)}catch(e){}return c.decode(c.format(t),c.decode.defaultChars+"%")}function Fe(e,t){if(!(this instanceof Fe))return new Fe(e,t);t||g(e)||(t=e||{},e="default"),this.inline=new Re,this.block=new fe,this.core=new te,this.renderer=new $,this.linkify=new a,this.validateLink=ke,this.normalizeLink=Le,this.normalizeLinkText=$e,this.utils=k,this.helpers=f({},M),this.options={},this.configure(e),t&&this.set(t)}Fe.prototype.set=function(e){return f(this.options,e),this},Fe.prototype.configure=function(e){const t=this;if(g(e)){const t=e;if(!(e=xe[t]))throw new Error(\'Wrong `markdown-it` preset "\'+t+\'", check name\')}if(!e)throw new Error("Wrong `markdown-it` preset, can\'t be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)})),this},Fe.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.enable(e,!0))}),this),r=r.concat(this.inline.ruler2.enable(e,!0));const o=e.filter((function(e){return r.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this},Fe.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.disable(e,!0))}),this),r=r.concat(this.inline.ruler2.disable(e,!0));const o=e.filter((function(e){return r.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this},Fe.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},Fe.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens},Fe.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Fe.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens},Fe.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=Fe},8801:function(e,t,r){"use strict";var o=r(2128),n=r(2675),i=r(2484),a=r(5927),s=r(4700),u=r(8969),c=i(r(7769).f),l=i([].push),g=o&&n((function(){var e=Object.create(null);return e[2]=2,!c(e,2)})),d=function(e){return function(t){for(var r,n=u(t),i=s(n),d=g&&null===a(n),f=i.length,h=0,p=[];f>h;)r=i[h++],o&&!(d?r in n:c(n,r))||l(p,e?[r,n[r]]:n[r]);return p}};e.exports={entries:d(!0),values:d(!1)}},8808:function(e,t,r){"use strict";var o,n,i,a=r(8810),s=r(6007),u=r(6125),c=r(8052),l=r(3625),g=r(5236),d=r(1715),f=r(8819),h=r(461),p=r(4334),m=r(321),y=r(4102),b=r(5755),E=r(3985),_=r(6781).set,S=r(6559),v=r(1929),T=r(3443),A=r(1661),N=r(6369),C=r(5034),D=r(7032),w=r(1031),R="Promise",x=D.CONSTRUCTOR,O=D.REJECTION_EVENT,I=D.SUBCLASSING,k=N.getterFor(R),M=N.set,L=C&&C.prototype,$=C,F=L,U=c.TypeError,P=c.document,H=c.process,j=w.f,B=j,q=!!(P&&P.createEvent&&c.dispatchEvent),V="unhandledrejection",G=function(e){var t;return!(!y(e)||!m(t=e.then))&&t},z=function(e,t){var r,o,n,i=t.value,a=1===t.state,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,g=e.domain;try{s?(a||(2===t.rejection&&X(t),t.rejection=1),!0===s?r=i:(g&&g.enter(),r=s(i),g&&(g.exit(),n=!0)),r===e.promise?c(new U("Promise-chain cycle")):(o=G(r))?l(o,r,u,c):u(r)):c(i)}catch(e){g&&!n&&g.exit(),c(e)}},Y=function(e,t){e.notified||(e.notified=!0,S((function(){for(var r,o=e.reactions;r=o.get();)z(r,e);e.notified=!1,t&&!e.rejection&&K(e)})))},W=function(e,t,r){var o,n;q?((o=P.createEvent("Event")).promise=t,o.reason=r,o.initEvent(e,!1,!0),c.dispatchEvent(o)):o={promise:t,reason:r},!O&&(n=c["on"+e])?n(o):e===V&&v("Unhandled promise rejection",r)},K=function(e){l(_,c,(function(){var t,r=e.facade,o=e.value;if(J(e)&&(t=T((function(){u?H.emit("unhandledRejection",o,r):W(V,r,o)})),e.rejection=u||J(e)?2:1,t.error))throw t.value}))},J=function(e){return 1!==e.rejection&&!e.parent},X=function(e){l(_,c,(function(){var t=e.facade;u?H.emit("rejectionHandled",t):W("rejectionhandled",t,e.value)}))},Q=function(e,t,r){return function(o){e(t,o,r)}},Z=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Y(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new U("Promise can\'t be resolved itself");var o=G(t);o?S((function(){var r={done:!1};try{l(o,t,Q(ee,r,e),Q(Z,r,e))}catch(t){Z(r,t,e)}})):(e.value=t,e.state=1,Y(e,!1))}catch(t){Z({done:!1},t,e)}}};if(x&&(F=($=function(e){b(this,F),p(e),l(o,this);var t=k(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(o=function(e){M(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:null})}).prototype=g(F,"then",(function(e,t){var r=k(this),o=j(E(this,$));return r.parent=!0,o.ok=!m(e)||e,o.fail=m(t)&&t,o.domain=u?H.domain:void 0,0===r.state?r.reactions.add(o):S((function(){z(o,r)})),o.promise})),n=function(){var e=new o,t=k(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},w.f=j=function(e){return e===$||undefined===e?new n(e):B(e)},!s&&m(C)&&L!==Object.prototype)){i=L.then,I||g(L,"then",(function(e,t){var r=this;return new $((function(e,t){l(i,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}d&&d(L,F)}a({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:$}),f($,R,!1,!0),h(R)},8810:function(e,t,r){"use strict";var o=r(8052),n=r(3071).f,i=r(671),a=r(5236),s=r(1941),u=r(1704),c=r(2360);e.exports=function(e,t){var r,l,g,d,f,h=e.target,p=e.global,m=e.stat;if(r=p?o:m?o[h]||s(h,{}):o[h]&&o[h].prototype)for(l in t){if(d=t[l],g=e.dontCallGetSet?(f=n(r,l))&&f.value:r[l],!c(p?l:h+(m?".":"#")+l,e.forced)&&void 0!==g){if(typeof d==typeof g)continue;u(d,g)}(e.sham||g&&g.sham)&&i(d,"sham",!0),a(r,l,d,e)}}},8819:function(e,t,r){"use strict";var o=r(6005).f,n=r(4461),i=r(4175)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!n(e,i)&&o(e,i,{configurable:!0,value:t})}},8845:function(e,t,r){"use strict";var o=r(1948),n=r(1441),i=r(4102),a=r(4175)("species"),s=Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(n(t)&&(t===s||o(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},8969:function(e,t,r){"use strict";var o=r(51),n=r(4834);e.exports=function(e){return o(n(e))}},9004:function(e,t,r){"use strict";var o=r(1904),n=r(4334),i=r(3588),a=o(o.bind);e.exports=function(e,t){return n(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},9053:function(e){if(void 0===(t=window.TableJoinerTdTemplate=window.TableJoinerTdTemplate||{}))var t={};t.tableTd=function(e,t){return\'<td class="confluenceTd \'+soy.$$escapeHtml(e.cell.type)+\'">\'+soy.$$escapeHtml(e.cell.html)+"</td>"},{}.DEBUG&&(t.tableTd.soyTemplateName="TableJoinerTdTemplate.tableTd"),e.exports=t},9073:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},9198:function(e,t,r){"use strict";var o=r(3625),n=r(659),i=r(321),a=r(2748),s=r(863),u=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var c=o(r,e,t);return null!==c&&n(c),c}if("RegExp"===a(e))return o(s,e,t);throw new u("RegExp#exec called on incompatible receiver")}},9311:function(e,t,r){"use strict";var o=r(2961).forEach,n=r(8754)("forEach");e.exports=n?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},9455:function(e,t,r){"use strict";var o=r(2484),n=r(2675),i=r(321),a=r(4461),s=r(2128),u=r(4690).CONFIGURABLE,c=r(2718),l=r(6369),g=l.enforce,d=l.get,f=String,h=Object.defineProperty,p=o("".slice),m=o("".replace),y=o([].join),b=s&&!n((function(){return 8!==h((function(){}),"length",{value:8}).length})),E=String(String).split("String"),_=e.exports=function(e,t,r){"Symbol("===p(f(t),0,7)&&(t="["+m(f(t),/^Symbol\\(([^)]*)\\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&a(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=g(e);return a(o,"source")||(o.source=y(E,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return i(this)&&d(this).source||c(this)}),"toString")},9467:function(e,t,r){"use strict";var o=r(3163),n=r(2484),i=r(4956),a=r(9073),s=r(659),u=n([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=a.f;return r?u(t,r(e)):t}},9538:function(e,t,r){"use strict";var o=r(4334),n=r(9601);e.exports=function(e,t){var r=e[t];return n(r)?void 0:o(r)}},9601:function(e){"use strict";e.exports=function(e){return null==e}},9859:function(e,t,r){"use strict";var o=r(321),n=r(4102),i=r(1715);e.exports=function(e,t,r){var a,s;return i&&o(a=t.constructor)&&a!==r&&n(s=a.prototype)&&s!==r.prototype&&i(e,s),e}},9902:function(e,t,r){"use strict";var o=r(8810),n=r(8801).entries;o({target:"Object",stat:!0},{entries:function(e){return n(e)}})},9976:function(e,t,r){"use strict";var o=r(4175)("iterator"),n=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){n=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!n)return!1}catch(e){return!1}var r=!1;try{var i={};i[o]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},9982:function(e,t){"use strict";t.Any=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/,t.Cc=/[\\0-\\x1F\\x7F-\\x9F]/,t.Cf=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u0890\\u0891\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD80D[\\uDC30-\\uDC3F]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/,t.P=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061D-\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1B7D\\u1B7E\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52-\\u2E5D\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDEAD\\uDF55-\\uDF59\\uDF86-\\uDF89]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5A\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDEB9\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDD44-\\uDD46\\uDDE2\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2\\uDF00-\\uDF09]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8\\uDF43-\\uDF4F\\uDFFF]|\\uD809[\\uDC70-\\uDC74]|\\uD80B[\\uDFF1\\uDFF2]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A\\uDFE2]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/,t.S=/[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u0888\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20C0\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B97-\\u2BFF\\u2CE5-\\u2CEA\\u2E50\\u2E51\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFF\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u31EF\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uAB6A\\uAB6B\\uFB29\\uFBB2-\\uFBC2\\uFD40-\\uFD4F\\uFDCF\\uFDFC-\\uFDFF\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9C\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD833[\\uDF50-\\uDFC3]|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDEA\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD0D-\\uDDAD\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED7\\uDEDC-\\uDEEC\\uDEF0-\\uDEFC\\uDF00-\\uDF76\\uDF7B-\\uDFD9\\uDFE0-\\uDFEB\\uDFF0]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDCB0\\uDCB1\\uDD00-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE7C\\uDE80-\\uDE88\\uDE90-\\uDEBD\\uDEBF-\\uDEC5\\uDECE-\\uDEDB\\uDEE0-\\uDEE8\\uDEF0-\\uDEF8\\uDF00-\\uDF92\\uDF94-\\uDFCA]/,t.Z=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__={};!function(){"use strict";__webpack_require__(6421);var e=__webpack_require__(4677),t=__webpack_require__.n(e),r=(__webpack_require__(1430),__webpack_require__(4267),__webpack_require__(2708),__webpack_require__(3544),__webpack_require__(2878)),o=__webpack_require__.n(r);o().options.disablejsfunc=!0,o().options.cache=!1;var n=o();const i=[];function a(e){const t=i.length;i.push(e),this.getView=()=>e,this.viewId=t}const s=e=>i[e.viewId];function u(e,t){const r=typeof e;if(["string","number"].includes(r)){const o="string"===r?new String(e):new Number(e);return a.call(o,t),o}return e}const c=e=>{if("object"!=typeof e)return e;const t=[];return e.forEach((e=>{const r={};Object.entries(e).forEach((([e,t])=>{r[e]=t.view?u(t.value,t.view):t.value})),t.push(r)})),t},l=e=>{if("object"!=typeof e)return e;const t=[];return e.forEach((e=>{const r={};Object.entries(e).forEach((([e,t])=>{r[e]={view:t?.getView?s(t):void 0,value:t?.valueOf()??t}})),t.push(r)})),t};__webpack_require__(8220),__webpack_require__(3049),__webpack_require__(3406),__webpack_require__(6349);const g=[0,31,59,90,120,151,181,212,243,273,304,334],d=(e,t)=>{const r=new Array(t).join("0")+e;return r.substring(r.length-t,r.length)},f=e=>"string"==typeof e||"number"==typeof e||e instanceof Number||e instanceof String?new Date(e):e;var h=e=>e.replace(/hh:mm/i,"").replace(":ss","").replace(/[a,p]\\.?m\\.?/i,"").trim();__webpack_require__(3348),__webpack_require__(9902),__webpack_require__(4802),__webpack_require__(2901);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={ar_SA:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},az_AZ:{monthNames:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","yun","yul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertsi","rnb axam","rnb","Cm axam","Cm","nb"],dayNamesShort:["B","Be","a","","Ca","C",""],dayNamesMin:["B","B","","","","C",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},be_BY:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bg_BG:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bs_BA:{monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","e","Pe","Su"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ca_ES:{monthNames:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","mar","abr","maig","juny","jul","ag","set","oct","nov","des"],dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],dayNamesMin:["dg","dl","dt","dc","dj","dv","ds"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},cs_CZ:{monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],monthNamesShort:["led","no","be","dub","kv","er","vc","srp","z","j","lis","pro"],dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],dayNamesMin:["ne","po","t","st","t","p","so"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dnes",yesterday:"Vera",am:"dop.",pm:"odp."},da_DK:{monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],monthNamesShort:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],dayNames:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],dayNamesMin:["S","Ma","Ti","On","To","Fr","L"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"I dag",yesterday:"I gr",am:"AM",pm:"PM"},de_CH:{monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Heute",yesterday:"Gestern",am:"AM",pm:"PM"},de_DE:{monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Heute",yesterday:"Gestern",am:"AM",pm:"PM"},el_GR:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},en_GB:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0,isRTL:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"AM",pm:"PM"},en_US:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0,isRTL:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",weekstart:"weekstart",weekend:"weekend",monthstart:"monthstart",monthend:"monthend",am:"AM",pm:"PM"},es_AR:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_MX:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_VE:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_ES:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},et_EE:{monthNames:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Mrts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Phapev","Esmaspev","Teisipev","Kolmapev","Neljapev","Reede","Laupev"],dayNamesShort:["Phap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Tna",yesterday:"Eile",am:"AM",pm:"PM"},eu_ES:{monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig.","al.","ar.","az.","og.","ol.","lr."],dayNamesMin:["ig","al","ar","az","og","ol","lr"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},fa_IR:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},fi_FI:{monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Keskuu","Heinkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kes","Hein","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Tnn",yesterday:"Eilen",am:"ap.",pm:"ip."},fr_BE:{monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd\'hui",yesterday:"Hier",am:"AM",pm:"PM"},fr_CA:{monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avril","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd\'hui",yesterday:"Hier",am:"AM",pm:"PM"},fr_FR:{monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd\'hui",yesterday:"Hier",am:"AM",pm:"PM"},hi_IN:{monthNames:[" ","","","","","",""," ","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},hu_HU:{monthNames:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december"],monthNamesShort:["jan.","febr.","mrc.","pr.","mj.","jn.","jl.","aug.","szept.","okt.","nov.","dec."],dayNames:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat"],dayNamesShort:["Vas","Ht","Ked","Sze","Cs","Pn","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"Ma",yesterday:"Tegnap",am:"DE",pm:"DU"},in_ID:{monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},is_IS:{monthNames:["janar","febrar","mars","aprl","ma","jn","jl","gst","september","oktber","nvember","desember"],monthNamesShort:["jan.","feb.","mar.","apr.","ma","jn.","jl.","g.","sep.","okt.","nv.","des."],dayNames:["Sunnudagur","Mnudagur","rijudagur","Mivikudagur","Fimmtudagur","Fstudagur","Laugardagur"],dayNamesShort:["Sun","Mn","ri","Mi","Fim","Fs","Lau"],dayNamesMin:["Su","M","r","Mi","Fi","F","La"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:" dag",yesterday:" gr",am:"AM",pm:"PM"},it_IT:{monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Oggi",yesterday:"Ieri",am:"AM",pm:"PM"},iw_IL:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesMin:["\'","\'","\'","\'","\'","\'",""],firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},ja_JP:{monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""},ka_GE:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ko_KR:{monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""},lt_LT:{monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegu","Birelis","Liepa","Rugpjtis","Rugsjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","treiadienis","ketvirtadienis","penktadienis","etadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","e"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","e"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},lv_LV:{monthNames:["Janvris","Februris","Marts","Aprlis","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svtdiena","pirmdiena","otrdiena","trediena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},mk_MK:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},nl_BE:{monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Vandaag",yesterday:"Gisteren",am:"AM",pm:"PM"},nl_NL:{monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Vandaag",yesterday:"Gisteren",am:"AM",pm:"PM"},no_NO:{monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["sn","man","tir","ons","tor","fre","lr"],dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesMin:["s","ma","ti","on","to","fr","l"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"I dag",yesterday:"I gr",am:"AM",pm:"PM"},pl_PL:{monthNames:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],dayNames:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],dayNamesShort:["Nie","Pn","Wt","r","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","r","Cz","Pt","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dzisiaj",yesterday:"Wczoraj",am:"AM",pm:"PM"},pt_BR:{monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoje",yesterday:"Ontem",am:"AM",pm:"PM",article:"de"},pt_PT:{monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoje",yesterday:"Ontem",am:"AM",pm:"PM",article:"de"},ro_RO:{monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Astzi",yesterday:"Ieri",am:"AM",pm:"PM"},ru_RU:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"",yesterday:"",am:"AM",pm:"PM"},sk_SK:{monthNames:["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december"],monthNamesShort:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],dayNames:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],dayNamesShort:["Ned","Pon","Uto","Str","tv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","t","Pia","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dnes",yesterday:"Vera",am:"AM",pm:"PM"},sl_SL:{monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","et","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","e","Pe","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},sr_SR:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},sv_SE:{monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],dayNames:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesMin:["S","M","Ti","On","To","Fr","L"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Idag",yesterday:"Igr",am:"fm",pm:"em"},th_TH:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["..","..","..","..","..","..","..","..","..","..","..",".."],dayNames:["","","","","","",""],dayNamesShort:[".",".",".",".",".",".","."],dayNamesMin:[".",".",".",".",".",".","."],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"",pm:""},tr_TR:{monthNames:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],monthNamesShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","a","Pe","Cu","Ct"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},uk_UA:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"AM",pm:"PM"},vi_VN:{monthNames:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"],monthNamesShort:["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],dayNames:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},zh_CN:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""},zh_TW:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"",yesterday:"",am:"",pm:""}},E="_picker",_="_point";Object.entries({da_DK:{monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]},de_DE:{monthNamesShort:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."]},en_GB:{monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]},hu_HU:{monthNames:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],monthNamesShort:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Szep","Okt","Nov","Dec"]},is_IS:{monthNames:["Janar","Febrar","Mars","Aprl","Ma","Jn","Jl","gst","September","Oktber","Nvember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Ma","Jn","Jl","g","Sep","Okt","Nv","Des"]},ja_JP:{monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"]},nl_NL:{monthNames:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthNamesShort:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."]},pl_PL:{monthNames:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthNamesShort:["sty","lu","mar","kw","maj","cze","lip","sie","wrz","pa","lis","gru"]},ru_RU:{monthNames:["","","","","","","","","","","",""],monthNamesShort:[".",".",".",".","",".",".",".",".",".",".","."]},cs_CZ:{monthNamesShort:["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"]},es_ES:{monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],generateMonthNamesShortWithPoint:!0},no_NO:{monthNamesShort:["jan.","feb.","mar.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."]},pt_BR:{monthNamesShort:["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."]},ro_RO:{monthNamesShort:["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."]},fi_FI:{monthNamesShort:["tammik.","helmik.","maalisk.","huhtik.","toukok.","kesk.","heink.","elok.","syysk.","lokak.","marrask.","jouluk."]},sv_SE:{monthNamesShort:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."]},zh_CN:{monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"]}}).forEach((e=>{var[t,r]=e;b[t+E]=m(m({},b[t]),r)})),Object.entries(b).forEach((e=>{var[t,r]=e;if(r.generateMonthNamesShortWithPoint){var o=r.monthNamesShort.map((e=>"".concat(e,"."))),n=t.replace(E,"");b[n+_]=m(m({},r),{},{monthNamesShort:o,generateMonthNamesShortWithPoint:!1})}}));var S={get:e=>b[e],set:(e,t)=>{b[e]=t},has:e=>!!b[e],findAlternateLocales:e=>[E,_].map((t=>e+t)).filter(S.has)},v=S;const T=e=>void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/[\\u200B\\uFEFF]/g,"").trim()),A=/\\s{2,}|\\u00A0/g,N=" ",C=e=>T(e).replace(A," ").trim(),D=e=>!e||0===T(e).length;var w=e=>{var t=(e=>(e=>(e||"").toLocaleLowerCase())(C(e)))(e),r=/([+-])(\\d+[yY]\\s*)?(\\d+[mM]\\s*)?(\\d+[wW]\\s*)?(\\d+[dD]\\s*)?/g.exec(t);return null!==r&&r[0]===t&&r.slice(2,6).some((e=>!D(e)))?r:null},R=(e,t,r,o,n)=>{t=t||0,r=r||0,(o=o||"AM")===n&&"12"!==t&&(t=+t+12),e.setHours(t,r,0,0)};var x=[function(e){return"Just now"===e?new Date:null},function(e){var t=e.match(/(\\d+) (minutes?|hours?|days?|weeks?) ago( (\\d+):(\\d\\d) ([AP]M))?/);if(!t)return null;var r=t[1],o=t[2],n=new Date;switch(o){case"minute":case"minutes":n.setMinutes(n.getMinutes()-r);break;case"hour":case"hours":n.setHours(n.getHours()-r);break;case"day":case"days":n.setDate(n.getDate()-r),R(n,t[4],t[5],t[6],"PM");break;case"week":case"weeks":n.setDate(n.getDate()-7*r),R(n,t[4],t[5],t[6],"PM")}return n},function(e){var t=arguments.length>2?arguments[2]:void 0,r=null;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((o=>{var n=v.get(o),i=n.today||"Today",a=n.yesterday||"Yesterday",s=n.weekend||"weekend",u=n.weekstart||"weekstart",c=n.monthend||"monthend",l=n.monthstart||"monthstart",g=n.firstDay||0,d=n.pm||"PM",f=n.am||"AM",h="",p=n.dayNamesShort||n.dayNamesMin;t||(h=p.join("|")+"|");var m=new RegExp("^(".concat(n.dayNames.join("|"),"|").concat(h).concat(i,"|").concat(a,"|").concat(s,"|").concat(u,"|").concat(l,"|").concat(c,")( (\\\\d+):(\\\\d\\\\d)( (").concat(f,"|").concat(d,"))?)?$"),"i"),y=e.match(m);if(y){var b=y[1],E=b.toLowerCase();r=new Date,R(r,y[3],y[4],y[6],d);var _=0;if(b===a)_=1;else if(E===s)_=r.getDay()-6-g;else if(E===u)_=r.getDay()-g;else if(E===c)r.setMonth(r.getMonth()+1),r.setDate(0);else if(E===l)r.setDate(1);else if(b!==i){var S=n.dayNames.indexOf(b);-1===S&&(S=p.indexOf(b)),(_=r.getDay()-S)<0&&(_+=7)}return r.setDate(r.getDate()-_),!0}})),r},(e,t)=>{if(D(e))return null;var r=w(e);if(null===r)return null;var o="-"===r[1]?-1:1,n=r.slice(2,6).filter((e=>!!e)),i=(e=>"[object Date]"===Object.prototype.toString.call(e))(t)?new Date(t):new Date;for(var a of(i.setHours(0,0,0,0),n)){var[,s,u]=/(\\d+)([ymwd])/.exec(a),c=o*s;switch(u){case"y":i.setFullYear(i.getFullYear()+c);break;case"m":i.setMonth(i.getMonth()+c);break;case"w":i.setDate(i.getDate()+7*c);break;default:i.setDate(i.getDate()+c)}}return i}],O=(e,t,r)=>{var o=null;return x.some((n=>null!=(o=n(e,t,r)))),o},I=(__webpack_require__(4707),function(e,t){-1===e.indexOf(t)&&e.push(t)});function k(e,t){const r=v.get(t);let o=e;return r?.article&&(o=e.replace(new RegExp(" "+function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,"\\\\$&").replace(/-/g,"\\\\x2d")}(r.article)+" ","g")," ")),o}__webpack_require__(2304);var M=(e,t,r)=>{var o=t,n=e,i=[];o=h(o);var a=t.replace(o,"").trim(),s=e.indexOf(":");if(s>=0){s-=2;var u=e.substring(s,s+a.length).trim();n=e.replace(u,"").replace(/[a,p]\\.?m\\.?/i,"").trim();var c=e.replace(u,"").replace(n,"").trim().toLocaleLowerCase();i=u.split(":");var l=[];r&&(l=r.map((e=>v.get(e).pm))),-1!==c.indexOf("pm")||-1!==c.indexOf("p.m")||-1!==l.indexOf(c)?"12"!==i[0]&&(i[0]=parseInt(i[0])+12):c.length&&(i[0]=i[0]%12)}return{dateFormat:o,timeFormat:a,timeString:u,dateString:n,time:i}},L=/(^(\\d{1,4}\\.){4})/g,F=(e,t,r,o,n)=>((e,t,r,o,n)=>{if(!e||!e.trim())return{date:null,formats:t};if((e=>{var t=e.toLowerCase();return"today"===t||"heute"===t})(e))return(s=new Date).setHours(0,0,0,0),{date:s,formats:t,isRelative:!0};var i;"string"==typeof t&&(t=[t]),"string"==typeof r&&(r=[r]),["en_US","en_GB"].includes(r[0])||I(r,"en_US"),v.findAlternateLocales(r[0]).forEach((e=>I(r,e)));for(var a=0;a<t.length;a++){var s,u=(i=t[a]).toLowerCase().indexOf("hh:mm")>=0,c=i.indexOf("i")>=0,l=i.indexOf("w")>=0,d=i,f=e,h=[];if(u){var p=M(e,i,r);if(d=p.dateFormat,f=p.dateString,h=p.time,!d&&0===h.length)throw"Not a date"}else c&&(d=d.replace("i","m")),l&&(d=d.replace(/w/g,"o"));-1===d.toLowerCase().indexOf("m")&&(d="mm/"+d,f="01/"+f),-1===d.indexOf("d")&&(d="dd/"+d,f="01/"+f),-1===d.indexOf("y")&&(d="yy/"+d,f=(new Date).getFullYear()+"/"+f);try{for(var m=0;m<r.length;m++){var y=r[m],b=v.get(y),E=k(f,y);try{(s=$.datepicker.parseDate(d,E,b)).getTime()}catch(e){if(-1===e.indexOf("Extra/unparsed characters found in date: ")||o||L.test(E)){if(-1===d.indexOf("yy")||-1===e.indexOf("Missing number at position")){if(m<r.length-1)continue;throw e}(s=$.datepicker.parseDate(d.replace("yy","y"),E,b)).getTime()}else(s=$.datepicker.parseDate(d,E.replace(e.split("Extra/unparsed characters found in date: ")[1],""),b)).getTime()}break}}catch(o){if(a<t.length-1)continue;if(null==(s=O(e,r,n)))throw o;return{date:s,formats:t,isRelative:!0}}if(s){if(s.setHours(h[0]||0,h[1]||0,h[2]||0),c&&s.setMonth(3*s.getMonth()),l){var _=s.getMonth(),S=s.getDate();_>1&&s.getYear()%4==0&&S++,s.setMonth(0),s.setDate(1);var T=s.getDay();s.setDate(1-T),T>4&&s.setDate(s.getDate()+7),s.setDate(s.getDate()+7*(S+g[_]-1))}break}}return{date:s,formats:[i]}})(e,t,r,o,n).date;const U="yy-mm-dd";__webpack_require__(6558),__webpack_require__(8142),__webpack_require__(5809),__webpack_require__(1035),__webpack_require__(4853),__webpack_require__(4003),__webpack_require__(204),__webpack_require__(7709),__webpack_require__(2391),__webpack_require__(3256),__webpack_require__(327),__webpack_require__(46),__webpack_require__(6266),__webpack_require__(8530),__webpack_require__(3452),__webpack_require__(2826),__webpack_require__(5183),__webpack_require__(4555),__webpack_require__(7628);const P=(e,t,r)=>{const o=["dd/M/yy HH:mm","dd/M/y HH:mm",r,"dd.mm.yy","m/d/yy","d M yy","d M y","M dd, yy",U,"m/d/y","d. m. yy.","dd-mm-yy","dd-mm-y","dd.mm.y","dd/mm/yy","yy.dd.mm","yy/mm/dd"],n=.3*(e=e.length>10?((e,t)=>{for(var r=[],o=e.length/t,n=(e.length-(t-1)*o)/2;n<e.length;n+=o)r.push(e[Math.floor(n)]);return r})(e,10):e).length;let i=0,a=null;return o.some((r=>{const o=e.reduce(((e,o)=>{try{if(F(o,r,t))return e+1}catch(e){}return e}),0);if(o>i&&o>=n&&(i=o,a=r,i===e.length))return!0})),a},H=(e,t,r)=>{if(!e)return"";let o=f(e);if("object"==typeof t&&(t=t[t.length-1]),(e=>isNaN(e.getTime?.()))(o)){const n=((e,t,r)=>{const o=Array.isArray(t)?t:[t],n=O(e,o);if(n)return n;const i=P([e],o,r);return i?F(e,i,o):null})(String(e),r,t);if(!n)return"";o=n}"object"==typeof r&&(r=r[r.length-1]);const n=t.toLowerCase().indexOf("hh:mm");let i=t,a="";if(n>=0&&(i=h(i),a=((e,t)=>{if(!e)return"";e=f(e);const r=-1!==t.indexOf("HH:"),o=t.indexOf(":ss")>=0;let n=e.getHours(),i="";r&&(i=n>11?" p.m.":" a.m.",0===n?n=12:n>12&&(n%=12));let a=d(n,2)+":"+d(e.getMinutes(),2);return o&&(a=a+":"+d(e.getSeconds(),2)),a+i})(o,t)),i.indexOf("i")>=0&&(i=i.replace("i","m"),o=new Date(o.getTime()),o.setDate(1),o.setMonth(o.getMonth()/3)),i.includes("w")){o=new Date(o.getTime()),o.setDate(o.getDate()+4-o.getDay());const e=o.getMonth();let t=o.getDate();e>1&&o.getFullYear()%4==0&&t++;const r=(t+g[e]-1)/7+1;let n="o";i.includes("ww")&&r<10&&(n="0"+n),i=i.replace(/w+/,n),o.setMonth(0),o.setDate(r)}let s=$.datepicker.formatDate(i,o,v.get(r));return 0===n?s=a+" "+s:n>0&&(s=s+" "+a),s},j=[36e5,6e4,1e3];function B(e){const t=Object.getOwnPropertyNames(e);for(const r of t){const t=e[r];t&&"object"==typeof t&&B(t)}return Object.freeze(e)}Object.freeze({PANEL:"Filtration panel",HEADER:"Table header",HIDDEN:"true"});const q="",V=/^<(td|th)\\b[^>]*>/i,G=/<\\/(td|th)>$/i,z=String.fromCharCode(8218),Y=(new RegExp(z,"g"),B({SHORT:{COMMA:",",POINT:".",SPACE:" ",APOSTROPHE:"\'",ESCAPED_SPACE:"\\\\u0020"},LONG:{COMMA:"Comma (,)",POINT:"Point (.)",SPACE:"Space ( )",APOSTROPHE:"Apostrophe (\')"}}));B([{label:"dd-mm-yy (07-04-2024)",value:"dd-mm-yy"},{label:"dd.mm.yy (07.04.2024)",value:"dd.mm.yy"},{label:`${U} (2024-04-07)`,value:U},{label:"m/d/yy (4/7/2024)",value:"m/d/yy"},{label:"m/d/y (4/7/24)",value:"m/d/y"},{label:"d M yy (7 Apr 2024)",value:"d M yy"},{label:"dd M yy (07 Apr 2024)",value:"dd M yy"},{label:"M dd, yy (Apr 07, 2024)",value:"M dd, yy"},{label:"MM yy (April 2024)",value:"MM yy"},{label:"yy Qi (2024 Q2)",value:"yy Qi"},{label:"yy-w (2024-14)",value:"yy-w"},{label:"m/d/y HH:mm (4/7/24 12:30 p.m.)",value:"m/d/y HH:mm"},{label:"d.m.yy hh:mm (7.4.2024 12:30)",value:"d.m.yy hh:mm"},{label:"dd.mm hh:mm:ss (07.04 12:30:00)",value:"dd.mm hh:mm:ss"}]);var W=__webpack_require__(8493),K=__webpack_require__.n(W);const J=new RegExp("TFaC-sq","g"),X=(new RegExp("TFaC-dq","g"),new RegExp("TFaC-vd","g")),Q=new RegExp("TFaC-bs","g"),Z=new RegExp("TFaC-vq","g"),ee=new RegExp("TFaC-vga","g"),te=(new RegExp(\'"(.*?)"\',"gm"),new RegExp("FROM\\\\s+(T\\\\d+)\\\\s+((\\\\w* )?JOIN\\\\s+T\\\\*\\\\s+\\\\w*\\\\s+((T\\\\d+)\\\\..+\\\\s*=\\\\s*T\\\\*\\\\.(`.+?`)|([^\\\\s])))"),new RegExp("\'([^\']+?)\'\\\\)?\\\\s+AS\\\\s+\'(.+?)\'","gi"),new RegExp("(T\\\\d+)?\\\\.?`(.+?)`","g"),/^\\s+()|()\\s+$/g);var re=e=>e.replace(J,"\'").replace(Q,"\\\\").replace(X,\'"\').replace(Z,"\'").replace(ee,"`"),oe=e=>{const t=e?.getView?.().trim();return t&&/^<t[dh][ >]/.test(t)},ne=e=>{if(e&&Object.prototype.hasOwnProperty.call(e,"getView")){const t=e,r=s(t);return oe(t)?r.slice(r.indexOf(">")+1,r.lastIndexOf("<")).trim():r}};const ie="</p>",ae=`temp-paragraph-tag-${(()=>{if(crypto?.randomUUID)return crypto.randomUUID();if(crypto?.getRandomValues){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.from(e,(e=>e.toString(16).padStart(2,"0")));return`${t.slice(0,4).join("")}-${t.slice(4,6).join("")}-${t.slice(6,8).join("")}-${t.slice(8,10).join("")}-${t.slice(10,16).join("")}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))})()}`,se=`<${ae}`,ue=`</${ae}>`,ce=new RegExp("<p\\\\b","g"),le=new RegExp(ie,"g"),ge=new RegExp(`${se}\\\\b`,"g"),de=new RegExp(ue,"g");const fe=e=>e?.toString()??"",he=e=>`tfView${e}/tfView`,pe=e=>(new DOMParser).parseFromString(e,"text/html"),me=(e,t)=>{let r=null;const o=()=>r??=(e=>pe(e).body.textContent??"")(t);return e.forEach(((e,r)=>{const n=ne(e);if("string"==typeof n){const i=he(r),a=`%C2%ABtfView%C2%BB${r}%C2%AB/tfView%C2%BB`;if(!t.includes(i)&&!t.includes(a))return;const s=fe(e),u=new RegExp(i,"g"),c=e=>(e.match(u)??[]).length,l=n.includes(\'"\')&&t.includes(i)&&t.includes(\'"\')&&c(t)>c(o());t=t.replace(i,l?s.replaceAll(\'"\',"&quot;"):n).replace(a,s)}})),t},ye=e=>1===e.length?fe(e[0]):e.reduce(((e,t,r)=>e+((e,t)=>e?.getView?he(t):fe(e))(t,r)),"");var be=(e,t,r)=>{let o=ye(e);o=re(o).replace(/(\\\\r)?\\\\n/g,"\\n\\n");let n=t(o,r);return n=me(e,n),n=function(e){const t=pe((o=e,o.replace(ce,se).replace(le,ue))),r=Array.from(t.querySelectorAll(ae)).filter((e=>e.querySelector(`${ae}, div`)));var o;if(!r.length)return e;return r.forEach((e=>{e.replaceWith(...e.childNodes)})),function(e){return(e??"").replace(ge,"<p").replace(de,ie)}(t.body.innerHTML)}(n),0!==n.indexOf("<td")&&(n=`<td class="confluenceTd">${n}</td>`),u(o,n)};__webpack_require__(326),__webpack_require__(2321),__webpack_require__(1463),__webpack_require__(1014),__webpack_require__(2628);var Ee=__webpack_require__(3150),_e=__webpack_require__.n(Ee);const Se={Grey:"",Red:"error",Yellow:"moved",Green:"success",Blue:"current",Purple:"complete"};var ve=new(__webpack_require__(8793)),Te=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.replace(/\\r?\\n/g,"\\n\\n"):e},Ae=function(e){return we(e=Te(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),(e=>ve.render(e)))},Ne=(e,t,r)=>{var o="";if(t){var n=(t=t.replaceAll("|",";").replaceAll("=",":")).split(";").reduce(((e,t)=>{var[r,o]=t.split(":");return e[r.trim()]=o,e}),{}),i=n.width;i&&(n["min-width"]=n["min-width"]||i,n["max-width"]=n["max-width"]||i,n["word-break"]=n["word-break"]||"break-word");var a=(e,t)=>{Object.prototype.hasOwnProperty.call(n,e)&&delete Object.assign(n,{[t]:n[e]})[e]};a("align","text-align"),a("bgColor","background"),a("textColor","color"),o=Object.entries(n).map((e=>{var[t,r]=e;return"".concat(t,":").concat(r,";")})).join("")}var s=e=>{var t,o=Array.from(r.matchAll(e)).map((e=>{var{index:t}=e;return t}));return null!==(t=o[0])&&void 0!==t||(o[0]=-1),o},u=s(ce),c=s(le),l=u.at(0)>c.at(0)?"<p>":"",g=u.at(-1)>c.at(-1)?"</p>":"";return\'<td class="confluenceTd" style="\'.concat(_e()(o),\'">\').concat(l).concat(r).concat(g,"</td>")},Ce=(e,t,r)=>we(e=Te(e,r),(e=>{var o=e.replace(/\\\\\\\\/g,"\\n\\n").replace(/^[ \\t]*([#*]+)\\s+/gm,(function(e,t){return Array(t.length).join("    ")+("#"===t[t.length-1]?"1. ":"* ")})).replace(/^[ \\t]*h([0-6])\\.(.*)$/gm,(function(e,t,r){return Array(parseInt(t)+1).join("#")+r})).replace(/\\[(.+?)\\]/g,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var[o,n]=t[1].split("|").reverse();return"[".concat(n||o,"](").concat(o.replace(/_/g,"%5F"),")")})).replace(/\\*(\\S.*)\\*/g,"**$1**").replace(/_(\\S.*)_/g,"*$1*").replace(/{{([^}]+)}}/g,"`$1`").replace(/(^|\\s+)-(\\S+.*?\\S)-([\\s,.:;)]|$)/g," ~~$2~~ ").replace(/{code(:([a-z]+))?([:|]?(title|borderStyle|borderColor|borderWidth|bgColor|titleBGColor)=.+?)*}([^]*){code}/gm,"```$2$5```").replace(/{noformat}/g,"```").replace(/!([^|!\\s]+)!/g,"![]($1)").replace(/^[ \\t]*bq\\.\\s+/gm,"> ").replace(/{panel:title=([^}]*)}([^]*?){panel}/gm,"\\n| $1 |\\n| --- |\\n| $2 |").replace(/^[ \\t]*((?:\\|\\|.*?)+\\|\\|)[ \\t]*$/gm,(function(e,t){var r=t.replace(/\\|\\|/g,"|");return"\\n"+r+"\\n"+r.replace(/\\|[^|]+/g,"| --- ")})).replace(/^[ \\t]*\\|/gm,"|").trim();return ve.render(o,r).replace(/(^|\\s|>)\\+([^+]*)\\+/g,"$1<ins>$2</ins>").replace(/\\^([^^]*)\\^/g,"<sup>$1</sup>").replace(/~([^~]*)~/g,"<sub>$1</sub>").replace(/\\(\\/\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/check.png" class="emoticon">\')).replace(/\\(\\+\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/add.png" class="emoticon">\')).replace(/\\(-\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/forbidden.png" class="emoticon">\')).replace(/\\(!\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/warning.png" class="emoticon">\')).replace(/\\(\\?\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/help_16.png" class="emoticon">\')).replace(/\\(\\*y\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/star_yellow.png" class="emoticon">\')).replace(/\\(\\*r\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/star_red.png" class="emoticon">\')).replace(/\\(\\*g\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/star_green.png" class="emoticon">\')).replace(/\\(\\*b\\)/gm,\'<img src="\'.concat(t,\'/images/icons/emoticons/star_blue.png" class="emoticon">\')).replace(/{color:([^}]+)}([^{]*){color}/gm,\'<span style="color:$1">$2</span>\').replace(/{panel:bgColor=([^|}]*)(\\|textColor=([^}]*))?}([^]*?){panel}/gm,\'<div style="background:$1;border-radius:3px;padding: 0 4px;color:$3">$4</div>\').replace(/{status:colour=([^|]*)(\\|subtle=([^|]*))?\\|title=([^}]*)}/gm,((e,t,r,o,n)=>{var i,a=null!==(i=Se[t])&&void 0!==i?i:"";return\'<span class="aui-lozenge\'.concat(a?" aui-lozenge-".concat(a):""," ").concat("true"===o?"aui-lozenge-subtle":"",\'">\').concat(n,"</span>")})).replace(/<p>{cell:?([^}]*)}([^]*?){cell}<\\/p>/gm,Ne)})),De=/({|%7B)escape(}|%7D)(.*?)({|%7B)\\/escape(}|%7D)/g;function we(e,t){De.lastIndex=0;for(var r,o=0,n=[];r=De.exec(e);){var i=r[0].length,a="{escape}".concat(o++,"{/escape}");e=e.replace(r[0],a),n.push(_e()(r[3])),De.lastIndex+=a.length-i}var s=t(e);for(De.lastIndex=0;r=De.exec(s);){var u=r[0].length,c=n[+r[3]];s=s.replace(r[0],c),De.lastIndex+=c.length-u}return s}var Re=__webpack_require__(2999),xe=__webpack_require__.n(Re),Oe=__webpack_require__(9053),Ie=__webpack_require__.n(Oe);const ke=(e,t)=>{const r=[];e.childNodes.forEach((e=>{const{nodeType:o,textContent:n}=e;if(o===Node.TEXT_NODE)Me(e,n,t);else if(o===Node.ELEMENT_NODE){const o=e;Le(o,n,t)?r.push(o):ke(o,t)}})),r.forEach((e=>e.remove()))},Me=(e,t,r)=>{if(t){const o=t.replaceAll(q,"");e.textContent=o,o!==t?$e(r,t.length-o.length,t):t&&(r.deleteEmptyNodes=!1)}},Le=(e,t,r)=>{if(!t)return r.deleteEmptyNodes;const o=t.length;return t===q.repeat(o)&&($e(r,o,t),!0)},$e=(e,t,r)=>{e.prefixLength>0?(e.prefixLength-=t,0===e.prefixLength&&(e.deleteEmptyNodes=!1)):e.deleteEmptyNodes=r.endsWith(q)};var Fe=function(e){n.fn.CHARINDEX=function(e,t){return t.indexOf(e)+1},n.fn.SUBSTRING_INDEX=function(e,t,r){var o=e.split(t);return o.splice(Math.max(r,0),o.length-Math.abs(r)),o.join(t)},n.fn.SPLIT=function(e,t,r){var o=e.split(t);return r?o[r-1]:o},n.fn.SPLIT_PART=n.fn.SPLIT,n.fn.FORMATDATE=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.dateFormat;if("number"==typeof t||t instanceof Number){var o=new Date;o.setTime(t),t=o}return H(t,r,e.locales[0])},n.fn.FORMATTIME=function(e){return(e=>{const t=[];let r=!0;return j.forEach((function(o,n){const i=Math.floor(e/o);(i||n)&&(t.push(!r&&i<10?"0"+i:i),e-=i*o,r=!1)})),t.join(":")})(e)},n.fn.FORMATWORKLOG=function(t){return((e,t,r)=>{const o=[];let n="";return e<0&&(n="-",e=-e),t.places.forEach((function(n,i){const a=e/n.mult;let s;s=i<t.places.length-1||1===n.mult?Math.floor(a):Math.round(10*a)/10,(s||i===t.places.length-1&&!o.length)&&(o.push(((e,t)=>(e+"").replace(".",t))(s,r)+n.place),e-=s*n.mult)})),n+o.join(" ")})(t,e.worklog,e.separator)};var t=(({separator:e,thousandSeparator:t,decimals:r})=>K()({mark:e,thousand:t!==e?t:Y.SHORT.SPACE,decimals:r||void 0}))(e);n.fn.FORMATNUMBER=function(e,r,o,n){return(r?K()({mark:r,thousand:o,decimals:n}):t).to(+e)},n.fn.MATCH_REGEXP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==e)return null;e+="",t=re(t);var o=new RegExp(t,r);return e.match(o)},n.fn.FORMATWIKI=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return be(r,Ce,e.contextPath)},n.fn.FORMATMARKDOWN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return be(t,Ae)},n.fn.ESCAPEMARKUP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===e&&(e=""),"{escape}".concat(e,"{/escape}")},n.fn.CONCAT_VIEW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return je(t)},n.fn.REPLACE_VIEW=(e,t,r)=>null==e||null==t?e:(null==r&&(r=""),Ue(e,re(t.toString()),re(r.toString()))),n.fn.SUBSTRING_VIEW=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t--;var n,i,a=r&&t+r;null!=e&&e.getView?(n=e.toString(),i=q.repeat(t)+n.substring(t,a)):i=(n=(null!=e?e:"").toString()).substring(t,a);var s=Ue(e,n,i);return o?He(s):s},n.fn.TEXT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.getView?C($(s(e)).text()):""+e},n.fn.LOG=function(e){return Math.log(e)},n.fn.CURDATE=function(){return(new Date).getTime()},n.fn.HTML_DECODE=e=>{var t;null!=e||(e="");var r=null!==(t=s(e))&&void 0!==t?t:e;return(new DOMParser).parseFromString(r,"text/html").documentElement.textContent},n.aggr.MULT=function(e,t,r){return 1===r?e:2===r?t*e:t},n.aggr.CONCAT_VIEW_AGGR=(e,t)=>je([t,e]),n.fn.REGEXP_REPLACE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(null==e)return null;e=String(e),t=re(t),r=re(r);var n=new RegExp(t,o);return e.replace(n,r)},n.fn.SPLIT_VIEW=function(e,t){if(null==e)return[null];var r=e.toString().split(t);if(!e.getView)return r;if(1===r.length)return[e];var o=s(e).trim(),n=o.match(V),i=o.match(G),a=n&&i,c=a?n[0]:\'<td class="confluenceTd">\',l=a?i[0]:"</td>",g=a?o.replace(c,"").replace(G,""):o;return r.map(((e,o)=>{var n=0===o,i=o===r.length-1,a=r.slice(0,o).join(t),s=r.slice(o+1).join(t);n||(a+=t),i||(s=t+s);var d=((e,t,r)=>{const o=document.createElement("div");return o.innerHTML=C(r),xe()(o,{find:A,replace:" "}),xe()(o,{find:te,replace:"$1"}),[e,t].filter(Boolean).map((e=>xe()(o,{find:e,replace:q.repeat(e.length)}))),ke(o,{deleteEmptyNodes:e.length>0,prefixLength:e.length}),o.innerHTML})(a,s,g),f="".concat(c).concat(d).concat(l);return u(e.trim(),f)}))}},Ue=(e,t,r)=>{if(e){var o;if(e.getView){r.length||(r=q);var n=function(e){var t=null!=e&&e.getView?s(e):"",r=$(C(t)),o=r[0];return xe()(o,{find:A,replace:N}),xe()(o,{find:te,replace:"$1"}),r}(e);xe()(n[0],{find:t,replace:r}),o=u(Pe(n.text()),Pe(n[0].outerHTML))}else o=e.toString().replaceAll(t,r);return o}return e};function Pe(e){return e.replaceAll(q,"")}var He=e=>{if(null!=e&&e.getView){var t=$(s(e));return t.find("*").filter(((e,t)=>!t.innerText)).remove(),u(t.text(),t[0].outerHTML)}return e},je=e=>{if(e.length>1){var t=e.reduce(((e,t)=>e+(t||"")),""),r=e.reduce(((e,t)=>e+(ne(t)||_e()(t||""))),""),o=e.find((e=>oe(e)));return u(t,o?$(s(o)).html(r)[0].outerHTML:Ie().tableTd({cell:{html:r}}))}return e[0]||""},Be=(e,t)=>{try{return t(e)}catch(i){var r=i.message;if(-1!==r.indexOf("Expecting \'EQ\', got \'EQEQEQ\'")){var o=r.split("\\n-------")[0].split(":\\n...")[1],n=o.replace("===","=");return Be(e.replace(o,n),t)}throw i}},qe=function(e){var{jsons:t,opts:r}=e;i.length=0;var o=(e=>{const t={};return Object.entries(e).forEach((([e,{columns:r,fieldTypes:o,types:n,table:i}])=>{const a={columns:r,fieldTypes:o,types:n,table:c(i)};t[e]=a})),t})(t);$.each(n.tables,(function(e){n("DROP TABLE "+e)})),$.each(o,(function(e,t){var r=[];t.columns.forEach((function(e,o){var n=e.text;n=-1!==n.indexOf("`")?"["+n+"] ":"`"+n+"` ",r.push(n+t.fieldTypes[o])}));var o="CREATE TABLE "+e+" ("+r.join(", ")+")";n(o),n.tables[e].data=t.table})),Fe(r)};const Ve=["String","Array","Object","Function","Number","Boolean","Date","RegExp","Error"];let Ge;window.addEventListener("message",(function(e){e.stopImmediatePropagation();const{data:t}=e;if(ze(t))return;const r={op:t.op,sessionToken:Ge};try{r.result=Ye(t)}catch(e){r.error=e}parent.postMessage(r,"*")}));const ze=({op:e,data:t})=>"initIframeAlaSql"===e&&(Ge??=t.sessionToken??"",Ve.forEach((e=>{try{const t=window[e];Object.defineProperty(window,e,{value:t,writable:!1,configurable:!1}),Object.freeze(t.prototype)}catch(e){console.error(e)}})),!0),Ye=({op:e,data:t})=>{switch(e){case"executeAlasql":return(e=>{var{sqls:t,jsons:r,opts:o}=e;qe({jsons:r,opts:o});var i=t.reduce(((e,t)=>Be(t,n)),[]);return l(i)})(t);case"prepareAlaSql":return qe(t)}};t()($)}()})();<\/script></head></html>'})(t),document.body.appendChild(t)})),u).then((e=>{h=e,h?.postMessage({op:"initIframeAlaSql",data:{sessionToken:d}},"*")})),p),b=(e,{jsons:t},r)=>S(n,{sqls:e,..._(t,r)}),E=({jsons:e},t)=>S(i,_(e,t)),_=(e,t)=>{const r=(e=>{const t={};return Object.entries(e).forEach((([e,{columns:r,fieldTypes:o,types:n,table:i}])=>{const s={columns:r,fieldTypes:o,types:n,table:a(i)};t[e]=s})),t})(e);return{jsons:r,opts:{...t,formatDecimal:null}}},S=(e,t)=>new Promise(((r,o)=>{l.push({op:e,data:t,resolve:r,reject:o}),m()}))},35917:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s},getView:function(){return i},resetViewStorage:function(){return a}});const o=[];function n(e){const t=o.length;o.push(e),this.getView=()=>e,this.viewId=t}const i=e=>o[e.viewId],a=()=>{o.length=0};function s(e,t){const r=typeof e;if(["string","number"].includes(r)){const o="string"===r?new String(e):new Number(e);return n.call(o,t),o}return e}},44854:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});r(63348),r(88220),r(4267),r(73049),r(58142),r(33844),r(72628),r(63544),r(22901);var o=r(23589),n=r(27218),i=r.n(n),a=r(9053),s=r.n(a),u=r(35917),c=r(12188),l=r(30743),g=(e,t)=>{var r=t?'"':"",o=e.replace(/@currentuser/gi,(()=>r+(0,c.default)()+r)).replace(/@pagetitle/gi,(()=>r+(0,l.default)()+r));return t&&(o=o.replace(/"'|'"/g,"'")),o},f=(r(62708),r(73406),r(36349),/\\['"]/g),d=/'[^']*'|"[^"]*"/g,p=/\b(BEGIN|CASE)\b/gi,h=/\bEND\b/gi;function m(e,t){var r;return(null===(r=e.match(t))||void 0===r?void 0:r.length)||0}function y(e){var t=e.replace(f,"").replace(d,"");return m(t,p)-m(t,h)}var b=function(e,t){var r=[];function o(e){return e.replace(/([^\\]|^)\\['"]/g,"$1\\`")}for(;e.length;){var n=o(e),i=n.indexOf('"'),a=n.indexOf("'");if(-1===i&&-1===a){r.push(t(e));break}-1===i&&(i=e.length),-1===a&&(a=e.length);var s=Math.min(i,a),u=e.substring(0,s);u=t(u),r.push(u);var c=i<a?'"':"'";if(-1===(s=o(e=e.substring(s)).indexOf(c,1))){r.push(t(e));break}r.push(e.substring(0,s+1)),e=e.substring(s+1)}return r.join("")},E=r(14763),_=r(1654),S=r(25082),v=r(14412),T=r(80326),A=r(89059),N={normalizeSql:function(e,t,r){var o=function(e){for(var t=";TFaC;",r=b(e,(function(e){return e.replaceAll(";",t)})).split(t).map((e=>e.trim())).filter((e=>e)),o=[],n=0;n<r.length;n++){for(var i=r[n],a=y(i);a>0&&++n<r.length;){var s=r[n];i=i+";"+s,a+=y(s)}o.push(i)}return o}(e.sql.replace(/[\u00A0\n]/g," "));return o.map((o=>this.normalizeSqlStatement(o,e,t,r)))},normalizeSqlStatement:function(e,t,r,n){var i;for(e=function(e){return b(e,(function(e){var t=0;return e.replace(/([^=><]|^)[=]{1,2}(?!=|\s?ANY\b|\s?ALL\b)/gi,((r,o,n)=>{var i=e.substring(t,n+1);return t=n+o.length+1,i.match(/(SET|DECLARE)\s+@\w+( AS [A-Za-z0-9()]+)?\s*/i)?r:o+"==="}))}))}(e),e=(e=(e=>e.replace(/->tfView/g,"->getView()"))(e)).replace(/\\"/g,E.dblQuoteEscapeChars),E.sqlVarRegExp.lastIndex=0;i=E.sqlVarRegExp.exec(e);){var a=i[0].length,s=i[1].replace(E.dblQuoteRegExp,'"'),u=o.default.getAnyValueType(s,t.separator,t.worklog,!0,t.dateFormat,t.locales,!0);if(null!=u&&0!==u)s=""+N.getValue(s,u,t,!0),e=e.replace(i[0],s);else if(s=i[1],new RegExp("'|`|"+E.dblQuoteEscapeChars).test(s)?(s='"'+s.replace(/'/g,E.sqlVarQuoteEscapeChars).replace(/`/g,E.graveAccentEscapeChars).replace(E.dblQuoteRegExp,E.dblQuoteVarEscapeChars)+'"',e=e.replace(i[0],s)):s=i[0],/@currentuser|@pagetitle/.test(i[1].toLowerCase())){var c=g(s);e=e.replace(s,c),s=c}E.sqlVarRegExp.lastIndex===i.index+a&&E.sqlVarRegExp.lastIndex++,E.sqlVarRegExp.lastIndex+=s.length-a}var l=(e=(e=g(e,!0)).replace(E.dblQuoteRegExp,'"').replace(/\\'/g,E.quoteEscapeChars).replace(/'/g,"`").replace(/\\/g,E.slashEscapeChars).replace(E.sqlVarQuoteRegExp,"'")).search(/FROM\s+T\*/);if(-1!==l){var f=N.findParentheses(e,l),d=e,p="",h="";-1!==f.start&&-1!==f.end&&(p=e.substring(0,f.start+1),h=e.substring(f.end),d=e.substring(f.start+1,f.end));var m=[];$.each(r.jsons,(function(e){m.push(d.replace("T*",e))})),m.length&&(e=p+m.join(" UNION ALL CORRESPONDING ")+h)}if(-1!==e.search(/JOIN\s+T\*/)&&(i=E.joinRegExp.exec(e))){var y=i[1],_=i[2],v=[],T=[i[4]];$.each(r.jsons,(function(e){y!==e&&(v.push(_.replace(i[4],T.join(" OR ")).replace(/T\*/g,e)),T.push(i[4].replace(i[5],e)))})),e=e.replace(_,v.join(" "))}if(o.default.hasI18nMacros(n)){var A={};Object.keys(r.jsons).forEach((e=>A[e]=r.jsons[e].columns.map((e=>e.text))));var C=[];Object.keys(A).forEach((e=>C=C.concat(A[e])));var D=t.locales?t.locales[0]:(0,S.getLocale)();for(E.columnReferenceRegExp.lastIndex=0;i=E.columnReferenceRegExp.exec(e);){var w=i[1],R=i[2],x=[R];o.default.updateI18nSettings([w&&A[w]?A[w]:C],[x],D,n),x[0]!==R&&(e=e.replace(i[0],i[0].replace("`"+R+"`","`"+x[0]+"`")),E.columnReferenceRegExp.lastIndex+=x[0].length-R.length)}}return e},convertTablesToJSON:function(e,t){var r={},n={};return e.tables.forEach((function(e,i){if(e.length>0){var a=e[0];a.forEach((function(e,t){e.text?-1!==a[t].text.indexOf("`")&&-1!==a[t].text.indexOf("]")&&(a[t].text=a[t].text.replace(/`/g,"'")):a[t].text="__",a[t].text=(0,T.clearString)(a[t].text).replace(/\\/g,E.slashEscapeChars).replace(/'/g,E.quoteEscapeChars),Object.hasOwnProperty.call(n,a[t].text)||(n[a[t].text]={htmlColName:a[t].html})}));var s=[],c=[],l=[];e.forEach((function(e,r){if(r>0){var i={};(e=e.length>a.length?e.slice(0,a.length):e).forEach((function(e,r){if(!c[r]&&e.text){var l=o.default.getAnyValueType(e.text,t.separator,t.worklog,!0,t.dateFormat,t.locales);switch(s[r]=l,l){case 0:case 1:case 2:case 3:c[r]="number";break;default:c[r]="string"}}var g;try{g=e.text?N.getValue(e.text,s[r],t):null;var f=s[r]===v.DATA_TYPES.duration&&!1===g;(null===g||f)&&e.text&&(g=e.text)}catch(t){g=e.text,console.error(t)}i[a[r].text]=(0,u.default)(g,e.html),n[a[r].text][g]=e.html})),l.push(i)}})),a.forEach((function(e,t){c[t]||(c[t]="string",s[t]=null)})),r["T"+(i+1)]={table:l,columns:a,fieldTypes:c,types:s}}})),{jsons:r,valueViewMap:n}},convertJsonToTable:function(e,t,r){var o=this.getFormattedCols(e,t);this.formatResult(e,t,r);var n=[];return n.push(o),t.forEach((e=>{var t=[];o.forEach((r=>{t.push(e[r.text])})),n.push(t)})),n},getFormattedCols:function(e,t){var{cleanCellHtml:r}=this,o=[],n=[];return t.forEach((function(t){$.each(t,(function(t){if(-1===n.indexOf(t))if(n.push(t),e.valueViewMap[t])o.push({html:r(e.valueViewMap[t].htmlColName),text:t});else{var a=(0,_.default)(t);o.push({html:i().tableTh({value:a}),text:t})}}))})),o},formatResult:function(e,t,r){var{cleanCellHtml:n,getAliases:i}=this,a={},c=i(r.sql);$.each(e.jsons,(function(e,t){t.columns.forEach((function(e,r){a[e.text]=t.types[r]}))})),t.forEach((function(t){$.each(t,(function(i,l){var g,f;void 0===a[i]&&("number"==typeof l||l instanceof Number)&&(a[i]=v.DATA_TYPES.number),t[i]={type:0===a[i]?"number":""};var d=c[i],p=(null===(g=e.valueViewMap[i])||void 0===g?void 0:g[l])||(null===(f=e.valueViewMap[d])||void 0===f?void 0:f[l]);null==l?t[i].html=p?n(p):s().tableTd({cell:{html:"",type:""}}):l.getView?t[i].html=n((0,u.getView)(l)):p?t[i].html=n(p):(null!=a[i]&&void 0!==l?v.DATA_TYPES.date===a[i]&&("string"==typeof l||l instanceof String)?t[i].html=l:(t[i].html=o.default.formatAnyValueByType(l,a[i],(function(e){return r.formatDecimal.to(e)}),r.worklog,r.dateFormat,r.locales,r.separator),!1===t[i].html&&(t[i].html=l)):(l="string"==typeof l||l instanceof String?(0,_.default)(l):l,t[i].html=l),t[i].html=s().tableTd({cell:t[i]}))}))}))},getValue:function(e,t,r,o){if(null==t)return e;var n=(0,A.default)(t,e,r.separator,r.worklog,!0,r.dateFormat,r.locales,o);return n&&v.DATA_TYPES.date===t&&(n=n.getTime()),(isNaN(n)||null===n)&&(n=null),n},cleanCellHtml:function(e){var t=$(e).removeClass("fake pivot-hidden-column tei-meta filtered-header").removeAttr("rowspan").removeAttr("colspan","").css("display","");t.removeClass(t.getClassStartsWith(/tf-rowspan-\d+/)),t.removeClass(t.getClassStartsWith(/tf-colspan-\d+/)),t.is("th")?(t.addClass("confluenceTh"),t.children(".collapser").remove()):t.addClass("confluenceTd"),t.find(".headerButton").contents().unwrap(),t.find(".table-excerpt").removeClass("table-excerpt");var r=t[0].outerHTML,o=r.matchAll(/id="(?:refresh-module|gadget)-(-?\d+)"/g);for(var n of o)if(2===n.length){var i=n[1],a=Math.random().toString().substring(2);r=r.replace(new RegExp(i,"g"),a)}return r},findParentheses:function(e,t){for(var r=-1,o=0,n=t-1;n>=0;n--)if("("===e[n]){if(0===o){r=n;break}o--}else")"===e[n]&&o++;if(-1===r)return{start:-1,end:-1};for(var i=-1,a=0,s=t+1;s<e.length;s++)if(")"===e[s]){if(0===a){i=s;break}a--}else"("===e[s]&&a++;return{start:r,end:i}},getAliases:function(e){var t,r={};for(E.aliasRegExp.lastIndex=0;t=E.aliasRegExp.exec(e);)r[t[2]]=t[1];return r}},C=N},60434:function(e,t,r){"use strict";r.r(t),r.d(t,{decodeTTMacroParams:function(){return a}});var o=r(14763),n=r(68631),i=r(58925);const a=e=>(e[o.VERSION_PARAM_NAME]??0)>n.JOINER_LAST_UNENCODED_VERSION?(0,i.decodeMacroParams)(e,o.ENCODABLE_FIELDS):e}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:0ac4fc95ee8049f051137be8efa93a97', location = 'build/4037.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4037],{24037:function(e,t,c){c.r(t),c.d(t,{default:function(){return n}});var l=c(57281),a=c(89494);class n extends l.default{constructor(){super(...arguments),this.macroName="SheetTbl",this.gaQuickMacroAdded=()=>{(0,a.ga4SendEvent)("quickSheetTbl_macroSheetTbl_added")}}gaQuickTableSelected(e){(0,a.ga4SendEvent)("quickSheetTbl_table_selected",{countTables:e})}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:466f23c5d2c0711bd7780a94af7a1ecb', location = 'build/4763.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4763],{14763:function(n,e,t){t.r(e),t.d(e,{ENCODABLE_FIELDS:function(){return d},REGEXP_TRIM_HTML_TEXT:function(){return C},SQL_PARAM_NAME:function(){return w},STYLES_PARAM_NAME:function(){return A},VERSION_PARAM_NAME:function(){return h},aliasRegExp:function(){return _},columnReferenceRegExp:function(){return T},dblQuoteEscapeChars:function(){return s},dblQuoteRegExp:function(){return c},dblQuoteVarEscapeChars:function(){return o},dblQuoteVarRegExp:function(){return E},graveAccentEscapeChars:function(){return p},graveAccentRegExp:function(){return R},joinRegExp:function(){return x},quoteEscapeChars:function(){return r},quoteRegExp:function(){return u},slashEscapeChars:function(){return g},slashRegExp:function(){return a},sqlVarQuoteEscapeChars:function(){return i},sqlVarQuoteRegExp:function(){return f},sqlVarRegExp:function(){return l}});const r="TFaC-sq",u=new RegExp(r,"g"),s="TFaC-dq",c=new RegExp(s,"g"),o="TFaC-vd",E=new RegExp(o,"g"),g="TFaC-bs",a=new RegExp(g,"g"),i="TFaC-vq",f=new RegExp(i,"g"),p="TFaC-vga",R=new RegExp(p,"g"),l=new RegExp('"(.*?)"',"gm"),x=new RegExp("FROM\\s+(T\\d+)\\s+((\\w* )?JOIN\\s+T\\*\\s+\\w*\\s+((T\\d+)\\..+\\s*=\\s*T\\*\\.(`.+?`)|([^\\s])))"),_=new RegExp("'([^']+?)'\\)?\\s+AS\\s+'(.+?)'","gi"),T=new RegExp("(T\\d+)?\\.?`(.+?)`","g"),C=/^\s+()|()\s+$/g,w="sql",A="styles",h="version",d=[w,A]}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:9cdb28213070fbbddffc640adc8e270e', location = 'build/741.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[741],{665:function(n,t,e){e.r(t),e.d(t,{generateSessionToken:function(){return r}});const r=()=>{if(crypto?.randomUUID)return crypto.randomUUID();if(crypto?.getRandomValues){const n=new Uint8Array(16);crypto.getRandomValues(n),n[6]=15&n[6]|64,n[8]=63&n[8]|128;const t=Array.from(n,(n=>n.toString(16).padStart(2,"0")));return`${t.slice(0,4).join("")}-${t.slice(4,6).join("")}-${t.slice(6,8).join("")}-${t.slice(8,10).join("")}-${t.slice(10,16).join("")}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(n=>{const t=16*Math.random()|0;return("x"===n?t:3&t|8).toString(16)}))}},58925:function(n,t,e){e.r(t),e.d(t,{decodeMacroParams:function(){return u}});var r=e(74884);const o=[r.SQL_FANCY_ENCODE_MAP,r.SQL_ENCODE_MAP,r.HTML_ENTITY_ENCODE_MAP,r.SQL_PERCENT_ENCODE_MAP],c=n=>o.reduce(((n,t)=>((n,t)=>Object.entries(n).reduce(((n,[t,e])=>n.replace(new RegExp(e,"g"),t)),t))(t,n)),n),u=(n,t)=>{const e={...n};return t.forEach((n=>{const t=e[n];t&&"string"==typeof t&&(e[n]=c(t))})),e}},74884:function(n,t,e){e.r(t),e.d(t,{COLLAPSE_ALL_PARAM:function(){return o},CUSTOM_NO_TABLE_MESSAGE_PARAM:function(){return r},HTML_ENTITY_ENCODE_MAP:function(){return _},SQL_ENCODE_MAP:function(){return x},SQL_FANCY_ENCODE_MAP:function(){return i},SQL_PERCENT_ENCODE:function(){return c},SQL_PERCENT_ENCODE_MAP:function(){return u}});const r="customNoTableMsg",o="collapseAll",c="%25",u={"%":c},_={"&quot;":"ampquot;"},i={"{":"","\n":""},x={"":"%7B","":"%0A"}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e3390dabe574df1469714bd1b1481d89', location = 'build/2592.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2592],{42879:function(e,t,r){r.r(t),r.d(t,{ABSTRACT_MARKUP_START:function(){return n},MARKUP_END:function(){return o},extractCodeFromAIResponse:function(){return s}});const n="```",o="```",s=(e,t)=>{if(!t)return e;const r=n+t+"\n",s=e.indexOf(r);if(-1!==s){const t=s+r.length,n=e.indexOf(o,t);return-1===n?"":e.slice(t,n)}return e}},64079:function(e,t,r){r.r(t),r.d(t,{CUSTOM_TOKEN_TYPE:function(){return a},DEMO_TOKEN_TYPE:function(){return s},ROLE_SYSTEM:function(){return o},ROLE_USER:function(){return n}});const n="user",o="system",s="default",a="custom"},71378:function(e,t,r){r.r(t),r.d(t,{makeAIRequestFormulaSS:function(){return d},makeAIRequestSS:function(){return l},makeAIRequestTT:function(){return i},makeRequestAITable:function(){return p}});var n=r(79685),o=r(85908),s=r(62896),a=r(64079);const u=(e,t)=>new Promise(((r,n)=>{(0,s.makeRequest)({type:"POST",dataType:"json",data:{messages:JSON.stringify(e)},url:"/rest/table-filter/1.0/service/ai/ask",success:({usage:e,answer:o,error:s})=>{e&&t?.({totalTokens:e.totalTokens,tokenType:a.CUSTOM_TOKEN_TYPE}),o?r(o):n(s)},error:(e,t)=>{n(e.responseJSON?.message||e.responseText||`${e.status}: ${t}`)}})}));var c=r(57281);const p=(e,t)=>u(e,n.gaAskAIUpdated.bind(null,t)),i=e=>u(e,o.gaMacroBrowserTTAskAI),l=e=>u(e,c.default.askAI),d=e=>u(e,c.default.formulaAI)},79685:function(e,t,r){r.r(t),r.d(t,{gaAskAIUpdated:function(){return o},gaLockUpdated:function(){return s}});var n=r(89494);const o=(e,{totalTokens:t,tokenType:r})=>{(0,n.ga4SendEvent)("viewAITable_askAI_updated",{feature:e,type:r,property:t})},s=e=>{(0,n.ga4SendEvent)("viewAITable_lock_updated",{type:e})}},85908:function(e,t,r){r.r(t),r.d(t,{gaMacroBrowserTTAdded:function(){return c},gaMacroBrowserTTAskAI:function(){return p},gaTransformerSaveChangesEditor:function(){return u}});var n=r(14412),o=r(89494),s=r(60745);const a={sql:{event:"preset"},styles:{event:"styles"},transpose:{event:"transposeSource",hasProperty:!0},transposeResult:{event:"transposeResult",hasProperty:!0},separator:{event:"decSeparator",hasProperty:!0},dateFormat:{event:"dateFormat",hasProperty:!0},worklog:{event:"worklog",hasProperty:!0},decimals:{event:"decPlaces",hasProperty:!0},"thousand-separator":{event:"thousandsSeparator",hasProperty:!0},"show-source":{event:"showSourceData",hasProperty:!0},format:{event:"dataFormat",hasProperty:!0},plainText:{event:"plainText",hasProperty:!0}},u=(e,t)=>{Object.keys(a).forEach((t=>{const r=a[t];var o;"sql"===t&&(n.UNION_QUERY===e[t]?r.type="merge":((o=e["join-column"])?n.JOIN_QUERY.replace(/\?/g,"'"+o+"'"):n.JOIN_QUERY)===e[t]?r.type="lookUp":r.type="custom")})),(0,s.saveChanges)(e,t,a,"browserTT")},c=()=>{(0,o.ga4SendEvent)("browserTT_macroTT_added")},p=({totalTokens:e,tokenType:t})=>{(0,o.ga4SendEvent)("browserTT_askAI_updated",{type:t,property:e})}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:42e118884015e56024d7018e90657aa5', location = 'build/3832.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3832],{92138:function(e,t,i){i.r(t),i.d(t,{getConfig:function(){return a}});var n=i(62896);const a=()=>new Promise(((e,t)=>{const i={type:"GET",url:"/rest/table-filter/1.0/service/ai/settings",success:e,error:t};(0,n.makeRequest)(i)}))},93832:function(e,t,i){i.r(t),i.d(t,{default:function(){return E}});i(52321),i(54802),i(6558),i(4267),i(58142),i(63544);var n=i(76631),a=i(4306),s=i(84488),r=i(46776),o=i(9685),d=i(68183),c=i(92898),l=i(90823),u=i(65368);const h=(0,s.combineReducers)({settings:o.default,environment:d.default,dialog:l.default,dataConflict:u.default}),f="spreadsheetAutoSave";var p=i(9858);const v=({settings:e,isExistingMacro:t})=>{const i=(0,p.getCookie)(f);void 0===i||e.autoSave||t||(e.autoSave=i);var n;return{settings:e,cookieMiddleware:(n=p.setCookie,e=>e=>async t=>{const i=e(t);return o.updateAutoSave.match(t)&&n(f,t.payload+""),i})}};var g=i(92138),m=i(49484),b=i(32457),w=["settings","isExistingMacro","isTemplate"];function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e,t,i,n,a,s,r){try{var o=e[s](r),d=o.value}catch(e){return void i(e)}o.done?t(d):Promise.resolve(d).then(n,a)}function O(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var E=class{constructor(e,t,i){var{settings:n,isExistingMacro:a,isTemplate:s}=e,l=function(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],-1===t.indexOf(i)&&{}.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(e,w);O(this,"getSettings",(()=>(0,o.selectSettings)(this.store.getState()))),this.pageContext=i,this.params=l,this.$iframe=t,this.iframe=t[0];var{settings:f,cookieMiddleware:p}=v({settings:n,isExistingMacro:a});this.store=(({aiConfig:e,settings:t={},isCloud:i,isExistingMacro:n,isViewMode:a,attachmentVersionDate:s,attachmentId:l,isUpdated:f=!1,baseURL:p,isImported:v=!1,canEdit:g,history:m=[],middleware:b,isTemplate:w=!1})=>{const S=(0,r.configureStore)({reducer:h,devTools:!1,middleware:e=>e().concat(b)}),{macroHeight:y,disableEdit:O,showSource:E,autoSave:M,saveAllVersions:A}=t;return S.dispatch((0,d.setIsCloud)(i)),S.dispatch((0,o.setSettings)({settings:{macroHeight:+y,disableEdit:(0,c.default)(O),showSource:E,autoSave:(0,c.default)(M),saveAllVersions:(0,c.default)(A)},isCloud:i})),n&&S.dispatch((0,d.setIsExistingMacro)()),S.dispatch((0,d.setIsViewMode)(!!a)),S.dispatch((0,d.setCanEdit)(g)),S.dispatch((0,d.setIsTemplate)(w)),S.dispatch((0,u.initConflict)({history:m,isImported:v,isUpdated:f})),p&&S.dispatch((0,d.setBaseURL)(p)),s&&S.dispatch((0,u.setAttachmentVersionDate)(s)),l&&S.dispatch((0,u.setAttachmentId)(l)),e&&S.dispatch((0,d.setAiConfig)(e)),S})({settings:f,isCloud:!1,canEdit:l.editable,isExistingMacro:a,middleware:[p],isTemplate:s})}onReady(){}getData(){var{params:e}=this;return e.attachment?(0,n.default)(this.pageContext,e.attachment):Promise.resolve({data:e.data&&JSON.parse(e.data)})}init(){var e,t=this;return(e=function*(){var e,i;t.bindToMessageEvent(),t.data=yield t.getData(),t.store.dispatch((0,u.setAttachmentVersionDate)(null===(e=t.data.attachmentVersionInfo)||void 0===e?void 0:e.when)),t.store.dispatch((0,u.setAttachmentId)(null===(i=t.data)||void 0===i?void 0:i.attachmentId));var n=yield(0,g.getConfig)();return t.store.dispatch((0,d.setAiConfig)(n)),t.startLoad(),new m.default((e=>{var i,{AJS:n}=t.iframe.contentWindow;null!=n&&null!==(i=n.DesignTokens)&&void 0!==i&&i.setGlobalTheme&&n.DesignTokens.setGlobalTheme(e)})).observe(),t.data},function(){var t=this,i=arguments;return new Promise((function(n,a){var s=e.apply(t,i);function r(e){y(s,n,a,r,o,"next",e)}function o(e){y(s,n,a,r,o,"throw",e)}r(void 0)}))})()}bindToMessageEvent(){window.addEventListener("message",this.onMessageHandler.bind(this))}bindToUnloadEvent(){this.iframe.contentWindow.addEventListener("unload",(()=>{this.spreadsheetModule=null}),{once:!0})}onMessageHandler(e){(function(e,t){return(e.source.location.search||t).indexOf(t)>-1&&e.data===a.SPREADSHEET_READY_MSG})(e,this.params.id)&&this.onIframeLoad()}startLoad(){this.iframe.src=this.iframe.dataset.src}onIframeLoad(){var e,{data:t,iframe:i}=this;null!==(e=i.contentWindow)&&void 0!==e&&e.SpreadsheetModule&&this.initSpreadsheet(i.contentWindow,t)}initSpreadsheet(e,t){var{data:i,context:a}=t,{params:s,store:r}=this;if(!this.spreadsheetModule){var o,d;e.AJS=null!=e&&e.AJS?Object.assign(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){O(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},AJS),e.AJS):AJS,e.Confluence=Confluence,null!==(o=e.define)&&void 0!==o||(e.define=window.define),null!==(d=e.require)&&void 0!==d||(e.require=window.require);var c=new e.SpreadsheetModule({data:i,title:s.attachment,pageContext:this.pageContext,attachmentContext:a,lang:AJS.Meta.get("user-locale"),exit:s.exit,save:s.save,store:r,open:n.default,openFullScreen:s.openFullScreen});c.init(),this.spreadsheetModule=c,this.bindToUnloadEvent(),this.onReady(c,i),this.initBody()}}initBody(){}getModule(){return this.spreadsheetModule}updateData(e){this.data=e}onSaveAttachmentSuccess(e){var t,i=null==e||null===(t=e.results[0])||void 0===t?void 0:t.id;this.store.dispatch((0,u.setAttachmentId)(i));var n=(0,b.getFormattedAttachmentVersion)(e);this.store.dispatch((0,u.setAttachmentVersionDate)(null==n?void 0:n.when))}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:2bd3449d85824a3b186fd39f409b4645', location = 'build/8014.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8014],{98014:function(n,t,e){e.r(t),e.d(t,{AND_LABEL_OPERATOR:function(){return E},CHILDREN:function(){return i},COPY_TABLE:function(){return f},DESCENDANTS:function(){return _},EXCERPT_SELECTOR:function(){return N},JIRA_REFRESH_SECTION:function(){return m},LABELS:function(){return A},LABELS_OPERATOR:function(){return r},MERGE_TABLES:function(){return R},NAME:function(){return a},OR_LABEL_OPERATOR:function(){return u},PAGE:function(){return c},PAGE_TITLE:function(){return S},SPACE:function(){return T},TEI_MERGED_CLASS:function(){return p},TEI_META_CELL_CLASS:function(){return P},TEI_TABLE_ORIENTATION_HORIZONTAL:function(){return g},TEI_TABLE_ORIENTATION_VERTICAL:function(){return b},TEI_TRANSPOSED_CLASS:function(){return C},TEI_TRANSPOSE_ALWAYS:function(){return O},TEI_TRANSPOSE_AUTO:function(){return L},TEI_TRANSPOSE_FIELD_NAME:function(){return l},TEI_TRANSPOSE_NEVER:function(){return I},THIS_PAGE:function(){return o},VERSION:function(){return s}});const r="labels-operator",u="OR",E="AND",o="this",c="page",i="page-children",_="page-descendants",A="labels",T="space",f="copytable",a="name",S="page-title",R="merge-tables",s=2,l="transpose",L="auto",O="always",I="never",N=".table-excerpt[data-name]",p="tei-merged",C="tei-transposed",P="tei-meta",b="vertical",g="horizontal",m=".refresh-issues-bottom"}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:50837537c6674a2944b4dd9c0b2d9c0f', location = 'build/7090.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7090],{1420:function(t,e,n){n.r(e),n.d(e,{COMMON_GRID_PROPS:function(){return a},DATA_ORIENTATION_HORIZONTAL:function(){return o},DATA_ORIENTATION_VERTICAL:function(){return i},FieldTypes:function(){return r},SELECT_STYLES:function(){return A}});var r,l=n(75067);!function(t){t.INPUT="input",t.SELECT="select",t.CHECKBOX="checkbox",t.TOGGLE="toggle",t.RADIO_GROUP="radioGroup",t.MULTISELECT="multiselect",t.CREATE_SELECT="createSelect"}(r||(r={}));const a={columnGap:"space.200",templateColumns:"repeat(6, 1fr)",xcss:(0,l.xcss)({padding:"space.100"}),alignItems:"end"},o="Horizontal",i="Vertical",A={menuList:t=>({...t,boxSizing:"content-box"})}},14809:function(t,e,n){n.r(e),n.d(e,{configSlice:function(){return i},selectLabels:function(){return u},setDefaultLabels:function(){return c},setLabels:function(){return A}});var r=n(46776),l=n(65704);let a;const o=()=>(a??={[l.PARAM_AGGREGATION]:"Values column",[l.PARAM_COLUMN]:"Labels column",[l.PARAM_X_TITLE]:"Row axis label",[l.PARAM_LOG]:"Logarithmic scale",[l.PARAM_X_LOG]:"Logarithmic scale X",[l.PARAM_X_SCALE_STEP]:"Scale X step",[l.PARAM_X_MIN_VALUE]:"Minimal X value",[l.PARAM_X_MAX_VALUE]:"Maximal X value",[l.PARAM_SCALE_STEP]:"Scale step",[l.PARAM_MIN_VALUE]:"Minimal value",[l.PARAM_MAX_VALUE]:"Maximal value",[l.PARAM_Y_TITLE]:"Value axis label",[l.PARAM_DATE_PATTERN]:"Date format",[l.PARAM_TFC_HEIGHT]:"Height",[l.PARAM_TFC_WIDTH]:"Width",[l.PARAM_DATA_ORIENTATION]:"Table data orientation",[l.PARAM_INTERPOLATION]:"Set interpolation",[l.PARAM_LINE_SETTINGS]:"Line settings",[l.PARAM_TYPE]:"Type",[l.PARAM_WORKLOG]:"Worklog settings",[l.PARAM_INNER_LABELS]:"Show data labels",[l.PARAM_OUTER_LABELS]:"Callouts",[l.PARAM_TITLE]:"Chart title",[l.PARAM_HIDE]:"Source data:",[l.PARAM_HIDE_CONTROLS]:"Hide chart controls",[l.PARAM_GRID]:"Show grid",[l.PARAM_TRENDLINE]:"Show trendline"},a),i=(0,r.createSlice)({name:"labels",initialState:{},reducers:{setLabels:(t,e)=>{const{labels:n}=e.payload;Object.assign(t,{...o(),...n})},setDefaultLabels:t=>{const e=o();Object.assign(t,e)}}}),{setLabels:A,setDefaultLabels:c}=i.actions,u=t=>t.labels;e.default=i.reducer},15951:function(t,e,n){n.r(e),n.d(e,{gaChartSaveChanges:function(){return u},gaChartSaveChangesEditor:function(){return s},gaEnableEditArrowsMode:function(){return _},initializeMacroBrowserEventTracker:function(){return f}});var r=n(60745),l=n(89494),a=n(64125),o=n(26511),i=n(76393);const A={type:{event:"type"},"tfc-height":{event:"height",hasProperty:!0},"tfc-width":{event:"width",hasProperty:!0},is3d:{event:"3D",hasProperty:!0},colors:{event:"colors",hasProperty:!0},barColoringType:{event:"barColoringType",hasProperty:!0},colorColumns:{event:"colorColumns"},"line-settings":{event:"lineSettings",hasProperty:!0},align:{event:"alignChart",hasProperty:!0},legend:{event:"legendPosition",hasProperty:!0},grid:{event:"showGrid",hasProperty:!0},hidecontrols:{event:"hideChartControls",hasProperty:!0},title:{event:"title"},innerlabels:{event:"showDataLabels",hasProperty:!0},outerLabels:{event:"callouts"},xtitle:{event:"xRowAxisLabel"},ytitle:{event:"yValueAxisLabel"},dataorientation:{event:"tableDataOrientation"},xminvalue:{event:"xMinValue",hasProperty:!0},xmaxvalue:{event:"xMaxValue",hasProperty:!0},minvalue:{event:"yMinValue",hasProperty:!0},maxvalue:{event:"yMaxValue",hasProperty:!0},xscalestep:{event:"xScaleStep",hasProperty:!0},scalestep:{event:"yScaleStep",hasProperty:!0},log:{event:"yLogarithmicScaleStep",hasProperty:!0},xlog:{event:"xLogarithmicScaleStep",hasProperty:!0},trendline:{event:"showTrendLine",hasProperty:!0},interpolation:{event:"interpolation",hasProperty:!0},separator:{event:"decimalSeparator",hasProperty:!0},datepattern:{event:"dateFormat",hasProperty:!0},worklog:{event:"worklog",hasProperty:!0},hide:{event:"hideSourceTable",hasProperty:!0},ganttArrows:{event:"ganttArrows"},column:{event:"labelsColumn"},aggregation:{event:"valuesColumn"}},c=t=>{const e=t.type;A.type.type=a.mapChartType[e]},u=(t,e)=>{c(t),(0,r.saveChanges)(t,e,A,"panelChart")},s=(t,e)=>{c(t),(0,r.saveChanges)(t,e,A,"browserChart")},_=()=>{(0,l.ga4SendEvent)("menuChart_setDependencies_clicked")},f=t=>{const e=(0,i.getMacroParams)(t);return!e.colors&&setTimeout((()=>{e.colors=(0,i.getMacroParams)(t).colors}),1e3),{gaSendEvent:()=>{const n=(0,i.getMacroParams)(t);e.isFirstTimeEnter&&(0,o.gaMacroBrowserMacroChartAdded)(n.type),s(n,e)}}}},26782:function(t,e,n){n.r(e),n.d(e,{configSlice:function(){return a},finishLoading:function(){return A},selectColumnsOptions:function(){return c},selectLoading:function(){return u},setColumnsOptions:function(){return i}});var r=n(46776),l=n(68631);const a=(0,r.createSlice)({name:"config",initialState:{columnsOptions:{columnValues:[],aggregationValues:[]},loading:!0},reducers:{setColumnsOptions:(t,e)=>{const{columnsOptions:n}=e.payload,r=Object.fromEntries(Object.entries(n).map((([t,e])=>[t,o(e)])));Object.assign(t.columnsOptions,r)},finishLoading:t=>{t.loading=!1}}});function o(t){return[...new Set(t.map((t=>""===t?l.FAKE_EMPTY_SYMBOL:t)))]}const{setColumnsOptions:i,finishLoading:A}=a.actions,c=t=>t.config.columnsOptions,u=t=>t.config.loading;e.default=a.reducer},65704:function(t,e,n){n.r(e),n.d(e,{CHART_INNER_LABELS:function(){return Q},PARAM_AGGREGATION:function(){return s},PARAM_ALIGN:function(){return f},PARAM_BAR_COLORING_TYPE:function(){return i},PARAM_COLORS:function(){return T},PARAM_COLOR_COLUMNS:function(){return o},PARAM_COLUMN:function(){return m},PARAM_CUSTOM_NO_TABLE_MSG:function(){return p},PARAM_CUSTOM_NO_TABLE_MSG_TEXT:function(){return k},PARAM_DATA_ORIENTATION:function(){return u},PARAM_DATE_PATTERN:function(){return y},PARAM_FORMAT_VERSION:function(){return S},PARAM_GRID:function(){return h},PARAM_HIDE:function(){return C},PARAM_HIDE_CONTROLS:function(){return L},PARAM_INNER_LABELS:function(){return I},PARAM_INTERPOLATION:function(){return K},PARAM_IS_3D:function(){return _},PARAM_IS_FIRST_TIME_ENTER:function(){return M},PARAM_LEGEND:function(){return c},PARAM_LINE_SETTINGS:function(){return Y},PARAM_LOG:function(){return A},PARAM_MACRO_MARKER:function(){return P},PARAM_MAX_VALUE:function(){return V},PARAM_MIN_VALUE:function(){return D},PARAM_OUTER_LABELS:function(){return g},PARAM_PIE_KEYS:function(){return N},PARAM_SCALE_STEP:function(){return w},PARAM_SEPARATOR:function(){return O},PARAM_TFC_HEIGHT:function(){return v},PARAM_TFC_WIDTH:function(){return G},PARAM_TITLE:function(){return B},PARAM_TRENDLINE:function(){return E},PARAM_TYPE:function(){return R},PARAM_UPDATE:function(){return W},PARAM_VERSION:function(){return b},PARAM_WORKLOG:function(){return x},PARAM_X_LOG:function(){return d},PARAM_X_MAX_VALUE:function(){return X},PARAM_X_MIN_VALUE:function(){return U},PARAM_X_SCALE_STEP:function(){return H},PARAM_X_TITLE:function(){return J},PARAM_Y_TITLE:function(){return F},applyStoredChartParams:function(){return q},chartLiteralRules:function(){return z},chartRules:function(){return j},convertChartParams:function(){return Z}});var r=n(37736),l=n(68631),a=n(1420);const o="colorColumns",i="barColoringType",A="log",c="legend",u="dataorientation",s="aggregation",_="is3d",f="align",R="type",T="colors",P="macroMarker",M="isFirstTimeEnter",g="outerLabels",E="trendline",p="customNoTableMsg",b="version",S="formatVersion",I="innerlabels",L="hidecontrols",m="column",O="separator",C="hide",d="xlog",h="grid",N="pieKeys",y="datepattern",x="worklog",v="tfc-height",G="tfc-width",D="minvalue",V="maxvalue",U="xminvalue",X="xmaxvalue",w="scalestep",H="xscalestep",B="title",J="xtitle",F="ytitle",Y="line-settings",K="interpolation",k="customNoTableMsgText",W="update",j={[o]:"string",[i]:"string",[A]:"boolean",[c]:"literal",[u]:"literal",[s]:"string",[_]:"boolean",[f]:"literal",[R]:"string",[T]:"string",[P]:"string",[M]:"boolean",[g]:"string",[E]:"boolean",[p]:"boolean",[b]:"number",[S]:"number",[I]:"string",[L]:"boolean",[m]:"string",[O]:"literal",[C]:"string",[d]:"boolean",[h]:"boolean",[N]:"string",[y]:"string",[x]:"string",[Y]:"string"},z={[c]:["left","right"],[u]:[a.DATA_ORIENTATION_VERTICAL,a.DATA_ORIENTATION_HORIZONTAL],[f]:["Center","Left","Right"],[O]:["Comma (,)","Comma (.)"]},Z=t=>((t,e)=>{const n={};return Object.entries(t).forEach((([t,r])=>{switch(e[t]){case"number":n[t]=Number(r);break;case"boolean":n[t]="true"===r||!0===r;break;case"literal":case"string":n[t]=r;break;default:n[t]=String(r)}})),n})(t,j),q=t=>Object.assign(t,(0,r.generateMacroParamsHelperRaw)(l.CHART)),Q={NONE:"None",VALUE:"Value",PERCENTAGE:"Percentage",VALUE_PERCENTAGE:"Value (Percentage)",PERCENTAGE_VALUE:"Percentage (Value)"}},76393:function(t,e,n){n.r(e),n.d(e,{getMacroParams:function(){return s},initStore:function(){return u}});var r=n(84488),l=n(46776),a=n(80564),o=n(26782),i=n(14809),A=n(65704);const c=(0,r.combineReducers)({settings:a.default,config:o.default,labels:i.default}),u=({settings:t={}})=>{const e=(0,l.configureStore)({reducer:c,devTools:!1});return e.dispatch((0,a.setSettings)({settings:t})),e.dispatch((0,i.setDefaultLabels)()),e},s=t=>{const e=structuredClone((0,a.selectSettings)(t.getState()));return delete e[A.PARAM_UPDATE],e}},80564:function(t,e,n){n.r(e),n.d(e,{default:function(){return Rt},selectAggregation:function(){return m},selectAlign:function(){return G},selectBarColoringType:function(){return y},selectChartType:function(){return O},selectColorColumns:function(){return N},selectColors:function(){return D},selectColumn:function(){return K},selectCustomNoTableMsg:function(){return H},selectCustomNoTableMsgText:function(){return st},selectDataOrientation:function(){return C},selectDatePattern:function(){return q},selectFormatVersion:function(){return J},selectGrid:function(){return z},selectHide:function(){return W},selectHideControls:function(){return Y},selectInnerLabels:function(){return F},selectInterpolation:function(){return ut},selectIs3d:function(){return h},selectIsFirstTimeEnter:function(){return U},selectLegend:function(){return v},selectLineSettings:function(){return ct},selectLog:function(){return x},selectMacroMarker:function(){return V},selectMaxValue:function(){return et},selectMinValue:function(){return tt},selectOuterLabels:function(){return X},selectPieKeys:function(){return Z},selectScaleStep:function(){return lt},selectSeparator:function(){return k},selectSetting:function(){return L},selectSettings:function(){return ft},selectTfcHeight:function(){return Q},selectTfcWidth:function(){return $},selectTitle:function(){return ot},selectTrendline:function(){return w},selectUpdatePreview:function(){return _t},selectVersion:function(){return B},selectWorklog:function(){return d},selectXLog:function(){return j},selectXMaxValue:function(){return rt},selectXMinValue:function(){return nt},selectXScaleStep:function(){return at},selectXTitle:function(){return it},selectYTitle:function(){return At},setAggregation:function(){return _},setBarColoringType:function(){return T},setChartType:function(){return f},setColorColumns:function(){return M},setColors:function(){return P},setColumn:function(){return g},setDataorientation:function(){return S},setInterpolation:function(){return p},setIs3D:function(){return R},setLineSettings:function(){return b},setPieKeys:function(){return E},setSettings:function(){return s},settingsSlice:function(){return u},updatePreview:function(){return I},useStringChartSelector:function(){return Tt}});var r=n(46776),l=n(65704),a=n(68631);var o=n(82432),i=n(96290),A=n(1420);const c={[l.PARAM_COLUMN]:"",[l.PARAM_AGGREGATION]:"",[l.PARAM_TYPE]:i.CHART_TYPE_PIE,[l.PARAM_TFC_HEIGHT]:"",[l.PARAM_TFC_WIDTH]:"",[l.PARAM_SEPARATOR]:"Point (.)",[l.PARAM_DATA_ORIENTATION]:A.DATA_ORIENTATION_VERTICAL,[l.PARAM_LOG]:!1,[l.PARAM_X_LOG]:!1,[l.PARAM_GRID]:!0,[l.PARAM_LEGEND]:"right",[l.PARAM_MIN_VALUE]:"",[l.PARAM_MAX_VALUE]:"",[l.PARAM_X_MIN_VALUE]:"",[l.PARAM_X_MAX_VALUE]:"",[l.PARAM_SCALE_STEP]:"",[l.PARAM_X_SCALE_STEP]:"",[l.PARAM_TITLE]:"",[l.PARAM_X_TITLE]:"",[l.PARAM_Y_TITLE]:"",[l.PARAM_ALIGN]:"center",[l.PARAM_TRENDLINE]:!1,[l.PARAM_INNER_LABELS]:"Value",[l.PARAM_LINE_SETTINGS]:"",[l.PARAM_WORKLOG]:"365|5|8|y w d h m|y w d h m",[l.PARAM_IS_3D]:!1,[l.PARAM_INTERPOLATION]:"Linear",[l.PARAM_OUTER_LABELS]:"Label",[l.PARAM_CUSTOM_NO_TABLE_MSG]:!1,[l.PARAM_CUSTOM_NO_TABLE_MSG_TEXT]:"",[l.PARAM_COLORS]:"",[l.PARAM_COLOR_COLUMNS]:"",[l.PARAM_BAR_COLORING_TYPE]:"mono",[l.PARAM_MACRO_MARKER]:"",[l.PARAM_IS_FIRST_TIME_ENTER]:!0,[l.PARAM_VERSION]:i.LAST_VERSION,[l.PARAM_FORMAT_VERSION]:a.LATEST_FORMAT_VERSION,[l.PARAM_HIDE_CONTROLS]:!1,[l.PARAM_HIDE]:"false",[l.PARAM_PIE_KEYS]:"",[l.PARAM_DATE_PATTERN]:"",[l.PARAM_UPDATE]:!0},u=(0,r.createSlice)({name:"settings",initialState:c,reducers:{setSettings:(t,e)=>{t.barColoringType||t.type!==i.CHART_TYPE_GANTT||(t.barColoringType="multi"),Object.assign(t,e.payload.settings)},setAggregation:(t,e)=>{t.aggregation=e.payload.aggregation},setChartType:(t,e)=>{t.type=e.payload.type},setIs3D:(t,e)=>{t.is3d=e.payload.is3d},setBarColoringType:(t,e)=>{t.barColoringType=e.payload.barColoringType},setColors:(t,e)=>{t.colors=e.payload.colors},setColorColumns:(t,e)=>{t.colorColumns=e.payload.colorColumns},setColumn:(t,e)=>{t.column=e.payload.column},setPieKeys:(t,e)=>{t.pieKeys=e.payload.pieKeys},setInterpolation:(t,e)=>{t.interpolation=e.payload.interpolation},setLineSettings:(t,e)=>{t["line-settings"]=e.payload["line-settings"]},setDataorientation:(t,e)=>{t.dataorientation=e.payload.dataorientation},updatePreview:t=>{t.update=!t.update}}}),{setSettings:s,setAggregation:_,setChartType:f,setIs3D:R,setBarColoringType:T,setColors:P,setColorColumns:M,setColumn:g,setPieKeys:E,setInterpolation:p,setLineSettings:b,setDataorientation:S,updatePreview:I}=u.actions,L=t=>e=>e.settings[t],m=L(l.PARAM_AGGREGATION),O=L(l.PARAM_TYPE),C=L(l.PARAM_DATA_ORIENTATION),d=L(l.PARAM_WORKLOG),h=L(l.PARAM_IS_3D),N=L(l.PARAM_COLOR_COLUMNS),y=L(l.PARAM_BAR_COLORING_TYPE),x=L(l.PARAM_LOG),v=L(l.PARAM_LEGEND),G=L(l.PARAM_ALIGN),D=L(l.PARAM_COLORS),V=L(l.PARAM_MACRO_MARKER),U=L(l.PARAM_IS_FIRST_TIME_ENTER),X=L(l.PARAM_OUTER_LABELS),w=L(l.PARAM_TRENDLINE),H=L(l.PARAM_CUSTOM_NO_TABLE_MSG),B=L(l.PARAM_VERSION),J=L(l.PARAM_FORMAT_VERSION),F=L(l.PARAM_INNER_LABELS),Y=L(l.PARAM_HIDE_CONTROLS),K=L(l.PARAM_COLUMN),k=L(l.PARAM_SEPARATOR),W=L(l.PARAM_HIDE),j=L(l.PARAM_X_LOG),z=L(l.PARAM_GRID),Z=L(l.PARAM_PIE_KEYS),q=L(l.PARAM_DATE_PATTERN),Q=L(l.PARAM_TFC_HEIGHT),$=L(l.PARAM_TFC_WIDTH),tt=L(l.PARAM_MIN_VALUE),et=L(l.PARAM_MAX_VALUE),nt=L(l.PARAM_X_MIN_VALUE),rt=L(l.PARAM_X_MAX_VALUE),lt=L(l.PARAM_SCALE_STEP),at=L(l.PARAM_X_SCALE_STEP),ot=L(l.PARAM_TITLE),it=L(l.PARAM_X_TITLE),At=L(l.PARAM_Y_TITLE),ct=L(l.PARAM_LINE_SETTINGS),ut=L(l.PARAM_INTERPOLATION),st=L(l.PARAM_CUSTOM_NO_TABLE_MSG_TEXT),_t=L(l.PARAM_UPDATE),ft=t=>t.settings;var Rt=u.reducer;const Tt=t=>String((0,o.useSelector)(t)??"")},90106:function(t,e,n){n.r(e),n.d(e,{FONT_FAMILY:function(){return o},findLongestText:function(){return l},getTextWidth:function(){return r},getTextWidthCanvas:function(){return a}});var r=t=>a(t),l=t=>{return t.length?1===t.length?{text:t[0],width:r(t[0])}:{text:t.reduce(((t,n,l)=>{1===l&&(e=r(t));var a=r(n);return a>e?(e=a,n):t})),width:e}:{text:"",width:0};var e},a=t=>(a.context||(a.context=document.createElement("canvas").getContext("2d"),a.context.font="14px ".concat(o)),a.context.measureText(t).width),o='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7a18197692f2dcdc3e05ee2342554e87', location = 'build/6424.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6424],{4306:function(t,e,n){n.r(e),n.d(e,{SPREADSHEET_READY_MSG:function(){return r}});var r="spreadsheet-ready"},9685:function(t,e,n){n.r(e),n.d(e,{selectAutoSave:function(){return f},selectDisableEdit:function(){return u},selectMacroHeight:function(){return s},selectSaveAllVersions:function(){return d},selectSettings:function(){return p},selectShowSource:function(){return l},setSettings:function(){return c},settingsSlice:function(){return a},updateAutoSave:function(){return o}});var r=n(46776);const i={macroHeight:700,disableEdit:!1,autoSave:!1,saveAllVersions:!1},a=(0,r.createSlice)({name:"settings",initialState:i,reducers:{setSettings:(t,e)=>{const{payload:{settings:{macroHeight:n,disableEdit:r,showSource:a,autoSave:o,saveAllVersions:c},isCloud:s}}=e;t.macroHeight=s?+n||i.macroHeight:n?+n:"",t.disableEdit=r??i.disableEdit,a&&(t.showSource=a),t.autoSave=o??i.autoSave,t.saveAllVersions=c??i.saveAllVersions}}}),o=(0,r.createAction)("settings/updateAutoSave"),{setSettings:c}=a.actions,s=t=>t.settings.macroHeight,u=t=>t.settings.disableEdit,l=t=>t.settings.showSource,f=t=>t.settings.autoSave,d=t=>t.settings.saveAllVersions,p=t=>t.settings;e.default=a.reducer},19931:function(t,e,n){n.r(e),n.d(e,{getAttachmentData:function(){return I},getAttachmentInfo:function(){return O},getLatestAttachmentVersionInfo:function(){return A},searchContent:function(){return S},searchContentByCQL:function(){return h},searchPage:function(){return g},storeAttachment:function(){return b}});n(54802),n(6558),n(4267),n(63544);var r=n(27755),i=n(62896),a=n(89073),o=n(84109),c=n(32457),s=n(14412),u=n(76581),l=n(33210);function f(t,e,n,r,i,a,o){try{var c=t[a](o),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){f(a,r,i,o,c,"next",t)}function c(t){f(a,r,i,o,c,"throw",t)}o(void 0)}))}}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=t=>new Promise((e=>{(0,i.makeRequest)({type:"GET",url:"/rest/api/content/search",contentType:"application/json",dataType:"text",data:t||{cql:""},success:function(t){e(t)},error:function(){e('{ "results": [] }')}})}));function y(t,e,n){var r="=",i=t;-1!==t.indexOf('"')&&(i=t.replace(/"/g,""),r="~");var a=n?"type = ".concat(n):s.CQL_CONTENT_TYPES_FILTER;return"".concat(a,' and space = "').concat(e,'" and title ').concat(r,' "').concat(i,'"')}var g=(t,e,n,r)=>{if(!t)return{id:n};var i={cql:y(t,e),limit:200};return r&&(i.expand=r),h(i).then((t=>JSON.parse(t).results)).then((e=>1===e.length?e[0]:e.find((e=>e.title===t))))},S=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"page",r=arguments.length>3?arguments[3]:void 0;if(!t)throw new Error("No page title");var i={cql:y(t,e,n),limit:200,type:n};return r&&(i.expand=r),h(i).then(JSON.parse).then((t=>t.results)).then((e=>1===e.length?e[0]:e.find((e=>e.title===t))))},b=t=>{var{context:e,data:n,filename:o,minorEdit:c}=t;return new Promise(((t,s)=>{try{var u=(0,r.getDataFromAttachmentName)(o,e.spaceKey),l=new Blob([n],{}),f=(0,a.getStoreAttachmentOpts)(l,u.attachmentName,c);(0,i.makeRequest)(m(m({},f),{},{url:"/rest/api/content/".concat(e.pageId,"/child/attachment?status=").concat(e.originStatus,"&allowDuplicated=true"),headers:{"X-Atlassian-Token":"nocheck"},success:e=>{t(JSON.parse(e))},error:t=>{s(new Error(t))}}))}catch(t){s(t)}}))},O=function(){var t=d((function*(t){var{attachmentContext:e,attachmentName:n}=t,{spaceKey:i,pageId:a}=e,{attachmentName:o}=(0,r.getDataFromAttachmentName)(n,i);return yield(0,l.getAttachments)(a,{filename:o,limit:1})}));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=d((function*(t){var{attachmentContext:e,attachmentName:n}=t;if(!e)return null;var r=yield O({attachmentContext:e,attachmentName:n});return yield(0,c.getFormattedAttachmentVersion)(r)}));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=d((function*(t,e){var{response:n,name:r,attachmentContext:i}=yield(0,u.getAttachmentsByPageContext)(t,e),a=n.results.find((t=>r===t.title));if(!a)throw new Error("Attachment not found.");var s=yield O({attachmentContext:i,attachmentName:r}),l=yield(0,c.getFormattedAttachmentVersion)(s);if(!l)throw new Error("Attachment version info not found.");var{data:f}=yield(0,o.default)(a._links.download,{parse:!0});return{data:f,context:i,attachmentVersionInfo:l,attachmentId:null==a?void 0:a.id}}));return function(e,n){return t.apply(this,arguments)}}()},27755:function(t,e,n){n.r(e),n.d(e,{getDataFromAttachmentName:function(){return r}});n(4267);var r=(t,e)=>{if(t.indexOf("^")>0){var n=t.split("^"),r=n[1],i=n[0],a=i.indexOf(":");a>0&&(e=i.substring(0,a),i=i.substring(a+1));var o=/\d{4}\/\d{2}\/\d{2}\//.test(i),c="";if(o){var s=i.split("/");i=s[3],c=s.slice(0,3).join("-")}return{attachmentName:r,pageTitle:i,spaceKey:e,postingDate:c,type:o?"blogpost":"page"}}return{attachmentName:t}}},32457:function(t,e,n){n.r(e),n.d(e,{getFormattedAttachmentVersion:function(){return r}});var r=t=>function(t){var{results:e}=t;if(!e.length)return null;var{version:n}=e[0];if(null==n||!n.by)return null;var{friendlyWhen:r,when:i,by:{displayName:a,profilePicture:{path:o}}}=n;return{when:i,friendlyWhen:r,updatedBy:{displayName:a,picture:o}}}(t)},33210:function(t,e,n){n.r(e),n.d(e,{getAttachments:function(){return c}});n(54802),n(63544);var r=n(41028);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=(t,e)=>(0,r.makeGet)({url:"/rest/api/content/".concat(t,"/child/attachment"),data:a(a({},e),{},{expand:"version"})})},38204:function(t,e,n){n.r(e),e.default=function(t){return{pageId:t.id,spaceKey:t.space.key,type:t.type,originStatus:t.status}}},40636:function(t,e,n){n.r(e),n.d(e,{CLOSE_MODE:function(){return r},FLAG_TYPE:function(){return i},showErrorFlag:function(){return o},showInfoFlag:function(){return s},showMergeFlag:function(){return u},showSuccessFlag:function(){return c}});var r={MANUAL:"manual",AUTO:"auto"},i={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"},a=t=>{var{title:e,body:n,type:a=i.INFO,close:o=r.MANUAL}=t;n=AJS.escapeHtml(n);var c=AJS.flag({title:e,body:n,type:a,close:o});return o===r.AUTO&&setTimeout((()=>c.close()),15e3),c},o=t=>{var{title:e,body:n,close:o=r.MANUAL}=t;return a({title:e,body:n,close:o,type:i.ERROR})},c=t=>{var{title:e,body:n,close:o=r.MANUAL}=t;return a({title:e,body:n,close:o,type:i.SUCCESS})},s=t=>{var{title:e,body:n,close:o=r.MANUAL}=t;return a({title:e,body:n,close:o,type:i.INFO})},u=t=>{var{title:e,conflictAttachmentVersionInfo:n,close:i=r.AUTO}=t,{updatedBy:{displayName:a},when:o}=n,s=AJS.format("Added changes made by {0} on {1}",a,new Date(o).toLocaleString());return c({title:e,body:s,close:i})};e.default=a},41028:function(t,e,n){n.r(e),n.d(e,{makeDelete:function(){return s},makeGet:function(){return a},makePost:function(){return o},makePut:function(){return c}});var r=n(62896);const i=(t,e)=>{const n="GET"!==e&&t.data&&"string"!=typeof t.data,i={contentType:"application/json",dataType:"text",type:e,...t,data:n?JSON.stringify(t.data):t.data};return new Promise(((t,e)=>{(0,r.makeRequest)({...i,success:function(e){t(e?JSON.parse(e):e)},error:t=>e(t)})}))},a=t=>i(t,"GET"),o=t=>i(t,"POST"),c=t=>i(t,"PUT"),s=t=>i(t,"DELETE")},65368:function(t,e,n){n.r(e),n.d(e,{addToHistory:function(){return u},conflictStateSlice:function(){return a},hasHistory:function(){return b},initConflict:function(){return d},resetHistory:function(){return l},selectAttachmentId:function(){return A},selectAttachmentVersionDate:function(){return O},selectConflictAttachmentVersionInfo:function(){return I},selectConflictProfilePictureSrc:function(){return w},selectDataConflict:function(){return v},selectHistory:function(){return S},selectIsImported:function(){return y},selectIsSaving:function(){return g},selectIsUpdated:function(){return h},setAttachmentId:function(){return c},setAttachmentVersionDate:function(){return o},setConflictAttachmentVersionInfo:function(){return s},setIsImported:function(){return f},setIsOpened:function(){return p},setIsSaving:function(){return m}});var r=n(46776),i=n(44488);const a=(0,r.createSlice)({name:"conflictState",initialState:{date:null,id:"",conflictAttachmentVersionInfo:null,history:[],isUpdated:!1,isImported:!1,isSaving:!1},reducers:{addToHistory:(t,e)=>{t.isImported||t.history.push(...e.payload),t.isUpdated=!0},resetHistory:(t,{payload:e})=>{t.history=t.history.slice(e),t.isUpdated=0!==t.history.length,t.isImported=!1},setIsImported:t=>{t.isImported=!0,t.isUpdated=!0,t.history=[]},setIsOpened:t=>{t.isImported=!1,t.isUpdated=!0,t.history=[]},setIsSaving:(t,{payload:e})=>{t.isSaving=e},initConflict:(t,{payload:{history:e,isImported:n,isUpdated:r}})=>{t.history=e,t.isUpdated=r,t.isImported=n},setAttachmentVersionDate:(t,e)=>{const{payload:n}=e;t.date=n},setAttachmentId:(t,e)=>{const{payload:n}=e;t.id=n},setConflictAttachmentVersionInfo:(t,e)=>{const{payload:n}=e;t.conflictAttachmentVersionInfo=n}}}),{setAttachmentVersionDate:o,setAttachmentId:c,setConflictAttachmentVersionInfo:s,addToHistory:u,resetHistory:l,setIsImported:f,initConflict:d,setIsOpened:p,setIsSaving:m}=a.actions,v=t=>t.dataConflict,h=(0,i.createSelector)(v,(t=>t.isUpdated)),y=(0,i.createSelector)(v,(t=>t.isImported)),g=(0,i.createSelector)(v,(t=>t.isSaving)),S=(0,i.createSelector)(v,(t=>t.history)),b=(0,i.createSelector)(S,(t=>t.length>0)),O=(0,i.createSelector)(v,(t=>t.date)),A=(0,i.createSelector)(v,(t=>t.id)),I=(0,i.createSelector)(v,(t=>t.conflictAttachmentVersionInfo)),w=(0,i.createSelector)((t=>t.dataConflict.conflictAttachmentVersionInfo?.updatedBy?.picture),(t=>t.environment.baseURL),(t=>t.environment.isCloud),((t,e,n)=>n?e&&t?e+t:null:t));e.default=a.reducer},68183:function(t,e,n){n.r(e),n.d(e,{environmentSlice:function(){return a},resetExitOnSave:function(){return d},selectAiConfig:function(){return v},selectBaseURL:function(){return A},selectCanEdit:function(){return b},selectExitOnSave:function(){return O},selectFullscreenModeInCloud:function(){return S},selectIsCloud:function(){return h},selectIsExistingMacro:function(){return y},selectIsTemplate:function(){return I},selectIsViewMode:function(){return g},setAiConfig:function(){return o},setBaseURL:function(){return p},setCanEdit:function(){return l},setExitOnSave:function(){return f},setIsCloud:function(){return c},setIsExistingMacro:function(){return s},setIsTemplate:function(){return m},setIsViewMode:function(){return u}});var r=n(46776),i=n(44488);const a=(0,r.createSlice)({name:"environment",initialState:{aiConfig:{isAiUiDisabled:!1,aiEnabled:!0},isCloud:!1,isNewMacro:!0,isViewMode:!1,canEdit:!0,exitOnSave:!1,baseURL:"",isTemplate:!1},reducers:{setAiConfig:(t,{payload:e})=>{t.aiConfig=e},setIsCloud:(t,e)=>{const{payload:n}=e;t.isCloud=n},setIsExistingMacro:t=>{t.isNewMacro=!1},setIsViewMode:(t,e)=>{const{payload:n}=e;t.isViewMode=n},setCanEdit:(t,e)=>{const{payload:n}=e;t.canEdit=n},setExitOnSave:t=>{t.exitOnSave=!0},resetExitOnSave:t=>{t.exitOnSave=!1},setBaseURL:(t,e)=>{const{payload:n}=e;t.baseURL=n},setIsTemplate:(t,e)=>{const{payload:n}=e;t.isTemplate=n}}}),{actions:{setAiConfig:o,setIsCloud:c,setIsExistingMacro:s,setIsViewMode:u,setCanEdit:l,setExitOnSave:f,resetExitOnSave:d,setBaseURL:p,setIsTemplate:m}}=a,v=t=>t.environment.aiConfig,h=t=>t.environment.isCloud,y=t=>!t.environment.isNewMacro,g=t=>t.environment.isViewMode,S=(0,i.createSelector)(g,h,((t,e)=>!t&&e)),b=t=>t.environment.canEdit,O=t=>t.environment.exitOnSave,A=t=>t.environment.baseURL,I=t=>t.environment.isTemplate;e.default=a.reducer},76581:function(t,e,n){n.r(e),n.d(e,{getAttachmentsByPageContext:function(){return s}});n(6558);var r=n(38204),i=n(27755),a=n(33210),o=n(41028);function c(t,e,n,r,i,a,o){try{var c=t[a](o),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,i)}var s=function(){var t,e=(t=function*(t,e){var n=(0,i.getDataFromAttachmentName)(e,t.spaceKey);if(n.pageTitle){var c={expand:"space,children.attachment",spaceKey:n.spaceKey,title:n.pageTitle,postingDay:n.postingDate,type:n.type},s=(yield(0,o.makeGet)({url:"/rest/api/content",data:c})).results[0],u=s.children.attachment,l=(0,r.default)(s);return{response:u,name:n.attachmentName,attachmentContext:l}}return{response:yield(0,a.getAttachments)(t.pageId,{filename:e,limit:1}),name:e,attachmentContext:t}},function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){c(a,r,i,o,s,"next",t)}function s(t){c(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t,n){return e.apply(this,arguments)}}()},76631:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var r=n(19931);function i(t,e){return(0,r.getAttachmentData)(t,e).catch((e=>(console.error(e),{context:t})))}},84109:function(t,e,n){n.r(e);n(6558);var r=n(62896);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{parse:!1};return new Promise(((n,i)=>{(0,r.makeRequest)({url:t,type:"GET",contentType:"application/json",success:t=>{n({data:e.parse?JSON.parse(t):t})},error:t=>{i(new Error(t))}})}))}},89073:function(t,e,n){n.r(e),n.d(e,{buildFilenameQuery:function(){return a},extractAttachmentContainerData:function(){return o},getStoreAttachmentOpts:function(){return c}});n(6558),n(4267),n(62708);var r=n(19931);function i(t,e,n,r,i,a,o){try{var c=t[a](o),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,i)}var a=(t,e)=>{var n=t?'title~"'.concat(t,'*" and '):"";return n+='(sitesearch~"file.extension:'+e.join('" or sitesearch~"file.extension:')+'")'},o=function(){var t,e=(t=function*(t,e){var n,i=t.content._expandable.space.replace("/rest/api/space/",""),a=t.resultParentContainer.title,o=t.content.title,c=null===(n=t.resultParentContainer.displayUrl.split(i+"/")[1])||void 0===n?void 0:n.match("\\d{4}/\\d{2}/\\d{2}");return c&&(a=c[0]+"/"+a),{wikiLink:o,parentPageId:yield(0,r.searchPage)(a,i,e),parentTitle:a,parentSpaceKey:i}},function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(t){i(o,r,a,c,s,"next",t)}function s(t){i(o,r,a,c,s,"throw",t)}c(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new FormData;return r.append("file",t,e),r.append("minorEdit",n),{type:"POST",contentType:!1,processData:!1,dataType:"text",data:r}}},90823:function(t,e,n){n.r(e),n.d(e,{dialogStateSlice:function(){return r},selectConfirmationDialogIsOpen:function(){return a},toggleSaveConfirmationDialog:function(){return i}});const r=(0,n(46776).createSlice)({name:"dialogState",initialState:{confirmationDialogIsOpen:!1},reducers:{toggleSaveConfirmationDialog:t=>{t.confirmationDialogIsOpen=!t.confirmationDialogIsOpen}}}),{toggleSaveConfirmationDialog:i}=r.actions,a=t=>t.dialog.confirmationDialogIsOpen;e.default=r.reducer}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:b6b49349e69c031ee1cbe1c3e4113749', location = 'build/7970.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7970],{83756:function(t,e,s){s.r(e);s(2304),s(88220),s(4267),s(73049),s(73406);(function(){var t,e,s,i,n={}.hasOwnProperty;(i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t,e){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t,null,null,e)},t.prototype.add_group=function(t){var e,s,i,n,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],s=0,i=(r=t.childNodes).length;s<i;s++)n=r[s],o.push(this.add_option(n,e,t.disabled));return o},t.prototype.add_option=function(t,e,s,i){if("OPTION"===t.nodeName.toUpperCase())return null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:i?t.text:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===s?s:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText}),this.options_index+=1},t}()).select_to_array=function(t,e){var s,n,r,o,h;for(o=new i,n=0,r=(h=t.childNodes).length;n<r;n++)s=h[n],o.add_node(s,e);return o.parsed},e=function(){function t(e,s){this.form_field=e,this.options=null!=s?s:{},this.label_click_handler=function(t,e){return function(){return t.apply(e,arguments)}}(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100)},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,s,i,n,r,o,h;for(e="",h=0,n=0,r=(o=this.results_data).length;n<r&&("",""!==(i=(s=o[n]).group?this.result_add_group(s):this.result_add_option(s))&&(h++,e+=i),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s))),!(h>=this.max_shown_results));n++);return e},t.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(s=document.createElement("li")).className=e.join(" "),t.style&&(s.style.cssText=t.style),s.setAttribute("data-option-array-index",t.array_index),s.innerHTML=t.highlighted_html||t.html,t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.result_add_group=function(t){var e,s;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(s=document.createElement("li")).className=e.join(" "),s.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,s,i,n;for(n=[],t=0,e=(s=this.results_data).length;t<e;t++)(i=s[t]).selected?n.push(i.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(t){var e,s,i,n,r,o,h,l,c,_,a,u,d,p,f;for(this.no_results_clear(),_=0,e=(h=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(e),i=0,n=(l=this.results_data).length;i<n;i++)(r=l[i]).search_match=!1,a=null,u=null,r.highlighted_html="",this.include_option_in_results(r)&&(r.group&&(r.group_match=!1,r.active_options=0),null!=r.group_array_index&&this.results_data[r.group_array_index]&&(0===(a=this.results_data[r.group_array_index]).active_options&&a.search_match&&(_+=1),a.active_options+=1),f=r.group?r.label:r.text,r.group&&!this.group_search||(u=this.search_string_match(f,c),r.search_match=null!=u,r.search_match&&!r.group&&(_+=1),this.options.isHtml?r.highlighted_html=f:r.search_match?(h.length&&(d=u.index,o=f.slice(0,d),s=f.slice(d,d+h.length),p=f.slice(d+h.length),r.highlighted_html=this.escape_html(o)+"<em>"+this.escape_html(s)+"</em>"+this.escape_html(p)),null!=a&&(a.group_match=!0)):null!=r.group_array_index&&this.results_data[r.group_array_index].search_match&&(r.search_match=!0)));return this.result_clear_highlight(),_<1&&h.length?(this.update_results_content(""),this.no_results(h)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,s;return s=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(s="^"+s),e=this.case_sensitive_search?"":"i",new RegExp(s,e)},t.prototype.search_string_match=function(t,e){var s;return s=e.exec(t),!this.search_contains&&(null!=s?s[1]:void 0)&&(s.index+=1),s},t.prototype.choices_count=function(){var t,e,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(s=this.form_field.options).length;t<e;t++)s[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==s&&this.pending_backstroke&&this.clear_backstroke(),s){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&(t.stopPropagation(),t.preventDefault());break;case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),s){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(t){if(!this.is_disabled)return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected||!this.display_disabled_options&&t.disabled||t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<div class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</div>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" placeholder="'+this.default_text+'"/>\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},t.browser_is_supported=function(){return"Microsoft Internet Explorer"!==window.navigator.appName||document.documentMode>=8},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(t=window.$||jQuery).fn.extend({chosenTF:function(i){return e.browser_is_supported()?this.each((function(e){var n,r;r=(n=t(this)).data("chosen"),"destroy"!==i?r instanceof s||n.data("chosen",new s(this,i)):r instanceof s&&r.destroy()})):this}}),s=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return function(t,e){function s(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype}(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},s.prototype.set_up_html=function(){var e,s;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),s={class:e.join(" "),title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",s),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},s.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){return this.container.on("touchstart.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen touchstart.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",(function(t){t.preventDefault()}))},s.prototype.destroy=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},s.prototype.container_mousedown=function(e){var s;if(!this.is_disabled)return!e||"mousedown"!==(s=e.type)&&"touchstart"!==s||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass("ui-resizable-handle")?this.results_hide():null!=e&&t(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("div.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},s.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},s.prototype.close_field=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},s.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){var s;return(s=t(e.target).closest(".chosen-container")).length&&this.container[0]===s[0]?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field,this.options.isHtml),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(t){var e,s,i,n,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=(i=parseInt(this.search_results.css("maxHeight"),10))+(r=this.search_results.scrollTop()),(e=(s=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-i>0?e-i:0);if(s<r)return this.search_results.scrollTop(s)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},s.prototype.update_results_content=function(t){return this.search_results.html(t)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},s.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},s.prototype.show_search_field_default=function(){return this.search_field.val(""),this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.attr("placeholder",this.default_text),this.search_field.addClass("default")):(this.search_field.attr("placeholder",""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var s;if((s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length)return this.result_highlight=s,this.result_select(e),this.search_field.focus()},s.prototype.search_results_mouseover=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(s)},s.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result")||t(e.target).parents(".active-result").first())return this.result_clear_highlight()},s.prototype.choice_build=function(e){var s,i;return(s=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>")).css("max-width",this.container.width()>100?this.container.width()-40:""),e.disabled?s.addClass("search-choice-disabled"):((i=t("<span />",{class:"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen touchstart.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),s.append(i)),this.search_container.before(s)},s.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){if(0===t.length&&(t=this.pending_backstroke.find(".search-choice-close")),this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},s.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(e){var s,i,n,r,o;if(this.result_highlight)return i=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?i.removeClass("active-result"):this.reset_single_select_options(),i.addClass("result-selected"),(n=this.results_data[i[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)?e.metaKey||e.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale());this.options.addUserOption&&(o=this.search_field.val(),s=!1,this.results_data.some((function(t){if(t.text===o)return s=!0,!0})),s||(r=t('<option selected="selected"></option>').attr("value",o).text(o),this.form_field_jq.append(r).trigger("change",{selected:o}).trigger("chosen:updated")))},s.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},s.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},s.prototype.get_search_field_value=function(){return this.search_field.val()},s.prototype.get_search_text=function(){return t.trim(this.get_search_field_value())},s.prototype.escape_html=function(e){return t("<div/>").text(e).html()},s.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},s.prototype.no_results=function(e){var s,i;return s=t(this.get_no_results_html(e)),this.search_results.append(s),this.options.addUserOption&&(i=this,s.addClass("add-user-option").click((function(){i.result_select()}))),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.search_field_scale=function(){var e,s,i,n,r,o,h;if(this.is_multiple){if(h=25,this.search_field.attr("placeholder")||this.get_search_field_value()){for(r={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},s=0,i=(o=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;s<i;s++)r[n=o[s]]=this.search_field.css(n);(e=t("<div />").css(r)).text(this.search_field.attr("placeholder")||this.get_search_field_value()),t("body").append(e),h+=e.width(),e.remove()}return this.container.is(":visible")&&(h=Math.min(this.container.outerWidth()-10,h)),this.search_field.width(h)}},s.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},s}()}).call(void 0)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:d216a6a945a3cff2074d6cba2325cd64', location = 'build/9059.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9059],{89059:function(e,l,t){t.r(l);var u=t(14412),f=t(15923),n=t(25511);l.default=(e,l,t,c,a,s,_,i)=>e===u.DATA_TYPES.date?(0,f.default)(l,s,_,null,i):(0,n.default)(e,l,t,c,a)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:6c930fac09703da1bfc3a6075d087d2d', location = 'build/7281.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7281],{57281:function(e,t,a){a.r(t);var r=a(89494),s=a(83874);class i{constructor(){this.macroName="Sheet",this.updateMacro=e=>{(0,r.ga4SendEvent)(`${this.browserActionName}_updated`,{property:e})},this.updateView=(e,t)=>{(0,r.ga4SendEvent)(`${this.viewActionName}_updated`,{property:e,type:t})},this.openView=()=>{(0,r.ga4SendEvent)(`${this.viewActionName}_opened`)},this.openMacro=()=>{(0,r.ga4SendEvent)(`${this.browserActionName}_opened`)},this.saveAsView=()=>{(0,r.ga4SendEvent)(`${this.viewActionName}_savedAs`)},this.saveAsMacro=()=>{(0,r.ga4SendEvent)(`${this.browserActionName}_savedAs`)},this.importView=()=>{(0,r.ga4SendEvent)(`${this.viewActionName}_imported`)},this.exportView=()=>{(0,r.ga4SendEvent)(`${this.viewActionName}_exported`)},this.importBrowser=()=>{(0,r.ga4SendEvent)(`${this.browserActionName}_imported`)},this.exportBrowser=()=>{(0,r.ga4SendEvent)(`${this.browserActionName}_exported`)},this.view=e=>{(0,r.ga4SendEvent)(`structure_${this.macroNameBeginsWithLowercase}_used`,{property:e})},this.macroBrowserMacroSheetAdded=e=>{(0,r.ga4SendEvent)(`${this.browserActionName}_added`,{property:e})},this.settingsUpdated=(e,t,a)=>{const i=(0,s.getDifferentKeysByValue)(t,a),o=`${e?"view":"browser"}${this.macroName}`;i.forEach((e=>{(0,r.ga4SendEvent)(`${o}_${e}_updated`,{property:a[e]})}))}}get partActionName(){return`${this.macroName}_macro${this.macroName}`}get browserActionName(){return`browser${this.partActionName}`}get viewActionName(){return`view${this.partActionName}`}get macroNameBeginsWithLowercase(){return`s${this.macroName.slice(1)}`}}i.askAI=({totalTokens:e,tokenType:t})=>{(0,r.ga4SendEvent)("sheetAskAI_askAI_updated",{type:t,property:e})},i.formulaAI=({totalTokens:e,tokenType:t})=>{(0,r.ga4SendEvent)("sheetFormulaAI_askAI_updated",{type:t,property:e})},t.default=i}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:5a1ffddd545489324eef96197440e129', location = 'build/2589.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2589],{9020:function(t,e,i){i.r(e),i.d(e,{Tag:function(){return s},classHighlighter:function(){return R},getStyleTags:function(){return g},highlightCode:function(){return f},highlightTree:function(){return d},styleTags:function(){return l},tagHighlighter:function(){return u},tags:function(){return E}});var n=i(19905);let r=0;class s{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=r++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i="string"==typeof t?t:"?";if(t instanceof s&&(e=t),null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let n=new s(i,[],null,[]);if(n.set.push(n),e)for(let t of e.set)n.set.push(t);return n}static defineModifier(t){let e=new a(t);return t=>t.modified.indexOf(e)>-1?t:a.get(t.base||t,t.modified.concat(e).sort(((t,e)=>t.id-e.id)))}}let o=0;class a{constructor(t){this.name=t,this.instances=[],this.id=o++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find((i=>{return i.base==t&&(n=e,r=i.modified,n.length==r.length&&n.every(((t,e)=>t==r[e])));var n,r}));if(i)return i;let n=[],r=new s(t.name,n,t,e);for(let t of e)t.instances.push(r);let o=function(t){let e=[[]];for(let i=0;i<t.length;i++)for(let n=0,r=e.length;n<r;n++)e.push(e[n].concat(t[i]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of o)n.push(a.get(e,t));return r}}function l(t){let e=Object.create(null);for(let i in t){let n=t[i];Array.isArray(n)||(n=[n]);for(let t of i.split(" "))if(t){let i=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!n)throw new RangeError("Invalid path: "+t);if(i.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),e+=n[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=i.length-1,a=i[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new c(n,r,o>0?i.slice(0,o):null);e[a]=l.sort(e[a])}}return h.add(e)}const h=new n.NodeProp;class c{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function u(t,e){let i=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)i[t.id]=e.class;else i[e.tag.id]=e.class;let{scope:n,all:r=null}=e||{};return{style:t=>{let e=r;for(let n of t)for(let t of n.set){let n=i[t.id];if(n){e=e?e+" "+n:n;break}}return e},scope:n}}function d(t,e,i,n=0,r=t.length){let s=new p(n,Array.isArray(e)?e:[e],i);s.highlightRange(t.cursor(),n,r,"",s.highlighters),s.flush(r)}function f(t,e,i,n,r,s=0,o=t.length){let a=s;function l(e,i){if(!(e<=a)){for(let s=t.slice(a,e),o=0;;){let t=s.indexOf("\n",o),e=t<0?s.length:t;if(e>o&&n(s.slice(o,e),i),t<0)break;r(),o=t+1}a=e}}d(e,i,((t,e,i)=>{l(t,""),l(e,i)}),s,o),l(o,"")}c.empty=new c([],2,null);class p{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,r,s){let{type:o,from:a,to:l}=t;if(a>=i||l<=e)return;o.isTop&&(s=this.highlighters.filter((t=>!t.scope||t.scope(o))));let h=r,u=g(t)||c.empty,d=function(t,e){let i=null;for(let n of t){let t=n.style(e);t&&(i=i?i+" "+t:t)}return i}(s,u.tags);if(d&&(h&&(h+=" "),h+=d,1==u.mode&&(r+=(r?" ":"")+d)),this.startSpan(Math.max(e,a),h),u.opaque)return;let f=t.tree&&t.tree.prop(n.NodeProp.mounted);if(f&&f.overlay){let n=t.node.enter(f.overlay[0].from+a,1),o=this.highlighters.filter((t=>!t.scope||t.scope(f.tree.type))),c=t.firstChild();for(let u=0,d=a;;u++){let p=u<f.overlay.length?f.overlay[u]:null,g=p?p.from+a:l,m=Math.max(e,d),v=Math.min(i,g);if(m<v&&c)for(;t.from<v&&(this.highlightRange(t,m,v,r,s),this.startSpan(Math.min(v,t.to),h),!(t.to>=g)&&t.nextSibling()););if(!p||g>i)break;d=p.to+a,d>e&&(this.highlightRange(n.cursor(),Math.max(e,p.from+a),Math.min(i,d),"",o),this.startSpan(Math.min(i,d),h))}c&&t.parent()}else if(t.firstChild()){f&&(r="");do{if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,r,s),this.startSpan(Math.min(i,t.to),h)}}while(t.nextSibling());t.parent()}}}function g(t){let e=t.type.prop(h);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const m=s.define,v=m(),b=m(),w=m(b),y=m(b),x=m(),k=m(x),S=m(x),O=m(),C=m(O),A=m(),M=m(),T=m(),P=m(T),D=m(),E={comment:v,lineComment:m(v),blockComment:m(v),docComment:m(v),name:b,variableName:m(b),typeName:w,tagName:m(w),propertyName:y,attributeName:m(y),className:m(b),labelName:m(b),namespace:m(b),macroName:m(b),literal:x,string:k,docString:m(k),character:m(k),attributeValue:m(k),number:S,integer:m(S),float:m(S),bool:m(x),regexp:m(x),escape:m(x),color:m(x),url:m(x),keyword:A,self:m(A),null:m(A),atom:m(A),unit:m(A),modifier:m(A),operatorKeyword:m(A),controlKeyword:m(A),definitionKeyword:m(A),moduleKeyword:m(A),operator:M,derefOperator:m(M),arithmeticOperator:m(M),logicOperator:m(M),bitwiseOperator:m(M),compareOperator:m(M),updateOperator:m(M),definitionOperator:m(M),typeOperator:m(M),controlOperator:m(M),punctuation:T,separator:m(T),bracket:P,angleBracket:m(P),squareBracket:m(P),paren:m(P),brace:m(P),content:O,heading:C,heading1:m(C),heading2:m(C),heading3:m(C),heading4:m(C),heading5:m(C),heading6:m(C),contentSeparator:m(O),list:m(O),quote:m(O),emphasis:m(O),strong:m(O),link:m(O),monospace:m(O),strikethrough:m(O),inserted:m(),deleted:m(),changed:m(),invalid:m(),meta:D,documentMeta:m(D),annotation:m(D),processingInstruction:m(D),definition:s.defineModifier("definition"),constant:s.defineModifier("constant"),function:s.defineModifier("function"),standard:s.defineModifier("standard"),local:s.defineModifier("local"),special:s.defineModifier("special")};for(let t in E){let e=E[t];e instanceof s&&(e.name=t)}const R=u([{tag:E.link,class:"tok-link"},{tag:E.heading,class:"tok-heading"},{tag:E.emphasis,class:"tok-emphasis"},{tag:E.strong,class:"tok-strong"},{tag:E.keyword,class:"tok-keyword"},{tag:E.atom,class:"tok-atom"},{tag:E.bool,class:"tok-bool"},{tag:E.url,class:"tok-url"},{tag:E.labelName,class:"tok-labelName"},{tag:E.inserted,class:"tok-inserted"},{tag:E.deleted,class:"tok-deleted"},{tag:E.literal,class:"tok-literal"},{tag:E.string,class:"tok-string"},{tag:E.number,class:"tok-number"},{tag:[E.regexp,E.escape,E.special(E.string)],class:"tok-string2"},{tag:E.variableName,class:"tok-variableName"},{tag:E.local(E.variableName),class:"tok-variableName tok-local"},{tag:E.definition(E.variableName),class:"tok-variableName tok-definition"},{tag:E.special(E.variableName),class:"tok-variableName2"},{tag:E.definition(E.propertyName),class:"tok-propertyName tok-definition"},{tag:E.typeName,class:"tok-typeName"},{tag:E.namespace,class:"tok-namespace"},{tag:E.className,class:"tok-className"},{tag:E.macroName,class:"tok-macroName"},{tag:E.propertyName,class:"tok-propertyName"},{tag:E.operator,class:"tok-operator"},{tag:E.comment,class:"tok-comment"},{tag:E.meta,class:"tok-meta"},{tag:E.invalid,class:"tok-invalid"},{tag:E.punctuation,class:"tok-punctuation"}])},18686:function(t,e,i){i.r(e),i.d(e,{fetchSuggestion:function(){return c},inlineSuggestion:function(){return p}});var n=i(52726),r=i(38717);var s=Object.defineProperty,o=(t,e,i)=>(((t,e,i)=>{e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i),i);const a=r.StateField.define({create(){return{suggestion:null}},update(t,e){const i=e.effects.find((t=>t.is(l)));return e.state.doc&&i&&e.state.doc==i.value.doc?{suggestion:i.value.text}:{suggestion:null}}}),l=r.StateEffect.define();class h extends n.WidgetType{constructor(t){super(),o(this,"suggestion"),this.suggestion=t}toDOM(){const t=document.createElement("span");return t.style.opacity="0.4",t.className="cm-inline-suggestion",t.textContent=this.suggestion,t}get lineBreaks(){return this.suggestion.split("\n").length-1}}const c=t=>n.ViewPlugin.fromClass(class{async update(e){const i=e.state.doc;if(!e.docChanged)return;const n=await t(e.state);e.view.dispatch({effects:l.of({text:n,doc:i})})}}),u=n.ViewPlugin.fromClass(class{constructor(){o(this,"decorations"),this.decorations=n.Decoration.none}update(t){var e;const i=null==(e=t.state.field(a))?void 0:e.suggestion;this.decorations=i?function(t,e){const i=t.state.selection.main.head,r=[],s=n.Decoration.widget({widget:new h(e),side:1});return r.push(s.range(i)),n.Decoration.set(r)}(t.view,i):n.Decoration.none}},{decorations:t=>t.decorations}),d=r.Prec.highest(n.keymap.of([{key:"Tab",run:t=>{var e;const i=null==(e=t.state.field(a))?void 0:e.suggestion;return!!i&&(t.dispatch({...f(t.state,i,t.state.selection.main.head,t.state.selection.main.head)}),!0)}}]));function f(t,e,i,n){return{...t.changeByRange((s=>{if(s==t.selection.main)return{changes:{from:i,to:n,insert:e},range:r.EditorSelection.cursor(i+e.length)};const o=n-i;return!s.empty||o&&t.sliceDoc(s.from-o,s.from)!=t.sliceDoc(i,n)?{range:s}:{changes:{from:s.from-o,to:s.from,insert:e},range:r.EditorSelection.cursor(s.from-o+e.length)}})),userEvent:"input.complete"}}function p(t){const{delay:e=500}=t,i=function(t,e,i){let n=()=>{};return(...r)=>(n(),new Promise(((s,o)=>{const a=setTimeout((()=>s(t(...r))),e);n=()=>{clearTimeout(a),void 0!==i&&o(i)}})))}(t.fetchFn,e);return[a,c(i),u,d]}},18895:function(t,e,i){i.r(e),i.d(e,{Cassandra:function(){return J},MSSQL:function(){return Y},MariaSQL:function(){return K},MySQL:function(){return G},PLSQL:function(){return tt},PostgreSQL:function(){return H},SQLDialect:function(){return _},SQLite:function(){return Z},StandardSQL:function(){return q},keywordCompletionSource:function(){return V},schemaCompletionSource:function(){return F},sql:function(){return W}});var n=i(35510),r=i(9020),s=i(54856),o=i(84184);const a=20,l=21;function h(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function c(t,e,i){for(let n=!1;;){if(t.next<0)return;if(t.next==e&&!n)return void t.advance();n=i&&!n&&92==t.next,t.advance()}}function u(t,e){for(;95==t.next||h(t.next);)null!=e&&(e+=String.fromCharCode(t.next)),t.advance();return e}function d(t,e){for(;48==t.next||49==t.next;)t.advance();e&&t.next==e&&t.advance()}function f(t,e){for(;;){if(46==t.next){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(69==t.next||101==t.next)for(t.advance(),43!=t.next&&45!=t.next||t.advance();t.next>=48&&t.next<=57;)t.advance()}function p(t){for(;!(t.next<0||10==t.next);)t.advance()}function g(t,e){for(let i=0;i<e.length;i++)if(e.charCodeAt(i)==t)return!0;return!1}const m=" \t\r\n";function v(t,e,i){let n=Object.create(null);n.true=n.false=5,n.null=n.unknown=6;for(let e of t.split(" "))e&&(n[e]=a);for(let t of e.split(" "))t&&(n[t]=l);for(let t of(i||"").split(" "))t&&(n[t]=24);return n}const b="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",w="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",y={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:v(w,b)};function x(t){return new s.ExternalTokenizer((e=>{var i;let{next:n}=e;if(e.advance(),g(n,m)){for(;g(e.next,m);)e.advance();e.acceptToken(36)}else if(36==n&&t.doubleDollarQuotedStrings){let t=u(e,"");36==e.next&&(e.advance(),function(t,e){t:for(;;){if(t.next<0)return;if(36==t.next){t.advance();for(let i=0;i<e.length;i++){if(t.next!=e.charCodeAt(i))continue t;t.advance()}if(36==t.next)return void t.advance()}else t.advance()}}(e,t),e.acceptToken(3))}else if(39==n||34==n&&t.doubleQuotedStrings)c(e,n,t.backslashEscapes),e.acceptToken(3);else if(35==n&&t.hashComments||47==n&&47==e.next&&t.slashComments)p(e),e.acceptToken(1);else if(45!=n||45!=e.next||t.spaceAfterDashes&&32!=e.peek(1))if(47==n&&42==e.next){e.advance();for(let t=1;;){let i=e.next;if(e.next<0)break;if(e.advance(),42==i&&47==e.next){if(t--,e.advance(),!t)break}else 47==i&&42==e.next&&(t++,e.advance())}e.acceptToken(2)}else if(101!=n&&69!=n||39!=e.next)if(110!=n&&78!=n||39!=e.next||!t.charSetCasts)if(95==n&&t.charSetCasts)for(let i=0;;i++){if(39==e.next&&i>1){e.advance(),c(e,39,t.backslashEscapes),e.acceptToken(3);break}if(!h(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(113==n||81==n)&&39==e.next&&e.peek(1)>0&&!g(e.peek(1),m)){let t=e.peek(1);e.advance(2),function(t,e){let i="[{<(".indexOf(String.fromCharCode(e)),n=i<0?e:"]}>)".charCodeAt(i);for(;;){if(t.next<0)return;if(t.next==n&&39==t.peek(1))return void t.advance(2);t.advance()}}(e,t),e.acceptToken(3)}else if(40==n)e.acceptToken(7);else if(41==n)e.acceptToken(8);else if(123==n)e.acceptToken(9);else if(125==n)e.acceptToken(10);else if(91==n)e.acceptToken(11);else if(93==n)e.acceptToken(12);else if(59==n)e.acceptToken(13);else if(t.unquotedBitLiterals&&48==n&&98==e.next)e.advance(),d(e),e.acceptToken(22);else if(98!=n&&66!=n||39!=e.next&&34!=e.next){if(48==n&&(120==e.next||88==e.next)||(120==n||88==n)&&39==e.next){let t=39==e.next;for(e.advance();(r=e.next)>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70;)e.advance();t&&39==e.next&&e.advance(),e.acceptToken(4)}else if(46==n&&e.next>=48&&e.next<=57)f(e,!0),e.acceptToken(4);else if(46==n)e.acceptToken(14);else if(n>=48&&n<=57)f(e,!1),e.acceptToken(4);else if(g(n,t.operatorChars)){for(;g(e.next,t.operatorChars);)e.advance();e.acceptToken(15)}else if(g(n,t.specialVar))e.next==n&&e.advance(),function(t){if(39==t.next||34==t.next||96==t.next){let e=t.next;t.advance(),c(t,e,!1)}else u(t)}(e),e.acceptToken(17);else if(g(n,t.identifierQuotes))c(e,n,!1),e.acceptToken(19);else if(58==n||44==n)e.acceptToken(16);else if(h(n)){let r=u(e,String.fromCharCode(n));e.acceptToken(46==e.next||46==e.peek(-r.length-1)?18:null!==(i=t.words[r.toLowerCase()])&&void 0!==i?i:18)}}else{const i=e.next;e.advance(),t.treatBitsAsBytes?(c(e,i,t.backslashEscapes),e.acceptToken(23)):(d(e,i),e.acceptToken(22))}else e.advance(),c(e,39,t.backslashEscapes),e.acceptToken(3);else e.advance(),c(e,39,!0),e.acceptToken(3);else p(e),e.acceptToken(1);var r}))}const k=x(y),S=s.LRParser.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,k],topRules:{Script:[0,25]},tokenPrec:0});function O(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function C(t,e){let i=t.sliceString(e.from,e.to),n=/^([`'"])(.*)\1$/.exec(i);return n?n[2]:i}function A(t){return t&&("Identifier"==t.name||"QuotedIdentifier"==t.name)}function M(t,e){if("CompositeIdentifier"==e.name){let i=[];for(let n=e.firstChild;n;n=n.nextSibling)A(n)&&i.push(C(t,n));return i}return[C(t,e)]}function T(t,e){for(let i=[];;){if(!e||"."!=e.name)return i;let n=O(e);if(!A(n))return i;i.unshift(C(t,n)),e=O(n)}}function P(t,e){let i=(0,n.syntaxTree)(t).resolveInner(e,-1),r=function(t,e){let i;for(let t=e;!i;t=t.parent){if(!t)return null;"Statement"==t.name&&(i=t)}let n=null;for(let e=i.firstChild,r=!1,s=null;e;e=e.nextSibling){let i="Keyword"==e.name?t.sliceString(e.from,e.to).toLowerCase():null,o=null;if(r)if("as"==i&&s&&A(e.nextSibling))o=C(t,e.nextSibling);else{if(i&&D.has(i))break;s&&A(e)&&(o=C(t,e))}else r="from"==i;o&&(n||(n=Object.create(null)),n[o]=M(t,s)),s=/Identifier$/.test(e.name)?e:null}return n}(t.doc,i);return"Identifier"==i.name||"QuotedIdentifier"==i.name||"Keyword"==i.name?{from:i.from,quoted:"QuotedIdentifier"==i.name?t.doc.sliceString(i.from,i.from+1):null,parents:T(t.doc,O(i)),aliases:r}:"."==i.name?{from:e,quoted:null,parents:T(t.doc,i),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const D=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));const E=/^\w*$/,R=/^[`'"]?\w*[`'"]?$/;function B(t){return t.self&&"string"==typeof t.self.label}class N{constructor(t,e){this.idQuote=t,this.idCaseInsensitive=e,this.list=[],this.children=void 0}child(t){let e=this.children||(this.children=Object.create(null)),i=e[t];return i||(t&&!this.list.some((e=>e.label==t))&&this.list.push(L(t,"type",this.idQuote,this.idCaseInsensitive)),e[t]=new N(this.idQuote,this.idCaseInsensitive))}maybeChild(t){return this.children?this.children[t]:null}addCompletion(t){let e=this.list.findIndex((e=>e.label==t.label));e>-1?this.list[e]=t:this.list.push(t)}addCompletions(t){for(let e of t)this.addCompletion("string"==typeof e?L(e,"property",this.idQuote,this.idCaseInsensitive):e)}addNamespace(t){Array.isArray(t)?this.addCompletions(t):B(t)?this.addNamespace(t.children):this.addNamespaceObject(t)}addNamespaceObject(t){for(let e of Object.keys(t)){let i=t[e],n=null,r=e.replace(/\\?\./g,(t=>"."==t?"\0":t)).split("\0"),s=this;B(i)&&(n=i.self,i=i.children);for(let t=0;t<r.length;t++)n&&t==r.length-1&&s.addCompletion(n),s=s.child(r[t].replace(/\\\./g,"."));s.addNamespace(i)}}}function L(t,e,i,n){return new RegExp("^[a-z_][a-z_\\d]*$",n?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:i+t+i}}function I(t,e,i){let n=Object.keys(t).map((n=>{return i(e?n.toUpperCase():n,(r=t[n])==l?"type":r==a?"keyword":"variable");var r}));return(0,o.ifNotIn)(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],(0,o.completeFromList)(n))}let Q=S.configure({props:[n.indentNodeProp.add({Statement:(0,n.continuedIndent)()}),n.foldNodeProp.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),(0,r.styleTags)({Keyword:r.tags.keyword,Type:r.tags.typeName,Builtin:r.tags.standard(r.tags.name),Bits:r.tags.number,Bytes:r.tags.string,Bool:r.tags.bool,Null:r.tags.null,Number:r.tags.number,String:r.tags.string,Identifier:r.tags.name,QuotedIdentifier:r.tags.special(r.tags.string),SpecialVar:r.tags.special(r.tags.name),LineComment:r.tags.lineComment,BlockComment:r.tags.blockComment,Operator:r.tags.operator,"Semi Punctuation":r.tags.punctuation,"( )":r.tags.paren,"{ }":r.tags.brace,"[ ]":r.tags.squareBracket})]});class _{constructor(t,e,i){this.dialect=t,this.language=e,this.spec=i}get extension(){return this.language.extension}static define(t){let e=function(t,e,i,n){let r={};for(let e in y)r[e]=(t.hasOwnProperty(e)?t:y)[e];return e&&(r.words=v(e,i||"",n)),r}(t,t.keywords,t.types,t.builtin),i=n.LRLanguage.define({name:"sql",parser:Q.configure({tokenizers:[{from:k,to:x(e)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new _(e,i,t)}}function z(t,e){return{label:t,type:e,boost:-1}}function V(t,e=!1,i){return I(t.dialect.words,e,i||z)}function F(t){return t.schema?function(t,e,i,n,r,s){var o;let a=(null===(o=null==s?void 0:s.spec.identifierQuotes)||void 0===o?void 0:o[0])||'"',l=new N(a,!!(null==s?void 0:s.spec.caseInsensitiveIdentifiers)),h=r?l.child(r):null;return l.addNamespace(t),e&&(h||l).addCompletions(e),i&&l.addCompletions(i),h&&l.addCompletions(h.list),n&&l.addCompletions((h||l).child(n).list),t=>{let{parents:e,from:i,quoted:r,empty:s,aliases:o}=P(t.state,t.pos);if(s&&!t.explicit)return null;o&&1==e.length&&(e=o[e[0]]||e);let a=l;for(let t of e){for(;!a.children||!a.children[t];)if(a==l&&h)a=h;else{if(a!=h||!n)return null;a=a.child(n)}let e=a.maybeChild(t);if(!e)return null;a=e}let c=r&&t.state.sliceDoc(t.pos,t.pos+1)==r,u=a.list;return a==l&&o&&(u=u.concat(Object.keys(o).map((t=>({label:t,type:"constant"}))))),{from:i,to:c?t.pos+1:void 0,options:(d=r,f=u,d?f.map((t=>Object.assign(Object.assign({},t),{label:t.label[0]==d?t.label:d+t.label+d,apply:void 0}))):f),validFor:r?R:E};var d,f}}(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||q):()=>null}function $(t){return t.schema?(t.dialect||q).language.data.of({autocomplete:F(t)}):[]}function W(t={}){let e=t.dialect||q;return new n.LanguageSupport(e.language,[$(t),e.language.data.of({autocomplete:V(e,t.upperCaseKeywords,t.keywordCompletion)})])}const q=_.define({}),H=_.define({charSetCasts:!0,doubleDollarQuotedStrings:!0,operatorChars:"+-*/<>=~!@#%^&|`?",specialVar:"",keywords:w+"abort abs absent access according ada admin aggregate alias also always analyse analyze array_agg array_max_cardinality asensitive assert assignment asymmetric atomic attach attribute attributes avg backward base64 begin_frame begin_partition bernoulli bit_length blocked bom cache called cardinality catalog_name ceil ceiling chain char_length character_length character_set_catalog character_set_name character_set_schema characteristics characters checkpoint class class_origin cluster coalesce cobol collation_catalog collation_name collation_schema collect column_name columns command_function command_function_code comment comments committed concurrently condition_number configuration conflict connection_name constant constraint_catalog constraint_name constraint_schema contains content control conversion convert copy corr cost covar_pop covar_samp csv cume_dist current_catalog current_row current_schema cursor_name database datalink datatype datetime_interval_code datetime_interval_precision db debug defaults defined definer degree delimiter delimiters dense_rank depends derived detach detail dictionary disable discard dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue document dump dynamic_function dynamic_function_code element elsif empty enable encoding encrypted end_frame end_partition endexec enforced enum errcode error event every exclude excluding exclusive exp explain expression extension extract family file filter final first_value flag floor following force foreach fortran forward frame_row freeze fs functions fusion generated granted greatest groups handler header hex hierarchy hint id ignore ilike immediately immutable implementation implicit import include including increment indent index indexes info inherit inherits inline insensitive instance instantiable instead integrity intersection invoker isnull key_member key_type label lag last_value lead leakproof least length library like_regex link listen ln load location lock locked log logged lower mapping matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text min minvalue mod mode more move multiset mumps name namespace nfc nfd nfkc nfkd nil normalize normalized nothing notice notify notnull nowait nth_value ntile nullable nullif nulls number occurrences_regex octet_length octets off offset oids operator options ordering others over overlay overriding owned owner parallel parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partition pascal passing passthrough password percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding prepared print_strict_params procedural procedures program publication query quote raise range rank reassign recheck recovery refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex rename repeatable replace replica requiring reset respect restart restore result_oid returned_cardinality returned_length returned_octet_length returned_sqlstate returning reverse routine_catalog routine_name routine_schema routines row_count row_number rowtype rule scale schema_name schemas scope scope_catalog scope_name scope_schema security selective self sensitive sequence sequences serializable server server_name setof share show simple skip slice snapshot source specific_name sqlcode sqlerror sqrt stable stacked standalone statement statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time table_name tables tablesample tablespace temp template ties token top_level_count transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex trigger_catalog trigger_name trigger_schema trim trim_array truncate trusted type types uescape unbounded uncommitted unencrypted unlink unlisten unlogged unnamed untyped upper uri use_column use_variable user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema vacuum valid validate validator value_of var_pop var_samp varbinary variable_conflict variadic verbose version versioning views volatile warning whitespace width_bucket window within wrapper xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate yes",types:b+"bigint int8 bigserial serial8 varbit bool box bytea cidr circle precision float8 inet int4 json jsonb line lseg macaddr macaddr8 money numeric pg_lsn point polygon float4 int2 smallserial serial2 serial serial4 text timetz timestamptz tsquery tsvector txid_snapshot uuid xml"}),X="accessible algorithm analyze asensitive authors auto_increment autocommit avg avg_row_length binlog btree cache catalog_name chain change changed checkpoint checksum class_origin client_statistics coalesce code collations columns comment committed completion concurrent consistent contains contributors convert database databases day_hour day_microsecond day_minute day_second delay_key_write delayed delimiter des_key_file dev_pop dev_samp deviance directory disable discard distinctrow div dual dumpfile enable enclosed ends engine engines enum errors escaped even event events every explain extended fast field fields flush force found_rows fulltext grants handler hash high_priority hosts hour_microsecond hour_minute hour_second ignore ignore_server_ids import index index_statistics infile innodb insensitive insert_method install invoker iterate keys kill linear lines list load lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modify mutex mysql_errno no_write_to_binlog offline offset one online optimize optionally outfile pack_keys parser partition partitions password phase plugin plugins prev processlist profile profiles purge query quick range read_write rebuild recover regexp relaylog remove rename reorganize repair repeatable replace require resume rlike row_format rtree schedule schema_name schemas second_microsecond security sensitive separator serializable server share show slave slow snapshot soname spatial sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result ssl starting starts std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace terminated triggers truncate uncommitted uninstall unlock upgrade use use_frm user_resources user_statistics utc_date utc_time utc_timestamp variables views warnings xa xor year_month zerofill",U=b+"bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int1 int2 int3 int4 int8 float4 float8 varbinary varcharacter precision datetime unsigned signed",j="charset clear edit ego help nopager notee nowarning pager print prompt quit rehash source status system tee",G=_.define({operatorChars:"*+-%<>!=&|^",charSetCasts:!0,doubleQuotedStrings:!0,unquotedBitLiterals:!0,hashComments:!0,spaceAfterDashes:!0,specialVar:"@?",identifierQuotes:"`",keywords:w+"group_concat "+X,types:U,builtin:j}),K=_.define({operatorChars:"*+-%<>!=&|^",charSetCasts:!0,doubleQuotedStrings:!0,unquotedBitLiterals:!0,hashComments:!0,spaceAfterDashes:!0,specialVar:"@?",identifierQuotes:"`",keywords:w+"always generated groupby_concat hard persistent shutdown soft virtual "+X,types:U,builtin:j}),Y=_.define({keywords:w+"trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock pivot readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx unpivot updlock with",types:b+"bigint smallint smallmoney tinyint money real text nvarchar ntext varbinary image hierarchyid uniqueidentifier sql_variant xml",builtin:"binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id",operatorChars:"*+-%<>!=^&|/",specialVar:"@"}),Z=_.define({keywords:w+"abort analyze attach autoincrement conflict database detach exclusive fail glob ignore index indexed instead isnull notnull offset plan pragma query raise regexp reindex rename replace temp vacuum virtual",types:b+"bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int2 int8 unsigned signed real",builtin:"auth backup bail changes clone databases dbinfo dump echo eqp explain fullschema headers help import imposter indexes iotrace lint load log mode nullvalue once print prompt quit restore save scanstats separator shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width",operatorChars:"*+-%<>!=&|/~",identifierQuotes:'`"',specialVar:"@:?$"}),J=_.define({keywords:"add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime infinity NaN",types:b+"ascii bigint blob counter frozen inet list map static text timeuuid tuple uuid varint",slashComments:!0}),tt=_.define({keywords:w+"abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",builtin:"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",types:b+"ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",operatorChars:"*/+-%<>!=~",doubleQuotedStrings:!0,charSetCasts:!0,plsqlQuotingMechanism:!0})},19905:function(t,e,i){i.r(e),i.d(e,{DefaultBufferLength:function(){return n},IterMode:function(){return f},MountedTree:function(){return a},NodeProp:function(){return o},NodeSet:function(){return c},NodeType:function(){return h},NodeWeakMap:function(){return R},Parser:function(){return N},Tree:function(){return p},TreeBuffer:function(){return m},TreeCursor:function(){return M},TreeFragment:function(){return B},parseMixed:function(){return I}});const n=1024;let r=0;class s{constructor(t,e){this.from=t,this.to=e}}class o{constructor(t={}){this.id=r++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=h.match(t)),e=>{let i=t(e);return void 0===i?null:[this,i]}}}o.closedBy=new o({deserialize:t=>t.split(" ")}),o.openedBy=new o({deserialize:t=>t.split(" ")}),o.group=new o({deserialize:t=>t.split(" ")}),o.isolate=new o({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});class a{constructor(t,e,i){this.tree=t,this.overlay=e,this.parser=i}static get(t){return t&&t.props&&t.props[o.mounted.id]}}const l=Object.create(null);class h{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):l,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new h(t.name||"",e,t.id,i);if(t.props)for(let i of t.props)if(Array.isArray(i)||(i=i(n)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[i[0].id]=i[1]}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(o.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return t=>{for(let i=t.prop(o.group),n=-1;n<(i?i.length:0);n++){let r=e[n<0?t.name:i[n]];if(r)return r}}}}h.none=new h("",Object.create(null),0,8);class c{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let n=null;for(let e of t){let t=e(i);t&&(n||(n=Object.assign({},i.props)),n[t[0].id]=t[1])}e.push(n?new h(i.name,n,i.id,i.flags):i)}return new c(e)}}const u=new WeakMap,d=new WeakMap;var f;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(f||(f={}));class p{constructor(t,e,i,n,r){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=a.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let i=t.toString();i&&(e&&(e+=","),e+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new M(this.topNode,t)}cursorAt(t,e=0,i=0){let n=u.get(this)||this.topNode,r=new M(n);return r.moveTo(t,e),u.set(this,r._tree),r}get topNode(){return new y(this,0,0,null)}resolve(t,e=0){let i=b(u.get(this)||this.topNode,t,e,!1);return u.set(this,i),i}resolveInner(t,e=0){let i=b(d.get(this)||this.topNode,t,e,!0);return d.set(this,i),i}resolveStack(t,e=0){return function(t,e,i){let n=t.resolveInner(e,i),r=null;for(let t=n instanceof y?n:n.context.parent;t;t=t.parent)if(t.index<0){let s=t.parent;(r||(r=[n])).push(s.resolve(e,i)),t=s}else{let s=a.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new y(s.tree,s.overlay[0].from+t.from,-1,t);(r||(r=[n])).push(b(o,e,i,!1))}}return r?C(r):n}(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:r=this.length}=t,s=t.mode||0,o=(s&f.IncludeAnonymous)>0;for(let t=this.cursor(s|f.IncludeAnonymous);;){let s=!1;if(t.from<=r&&t.to>=n&&(!o&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;s=!0}for(;s&&i&&(o||!t.type.isAnonymous)&&i(t),!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:E(h.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,i)=>new p(this.type,t,e,i,this.propValues)),t.makeTree||((t,e,i)=>new p(h.none,t,e,i)))}static build(t){return function(t){var e;let{buffer:i,nodeSet:r,maxBufferLength:s=n,reused:a=[],minRepeatType:l=r.types.length}=t,h=Array.isArray(i)?new g(i,i.length):i,c=r.types,u=0,d=0;function f(t,e,i,n,o,p){let{id:g,start:S,end:O,size:C}=h,A=d;for(;C<0;){if(h.next(),-1==C){let e=a[g];return i.push(e),void n.push(S-t)}if(-3==C)return void(u=g);if(-4==C)return void(d=g);throw new RangeError(`Unrecognized record size: ${C}`)}let M,T,P=c[g],D=S-t;if(O-S<=s&&(T=x(h.pos-e,o))){let e=new Uint16Array(T.size-T.skip),i=h.pos-T.size,n=e.length;for(;h.pos>i;)n=k(T.start,e,n);M=new m(e,O-T.start,r),D=T.start-t}else{let t=h.pos-C;h.next();let e=[],i=[],n=g>=l?g:-1,r=0,o=O;for(;h.pos>t;)n>=0&&h.id==n&&h.size>=0?(h.end<=o-s&&(w(e,i,S,r,h.end,o,n,A),r=e.length,o=h.end),h.next()):p>2500?v(S,t,e,i):f(S,t,e,i,n,p+1);if(n>=0&&r>0&&r<e.length&&w(e,i,S,r,S,o,n,A),e.reverse(),i.reverse(),n>-1&&r>0){let t=b(P);M=E(P,e,i,0,e.length,0,O-S,t,t)}else M=y(P,e,i,O-S,A-O)}i.push(M),n.push(D)}function v(t,e,i,n){let o=[],a=0,l=-1;for(;h.pos>e;){let{id:t,start:e,end:i,size:n}=h;if(n>4)h.next();else{if(l>-1&&e<l)break;l<0&&(l=i-s),o.push(t,e,i),a++,h.next()}}if(a){let e=new Uint16Array(4*a),s=o[o.length-2];for(let t=o.length-3,i=0;t>=0;t-=3)e[i++]=o[t],e[i++]=o[t+1]-s,e[i++]=o[t+2]-s,e[i++]=i;i.push(new m(e,o[2]-s,r)),n.push(s-t)}}function b(t){return(e,i,n)=>{let r,s,a=0,l=e.length-1;if(l>=0&&(r=e[l])instanceof p){if(!l&&r.type==t&&r.length==n)return r;(s=r.prop(o.lookAhead))&&(a=i[l]+r.length+s)}return y(t,e,i,n,a)}}function w(t,e,i,n,s,o,a,l){let h=[],c=[];for(;t.length>n;)h.push(t.pop()),c.push(e.pop()+i-s);t.push(y(r.types[a],h,c,o-s,l-o)),e.push(s-i)}function y(t,e,i,n,r=0,s){if(u){let t=[o.contextHash,u];s=s?[t].concat(s):[t]}if(r>25){let t=[o.lookAhead,r];s=s?[t].concat(s):[t]}return new p(t,e,i,n,s)}function x(t,e){let i=h.fork(),n=0,r=0,o=0,a=i.end-s,c={size:0,start:0,skip:0};t:for(let s=i.pos-t;i.pos>s;){let t=i.size;if(i.id==e&&t>=0){c.size=n,c.start=r,c.skip=o,o+=4,n+=4,i.next();continue}let h=i.pos-t;if(t<0||h<s||i.start<a)break;let u=i.id>=l?4:0,d=i.start;for(i.next();i.pos>h;){if(i.size<0){if(-3!=i.size)break t;u+=4}else i.id>=l&&(u+=4);i.next()}r=d,n+=t,o+=u}return(e<0||n==t)&&(c.size=n,c.start=r,c.skip=o),c.size>4?c:void 0}function k(t,e,i){let{id:n,start:r,end:s,size:o}=h;if(h.next(),o>=0&&n<l){let a=i;if(o>4){let n=h.pos-(o-4);for(;h.pos>n;)i=k(t,e,i)}e[--i]=a,e[--i]=s-t,e[--i]=r-t,e[--i]=n}else-3==o?u=n:-4==o&&(d=n);return i}let S=[],O=[];for(;h.pos>0;)f(t.start||0,t.bufferStart||0,S,O,-1,0);let C=null!==(e=t.length)&&void 0!==e?e:S.length?O[0]+S[0].length:0;return new p(c[t.topID],S.reverse(),O.reverse(),C)}(t)}}p.empty=new p(h.none,[],[],0);class g{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new g(this.buffer,this.index)}}class m{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return h.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],r=n.name;if(/\W/.test(r)&&!n.isError&&(r=JSON.stringify(r)),i==(t+=4))return r;let s=[];for(;t<i;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,i,n,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e&&!(v(r,n,s[a+1],s[a+2])&&(o=a,i>0));a=s[a+3]);return o}slice(t,e,i){let n=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,a=0;o<e;){r[a++]=n[o++],r[a++]=n[o++]-i;let e=r[a++]=n[o++]-i;r[a++]=n[o++]-t,s=Math.max(s,e)}return new m(r,s,this.set)}}function v(t,e,i,n){switch(t){case-2:return i<e;case-1:return n>=e&&i<e;case 0:return i<e&&n>e;case 1:return i<=e&&n>e;case 2:return n>e;case 4:return!0}}function b(t,e,i,n){for(var r;t.from==t.to||(i<1?t.from>=e:t.from>e)||(i>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof y&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=n?0:f.IgnoreOverlays;if(n)for(let n=t,o=n.parent;o;n=o,o=n.parent)n instanceof y&&n.index<0&&(null===(r=o.enter(e,i,s))||void 0===r?void 0:r.from)!=n.from&&(t=o);for(;;){let n=t.enter(e,i,s);if(!n)return t;t=n}}class w{cursor(t=0){return new M(this,t)}getChild(t,e=null,i=null){let n=x(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return x(this,t,e,i)}resolve(t,e=0){return b(this,t,e,!1)}resolveInner(t,e=0){return b(this,t,e,!0)}matchContext(t){return k(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(i=e,e=t.prevSibling):e=t}return i}get node(){return this}get next(){return this.parent}}class y extends w{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,r=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,h=e>0?o.length:-1;t!=h;t+=e){let h=o[t],c=l[t]+s.from;if(v(n,i,c,c+h.length))if(h instanceof m){if(r&f.ExcludeBuffers)continue;let o=h.findChild(0,h.buffer.length,e,i-c,n);if(o>-1)return new O(new S(s,h,t,c),null,o)}else if(r&f.IncludeAnonymous||!h.type.isAnonymous||T(h)){let o;if(!(r&f.IgnoreMounts)&&(o=a.get(h))&&!o.overlay)return new y(o.tree,c,t,s);let l=new y(h,c,t,s);return r&f.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?h.children.length-1:0,e,i,n)}}if(r&f.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,i=0){let n;if(!(i&f.IgnoreOverlays)&&(n=a.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:r}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?r>=i:r>i))return new y(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function x(t,e,i,n){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=i)for(let t=!1;!t;)if(t=r.type.is(i),!r.nextSibling())return s;for(;;){if(null!=n&&r.type.is(n))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==n?s:[]}}function k(t,e,i=e.length-1){for(let n=t.parent;i>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[i]&&e[i]!=n.name)return!1;i--}}return!0}class S{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}}class O extends w{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return r<0?null:new O(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i=0){if(i&f.ExcludeBuffers)return null;let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return r<0?null:new O(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new O(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new O(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,r=i.buffer[this.index+3];if(r>n){let s=i.buffer[this.index+1];t.push(i.slice(n,r,s)),e.push(0)}return new p(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function C(t){if(!t.length)return null;let e=0,i=t[0];for(let n=1;n<t.length;n++){let r=t[n];(r.from>i.from||r.to<i.to)&&(i=r,e=n)}let n=i instanceof y&&i.index<0?null:i.parent,r=t.slice();return n?r[e]=n:r.splice(e,1),new A(r,i)}class A{constructor(t,e){this.heads=t,this.node=e}get next(){return C(this.heads)}}class M{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof y)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof y?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,r=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?!(i&f.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&f.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&f.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let t=i<0?0:this.stack[i]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(t)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;({index:e,_parent:i}=i))if(e>-1)for(let n=e+t,r=t<0?-1:i._tree.children.length;n!=r;n+=t){let t=i._tree.children[n];if(this.mode&f.IncludeAnonymous||t instanceof m||!t.type.isAnonymous||T(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==n){if(n==this.index)return s;e=s,i=r+1;break t}n=this.stack[--r]}for(let t=i;t<this.stack.length;t++)e=new O(this.buffer,e,this.stack[t]);return this.bufferNode=new O(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&e&&e(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return k(this.node,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,r=this.stack.length-1;n>=0;r--){if(r<0)return k(this.node,t,n);let s=i[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[n]&&t[n]!=s.name)return!1;n--}}return!0}}function T(t){return t.children.some((t=>t instanceof m||!t.type.isAnonymous||T(t)))}const P=new WeakMap;function D(t,e){if(!t.isAnonymous||e instanceof m||e.type!=t)return 1;let i=P.get(e);if(null==i){i=1;for(let n of e.children){if(n.type!=t||!(n instanceof p)){i=1;break}i+=D(t,n)}P.set(e,i)}return i}function E(t,e,i,n,r,s,o,a,l){let h=0;for(let i=n;i<r;i++)h+=D(t,e[i]);let c=Math.ceil(1.5*h/8),u=[],d=[];return function e(i,n,r,o,a){for(let h=r;h<o;){let r=h,f=n[h],p=D(t,i[h]);for(h++;h<o;h++){let e=D(t,i[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=i[r];e(t.children,t.positions,0,t.children.length,n[r]+a);continue}u.push(i[r])}else{let e=n[h-1]+i[h-1].length-f;u.push(E(t,i,n,r,h,f,e,null,l))}d.push(f+a-s)}}(e,i,n,r,0),(a||l)(u,d,o)}class R{constructor(){this.map=new WeakMap}setBuffer(t,e,i){let n=this.map.get(t);n||this.map.set(t,n=new Map),n.set(e,i)}getBuffer(t,e){let i=this.map.get(t);return i&&i.get(e)}set(t,e){t instanceof O?this.setBuffer(t.context.buffer,t.index,e):t instanceof y&&this.map.set(t.tree,e)}get(t){return t instanceof O?this.getBuffer(t.context.buffer,t.index):t instanceof y?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}}class B{constructor(t,e,i,n,r=!1,s=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],i=!1){let n=[new B(0,t.length,t,0,!1,i)];for(let i of e)i.to>t.length&&n.push(i);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=i)for(;s&&s.from<c;){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,i=Math.min(e.to,c)-l;e=t>=i?null:new B(t,i,e.tree,e.offset+l,o>0,!!h)}if(e&&n.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return n}}class N{startParse(t,e,i){return"string"==typeof t&&(t=new L(t)),i=i?i.length?i.map((t=>new s(t.from,t.to))):[new s(0,0)]:[new s(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let t=n.advance();if(t)return t}}}class L{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}function I(t){return(e,i,n,r)=>new F(e,t,i,n,r)}class Q{constructor(t,e,i,n,r){this.parser=t,this.parse=e,this.overlay=i,this.target=n,this.from=r}}function _(t){if(!t.length||t.some((t=>t.from>=t.to)))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class z{constructor(t,e,i,n,r,s,o){this.parser=t,this.predicate=e,this.mounts=i,this.index=n,this.start=r,this.target=s,this.prev=o,this.depth=0,this.ranges=[]}}const V=new o({perNode:!0});class F{constructor(t,e,i,n,r){this.nest=e,this.input=i,this.fragments=n,this.ranges=r,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}advance(){if(this.baseParse){let t=this.baseParse.advance();if(!t)return null;if(this.baseParse=null,this.baseTree=t,this.startInner(),null!=this.stoppedAt)for(let t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let t=this.baseTree;return null!=this.stoppedAt&&(t=new p(t.type,t.children,t.positions,t.length,t.propValues.concat([[V,this.stoppedAt]]))),t}let t=this.inner[this.innerDone],e=t.parse.advance();if(e){this.innerDone++;let i=Object.assign(Object.create(null),t.target.props);i[o.mounted.id]=new a(e,t.overlay,t.parser),t.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].from<t&&(t=Math.min(t,this.inner[e].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].parse.stopAt(t)}startInner(){let t=new X(this.fragments),e=null,i=null,n=new M(new y(this.baseTree,this.ranges[0].from,0,null),f.IncludeAnonymous|f.IgnoreMounts);t:for(let r,o;;){let a,l=!0;if(null!=this.stoppedAt&&n.from>=this.stoppedAt)l=!1;else if(t.hasNode(n)){if(e){let t=e.mounts.find((t=>t.frag.from<=n.from&&t.frag.to>=n.to&&t.mount.overlay));if(t)for(let i of t.mount.overlay){let r=i.from+t.pos,s=i.to+t.pos;r>=n.from&&s<=n.to&&!e.ranges.some((t=>t.from<s&&t.to>r))&&e.ranges.push({from:r,to:s})}}l=!1}else if(i&&(o=$(i.ranges,n.from,n.to)))l=2!=o;else if(!n.type.isAnonymous&&(r=this.nest(n,this.input))&&(n.from<n.to||!r.overlay)){n.tree||q(n);let o=t.findMounts(n.from,r.parser);if("function"==typeof r.overlay)e=new z(r.parser,r.overlay,o,this.inner.length,n.from,n.tree,e);else{let t=U(this.ranges,r.overlay||(n.from<n.to?[new s(n.from,n.to)]:[]));t.length&&_(t),!t.length&&r.overlay||this.inner.push(new Q(r.parser,t.length?r.parser.startParse(this.input,G(o,t),t):r.parser.startParse(""),r.overlay?r.overlay.map((t=>new s(t.from-n.from,t.to-n.from))):null,n.tree,t.length?t[0].from:n.from)),r.overlay?t.length&&(i={ranges:t,depth:0,prev:i}):l=!1}}else e&&(a=e.predicate(n))&&(!0===a&&(a=new s(n.from,n.to)),a.from<a.to&&e.ranges.push(a));if(l&&n.firstChild())e&&e.depth++,i&&i.depth++;else for(;!n.nextSibling();){if(!n.parent())break t;if(e&&! --e.depth){let t=U(this.ranges,e.ranges);t.length&&(_(t),this.inner.splice(e.index,0,new Q(e.parser,e.parser.startParse(this.input,G(e.mounts,t),t),e.ranges.map((t=>new s(t.from-e.start,t.to-e.start))),e.target,t[0].from))),e=e.prev}i&&! --i.depth&&(i=i.prev)}}}}function $(t,e,i){for(let n of t){if(n.from>=i)break;if(n.to>e)return n.from<=e&&n.to>=i?2:1}return 0}function W(t,e,i,n,r,s){if(e<i){let o=t.buffer[e+1];n.push(t.slice(e,i,o)),r.push(o-s)}}function q(t){let{node:e}=t,i=[],n=e.context.buffer;do{i.push(t.index),t.parent()}while(!t.tree);let r=t.tree,s=r.children.indexOf(n),o=r.children[s],a=o.buffer,l=[s];r.children[s]=function t(n,r,s,h,c,u){let d=i[u],f=[],g=[];W(o,n,d,f,g,h);let m=a[d+1],v=a[d+2];l.push(f.length);let b=u?t(d+4,a[d+3],o.set.types[a[d]],m,v-m,u-1):e.toTree();return f.push(b),g.push(m-h),W(o,a[d+3],r,f,g,h),new p(s,f,g,c)}(0,a.length,h.none,0,o.length,i.length-1);for(let e of l){let i=t.tree.children[e],n=t.tree.positions[e];t.yield(new y(i,n+t.from,e,t._tree))}}class H{constructor(t,e){this.offset=e,this.done=!1,this.cursor=t.cursor(f.IncludeAnonymous|f.IgnoreMounts)}moveTo(t){let{cursor:e}=this,i=t-this.offset;for(;!this.done&&e.from<i;)e.to>=t&&e.enter(i,1,f.IgnoreOverlays|f.ExcludeBuffers)||e.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let e=this.cursor.tree;;){if(e==t.tree)return!0;if(!(e.children.length&&0==e.positions[0]&&e.children[0]instanceof p))break;e=e.children[0]}return!1}}class X{constructor(t){var e;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let i=this.curFrag=t[0];this.curTo=null!==(e=i.tree.prop(V))&&void 0!==e?e:i.to,this.inner=new H(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let e=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(t=e.tree.prop(V))&&void 0!==t?t:e.to,this.inner=new H(e.tree,-e.offset)}}findMounts(t,e){var i;let n=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let t=this.inner.cursor.node;t;t=t.parent){let r=null===(i=t.tree)||void 0===i?void 0:i.prop(o.mounted);if(r&&r.parser==e)for(let e=this.fragI;e<this.fragments.length;e++){let i=this.fragments[e];if(i.from>=t.to)break;i.tree==this.curFrag.tree&&n.push({frag:i,pos:t.from-i.offset,mount:r})}}}return n}}function U(t,e){let i=null,n=e;for(let r=1,o=0;r<t.length;r++){let a=t[r-1].to,l=t[r].from;for(;o<n.length;o++){let t=n[o];if(t.from>=l)break;t.to<=a||(i||(n=i=e.slice()),t.from<a?(i[o]=new s(t.from,a),t.to>l&&i.splice(o+1,0,new s(l,t.to))):t.to>l?i[o--]=new s(l,t.to):i.splice(o--,1))}}return n}function j(t,e,i,n){let r=0,o=0,a=!1,l=!1,h=-1e9,c=[];for(;;){let u=r==t.length?1e9:a?t[r].to:t[r].from,d=o==e.length?1e9:l?e[o].to:e[o].from;if(a!=l){let t=Math.max(h,i),e=Math.min(u,d,n);t<e&&c.push(new s(t,e))}if(h=Math.min(u,d),1e9==h)break;u==h&&(a?(a=!1,r++):a=!0),d==h&&(l?(l=!1,o++):l=!0)}return c}function G(t,e){let i=[];for(let{pos:n,mount:r,frag:o}of t){let t=n+(r.overlay?r.overlay[0].from:0),a=t+r.tree.length,l=Math.max(o.from,t),h=Math.min(o.to,a);if(r.overlay){let a=j(e,r.overlay.map((t=>new s(t.from+n,t.to+n))),l,h);for(let e=0,n=l;;e++){let s=e==a.length,l=s?h:a[e].from;if(l>n&&i.push(new B(n,l,r.tree,-t,o.from>=n||o.openStart,o.to<=l||o.openEnd)),s)break;n=a[e].to}}else i.push(new B(l,h,r.tree,-t,o.from>=t||o.openStart,o.to<=a||o.openEnd))}return i}},29847:function(t,e,i){i.r(e),i.d(e,{css:function(){return B},cssCompletionSource:function(){return E},cssLanguage:function(){return R},defineCSSCompletionSource:function(){return D}});var n=i(54856),r=i(9020);const s=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function o(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function a(t){return t>=48&&t<=57}const l=new n.ExternalTokenizer(((t,e)=>{for(let i=!1,n=0,r=0;;r++){let{next:s}=t;if(o(s)||45==s||95==s||i&&a(s))!i&&(45!=s||r>0)&&(i=!0),n===r&&45==s&&n++,t.advance();else{if(92!=s||10==t.peek(1)){i&&t.acceptToken(40==s?100:2==n&&e.canShift(2)?2:101);break}t.advance(),t.next>-1&&t.advance(),i=!0}}})),h=new n.ExternalTokenizer((t=>{if(s.includes(t.peek(-1))){let{next:e}=t;(o(e)||95==e||35==e||46==e||91==e||58==e&&o(t.peek(1))||45==e||38==e)&&t.acceptToken(99)}})),c=new n.ExternalTokenizer((t=>{if(!s.includes(t.peek(-1))){let{next:e}=t;if(37==e&&(t.advance(),t.acceptToken(1)),o(e)){do{t.advance()}while(o(t.next)||a(t.next));t.acceptToken(1)}}})),u=(0,r.styleTags)({"AtKeyword import charset namespace keyframes media supports":r.tags.definitionKeyword,"from to selector":r.tags.keyword,NamespaceName:r.tags.namespace,KeyframeName:r.tags.labelName,KeyframeRangeName:r.tags.operatorKeyword,TagName:r.tags.tagName,ClassName:r.tags.className,PseudoClassName:r.tags.constant(r.tags.className),IdName:r.tags.labelName,"FeatureName PropertyName":r.tags.propertyName,AttributeName:r.tags.attributeName,NumberLiteral:r.tags.number,KeywordQuery:r.tags.keyword,UnaryQueryOp:r.tags.operatorKeyword,"CallTag ValueName":r.tags.atom,VariableName:r.tags.variableName,Callee:r.tags.operatorKeyword,Unit:r.tags.unit,"UniversalSelector NestingSelector":r.tags.definitionOperator,MatchOp:r.tags.compareOperator,"ChildOp SiblingOp, LogicOp":r.tags.logicOperator,BinOp:r.tags.arithmeticOperator,Important:r.tags.modifier,Comment:r.tags.blockComment,ColorLiteral:r.tags.color,"ParenthesizedContent StringLiteral":r.tags.string,":":r.tags.punctuation,"PseudoOp #":r.tags.derefOperator,"; ,":r.tags.separator,"( )":r.tags.paren,"[ ]":r.tags.squareBracket,"{ }":r.tags.brace}),d={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},f={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},p={__proto__:null,not:132,only:132},g=n.LRParser.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO-kQdO,59}O-{Q[O'#E^O.YQWO,5;_O.YQWO,5;_POOO'#EV'#EVP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/iQ`O1G/^O0SQXO1G/aO0jQXO1G/cO1QQXO1G/dO1hQWO,59|O1mQ[O'#DSO1tQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1{QpO,59]OOQS,59_,59_O${QdO,59aO2TQWO1G/mOOQS,59c,59cO2YQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2eQ[O,59jOOQS,59j,59jO2mQWO'#DjO2xQWO,5:VO2}QWO,5:]O&`Q[O,5:XO&`Q[O'#E_O3VQWO,5;`O3bQWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3sQWO1G0OO3xQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO4TQtO1G/iOOQO1G/i1G/iOOQO,5:x,5:xO4kQ[O,5:xOOQO-E8[-E8[O4xQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO5TQXO'#ErO5[QWO,59nO5aQtO'#EXO6XQdO'#EoO6cQWO,59ZO6hQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XOOQS1G/P1G/PO6pQWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6uQWO,5:yOOQO-E8]-E8]O7TQXO1G/xOOQS7+%j7+%jO7[QYO'#CsOOQO'#EQ'#EQO7gQ`O'#EPOOQO'#EP'#EPO7rQWO'#E`O7zQdO,5:jOOQS,5:j,5:jO8VQtO'#E]O${QdO'#E]O9WQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9kQpO<<HdO9sQWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9{QWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO:TQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3{QdO'#EaO7rQWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO:[QtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO;]QdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";o~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!X#rO!Y!Va#U!Va!S!Va~P${O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#xO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.pOp#zO|#{O~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/qOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/qOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/qO!S#|O~Oa#fP~P(aOa#cP~P${Oa$TOj#XO~O!Y$VO~Oa$WOh$XOo$XO~Op$ZO#X#]O~O]!`Xa!^X!b!^X~O]$[O~Oa$]O!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$bO~O!S$iO#X$dO#e$cO~Oj#XOt$kO!X$mO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$qO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$sOa#cX~P${Oa$uO~Oj#XOp$vO~Oa$wO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$yO~P.pOP#WOtgX!TgX~O#e$cOt!sX!T!sX~Ot${O!TwO~O!S%PO#X$dO#e$cO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$kO!X%SO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%TO~OtoOa#fa~Ot$sOa#ca~Oa%WO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[u],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[h,c,l,1,2,3,4,new n.LocalTokenGroup("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>d[t]||-1},{term:58,get:t=>f[t]||-1},{term:101,get:t=>p[t]||-1}],tokenPrec:1219});var m=i(35510),v=i(19905);let b=null;function w(){if(!b&&"object"==typeof document&&document.body){let{style:t}=document.body,e=[],i=new Set;for(let n in t)"cssText"!=n&&"cssFloat"!=n&&"string"==typeof t[n]&&(/[A-Z]/.test(n)&&(n=n.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))),i.has(n)||(e.push(n),i.add(n)));b=e.sort().map((t=>({type:"property",label:t,apply:t+": "})))}return b||[]}const y=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map((t=>({type:"class",label:t}))),x=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((t=>({type:"keyword",label:t}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((t=>({type:"constant",label:t})))),k=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((t=>({type:"type",label:t}))),S=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map((t=>({type:"keyword",label:t}))),O=/^(\w[\w-]*|-\w[\w-]*|)$/,C=/^-(-[\w-]*)?$/;const A=new v.NodeWeakMap,M=["Declaration"];function T(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function P(t,e,i){if(e.to-e.from>4096){let n=A.get(e);if(n)return n;let r=[],s=new Set,o=e.cursor(v.IterMode.IncludeAnonymous);if(o.firstChild())do{for(let e of P(t,o.node,i))s.has(e.label)||(s.add(e.label),r.push(e))}while(o.nextSibling());return A.set(e,r),r}{let n=[],r=new Set;return e.cursor().iterate((e=>{var s;if(i(e)&&e.matchContext(M)&&":"==(null===(s=e.node.nextSibling)||void 0===s?void 0:s.name)){let i=t.sliceString(e.from,e.to);r.has(i)||(r.add(i),n.push({label:i,type:"variable"}))}})),n}}const D=t=>e=>{let{state:i,pos:n}=e,r=(0,m.syntaxTree)(i).resolveInner(n,-1),s=r.type.isError&&r.from==r.to-1&&"-"==i.doc.sliceString(r.from,r.to);if("PropertyName"==r.name||(s||"TagName"==r.name)&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:w(),validFor:O};if("ValueName"==r.name)return{from:r.from,options:x,validFor:O};if("PseudoClassName"==r.name)return{from:r.from,options:y,validFor:O};if(t(r)||(e.explicit||s)&&function(t,e){var i;if(("("==t.name||t.type.isError)&&(t=t.parent||t),"ArgList"!=t.name)return!1;let n=null===(i=t.parent)||void 0===i?void 0:i.firstChild;return"Callee"==(null==n?void 0:n.name)&&"var"==e.sliceString(n.from,n.to)}(r,i.doc))return{from:t(r)||s?r.from:n,options:P(i.doc,T(r),t),validFor:C};if("TagName"==r.name){for(let{parent:t}=r;t;t=t.parent)if("Block"==t.name)return{from:r.from,options:w(),validFor:O};return{from:r.from,options:k,validFor:O}}if("AtKeyword"==r.name)return{from:r.from,options:S,validFor:O};if(!e.explicit)return null;let o=r.resolve(n),a=o.childBefore(n);return a&&":"==a.name&&"PseudoClassSelector"==o.name?{from:n,options:y,validFor:O}:a&&":"==a.name&&"Declaration"==o.name||"ArgList"==o.name?{from:n,options:x,validFor:O}:"Block"==o.name||"Styles"==o.name?{from:n,options:w(),validFor:O}:null},E=D((t=>"VariableName"==t.name)),R=m.LRLanguage.define({name:"css",parser:g.configure({props:[m.indentNodeProp.add({Declaration:(0,m.continuedIndent)()}),m.foldNodeProp.add({"Block KeyframeList":m.foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function B(){return new m.LanguageSupport(R,R.data.of({autocomplete:E}))}},35510:function(t,e,i){i.r(e),i.d(e,{DocInput:function(){return y},HighlightStyle:function(){return Tt},IndentContext:function(){return Q},LRLanguage:function(){return p},Language:function(){return d},LanguageDescription:function(){return D},LanguageSupport:function(){return P},ParseContext:function(){return k},StreamLanguage:function(){return ee},StringStream:function(){return Zt},TreeIndentContext:function(){return $},bidiIsolates:function(){return we},bracketMatching:function(){return Ht},bracketMatchingHandle:function(){return Xt},codeFolding:function(){return yt},continuedIndent:function(){return U},defaultHighlightStyle:function(){return It},defineLanguageFacet:function(){return c},delimitedIndent:function(){return q},ensureSyntaxTree:function(){return m},flatIndent:function(){return X},foldAll:function(){return ft},foldCode:function(){return ct},foldEffect:function(){return it},foldGutter:function(){return At},foldInside:function(){return Z},foldKeymap:function(){return vt},foldNodeProp:function(){return Y},foldService:function(){return K},foldState:function(){return st},foldable:function(){return tt},foldedRanges:function(){return ot},forceParsing:function(){return b},getIndentUnit:function(){return B},getIndentation:function(){return L},highlightingFor:function(){return Bt},indentNodeProp:function(){return _},indentOnInput:function(){return G},indentRange:function(){return I},indentService:function(){return E},indentString:function(){return N},indentUnit:function(){return R},language:function(){return T},languageDataProp:function(){return h},matchBrackets:function(){return Gt},sublanguageProp:function(){return u},syntaxHighlighting:function(){return Rt},syntaxParserRunning:function(){return w},syntaxTree:function(){return g},syntaxTreeAvailable:function(){return v},toggleFold:function(){return mt},unfoldAll:function(){return pt},unfoldCode:function(){return ut},unfoldEffect:function(){return nt}});var n,r=i(19905),s=i(38717),o=i(52726),a=i(9020),l=i(59349);const h=new r.NodeProp;function c(t){return s.Facet.define({combine:t?e=>e.concat(t):void 0})}const u=new r.NodeProp;class d{constructor(t,e,i=[],n=""){this.data=t,this.name=n,s.EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(s.EditorState.prototype,"tree",{get(){return g(this)}}),this.parser=e,this.extension=[T.of(this),s.EditorState.languageData.of(((t,e,i)=>{let n=f(t,e,i),r=n.type.prop(h);if(!r)return[];let s=t.facet(r),o=n.type.prop(u);if(o){let r=n.resolve(e-n.from,i);for(let e of o)if(e.test(r,t)){let i=t.facet(e.facet);return"replace"==e.type?i:i.concat(s)}}return s}))].concat(i)}isActiveAt(t,e,i=-1){return f(t,e,i).type.prop(h)==this.data}findRegions(t){let e=t.facet(T);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(t,e)=>{if(t.prop(h)==this.data)return void i.push({from:e,to:e+t.length});let s=t.prop(r.NodeProp.mounted);if(s){if(s.tree.prop(h)==this.data){if(s.overlay)for(let t of s.overlay)i.push({from:t.from+e,to:t.to+e});else i.push({from:e,to:e+t.length});return}if(s.overlay){let t=i.length;if(n(s.tree,s.overlay[0].from+e),i.length>t)return}}for(let i=0;i<t.children.length;i++){let s=t.children[i];s instanceof r.Tree&&n(s,t.positions[i]+e)}};return n(g(t),0),i}get allowsNesting(){return!0}}function f(t,e,i){let n=t.facet(T),s=g(t).topNode;if(!n||n.allowsNesting)for(let t=s;t;t=t.enter(e,i,r.IterMode.ExcludeBuffers))t.type.isTop&&(s=t);return s}d.setState=s.StateEffect.define();class p extends d{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=c(t.languageData);return new p(e,t.parser.configure({props:[h.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new p(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function g(t){let e=t.field(d.state,!1);return e?e.tree:r.Tree.empty}function m(t,e,i=50){var n;let r=null===(n=t.field(d.state,!1))||void 0===n?void 0:n.context;if(!r)return null;let s=r.viewport;r.updateViewport({from:0,to:e});let o=r.isDone(e)||r.work(i,e)?r.tree:null;return r.updateViewport(s),o}function v(t,e=t.doc.length){var i;return(null===(i=t.field(d.state,!1))||void 0===i?void 0:i.context.isDone(e))||!1}function b(t,e=t.viewport.to,i=100){let n=m(t.state,e,i);return n!=g(t.state)&&t.dispatch({}),!!n}function w(t){var e;return(null===(e=t.plugin(M))||void 0===e?void 0:e.isWorking())||!1}class y{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let x=null;class k{constructor(t,e,i=[],n,r,s,o,a){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new k(t,e,[],r.Tree.empty,0,i,[],null)}startParse(){return this.parser.startParse(new y(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=r.Tree.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var i;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n){if(this.fragments=this.withoutTempSkipped(r.TreeFragment.addTree(n,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=n,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(r.TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=x;x=this;try{return t()}finally{x=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=S(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,i,n,r)=>e.push({fromA:t,toA:i,fromB:n,toB:r}))),i=r.TreeFragment.applyChanges(i,e),n=r.Tree.empty,s=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){a=[];for(let e of this.skipped){let i=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);i<n&&a.push({from:i,to:n})}}}return new k(this.parser,e,i,n,s,o,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:i,to:n}=this.skipped[e];i<t.to&&n>t.from&&(this.fragments=S(this.fragments,i,n),this.skipped.splice(e--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends r.Parser{createParse(e,i,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let e=x;if(e){for(let t of n)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new r.Tree(r.NodeType.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return x}}function S(t,e,i){return r.TreeFragment.applyChanges(t,[{fromA:e,toA:i,fromB:e,toB:i}])}class O{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new O(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=k.create(t.facet(T).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new O(i)}}d.state=s.StateField.define({create:O.init,update(t,e){for(let t of e.effects)if(t.is(d.setState))return t.value;return e.startState.facet(T)!=e.state.facet(T)?O.init(e.state):t.apply(e)}});let C=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(C=t=>{let e=-1,i=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(i):cancelIdleCallback(e)});const A="undefined"!=typeof navigator&&(null===(n=navigator.scheduling)||void 0===n?void 0:n.isInputPending)?()=>navigator.scheduling.isInputPending():null,M=o.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(d.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(d.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=C(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,r=i.field(d.state);if(r.tree==r.context.tree&&r.context.isDone(n+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!A?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<n&&i.doc.length>n+1e3,a=r.context.work((()=>A&&A()||Date.now()>s),n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:d.setState.of(new O(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>(0,o.logException)(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),T=s.Facet.define({combine(t){return t.length?t[0]:null},enables:t=>[d.state,M,o.EditorView.contentAttributes.compute([t],(e=>{let i=e.facet(t);return i&&i.name?{"data-language":i.name}:{}}))]});class P{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}class D{constructor(t,e,i,n,r,s=void 0){this.name=t,this.alias=e,this.extensions=i,this.filename=n,this.loadFunc=r,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((t=>this.support=t),(t=>{throw this.loading=null,t})))}static of(t){let{load:e,support:i}=t;if(!e){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");e=()=>Promise.resolve(i)}return new D(t.name,(t.alias||[]).concat(t.name).map((t=>t.toLowerCase())),t.extensions||[],t.filename,e,i)}static matchFilename(t,e){for(let i of t)if(i.filename&&i.filename.test(e))return i;let i=/\.([^.]+)$/.exec(e);if(i)for(let e of t)if(e.extensions.indexOf(i[1])>-1)return e;return null}static matchLanguageName(t,e,i=!0){e=e.toLowerCase();for(let i of t)if(i.alias.some((t=>t==e)))return i;if(i)for(let i of t)for(let t of i.alias){let n=e.indexOf(t);if(n>-1&&(t.length>2||!/\w/.test(e[n-1])&&!/\w/.test(e[n+t.length])))return i}return null}}const E=s.Facet.define(),R=s.Facet.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function B(t){let e=t.facet(R);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function N(t,e){let i="",n=t.tabSize,r=t.facet(R)[0];if("\t"==r){for(;e>=n;)i+="\t",e-=n;r=" "}for(let t=0;t<e;t++)i+=r;return i}function L(t,e){t instanceof s.EditorState&&(t=new Q(t));for(let i of t.state.facet(E)){let n=i(t,e);if(void 0!==n)return n}let i=g(t.state);return i.length>=e?function(t,e,i){let n=e.resolveStack(i),r=n.node.enterUnfinishedNodesBefore(i);if(r!=n.node){let t=[];for(let e=r;e!=n.node;e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)n={node:t[e],next:n}}return z(n,t,i)}(t,i,e):null}function I(t,e,i){let n=Object.create(null),r=new Q(t,{overrideIndentation:t=>{var e;return null!==(e=n[t])&&void 0!==e?e:-1}}),s=[];for(let o=e;o<=i;){let e=t.doc.lineAt(o);o=e.to+1;let i=L(r,e.from);if(null==i)continue;/\S/.test(e.text)||(i=0);let a=/^\s*/.exec(e.text)[0],l=N(t,i);a!=l&&(n[e.from]=i,s.push({from:e.from,to:e.from+a.length,insert:l}))}return t.changes(s)}class Q{constructor(t,e={}){this.state=t,this.options=e,this.unit=B(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:n,simulateDoubleBreak:r}=this.options;return null!=n&&n>=i.from&&n<=i.to?r&&n==t?{text:"",from:t}:(e<0?n<t:n<=t)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(t,e);return i.slice(t-n,Math.min(i.length,t+100-n))}column(t,e=1){let{text:i,from:n}=this.lineAt(t,e),r=this.countColumn(i,t-n),s=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return s>-1&&(r+=s-this.countColumn(i,i.search(/\S|$/))),r}countColumn(t,e=t.length){return(0,s.countColumn)(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:n}=this.lineAt(t,e),r=this.options.overrideIndentation;if(r){let t=r(n);if(t>-1)return t}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const _=new r.NodeProp;function z(t,e,i){for(let n=t;n;n=n.next){let t=V(n.node);if(t)return t($.create(e,i,n))}return 0}function V(t){let e=t.type.prop(_);if(e)return e;let i,n=t.firstChild;if(n&&(i=n.type.prop(r.NodeProp.closedBy))){let e=t.lastChild,n=e&&i.indexOf(e.name)>-1;return t=>H(t,!0,1,void 0,n&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?F:null}function F(){return 0}class $ extends Q{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.context=i}get node(){return this.context.node}static create(t,e,i){return new $(t,e,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let i=t.resolve(e.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(W(i,t))break;e=this.state.doc.lineAt(i.from)}return this.lineIndent(e.from)}continue(){return z(this.context.next,this.base,this.pos)}}function W(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}function q({closing:t,align:e=!0,units:i=1}){return n=>H(n,e,i,t)}function H(t,e,i,n,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=n&&s.slice(o,o+n.length)==n||r==t.pos+o,l=e?function(t){let e=t.node,i=e.childAfter(e.from),n=e.lastChild;if(!i)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(i.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let t=i.to;;){let r=e.childAfter(t);if(!r||r==n)return null;if(!r.type.isSkipped){if(r.from>=o)return null;let t=/^ */.exec(s.text.slice(i.to-s.from))[0].length;return{from:i.from,to:i.to+t}}t=r.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*i)}const X=t=>t.baseIndent;function U({except:t,units:e=1}={}){return i=>{let n=t&&t.test(i.textAfter);return i.baseIndent+(n?0:e*i.unit)}}const j=200;function G(){return s.EditorState.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let i=t.newDoc,{head:n}=t.newSelection.main,r=i.lineAt(n);if(n>r.from+j)return t;let s=i.sliceString(r.from,n);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,a=-1,l=[];for(let{head:t}of o.selection.ranges){let e=o.doc.lineAt(t);if(e.from==a)continue;a=e.from;let i=L(o,e.from);if(null==i)continue;let n=/^\s*/.exec(e.text)[0],r=N(o,i);n!=r&&l.push({from:e.from,to:e.from+n.length,insert:r})}return l.length?[t,{changes:l,sequential:!0}]:t}))}const K=s.Facet.define(),Y=new r.NodeProp;function Z(t){let e=t.firstChild,i=t.lastChild;return e&&e.to<i.from?{from:e.to,to:i.type.isError?t.to:i.from}:null}function J(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function tt(t,e,i){for(let n of t.facet(K)){let r=n(t,e,i);if(r)return r}return function(t,e,i){let n=g(t);if(n.length<i)return null;let r=null;for(let s=n.resolveStack(i,1);s;s=s.next){let o=s.node;if(o.to<=i||o.from>i)continue;if(r&&o.from<e)break;let a=o.type.prop(Y);if(a&&(o.to<n.length-50||n.length==t.doc.length||!J(o))){let n=a(o,t);n&&n.from<=i&&n.from>=e&&n.to>i&&(r=n)}}return r}(t,e,i)}function et(t,e){let i=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return i>=n?void 0:{from:i,to:n}}const it=s.StateEffect.define({map:et}),nt=s.StateEffect.define({map:et});function rt(t){let e=[];for(let{head:i}of t.state.selection.ranges)e.some((t=>t.from<=i&&t.to>=i))||e.push(t.lineBlockAt(i));return e}const st=s.StateField.define({create(){return o.Decoration.none},update(t,e){t=t.map(e.changes);for(let i of e.effects)if(i.is(it)&&!lt(t,i.value.from,i.value.to)){let{preparePlaceholder:n}=e.state.facet(wt),r=n?o.Decoration.replace({widget:new St(n(e.state,i.value))}):kt;t=t.update({add:[r.range(i.value.from,i.value.to)]})}else i.is(nt)&&(t=t.update({filter:(t,e)=>i.value.from!=t||i.value.to!=e,filterFrom:i.value.from,filterTo:i.value.to}));if(e.selection){let i=!1,{head:n}=e.selection.main;t.between(n,n,((t,e)=>{t<n&&e>n&&(i=!0)})),i&&(t=t.update({filterFrom:n,filterTo:n,filter:(t,e)=>e<=n||t>=n}))}return t},provide:t=>o.EditorView.decorations.from(t),toJSON(t,e){let i=[];return t.between(0,e.doc.length,((t,e)=>{i.push(t,e)})),i},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let i=0;i<t.length;){let n=t[i++],r=t[i++];if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid JSON for fold state");e.push(kt.range(n,r))}return o.Decoration.set(e,!0)}});function ot(t){return t.field(st,!1)||s.RangeSet.empty}function at(t,e,i){var n;let r=null;return null===(n=t.field(st,!1))||void 0===n||n.between(e,i,((t,e)=>{(!r||r.from>t)&&(r={from:t,to:e})})),r}function lt(t,e,i){let n=!1;return t.between(e,e,((t,r)=>{t==e&&r==i&&(n=!0)})),n}function ht(t,e){return t.field(st,!1)?e:e.concat(s.StateEffect.appendConfig.of(yt()))}const ct=t=>{for(let e of rt(t)){let i=tt(t.state,e.from,e.to);if(i)return t.dispatch({effects:ht(t.state,[it.of(i),dt(t,i)])}),!0}return!1},ut=t=>{if(!t.state.field(st,!1))return!1;let e=[];for(let i of rt(t)){let n=at(t.state,i.from,i.to);n&&e.push(nt.of(n),dt(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function dt(t,e,i=!0){let n=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return o.EditorView.announce.of(`${t.state.phrase(i?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${r}.`)}const ft=t=>{let{state:e}=t,i=[];for(let n=0;n<e.doc.length;){let r=t.lineBlockAt(n),s=tt(e,r.from,r.to);s&&i.push(it.of(s)),n=(s?t.lineBlockAt(s.to):r).to+1}return i.length&&t.dispatch({effects:ht(t.state,i)}),!!i.length},pt=t=>{let e=t.state.field(st,!1);if(!e||!e.size)return!1;let i=[];return e.between(0,t.state.doc.length,((t,e)=>{i.push(nt.of({from:t,to:e}))})),t.dispatch({effects:i}),!0};function gt(t,e){for(let i=e;;){let n=tt(t.state,i.from,i.to);if(n&&n.to>e.from)return n;if(!i.from)return null;i=t.lineBlockAt(i.from-1)}}const mt=t=>{let e=[];for(let i of rt(t)){let n=at(t.state,i.from,i.to);if(n)e.push(nt.of(n),dt(t,n,!1));else{let n=gt(t,i);n&&e.push(it.of(n),dt(t,n))}}return e.length>0&&t.dispatch({effects:ht(t.state,e)}),!!e.length},vt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:ct},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:ut},{key:"Ctrl-Alt-[",run:ft},{key:"Ctrl-Alt-]",run:pt}],bt={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},wt=s.Facet.define({combine(t){return(0,s.combineConfig)(t,bt)}});function yt(t){let e=[st,Mt];return t&&e.push(wt.of(t)),e}function xt(t,e){let{state:i}=t,n=i.facet(wt),r=e=>{let i=t.lineBlockAt(t.posAtDOM(e.target)),n=at(t.state,i.from,i.to);n&&t.dispatch({effects:nt.of(n)}),e.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",i.phrase("folded code")),s.title=i.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const kt=o.Decoration.replace({widget:new class extends o.WidgetType{toDOM(t){return xt(t,null)}}});class St extends o.WidgetType{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return xt(t,this.value)}}const Ot={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Ct extends o.GutterMarker{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function At(t={}){let e=Object.assign(Object.assign({},Ot),t),i=new Ct(e,!0),n=new Ct(e,!1),r=o.ViewPlugin.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(T)!=t.state.facet(T)||t.startState.field(st,!1)!=t.state.field(st,!1)||g(t.startState)!=g(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new s.RangeSetBuilder;for(let r of t.viewportLineBlocks){let s=at(t.state,r.from,r.to)?n:tt(t.state,r.from,r.to)?i:null;s&&e.add(r.from,r.from,s)}return e.finish()}}),{domEventHandlers:a}=e;return[r,(0,o.gutter)({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.markers)||s.RangeSet.empty},initialSpacer(){return new Ct(e,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(t,e,i)=>{if(a.click&&a.click(t,e,i))return!0;let n=at(t.state,e.from,e.to);if(n)return t.dispatch({effects:nt.of(n)}),!0;let r=tt(t.state,e.from,e.to);return!!r&&(t.dispatch({effects:it.of(r)}),!0)}})}),yt()]}const Mt=o.EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Tt{constructor(t,e){let i;function n(t){let e=l.StyleModule.newName();return(i||(i=Object.create(null)))["."+e]=t,e}this.specs=t;const r="string"==typeof e.all?e.all:e.all?n(e.all):void 0,s=e.scope;this.scope=s instanceof d?t=>t.prop(h)==s.data:s?t=>t==s:void 0,this.style=(0,a.tagHighlighter)(t.map((t=>({tag:t.tag,class:t.class||n(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=i?new l.StyleModule(i):null,this.themeType=e.themeType}static define(t,e){return new Tt(t,e||{})}}const Pt=s.Facet.define(),Dt=s.Facet.define({combine(t){return t.length?[t[0]]:null}});function Et(t){let e=t.facet(Pt);return e.length?e:t.facet(Dt)}function Rt(t,e){let i,n=[Lt];return t instanceof Tt&&(t.module&&n.push(o.EditorView.styleModule.of(t.module)),i=t.themeType),(null==e?void 0:e.fallback)?n.push(Dt.of(t)):i?n.push(Pt.computeN([o.EditorView.darkTheme],(e=>e.facet(o.EditorView.darkTheme)==("dark"==i)?[t]:[]))):n.push(Pt.of(t)),n}function Bt(t,e,i){let n=Et(t),r=null;if(n)for(let t of n)if(!t.scope||i&&t.scope(i)){let i=t.style(e);i&&(r=r?r+" "+i:i)}return r}class Nt{constructor(t){this.markCache=Object.create(null),this.tree=g(t.state),this.decorations=this.buildDeco(t,Et(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=g(t.state),i=Et(t.state),n=i!=Et(t.startState),{viewport:r}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<r.to&&!n&&e.type==this.tree.type&&s>=r.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i),this.decoratedTo=r.to)}buildDeco(t,e){if(!e||!this.tree.length)return o.Decoration.none;let i=new s.RangeSetBuilder;for(let{from:n,to:r}of t.visibleRanges)(0,a.highlightTree)(this.tree,e,((t,e,n)=>{i.add(t,e,this.markCache[n]||(this.markCache[n]=o.Decoration.mark({class:n})))}),n,r);return i.finish()}}const Lt=s.Prec.high(o.ViewPlugin.fromClass(Nt,{decorations:t=>t.decorations})),It=Tt.define([{tag:a.tags.meta,color:"#404740"},{tag:a.tags.link,textDecoration:"underline"},{tag:a.tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:a.tags.emphasis,fontStyle:"italic"},{tag:a.tags.strong,fontWeight:"bold"},{tag:a.tags.strikethrough,textDecoration:"line-through"},{tag:a.tags.keyword,color:"#708"},{tag:[a.tags.atom,a.tags.bool,a.tags.url,a.tags.contentSeparator,a.tags.labelName],color:"#219"},{tag:[a.tags.literal,a.tags.inserted],color:"#164"},{tag:[a.tags.string,a.tags.deleted],color:"#a11"},{tag:[a.tags.regexp,a.tags.escape,a.tags.special(a.tags.string)],color:"#e40"},{tag:a.tags.definition(a.tags.variableName),color:"#00f"},{tag:a.tags.local(a.tags.variableName),color:"#30a"},{tag:[a.tags.typeName,a.tags.namespace],color:"#085"},{tag:a.tags.className,color:"#167"},{tag:[a.tags.special(a.tags.variableName),a.tags.macroName],color:"#256"},{tag:a.tags.definition(a.tags.propertyName),color:"#00c"},{tag:a.tags.comment,color:"#940"},{tag:a.tags.invalid,color:"#f00"}]),Qt=o.EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),_t=1e4,zt="()[]{}",Vt=s.Facet.define({combine(t){return(0,s.combineConfig)(t,{afterCursor:!0,brackets:zt,maxScanDistance:_t,renderMatch:Wt})}}),Ft=o.Decoration.mark({class:"cm-matchingBracket"}),$t=o.Decoration.mark({class:"cm-nonmatchingBracket"});function Wt(t){let e=[],i=t.matched?Ft:$t;return e.push(i.range(t.start.from,t.start.to)),t.end&&e.push(i.range(t.end.from,t.end.to)),e}const qt=[s.StateField.define({create(){return o.Decoration.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let i=[],n=e.state.facet(Vt);for(let t of e.state.selection.ranges){if(!t.empty)continue;let r=Gt(e.state,t.head,-1,n)||t.head>0&&Gt(e.state,t.head-1,1,n)||n.afterCursor&&(Gt(e.state,t.head,1,n)||t.head<e.state.doc.length&&Gt(e.state,t.head+1,-1,n));r&&(i=i.concat(n.renderMatch(r,e.state)))}return o.Decoration.set(i,!0)},provide:t=>o.EditorView.decorations.from(t)}),Qt];function Ht(t={}){return[Vt.of(t),qt]}const Xt=new r.NodeProp;function Ut(t,e,i){let n=t.prop(e<0?r.NodeProp.openedBy:r.NodeProp.closedBy);if(n)return n;if(1==t.name.length){let n=i.indexOf(t.name);if(n>-1&&n%2==(e<0?1:0))return[i[n+e]]}return null}function jt(t){let e=t.type.prop(Xt);return e?e(t.node):t}function Gt(t,e,i,n={}){let r=n.maxScanDistance||_t,s=n.brackets||zt,o=g(t),a=o.resolveInner(e,i);for(let n=a;n;n=n.parent){let r=Ut(n.type,i,s);if(r&&n.from<n.to){let o=jt(n);if(o&&(i>0?e>=o.from&&e<o.to:e>o.from&&e<=o.to))return Kt(t,e,i,n,o,r,s)}}return function(t,e,i,n,r,s,o){let a=i<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=i>0)return null;let h={from:i<0?e-1:e,to:i>0?e+1:e},c=t.doc.iterRange(e,i>0?t.doc.length:0),u=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;i<0&&(t+=s.length);let a=e+t*i;for(let t=i>0?0:s.length-1,e=i>0?s.length:-1;t!=e;t+=i){let e=o.indexOf(s[t]);if(!(e<0||n.resolveInner(a+t,1).type!=r))if(e%2==0==i>0)u++;else{if(1==u)return{start:h,end:{from:a+t,to:a+t+1},matched:e>>1==l>>1};u--}}i>0&&(t+=s.length)}return c.done?{start:h,matched:!1}:null}(t,e,i,o,a.type,r,s)}function Kt(t,e,i,n,r,s,o){let a=n.parent,l={from:r.from,to:r.to},h=0,c=null==a?void 0:a.cursor();if(c&&(i<0?c.childBefore(n.from):c.childAfter(n.to)))do{if(i<0?c.to<=n.from:c.from>=n.to){if(0==h&&s.indexOf(c.type.name)>-1&&c.from<c.to){let t=jt(c);return{start:l,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(Ut(c.type,i,o))h++;else if(Ut(c.type,-i,o)){if(0==h){let t=jt(c);return{start:l,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}h--}}}while(i<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Yt(t,e,i,n=0,r=0){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);let s=r;for(let r=n;r<e;r++)9==t.charCodeAt(r)?s+=i-s%i:s++;return s}class Zt{constructor(t,e,i,n){this.string=t,this.tabSize=e,this.indentUnit=i,this.overrideIndent=n,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let e,i=this.string.charAt(this.pos);if(e="string"==typeof t?i==t:i&&(t instanceof RegExp?t.test(i):t(i)),e)return++this.pos,i}eatWhile(t){let e=this.pos;for(;this.eat(t););return this.pos>e}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Yt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var t;return null!==(t=this.overrideIndent)&&void 0!==t?t:Yt(this.string,null,this.tabSize)}match(t,e,i){if("string"==typeof t){let n=t=>i?t.toLowerCase():t;return n(this.string.substr(this.pos,t.length))==n(t)?(!1!==e&&(this.pos+=t.length),!0):null}{let i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function Jt(t){if("object"!=typeof t)return t;let e={};for(let i in t){let n=t[i];e[i]=n instanceof Array?n.slice():n}return e}const te=new WeakMap;class ee extends d{constructor(t){let e,i=c(t.languageData),n={name:(s=t).name||"",token:s.token,blankLine:s.blankLine||(()=>{}),startState:s.startState||(()=>!0),copyState:s.copyState||Jt,indent:s.indent||(()=>null),languageData:s.languageData||{},tokenTable:s.tokenTable||oe};var s;super(i,new class extends r.Parser{createParse(t,i,n){return new re(e,t,i,n)}},[E.of(((t,e)=>this.getIndent(t,e)))],t.name),this.topNode=function(t){let e=r.NodeType.define({id:ae.length,name:"Document",props:[h.add((()=>t))],top:!0});return ae.push(e),e}(i),e=this,this.streamParser=n,this.stateAfter=new r.NodeProp({perNode:!0}),this.tokenTable=t.tokenTable?new de(n.tokenTable):fe}static define(t){return new ee(t)}getIndent(t,e){let i,n=g(t.state),r=n.resolve(e);for(;r&&r.type!=this.topNode;)r=r.parent;if(!r)return null;let{overrideIndentation:s}=t.options;s&&(i=te.get(t.state),null!=i&&i<e-1e4&&(i=void 0));let o,a,l=ie(this,n,0,r.from,null!=i?i:e);if(l?(a=l.state,o=l.pos+1):(a=this.streamParser.startState(t.unit),o=0),e-o>1e4)return null;for(;o<e;){let i=t.state.doc.lineAt(o),n=Math.min(e,i.to);if(i.length){let e=s?s(i.from):-1,r=new Zt(i.text,t.state.tabSize,t.unit,e<0?void 0:e);for(;r.pos<n-i.from;)se(this.streamParser.token,r,a)}else this.streamParser.blankLine(a,t.unit);if(n==e)break;o=i.to+1}let h=t.lineAt(e);return s&&null==i&&te.set(t.state,h.from),this.streamParser.indent(a,/^\s*(.*)/.exec(h.text)[1],t)}get allowsNesting(){return!1}}function ie(t,e,i,n,s){let o=i>=n&&i+e.length<=s&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:i+e.length};for(let o=e.children.length-1;o>=0;o--){let a=e.children[o],l=i+e.positions[o],h=a instanceof r.Tree&&l<s&&ie(t,a,l,n,s);if(h)return h}return null}function ne(t,e,i,n,s){if(s&&i<=0&&n>=e.length)return e;s||e.type!=t.topNode||(s=!0);for(let o=e.children.length-1;o>=0;o--){let a,l=e.positions[o],h=e.children[o];if(l<n&&h instanceof r.Tree){if(!(a=ne(t,h,i-l,n-l,s)))break;return s?new r.Tree(e.type,e.children.slice(0,o).concat(a),e.positions.slice(0,o+1),l+a.length):a}}return null}class re{constructor(t,e,i,n){this.lang=t,this.input=e,this.fragments=i,this.ranges=n,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=n[n.length-1].to;let s=k.get(),o=n[0].from,{state:a,tree:l}=function(t,e,i,n){for(let n of e){let e,r=n.from+(n.openStart?25:0),s=n.to-(n.openEnd?25:0),o=r<=i&&s>i&&ie(t,n.tree,0-n.offset,i,s);if(o&&(e=ne(t,n.tree,i+n.offset,o.pos+n.offset,!1)))return{state:o.state,tree:e}}return{state:t.streamParser.startState(n?B(n):4),tree:r.Tree.empty}}(t,i,o,null==s?void 0:s.state);this.state=a,this.parsedPos=this.chunkStart=o+l.length;for(let t=0;t<l.children.length;t++)this.chunks.push(l.children[t]),this.chunkPos.push(l.positions[t]);s&&this.parsedPos<s.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(B(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let t=k.get(),e=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(e,this.chunkStart+2048);for(t&&(i=Math.min(i,t.viewport.to));this.parsedPos<i;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=e?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,e),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let e=this.input.chunk(t);if(this.input.lineChunks)"\n"==e&&(e="");else{let t=e.indexOf("\n");t>-1&&(e=e.slice(0,t))}return t+e.length<=this.to?e:e.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,e=this.lineAfter(t),i=t+e.length;for(let t=this.rangeIndex;;){let n=this.ranges[t].to;if(n>=i)break;if(e=e.slice(0,n-(i-e.length)),t++,t==this.ranges.length)break;let r=this.ranges[t].from,s=this.lineAfter(r);e+=s,i=r+s.length}return{line:e,end:i}}skipGapsTo(t,e,i){for(;;){let n=this.ranges[this.rangeIndex].to,r=t+e;if(i>0?n>r:n>=r)break;e+=this.ranges[++this.rangeIndex].from-n}return e}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,e,i,n,r){if(this.ranges.length>1){e+=r=this.skipGapsTo(e,r,1);let t=this.chunk.length;i+=r=this.skipGapsTo(i,r,-1),n+=this.chunk.length-t}return this.chunk.push(t,e,i,n),r}parseLine(t){let{line:e,end:i}=this.nextLine(),n=0,{streamParser:r}=this.lang,s=new Zt(e,t?t.state.tabSize:4,t?B(t.state):2);if(s.eol())r.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let t=se(r.token,s,this.state);if(t&&(n=this.emitToken(this.lang.tokenTable.resolve(t),this.parsedPos+s.start,this.parsedPos+s.pos,4,n)),s.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=r.Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:le,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new r.Tree(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new r.Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function se(t,e,i){e.start=e.pos;for(let n=0;n<10;n++){let n=t(e,i);if(e.pos>e.start)return n}throw new Error("Stream parser failed to advance stream.")}const oe=Object.create(null),ae=[r.NodeType.none],le=new r.NodeSet(ae),he=[],ce=Object.create(null),ue=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ue[t]=ge(oe,e);class de{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),ue)}resolve(t){return t?this.table[t]||(this.table[t]=ge(this.extra,t)):0}}const fe=new de(oe);function pe(t,e){he.indexOf(t)>-1||(he.push(t),console.warn(e))}function ge(t,e){let i=[];for(let n of e.split(" ")){let e=[];for(let i of n.split(".")){let n=t[i]||a.tags[i];n?"function"==typeof n?e.length?e=e.map(n):pe(i,`Modifier ${i} used at start of tag`):e.length?pe(i,`Tag ${i} used as modifier`):e=Array.isArray(n)?n:[n]:pe(i,`Unknown highlighting tag ${i}`)}for(let t of e)i.push(t)}if(!i.length)return 0;let n=e.replace(/ /g,"_"),s=n+" "+i.map((t=>t.id)),o=ce[s];if(o)return o.id;let l=ce[s]=r.NodeType.define({id:ae.length,name:n,props:[(0,a.styleTags)({[n]:i})]});return ae.push(l),l.id}function me(t){return t.length<=4096&&/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/.test(t)}function ve(t){for(let e=t.iter();!e.next().done;)if(me(e.value))return!0;return!1}const be=s.Facet.define({combine:t=>t.some((t=>t))});function we(t={}){let e=[ye];return t.alwaysIsolate&&e.push(be.of(!0)),e}const ye=o.ViewPlugin.fromClass(class{constructor(t){this.always=t.state.facet(be)||t.textDirection!=o.Direction.LTR||t.state.facet(o.EditorView.perLineTextDirection),this.hasRTL=!this.always&&ve(t.state.doc),this.tree=g(t.state),this.decorations=this.always||this.hasRTL?xe(t,this.tree,this.always):o.Decoration.none}update(t){let e=t.state.facet(be)||t.view.textDirection!=o.Direction.LTR||t.state.facet(o.EditorView.perLineTextDirection);if(e||this.hasRTL||!function(t){let e=!1;return t.iterChanges(((t,i,n,r,s)=>{!e&&ve(s)&&(e=!0)})),e}(t.changes)||(this.hasRTL=!0),!e&&!this.hasRTL)return;let i=g(t.state);(e!=this.always||i!=this.tree||t.docChanged||t.viewportChanged)&&(this.tree=i,this.always=e,this.decorations=xe(t.view,i,e))}},{provide:t=>{function e(e){var i,n;return null!==(n=null===(i=e.plugin(t))||void 0===i?void 0:i.decorations)&&void 0!==n?n:o.Decoration.none}return[o.EditorView.outerDecorations.of(e),s.Prec.lowest(o.EditorView.bidiIsolatedRanges.of(e))]}});function xe(t,e,i){let n=new s.RangeSetBuilder,o=t.visibleRanges;i||(o=function(t,e){let i=e.iter(),n=0,r=[],s=null;for(let{from:e,to:o}of t)if(!(s&&s.to>e&&(e=s.to,e>=o)))for(n+i.value.length<e&&(i.next(e-(n+i.value.length)),n=e);;){let t=n,e=n+i.value.length;if(!i.lineBreak&&me(i.value)&&(s&&s.to>t-10?s.to=Math.min(o,e):r.push(s={from:t,to:Math.min(o,e)})),e>=o)break;n=e,i.next()}return r}(o,t.state.doc));for(let{from:t,to:i}of o)e.iterate({enter:t=>{let e=t.type.prop(r.NodeProp.isolate);e&&n.add(t.from,t.to,ke[e])},from:t,to:i});return n.finish()}const ke={rtl:o.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:o.Direction.RTL}),ltr:o.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:o.Direction.LTR}),auto:o.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})}},38717:function(t,e,i){i.r(e),i.d(e,{Annotation:function(){return dt},AnnotationType:function(){return ft},ChangeDesc:function(){return M},ChangeSet:function(){return T},CharCategory:function(){return St},Compartment:function(){return tt},EditorSelection:function(){return I},EditorState:function(){return Mt},Facet:function(){return z},Line:function(){return u},MapMode:function(){return A},Prec:function(){return Z},Range:function(){return Dt},RangeSet:function(){return Bt},RangeSetBuilder:function(){return Nt},RangeValue:function(){return Pt},SelectionRange:function(){return L},StateEffect:function(){return gt},StateEffectType:function(){return pt},StateField:function(){return X},Text:function(){return n},Transaction:function(){return mt},codePointAt:function(){return k},codePointSize:function(){return O},combineConfig:function(){return Tt},countColumn:function(){return Ht},findClusterBreak:function(){return v},findColumn:function(){return Xt},fromCodePoint:function(){return S}});class n{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){[t,e]=d(this,t,e);let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),s.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=d(this,t,e);let i=[];return this.decompose(t,e,i,0),s.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new l(this),r=new l(t);for(let t=e,s=e;;){if(n.next(t),r.next(t),t=0,n.lineBreak!=r.lineBreak||n.done!=r.done||n.value!=r.value)return!1;if(s+=n.value.length,n.done||s>=i)return!0}}iter(t=1){return new l(this,t)}iterRange(t,e=this.length){return new h(this,t,e)}iterLines(t,e){let i;if(null==t)i=this.iter();else{null==e&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new c(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):s.from(r.split(t,[])):n.empty}}class r extends n{constructor(t,e=function(t){let e=-1;for(let i of t)e+=i.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let r=0;;r++){let s=this.text[r],o=n+s.length;if((e?i:o)>=t)return new u(n,o,i,s);n=o+1,i++}}decompose(t,e,i,n){let s=t<=0&&e>=this.length?this:new r(a(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&n){let t=i.pop(),e=o(s.text,t.text.slice(),0,s.length);if(e.length<=32)i.push(new r(e,t.length+s.length));else{let t=e.length>>1;i.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else i.push(s)}replace(t,e,i){if(!(i instanceof r))return super.replace(t,e,i);[t,e]=d(this,t,e);let n=o(this.text,o(i.text,a(this.text,0,t)),e),l=this.length+i.length-(e-t);return n.length<=32?new r(n,l):s.from(r.split(n,[]),l)}sliceString(t,e=this.length,i="\n"){[t,e]=d(this,t,e);let n="";for(let r=0,s=0;r<=e&&s<this.text.length;s++){let o=this.text[s],a=r+o.length;r>t&&s&&(n+=i),t<a&&e>r&&(n+=o.slice(Math.max(0,t-r),e-r)),r=a+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let s of t)i.push(s),n+=s.length+1,32==i.length&&(e.push(new r(i,n)),i=[],n=-1);return n>-1&&e.push(new r(i,n)),e}}class s extends n{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,i,n){for(let r=0;;r++){let s=this.children[r],o=n+s.length,a=i+s.lines-1;if((e?a:o)>=t)return s.lineInner(t,e,i,n);n=o+1,i=a+1}}decompose(t,e,i,n){for(let r=0,s=0;s<=e&&r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(t<=a&&e>=s){let r=n&((s<=t?1:0)|(a>=e?2:0));s>=t&&a<=e&&!r?i.push(o):o.decompose(t-s,e-s,i,r)}s=a+1}}replace(t,e,i){if([t,e]=d(this,t,e),i.lines<this.lines)for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],a=r+o.length;if(t>=r&&e<=a){let l=o.replace(t-r,e-r,i),h=this.lines-o.lines+l.lines;if(l.lines<h>>4&&l.lines>h>>6){let r=this.children.slice();return r[n]=l,new s(r,this.length-(e-t)+i.length)}return super.replace(r,a,l)}r=a+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i="\n"){[t,e]=d(this,t,e);let n="";for(let r=0,s=0;r<this.children.length&&s<=e;r++){let o=this.children[r],a=s+o.length;s>t&&r&&(n+=i),t<a&&e>s&&(n+=o.sliceString(t-s,e-s,i)),s=a+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof s))return 0;let i=0,[n,r,o,a]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,r+=e){if(n==o||r==a)return i;let s=this.children[n],l=t.children[r];if(s!=l)return i+s.scanIdentical(l,e);i+=s.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let i=0;for(let e of t)i+=e.lines;if(i<32){let i=[];for(let e of t)e.flatten(i);return new r(i,e)}let n=Math.max(32,i>>5),o=n<<1,a=n>>1,l=[],h=0,c=-1,u=[];function d(t){let e;if(t.lines>o&&t instanceof s)for(let e of t.children)d(e);else t.lines>a&&(h>a||!h)?(f(),l.push(t)):t instanceof r&&h&&(e=u[u.length-1])instanceof r&&t.lines+e.lines<=32?(h+=t.lines,c+=t.length+1,u[u.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(h+t.lines>n&&f(),h+=t.lines,c+=t.length+1,u.push(t))}function f(){0!=h&&(l.push(1==u.length?u[0]:s.from(u,c)),c=-1,h=u.length=0)}for(let e of t)d(e);return f(),1==l.length?l[0]:new s(l,e)}}function o(t,e,i=0,n=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=n;s++){let a=t[s],l=r+a.length;l>=i&&(l>n&&(a=a.slice(0,n-r)),r<i&&(a=a.slice(i-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function a(t,e,i){return o(t,[""],e,i)}n.empty=new r([""],0);class l{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],o=s>>1,a=n instanceof r?n.text.length:n.children.length;if(o==(e>0?a:0)){if(0==i)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[i]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(n instanceof r){let r=n.text[o+(e<0?-1:0)];if(this.offsets[i]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let s=n.children[o+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof r?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class h{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new l(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class c{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=h.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=function(){return this});class u{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}}function d(t,e,i){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,i))]}let f="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<f.length;t++)f[t]+=f[t-1];function p(t){for(let e=1;e<f.length;e+=2)if(f[e]>t)return f[e-1]<=t;return!1}function g(t){return t>=127462&&t<=127487}const m=8205;function v(t,e,i=!0,n=!0){return(i?b:w)(t,e,n)}function b(t,e,i){if(e==t.length)return e;e&&y(t.charCodeAt(e))&&x(t.charCodeAt(e-1))&&e--;let n=k(t,e);for(e+=O(n);e<t.length;){let r=k(t,e);if(n==m||r==m||i&&p(r))e+=O(r),n=r;else{if(!g(r))break;{let i=0,n=e-2;for(;n>=0&&g(k(t,n));)i++,n-=2;if(i%2==0)break;e+=2}}}return e}function w(t,e,i){for(;e>0;){let n=b(t,e-2,i);if(n<e)return n;e--}return 0}function y(t){return t>=56320&&t<57344}function x(t){return t>=55296&&t<56320}function k(t,e){let i=t.charCodeAt(e);if(!x(i)||e+1==t.length)return i;let n=t.charCodeAt(e+1);return y(n)?n-56320+(i-55296<<10)+65536:i}function S(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function O(t){return t<65536?1:2}const C=/\r\n?|\n/;var A=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(A||(A={}));class M{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let r=this.sections[e++],s=this.sections[e++];s<0?(t(i,n,r),n+=r):n+=s,i+=r}}iterChangedRanges(t,e=!1){E(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new M(t)}composeDesc(t){return this.empty?t:t.empty?this:B(this,t)}mapDesc(t,e=!1){return t.empty?this:R(this,t,e)}mapPos(t,e=-1,i=A.Simple){let n=0,r=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=n+o;if(a<0){if(l>t)return r+(t-n);r+=o}else{if(i!=A.Simple&&l>=t&&(i==A.TrackDel&&n<t&&l>t||i==A.TrackBefore&&n<t||i==A.TrackAfter&&l>t))return null;if(l>t||l==t&&e<0&&!o)return t==n||e<0?r:r+a;r+=a}n=l}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return r}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let r=n+this.sections[i++];if(this.sections[i++]>=0&&n<=e&&r>=t)return!(n<t&&r>e)||"cover";n=r}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new M(t)}static create(t){return new M(t)}}class T extends M{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return E(this,((e,i,n,r,s)=>t=t.replace(n,n+(i-e),s)),!1),t}mapDesc(t,e=!1){return R(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let r=0,s=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a>=0){e[r]=a,e[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(n.empty);i.push(o?t.slice(s,s+o):n.empty)}s+=o}return new T(e,i)}compose(t){return this.empty?t:t.empty?this:B(this,t,!0)}map(t,e=!1){return t.empty?this:R(this,t,e,!0)}iterChanges(t,e=!1){E(this,t,e)}get desc(){return M.create(this.sections)}filter(t){let e=[],i=[],n=[],r=new N(this);t:for(let s=0,o=0;;){let a=s==t.length?1e9:t[s++];for(;o<a||o==a&&0==r.len;){if(r.done)break t;let t=Math.min(r.len,a-o);P(n,t,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;P(e,t,s),s>0&&D(i,e,r.text),r.forward(t),o+=t}let l=t[s++];for(;o<l;){if(r.done)break t;let t=Math.min(r.len,l-o);P(e,t,-1),P(n,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),o+=t}}return{changes:new T(e,i),filtered:M.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):0==n?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let r=[],s=[],o=0,a=null;function l(t=!1){if(!t&&!r.length)return;o<e&&P(r,e-o,-1);let i=new T(r,s);a=a?a.compose(i.map(a)):i,r=[],s=[],o=0}return function t(h){if(Array.isArray(h))for(let e of h)t(e);else if(h instanceof T){if(h.length!=e)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${e})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:t,to:a=t,insert:c}=h;if(t>a||t<0||a>e)throw new RangeError(`Invalid change range ${t} to ${a} (in doc of length ${e})`);let u=c?"string"==typeof c?n.of(c.split(i||C)):c:n.empty,d=u.length;if(t==a&&0==d)return;t<o&&l(),t>o&&P(r,t-o,-1),P(r,a-t,d),D(s,r,u),o=a}}(t),l(!a),a}static empty(t){return new T(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let r=0;r<t.length;r++){let s=t[r];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{for(;i.length<r;)i.push(n.empty);i[r]=n.of(s.slice(1)),e.push(s[0],i[r].length)}}}return new T(e,i)}static createSet(t,e){return new T(t,e)}}function P(t,e,i,n=!1){if(0==e&&i<=0)return;let r=t.length-2;r>=0&&i<=0&&i==t[r+1]?t[r]+=e:0==e&&0==t[r]?t[r+1]+=i:n?(t[r]+=e,t[r+1]+=i):t.push(e,i)}function D(t,e,i){if(0==i.length)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<r;)t.push(n.empty);t.push(i)}}function E(t,e,i){let r=t.inserted;for(let s=0,o=0,a=0;a<t.sections.length;){let l=t.sections[a++],h=t.sections[a++];if(h<0)s+=l,o+=l;else{let c=s,u=o,d=n.empty;for(;c+=l,u+=h,h&&r&&(d=d.append(r[a-2>>1])),!(i||a==t.sections.length||t.sections[a+1]<0);)l=t.sections[a++],h=t.sections[a++];e(s,c,o,u,d),s=c,o=u}}}function R(t,e,i,n=!1){let r=[],s=n?[]:null,o=new N(t),a=new N(e);for(let t=-1;;)if(-1==o.ins&&-1==a.ins){let t=Math.min(o.len,a.len);P(r,t,-1),o.forward(t),a.forward(t)}else if(a.ins>=0&&(o.ins<0||t==o.i||0==o.off&&(a.len<o.len||a.len==o.len&&!i))){let e=a.len;for(P(r,a.ins,-1);e;){let i=Math.min(o.len,e);o.ins>=0&&t<o.i&&o.len<=i&&(P(r,0,o.ins),s&&D(s,r,o.text),t=o.i),o.forward(i),e-=i}a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return s?T.createSet(r,s):M.create(r);throw new Error("Mismatched change set lengths")}{let e=0,i=o.len;for(;i;)if(-1==a.ins){let t=Math.min(i,a.len);e+=t,i-=t,a.forward(t)}else{if(!(0==a.ins&&a.len<i))break;i-=a.len,a.next()}P(r,e,t<o.i?o.ins:0),s&&t<o.i&&D(s,r,o.text),t=o.i,o.forward(o.len-i)}}}function B(t,e,i=!1){let n=[],r=i?[]:null,s=new N(t),o=new N(e);for(let t=!1;;){if(s.done&&o.done)return r?T.createSet(n,r):M.create(n);if(0==s.ins)P(n,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),i=n.length;if(-1==s.ins){let i=-1==o.ins?-1:o.off?0:o.ins;P(n,e,i,t),r&&i&&D(r,n,o.text)}else-1==o.ins?(P(n,s.off?0:s.len,e,t),r&&D(r,n,s.textBit(e))):(P(n,s.off?0:s.len,o.off?0:o.ins,t),r&&!o.off&&D(r,n,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||n.length>i),s.forward2(e),o.forward(e)}}else P(n,0,o.ins,t),r&&D(r,n,o.text),o.next()}}class N{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?n.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?n.empty:e[i].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class L{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new L(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return I.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return I.range(this.anchor,i)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return I.range(t.anchor,t.head)}static create(t,e,i){return new L(t,e,i)}}class I{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:I.create(this.ranges.map((i=>i.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new I([this.main],0)}addRange(t,e=!0){return I.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,I.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new I(t.ranges.map((t=>L.fromJSON(t))),t.main)}static single(t,e=t){return new I([I.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let r=t[n];if(r.empty?r.from<=i:r.from<i)return I.normalized(t.slice(),e);i=r.to}return new I(t,e)}static cursor(t,e=0,i,n){return L.create(t,t,(0==e?0:e<0?8:16)|(null==i?7:Math.min(6,i))|(null!=n?n:16777215)<<6)}static range(t,e,i,n){let r=(null!=i?i:16777215)<<6|(null==n?7:Math.min(6,n));return e<t?L.create(e,t,48|r):L.create(t,e,(e>t?8:0)|r)}static normalized(t,e=0){let i=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(i);for(let i=1;i<t.length;i++){let n=t[i],r=t[i-1];if(n.empty?n.from<=r.to:n.from<r.to){let s=r.from,o=Math.max(n.to,r.to);i<=e&&e--,t.splice(--i,2,n.anchor>n.head?I.range(o,s):I.range(s,o))}}return new I(t,e)}}function Q(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}let _=0;class z{constructor(t,e,i,n,r){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.id=_++,this.default=t([]),this.extensions="function"==typeof r?r(this):r}get reader(){return this}static define(t={}){return new z(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:V),!!t.static,t.enables)}of(t){return new F([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new F(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new F(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(i=>e(i.field(t))))}}function V(t,e){return t==e||t.length==e.length&&t.every(((t,i)=>t===e[i]))}class F{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=_++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,r=this.id,s=t[r]>>1,o=2==this.type,a=!1,l=!1,h=[];for(let i of this.dependencies)"doc"==i?a=!0:"selection"==i?l=!0:1&(null!==(e=t[i.id])&&void 0!==e?e:1)||h.push(t[i.id]);return{create(t){return t.values[s]=i(t),1},update(t,e){if(a&&e.docChanged||l&&(e.docChanged||e.selection)||W(t,h)){let e=i(t);if(o?!$(e,t.values[s],n):!n(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let a,l=e.config.address[r];if(null!=l){let r=rt(e,l);if(this.dependencies.every((i=>i instanceof z?e.facet(i)===t.facet(i):!(i instanceof X)||e.field(i,!1)==t.field(i,!1)))||(o?$(a=i(t),r,n):n(a=i(t),r)))return t.values[s]=r,0}else a=i(t);return t.values[s]=a,1}}}}function $(t,e,i){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}function W(t,e){let i=!1;for(let n of e)1&nt(t,n)&&(i=!0);return i}function q(t,e,i){let n=i.map((e=>t[e.id])),r=i.map((t=>t.type)),s=n.filter((t=>!(1&t))),o=t[e.id]>>1;function a(t){let i=[];for(let e=0;e<n.length;e++){let s=rt(t,n[e]);if(2==r[e])for(let t of s)i.push(t);else i.push(s)}return e.combine(i)}return{create(t){for(let e of n)nt(t,e);return t.values[o]=a(t),1},update(t,i){if(!W(t,s))return 0;let n=a(t);return e.compare(n,t.values[o])?0:(t.values[o]=n,1)},reconfigure(t,r){let s=W(t,n),l=r.config.facets[e.id],h=r.facet(e);if(l&&!s&&V(i,l))return t.values[o]=h,0;let c=a(t);return e.compare(c,h)?(t.values[o]=h,0):(t.values[o]=c,1)}}}const H=z.define({static:!0});class X{constructor(t,e,i,n,r){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=r,this.provides=void 0}static define(t){let e=new X(_++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(H).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,i)=>{let n=t.values[e],r=this.updateF(n,i);return this.compareF(n,r)?0:(t.values[e]=r,1)},reconfigure:(t,i)=>null!=i.config.address[this.id]?(t.values[e]=i.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,H.of({field:this,create:t})]}get extension(){return this}}const U=4,j=3,G=2,K=1;function Y(t){return e=>new J(e,t)}const Z={highest:Y(0),high:Y(K),default:Y(G),low:Y(j),lowest:Y(U)};class J{constructor(t,e){this.inner=t,this.prec=e}}class tt{of(t){return new et(this,t)}reconfigure(t){return tt.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class et{constructor(t,e){this.compartment=t,this.inner=e}}class it{constructor(t,e,i,n,r,s){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=r,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],r=Object.create(null),s=new Map;for(let i of function(t,e,i){let n=[[],[],[],[],[]],r=new Map;function s(t,o){let a=r.get(t);if(null!=a){if(a<=o)return;let e=n[a].indexOf(t);e>-1&&n[a].splice(e,1),t instanceof et&&i.delete(t.compartment)}if(r.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof et){if(i.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let n=e.get(t.compartment)||t.inner;i.set(t.compartment,n),s(n,o)}else if(t instanceof J)s(t.inner,t.prec);else if(t instanceof X)n[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof F)n[o].push(t),t.facet.extensions&&s(t.facet.extensions,G);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,G),n.reduce(((t,e)=>t.concat(e)))}(t,e,s))i instanceof X?n.push(i):(r[i.facet.id]||(r[i.facet.id]=[])).push(i);let o=Object.create(null),a=[],l=[];for(let t of n)o[t.id]=l.length<<1,l.push((e=>t.slot(e)));let h=null==i?void 0:i.config.facets;for(let t in r){let e=r[t],n=e[0].facet,s=h&&h[t]||[];if(e.every((t=>0==t.type)))if(o[n.id]=a.length<<1|1,V(s,e))a.push(i.facet(n));else{let t=n.combine(e.map((t=>t.value)));a.push(i&&n.compare(t,i.facet(n))?i.facet(n):t)}else{for(let t of e)0==t.type?(o[t.id]=a.length<<1|1,a.push(t.value)):(o[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))));o[n.id]=l.length<<1,l.push((t=>q(t,n,e)))}}let c=l.map((t=>t(o)));return new it(t,s,c,o,a,r)}}function nt(t,e){if(1&e)return 2;let i=e>>1,n=t.status[i];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;t.status[i]=4;let r=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|r}function rt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const st=z.define(),ot=z.define({combine:t=>t.some((t=>t)),static:!0}),at=z.define({combine:t=>t.length?t[0]:void 0,static:!0}),lt=z.define(),ht=z.define(),ct=z.define(),ut=z.define({combine:t=>!!t.length&&t[0]});class dt{constructor(t,e){this.type=t,this.value=e}static define(){return new ft}}class ft{of(t){return new dt(this,t)}}class pt{constructor(t){this.map=t}of(t){return new gt(this,t)}}class gt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new gt(this.type,e)}is(t){return this.type==t}static define(t={}){return new pt(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let t=n.map(e);t&&i.push(t)}return i}}gt.reconfigure=gt.define(),gt.appendConfig=gt.define();class mt{constructor(t,e,i,n,r,s){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=r,this.scrollIntoView=s,this._doc=null,this._state=null,i&&Q(i,e.newLength),r.some((t=>t.type==mt.time))||(this.annotations=r.concat(mt.time.of(Date.now())))}static create(t,e,i,n,r,s){return new mt(t,e,i,n,r,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(mt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function vt(t,e){let i=[];for(let n=0,r=0;;){let s,o;if(n<t.length&&(r==e.length||e[r]>=t[n]))s=t[n++],o=t[n++];else{if(!(r<e.length))return i;s=e[r++],o=e[r++]}!i.length||i[i.length-1]<s?i.push(s,o):i[i.length-1]<o&&(i[i.length-1]=o)}}function bt(t,e,i){var n;let r,s,o;return i?(r=e.changes,s=T.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(n=t.selection)||void 0===n?void 0:n.map(r),effects:gt.mapEffects(t.effects,r).concat(gt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function wt(t,e,i){let n=e.selection,r=kt(e.annotations);return e.userEvent&&(r=r.concat(mt.userEvent.of(e.userEvent))),{changes:e.changes instanceof T?e.changes:T.of(e.changes||[],i,t.facet(at)),selection:n&&(n instanceof I?n:I.single(n.anchor,n.head)),effects:kt(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function yt(t,e,i){let n=wt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(i=!1);for(let r=1;r<e.length;r++){!1===e[r].filter&&(i=!1);let s=!!e[r].sequential;n=bt(n,wt(t,e[r],s?n.changes.newLength:t.doc.length),s)}let r=mt.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return function(t){let e=t.startState,i=e.facet(ct),n=t;for(let r=i.length-1;r>=0;r--){let s=i[r](t);s&&Object.keys(s).length&&(n=bt(n,wt(e,s,t.changes.newLength),!0))}return n==t?t:mt.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}(i?function(t){let e=t.startState,i=!0;for(let n of e.facet(lt)){let e=n(t);if(!1===e){i=!1;break}Array.isArray(e)&&(i=!0===i?e:vt(i,e))}if(!0!==i){let n,r;if(!1===i)r=t.changes.invertedDesc,n=T.empty(e.doc.length);else{let e=t.changes.filter(i);n=e.changes,r=e.filtered.mapDesc(e.changes).invertedDesc}t=mt.create(e,n,t.selection&&t.selection.map(r),gt.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let n=e.facet(ht);for(let i=n.length-1;i>=0;i--){let r=n[i](t);t=r instanceof mt?r:Array.isArray(r)&&1==r.length&&r[0]instanceof mt?r[0]:yt(e,kt(r),!1)}return t}(r):r)}mt.time=dt.define(),mt.userEvent=dt.define(),mt.addToHistory=dt.define(),mt.remote=dt.define();const xt=[];function kt(t){return null==t?xt:Array.isArray(t)?t:[t]}var St=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(St||(St={}));const Ot=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ct;try{Ct=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}function At(t){return e=>{if(!/\S/.test(e))return St.Space;if(function(t){if(Ct)return Ct.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||Ot.test(i)))return!0}return!1}(e))return St.Word;for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return St.Word;return St.Other}}class Mt{constructor(t,e,i,n,r,s){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=r,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)nt(this,t<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(null!=i)return nt(this,i),rt(this,i);if(e)throw new RangeError("Field is not present in this state")}update(...t){return yt(this,t,!0)}applyTransaction(t){let e,i=this.config,{base:n,compartments:r}=i;for(let e of t.effects)e.is(tt.reconfigure)?(i&&(r=new Map,i.compartments.forEach(((t,e)=>r.set(e,t))),i=null),r.set(e.value.compartment,e.value.extension)):e.is(gt.reconfigure)?(i=null,n=e.value):e.is(gt.appendConfig)&&(i=null,n=kt(n).concat(e.value));if(i)e=t.startState.values.slice();else{i=it.resolve(n,r,this),e=new Mt(i,this.doc,this.selection,i.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values}let s=t.startState.facet(ot)?t.newSelection:t.newSelection.asSingle();new Mt(i,t.newDoc,s,e,((e,i)=>i.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:I.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),r=[i.range],s=kt(i.effects);for(let i=1;i<e.ranges.length;i++){let o=t(e.ranges[i]),a=this.changes(o.changes),l=a.map(n);for(let t=0;t<i;t++)r[t]=r[t].map(l);let h=n.mapDesc(a,!0);r.push(o.range.map(h)),n=n.compose(l),s=gt.mapEffects(s,l).concat(gt.mapEffects(kt(o.effects),h))}return{changes:n,selection:I.create(r,e.mainIndex),effects:s}}changes(t=[]){return t instanceof T?t:T.of(t,this.doc.length,this.facet(Mt.lineSeparator))}toText(t){return n.of(t.split(this.facet(Mt.lineSeparator)||C))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(nt(this,e),rt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof X&&null!=this.config.address[n.id]&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i)for(let e in i)if(Object.prototype.hasOwnProperty.call(t,e)){let r=i[e],s=t[e];n.push(r.init((t=>r.spec.fromJSON(s,t))))}return Mt.create({doc:t.doc,selection:I.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=it.resolve(t.extensions||[],new Map),i=t.doc instanceof n?t.doc:n.of((t.doc||"").split(e.staticFacet(Mt.lineSeparator)||C)),r=t.selection?t.selection instanceof I?t.selection:I.single(t.selection.anchor,t.selection.head):I.single(0);return Q(r,i.length),e.staticFacet(ot)||(r=r.asSingle()),new Mt(e,i,r,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Mt.tabSize)}get lineBreak(){return this.facet(Mt.lineSeparator)||"\n"}get readOnly(){return this.facet(ut)}phrase(t,...e){for(let e of this.facet(Mt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,i)=>{if("$"==i)return"$";let n=+(i||1);return!n||n>e.length?t:e[n-1]}))),t}languageDataAt(t,e,i=-1){let n=[];for(let r of this.facet(st))for(let s of r(this,e,i))Object.prototype.hasOwnProperty.call(s,t)&&n.push(s[t]);return n}charCategorizer(t){return At(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:n}=this.doc.lineAt(t),r=this.charCategorizer(t),s=t-i,o=t-i;for(;s>0;){let t=v(e,s,!1);if(r(e.slice(t,s))!=St.Word)break;s=t}for(;o<n;){let t=v(e,o);if(r(e.slice(o,t))!=St.Word)break;o=t}return s==o?null:I.range(s+i,o+i)}}function Tt(t,e,i={}){let n={};for(let e of t)for(let t of Object.keys(e)){let r=e[t],s=n[t];if(void 0===s)n[t]=r;else if(s===r||void 0===r);else{if(!Object.hasOwnProperty.call(i,t))throw new Error("Config merge conflict for field "+t);n[t]=i[t](s,r)}}for(let t in e)void 0===n[t]&&(n[t]=e[t]);return n}Mt.allowMultipleSelections=ot,Mt.tabSize=z.define({combine:t=>t.length?t[0]:4}),Mt.lineSeparator=at,Mt.readOnly=ut,Mt.phrases=z.define({compare(t,e){let i=Object.keys(t),n=Object.keys(e);return i.length==n.length&&i.every((i=>t[i]==e[i]))}}),Mt.languageData=st,Mt.changeFilter=lt,Mt.transactionFilter=ht,Mt.transactionExtender=ct,tt.reconfigure=gt.define();class Pt{eq(t){return this==t}range(t,e=t){return Dt.create(t,e,this)}}Pt.prototype.startSide=Pt.prototype.endSide=0,Pt.prototype.point=!1,Pt.prototype.mapMode=A.TrackDel;class Dt{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new Dt(t,e,i)}}function Et(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Rt{constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let r=i?this.to:this.from;for(let s=n,o=r.length;;){if(s==o)return s;let n=s+o>>1,a=r[n]-t||(i?this.value[n].endSide:this.value[n].startSide)-e;if(n==s)return a>=0?s:o;a>=0?o=n:s=n+1}}between(t,e,i,n){for(let r=this.findIndex(e,-1e9,!0),s=this.findIndex(i,1e9,!1,r);r<s;r++)if(!1===n(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let i=[],n=[],r=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,h,c=this.value[a],u=this.from[a]+t,d=this.to[a]+t;if(u==d){let t=e.mapPos(u,c.startSide,c.mapMode);if(null==t)continue;if(l=h=t,c.startSide!=c.endSide&&(h=e.mapPos(u,c.endSide),h<l))continue}else if(l=e.mapPos(u,c.startSide),h=e.mapPos(d,c.endSide),l>h||l==h&&c.startSide>0&&c.endSide<=0)continue;(h-l||c.endSide-c.startSide)<0||(s<0&&(s=l),c.point&&(o=Math.max(o,h-l)),i.push(c),n.push(l-s),r.push(h-s))}return{mapped:i.length?new Rt(n,r,i,o):null,pos:s}}}class Bt{constructor(t,e,i,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}static create(t,e,i,n){return new Bt(t,e,i,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:r=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(i&&(e=e.slice().sort(Et)),this.isEmpty)return e.length?Bt.of(e):this;let o=new It(this,null,-1).goto(0),a=0,l=[],h=new Nt;for(;o.value||a<e.length;)if(a<e.length&&(o.from-e[a].from||o.startSide-e[a].value.startSide)>=0){let t=e[a++];h.addInner(t.from,t.to,t.value)||l.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(o.chunkIndex)<e[a].from)&&(!s||n>this.chunkEnd(o.chunkIndex)||r<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||n>o.to||r<o.from||s(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||l.push(Dt.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!l.length?Bt.empty:this.nextLayer.update({add:l,filter:s,filterFrom:n,filterTo:r}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r],a=t.touchesRange(s,s+o.length);if(!1===a)n=Math.max(n,o.maxPoint),e.push(o),i.push(t.mapPos(s));else if(!0===a){let{mapped:r,pos:a}=o.map(s,t);r&&(n=Math.max(n,r.maxPoint),e.push(r),i.push(a))}}let r=this.nextLayer.map(t);return 0==e.length?r:new Bt(i,e,r||Bt.empty,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let r=this.chunkPos[n],s=this.chunk[n];if(e>=r&&t<=r+s.length&&!1===s.between(r,t-r,e-r,i))return}this.nextLayer.between(t,e,i)}}iter(t=0){return Qt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Qt.from(t).goto(e)}static compare(t,e,i,n,r=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),a=Lt(s,o,i),l=new zt(s,a,r),h=new zt(o,a,r);i.iterGaps(((t,e,i)=>Vt(l,t,h,e,i,n))),i.empty&&0==i.length&&Vt(l,0,h,0,0,n)}static eq(t,e,i=0,n){null==n&&(n=999999999);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=s.length)return!1;if(!r.length)return!0;let o=Lt(r,s),a=new zt(r,o,0).goto(i),l=new zt(s,o,0).goto(i);for(;;){if(a.to!=l.to||!Ft(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>n)return!0;a.next(),l.next()}}static spans(t,e,i,n,r=-1){let s=new zt(t,null,r).goto(e),o=e,a=s.openStart;for(;;){let t=Math.min(s.to,i);if(s.point){let i=s.activeForPoint(s.to),r=s.pointFrom<e?i.length+1:s.point.startSide<0?i.length:Math.min(i.length,a);n.point(o,t,s.point,i,r,s.pointRank),a=Math.min(s.openEnd(t),i.length)}else t>o&&(n.span(o,t,s.active,a),a=s.openEnd(t));if(s.to>i)return a+(s.point&&s.to>i?1:0);o=s.to,s.next()}}static of(t,e=!1){let i=new Nt;for(let n of t instanceof Dt?[t]:e?function(t){if(t.length>1)for(let e=t[0],i=1;i<t.length;i++){let n=t[i];if(Et(e,n)>0)return t.slice().sort(Et);e=n}return t}(t):t)i.add(n.from,n.to,n.value);return i.finish()}static join(t){if(!t.length)return Bt.empty;let e=t[t.length-1];for(let i=t.length-2;i>=0;i--)for(let n=t[i];n!=Bt.empty;n=n.nextLayer)e=new Bt(n.chunkPos,n.chunk,e,Math.max(n.maxPoint,e.maxPoint));return e}}Bt.empty=new Bt([],[],null,-1),Bt.empty.nextLayer=Bt.empty;class Nt{finishChunk(t){this.chunks.push(new Rt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new Nt)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(n<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(Bt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Bt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Lt(t,e,i){let n=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&n.set(e.chunk[t],e.chunkPos[t]);let r=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=n.get(t.chunk[e]);null==s||(i?i.mapPos(s):s)!=t.chunkPos[e]||(null==i?void 0:i.touchesRange(s,s+t.chunk[e].length))||r.add(t.chunk[e])}return r}class It{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Qt{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let r=0;r<t.length;r++)for(let s=t[r];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&n.push(new It(s,e,i,r));return 1==n.length?n[0]:new Qt(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)_t(this.heap,t);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)_t(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),_t(this.heap,0)}}}function _t(t,e){for(let i=t[e];;){let n=1+(e<<1);if(n>=t.length)break;let r=t[n];if(n+1<t.length&&r.compare(t[n+1])>=0&&(r=t[n+1],n++),i.compare(r)<0)break;t[n]=i,t[e]=r,e=n}}class zt{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Qt.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){$t(this.active,t),$t(this.activeTo,t),$t(this.activeRank,t),this.minActive=qt(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:r}=this.cursor;for(;e<this.activeRank.length&&(r-this.activeRank[e]||n-this.activeTo[e])>0;)e++;Wt(this.active,e,i),Wt(this.activeTo,e,n),Wt(this.activeRank,e,r),t&&Wt(t,e,this.cursor.from),this.minActive=qt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>t){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&$t(i,n)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(i),this.cursor.next()}}}if(i){this.openStart=0;for(let e=i.length-1;e>=0&&i[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function Vt(t,e,i,n,r,s){t.goto(e),i.goto(n);let o=n+r,a=n,l=n-e;for(;;){let e=t.to+l-i.to||t.endSide-i.endSide,n=e<0?t.to+l:i.to,r=Math.min(n,o);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&Ft(t.activeForPoint(t.to),i.activeForPoint(i.to))||s.comparePoint(a,r,t.point,i.point):r>a&&!Ft(t.active,i.active)&&s.compareRange(a,r,t.active,i.active),n>o)break;a=n,e<=0&&t.next(),e>=0&&i.next()}}function Ft(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i]&&!t[i].eq(e[i]))return!1;return!0}function $t(t,e){for(let i=e,n=t.length-1;i<n;i++)t[i]=t[i+1];t.pop()}function Wt(t,e,i){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=i}function qt(t,e){let i=-1,n=1e9;for(let r=0;r<e.length;r++)(e[r]-n||t[r].endSide-t[i].endSide)<0&&(i=r,n=e[r]);return i}function Ht(t,e,i=t.length){let n=0;for(let r=0;r<i;)9==t.charCodeAt(r)?(n+=e-n%e,r++):(n++,r=v(t,r));return n}function Xt(t,e,i,n){for(let n=0,r=0;;){if(r>=e)return n;if(n==t.length)break;r+=9==t.charCodeAt(n)?i-r%i:1,n=v(t,n)}return!0===n?-1:t.length}},52441:function(t,e,i){i.r(e),i.d(e,{color:function(){return k},oneDark:function(){return C},oneDarkHighlightStyle:function(){return O},oneDarkTheme:function(){return S}});var n=i(52726),r=i(35510),s=i(9020);const o="#e5c07b",a="#e06c75",l="#56b6c2",h="#ffffff",c="#abb2bf",u="#7d8799",d="#61afef",f="#98c379",p="#d19a66",g="#c678dd",m="#21252b",v="#2c313a",b="#282c34",w="#353a42",y="#3E4451",x="#528bff",k={chalky:o,coral:a,cyan:l,invalid:h,ivory:c,stone:u,malibu:d,sage:f,whiskey:p,violet:g,darkBackground:m,highlightBackground:v,background:b,tooltipBackground:w,selection:y,cursor:x},S=n.EditorView.theme({"&":{color:c,backgroundColor:b},".cm-content":{caretColor:x},".cm-cursor, .cm-dropCursor":{borderLeftColor:x},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:y},".cm-panels":{backgroundColor:m,color:c},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:b,color:u,border:"none"},".cm-activeLineGutter":{backgroundColor:v},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:w},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:w,borderBottomColor:w},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:v,color:c}}},{dark:!0}),O=r.HighlightStyle.define([{tag:s.tags.keyword,color:g},{tag:[s.tags.name,s.tags.deleted,s.tags.character,s.tags.propertyName,s.tags.macroName],color:a},{tag:[s.tags.function(s.tags.variableName),s.tags.labelName],color:d},{tag:[s.tags.color,s.tags.constant(s.tags.name),s.tags.standard(s.tags.name)],color:p},{tag:[s.tags.definition(s.tags.name),s.tags.separator],color:c},{tag:[s.tags.typeName,s.tags.className,s.tags.number,s.tags.changed,s.tags.annotation,s.tags.modifier,s.tags.self,s.tags.namespace],color:o},{tag:[s.tags.operator,s.tags.operatorKeyword,s.tags.url,s.tags.escape,s.tags.regexp,s.tags.link,s.tags.special(s.tags.string)],color:l},{tag:[s.tags.meta,s.tags.comment],color:u},{tag:s.tags.strong,fontWeight:"bold"},{tag:s.tags.emphasis,fontStyle:"italic"},{tag:s.tags.strikethrough,textDecoration:"line-through"},{tag:s.tags.link,color:u,textDecoration:"underline"},{tag:s.tags.heading,fontWeight:"bold",color:a},{tag:[s.tags.atom,s.tags.bool,s.tags.special(s.tags.variableName)],color:p},{tag:[s.tags.processingInstruction,s.tags.string,s.tags.inserted],color:f},{tag:s.tags.invalid,color:h}]),C=[S,(0,r.syntaxHighlighting)(O)]},52726:function(t,e,i){i.r(e),i.d(e,{BidiSpan:function(){return Nt},BlockInfo:function(){return Ci},BlockType:function(){return ut},Decoration:function(){return dt},Direction:function(){return Ot},EditorView:function(){return hn},GutterMarker:function(){return qr},MatchDecorator:function(){return Xn},RectangleMarker:function(){return Cn},ViewPlugin:function(){return he},ViewUpdate:function(){return ke},WidgetType:function(){return ct},__test:function(){return ks},closeHoverTooltips:function(){return Lr},crosshairCursor:function(){return gr},drawSelection:function(){return Bn},dropCursor:function(){return qn},getDrawSelectionConfig:function(){return Nn},getPanel:function(){return zr},getTooltip:function(){return Rr},gutter:function(){return Gr},gutterLineClass:function(){return Hr},gutterWidgetClass:function(){return Xr},gutters:function(){return Yr},hasHoverTooltips:function(){return Br},highlightActiveLine:function(){return rr},highlightActiveLineGutter:function(){return ps},highlightSpecialChars:function(){return Zn},highlightTrailingWhitespace:function(){return xs},highlightWhitespace:function(){return ws},hoverTooltip:function(){return Er},keymap:function(){return vn},layer:function(){return Dn},lineNumberMarkers:function(){return rs},lineNumberWidgetMarker:function(){return ss},lineNumbers:function(){return cs},logException:function(){return se},panels:function(){return _r},placeholder:function(){return lr},rectangularSelection:function(){return dr},repositionTooltips:function(){return Ir},runScopeHandlers:function(){return yn},scrollPastEnd:function(){return nr},showPanel:function(){return Wr},showTooltip:function(){return Cr},tooltips:function(){return br}});for(var n=i(38717),r=i(59349),s={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),h=0;h<10;h++)s[48+h]=s[96+h]=String(h);for(h=1;h<=24;h++)s[h+111]="F"+h;for(h=65;h<=90;h++)s[h]=String.fromCharCode(h+32),o[h]=String.fromCharCode(h);for(var c in s)o.hasOwnProperty(c)||(o[c]=s[c]);function u(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function d(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function f(t,e){if(!e.anchorNode)return!1;try{return d(t,e.anchorNode)}catch(t){return!1}}function p(t){return 3==t.nodeType?M(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function g(t,e,i,n){return!!i&&(b(t,e,i,n,-1)||b(t,e,i,n,1))}function m(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function v(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function b(t,e,i,n,r){for(;;){if(t==i&&e==n)return!0;if(e==(r<0?0:w(t))){if("DIV"==t.nodeName)return!1;let i=t.parentNode;if(!i||1!=i.nodeType)return!1;e=m(t)+(r<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(r<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=r<0?w(t):0}}}function w(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function y(t,e){let i=e?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function x(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function k(t,e){let i=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.width-t.offsetWidth)<1)&&(i=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:i,scaleY:n}}class S{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:i}=t;this.set(e,Math.min(t.anchorOffset,e?w(e):0),i,Math.min(t.focusOffset,i?w(i):0))}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}}let O,C=null;function A(t){if(t.setActive)return t.setActive();if(C)return t.focus(C);let e=[];for(let i=t;i&&(e.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(null==C?{get preventScroll(){return C={preventScroll:!0},!0}}:void 0),!C){C=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],r=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=r&&(i.scrollLeft=r)}}}function M(t,e,i=e){let n=O||(O=document.createRange());return n.setEnd(t,i),n.setStart(t,e),n}function T(t,e,i,n){let r={key:e,code:e,keyCode:i,which:i,cancelable:!0};n&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=n);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function P(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function D(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function E(t,e){for(let i=t,n=e;;){if(3==i.nodeType&&n>0)return{node:i,offset:n};if(1==i.nodeType&&n>0){if("false"==i.contentEditable)return null;i=i.childNodes[n-1],n=w(i)}else{if(!i.parentNode||v(i))return null;n=m(i),i=i.parentNode}}}function R(t,e){for(let i=t,n=e;;){if(3==i.nodeType&&n<i.nodeValue.length)return{node:i,offset:n};if(1==i.nodeType&&n<i.childNodes.length){if("false"==i.contentEditable)return null;i=i.childNodes[n],n=0}else{if(!i.parentNode||v(i))return null;n=m(i)+1,i=i.parentNode}}}class B{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new B(t.parentNode,m(t),e)}static after(t,e){return new B(t.parentNode,m(t)+1,e)}}const N=[];class L{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let i,n=this.dom,r=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(i=r?r.nextSibling:n.firstChild)){let t=L.get(i);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(i)}s.sync(t,e),s.flags&=-8}if(i=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&i!=s.dom&&(e.written=!0),s.dom.parentNode==n)for(;i&&i!=s.dom;)i=I(i);else n.insertBefore(s.dom,i);r=s.dom}for(i=r?r.nextSibling:n.firstChild,i&&e&&e.node==n&&(e.written=!0);i;)i=I(i)}else if(1&this.flags)for(let i of this.children)7&i.flags&&(i.sync(t,e),i.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=0==w(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==n&&e.firstChild!=e.lastChild&&(n=t==e.firstChild?-1:1),t=e}i=n<0?t:t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!L.get(i);)i=i.nextSibling;if(!i)return this.length;for(let t=0,e=0;;t++){let n=this.children[t];if(n.dom==i)return e;e+=n.length+n.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,r=-1,s=-1,o=-1;for(let a=0,l=i,h=i;a<this.children.length;a++){let i=this.children[a],c=l+i.length;if(l<t&&c>e)return i.domBoundsAround(t,e,l);if(c>=t&&-1==n&&(n=a,r=l),l>e&&i.dom.parentNode==this.dom){s=a,o=h;break}h=c,l=c+i.breakAfter}return{from:r,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=N){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&i.indexOf(t)<0&&t.destroy()}i.length<250?this.children.splice(t,e-t,...i):this.children=[].concat(this.children.slice(0,t),i,this.children.slice(e));for(let t=0;t<i.length;t++)i[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Q(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,i,n,r,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function I(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}L.prototype.breakAfter=0;class Q{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function _(t,e,i,n,r,s,o,a,l){let{children:h}=t,c=h.length?h[e]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(e==n&&c&&!o&&!d&&s.length<2&&c.merge(i,r,s.length?u:null,0==i,a,l))){if(n<h.length){let t=h[n];t&&(r<t.length||t.breakAfter&&(null==u?void 0:u.breakAfter))?(e==n&&(t=t.split(r),r=0),!d&&u&&t.merge(0,r,u,!0,0,l)?s[s.length-1]=t:((r||t.children.length&&!t.children[0].length)&&t.merge(0,r,null,!1,0,l),s.push(t))):(null==t?void 0:t.breakAfter)&&(u?u.breakAfter=1:o=1),n++}for(c&&(c.breakAfter=o,i>0&&(!o&&s.length&&c.merge(i,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(i<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(i,c.length,null,!1,a,0),e++));e<n&&s.length;)if(h[n-1].become(s[s.length-1]))n--,s.pop(),l=s.length?0:a;else{if(!h[e].become(s[0]))break;e++,s.shift(),a=s.length?0:l}!s.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,a,l)&&e--,(e<n||s.length)&&t.replaceChildren(e,n,s)}}function z(t,e,i,n,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(i,1),{i:h,off:c}=o.findPos(e,-1),u=e-i;for(let t of n)u+=t.length;t.length+=u,_(t,h,c,a,l,n,0,r,s)}let V="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},F="undefined"!=typeof document?document:{documentElement:{style:{}}};const $=/Edge\/(\d+)/.exec(V.userAgent),W=/MSIE \d/.test(V.userAgent),q=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(V.userAgent),H=!!(W||q||$),X=!H&&/gecko\/(\d+)/i.test(V.userAgent),U=!H&&/Chrome\/(\d+)/.exec(V.userAgent),j="webkitFontSmoothing"in F.documentElement.style,G=!H&&/Apple Computer/.test(V.vendor),K=G&&(/Mobile\/\w+/.test(V.userAgent)||V.maxTouchPoints>2);var Y={mac:K||/Mac/.test(V.platform),windows:/Win/.test(V.platform),linux:/Linux|X11/.test(V.platform),ie:H,ie_version:W?F.documentMode||6:q?+q[1]:$?+$[1]:0,gecko:X,gecko_version:X?+(/Firefox\/(\d+)/.exec(V.userAgent)||[0,0])[1]:0,chrome:!!U,chrome_version:U?+U[1]:0,ios:K,android:/Android\b/.test(V.userAgent),webkit:j,safari:G,webkit_version:j?+(/\bAppleWebKit\/(\d+)/.exec(V.userAgent)||[0,0])[1]:0,tabSize:null!=F.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Z extends L{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,i){return!(8&this.flags||i&&(!(i instanceof Z)||this.length-(e-t)+i.length>256||8&i.flags))&&(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new Z(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new B(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,i){let n=t.nodeValue.length;e>n&&(e=n);let r=e,s=e,o=0;0==e&&i<0||e==n&&i>=0?Y.chrome||Y.gecko||(e?(r--,o=1):s<n&&(s++,o=-1)):i<0?r--:s<n&&s++;let a=M(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:i>=0)?0:a.length-1];Y.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,(t=>t.width))||l);return o?y(l,o<0):l||null}(this.dom,t,e)}}class J extends L{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let t of e)t.setParent(this)}setAttrs(t){if(P(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,i,n,r,s){return(!i||!(!(i instanceof J&&i.mark.eq(this.mark))||t&&r<=0||e<this.length&&s<=0))&&(z(this,t,e,i?i.children.slice():[],r-1,s-1),this.markDirty(),!0)}split(t){let e=[],i=0,n=-1,r=0;for(let s of this.children){let o=i+s.length;o>t&&e.push(i<t?s.split(t-i):s),n<0&&i>=t&&(n=r),i=o,r++}let s=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new J(this.mark,e,s)}domAtPos(t){return it(this,t)}coordsAt(t,e){return rt(this,t,e)}}class tt extends L{static create(t,e,i){return new tt(t,e,i)}constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}split(t){let e=tt.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,i,n,r,s){return!(i&&(!(i instanceof tt&&this.widget.compare(i.widget))||t>0&&r<=0||e<this.length&&s<=0))&&(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t instanceof tt&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return n.Text.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,i=e&&e.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):n.Text.empty}domAtPos(t){return(this.length?0==t:this.side>0)?B.before(this.dom):B.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);if(i)return i;let n=this.dom.getClientRects(),r=null;if(!n.length)return null;let s=this.side?this.side<0:t>0;for(let e=s?n.length-1:0;r=n[e],!(t>0?0==e:e==n.length-1||r.top<r.bottom);e+=s?-1:1);return y(r,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class et extends L{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof et&&t.side==this.side}split(){return new et(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?B.before(this.dom):B.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return n.Text.empty}get isHidden(){return!0}}function it(t,e){let i=t.dom,{children:n}=t,r=0;for(let t=0;r<n.length;r++){let s=n[r],o=t+s.length;if(!(o==t&&s.getSide()<=0)){if(e>t&&e<o&&s.dom.parentNode==i)return s.domAtPos(e-t);if(e<=t)break;t=o}}for(let t=r;t>0;t--){let e=n[t-1];if(e.dom.parentNode==i)return e.domAtPos(e.length)}for(let t=r;t<n.length;t++){let e=n[t];if(e.dom.parentNode==i)return e.domAtPos(0)}return new B(i,0)}function nt(t,e,i){let n,{children:r}=t;i>0&&e instanceof J&&r.length&&(n=r[r.length-1])instanceof J&&n.mark.eq(e.mark)?nt(n,e.children[0],i-1):(r.push(e),e.setParent(t)),t.length+=e.length}function rt(t,e,i){let n=null,r=-1,s=null,o=-1;!function t(e,a){for(let l=0,h=0;l<e.children.length&&h<=a;l++){let c=e.children[l],u=h+c.length;u>=a&&(c.children.length?t(c,a-h):(!s||s.isHidden&&i>0)&&(u>a||h==u&&c.getSide()>0)?(s=c,o=a-h):(h<a||h==u&&c.getSide()<0&&!c.isHidden)&&(n=c,r=a-h)),h=u}}(t,e);let a=(i<0?n:s)||n||s;return a?a.coordsAt(Math.max(0,a==n?r:o),i):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let i=p(e);return i[i.length-1]||null}(t)}function st(t,e){for(let i in t)"class"==i&&e.class?e.class+=" "+t.class:"style"==i&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}Z.prototype.children=tt.prototype.children=et.prototype.children=N;const ot=Object.create(null);function at(t,e,i){if(t==e)return!0;t||(t=ot),e||(e=ot);let n=Object.keys(t),r=Object.keys(e);if(n.length-(i&&n.indexOf(i)>-1?1:0)!=r.length-(i&&r.indexOf(i)>-1?1:0))return!1;for(let s of n)if(s!=i&&(-1==r.indexOf(s)||t[s]!==e[s]))return!1;return!0}function lt(t,e,i){let n=!1;if(e)for(let r in e)i&&r in i||(n=!0,"style"==r?t.style.cssText="":t.removeAttribute(r));if(i)for(let r in i)e&&e[r]==i[r]||(n=!0,"style"==r?t.style.cssText=i[r]:t.setAttribute(r,i[r]));return n}function ht(t){let e=Object.create(null);for(let i=0;i<t.attributes.length;i++){let n=t.attributes[i];e[n.name]=n.value}return e}class ct{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var ut=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ut||(ut={}));class dt extends n.RangeValue{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new ft(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),i=!!t.block;return e+=i&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new gt(t,e,e,i,t.widget||null,!1)}static replace(t){let e,i,n=!!t.block;if(t.isBlockGap)e=-5e8,i=4e8;else{let{start:r,end:s}=mt(t,n);e=(r?n?-3e8:-1:5e8)-1,i=1+(s?n?2e8:1:-6e8)}return new gt(t,e,i,n,t.widget||null,!0)}static line(t){return new pt(t)}static set(t,e=!1){return n.RangeSet.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}dt.none=n.RangeSet.empty;class ft extends dt{constructor(t){let{start:e,end:i}=mt(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,i;return this==t||t instanceof ft&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(i=t.attrs)||void 0===i?void 0:i.class))&&at(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}ft.prototype.point=!1;class pt extends dt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof pt&&this.spec.class==t.spec.class&&at(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}pt.prototype.mapMode=n.MapMode.TrackBefore,pt.prototype.point=!0;class gt extends dt{constructor(t,e,i,r,s,o){super(e,i,s,t),this.block=r,this.isReplace=o,this.mapMode=r?e<=0?n.MapMode.TrackBefore:n.MapMode.TrackAfter:n.MapMode.TrackDel}get type(){return this.startSide!=this.endSide?ut.WidgetRange:this.startSide<=0?ut.WidgetBefore:ut.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof gt&&(e=this.widget,i=t.widget,e==i||!!(e&&i&&e.compare(i)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,i}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function mt(t,e=!1){let{inclusiveStart:i,inclusiveEnd:n}=t;return null==i&&(i=t.inclusive),null==n&&(n=t.inclusive),{start:null!=i?i:e,end:null!=n?n:e}}function vt(t,e,i,n=0){let r=i.length-1;r>=0&&i[r]+n>=t?i[r]=Math.max(i[r],e):i.push(t,e)}gt.prototype.point=!0;class bt extends L{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n,r,s){if(i){if(!(i instanceof bt))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),z(this,t,e,i?i.children.slice():[],r,s),!0}split(t){let e=new bt;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:i,off:n}=this.childPos(t);n&&(e.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let t=i;t<this.children.length;t++)e.append(this.children[t],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){at(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){nt(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=st(e,this.attrs||{})),i&&(this.attrs=st({class:i},this.attrs||{}))}domAtPos(t){return it(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var i;this.dom?4&this.flags&&(P(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(lt(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let n=this.dom.lastChild;for(;n&&L.get(n)instanceof J;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(i=L.get(n))||void 0===i?void 0:i.isEditable)||Y.ios&&this.children.some((t=>t instanceof Z))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let i of this.children){if(!(i instanceof Z)||/[^ -~]/.test(i.text))return null;let n=p(i.dom);if(1!=n.length)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let i=rt(this,t,e);if(!this.children.length&&i&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=i.bottom-i.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let n=(e-t.textHeight)/2;return{top:i.top+n,bottom:i.bottom-n,left:i.left,right:i.left}}}return i}become(t){return t instanceof bt&&0==this.children.length&&0==t.children.length&&at(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let i=0,n=0;i<t.children.length;i++){let r=t.children[i],s=n+r.length;if(s>=e){if(r instanceof bt)return r;if(s>e)break}n=s+r.breakAfter}return null}}class wt extends L{constructor(t,e,i){super(),this.widget=t,this.length=e,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,n,r,s){return!(i&&(!(i instanceof wt&&this.widget.compare(i.widget))||t>0&&r<=0||e<this.length&&s<=0))&&(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?B.before(this.dom):B.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new wt(this.widget,e,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return N}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):n.Text.empty}domBoundsAround(){return null}become(t){return t instanceof wt&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);return i||(this.widget instanceof yt?null:y(this.dom.getBoundingClientRect(),this.length?0==t:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:i}=this.deco;return e!=i&&(t<0?e<0:i>0)}}class yt extends ct{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class xt{constructor(t,e,i,n){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof wt&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new bt),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(kt(new et(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof wt||this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:i,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-i)),this.getLine().append(kt(new Z(this.text.slice(this.textOff,this.textOff+n)),e),i),this.atCursorPos=!0,this.textOff+=n,t-=n,i=0}}span(t,e,i,n){this.buildText(e-t,i,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,i,n,r,s){if(this.disallowBlockEffectsFor[s]&&i instanceof gt){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(i instanceof gt)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new wt(i.widget||St.block,o,i));else{let s=tt.create(i.widget||St.inline,o,o?0:i.startSide),a=this.atCursorPos&&!s.isEditable&&r<=n.length&&(t<e||i.startSide>0),l=!s.isEditable&&(t<e||r>n.length||i.startSide<=0),h=this.getLine();2!=this.pendingBuffer||a||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(n),a&&(h.append(kt(new et(1),n),r),r=n.length+Math.max(0,r-n.length)),h.append(kt(s,n),r),this.atCursorPos=l,this.pendingBuffer=l?t<e||r>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=r)}static build(t,e,i,r,s){let o=new xt(t,e,i,s);return o.openEnd=n.RangeSet.spans(r,e,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function kt(t,e){for(let i of e)t=new J(i,[t],t.length);return t}class St extends ct{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}St.inline=new St("span"),St.block=new St("div");var Ot=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Ot||(Ot={}));const Ct=Ot.LTR,At=Ot.RTL;function Mt(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}const Tt=Mt("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Pt=Mt("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Dt=Object.create(null),Et=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),i=t.charCodeAt(1);Dt[e]=i,Dt[i]=-e}function Rt(t){return t<=247?Tt[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Pt[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Bt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Nt{get dir(){return this.level%2?At:Ct}constructor(t,e,i){this.from=t,this.to=e,this.level=i}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,i,n){let r=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==i)return s;(r<0||(0!=n?n<0?o.from<e:o.to>e:t[r].level>o.level))&&(r=s)}}if(r<0)throw new RangeError("Index out of range");return r}}function Lt(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],r=e[i];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!Lt(n.inner,r.inner))return!1}return!0}const It=[];function Qt(t,e,i,n,r,s,o){let a=n%2?2:1;if(n%2==r%2)for(let l=e,h=0;l<i;){let e=!0,c=!1;if(h==s.length||l<s[h].from){let t=It[l];t!=a&&(e=!1,c=16==t)}let u=e||1!=a?null:[],d=e?n:n+1,f=l;t:for(;;)if(h<s.length&&f==s[h].from){if(c)break t;let p=s[h];if(!e)for(let t=p.to,e=h+1;;){if(t==i)break t;if(!(e<s.length&&s[e].from==t)){if(It[t]==a)break t;break}t=s[e++].to}if(h++,u)u.push(p);else{p.from>l&&o.push(new Nt(l,p.from,d)),_t(t,p.direction==Ct!=!(d%2)?n+1:n,r,p.inner,p.from,p.to,o),l=p.to}f=p.to}else{if(f==i||(e?It[f]!=a:It[f]==a))break;f++}u?Qt(t,l,f,n+1,r,u,o):l<f&&o.push(new Nt(l,f,d)),l=f}else for(let l=i,h=s.length;l>e;){let i=!0,c=!1;if(!h||l>s[h-1].to){let t=It[l-1];t!=a&&(i=!1,c=16==t)}let u=i||1!=a?null:[],d=i?n:n+1,f=l;t:for(;;)if(h&&f==s[h-1].to){if(c)break t;let p=s[--h];if(!i)for(let t=p.from,i=h;;){if(t==e)break t;if(!i||s[i-1].to!=t){if(It[t-1]==a)break t;break}t=s[--i].from}if(u)u.push(p);else{p.to<l&&o.push(new Nt(p.to,l,d)),_t(t,p.direction==Ct!=!(d%2)?n+1:n,r,p.inner,p.from,p.to,o),l=p.from}f=p.from}else{if(f==e||(i?It[f-1]!=a:It[f-1]==a))break;f--}u?Qt(t,f,l,n+1,r,u,o):f<l&&o.push(new Nt(f,l,d)),l=f}}function _t(t,e,i,n,r,s,o){let a=e%2?2:1;!function(t,e,i,n,r){for(let s=0;s<=n.length;s++){let o=s?n[s-1].to:e,a=s<n.length?n[s].from:i,l=s?256:r;for(let e=o,i=l,n=l;e<a;e++){let r=Rt(t.charCodeAt(e));512==r?r=i:8==r&&4==n&&(r=16),It[e]=4==r?2:r,7&r&&(n=r),i=r}for(let t=o,e=l,n=l;t<a;t++){let r=It[t];if(128==r)t<a-1&&e==It[t+1]&&24&e?r=It[t]=e:It[t]=256;else if(64==r){let r=t+1;for(;r<a&&64==It[r];)r++;let s=t&&8==e||r<i&&8==It[r]?1==n?1:8:256;for(let e=t;e<r;e++)It[e]=s;t=r-1}else 8==r&&1==n&&(It[t]=1);e=r,7&r&&(n=r)}}}(t,r,s,n,a),function(t,e,i,n,r){let s=1==r?2:1;for(let o=0,a=0,l=0;o<=n.length;o++){let h=o?n[o-1].to:e,c=o<n.length?n[o].from:i;for(let e,i,n,o=h;o<c;o++)if(i=Dt[e=t.charCodeAt(o)])if(i<0){for(let t=a-3;t>=0;t-=3)if(Et[t+1]==-i){let e=Et[t+2],i=2&e?r:4&e?1&e?s:r:0;i&&(It[o]=It[Et[t]]=i),a=t;break}}else{if(189==Et.length)break;Et[a++]=o,Et[a++]=e,Et[a++]=l}else if(2==(n=It[o])||1==n){let t=n==r;l=t?0:1;for(let e=a-3;e>=0;e-=3){let i=Et[e+2];if(2&i)break;if(t)Et[e+2]|=2;else{if(4&i)break;Et[e+2]|=4}}}}}(t,r,s,n,a),function(t,e,i,n){for(let r=0,s=n;r<=i.length;r++){let o=r?i[r-1].to:t,a=r<i.length?i[r].from:e;for(let l=o;l<a;){let o=It[l];if(256==o){let o=l+1;for(;;)if(o==a){if(r==i.length)break;o=i[r++].to,a=r<i.length?i[r].from:e}else{if(256!=It[o])break;o++}let h=1==s,c=h==(1==(o<e?It[o]:n))?h?1:2:n;for(let e=o,n=r,s=n?i[n-1].to:t;e>l;)e==s&&(e=i[--n].from,s=n?i[n-1].to:t),It[--e]=c;l=o}else s=o,l++}}}(r,s,n,a),Qt(t,r,s,e,i,n,o)}function zt(t,e,i){if(!t)return[new Nt(0,0,e==At?1:0)];if(e==Ct&&!i.length&&!Bt.test(t))return Vt(t.length);if(i.length)for(;t.length>It.length;)It[It.length]=256;let n=[],r=e==Ct?0:1;return _t(t,r,r,i,0,t.length,n),n}function Vt(t){return[new Nt(0,t,0)]}let Ft="";function $t(t,e,i,r,s){var o;let a=r.head-t.from,l=Nt.find(e,a,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc),h=e[l],c=h.side(s,i);if(a==c){let t=l+=s?1:-1;if(t<0||t>=e.length)return null;h=e[l=t],a=h.side(!s,i),c=h.side(s,i)}let u=(0,n.findClusterBreak)(t.text,a,h.forward(s,i));(u<h.from||u>h.to)&&(u=c),Ft=t.text.slice(Math.min(a,u),Math.max(a,u));let d=l==(s?e.length-1:0)?null:e[l+(s?1:-1)];return d&&u==c&&d.level+(s?0:1)<h.level?n.EditorSelection.cursor(d.side(!s,i)+t.from,d.forward(s,i)?1:-1,d.level):n.EditorSelection.cursor(u+t.from,h.forward(s,i)?-1:1,h.level)}function Wt(t,e,i){for(let n=e;n<i;n++){let e=Rt(t.charCodeAt(n));if(1==e)return Ct;if(2==e||4==e)return At}return Ct}const qt=n.Facet.define(),Ht=n.Facet.define(),Xt=n.Facet.define(),Ut=n.Facet.define(),jt=n.Facet.define(),Gt=n.Facet.define(),Kt=n.Facet.define(),Yt=n.Facet.define(),Zt=n.Facet.define(),Jt=n.Facet.define({combine:t=>t.some((t=>t))}),te=n.Facet.define({combine:t=>t.some((t=>t))}),ee=n.Facet.define();class ie{constructor(t,e="nearest",i="nearest",n=5,r=5,s=!1){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=r,this.isSnapshot=s}map(t){return t.empty?this:new ie(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new ie(n.EditorSelection.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ne=n.StateEffect.define({map:(t,e)=>t.map(e)}),re=n.StateEffect.define();function se(t,e,i){let n=t.facet(Ut);n.length?n[0](e):window.onerror?window.onerror(String(e),i,void 0,void 0,e):i?console.error(i+":",e):console.error(e)}const oe=n.Facet.define({combine:t=>!t.length||t[0]});let ae=0;const le=n.Facet.define();class he{constructor(t,e,i,n,r){this.id=t,this.create=e,this.domEventHandlers=i,this.domEventObservers=n,this.extension=r(this)}static define(t,e){const{eventHandlers:i,eventObservers:n,provide:r,decorations:s}=e||{};return new he(ae++,t,i,n,(t=>{let e=[le.of(t)];return s&&e.push(fe.of((e=>{let i=e.plugin(t);return i?s(i):dt.none}))),r&&e.push(r(t)),e}))}static fromClass(t,e){return he.define((e=>new t(e)),e)}}class ce{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(se(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){se(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){se(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ue=n.Facet.define(),de=n.Facet.define(),fe=n.Facet.define(),pe=n.Facet.define(),ge=n.Facet.define(),me=n.Facet.define();function ve(t,e){let i=t.state.facet(me);if(!i.length)return i;let r=i.map((e=>e instanceof Function?e(t):e)),s=[];return n.RangeSet.spans(r,e.from,e.to,{point(){},span(t,i,n,r){let o=t-e.from,a=i-e.from,l=s;for(let t=n.length-1;t>=0;t--,r--){let i,s=n[t].spec.bidiIsolate;if(null==s&&(s=Wt(e.text,o,a)),r>0&&l.length&&(i=l[l.length-1]).to==o&&i.direction==s)i.to=a,l=i.inner;else{let t={from:o,to:a,direction:s,inner:[]};l.push(t),l=t.inner}}}}),s}const be=n.Facet.define();function we(t){let e=0,i=0,n=0,r=0;for(let s of t.state.facet(be)){let o=s(t);o&&(null!=o.left&&(e=Math.max(e,o.left)),null!=o.right&&(i=Math.max(i,o.right)),null!=o.top&&(n=Math.max(n,o.top)),null!=o.bottom&&(r=Math.max(r,o.bottom)))}return{left:e,right:i,top:n,bottom:r}}const ye=n.Facet.define();class xe{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new xe(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(0==e.length)return t;let i=[];for(let n=0,r=0,s=0,o=0;;n++){let a=n==t.length?null:t[n],l=s-o,h=a?a.fromB:1e9;for(;r<e.length&&e[r]<h;){let t=e[r],n=e[r+1],s=Math.max(o,t),a=Math.min(h,n);if(s<=a&&new xe(s+l,a+l,s,a).addToSet(i),n>h)break;r+=2}if(!a)return i;new xe(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,o=a.toB}}}class ke{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=n.ChangeSet.empty(this.startState.doc.length);for(let t of i)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,i,n)=>r.push(new xe(t,e,i,n)))),this.changedRanges=r}static create(t,e,i){return new ke(t,e,i)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class Se extends L{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=dt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new bt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new xe(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?r=this.domChanged.newSel.head:function(t,e){let i=!1;e&&t.iterChangedRanges(((t,n)=>{t<e.to&&n>e.from&&(i=!0)}));return i}(t.changes,this.hasComposition)||t.selectionSet||(r=t.state.selection.main.head));let s=r>-1?function(t,e,i){let n=Oe(t,i);if(!n)return null;let{node:r,from:s,to:o}=n,a=r.nodeValue;if(/[\n\r]/.test(a))return null;if(t.state.doc.sliceString(n.from,n.to)!=a)return null;let l=e.invertedDesc,h=new xe(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let e=r.parentNode;;e=e.parentNode){let i=L.get(e);if(i instanceof J)c.push({node:e,deco:i.mark});else{if(i instanceof bt||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:h,text:r,marks:c,line:e};if(e==t.contentDOM)return null;c.push({node:e,deco:new ft({inclusive:!0,attributes:ht(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:n}=this.hasComposition;i=new xe(e,n,t.changes.mapPos(e,-1),t.changes.mapPos(n,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Y.ie||Y.chrome)&&!s&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let o=function(t,e,i){let r=new Ce;return n.RangeSet.compare(t,e,i,r),r.changes}(this.decorations,this.updateDeco(),t.changes);return i=xe.extendWithRanges(i,o),!!(7&this.flags||0!=i.length)&&(this.updateInner(i,t.startState.doc.length,s),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,i);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=Y.chrome||Y.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||n.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof wt&&t.widget instanceof yt&&r.push(t.dom);n.updateGaps(r)}updateChildren(t,e,i){let n=i?i.range.addToSet(t.slice()):t,r=this.childCursor(e);for(let t=n.length-1;;t--){let e=t>=0?n[t]:null;if(!e)break;let s,o,a,l,{fromA:h,toA:c,fromB:u,toB:d}=e;if(i&&i.range.fromB<d&&i.range.toB>u){let t=xt.build(this.view.state.doc,u,i.range.fromB,this.decorations,this.dynamicDecorationMap),e=xt.build(this.view.state.doc,i.range.toB,d,this.decorations,this.dynamicDecorationMap);o=t.breakAtStart,a=t.openStart,l=e.openEnd;let n=this.compositionView(i);e.breakAtStart?n.breakAfter=1:e.content.length&&n.merge(n.length,n.length,e.content[0],!1,e.openStart,0)&&(n.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&n.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),s=t.content.concat(n).concat(e.content)}else({content:s,breakAtStart:o,openStart:a,openEnd:l}=xt.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=r.findPos(c,1),{i:g,off:m}=r.findPos(h,-1);_(this,g,m,f,p,s,o,a,l)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(re)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new Z(t.text.nodeValue);e.flags|=8;for(let{deco:i}of t.marks)e=new J(i,[e],e.length);let i=new bt;return i.append(e,0),i}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let i=L.get(t);i&&i!=e&&(i.dom=null),e.setDOM(t)},i=this.childPos(t.range.fromB,1),n=this.children[i.i];e(t.line,n);for(let r=t.marks.length-1;r>=-1;r--)i=n.childPos(i.off,1),n=n.children[i.i],e(r>=0?t.marks[r].node:t.text,n)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,r=!n&&f(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||e||r))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(o.anchor)),l=o.empty?a:this.moveToLine(this.domAtPos(o.head));if(Y.gecko&&o.empty&&!this.hasComposition&&(1==(h=a).node.nodeType&&h.node.firstChild&&(0==h.offset||"false"==h.node.childNodes[h.offset-1].contentEditable)&&(h.offset==h.node.childNodes.length||"false"==h.node.childNodes[h.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>a.node.insertBefore(t,a.node.childNodes[a.offset]||null))),a=l=new B(t,0),s=!0}var h;let c=this.view.observer.selectionRange;!s&&c.focusNode&&(g(a.node,a.offset,c.anchorNode,c.anchorOffset)&&g(l.node,l.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,o))||(this.view.observer.ignore((()=>{Y.android&&Y.chrome&&this.dom.contains(c.focusNode)&&function(t,e){for(let i=t;i&&i!=e;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=u(this.view.root);if(t)if(o.empty){if(Y.gecko){let t=(e=a.node,n=a.offset,1!=e.nodeType?0:(n&&"false"==e.childNodes[n-1].contentEditable?1:0)|(n<e.childNodes.length&&"false"==e.childNodes[n].contentEditable?2:0));if(t&&3!=t){let e=(1==t?E:R)(a.node,a.offset);e&&(a=new B(e.node,e.offset))}}t.collapse(a.node,a.offset),null!=o.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=o.bidiLevel)}else if(t.extend){t.collapse(a.node,a.offset);try{t.extend(l.node,l.offset)}catch(t){}}else{let e=document.createRange();o.anchor>o.head&&([a,l]=[l,a]),e.setEnd(l.node,l.offset),e.setStart(a.node,a.offset),t.removeAllRanges(),t.addRange(e)}else;var e,n;r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())})),this.view.observer.setSelectionRange(a,l)),this.impreciseAnchor=a.precise?null:new B(c.anchorNode,c.anchorOffset),this.impreciseHead=l.precise?null:new B(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&g(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,i=u(t.root),{anchorNode:n,anchorOffset:r}=t.observer.selectionRange;if(!(i&&e.empty&&e.assoc&&i.modify))return;let s=bt.find(this,e.head);if(!s)return;let o=s.posAtStart;if(e.head==o||e.head==o+s.length)return;let a=this.coordsAt(e.head,-1),l=this.coordsAt(e.head,1);if(!a||!l||a.bottom>l.top)return;let h=this.domAtPos(e.head+e.assoc);i.collapse(h.node,h.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&i.collapse(n,r)}moveToLine(t){let e,i=this.dom;if(t.node!=i)return t;for(let n=t.offset;!e&&n<i.childNodes.length;n++){let t=L.get(i.childNodes[n]);t instanceof bt&&(e=t.domAtPos(0))}for(let n=t.offset-1;!e&&n>=0;n--){let t=L.get(i.childNodes[n]);t instanceof bt&&(e=t.domAtPos(t.length))}return e?new B(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=L.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(i<t.length||t instanceof bt)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){let i=null,n=0;for(let r=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],a=r-o.breakAfter,l=a-o.length;if(a<t)break;if(l<=t&&(l<t||o.covers(-1))&&(a>t||o.covers(1))&&(!i||o instanceof bt&&!(i instanceof bt&&e>=0)))i=o,n=l;else if(i&&l==t&&a==t&&o instanceof wt&&Math.abs(e)<2){if(o.deco.startSide<0)break;s&&(i=null)}r=l}return i?i.coordsAt(t-n,e):null}coordsForChar(t){let{i:e,off:i}=this.childPos(t,1),r=this.children[e];if(!(r instanceof bt))return null;for(;r.children.length;){let{i:t,off:e}=r.childPos(i,1);for(;;t++){if(t==r.children.length)return null;if((r=r.children[t]).length)break}i=e}if(!(r instanceof Z))return null;let s=(0,n.findClusterBreak)(r.text,i);if(s==i)return null;let o=M(r.dom,i,s).getClientRects();for(let t=0;t<o.length;t++){let e=o[t];if(t==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:i,to:n}=t,r=this.view.contentDOM.clientWidth,s=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==Ot.LTR;for(let t=0,l=0;l<this.children.length;l++){let h=this.children[l],c=t+h.length;if(c>n)break;if(t>=i){let i=h.dom.getBoundingClientRect();if(e.push(i.height),s){let e=h.dom.lastChild,n=e?p(e):[];if(n.length){let e=n[n.length-1],s=a?e.right-i.left:i.right-e.left;s>o&&(o=s,this.minWidth=r,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+h.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?Ot.RTL:Ot.LTR}measureTextSize(){for(let t of this.children)if(t instanceof bt){let e=t.measureTextSize();if(e)return e}let t,e,i,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let r=p(n.firstChild)[0];t=n.getBoundingClientRect().height,e=r?r.width/27:7,i=r?r.height:t,n.remove()})),{lineHeight:t,charWidth:e,textHeight:i}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Q(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let r=n==e.viewports.length?null:e.viewports[n],s=r?r.from-1:this.length;if(s>i){let n=(e.lineBlockAt(s).bottom-e.lineBlockAt(i).top)/this.view.scaleY;t.push(dt.replace({widget:new yt(n),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!r)break;i=r.to+1}return dt.set(t)}updateDeco(){let t=1,e=this.view.state.facet(fe).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),i=!1,r=this.view.state.facet(pe).map(((t,e)=>{let n="function"==typeof t;return n&&(i=!0),n?t(this.view):t}));for(r.length&&(this.dynamicDecorationMap[t++]=i,e.push(n.RangeSet.join(r))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(ee))try{if(e(this.view,t.range,t))return!0}catch(t){se(this.view.state,t,"scroll handler")}let e,{range:i}=t,n=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!n)return;!i.empty&&(e=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(n={left:Math.min(n.left,e.left),top:Math.min(n.top,e.top),right:Math.max(n.right,e.right),bottom:Math.max(n.bottom,e.bottom)});let r=we(this.view),s={left:n.left-r.left,top:n.top-r.top,right:n.right+r.right,bottom:n.bottom+r.bottom},{offsetWidth:o,offsetHeight:a}=this.view.scrollDOM;!function(t,e,i,n,r,s,o,a){let l=t.ownerDocument,h=l.defaultView||window;for(let c=t,u=!1;c&&!u;)if(1==c.nodeType){let t,d=c==l.body,f=1,p=1;if(d)t=x(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(u=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();({scaleX:f,scaleY:p}=k(c,e)),t={left:e.left,right:e.left+c.clientWidth*f,top:e.top,bottom:e.top+c.clientHeight*p}}let g=0,m=0;if("nearest"==r)e.top<t.top?(m=-(t.top-e.top+o),i>0&&e.bottom>t.bottom+m&&(m=e.bottom-t.bottom+m+o)):e.bottom>t.bottom&&(m=e.bottom-t.bottom+o,i<0&&e.top-m<t.top&&(m=-(t.top+m-e.top+o)));else{let n=e.bottom-e.top,s=t.bottom-t.top;m=("center"==r&&n<=s?e.top+n/2-s/2:"start"==r||"center"==r&&i<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==n?e.left<t.left?(g=-(t.left-e.left+s),i>0&&e.right>t.right+g&&(g=e.right-t.right+g+s)):e.right>t.right&&(g=e.right-t.right+s,i<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+s))):g=("center"==n?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==n==a?e.left-s:e.right-(t.right-t.left)+s)-t.left,g||m)if(d)h.scrollBy(g,m);else{let t=0,i=0;if(m){let t=c.scrollTop;c.scrollTop+=m/p,i=(c.scrollTop-t)*p}if(g){let e=c.scrollLeft;c.scrollLeft+=g/f,t=(c.scrollLeft-e)*f}e={left:e.left-t,top:e.top-i,right:e.right-t,bottom:e.bottom-i},t&&Math.abs(t-g)<1&&(n="nearest"),i&&Math.abs(i-m)<1&&(r="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,s,i.head<i.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,a),-a),this.view.textDirection==Ot.LTR)}}function Oe(t,e){let i=t.observer.selectionRange;if(!i.focusNode)return null;let n=E(i.focusNode,i.focusOffset),r=R(i.focusNode,i.focusOffset),s=n||r;if(r&&n&&r.node!=n.node){let e=L.get(r.node);if(!e||e instanceof Z&&e.text!=r.node.nodeValue)s=r;else if(t.docView.lastCompositionAfterCursor){let t=L.get(n.node);!t||t instanceof Z&&t.text!=n.node.nodeValue||(s=r)}}if(t.docView.lastCompositionAfterCursor=s!=n,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}let Ce=class{constructor(){this.changes=[]}compareRange(t,e){vt(t,e,this.changes)}comparePoint(t,e){vt(t,e,this.changes)}};function Ae(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Me(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Te(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Pe(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function De(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Ee(t,e,i){let n,r,s,o,a,l,h,c,u=!1;for(let d=t.firstChild;d;d=d.nextSibling){let t=p(d);for(let f=0;f<t.length;f++){let p=t[f];r&&Te(r,p)&&(p=Pe(De(p,r.bottom),r.top));let g=Ae(e,p),m=Me(i,p);if(0==g&&0==m)return 3==d.nodeType?Re(d,e,i):Ee(d,e,i);if(!n||o>m||o==m&&s>g){n=d,r=p,s=g,o=m;let a=m?i<p.top?-1:1:g?e<p.left?-1:1:0;u=!a||(a>0?f<t.length-1:f>0)}0==g?i>p.bottom&&(!h||h.bottom<p.bottom)?(a=d,h=p):i<p.top&&(!c||c.top>p.top)&&(l=d,c=p):h&&Te(h,p)?h=De(h,p.bottom):c&&Te(c,p)&&(c=Pe(c,p.top))}}if(h&&h.bottom>=i?(n=a,r=h):c&&c.top<=i&&(n=l,r=c),!n)return{node:t,offset:0};let d=Math.max(r.left,Math.min(r.right,e));return 3==n.nodeType?Re(n,d,i):u&&"false"!=n.contentEditable?Ee(n,d,i):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,n)+(e>=(r.left+r.right)/2?1:0)}}function Re(t,e,i){let n=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<n;a++){let n=M(t,a,a+1).getClientRects();for(let l=0;l<n.length;l++){let h=n[l];if(h.top==h.bottom)continue;o||(o=e-h.left);let c=(h.top>i?h.top-i:i-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&c<s){let i=e>=(h.left+h.right)/2,n=i;if(Y.chrome||Y.gecko){M(t,a).getBoundingClientRect().left==h.right&&(n=!i)}if(c<=0)return{node:t,offset:a+(n?1:0)};r=a+(n?1:0),s=c}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function Be(t,e,i,n=-1){var r,s;let o,a=t.contentDOM.getBoundingClientRect(),l=a.top+t.viewState.paddingTop,{docHeight:h}=t.viewState,{x:c,y:u}=e,d=u-l;if(d<0)return 0;if(d>h)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,r=!1;o=t.elementAtHeight(d),o.type!=ut.Text;)for(;d=n>0?o.bottom+e:o.top-e,!(d>=0&&d<=h);){if(r)return i?null:0;r=!0,n=-n}u=l+d;let f=o.from;if(f<t.viewport.from)return 0==t.viewport.from?0:i?null:Ne(t,a,o,c,u);if(f>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:i?null:Ne(t,a,o,c,u);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,m=g.elementFromPoint(c,u);m&&!t.contentDOM.contains(m)&&(m=null),m||(c=Math.max(a.left+1,Math.min(a.right-1,c)),m=g.elementFromPoint(c,u),m&&!t.contentDOM.contains(m)&&(m=null));let v,b=-1;if(m&&0!=(null===(r=t.docView.nearest(m))||void 0===r?void 0:r.isEditable)){if(p.caretPositionFromPoint){let t=p.caretPositionFromPoint(c,u);t&&({offsetNode:v,offset:b}=t)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(c,u);e&&(({startContainer:v,startOffset:b}=e),(!t.contentDOM.contains(v)||Y.safari&&function(t,e,i){let n;if(3!=t.nodeType||e!=(n=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return M(t,n-1,n).getBoundingClientRect().left>i}(v,b,c)||Y.chrome&&function(t,e,i){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}let n=1==t.nodeType?t.getBoundingClientRect():M(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return i-n.left>5}(v,b,c))&&(v=void 0))}v&&(b=Math.min(w(v),b))}if(!v||!t.docView.dom.contains(v)){let e=bt.find(t.docView,f);if(!e)return d>o.top+o.height/2?o.to:o.from;({node:v,offset:b}=Ee(e.dom,c,u))}let y=t.docView.nearest(v);if(!y)return null;if(y.isWidget&&1==(null===(s=y.dom)||void 0===s?void 0:s.nodeType)){let t=y.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?y.posAtStart:y.posAtEnd}return y.localPosFromDOM(v,b)+y.posAtStart}function Ne(t,e,i,r,s){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;o+=Math.floor((s-i.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(i.from,i.to);return i.from+(0,n.findColumn)(a,o,t.state.tabSize)}function Le(t,e){let i=t.lineBlockAt(e);if(Array.isArray(i.type))for(let t of i.type)if(t.to>e||t.to==e&&(t.to==i.to||t.type==ut.Text))return t;return i}function Ie(t,e,i,n){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let e=$t(r,s,o,a,i),h=Ft;if(!e){if(r.number==(i?t.state.doc.lines:1))return a;h="\n",r=t.state.doc.line(r.number+(i?1:-1)),s=t.bidiSpans(r),e=t.visualLineSide(r,!i)}if(l){if(!l(h))return a}else{if(!n)return e;l=n(h)}a=e}}function Qe(t,e,i){for(;;){let n=0;for(let r of t)r.between(e-1,e+1,((t,r,s)=>{if(e>t&&e<r){let s=n||i||(e-t<r-e?-1:1);e=s<0?t:r,n=s}}));if(!n)return e}}function _e(t,e,i){let r=Qe(t.state.facet(ge).map((e=>e(t))),i.from,e.head>i.from?-1:1);return r==i.from?i:n.EditorSelection.cursor(r,r<i.from?1:-1)}const ze="";class Ve{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(n.EditorState.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=ze}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n);let t=this.text.length;this.readNode(n);let r=n.nextSibling;if(r==e)break;let s=L.get(n),o=L.get(r);(s&&o?s.breakAfter:(s?s.breakAfter:v(n))||v(r)&&("BR"!=n.nodeName||n.cmIgnore)&&this.text.length>t)&&this.lineBreak(),n=r}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let r,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(r=n.exec(e))&&(s=r.index,o=r[0].length),this.append(e.slice(i,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);i=s+o}}readNode(t){if(t.cmIgnore)return;let e=L.get(t),i=e&&e.overrideDOMText;if(null!=i){this.findPointInside(t,i.length);for(let t=i.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(3==t.nodeType?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+(Fe(t,i.node,i.offset)?e:0))}}function Fe(t,e,i){for(;;){if(!e||i<w(e))return!1;if(e==t)return!0;i=m(e)+1,e=e.parentNode}}class $e{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class We{constructor(t,e,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:s,impreciseAnchor:o}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,i,0))){let e=s||o?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:i,anchorOffset:n,focusNode:r,focusOffset:s}=t.observer.selectionRange;i&&(e.push(new $e(i,n)),r==i&&s==n||e.push(new $e(r,s)));return e}(t),i=new Ve(e,t.state);i.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=i.text,this.newSel=function(t,e){if(0==t.length)return null;let i=t[0].pos,r=2==t.length?t[1].pos:i;return i>-1&&r>-1?n.EditorSelection.single(i+e,r+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,i=s&&s.node==e.focusNode&&s.offset==e.focusOffset||!d(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),r=o&&o.node==e.anchorNode&&o.offset==e.anchorOffset||!d(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),a=t.viewport;if((Y.ios||Y.chrome)&&t.state.selection.main.empty&&i!=r&&(a.from>0||a.to<t.state.doc.length)){let e=Math.min(i,r),n=Math.max(i,r),s=a.from-e,o=a.to-n;0!=s&&1!=s&&0!=e||0!=o&&-1!=o&&n!=t.state.doc.length||(i=0,r=t.state.doc.length)}this.newSel=n.EditorSelection.single(r,i)}}}function qe(t,e){let i,{newSel:r}=e,s=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:r,to:a}=e.bounds,l=s.from,h=null;(8===o||Y.android&&e.text.length<a-r)&&(l=s.to,h="end");let c=function(t,e,i,n){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if("end"==n){i-=o+Math.max(0,s-Math.min(o,a))-s}if(o<s&&t.length<e.length){s-=i<=s&&i>=o?s-i:0,a=s+(a-o),o=s}else if(a<s){s-=i<=s&&i>=a?s-i:0,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}(t.state.doc.sliceString(r,a,ze),e.text,l-r,h);c&&(Y.chrome&&13==o&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==ze+ze&&c.toB--,i={from:r+c.from,to:r+c.toA,insert:n.Text.of(e.text.slice(c.from,c.toB).split(ze))})}else r&&(!t.hasFocus&&t.state.facet(oe)||r.main.eq(s))&&(r=null);if(!i&&!r)return!1;if(!i&&e.typeOver&&!s.empty&&r&&r.main.empty?i={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:i&&i.from>=s.from&&i.to<=s.to&&(i.from!=s.from||i.to!=s.to)&&s.to-s.from-(i.to-i.from)<=4?i={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,s.to))}:(Y.mac||Y.android)&&i&&i.from==i.to&&i.from==s.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(r&&2==i.insert.length&&(r=n.EditorSelection.single(r.main.anchor-1,r.main.head-1)),i={from:s.from,to:s.to,insert:n.Text.of([" "])}):Y.chrome&&i&&i.from==i.to&&i.from==s.head&&"\n "==i.insert.toString()&&t.lineWrapping&&(r&&(r=n.EditorSelection.single(r.main.anchor-1,r.main.head-1)),i={from:s.from,to:s.to,insert:n.Text.of([" "])}),i)return He(t,i,r,o);if(r&&!r.main.eq(s)){let e=!1,i="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),i=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:e,userEvent:i}),!0}return!1}function He(t,e,i,r=-1){if(Y.ios&&t.inputState.flushIOSKey(e))return!0;let s=t.state.selection.main;if(Y.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&" "==t.state.sliceDoc(e.from,s.from))&&1==e.insert.length&&2==e.insert.lines&&T(t.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&0==e.insert.length||8==r&&e.insert.length<e.to-e.from&&e.to>s.head)&&T(t.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&0==e.insert.length&&T(t.contentDOM,"Delete",46)))return!0;let o,a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l=()=>o||(o=function(t,e,i){let r,s=t.state,o=s.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!i||i.main.empty&&i.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let i=o.from<e.from?s.sliceDoc(o.from,e.from):"",n=o.to>e.to?s.sliceDoc(e.to,o.to):"";r=s.replaceSelection(t.state.toText(i+e.insert.sliceString(0,void 0,t.state.lineBreak)+n))}else{let a=s.changes(e),l=i&&i.main.to<=a.newLength?i.main:void 0;if(s.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let h,c=t.state.sliceDoc(e.from,e.to),u=i&&Oe(t,i.main.head);if(u){let t=e.insert.length-(e.to-e.from);h={from:u.from,to:u.to-t}}else h=t.state.doc.lineAt(o.head);let d=o.to-e.to,f=o.to-o.from;r=s.changeByRange((i=>{if(i.from==o.from&&i.to==o.to)return{changes:a,range:l||i.map(a)};let r=i.to-d,u=r-c.length;if(i.to-i.from!=f||t.state.sliceDoc(u,r)!=c||i.to>=h.from&&i.from<=h.to)return{range:i};let p=s.changes({from:u,to:r,insert:e.insert}),g=i.to-o.to;return{changes:p,range:l?n.EditorSelection.range(Math.max(0,l.anchor+g),Math.max(0,l.head+g)):i.map(p)}}))}else r={changes:a,selection:l&&s.selection.replaceRange(l)}}let a="input.type";(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1));return s.update(r,{userEvent:a,scrollIntoView:!0})}(t,e,i));return t.state.facet(Gt).some((i=>i(t,e.from,e.to,a,l)))||t.dispatch(l()),!0}class Xe{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Y.safari&&t.contentDOM.addEventListener("input",(()=>null)),Y.gecko&&function(t){wi.has(t)||(wi.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i,n=e.target;n!=t.contentDOM;n=n.parentNode)if(!n||11==n.nodeType||(i=L.get(n))&&i.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let i=this.handlers[t];if(i){for(let t of i.observers)t(this.view,e);for(let t of i.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=je(t),i=this.handlers,n=this.view.contentDOM;for(let t in e)if("scroll"!=t){let r=!e[t].handlers.length,s=i[t];s&&r!=!s.handlers.length&&(n.removeEventListener(t,this.handleEvent),s=null),s||n.addEventListener(t,this.handleEvent,{passive:r})}for(let t in i)"scroll"==t||e[t]||n.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Ye.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),Y.android&&Y.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!Y.ios||t.synthetic||t.altKey||t.metaKey||!((e=Ge.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Ke.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,T(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0)))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Y.safari&&!Y.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ue(t,e){return(i,n)=>{try{return e.call(t,n,i)}catch(t){se(i.state,t)}}}function je(t){let e=Object.create(null);function i(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let n in t.domEventHandlers){let r=t.domEventHandlers[n];r&&i(n).handlers.push(Ue(e.value,r))}if(t&&t.domEventObservers)for(let n in t.domEventObservers){let r=t.domEventObservers[n];r&&i(n).observers.push(Ue(e.value,r))}}for(let t in ti)i(t).handlers.push(ti[t]);for(let t in ei)i(t).observers.push(ei[t]);return e}const Ge=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ke="dthko",Ye=[16,17,18,20,91,92,224,225];function Ze(t){return.7*Math.max(0,t)+8}class Je{constructor(t,e,i,r){this.view=t,this.startEvent=e,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e,i,n=t.ownerDocument;for(let r=t.parentNode;r&&!(r==n.body||e&&i);)if(1==r.nodeType)!i&&r.scrollHeight>r.clientHeight&&(i=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}return{x:e,y:i}}(t.contentDOM),this.atoms=t.state.facet(ge).map((e=>e(t)));let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(n.EditorState.allowMultipleSelections)&&function(t,e){let i=t.state.facet(qt);return i.length?i[0](e):Y.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:i}=t.state.selection;if(i.empty)return!1;let n=u(t.root);if(!n||0==n.rangeCount)return!0;let r=n.getRangeAt(0).getClientRects();for(let t=0;t<r.length;t++){let i=r[t];if(i.left<=e.clientX&&i.right>=e.clientX&&i.top<=e.clientY&&i.bottom>=e.clientY)return!0}return!1}(t,e)||1!=fi(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(e=this.startEvent,i=t,Math.max(Math.abs(e.clientX-i.clientX),Math.abs(e.clientY-i.clientY))<10))return;var e,i;this.select(this.lastEvent=t);let n=0,r=0,s=0,o=0,a=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:l}=this.scrollParents.y.getBoundingClientRect());let h=we(this.view);t.clientX-h.left<=s+6?n=-Ze(s-t.clientX):t.clientX+h.right>=a-6&&(n=Ze(t.clientX-a)),t.clientY-h.top<=o+6?r=-Ze(o-t.clientY):t.clientY+h.bottom>=l-6&&(r=Ze(t.clientY-l)),this.setScrollSpeed(n,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let i=0;i<t.ranges.length;i++){let r=t.ranges[i],s=null;if(r.empty){let t=Qe(this.atoms,r.from,0);t!=r.from&&(s=n.EditorSelection.cursor(t,-1))}else{let t=Qe(this.atoms,r.from,-1),e=Qe(this.atoms,r.to,1);t==r.from&&e==r.to||(s=n.EditorSelection.range(r.from==r.anchor?t:e,r.from==r.head?t:e))}s&&(e||(e=t.ranges.slice()),e[i]=s)}return e?n.EditorSelection.create(e,t.mainIndex):t}select(t){let{view:e}=this,i=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&i.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const ti=Object.create(null),ei=Object.create(null),ii=Y.ie&&Y.ie_version<15||Y.ios&&Y.webkit_version<604;function ni(t,e,i){for(let n of t.facet(e))i=n(i,t);return i}function ri(t,e){e=ni(t.state,Yt,e);let i,{state:r}=t,s=1,o=r.toText(e),a=o.lines==r.selection.ranges.length;if(null!=gi&&r.selection.ranges.every((t=>t.empty))&&gi==o.toString()){let t=-1;i=r.changeByRange((i=>{let l=r.doc.lineAt(i.from);if(l.from==t)return{range:i};t=l.from;let h=r.toText((a?o.line(s++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:h},range:n.EditorSelection.cursor(i.from+h.length)}}))}else i=a?r.changeByRange((t=>{let e=o.line(s++);return{changes:{from:t.from,to:t.to,insert:e.text},range:n.EditorSelection.cursor(t.from+e.length)}})):r.replaceSelection(o);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}function si(t,e,i,r){if(1==r)return n.EditorSelection.cursor(e,i);if(2==r)return function(t,e,i=1){let r=t.charCategorizer(e),s=t.doc.lineAt(e),o=e-s.from;if(0==s.length)return n.EditorSelection.cursor(e);0==o?i=1:o==s.length&&(i=-1);let a=o,l=o;i<0?a=(0,n.findClusterBreak)(s.text,o,!1):l=(0,n.findClusterBreak)(s.text,o);let h=r(s.text.slice(a,l));for(;a>0;){let t=(0,n.findClusterBreak)(s.text,a,!1);if(r(s.text.slice(t,a))!=h)break;a=t}for(;l<s.length;){let t=(0,n.findClusterBreak)(s.text,l);if(r(s.text.slice(l,t))!=h)break;l=t}return n.EditorSelection.range(a+s.from,l+s.from)}(t.state,e,i);{let i=bt.find(t.docView,e),r=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:r.from,o=i?i.posAtEnd:r.to;return o<t.state.doc.length&&o==r.to&&o++,n.EditorSelection.range(s,o)}}ei.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},ti.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),ei.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},ei.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},ti.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let n of t.state.facet(Xt))if(i=n(t,e),i)break;if(i||0!=e.button||(i=function(t,e){let i=li(t,e),r=fi(e),s=t.state.selection;return{update(t){t.docChanged&&(i.pos=t.changes.mapPos(i.pos),s=s.map(t.changes))},get(e,o,a){let l,h=li(t,e),c=si(t,h.pos,h.bias,r);if(i.pos!=h.pos&&!o){let e=si(t,i.pos,i.bias,r),s=Math.min(e.from,c.from),o=Math.max(e.to,c.to);c=s<c.from?n.EditorSelection.range(s,o):n.EditorSelection.range(o,s)}return o?s.replaceRange(s.main.extend(c.from,c.to)):a&&1==r&&s.ranges.length>1&&(l=function(t,e){for(let i=0;i<t.ranges.length;i++){let{from:r,to:s}=t.ranges[i];if(r<=e&&s>=e)return n.EditorSelection.create(t.ranges.slice(0,i).concat(t.ranges.slice(i+1)),t.mainIndex==i?0:t.mainIndex-(t.mainIndex>i?1:0))}return null}(s,h.pos))?l:a?s.addRange(c):n.EditorSelection.create([c])}}}(t,e)),i){let n=!t.hasFocus;t.inputState.startMouseSelection(new Je(t,e,i,n)),n&&t.observer.ignore((()=>{A(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let r=t.inputState.mouseSelection;if(r)return r.start(e),!1===r.dragging}return!1};let oi=(t,e,i)=>e>=i.top&&e<=i.bottom&&t>=i.left&&t<=i.right;function ai(t,e,i,n){let r=bt.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&oi(i,n,o))return-1;let a=r.coordsAt(s,1);return a&&oi(i,n,a)?1:o&&o.bottom>=n?-1:1}function li(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:i,bias:ai(t,i,e.clientX,e.clientY)}}const hi=Y.ie&&Y.ie_version<=11;let ci=null,ui=0,di=0;function fi(t){if(!hi)return t.detail;let e=ci,i=di;return ci=t,di=Date.now(),ui=!e||i>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(ui+1)%3:1}function pi(t,e,i,n){if(!(i=ni(t.state,Yt,i)))return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=n&&s&&function(t,e){let i=t.state.facet(Ht);return i.length?i[0](e):Y.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,a={from:r,insert:i},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}ti.dragstart=(t,e)=>{let{selection:{main:i}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let t=r.posAtStart,e=t+r.length;(t>=i.to||e<=i.from)&&(i=n.EditorSelection.range(t,e))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=i,e.dataTransfer&&(e.dataTransfer.setData("Text",ni(t.state,Zt,t.state.sliceDoc(i.from,i.to))),e.dataTransfer.effectAllowed="copyMove"),!1},ti.dragend=t=>(t.inputState.draggedContent=null,!1),ti.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let i=e.dataTransfer.files;if(i&&i.length){let n=Array(i.length),r=0,s=()=>{++r==i.length&&pi(t,e,n.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<i.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(n[t]=e.result),s()},e.readAsText(i[t])}return!0}{let i=e.dataTransfer.getData("Text");if(i)return pi(t,e,i,!0),!0}return!1},ti.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let i=ii?null:e.clipboardData;return i?(ri(t,i.getData("text/plain")||i.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((()=>{t.focus(),i.remove(),ri(t,i.value)}),50)}(t),!1)};let gi=null;ti.copy=ti.cut=(t,e)=>{let{text:i,ranges:n,linewise:r}=function(t){let e=[],i=[],n=!1;for(let n of t.selection.ranges)n.empty||(e.push(t.sliceDoc(n.from,n.to)),i.push(n));if(!e.length){let r=-1;for(let{from:n}of t.selection.ranges){let s=t.doc.lineAt(n);s.number>r&&(e.push(s.text),i.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),r=s.number}n=!0}return{text:ni(t,Zt,e.join(t.lineBreak)),ranges:i,linewise:n}}(t.state);if(!i&&!r)return!1;gi=r?i:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=ii?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",i),!0):(function(t,e){let i=t.dom.parentNode;if(!i)return;let n=i.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout((()=>{n.remove(),t.focus()}),50)}(t,i),!1)};const mi=n.Annotation.define();function vi(t,e){let i=[];for(let n of t.facet(Kt)){let r=n(t,e);r&&i.push(r)}return i?t.update({effects:i,annotations:mi.of(!0)}):null}function bi(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let i=vi(t.state,e);i?t.dispatch(i):t.update([])}}),10)}ei.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),bi(t)},ei.blur=t=>{t.observer.clearSelectionRange(),bi(t)},ei.compositionstart=ei.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},ei.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Y.chrome&&Y.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50))},ei.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},ti.beforeinput=(t,e)=>{var i,n;if("insertReplacementText"==e.inputType&&t.observer.editContext){let n=null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("text/plain"),r=e.getTargetRanges();if(n&&r.length){let e=r[0],i=t.posAtDOM(e.startContainer,e.startOffset),s=t.posAtDOM(e.endContainer,e.endOffset);return He(t,{from:i,to:s,insert:t.state.toText(n)},null),!0}}let r;if(Y.chrome&&Y.android&&(r=Ge.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return Y.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),Y.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>ei.compositionend(t,e)),20),!1};const wi=new Set;const yi=["pre-wrap","normal","pre-line","break-spaces"];let xi=!1;function ki(){xi=!1}class Si{constructor(t){this.lineWrapping=t,this.doc=n.Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return yi.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(10*n)]||(e=!0,this.heightSamples[Math.floor(10*n)]=!0)}return e}refresh(t,e,i,n,r,s){let o=yi.indexOf(t)>-1,a=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=i,this.textHeight=n,this.lineLength=r,a){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}}class Oi{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Ci{constructor(t,e,i,n,r){this.from=t,this.length=e,this.top=i,this.height=n,this._content=r}get type(){return"number"==typeof this._content?ut.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof gt?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Ci(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Ai=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ai||(Ai={}));const Mi=.001;class Ti{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Mi&&(xi=!0),this.height=t)}replace(t,e,i){return Ti.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let r=this,s=i.doc;for(let o=n.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:h,toB:c}=n[o],u=r.lineAt(a,Ai.ByPosNoHeight,i.setDoc(e),0,0),d=u.to>=l?u:r.lineAt(l,Ai.ByPosNoHeight,i,0,0);for(c+=d.to-l,l=d.to;o>0&&u.from<=n[o-1].toA;)a=n[o-1].fromA,h=n[o-1].fromB,o--,a<u.from&&(u=r.lineAt(a,Ai.ByPosNoHeight,i,0,0));h+=u.from-a,a=u.from;let f=Li.build(i.setDoc(s),t,h,c);r=Pi(r,r.replace(a,l,f))}return r.updateHeight(i,0)}static empty(){return new Ei(0,0)}static of(t){if(1==t.length)return t[0];let e=0,i=t.length,n=0,r=0;for(;;)if(e==i)if(n>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),i+=1+r.break,n-=r.size}else{if(!(r>2*n))break;{let e=t[i];e.break?t.splice(i,1,e.left,null,e.right):t.splice(i,1,e.left,e.right),i+=2+e.break,r-=e.size}}else if(n<r){let i=t[e++];i&&(n+=i.size)}else{let e=t[--i];e&&(r+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,i++),new Bi(Ti.of(t.slice(0,e)),s,Ti.of(t.slice(i)))}}function Pi(t,e){return t==e?t:(t.constructor!=e.constructor&&(xi=!0),e)}Ti.prototype.size=1;class Di extends Ti{constructor(t,e,i){super(t,e),this.deco=i}blockAt(t,e,i,n){return new Ci(n,this.length,i,this.height,this.deco||0)}lineAt(t,e,i,n,r){return this.blockAt(0,i,n,r)}forEachLine(t,e,i,n,r,s){t<=r+this.length&&e>=r&&s(this.blockAt(0,i,n,r))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ei extends Di{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,i,n){return new Ci(n,this.length,i,this.height,this.breaks)}replace(t,e,i){let n=i[0];return 1==i.length&&(n instanceof Ei||n instanceof Ri&&4&n.flags)&&Math.abs(this.length-n.length)<10?(n instanceof Ri?n=new Ei(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Ti.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(n.heights[n.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ri extends Ti{constructor(t){super(t,0)}heightMetrics(t,e){let i,n=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,s=r-n+1,o=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);i=e/s,this.length>s+1&&(o=(this.height-e)/(this.length-s-1))}else i=this.height/s;return{firstLine:n,lastLine:r,perLine:i,perChar:o}}blockAt(t,e,i,n){let{firstLine:r,lastLine:s,perLine:o,perChar:a}=this.heightMetrics(e,n);if(e.lineWrapping){let r=n+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length)),s=e.doc.lineAt(r),l=o+s.length*a,h=Math.max(i,t-l/2);return new Ci(s.from,s.length,h,l,0)}{let n=Math.max(0,Math.min(s-r,Math.floor((t-i)/o))),{from:a,length:l}=e.doc.line(r+n);return new Ci(a,l,i+o*n,o,0)}}lineAt(t,e,i,n,r){if(e==Ai.ByHeight)return this.blockAt(t,i,n,r);if(e==Ai.ByPosNoHeight){let{from:e,to:n}=i.doc.lineAt(t);return new Ci(e,n-e,0,0,0)}let{firstLine:s,perLine:o,perChar:a}=this.heightMetrics(i,r),l=i.doc.lineAt(t),h=o+l.length*a,c=l.number-s,u=n+o*c+a*(l.from-r-c);return new Ci(l.from,l.length,Math.max(n,Math.min(u,n+this.height-h)),h,0)}forEachLine(t,e,i,n,r,s){t=Math.max(t,r),e=Math.min(e,r+this.length);let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,r);for(let h=t,c=n;h<=e;){let e=i.doc.lineAt(h);if(h==t){let i=e.number-o;c+=a*i+l*(t-r-i)}let n=a+l*e.length;s(new Ci(e.from,e.length,c,n,0)),c+=n,h=e.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let t=i[i.length-1];t instanceof Ri?i[i.length-1]=new Ri(t.length+n):i.push(null,new Ri(n-1))}if(t>0){let e=i[0];e instanceof Ri?i[0]=new Ri(t+e.length):i.unshift(new Ri(t-1),null)}return Ti.of(i)}decomposeLeft(t,e){e.push(new Ri(t-1),null)}decomposeRight(t,e){e.push(null,new Ri(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let r=e+this.length;if(n&&n.from<=e+this.length&&n.more){let i=[],s=Math.max(e,n.from),o=-1;for(n.from>e&&i.push(new Ri(n.from-e-1).updateHeight(t,e));s<=r&&n.more;){let e=t.doc.lineAt(s).length;i.length&&i.push(null);let r=n.heights[n.index++];-1==o?o=r:Math.abs(r-o)>=Mi&&(o=-2);let a=new Ei(e,r);a.outdated=!1,i.push(a),s+=e+1}s<=r&&i.push(null,new Ri(r-s).updateHeight(t,s));let a=Ti.of(i);return(o<0||Math.abs(a.height-this.height)>=Mi||Math.abs(o-this.heightMetrics(t,e).perLine)>=Mi)&&(xi=!0),Pi(this,a)}return(i||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Bi extends Ti{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return 1&this.flags}blockAt(t,e,i,n){let r=i+this.left.height;return t<r?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,r,n+this.left.length+this.break)}lineAt(t,e,i,n,r){let s=n+this.left.height,o=r+this.left.length+this.break,a=e==Ai.ByHeight?t<s:t<o,l=a?this.left.lineAt(t,e,i,n,r):this.right.lineAt(t,e,i,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let h=e==Ai.ByPosNoHeight?Ai.ByPosNoHeight:Ai.ByPos;return a?l.join(this.right.lineAt(o,h,i,s,o)):this.left.lineAt(o,h,i,n,r).join(l)}forEachLine(t,e,i,n,r,s){let o=n+this.left.height,a=r+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,n,r,s),e>=a&&this.right.forEachLine(t,e,i,o,a,s);else{let l=this.lineAt(a,Ai.ByPos,i,n,r);t<l.from&&this.left.forEachLine(t,l.from-1,i,n,r,s),l.to>=t&&l.from<=e&&s(l),e>l.to&&this.right.forEachLine(l.to+1,e,i,o,a,s)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let r=[];t>0&&this.decomposeLeft(t,r);let s=r.length;for(let t of i)r.push(t);if(t>0&&Ni(r,s-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Ni(r,t)}return Ti.of(r)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Ti.of(this.break?[t,null,e]:[t,e]):(this.left=Pi(this.left,t),this.right=Pi(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:r,right:s}=this,o=e+r.length+this.break,a=null;return n&&n.from<=e+r.length&&n.more?a=r=r.updateHeight(t,e,i,n):r.updateHeight(t,e,i),n&&n.from<=o+s.length&&n.more?a=s=s.updateHeight(t,o,i,n):s.updateHeight(t,o,i),a?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ni(t,e){let i,n;null==t[e]&&(i=t[e-1])instanceof Ri&&(n=t[e+1])instanceof Ri&&t.splice(e-1,3,new Ri(i.length+1+n.length))}class Li{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ei?i.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Ei(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,r=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let s=e-t;i.block?this.addBlock(new Di(s,n,i)):(s||r||n>=5)&&this.addLineDeco(n,r,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Ei(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new Ri(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Ei)return t;let e=new Ei(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,t),n.breaks+=e,this.writtenTo=this.pos=this.pos+i}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Ei||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Ei(0,-1));let i=t;for(let t of this.nodes)t instanceof Ei&&t.updateHeight(this.oracle,i),i+=t?t.length:1;return this.nodes}static build(t,e,i,r){let s=new Li(i,t);return n.RangeSet.spans(e,i,r,s,0),s.finish(i)}}class Ii{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&vt(t,e,this.changes,5)}}function Qi(t,e){let i=t.getBoundingClientRect(),n=t.ownerDocument,r=n.defaultView||window,s=Math.max(0,i.left),o=Math.min(r.innerWidth,i.right),a=Math.max(0,i.top),l=Math.min(r.innerHeight,i.bottom);for(let e=t.parentNode;e&&e!=n.body;)if(1==e.nodeType){let i=e,n=window.getComputedStyle(i);if((i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)&&"visible"!=n.overflow){let n=i.getBoundingClientRect();s=Math.max(s,n.left),o=Math.min(o,n.right),a=Math.max(a,n.top),l=Math.min(e==t.parentNode?r.innerHeight:l,n.bottom)}e="absolute"==n.position||"fixed"==n.position?i.offsetParent:i.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:s-i.left,right:Math.max(s,o)-i.left,top:a-(i.top+e),bottom:Math.max(a,l)-(i.top+e)}}function _i(t,e){let i=t.getBoundingClientRect();return{left:0,right:i.right-i.left,top:e,bottom:i.bottom-(i.top+e)}}class zi{constructor(t,e,i,n){this.from=t,this.to=e,this.size=i,this.displaySize=n}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],r=e[i];if(n.from!=r.from||n.to!=r.to||n.size!=r.size)return!1}return!0}draw(t,e){return dt.replace({widget:new Vi(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class Vi extends ct{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Fi{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Hi,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ot.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(de).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new Si(e),this.stateDeco=t.facet(fe).filter((t=>"function"!=typeof t)),this.heightMap=Ti.empty().applyChanges(this.stateDeco,n.Text.empty,this.heightOracle.setDoc(t.doc),[new xe(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=dt.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some((({from:t,to:e})=>n>=t&&n<=e))){let{from:e,to:i}=this.lineBlockAt(n);t.push(new $i(e,i))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?Hi:new Xi(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(Ui(t,this.scaler))}))}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(fe).filter((t=>"function"!=typeof t));let r=t.changedRanges,s=xe.extendWithRanges(r,function(t,e,i){let r=new Ii;return n.RangeSet.compare(t,e,i,r,0),r.changes}(i,this.stateDeco,t?t.changes:n.ChangeSet.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);ki(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||xi)&&(t.flags|=2),a?(this.scrollAnchorPos=t.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let h=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,t.flags|=this.updateForViewport(),(h||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(te)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?Ot.RTL:Ot.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=e.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let h=0,c=0;if(a.width&&a.height){let{scaleX:t,scaleY:i}=k(e,a);(t>.005&&Math.abs(this.scaleX-t)>.005||i>.005&&Math.abs(this.scaleY-i)>.005)&&(this.scaleX=t,this.scaleY=i,h|=8,o=l=!0)}let u=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,h|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=t.scrollDOM.clientWidth,h|=8);let f=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=D(t.scrollDOM);let p=(this.printing?_i:Qi)(e,this.paddingTop),g=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let b=a.width;if(this.contentDOMWidth==b&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=t.scrollDOM.clientHeight,h|=8),l){let e=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(e)&&(o=!0),o||r.lineWrapping&&Math.abs(b-this.contentDOMWidth)>r.charWidth){let{lineHeight:i,charWidth:n,textHeight:a}=t.docView.measureTextSize();o=i>0&&r.refresh(s,i,n,a,b/n,e),o&&(t.docView.minWidth=0,h|=8)}g>0&&m>0?c=Math.max(g,m):g<0&&m<0&&(c=Math.min(g,m)),ki();for(let i of this.viewports){let s=i.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(i);this.heightMap=(o?Ti.empty().applyChanges(this.stateDeco,n.Text.empty,this.heightOracle,[new xe(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new Oi(i.from,s))}xi&&(h|=2)}let w=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(2&h&&(h|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),h|=this.updateForViewport()),(2&h||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,r=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,a=new $i(n.lineAt(s-1e3*i,Ai.ByHeight,r,0,0).from,n.lineAt(o+1e3*(1-i),Ai.ByHeight,r,0,0).to);if(e){let{head:t}=e.range;if(t<a.from||t>a.to){let i,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=n.lineAt(t,Ai.ByPos,r,0,0);i="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<a.from?o.top:o.bottom-s,a=new $i(n.lineAt(i-500,Ai.ByHeight,r,0,0).from,n.lineAt(i+s+500,Ai.ByHeight,r,0,0).to)}}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new $i(this.heightMap.lineAt(i,Ai.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Ai.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,Ai.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(e,Ai.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||n<=s-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||r>=o+Math.max(10,Math.min(i,250)))&&n>s-2e3&&r<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new zi(e.mapPos(n.from),e.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=Ot.LTR&&!i)return[];let a=[],l=(r,o,h,c)=>{if(o-r<s)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let t of d)if(t>r&&t<o)return l(r,t-10,h,c),void l(t+10,o,h,c);let f=function(t,e){for(let i of t)if(e(i))return i;return}(t,(t=>t.from>=h.from&&t.to<=h.to&&Math.abs(t.from-r)<s&&Math.abs(t.to-o)<s&&!d.some((e=>t.from<e&&t.to>e))));if(!f){if(o<h.to&&e&&i&&e.visibleRanges.some((t=>t.from<=o&&t.to>=o))){let t=e.moveToLineBoundary(n.EditorSelection.cursor(o),!1,!0).head;t>r&&(o=t)}let t=this.gapSize(h,r,o,c);f=new zi(r,o,t,i||t<2e6?t:2e6)}a.push(f)},h=e=>{if(e.length<o||e.type!=ut.Text)return;let s=function(t,e,i){let r=[],s=t,o=0;n.RangeSet.spans(i,t,e,{span(){},point(t,e){t>s&&(r.push({from:s,to:t}),o+=t-s),s=e}},20),s<e&&(r.push({from:s,to:e}),o+=e-s);return{total:o,ranges:r}}(e.from,e.to,this.stateDeco);if(s.total<o)return;let a,h,c=this.scrollTarget?this.scrollTarget.range.head:null;if(i){let t,i,n=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=qi(s,c),o=((this.visibleBottom-this.visibleTop)/2+n)/e.height;t=r-o,i=r+o}else t=(this.visibleTop-e.top-n)/e.height,i=(this.visibleBottom-e.top+n)/e.height;a=Wi(s,t),h=Wi(s,i)}else{let i=s.total*this.heightOracle.charWidth,n=r*this.heightOracle.charWidth,o=0;if(i>2e6)for(let i of t)i.from>=e.from&&i.from<e.to&&i.size!=i.displaySize&&i.from*this.heightOracle.charWidth+o<this.pixelViewport.left&&(o=i.size-i.displaySize);let l,u,d=this.pixelViewport.left+o,f=this.pixelViewport.right+o;if(null!=c){let t=qi(s,c),e=((f-d)/2+n)/i;l=t-e,u=t+e}else l=(d-n)/i,u=(f+n)/i;a=Wi(s,l),h=Wi(s,u)}a>e.from&&l(e.from,a,e,s),h<e.to&&l(h,e.to,e,s)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(h):h(t);return a}gapSize(t,e,i,n){let r=qi(n,i)-qi(n,e);return this.heightOracle.lineWrapping?t.height*r:n.total*this.heightOracle.charWidth*r}updateLineGaps(t){zi.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=dt.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];n.RangeSet.spans(t,this.viewport.from,this.viewport.to,{span(t,i){e.push({from:t,to:i})},point(){}},20);let i=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,i)=>t.from!=e[i].from||t.to!=e[i].to));return this.visibleRanges=e,i?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||Ui(this.heightMap.lineAt(t,Ai.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||Ui(this.heightMap.lineAt(this.scaler.fromDOM(t),Ai.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Ui(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class $i{constructor(t,e){this.from=t,this.to=e}}function Wi({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let n=Math.floor(t*i);for(let t=0;;t++){let{from:i,to:r}=e[t],s=r-i;if(n<=s)return i+n;n-=s}}function qi(t,e){let i=0;for(let{from:n,to:r}of t.ranges){if(e<=r){i+=e-n;break}i+=r-n}return i/t.total}const Hi={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class Xi{constructor(t,e,i){let n=0,r=0,s=0;this.viewports=i.map((({from:i,to:r})=>{let s=e.lineAt(i,Ai.ByPos,t,0,0).top,o=e.lineAt(r,Ai.ByPos,t,0,0).bottom;return n+=o-s,{from:i,to:r,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-n)/(e.height-n);for(let t of this.viewports)t.domTop=s+(t.top-r)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),r=t.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.top)return n+(t-i)*this.scale;if(t<=r.bottom)return r.domTop+(t-r.top);i=r.bottom,n=r.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.domTop)return i+(t-n)/this.scale;if(t<=r.domBottom)return r.top+(t-r.domTop);i=r.bottom,n=r.domBottom}}eq(t){return t instanceof Xi&&(this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,i)=>e.from==t.viewports[i].from&&e.to==t.viewports[i].to)))}}function Ui(t,e){if(1==e.scale)return t;let i=e.toDOM(t.top),n=e.toDOM(t.bottom);return new Ci(t.from,t.length,i,n-i,Array.isArray(t._content)?t._content.map((t=>Ui(t,e))):t._content)}const ji=n.Facet.define({combine:t=>t.join(" ")}),Gi=n.Facet.define({combine:t=>t.indexOf(!0)>-1}),Ki=r.StyleModule.newName(),Yi=r.StyleModule.newName(),Zi=r.StyleModule.newName(),Ji={"&light":"."+Yi,"&dark":"."+Zi};function tn(t,e,i){return new r.StyleModule(e,{finish(e){return/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!i||!i[e])throw new RangeError(`Unsupported selector: ${e}`);return i[e]})):t+" "+e}})}const en=tn("."+Ki,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Ji),nn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},rn=Y.ie&&Y.ie_version<=11;class sn{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new S,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(Y.ie&&Y.ie_version<=11||Y.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===t.constructor.EDIT_CONTEXT||Y.chrome&&Y.chrome_version<126||(this.editContext=new ln(t),t.state.facet(oe)&&(t.contentDOM.editContext=this.editContext.editContext)),rn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,i)=>e!=t[i])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(oe)?i.root.activeElement!=this.dom:!f(this.dom,n))return;let r=n.anchorNode&&i.docView.nearest(n.anchorNode);r&&r.ignoreEvent(t)?e||(this.selectionChanged=!1):(Y.ie&&Y.ie_version<=11||Y.android&&Y.chrome)&&!i.state.selection.main.empty&&n.focusNode&&g(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=u(t.root);if(!e)return!1;let i=Y.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return an(t,i)}let i=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),i=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),i?an(t,i):null}(this.view,e)||e;if(!i||this.selectionRange.eq(i))return!1;let n=f(this.dom,i);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let i=e.focusNode,n=e.focusOffset;if(!i||e.anchorNode!=i||e.anchorOffset!=n)return!1;for(n=Math.min(n,w(i));;)if(n){if(1!=i.nodeType)return!1;let t=i.childNodes[n-1];"false"==t.contentEditable?n--:(i=t,n=w(i))}else{if(i==t)return!0;n=m(i),i=i.parentNode}}(this.dom,i)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(1==i.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,nn),rn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),rn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;if(t){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&T(this.dom,t.key,t.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(i=this.delayedAndroidKey)||void 0===i?void 0:i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let r of t){let t=this.readMutation(r);t&&(t.typeOver&&(n=!0),-1==e?({from:e,to:i}=t):(e=Math.min(t.from,e),i=Math.max(t.to,i)))}return{from:e,to:i,typeOver:n}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),n=this.selectionChanged&&f(this.dom,this.selectionRange);if(t<0&&!n)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new We(this.view,t,e,i);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let i=this.view.state,n=qe(this.view,e);return this.view.state==i&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let i=on(e,t.previousSibling||t.target.previousSibling,-1),n=on(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(oe)!=t.state.facet(oe)&&(t.view.contentDOM.editContext=t.state.facet(oe)?this.editContext.editContext:null))}destroy(){var t,e,i;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(i=this.resizeScroll)||void 0===i||i.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function on(t,e,i){for(;e;){let n=L.get(e);if(n&&n.parent==t)return n;let r=e.parentNode;e=r!=t.dom?r:i>0?e.nextSibling:e.previousSibling}return null}function an(t,e){let i=e.startContainer,n=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return g(o.node,o.offset,r,s)&&([i,n,r,s]=[r,s,i,n]),{anchorNode:i,anchorOffset:n,focusNode:r,focusOffset:s}}class ln{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=e=>{let{anchor:i}=t.state.selection.main,r={from:this.toEditorPos(e.updateRangeStart),to:this.toEditorPos(e.updateRangeEnd),insert:n.Text.of(e.text.split("\n"))};r.from==this.from&&i<this.from?r.from=i:r.to==this.to&&i>this.to&&(r.to=i),(r.from!=r.to||r.insert.length)&&(this.pendingContextChange=r,t.state.readOnly||He(t,r,n.EditorSelection.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=i=>{let n=[],r=null;for(let e=this.toEditorPos(i.rangeStart),s=this.toEditorPos(i.rangeEnd);e<s;e++){let i=t.coordsForChar(e);r=i&&new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)||r||new DOMRect,n.push(r)}e.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=e=>{let i=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,n=t.underlineThickness;if("None"!=e&&"None"!=n){let r=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==n?1:2}px`;i.push(dt.mark({attributes:{style:r}}).range(this.toEditorPos(t.rangeStart),this.toEditorPos(t.rangeEnd)))}}t.dispatch({effects:re.of(dt.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null};for(let t in this.handlers)e.addEventListener(t,this.handlers[t]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=u(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,i=!1,n=this.pendingContextChange;return t.changes.iterChanges(((r,s,o,a,l)=>{if(i)return;let h=l.length-(s-r);if(n&&s>=n.to){if(n.from==r&&n.to==s&&n.insert.eq(l))return n=this.pendingContextChange=null,e+=h,void(this.to+=h);n=null,this.revertPending(t.state)}if(r+=e,(s+=e)<=this.from)this.from+=h,this.to+=h;else if(r<this.to){if(r<this.from||s>this.to||this.to-this.from+l.length>3e4)return void(i=!0);this.editContext.updateText(this.toContextPos(r),this.toContextPos(s),l.toString()),this.to+=h}e+=h})),n&&!i&&this.revertPending(t.state),!i}update(t){let e=this.pendingContextChange;this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),n=this.toContextPos(e.head);this.editContext.selectionStart==i&&this.editContext.selectionEnd==n||this.editContext.updateSelection(i,n)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class hn{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:i}=t;this.dispatchTransactions=t.dispatchTransactions||i&&(t=>t.forEach((t=>i(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new Fi(t.state||n.EditorState.create(t)),t.scrollTo&&t.scrollTo.is(ne)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(le).map((t=>new ce(t)));for(let t of this.plugins)t.update(this);this.observer=new sn(this),this.inputState=new Xe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Se(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(e=document.fonts)||void 0===e?void 0:e.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...t){let e=1==t.length&&t[0]instanceof n.Transaction?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,i=!1,r=!1,s=this.state;for(let e of t){if(e.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=e.state}if(this.destroyed)return void(this.viewState.state=s);let o=this.hasFocus,a=0,l=null;t.some((t=>t.annotation(mi)))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=vi(s,o),l||(a=1));let h=this.observer.delayedAndroidKey,c=null;if(h?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(n.EditorState.phrases)!=this.state.facet(n.EditorState.phrases))return this.setState(s);e=ke.create(this,s,t),e.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(u&&(u=u.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;u=new ie(t.empty?t:n.EditorSelection.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(ne)&&(u=t.value.clip(this.state))}this.viewState.update(e,u),this.bidiCache=dn.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),i=this.docView.update(e),this.state.facet(ye)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(i,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(ji)!=e.state.facet(ji)&&(this.viewState.mustMeasureContent=!0),(i||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(jt))try{t(e)}catch(t){se(this.state,t,"update listener")}(l||c)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!qe(this,c)&&h.force&&T(this.contentDOM,h.key,h.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Fi(t),this.plugins=t.facet(le).map((t=>new ce(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new Se(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(le),i=t.state.facet(le);if(e!=i){let n=[];for(let r of i){let i=e.indexOf(r);if(i<0)n.push(new ce(r));else{let e=this.plugins[i];e.mustUpdate=t,n.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){se(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:s}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if(D(i))r=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(n);r=t.from,s=t.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&o||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map((t=>{try{return t.read(this)}catch(t){return se(this.state,t),un}})),h=ke.create(this,this.state,[]),c=!1;h.flags|=o,e?e.flags|=o:e=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),c=this.docView.update(h),c&&this.docViewUpdate());for(let t=0;t<a.length;t++)if(l[t]!=un)try{let e=a[t];e.write&&e.write(l[t],this)}catch(t){se(this.state,t)}if(c&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let t=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-s;if(t>1||t<-1){n+=t,i.scrollTop=n/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(jt))t(e)}get themeClasses(){return Ki+" "+(this.state.facet(Gi)?Zi:Yi)+" "+this.state.facet(ji)}updateAttrs(){let t=fn(this,ue,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(oe)?"true":"false",class:"cm-content",style:`${Y.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),fn(this,de,e);let i=this.observer.ignore((()=>{let i=lt(this.contentDOM,this.contentAttrs,e),n=lt(this.dom,this.editorAttrs,t);return i||n}));return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let t of i.effects)if(t.is(hn.announce)){e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(ye);let t=this.state.facet(hn.cspNonce);r.StyleModule.mount(this.root,this.styleModules.concat(en).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return _e(this,t,Ie(this,t,e,i))}moveByGroup(t,e){return _e(this,t,Ie(this,t,e,(e=>function(t,e,i){let r=t.state.charCategorizer(e),s=r(i);return t=>{let e=r(t);return s==n.CharCategory.Space&&(s=e),s==e}}(this,t.head,e))))}visualLineSide(t,e){let i=this.bidiSpans(t),r=this.textDirectionAt(t.from),s=i[e?i.length-1:0];return n.EditorSelection.cursor(s.side(e,r)+t.from,s.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,i=!0){return function(t,e,i,r){let s=Le(t,e.head),o=r&&s.type==ut.Text&&(t.lineWrapping||s.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(s.from),a=t.posAtCoords({x:i==(r==Ot.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=a)return n.EditorSelection.cursor(a,i?-1:1)}return n.EditorSelection.cursor(i?s.to:s.from,i?-1:1)}(this,t,e,i)}moveVertically(t,e,i){return _e(this,t,function(t,e,i,r){let s=e.head,o=i?1:-1;if(s==(i?t.state.doc.length:0))return n.EditorSelection.cursor(s,e.assoc);let a,l=e.goalColumn,h=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(s,e.assoc||-1),u=t.documentTop;if(c)null==l&&(l=c.left-h.left),a=o<0?c.top:c.bottom;else{let e=t.viewState.lineBlockAt(s);null==l&&(l=Math.min(h.right-h.left,t.defaultCharacterWidth*(s-e.from))),a=(o<0?e.top:e.bottom)+u}let d=h.left+l,f=null!=r?r:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let i=a+(f+e)*o,r=Be(t,{x:d,y:i},!1,o);if(i<h.top||i>h.bottom||(o<0?r<s:r>s)){let e=t.docView.coordsForChar(r),s=!e||i<e.top?-1:1;return n.EditorSelection.cursor(r,s,void 0,l)}}}(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Be(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),r=this.bidiSpans(n);return y(i,r[Nt.find(r,t-n.from,-1,e)].dir==Ot.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Jt)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>cn)return Vt(t.length);let e,i=this.textDirectionAt(t.from);for(let n of this.bidiCache)if(n.from==t.from&&n.dir==i&&(n.fresh||Lt(n.isolates,e=ve(this,t))))return n.order;e||(e=ve(this,t));let n=zt(t.text,i,e);return this.bidiCache.push(new dn(t.from,t.to,i,e,!0,n)),n}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Y.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{A(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return ne.of(new ie("number"==typeof t?n.EditorSelection.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,i=this.viewState.scrollAnchorAt(t);return ne.of(new ie(n.EditorSelection.cursor(i.from),"start","start",i.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return he.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return he.define((()=>({})),{eventObservers:t})}static theme(t,e){let i=r.StyleModule.newName(),n=[ji.of(i),ye.of(tn(`.${i}`,t))];return e&&e.dark&&n.push(Gi.of(!0)),n}static baseTheme(t){return n.Prec.lowest(ye.of(tn("."+Ki,t,Ji)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),n=i&&L.get(i)||L.get(t);return(null===(e=null==n?void 0:n.rootView)||void 0===e?void 0:e.view)||null}}hn.styleModule=ye,hn.inputHandler=Gt,hn.clipboardInputFilter=Yt,hn.clipboardOutputFilter=Zt,hn.scrollHandler=ee,hn.focusChangeEffect=Kt,hn.perLineTextDirection=Jt,hn.exceptionSink=Ut,hn.updateListener=jt,hn.editable=oe,hn.mouseSelectionStyle=Xt,hn.dragMovesSelection=Ht,hn.clickAddsSelectionRange=qt,hn.decorations=fe,hn.outerDecorations=pe,hn.atomicRanges=ge,hn.bidiIsolatedRanges=me,hn.scrollMargins=be,hn.darkTheme=Gi,hn.cspNonce=n.Facet.define({combine:t=>t.length?t[0]:""}),hn.contentAttributes=de,hn.editorAttributes=ue,hn.lineWrapping=hn.contentAttributes.of({class:"cm-lineWrapping"}),hn.announce=n.StateEffect.define();const cn=4096,un={};class dn{constructor(t,e,i,n,r,s){this.from=t,this.to=e,this.dir=i,this.isolates=n,this.fresh=r,this.order=s}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let i=[],n=t.length?t[t.length-1].dir:Ot.LTR;for(let r=Math.max(0,t.length-10);r<t.length;r++){let s=t[r];s.dir!=n||e.touchesRange(s.from,s.to)||i.push(new dn(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return i}}function fn(t,e,i){for(let n=t.state.facet(e),r=n.length-1;r>=0;r--){let e=n[r],s="function"==typeof e?e(t):e;s&&st(s,i)}return i}const pn=Y.mac?"mac":Y.windows?"win":Y.linux?"linux":"key";function gn(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==i&&e.shiftKey&&(t="Shift-"+t),t}const mn=n.Prec.default(hn.domEventHandlers({keydown(t,e){return On(wn(e.state),t,e,"editor")}})),vn=n.Facet.define({enables:mn}),bn=new WeakMap;function wn(t){let e=t.facet(vn),i=bn.get(e);return i||bn.set(e,i=function(t,e=pn){let i=Object.create(null),n=Object.create(null),r=(t,e)=>{let i=n[t];if(null==i)n[t]=e;else if(i!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,n,s,o,a)=>{var l,h;let c=i[t]||(i[t]=Object.create(null)),u=n.split(/ (?!$)/).map((t=>function(t,e){const i=t.split(/-(?!$)/);let n,r,s,o,a=i[i.length-1];"Space"==a&&(a=" ");for(let t=0;t<i.length-1;++t){const a=i[t];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))s=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==e?o=!0:r=!0}}return n&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),s&&(a="Shift-"+a),a}(t,e)));for(let e=1;e<u.length;e++){let i=u.slice(0,e).join(" ");r(i,!0),c[i]||(c[i]={preventDefault:!0,stopPropagation:!1,run:[e=>{let n=xn={view:e,prefix:i,scope:t};return setTimeout((()=>{xn==n&&(xn=null)}),kn),!0}]})}let d=u.join(" ");r(d,!1);let f=c[d]||(c[d]={preventDefault:!1,stopPropagation:!1,run:(null===(h=null===(l=c._any)||void 0===l?void 0:l.run)||void 0===h?void 0:h.slice())||[]});s&&f.run.push(s),o&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let n of t){let t=n.scope?n.scope.split(" "):["editor"];if(n.any)for(let e of t){let t=i[e]||(i[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:r}=n;for(let e in t)t[e].run.push((t=>r(t,Sn)))}let r=n[e]||n.key;if(r)for(let e of t)s(e,r,n.run,n.preventDefault,n.stopPropagation),n.shift&&s(e,"Shift-"+r,n.shift,n.preventDefault,n.stopPropagation)}return i}(e.reduce(((t,e)=>t.concat(e)),[]))),i}function yn(t,e,i){return On(wn(t.state),e,t,i)}let xn=null;const kn=4e3;let Sn=null;function On(t,e,i,r){Sn=e;let h=function(t){var e=!(a&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||l&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?o:s)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),c=(0,n.codePointAt)(h,0),u=(0,n.codePointSize)(c)==h.length&&" "!=h,d="",f=!1,p=!1,g=!1;xn&&xn.view==i&&xn.scope==r&&(d=xn.prefix+" ",Ye.indexOf(e.keyCode)<0&&(p=!0,xn=null));let m,v,b=new Set,w=t=>{if(t){for(let e of t.run)if(!b.has(e)&&(b.add(e),e(i)))return t.stopPropagation&&(g=!0),!0;t.preventDefault&&(t.stopPropagation&&(g=!0),p=!0)}return!1},y=t[r];return y&&(w(y[d+gn(h,e,!u)])?f=!0:u&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Y.windows&&e.ctrlKey&&e.altKey)&&(m=s[e.keyCode])&&m!=h?(w(y[d+gn(m,e,!0)])||e.shiftKey&&(v=o[e.keyCode])!=h&&v!=m&&w(y[d+gn(v,e,!1)]))&&(f=!0):u&&e.shiftKey&&w(y[d+gn(h,e,!0)])&&(f=!0),!f&&w(y._any)&&(f=!0)),p&&(f=!0),f&&g&&e.stopPropagation(),Sn=null,f}class Cn{constructor(t,e,i,n,r){this.className=t,this.left=e,this.top=i,this.width=n,this.height=r}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,i){if(i.empty){let n=t.coordsAtPos(i.head,i.assoc||1);if(!n)return[];let r=An(t);return[new Cn(e,n.left-r.left,n.top-r.top,null,n.bottom-n.top)]}return function(t,e,i){if(i.to<=t.viewport.from||i.from>=t.viewport.to)return[];let n=Math.max(i.from,t.viewport.from),r=Math.min(i.to,t.viewport.to),s=t.textDirection==Ot.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=An(t),h=o.querySelector(".cm-line"),c=h&&window.getComputedStyle(h),u=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=a.right-(c?parseInt(c.paddingRight):0),f=Le(t,n),p=Le(t,r),g=f.type==ut.Text?f:null,m=p.type==ut.Text?p:null;g&&(t.lineWrapping||f.widgetLineBreaks)&&(g=Mn(t,n,1,g));m&&(t.lineWrapping||p.widgetLineBreaks)&&(m=Mn(t,r,-1,m));if(g&&m&&g.from==m.from&&g.to==m.to)return b(w(i.from,i.to,g));{let e=g?w(i.from,null,g):y(f,!1),n=m?w(null,i.to,m):y(p,!0),r=[];return(g||f).to<(m||p).from-(g&&m?1:0)||f.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<n.top?r.push(v(u,e.bottom,d,n.top)):e.bottom<n.top&&t.elementAtHeight((e.bottom+n.top)/2).type==ut.Text&&(e.bottom=n.top=(e.bottom+n.top)/2),b(e).concat(r).concat(b(n))}function v(t,i,n,r){return new Cn(e,t-l.left,i-l.top-.01,n-t,r-i+.01)}function b({top:t,bottom:e,horizontal:i}){let n=[];for(let r=0;r<i.length;r+=2)n.push(v(i[r],t,i[r+1],e));return n}function w(e,i,n){let r=1e9,o=-1e9,a=[];function l(e,i,l,h,c){let f=t.coordsAtPos(e,e==n.to?-2:2),p=t.coordsAtPos(l,l==n.from?2:-2);f&&p&&(r=Math.min(f.top,p.top,r),o=Math.max(f.bottom,p.bottom,o),c==Ot.LTR?a.push(s&&i?u:f.left,s&&h?d:p.right):a.push(!s&&h?u:p.left,!s&&i?d:f.right))}let h=null!=e?e:n.from,c=null!=i?i:n.to;for(let n of t.visibleRanges)if(n.to>h&&n.from<c)for(let r=Math.max(n.from,h),s=Math.min(n.to,c);;){let n=t.state.doc.lineAt(r);for(let o of t.bidiSpans(n)){let t=o.from+n.from,a=o.to+n.from;if(t>=s)break;a>r&&l(Math.max(t,r),null==e&&t<=h,Math.min(a,s),null==i&&a>=c,o.dir)}if(r=n.to+1,r>=s)break}return 0==a.length&&l(h,null==e,c,null==i,t.textDirection),{top:r,bottom:o,horizontal:a}}function y(t,e){let i=a.top+(e?t.top:t.bottom);return{top:i,bottom:i,horizontal:[]}}}(t,e,i)}}function An(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Ot.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Mn(t,e,i,n){let r=t.coordsAtPos(e,2*i);if(!r)return n;let s=t.dom.getBoundingClientRect(),o=(r.top+r.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return null==a||null==l?n:{from:Math.max(n.from,Math.min(a,l)),to:Math.min(n.to,Math.max(a,l))}}class Tn{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(Pn)!=t.state.facet(Pn)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,i=t.facet(Pn);for(;e<i.length&&i[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some(((t,e)=>{return i=t,n=this.drawn[e],!(i.constructor==n.constructor&&i.eq(n));var i,n}))){let e=this.dom.firstChild,i=0;for(let n of t)n.update&&e&&n.constructor&&this.drawn[i].constructor&&n.update(e,this.drawn[i])?(e=e.nextSibling,i++):this.dom.insertBefore(n.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Pn=n.Facet.define();function Dn(t){return[he.define((e=>new Tn(e,t))),Pn.of(t)]}const En=!Y.ios,Rn=n.Facet.define({combine(t){return(0,n.combineConfig)(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function Bn(t={}){return[Rn.of(t),In,_n,Vn,te.of(!0)]}function Nn(t){return t.facet(Rn)}function Ln(t){return t.startState.facet(Rn)!=t.state.facet(Rn)}const In=Dn({above:!0,markers(t){let{state:e}=t,i=e.facet(Rn),r=[];for(let s of e.selection.ranges){let o=s==e.selection.main;if(s.empty?!o||En:i.drawRangeCursor){let e=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",i=s.empty?s:n.EditorSelection.cursor(s.head,s.head>s.anchor?-1:1);for(let n of Cn.forRange(t,e,i))r.push(n)}}return r},update(t,e){t.transactions.some((t=>t.selection))&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let i=Ln(t);return i&&Qn(t.state,e),t.docChanged||t.selectionSet||i},mount(t,e){Qn(e.state,t)},class:"cm-cursorLayer"});function Qn(t,e){e.style.animationDuration=t.facet(Rn).cursorBlinkRate+"ms"}const _n=Dn({above:!1,markers(t){return t.state.selection.ranges.map((e=>e.empty?[]:Cn.forRange(t,"cm-selectionBackground",e))).reduce(((t,e)=>t.concat(e)))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||Ln(t)},class:"cm-selectionLayer"}),zn={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};En&&(zn[".cm-line"].caretColor=zn[".cm-content"].caretColor="transparent !important");const Vn=n.Prec.highest(hn.theme(zn)),Fn=n.StateEffect.define({map(t,e){return null==t?null:e.mapPos(t)}}),$n=n.StateField.define({create(){return null},update(t,e){return null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(Fn)?e.value:t),t)}}),Wn=he.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let i=t.state.field($n);null==i?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field($n)!=i||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field($n),i=null!=e&&t.coordsAtPos(e);if(!i)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:i.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:i.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:i.bottom-i.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:i}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/i+"px",this.cursor.style.height=t.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field($n)!=t&&this.view.dispatch({effects:Fn.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function qn(){return[$n,Wn]}function Hn(t,e,i,n,r){e.lastIndex=0;for(let s,o=t.iterRange(i,n),a=i;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)r(a+s.index,s)}class Xn{constructor(t){const{regexp:e,decoration:i,decorate:n,boundary:r,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,n)this.addMatch=(t,e,i,r)=>n(r,i,i+t[0].length,t,e);else if("function"==typeof i)this.addMatch=(t,e,n,r)=>{let s=i(t,e,n);s&&r(n,n+t[0].length,s)};else{if(!i)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,n,r)=>r(n,n+t[0].length,i)}this.boundary=r,this.maxLength=s}createDeco(t){let e=new n.RangeSetBuilder,i=e.add.bind(e);for(let{from:e,to:n}of function(t,e){let i=t.visibleRanges;if(1==i.length&&i[0].from==t.viewport.from&&i[0].to==t.viewport.to)return i;let n=[];for(let{from:r,to:s}of i)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=r?n[n.length-1].to=s:n.push({from:r,to:s});return n}(t,this.maxLength))Hn(t.state.doc,this.regexp,e,n,((e,n)=>this.addMatch(n,t,e,i)));return e.finish()}updateDeco(t,e){let i=1e9,n=-1;return t.docChanged&&t.changes.iterChanges(((e,r,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(i=Math.min(s,i),n=Math.max(o,n))})),t.viewportChanged||n-i>1e3?this.createDeco(t.view):n>-1?this.updateRange(t.view,e.map(t.changes),i,n):e}updateRange(t,e,i,n){for(let r of t.visibleRanges){let s=Math.max(r.from,i),o=Math.min(r.to,n);if(o>s){let i=t.state.doc.lineAt(s),n=i.to<o?t.state.doc.lineAt(o):i,a=Math.max(r.from,i.from),l=Math.min(r.to,n.to);if(this.boundary){for(;s>i.from;s--)if(this.boundary.test(i.text[s-1-i.from])){a=s;break}for(;o<n.to;o++)if(this.boundary.test(n.text[o-n.from])){l=o;break}}let h,c=[],u=(t,e,i)=>c.push(i.range(t,e));if(i==n)for(this.regexp.lastIndex=a-i.from;(h=this.regexp.exec(i.text))&&h.index<l-i.from;)this.addMatch(h,t,h.index+i.from,u);else Hn(t.state.doc,this.regexp,a,l,((e,i)=>this.addMatch(i,t,e,u)));e=e.update({filterFrom:a,filterTo:l,filter:(t,e)=>t<a||e>l,add:c})}}return e}}const Un=null!=/x/.unicode?"gu":"g",jn=new RegExp("[\0-\b\n--\u2028\u2029\ufeff-]",Un),Gn={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Kn=null;const Yn=n.Facet.define({combine(t){let e=(0,n.combineConfig)(t,{render:null,specialChars:jn,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==Kn&&"undefined"!=typeof document&&document.body){let e=document.body.style;Kn=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return Kn||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Un)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Un)),e}});function Zn(t={}){return[Yn.of(t),Jn||(Jn=he.fromClass(class{constructor(t){this.view=t,this.decorations=dt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Yn)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Xn({regexp:t.specialChars,decoration:(e,i,r)=>{let{doc:s}=i.state,o=(0,n.codePointAt)(e[0],0);if(9==o){let t=s.lineAt(r),e=i.state.tabSize,o=(0,n.countColumn)(t.text,e,r-t.from);return dt.replace({widget:new er((e-o%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=dt.replace({widget:new tr(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Yn);t.startState.facet(Yn)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let Jn=null;class tr extends ct{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"":10==t?"":String.fromCharCode(9216+t)}(this.code),i=t.state.phrase("Control character")+" "+(Gn[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,e);if(n)return n;let r=document.createElement("span");return r.textContent=e,r.title=i,r.setAttribute("aria-label",i),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class er extends ct{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const ir=he.fromClass(class{constructor(){this.height=1e3,this.attrs={style:"padding-bottom: 1000px"}}update(t){let{view:e}=t,i=e.viewState.editorHeight-e.defaultLineHeight-e.documentPadding.top-.5;i>=0&&i!=this.height&&(this.height=i,this.attrs={style:`padding-bottom: ${i}px`})}});function nr(){return[ir,de.of((t=>{var e;return(null===(e=t.plugin(ir))||void 0===e?void 0:e.attrs)||null}))]}function rr(){return or}const sr=dt.line({class:"cm-activeLine"}),or=he.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let n of t.state.selection.ranges){let r=t.lineBlockAt(n.head);r.from>e&&(i.push(sr.range(r.from)),e=r.from)}return dt.set(i)}},{decorations:t=>t.decorations});class ar extends ct{constructor(t){super(),this.content=t}toDOM(t){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(t):this.content.cloneNode(!0)),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(t){let e=t.firstChild?p(t.firstChild):[];if(!e.length)return null;let i=window.getComputedStyle(t.parentNode),n=y(e[0],"rtl"!=i.direction),r=parseInt(i.lineHeight);return n.bottom-n.top>1.5*r?{left:n.left,right:n.right,top:n.top,bottom:n.top+r}:n}ignoreEvent(){return!1}}function lr(t){return he.fromClass(class{constructor(e){this.view=e,this.placeholder=t?dt.set([dt.widget({widget:new ar(t),side:1}).range(0)]):dt.none}get decorations(){return this.view.state.doc.length?dt.none:this.placeholder}},{decorations:t=>t.decorations})}const hr=2e3;function cr(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(i),s=i-r.from,o=s>hr?-1:s==r.length?function(t,e){let i=t.coordsAtPos(t.viewport.from);return i?Math.round(Math.abs((i.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):(0,n.countColumn)(r.text,t.state.tabSize,i-r.from);return{line:r.number,col:o,off:s}}function ur(t,e){let i=cr(t,e),r=t.state.selection;return i?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(i.line).from),n=t.state.doc.lineAt(e);i={line:n.number,col:i.col,off:Math.min(i.off,n.length)},r=r.map(t.changes)}},get(e,s,o){let a=cr(t,e);if(!a)return r;let l=function(t,e,i){let r=Math.min(e.line,i.line),s=Math.max(e.line,i.line),o=[];if(e.off>hr||i.off>hr||e.col<0||i.col<0){let a=Math.min(e.off,i.off),l=Math.max(e.off,i.off);for(let e=r;e<=s;e++){let i=t.doc.line(e);i.length<=l&&o.push(n.EditorSelection.range(i.from+a,i.to+l))}}else{let a=Math.min(e.col,i.col),l=Math.max(e.col,i.col);for(let e=r;e<=s;e++){let i=t.doc.line(e),r=(0,n.findColumn)(i.text,a,t.tabSize,!0);if(r<0)o.push(n.EditorSelection.cursor(i.to));else{let e=(0,n.findColumn)(i.text,l,t.tabSize);o.push(n.EditorSelection.range(i.from+r,i.from+e))}}}return o}(t.state,i,a);return l.length?o?n.EditorSelection.create(l.concat(r.ranges)):n.EditorSelection.create(l):r}}:null}function dr(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return hn.mouseSelectionStyle.of(((t,i)=>e(i)?ur(t,i):null))}const fr={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},pr={style:"cursor: crosshair"};function gr(t={}){let[e,i]=fr[t.key||"Alt"],n=he.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||i(t))},keyup(t){t.keyCode!=e&&i(t)||this.set(!1)},mousemove(t){this.set(i(t))}}});return[n,hn.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(n))||void 0===e?void 0:e.isDown)?pr:null}))]}const mr="-10000px";class vr{constructor(t,e,i,n){this.facet=e,this.createTooltipView=i,this.removeTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t));let r=null;this.tooltipViews=this.tooltips.map((t=>r=i(t,r)))}update(t,e){var i;let n=t.state.facet(this.facet),r=n.filter((t=>t));if(n===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let s=[],o=e?[]:null;for(let i=0;i<r.length;i++){let n=r[i],a=-1;if(n){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==n.create&&(a=t)}if(a<0)s[i]=this.createTooltipView(n,i?s[i-1]:null),o&&(o[i]=!!n.above);else{let n=s[i]=this.tooltipViews[a];o&&(o[i]=e[a]),n.update&&n.update(t)}}}for(let t of this.tooltipViews)s.indexOf(t)<0&&(this.removeTooltipView(t),null===(i=t.destroy)||void 0===i||i.call(t));return e&&(o.forEach(((t,i)=>e[i]=t)),e.length=o.length),this.input=n,this.tooltips=r,this.tooltipViews=s,!0}}function br(t={}){return yr.of(t)}function wr(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const yr=n.Facet.define({combine:t=>{var e,i,n;return{position:Y.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(i=t.find((t=>t.parent)))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(n=t.find((t=>t.tooltipSpace)))||void 0===n?void 0:n.tooltipSpace)||wr}}}),xr=new WeakMap,kr=he.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(yr);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new vr(t,Cr,((t,e)=>this.createTooltip(t,e)),(t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()})),this.above=this.manager.tooltips.map((t=>!!t.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let i=e||t.geometryChanged,n=t.state.facet(yr);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;i=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t,e){let i=t.create(this.view),n=e?e.dom:null;if(i.dom.classList.add("cm-tooltip"),t.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",i.dom.appendChild(t)}return i.dom.style.position=this.position,i.dom.style.top=mr,i.dom.style.left="0px",this.container.insertBefore(i.dom,n),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var t,e,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(i=this.intersectionObserver)||void 0===i||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,i=1,n=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(Y.gecko)n=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==mr&&"0px"==t.style.left){let e=t.getBoundingClientRect();n=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(n||"absolute"==this.position)if(this.parent){let t=this.parent.getBoundingClientRect();t.width&&t.height&&(e=t.width/this.parent.offsetWidth,i=t.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:i}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let i=this.manager.tooltipViews[e];return i.getCoords?i.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(yr).tooltipSpace(this.view),scaleX:e,scaleY:i,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{editor:i,space:n,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],h=this.manager.tooltipViews[a],{dom:c}=h,u=t.pos[a],d=t.size[a];if(!u||u.bottom<=Math.max(i.top,n.top)||u.top>=Math.min(i.bottom,n.bottom)||u.right<Math.max(i.left,n.left)-.1||u.left>Math.min(i.right,n.right)+.1){c.style.top=mr;continue}let f=l.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,g=d.right-d.left,m=null!==(e=xr.get(h))&&void 0!==e?e:d.bottom-d.top,v=h.offset||Or,b=this.view.textDirection==Ot.LTR,w=d.width>n.right-n.left?b?n.left:n.right-d.width:b?Math.max(n.left,Math.min(u.left-(f?14:0)+v.x,n.right-g)):Math.min(Math.max(n.left,u.left-g+(f?14:0)-v.x),n.right-g),y=this.above[a];!l.strictSide&&(y?u.top-(d.bottom-d.top)-v.y<n.top:u.bottom+(d.bottom-d.top)+v.y>n.bottom)&&y==n.bottom-u.bottom>u.top-n.top&&(y=this.above[a]=!y);let x=(y?u.top-n.top:n.bottom-u.bottom)-p;if(x<m&&!1!==h.resize){if(x<this.view.defaultLineHeight){c.style.top=mr;continue}xr.set(h,m),c.style.height=(m=x)/s+"px"}else c.style.height&&(c.style.height="");let k=y?u.top-m-p-v.y:u.bottom+p+v.y,S=w+g;if(!0!==h.overlap)for(let t of o)t.left<S&&t.right>w&&t.top<k+m&&t.bottom>k&&(k=y?t.top-m-2-p:t.bottom+p+2);if("absolute"==this.position?(c.style.top=(k-t.parent.top)/s+"px",c.style.left=(w-t.parent.left)/r+"px"):(c.style.top=k/s+"px",c.style.left=w/r+"px"),f){let t=u.left+(b?v.x:-v.x)-(w+14-7);f.style.left=t/r+"px"}!0!==h.overlap&&o.push({left:w,top:k,right:S,bottom:k+m}),c.classList.toggle("cm-tooltip-above",y),c.classList.toggle("cm-tooltip-below",!y),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=mr}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Sr=hn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Or={x:0,y:0},Cr=n.Facet.define({enables:[kr,Sr]}),Ar=n.Facet.define({combine:t=>t.reduce(((t,e)=>t.concat(e)),[])});class Mr{static create(t){return new Mr(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new vr(t,Ar,((t,e)=>this.createHostedView(t,e)),(t=>t.dom.remove()))}createHostedView(t,e){let i=t.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let i of this.manager.tooltipViews){let n=i[t];if(void 0!==n)if(void 0===e)e=n;else if(e!==n)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Tr=Cr.compute([Ar],(t=>{let e=t.facet(Ar);return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.map((t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos}))),create:Mr.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class Pr{constructor(t,e,i,n,r){this.view=t,this.source=e,this.field=i,this.setHover=n,this.hoverTime=r,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,i=t.docView.nearest(e.target);if(!i)return;let n,r=1;if(i instanceof tt)n=i.posAtStart;else{if(n=t.posAtCoords(e),null==n)return;let i=t.coordsAtPos(n);if(!i||e.y<i.top||e.y>i.bottom||e.x<i.left-t.defaultCharacterWidth||e.x>i.right+t.defaultCharacterWidth)return;let s=t.bidiSpans(t.state.doc.lineAt(n)).find((t=>t.from<=n&&t.to>=n)),o=s&&s.dir==Ot.RTL?-1:1;r=e.x<i.left?-o:o}let s=this.source(t,n,r);if(null==s?void 0:s.then){let e=this.pending={pos:n};s.then((i=>{this.pending==e&&(this.pending=null,!i||Array.isArray(i)&&!i.length||t.dispatch({effects:this.setHover.of(Array.isArray(i)?i:[i])}))}),(e=>se(t.state,e,"hover tooltip")))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(kr),e=t?t.manager.tooltips.findIndex((t=>t.create==Mr.create)):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,i;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:r}=this;if(n.length&&r&&!function(t,e){let i,{left:n,right:r,top:s,bottom:o}=t.getBoundingClientRect();if(i=t.querySelector(".cm-tooltip-arrow")){let t=i.getBoundingClientRect();s=Math.min(t.top,s),o=Math.max(t.bottom,o)}return e.clientX>=n-Dr&&e.clientX<=r+Dr&&e.clientY>=s-Dr&&e.clientY<=o+Dr}(r.dom,t)||this.pending){let{pos:r}=n[0]||this.pending,s=null!==(i=null===(e=n[0])||void 0===e?void 0:e.end)&&void 0!==i?i:r;(r==s?this.view.posAtCoords(this.lastMove)==r:function(t,e,i,n,r){let s=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>n||s.right<n||s.top>r||Math.min(s.bottom,o)<r)return!1;let a=t.posAtCoords({x:n,y:r},!1);return a>=e&&a<=i}(this.view,r,s,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=i=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Dr=4;function Er(t,e={}){let i=n.StateEffect.define(),r=n.StateField.define({create(){return[]},update(t,r){if(t.length&&(e.hideOnChange&&(r.docChanged||r.selection)?t=[]:e.hideOn&&(t=t.filter((t=>!e.hideOn(r,t)))),r.docChanged)){let e=[];for(let i of t){let t=r.changes.mapPos(i.pos,-1,n.MapMode.TrackDel);if(null!=t){let n=Object.assign(Object.create(null),i);n.pos=t,null!=n.end&&(n.end=r.changes.mapPos(n.end)),e.push(n)}}t=e}for(let e of r.effects)e.is(i)&&(t=e.value),e.is(Nr)&&(t=[]);return t},provide:t=>Ar.from(t)});return{active:r,extension:[r,he.define((n=>new Pr(n,t,r,i,e.hoverTime||300))),Tr]}}function Rr(t,e){let i=t.plugin(kr);if(!i)return null;let n=i.manager.tooltips.indexOf(e);return n<0?null:i.manager.tooltipViews[n]}function Br(t){return t.facet(Ar).some((t=>t))}const Nr=n.StateEffect.define(),Lr=Nr.of(null);function Ir(t){let e=t.plugin(kr);e&&e.maybeMeasure()}const Qr=n.Facet.define({combine(t){let e,i;for(let n of t)e=e||n.topContainer,i=i||n.bottomContainer;return{topContainer:e,bottomContainer:i}}});function _r(t){return t?[Qr.of(t)]:[]}function zr(t,e){let i=t.plugin(Vr),n=i?i.specs.indexOf(e):-1;return n>-1?i.panels[n]:null}const Vr=he.fromClass(class{constructor(t){this.input=t.state.facet(Wr),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(Qr);this.top=new Fr(t,!0,e.topContainer),this.bottom=new Fr(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(Qr);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Fr(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Fr(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(Wr);if(i!=this.input){let e=i.filter((t=>t)),n=[],r=[],s=[],o=[];for(let i of e){let e,a=this.specs.indexOf(i);a<0?(e=i(t.view),o.push(e)):(e=this.panels[a],e.update&&e.update(t)),n.push(e),(e.top?r:s).push(e)}this.specs=e,this.panels=n,this.top.sync(r),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>hn.scrollMargins.of((e=>{let i=e.plugin(t);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}}))});class Fr{constructor(t,e,i){this.view=t,this.top=e,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=$r(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=$r(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function $r(t){let e=t.nextSibling;return t.remove(),e}const Wr=n.Facet.define({enables:Vr});class qr extends n.RangeValue{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}qr.prototype.elementClass="",qr.prototype.toDOM=void 0,qr.prototype.mapMode=n.MapMode.TrackBefore,qr.prototype.startSide=qr.prototype.endSide=-1,qr.prototype.point=!0;const Hr=n.Facet.define(),Xr=n.Facet.define(),Ur={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>n.RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},jr=n.Facet.define();function Gr(t){return[Yr(),jr.of(Object.assign(Object.assign({},Ur),t))]}const Kr=n.Facet.define({combine:t=>t.some((t=>t))});function Yr(t){let e=[Zr];return t&&!1===t.fixed&&e.push(Kr.of(!0)),e}const Zr=he.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(jr).map((e=>new is(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(Kr),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,i=t.view.viewport,n=Math.min(e.to,i.to)-Math.max(e.from,i.from);this.syncGutters(n<.8*(i.to-i.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Kr)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let i=n.RangeSet.iter(this.view.state.facet(Hr),this.view.viewport.from),r=[],s=this.gutters.map((t=>new es(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(t.type)){let e=!0;for(let n of t.type)if(n.type==ut.Text&&e){ts(i,r,n.from);for(let t of s)t.line(this.view,n,r);e=!1}else if(n.widget)for(let t of s)t.widget(this.view,n)}else if(t.type==ut.Text){ts(i,r,t.from);for(let e of s)e.line(this.view,t,r)}else if(t.widget)for(let e of s)e.widget(this.view,t);for(let t of s)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(jr),i=t.state.facet(jr),r=t.docChanged||t.heightChanged||t.viewportChanged||!n.RangeSet.eq(t.startState.facet(Hr),t.state.facet(Hr),t.view.viewport.from,t.view.viewport.to);if(e==i)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let n=[];for(let r of i){let i=e.indexOf(r);i<0?n.push(new is(this.view,r)):(this.gutters[i].update(t),n.push(this.gutters[i]))}for(let t of this.gutters)t.dom.remove(),n.indexOf(t)<0&&t.destroy();for(let t of n)this.dom.appendChild(t.dom);this.gutters=n}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>hn.scrollMargins.of((e=>{let i=e.plugin(t);return i&&0!=i.gutters.length&&i.fixed?e.textDirection==Ot.LTR?{left:i.dom.offsetWidth*e.scaleX}:{right:i.dom.offsetWidth*e.scaleX}:null}))});function Jr(t){return Array.isArray(t)?t:[t]}function ts(t,e,i){for(;t.value&&t.from<=i;)t.from==i&&e.push(t.value),t.next()}class es{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=n.RangeSet.iter(t.markers,e.from)}addElement(t,e,i){let{gutter:n}=this,r=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==n.elements.length){let e=new ns(t,s,r,i);n.elements.push(e),n.dom.appendChild(e.dom)}else n.elements[this.i].update(t,s,r,i);this.height=e.bottom,this.i++}line(t,e,i){let n=[];ts(this.cursor,n,e.from),i.length&&(n=n.concat(i));let r=this.gutter.config.lineMarker(t,e,n);r&&n.unshift(r);let s=this.gutter;(0!=n.length||s.config.renderEmptyElements)&&this.addElement(t,e,n)}widget(t,e){let i=this.gutter.config.widgetMarker(t,e.widget,e),n=i?[i]:null;for(let i of t.state.facet(Xr)){let r=i(t,e.widget,e);r&&(n||(n=[])).push(r)}n&&this.addElement(t,e,n)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class is{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,(n=>{let r,s=n.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();r=(t.top+t.bottom)/2}else r=n.clientY;let o=t.lineBlockAtHeight(r-t.documentTop);e.domEventHandlers[i](t,o,n)&&n.preventDefault()}));this.markers=Jr(e.markers(t)),e.initialSpacer&&(this.spacer=new ns(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Jr(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let i=t.view.viewport;return!n.RangeSet.eq(this.markers,e,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class ns{constructor(t,e,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,n)}update(t,e,i,n){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0}(this.markers,n)||this.setMarkers(t,n)}setMarkers(t,e){let i="cm-gutterElement",n=this.dom.firstChild;for(let r=0,s=0;;){let o=s,a=r<e.length?e[r++]:null,l=!1;if(a){let t=a.elementClass;t&&(i+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(a)){o=t,l=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(n);let e=n.nextSibling;n.remove(),n=e}}if(!a)break;a.toDOM&&(l?n=n.nextSibling:this.dom.insertBefore(a.toDOM(t),n)),l&&s++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}const rs=n.Facet.define(),ss=n.Facet.define(),os=n.Facet.define({combine(t){return(0,n.combineConfig)(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let t in e){let n=i[t],r=e[t];i[t]=n?(t,e,i)=>n(t,e,i)||r(t,e,i):r}return i}})}});class as extends qr{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function ls(t,e){return t.state.facet(os).formatNumber(e,t.state)}const hs=jr.compute([os],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(rs)},lineMarker(t,e,i){return i.some((t=>t.toDOM))?null:new as(ls(t,t.state.doc.lineAt(e.from).number))},widgetMarker:(t,e,i)=>{for(let n of t.state.facet(ss)){let r=n(t,e,i);if(r)return r}return null},lineMarkerChange:t=>t.startState.facet(os)!=t.state.facet(os),initialSpacer(t){return new as(ls(t,us(t.state.doc.lines)))},updateSpacer(t,e){let i=ls(e.view,us(e.view.state.doc.lines));return i==t.number?t:new as(i)},domEventHandlers:t.facet(os).domEventHandlers})));function cs(t={}){return[os.of(t),Yr(),hs]}function us(t){let e=9;for(;e<t;)e=10*e+9;return e}const ds=new class extends qr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},fs=Hr.compute(["selection"],(t=>{let e=[],i=-1;for(let n of t.selection.ranges){let r=t.doc.lineAt(n.head).from;r>i&&(i=r,e.push(ds.range(r)))}return n.RangeSet.of(e)}));function ps(){return fs}function gs(t){return he.define((e=>({decorations:t.createDeco(e),update(e){this.decorations=t.updateDeco(e,this.decorations)}})),{decorations:t=>t.decorations})}const ms=dt.mark({class:"cm-highlightTab"}),vs=dt.mark({class:"cm-highlightSpace"}),bs=gs(new Xn({regexp:/\t| /g,decoration:t=>"\t"==t[0]?ms:vs,boundary:/\S/}));function ws(){return bs}const ys=gs(new Xn({regexp:/\s+$/g,decoration:dt.mark({class:"cm-trailingSpace"}),boundary:/\S/}));function xs(){return ys}const ks={HeightMap:Ti,HeightOracle:Si,MeasuredHeights:Oi,QueryType:Ai,ChangedRange:xe,computeOrder:zt,moveVisually:$t,clearHeightChangeFlag:ki,getHeightChangeFlag:()=>xi}},54856:function(t,e,i){i.r(e),i.d(e,{ContextTracker:function(){return M},ExternalTokenizer:function(){return p},InputStream:function(){return u},LRParser:function(){return T},LocalTokenGroup:function(){return f},Stack:function(){return r}});var n=i(19905);class r{constructor(t,e,i,n,r,s,o,a,l,h=0,c){this.p=t,this.stack=e,this.state=i,this.reducePos=n,this.pos=r,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let n=t.parser.context;return new r(t,[],e,i,i,0,[],0,n?new s(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,n=65535&t,{parser:r}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let o=r.dynamicPrecedence(n);if(o&&(this.score+=o),0==i)return this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,s?8:4,!0),void this.reduceContext(n,this.reducePos);let a=this.stack.length-3*(i-1)-(262144&t?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(null===(e=this.p.parser.nodeSet.types[n])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-c;if(n<r.minRepeatTerm||131072&t){let t=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,t,u+4,!0)}if(262144&t)this.state=this.stack[a];else{let t=this.stack[a-3];this.state=r.getGoto(t,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(t,e,i,n=4,r=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,n=this.buffer.length;if(0==n&&t.parent&&(n=t.bufferBase-t.parent.bufferBase,t=t.parent),n>0&&0==t.buffer[n-4]&&t.buffer[n-1]>-1){if(e==i)return;if(t.buffer[n-2]>=e)return void(t.buffer[n-2]=i)}}if(r&&this.pos!=i){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4]){let t=!1;for(let e=r;e>0&&this.buffer[e-2]>i;e-=4)if(this.buffer[e-1]>=0){t=!0;break}if(t)for(;r>0&&this.buffer[r-2]>i;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,n>4&&(n-=4)}this.buffer[r]=t,this.buffer[r+1]=e,this.buffer[r+2]=i,this.buffer[r+3]=n}else this.buffer.push(t,e,i,n)}shift(t,e,i,n){if(131072&t)this.pushState(65535&t,this.pos);else if(262144&t)this.pos=n,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,n,4);else{let r=t,{parser:s}=this.p;(n>this.pos||e<=s.maxNode)&&(this.pos=n,s.stateFlag(r,1)||(this.reducePos=n)),this.pushState(r,i),this.shiftContext(e,i),e<=s.maxNode&&this.buffer.push(e,i,n,4)}}apply(t,e,i,n){65536&t?this.reduce(t):this.shift(t,e,i,n)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new r(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new o(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==i)return!1;if(!(65536&i))return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let i=[];for(let n,r=0;r<e.length;r+=2)(n=e[r+1])!=this.state&&this.p.parser.hasAction(n,t)&&i.push(e[r],n);if(this.stack.length<120)for(let t=0;i.length<8&&t<e.length;t+=2){let n=e[t+1];i.some(((t,e)=>1&e&&t==n))||i.push(e[t],n)}e=i}let i=[];for(let t=0;t<e.length&&i.length<4;t+=2){let n=e[t+1];if(n==this.state)continue;let r=this.split();r.pushState(n,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(e[t],this.pos),r.reducePos=this.pos,r.score-=200,i.push(r)}return i}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(!(65536&e))return!1;if(!t.validAction(this.state,e)){let i=e>>19,n=65535&e,r=this.stack.length-3*i;if(r<0||t.getGoto(this.stack[r],n,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],i=(n,r)=>{if(!e.includes(n))return e.push(n),t.allActions(n,(e=>{if(393216&e);else if(65536&e){let i=(e>>19)-r;if(i>1){let n=65535&e,r=this.stack.length-3*i;if(r>=0&&t.getGoto(this.stack[r],n,!1)>=0)return i<<19|65536|n}}else{let t=i(e,r+1);if(null!=t)return t}}))};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new s(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class s{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class o{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,i=t>>19;0==i?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(i-1);let n=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=n}}class a{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new a(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new a(this.stack,this.pos,this.index)}}function l(t,e=Uint16Array){if("string"!=typeof t)return t;let i=null;for(let n=0,r=0;n<t.length;){let s=0;for(;;){let e=t.charCodeAt(n++),i=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let r=e-32;if(r>=46&&(r-=46,i=!0),s+=r,i)break;s*=46}i?i[r++]=s:i=new e(s)}return i}class h{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const c=new h;class u{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=c,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,n=this.rangeIndex,r=this.pos+t;for(;r<i.from;){if(!n)return null;let t=this.ranges[--n];r-=i.from-t.to,i=t}for(;e<0?r>i.to:r>=i.to;){if(n==this.ranges.length-1)return null;let t=this.ranges[++n];r+=t.from-i.to,i=t}return r}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,i,n=this.chunkOff+t;if(n>=0&&n<this.chunk.length)e=this.pos+t,i=this.chunk.charCodeAt(n);else{let n=this.resolveOffset(t,1);if(null==n)return-1;if(e=n,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,n=this.range;for(;n.to<=e;)n=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>n.to&&(this.chunk2=this.chunk2.slice(0,n.to-e)),i=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),i}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(null==i||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=c,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(i+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return i}}class d{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;g(this.data,t,e,this.id,i.data,i.tokenPrecTable)}}d.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class f{constructor(t,e,i){this.precTable=e,this.elseToken=i,this.data="string"==typeof t?l(t):t}token(t,e){let i=t.pos,n=0;for(;;){let i=t.next<0,r=t.resolveOffset(1,1);if(g(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(null==this.elseToken)return;if(i||n++,null==r)break;t.reset(r,t.token)}n&&(t.reset(i,t.token),t.acceptToken(this.elseToken,n))}}f.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class p{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function g(t,e,i,n,r,s){let o=0,a=1<<n,{dialect:l}=i.p.parser;t:for(;a&t[o];){let i=t[o+1];for(let n=o+3;n<i;n+=2)if((t[n+1]&a)>0){let i=t[n];if(l.allows(i)&&(-1==e.token.value||e.token.value==i||v(i,e.token.value,r,s))){e.acceptToken(i);break}}let n=e.next,h=0,c=t[o+2];if(!(e.next<0&&c>h&&65535==t[i+3*c-3])){for(;h<c;){let r=h+c>>1,s=i+r+(r<<1),a=t[s],l=t[s+1]||65536;if(n<a)c=r;else{if(!(n>=l)){o=t[s+2],e.advance();continue t}h=r+1}}break}o=t[i+3*c-1]}}function m(t,e,i){for(let n,r=e;65535!=(n=t[r]);r++)if(n==i)return r-e;return-1}function v(t,e,i,n){let r=m(i,n,e);return r<0||m(i,n,t)<r}const b="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let w=null;function y(t,e,i){let r=t.cursor(n.IterMode.IncludeAnonymous);for(r.moveTo(e);;)if(!(i<0?r.childBefore(e):r.childAfter(e)))for(;;){if((i<0?r.to<e:r.from>e)&&!r.type.isError)return i<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(i<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return i<0?0:t.length}}class x{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?y(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?y(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],r=this.index[e];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[e]+i.positions[r];if(o>t)return this.nextStart=o,null;if(s instanceof n.Tree){if(o==t){if(o<this.safeFrom)return null;let t=o+s.length;if(t<=this.safeTo){let e=s.prop(n.NodeProp.lookAhead);if(!e||t+e<this.fragment.to)return s}}this.index[e]++,o+s.length>=Math.max(this.safeFrom,t)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[e]++,this.nextStart=o+s.length}}}class k{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new h))}getActions(t){let e=0,i=null,{parser:n}=t.p,{tokenizers:r}=n,s=n.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let n=0;n<r.length;n++){if(!(1<<n&s))continue;let l=r[n],h=this.tokens[n];if((!i||l.fallback)&&((l.contextual||h.start!=t.pos||h.mask!=s||h.context!=o)&&(this.updateCachedToken(h,l,t),h.mask=s,h.context=o),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let n=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!l.extend&&(i=h,e>n))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),i||t.pos!=this.stream.end||(i=new h,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new h,{pos:i,p:n}=t;return e.start=i,e.end=Math.min(i+1,n.stream.end),e.value=i==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,i){let n=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(n,t),i),t.value>-1){let{parser:e}=i.p;for(let n=0;n<e.specialized.length;n++)if(e.specialized[n]==t.value){let r=e.specializers[n](this.stream.read(t.start,t.end),i);if(r>=0&&i.p.parser.dialect.allows(r>>1)){1&r?t.extended=r>>1:t.value=r>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,i,n){for(let e=0;e<n;e+=3)if(this.actions[e]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=i,n}addActions(t,e,i,n){let{state:r}=t,{parser:s}=t.p,{data:o}=s;for(let t=0;t<2;t++)for(let a=s.stateSlot(r,t?2:1);;a+=3){if(65535==o[a]){if(1!=o[a+1]){0==n&&2==o[a+1]&&(n=this.putAction(P(o,a+2),e,i,n));break}a=P(o,a+2)}o[a]==e&&(n=this.putAction(P(o,a+1),e,i,n))}return n}}class S{constructor(t,e,i,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new u(e,n),this.tokens=new k(t,this.stream),this.topTerm=t.top[1];let{from:s}=n[0];this.stacks=[r.start(this,t.top[0],s)],this.fragments=i.length&&this.stream.end-s>4*t.bufferLength?new x(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,i=this.stacks,n=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==i.length){let[t]=i;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<i.length;s++){let o=i[s];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,i))continue;{t||(t=[],e=[]),t.push(o);let i=this.tokens.getMainToken(o);e.push(i.value,i.end)}}break}}if(!r.length){let e=t&&function(t){let e=null;for(let i of t){let t=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=t&&i.pos>t)&&i.p.parser.stateFlag(i.state,2)&&(!e||e.score<i.score)&&(e=i)}return e}(t);if(e)return b&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw b&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&t){let i=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,r);if(i)return b&&console.log("Force-finish "+this.stackID(i)),this.stackToTree(i.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(r.length>t)for(r.sort(((t,e)=>e.score-t.score));r.length>t;)r.pop();r.some((t=>t.reducePos>n))&&this.recovering--}else if(r.length>1){t:for(let t=0;t<r.length-1;t++){let e=r[t];for(let i=t+1;i<r.length;i++){let n=r[i];if(e.sameState(n)||e.buffer.length>500&&n.buffer.length>500){if(!((e.score-n.score||e.buffer.length-n.buffer.length)>0)){r.splice(t--,1);continue t}r.splice(i--,1)}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let t=1;t<r.length;t++)r[t].pos<this.minStackPos&&(this.minStackPos=r[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let r=t.pos,{parser:s}=this,o=b?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,i=e?t.curContext.hash:0;for(let a=this.fragments.nodeAt(r);a;){let r=this.parser.nodeSet.types[a.type.id]==a.type?s.getGoto(t.state,a.type.id):-1;if(r>-1&&a.length&&(!e||(a.prop(n.NodeProp.contextHash)||0)==i))return t.useNode(a,r),b&&console.log(o+this.stackID(t)+` (via reuse of ${s.getName(a.type.id)})`),!0;if(!(a instanceof n.Tree)||0==a.children.length||a.positions[0]>0)break;let l=a.children[0];if(!(l instanceof n.Tree&&0==a.positions[0]))break;a=l}}let a=s.stateSlot(t.state,4);if(a>0)return t.reduce(a),b&&console.log(o+this.stackID(t)+` (via always-reduce ${s.getName(65535&a)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let n=0;n<l.length;){let a=l[n++],h=l[n++],c=l[n++],u=n==l.length||!i,d=u?t:t.split(),f=this.tokens.mainToken;if(d.apply(a,h,f?f.start:d.pos,c),b&&console.log(o+this.stackID(d)+` (via ${65536&a?`reduce of ${s.getName(65535&a)}`:"shift"} for ${s.getName(h)} @ ${r}${d==t?"":", split"})`),u)return!0;d.pos>r?e.push(d):i.push(d)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return O(t,e),!0}}runRecovery(t,e,i){let n=null,r=!1;for(let s=0;s<t.length;s++){let o=t[s],a=e[s<<1],l=e[1+(s<<1)],h=b?this.stackID(o)+" -> ":"";if(o.deadEnd){if(r)continue;if(r=!0,o.restart(),b&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))continue}let c=o.split(),u=h;for(let t=0;c.forceReduce()&&t<10;t++){if(b&&console.log(u+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,i))break;b&&(u=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(a))b&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,i);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),b&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),O(o,i)):(!n||n.score<o.score)&&(n=o)}return n}stackToTree(t){return t.close(),n.Tree.build({buffer:a.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(w||(w=new WeakMap)).get(t);return e||w.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function O(t,e){for(let i=0;i<e.length;i++){let n=e[i];if(n.pos==t.pos&&n.sameState(t))return void(e[i].score<t.score&&(e[i]=t))}e.push(t)}class C{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||0==this.disabled[t]}}const A=t=>t;class M{constructor(t){this.start=t.start,this.shift=t.shift||A,this.reduce=t.reduce||A,this.reuse=t.reuse||A,this.hash=t.hash||(()=>0),this.strict=!1!==t.strict}}class T extends n.Parser{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let i=0;i<t.repeatNodeCount;i++)e.push("");let i=Object.keys(t.topRules).map((e=>t.topRules[e][1])),r=[];for(let t=0;t<e.length;t++)r.push([]);function s(t,e,i){r[t].push([e,e.deserialize(String(i))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=n.NodeProp[t]);for(let i=1;i<e.length;){let n=e[i++];if(n>=0)s(n,t,e[i++]);else{let r=e[i+-n];for(let o=-n;o>0;o--)s(e[i++],t,r);i++}}}this.nodeSet=new n.NodeSet(e.map(((e,s)=>n.NodeType.define({name:s>=this.minRepeatTerm?void 0:e,id:s,props:r[s],top:i.indexOf(s)>-1,error:0==s,skipped:t.skippedNodes&&t.skippedNodes.indexOf(s)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=n.DefaultBufferLength;let o=l(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(D),this.states=l(t.states,Uint32Array),this.data=l(t.stateData),this.goto=l(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new d(o,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let n=new S(this,t,e,i);for(let r of this.wrappers)n=r(n,t,e,i);return n}getGoto(t,e,i=!1){let n=this.goto;if(e>=n[0])return-1;for(let r=n[e+1];;){let e=n[r++],s=1&e,o=n[r++];if(s&&i)return o;for(let i=r+(e>>1);r<i;r++)if(n[r]==t)return o;if(s)return-1}}hasAction(t,e){let i=this.data;for(let n=0;n<2;n++)for(let r,s=this.stateSlot(t,n?2:1);;s+=3){if(65535==(r=i[s])){if(1!=i[s+1]){if(2==i[s+1])return P(i,s+2);break}r=i[s=P(i,s+2)]}if(r==e||0==r)return P(i,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let i=this.stateSlot(t,4),n=i?e(i):void 0;for(let i=this.stateSlot(t,1);null==n;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=P(this.data,i+2)}n=e(P(this.data,i+1))}return n}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=P(this.data,i+2)}if(!(1&this.data[i+2])){let t=this.data[i+1];e.some(((e,i)=>1&i&&e==t))||e.push(this.data[i],t)}}return e}configure(t){let e=Object.assign(Object.create(T.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let i=t.tokenizers.find((t=>t.from==e));return i?i.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((i,n)=>{let r=t.specializers.find((t=>t.from==i.external));if(!r)return i;let s=Object.assign(Object.assign({},i),{external:r.to});return e.specializers[n]=D(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map((()=>!1));if(t)for(let n of t.split(" ")){let t=e.indexOf(n);t>=0&&(i[t]=!0)}let n=null;for(let t=0;t<e.length;t++)if(!i[t])for(let i,r=this.dialects[e[t]];65535!=(i=this.data[r++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[i]=1;return new C(t,i,n)}static deserialize(t){return new T(t)}}function P(t,e){return t[e]|t[e+1]<<16}function D(t){if(t.external){let e=t.extend?1:0;return(i,n)=>t.external(i,n)<<1|e}return t.get}},59349:function(t,e,i){i.r(e),i.d(e,{StyleModule:function(){return o}});const n="undefined"==typeof Symbol?"__":Symbol.for(""),r="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class o{constructor(t,e){this.rules=[];let{finish:i}=e||{};function n(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function r(t,e,s,o){let a=[],l=/^@(\w+)\b/.exec(t[0]),h=l&&"keyframes"==l[1];if(l&&null==e)return s.push(t[0]+";");for(let i in e){let o=e[i];if(/&/.test(i))r(i.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+i+") should be a primitive value.");r(n(i),o,a,h)}else null!=o&&a.push(i.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(a.length||h)&&s.push((!i||l||o?t:t.map(i)).join(", ")+" {"+a.join(" ")+"}")}for(let e in t)r(n(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=s[n]||1;return s[n]=t+1,""+t.toString(36)}static mount(t,e,i){let n=t[r],s=i&&i.nonce;n?s&&n.setNonce(s):n=new l(t,s),n.mount(Array.isArray(e)?e:[e],t)}}let a=new Map;class l{constructor(t,e){let i=t.ownerDocument||t,n=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&n.CSSStyleSheet){let e=a.get(i);if(e)return t[r]=e;this.sheet=new n.CSSStyleSheet,a.set(i,this)}else this.styleTag=i.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[r]=this}mount(t,e){let i=this.sheet,n=0,r=0;for(let e=0;e<t.length;e++){let s=t[e],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),i)for(let t=0;t<s.rules.length;t++)i.insertRule(s.rules[t],n++)}else{for(;r<o;)n+=this.modules[r++].rules.length;n+=s.rules.length,r++}}if(i)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let i=e.head||e;this.styleTag.parentNode!=i&&i.insertBefore(this.styleTag,i.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}},84184:function(t,e,i){i.r(e),i.d(e,{CompletionContext:function(){return o},acceptCompletion:function(){return q},autocompletion:function(){return Ht},clearSnippet:function(){return ct},closeBrackets:function(){return Pt},closeBracketsKeymap:function(){return It},closeCompletion:function(){return X},completeAnyWord:function(){return Ot},completeFromList:function(){return l},completionKeymap:function(){return Xt},completionStatus:function(){return jt},currentCompletions:function(){return Kt},deleteBracketPair:function(){return Lt},hasNextSnippetField:function(){return ft},hasPrevSnippetField:function(){return pt},ifIn:function(){return h},ifNotIn:function(){return c},insertBracket:function(){return Qt},insertCompletionText:function(){return g},moveCompletionSelection:function(){return W},nextSnippetField:function(){return ut},pickedCompletion:function(){return p},prevSnippetField:function(){return dt},selectedCompletion:function(){return Yt},selectedCompletionIndex:function(){return Zt},setSelectedCompletion:function(){return Jt},snippet:function(){return lt},snippetCompletion:function(){return bt},snippetKeymap:function(){return mt},startCompletion:function(){return H}});var n=i(38717),r=i(52726),s=i(35510);class o{constructor(t,e,i,n){this.state=t,this.pos=e,this.explicit=i,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=(0,s.syntaxTree)(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),i=Math.max(e.from,this.pos-250),n=e.text.slice(i-e.from,this.pos-e.from),r=n.search(f(t,!1));return r<0?null:{from:i+r,to:this.pos,text:n.slice(r)}}get aborted(){return null==this.abortListeners}addEventListener(t,e,i){"abort"==t&&this.abortListeners&&(this.abortListeners.push(e),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function a(t){let e=Object.keys(t).join(""),i=/\w/.test(e);return i&&(e=e.replace(/\w/g,"")),`[${i?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function l(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[i,n]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),i=Object.create(null);for(let{label:n}of t){e[n[0]]=!0;for(let t=1;t<n.length;t++)i[n[t]]=!0}let n=a(e)+a(i)+"*$";return[new RegExp("^"+n),new RegExp(n)]}(e);return t=>{let r=t.matchBefore(n);return r||t.explicit?{from:r?r.from:t.pos,options:e,validFor:i}:null}}function h(t,e){return i=>{for(let n=(0,s.syntaxTree)(i.state).resolveInner(i.pos,-1);n;n=n.parent){if(t.indexOf(n.name)>-1)return e(i);if(n.type.isTop)break}return null}}function c(t,e){return i=>{for(let e=(0,s.syntaxTree)(i.state).resolveInner(i.pos,-1);e;e=e.parent){if(t.indexOf(e.name)>-1)return null;if(e.type.isTop)break}return e(i)}}class u{constructor(t,e,i,n){this.completion=t,this.source=e,this.match=i,this.score=n}}function d(t){return t.selection.main.from}function f(t,e){var i;let{source:n}=t,r=e&&"^"!=n[0],s="$"!=n[n.length-1];return r||s?new RegExp(`${r?"^":""}(?:${n})${s?"$":""}`,null!==(i=t.flags)&&void 0!==i?i:t.ignoreCase?"i":""):t}const p=n.Annotation.define();function g(t,e,i,r){let{main:s}=t.selection,o=i-s.from,a=r-s.from;return Object.assign(Object.assign({},t.changeByRange((l=>{if(l!=s&&i!=r&&t.sliceDoc(l.from+o,l.from+a)!=t.sliceDoc(i,r))return{range:l};let h=t.toText(e);return{changes:{from:l.from+o,to:r==s.from?l.to:l.from+a,insert:h},range:n.EditorSelection.cursor(l.from+o+h.length)}}))),{scrollIntoView:!0,userEvent:"input.complete"})}const m=new WeakMap;function v(t){if(!Array.isArray(t))return t;let e=m.get(t);return e||m.set(t,e=l(t)),e}const b=n.StateEffect.define(),w=n.StateEffect.define();class y{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let i=(0,n.codePointAt)(t,e),r=(0,n.codePointSize)(i);this.chars.push(i);let s=t.slice(e,e+r),o=s.toUpperCase();this.folded.push((0,n.codePointAt)(o==s?s.toLowerCase():o,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:i,any:r,precise:s,byWord:o}=this;if(1==e.length){let r=(0,n.codePointAt)(t,0),s=(0,n.codePointSize)(r),o=s==t.length?0:-100;if(r==e[0]);else{if(r!=i[0])return null;o+=-200}return this.ret(o,[0,s])}let a=t.indexOf(this.pattern);if(0==a)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=e.length,h=0;if(a<0){for(let s=0,o=Math.min(t.length,200);s<o&&h<l;){let o=(0,n.codePointAt)(t,s);o!=e[h]&&o!=i[h]||(r[h++]=s),s+=(0,n.codePointSize)(o)}if(h<l)return null}let c=0,u=0,d=!1,f=0,p=-1,g=-1,m=/[a-z]/.test(t),v=!0;for(let r=0,h=Math.min(t.length,200),b=0;r<h&&u<l;){let h=(0,n.codePointAt)(t,r);a<0&&(c<l&&h==e[c]&&(s[c++]=r),f<l&&(h==e[f]||h==i[f]?(0==f&&(p=r),g=r+1,f++):f=0));let w,y=h<255?h>=48&&h<=57||h>=97&&h<=122?2:h>=65&&h<=90?1:0:(w=(0,n.fromCodePoint)(h))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!r||1==y&&m||0==b&&0!=y)&&(e[u]==h||i[u]==h&&(d=!0)?o[u++]=r:o.length&&(v=!1)),b=y,r+=(0,n.codePointSize)(h)}return u==l&&0==o[0]&&v?this.result((d?-200:0)-100,o,t):f==l&&0==p?this.ret(-200-t.length+(g==t.length?0:-100),[0,g]):a>-1?this.ret(-700-t.length,[a,a+this.pattern.length]):f==l?this.ret(-900-t.length,[p,g]):u==l?this.result((d?-200:0)-100-700+(v?0:-1100),o,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,i){let r=[],s=0;for(let t of e){let e=t+(this.astral?(0,n.codePointSize)((0,n.codePointAt)(i,t)):1);s&&r[s-1]==t?r[s-1]=e:(r[s++]=t,r[s++]=e)}return this.ret(t-i.length,r)}}class x{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),i=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return null==i?null:(this.matched=[0,e.length],this.score=i+(t.length==this.pattern.length?0:-100),this)}}const k=n.Facet.define({combine(t){return(0,n.combineConfig)(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:O,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>i=>S(t(i),e(i)),optionClass:(t,e)=>i=>S(t(i),e(i)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})}});function S(t,e){return t?e?t+" "+e:t:e}function O(t,e,i,n,s,o){let a,l,h=t.textDirection==r.Direction.RTL,c=h,u=!1,d="top",f=e.left-s.left,p=s.right-e.right,g=n.right-n.left,m=n.bottom-n.top;if(c&&f<Math.min(g,p)?c=!1:!c&&p<Math.min(g,f)&&(c=!0),g<=(c?f:p))a=Math.max(s.top,Math.min(i.top,s.bottom-m))-e.top,l=Math.min(400,c?f:p);else{u=!0,l=Math.min(400,(h?e.right:s.right-e.left)-30);let t=s.bottom-e.bottom;t>=m||t>e.top?a=i.bottom-e.top:(d="bottom",a=e.bottom-i.top)}return{style:`${d}: ${a/((e.bottom-e.top)/o.offsetHeight)}px; max-width: ${l/((e.right-e.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(u?h?"left-narrow":"right-narrow":c?"left":"right")}}function C(t,e,i){if(t<=i)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/i);return{from:t*i,to:(t+1)*i}}let n=Math.floor((t-e)/i);return{from:t-(n+1)*i,to:t-n*i}}class A{constructor(t,e,i){this.view=t,this.stateField=e,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let n=t.state.field(e),{options:r,selected:s}=n.open,o=t.state.facet(k);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,i,n){let r=document.createElement("span");r.className="cm-completionLabel";let s=t.displayLabel||t.label,o=0;for(let t=0;t<n.length;){let e=n[t++],i=n[t++];e>o&&r.appendChild(document.createTextNode(s.slice(o,e)));let a=r.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(s.slice(e,i))),a.className="cm-completionMatchedText",o=i}return o<s.length&&r.appendChild(document.createTextNode(s.slice(o))),r},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=C(r.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(i=>{let{options:n}=t.state.field(e).open;for(let e,r=i.target;r&&r!=this.dom;r=r.parentNode)if("LI"==r.nodeName&&(e=/-(\d+)$/.exec(r.id))&&+e[1]<n.length)return this.applyCompletion(t,n[+e[1]]),void i.preventDefault()})),this.dom.addEventListener("focusout",(e=>{let i=t.state.field(this.stateField,!1);i&&i.tooltip&&t.state.facet(k).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:w.of(null)})})),this.showOptions(r,n.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(t){var e;let i=t.state.field(this.stateField),n=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),i!=n){let{options:r,selected:s,disabled:o}=i.open;n.open&&n.open.options==r||(this.range=C(r.length,s,t.state.facet(k).maxRenderedOptions),this.showOptions(r,i.id)),this.updateSel(),o!=(null===(e=n.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=C(e.options.length,e.selected,this.view.state.facet(k).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:i}=e.options[e.selected],{info:n}=i;if(!n)return;let s="string"==typeof n?document.createTextNode(n):n(i);if(!s)return;"then"in s?s.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,i)})).catch((t=>(0,r.logException)(this.view.state,t,"completion info"))):this.addInfoPane(s,i)}}addInfoPane(t,e){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",null!=t.nodeType)i.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:n}=t;i.appendChild(e),this.infoDestroy=n||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)"LI"==i.nodeName&&i.id?n==t?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),e=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected"):n--;return e&&function(t,e){let i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=i.height/t.offsetHeight;n.top<i.top?t.scrollTop-=(i.top-n.top)/r:n.bottom>i.bottom&&(t.scrollTop+=(n.bottom-i.bottom)/r)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=t.getBoundingClientRect(),r=this.space;if(!r){let t=this.dom.ownerDocument.defaultView||window;r={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return n.top>Math.min(r.bottom,e.bottom)-10||n.bottom<Math.max(r.top,e.top)+10?null:this.view.state.facet(k).positionInfo(this.view,e,n,i,r,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,i){const n=document.createElement("ul");n.id=e,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions"));let r=null;for(let s=i.from;s<i.to;s++){let{completion:o,match:a}=t[s],{section:l}=o;if(l){let t="string"==typeof l?l:l.name;if(t!=r&&(s>i.from||0==i.from))if(r=t,"string"!=typeof l&&l.header)n.appendChild(l.header(l));else{n.appendChild(document.createElement("completion-section")).textContent=t}}const h=n.appendChild(document.createElement("li"));h.id=e+"-"+s,h.setAttribute("role","option");let c=this.optionClass(o);c&&(h.className=c);for(let t of this.optionContent){let e=t(o,this.view.state,this.view,a);e&&h.appendChild(e)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function M(t,e){return i=>new A(i,t,e)}function T(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class P{constructor(t,e,i,n,r,s){this.options=t,this.attrs=e,this.tooltip=i,this.timestamp=n,this.selected=r,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new P(this.options,B(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,i,n,r){let s=function(t,e){let i=[],n=null,r=t=>{i.push(t);let{section:e}=t.completion;if(e){n||(n=[]);let t="string"==typeof e?e:e.name;n.some((e=>e.name==t))||n.push("string"==typeof e?{name:t}:e)}},s=e.facet(k);for(let n of t)if(n.hasResult()){let t=n.result.getMatch;if(!1===n.result.filter)for(let e of n.result.options)r(new u(e,n.source,t?t(e):[],1e9-i.length));else{let i,o=e.sliceDoc(n.from,n.to),a=s.filterStrict?new x(o):new y(o);for(let e of n.result.options)if(i=a.match(e.label)){let s=e.displayLabel?t?t(e,i.matched):[]:i.matched;r(new u(e,n.source,s,i.score+(e.boost||0)))}}}if(n){let t=Object.create(null),e=0,r=(t,e)=>{var i,n;return(null!==(i=t.rank)&&void 0!==i?i:1e9)-(null!==(n=e.rank)&&void 0!==n?n:1e9)||(t.name<e.name?-1:1)};for(let i of n.sort(r))e-=1e5,t[i.name]=e;for(let e of i){let{section:i}=e.completion;i&&(e.score+=t["string"==typeof i?i:i.name])}}let o=[],a=null,l=s.compareCompletions;for(let t of i.sort(((t,e)=>e.score-t.score||l(t.completion,e.completion)))){let e=t.completion;!a||a.label!=e.label||a.detail!=e.detail||null!=a.type&&null!=e.type&&a.type!=e.type||a.apply!=e.apply||a.boost!=e.boost?o.push(t):T(t.completion)>T(a)&&(o[o.length-1]=t),a=t.completion}return o}(t,e);if(!s.length)return n&&t.some((t=>1==t.state))?new P(n.options,n.attrs,n.tooltip,n.timestamp,n.selected,!0):null;let o=e.facet(k).selectOnOpen?0:-1;if(n&&n.selected!=o&&-1!=n.selected){let t=n.options[n.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){o=e;break}}return new P(s,B(i,o),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:$,above:r.aboveCursor},n?n.timestamp:Date.now(),o,!1)}map(t){return new P(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class D{constructor(t,e,i){this.active=t,this.id=e,this.open=i}static start(){return new D(N,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,i=e.facet(k),n=(i.override||e.languageDataAt("autocomplete",d(e)).map(v)).map((e=>(this.active.find((t=>t.source==e))||new I(e,this.active.some((t=>0!=t.state))?1:0)).update(t,i)));n.length==this.active.length&&n.every(((t,e)=>t==this.active[e]))&&(n=this.active);let r=this.open;r&&t.docChanged&&(r=r.map(t.changes)),t.selection||n.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let i=0,n=0;;){for(;i<t.length&&!t[i].hasResult;)i++;for(;n<e.length&&!e[n].hasResult;)n++;let r=i==t.length,s=n==e.length;if(r||s)return r==s;if(t[i++].result!=e[n++].result)return!1}}(n,this.active)?r=P.build(n,e,this.id,r,i):r&&r.disabled&&!n.some((t=>1==t.state))&&(r=null),!r&&n.every((t=>1!=t.state))&&n.some((t=>t.hasResult()))&&(n=n.map((t=>t.hasResult()?new I(t.source,0):t)));for(let e of t.effects)e.is(z)&&(r=r&&r.setSelected(e.value,this.id));return n==this.active&&r==this.open?this:new D(n,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?E:R}}const E={"aria-autocomplete":"list"},R={};function B(t,e){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(i["aria-activedescendant"]=t+"-"+e),i}const N=[];function L(t,e){if(t.isUserEvent("input.complete")){let i=t.annotation(p);if(i&&e.activateOnCompletion(i))return 12}let i=t.isUserEvent("input.type");return i&&e.activateOnTyping?5:i?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class I{constructor(t,e,i=-1){this.source=t,this.state=e,this.explicitPos=i}hasResult(){return!1}update(t,e){let i=L(t,e),n=this;(8&i||16&i&&this.touches(t))&&(n=new I(n.source,0)),4&i&&0==n.state&&(n=new I(this.source,1)),n=n.updateFor(t,i);for(let e of t.effects)if(e.is(b))n=new I(n.source,1,e.value?d(t.state):-1);else if(e.is(w))n=new I(n.source,0);else if(e.is(_))for(let t of e.value)t.source==n.source&&(n=t);return n}updateFor(t,e){return this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new I(this.source,this.state,t.mapPos(this.explicitPos))}touches(t){return t.changes.touchesRange(d(t.state))}}class Q extends I{constructor(t,e,i,n,r){super(t,2,e),this.result=i,this.from=n,this.to=r}hasResult(){return!0}updateFor(t,e){var i;if(!(3&e))return this.map(t.changes);let n=this.result;n.map&&!t.changes.empty&&(n=n.map(n,t.changes));let r=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),a=d(t.state);if((this.explicitPos<0?a<=r:a<this.from)||a>s||!n||2&e&&d(t.startState)==this.from)return new I(this.source,4&e?1:0);let l=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,i,n){if(!t)return!1;let r=e.sliceDoc(i,n);return"function"==typeof t?t(r,i,n,e):f(t,!0).test(r)}(n.validFor,t.state,r,s)?new Q(this.source,l,n,r,s):n.update&&(n=n.update(n,r,s,new o(t.state,a,l>=0)))?new Q(this.source,l,n,n.from,null!==(i=n.to)&&void 0!==i?i:d(t.state)):new I(this.source,1,l)}map(t){if(t.empty)return this;return(this.result.map?this.result.map(this.result,t):this.result)?new Q(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new I(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}const _=n.StateEffect.define({map(t,e){return t.map((t=>t.map(e)))}}),z=n.StateEffect.define(),V=n.StateField.define({create(){return D.start()},update(t,e){return t.update(e)},provide:t=>[r.showTooltip.from(t,(t=>t.tooltip)),r.EditorView.contentAttributes.from(t,(t=>t.attrs))]});function F(t,e){const i=e.completion.apply||e.completion.label;let n=t.state.field(V).active.find((t=>t.source==e.source));return n instanceof Q&&("string"==typeof i?t.dispatch(Object.assign(Object.assign({},g(t.state,i,n.from,n.to)),{annotations:p.of(e.completion)})):i(t,e.completion,n.from,n.to),!0)}const $=M(V,F);function W(t,e="option"){return i=>{let n=i.state.field(V,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<i.state.facet(k).interactionDelay)return!1;let s,o=1;"page"==e&&(s=(0,r.getTooltip)(i,n.open.tooltip))&&(o=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=n.open.options,l=n.open.selected>-1?n.open.selected+o*(t?1:-1):t?0:a-1;return l<0?l="page"==e?0:a-1:l>=a&&(l="page"==e?a-1:0),i.dispatch({effects:z.of(l)}),!0}}const q=t=>{let e=t.state.field(V,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(k).interactionDelay)&&F(t,e.open.options[e.open.selected])},H=t=>!!t.state.field(V,!1)&&(t.dispatch({effects:b.of(!0)}),!0),X=t=>{let e=t.state.field(V,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:w.of(null)}),!0)};class U{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const j=r.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(V).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(V),i=t.state.facet(k);if(!t.selectionSet&&!t.docChanged&&t.startState.field(V)==e)return;let n=t.transactions.some((t=>{let e=L(t,i);return 8&e||(t.selection||t.docChanged)&&!(3&e)}));for(let e=0;e<this.running.length;e++){let i=this.running[e];if(n||i.context.abortOnDocChange&&t.docChanged||i.updates.length+t.transactions.length>50&&Date.now()-i.time>1e3){for(let t of i.context.abortListeners)try{t()}catch(t){(0,r.logException)(this.view.state,t)}i.context.abortListeners=null,this.running.splice(e--,1)}else i.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some((t=>t.effects.some((t=>t.is(b)))))&&(this.pendingStart=!0);let s=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),s):-1,0!=this.composing)for(let e of t.transactions)e.isUserEvent("input.type")?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(V);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,i=d(e),n=new o(e,i,t.explicitPos==i,this.view),s=new U(t,n);this.running.push(s),Promise.resolve(t.source(n)).then((t=>{s.context.aborted||(s.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:w.of(null)}),(0,r.logException)(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(k).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],i=this.view.state.facet(k);for(let n=0;n<this.running.length;n++){let r=this.running[n];if(void 0===r.done)continue;if(this.running.splice(n--,1),r.done){let n=new Q(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(t=r.done.to)&&void 0!==t?t:d(r.updates.length?r.updates[0].startState:this.view.state));for(let t of r.updates)n=n.update(t,i);if(n.hasResult()){e.push(n);continue}}let s=this.view.state.field(V).active.find((t=>t.source==r.active.source));if(s&&1==s.state)if(null==r.done){let t=new I(r.active.source,0);for(let e of r.updates)t=t.update(e,i);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:_.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(V,!1);if(e&&e.tooltip&&this.view.state.facet(k).closeOnBlur){let i=e.open&&(0,r.getTooltip)(this.view,e.open.tooltip);i&&i.dom.contains(t.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:w.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:b.of(!1)})),20),this.composing=0}}}),G="object"==typeof navigator&&/Win/.test(navigator.platform),K=n.Prec.highest(r.EditorView.domEventHandlers({keydown(t,e){let i=e.state.field(V,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||t.key.length>1||t.ctrlKey&&(!G||!t.altKey)||t.metaKey)return!1;let n=i.open.options[i.open.selected],r=i.active.find((t=>t.source==n.source)),s=n.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&F(e,n),!1}})),Y=r.EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Z{constructor(t,e,i,n){this.field=t,this.line=e,this.from=i,this.to=n}}class J{constructor(t,e,i){this.field=t,this.from=e,this.to=i}map(t){let e=t.mapPos(this.from,-1,n.MapMode.TrackDel),i=t.mapPos(this.to,1,n.MapMode.TrackDel);return null==e||null==i?null:new J(this.field,e,i)}}class tt{constructor(t,e){this.lines=t,this.fieldPositions=e}instantiate(t,e){let i=[],n=[e],r=t.doc.lineAt(e),o=/^\s*/.exec(r.text)[0];for(let r of this.lines){if(i.length){let i=o,a=/^\t*/.exec(r)[0].length;for(let e=0;e<a;e++)i+=t.facet(s.indentUnit);n.push(e+i.length-a),r=i+r.slice(a)}i.push(r),e+=r.length+1}let a=this.fieldPositions.map((t=>new J(t.field,n[t.line]+t.from,n[t.line]+t.to)));return{text:i,ranges:a}}static parse(t){let e,i=[],n=[],r=[];for(let s of t.split(/\r\n?|\n/)){for(;e=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let t=e[1]?+e[1]:null,o=e[2]||e[3]||"",a=-1,l=o.replace(/\\[{}]/g,(t=>t[1]));for(let e=0;e<i.length;e++)(null!=t?i[e].seq==t:l&&i[e].name==l)&&(a=e);if(a<0){let e=0;for(;e<i.length&&(null==t||null!=i[e].seq&&i[e].seq<t);)e++;i.splice(e,0,{seq:t,name:l}),a=e;for(let t of r)t.field>=a&&t.field++}r.push(new Z(a,n.length,e.index,e.index+l.length)),s=s.slice(0,e.index)+o+s.slice(e.index+e[0].length)}s=s.replace(/\\([{}])/g,((t,e,i)=>{for(let t of r)t.line==n.length&&t.from>i&&(t.from--,t.to--);return e})),n.push(s)}return new tt(n,r)}}let et=r.Decoration.widget({widget:new class extends r.WidgetType{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),it=r.Decoration.mark({class:"cm-snippetField"});class nt{constructor(t,e){this.ranges=t,this.active=e,this.deco=r.Decoration.set(t.map((t=>(t.from==t.to?et:it).range(t.from,t.to))))}map(t){let e=[];for(let i of this.ranges){let n=i.map(t);if(!n)return null;e.push(n)}return new nt(e,this.active)}selectionInsideField(t){return t.ranges.every((t=>this.ranges.some((e=>e.field==this.active&&e.from<=t.from&&e.to>=t.to))))}}const rt=n.StateEffect.define({map(t,e){return t&&t.map(e)}}),st=n.StateEffect.define(),ot=n.StateField.define({create(){return null},update(t,e){for(let i of e.effects){if(i.is(rt))return i.value;if(i.is(st)&&t)return new nt(t.ranges,i.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>r.EditorView.decorations.from(t,(t=>t?t.deco:r.Decoration.none))});function at(t,e){return n.EditorSelection.create(t.filter((t=>t.field==e)).map((t=>n.EditorSelection.range(t.from,t.to))))}function lt(t){let e=tt.parse(t);return(t,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,r),l={changes:{from:r,to:s,insert:n.Text.of(o)},scrollIntoView:!0,annotations:i?[p.of(i),n.Transaction.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=at(a,0)),a.some((t=>t.field>0))){let e=new nt(a,0),i=l.effects=[rt.of(e)];void 0===t.state.field(ot,!1)&&i.push(n.StateEffect.appendConfig.of([ot,vt,wt,Y]))}t.dispatch(t.state.update(l))}}function ht(t){return({state:e,dispatch:i})=>{let n=e.field(ot,!1);if(!n||t<0&&0==n.active)return!1;let r=n.active+t,s=t>0&&!n.ranges.some((e=>e.field==r+t));return i(e.update({selection:at(n.ranges,r),effects:rt.of(s?null:new nt(n.ranges,r)),scrollIntoView:!0})),!0}}const ct=({state:t,dispatch:e})=>!!t.field(ot,!1)&&(e(t.update({effects:rt.of(null)})),!0),ut=ht(1),dt=ht(-1);function ft(t){let e=t.field(ot,!1);return!(!e||!e.ranges.some((t=>t.field==e.active+1)))}function pt(t){let e=t.field(ot,!1);return!!(e&&e.active>0)}const gt=[{key:"Tab",run:ut,shift:dt},{key:"Escape",run:ct}],mt=n.Facet.define({combine(t){return t.length?t[0]:gt}}),vt=n.Prec.highest(r.keymap.compute([mt],(t=>t.facet(mt))));function bt(t,e){return Object.assign(Object.assign({},e),{apply:lt(t)})}const wt=r.EditorView.domEventHandlers({mousedown(t,e){let i,n=e.state.field(ot,!1);if(!n||null==(i=e.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let r=n.ranges.find((t=>t.from<=i&&t.to>=i));return!(!r||r.field==n.active)&&(e.dispatch({selection:at(n.ranges,r.field),effects:rt.of(n.ranges.some((t=>t.field>r.field))?new nt(n.ranges,r.field):null),scrollIntoView:!0}),!0)}});function yt(t,e){return new RegExp(e(t.source),t.unicode?"u":"")}const xt=Object.create(null);function kt(t,e,i,n,r){for(let s=t.iterLines(),o=0;!s.next().done;){let t,{value:a}=s;for(e.lastIndex=0;t=e.exec(a);)if(!n[t[0]]&&o+t.index!=r&&(i.push({type:"text",label:t[0]}),n[t[0]]=!0,i.length>=2e3))return;o+=a.length+1}}function St(t,e,i,n,r){let s=t.length>=1e3,o=s&&e.get(t);if(o)return o;let a=[],l=Object.create(null);if(t.children){let s=0;for(let o of t.children){if(o.length>=1e3)for(let t of St(o,e,i,n-s,r-s))l[t.label]||(l[t.label]=!0,a.push(t));else kt(o,i,a,l,r-s);s+=o.length+1}}else kt(t,i,a,l,r);return s&&a.length<2e3&&e.set(t,a),a}const Ot=t=>{let e=t.state.languageDataAt("wordChars",t.pos).join(""),i=function(t){let e=t.replace(/[\]\-\\]/g,"\\$&");try{return new RegExp(`[\\p{Alphabetic}\\p{Number}_${e}]+`,"ug")}catch(t){return new RegExp(`[w${e}]`,"g")}}(e),n=t.matchBefore(yt(i,(t=>t+"$")));if(!n&&!t.explicit)return null;let r=n?n.from:t.pos,s=St(t.state.doc,function(t){return xt[t]||(xt[t]=new WeakMap)}(e),i,5e4,r);return{from:r,options:s,validFor:yt(i,(t=>"^"+t))}},Ct={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},At=n.StateEffect.define({map(t,e){let i=e.mapPos(t,-1,n.MapMode.TrackAfter);return null==i?void 0:i}}),Mt=new class extends n.RangeValue{};Mt.startSide=1,Mt.endSide=-1;const Tt=n.StateField.define({create(){return n.RangeSet.empty},update(t,e){if(t=t.map(e.changes),e.selection){let i=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=i.from&&t<=i.to})}for(let i of e.effects)i.is(At)&&(t=t.update({add:[Mt.range(i.value,i.value+1)]}));return t}});function Pt(){return[Nt,Tt]}const Dt="()[]{}<>";function Et(t){for(let e=0;e<Dt.length;e+=2)if(Dt.charCodeAt(e)==t)return Dt.charAt(e+1);return(0,n.fromCodePoint)(t<128?t:t+1)}function Rt(t,e){return t.languageDataAt("closeBrackets",e)[0]||Ct}const Bt="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Nt=r.EditorView.inputHandler.of(((t,e,i,r)=>{if((Bt?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let s=t.state.selection.main;if(r.length>2||2==r.length&&1==(0,n.codePointSize)((0,n.codePointAt)(r,0))||e!=s.from||i!=s.to)return!1;let o=Qt(t.state,r);return!!o&&(t.dispatch(o),!0)})),Lt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=Rt(t,t.selection.main.head).brackets||Ct.brackets,r=null,s=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let i=t.sliceString(e-2,e);return(0,n.codePointSize)((0,n.codePointAt)(i,0))==i.length?i:i.slice(1)}(t.doc,e.head);for(let s of i)if(s==r&&zt(t.doc,e.head)==Et((0,n.codePointAt)(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:n.EditorSelection.cursor(e.head-s.length)}}return{range:r=e}}));return r||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},It=[{key:"Backspace",run:Lt}];function Qt(t,e){let i=Rt(t,t.selection.main.head),r=i.brackets||Ct.brackets;for(let s of r){let o=Et((0,n.codePointAt)(s,0));if(e==s)return o==s?$t(t,s,r.indexOf(s+s+s)>-1,i):Vt(t,s,o,i.before||Ct.before);if(e==o&&_t(t,t.selection.main.from))return Ft(t,s,o)}return null}function _t(t,e){let i=!1;return t.field(Tt).between(0,t.doc.length,(t=>{t==e&&(i=!0)})),i}function zt(t,e){let i=t.sliceString(e,e+2);return i.slice(0,(0,n.codePointSize)((0,n.codePointAt)(i,0)))}function Vt(t,e,i,r){let s=null,o=t.changeByRange((o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:i,from:o.to}],effects:At.of(o.to+e.length),range:n.EditorSelection.range(o.anchor+e.length,o.head+e.length)};let a=zt(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+i,from:o.head},effects:At.of(o.head+e.length),range:n.EditorSelection.cursor(o.head+e.length)}:{range:s=o}}));return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Ft(t,e,i){let r=null,s=t.changeByRange((e=>e.empty&&zt(t.doc,e.head)==i?{changes:{from:e.head,to:e.head+i.length,insert:i},range:n.EditorSelection.cursor(e.head+i.length)}:r={range:e}));return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function $t(t,e,i,r){let o=r.stringPrefixes||Ct.stringPrefixes,a=null,l=t.changeByRange((r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:e,from:r.to}],effects:At.of(r.to+e.length),range:n.EditorSelection.range(r.anchor+e.length,r.head+e.length)};let l,h=r.head,c=zt(t.doc,h);if(c==e){if(Wt(t,h))return{changes:{insert:e+e,from:h},effects:At.of(h+e.length),range:n.EditorSelection.cursor(h+e.length)};if(_t(t,h)){let r=i&&t.sliceDoc(h,h+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:h,to:h+r.length,insert:r},range:n.EditorSelection.cursor(h+r.length)}}}else{if(i&&t.sliceDoc(h-2*e.length,h)==e+e&&(l=qt(t,h-2*e.length,o))>-1&&Wt(t,l))return{changes:{insert:e+e+e+e,from:h},effects:At.of(h+e.length),range:n.EditorSelection.cursor(h+e.length)};if(t.charCategorizer(h)(c)!=n.CharCategory.Word&&qt(t,h,o)>-1&&!function(t,e,i,n){let r=(0,s.syntaxTree)(t).resolveInner(e,-1),o=n.reduce(((t,e)=>Math.max(t,e.length)),0);for(let s=0;s<5;s++){let s=t.sliceDoc(r.from,Math.min(r.to,r.from+i.length+o)),a=s.indexOf(i);if(!a||a>-1&&n.indexOf(s.slice(0,a))>-1){let e=r.firstChild;for(;e&&e.from==r.from&&e.to-e.from>i.length+a;){if(t.sliceDoc(e.to-i.length,e.to)==i)return!1;e=e.firstChild}return!0}let l=r.to==e&&r.parent;if(!l)break;r=l}return!1}(t,h,e,o))return{changes:{insert:e+e,from:h},effects:At.of(h+e.length),range:n.EditorSelection.cursor(h+e.length)}}return{range:a=r}}));return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function Wt(t,e){let i=(0,s.syntaxTree)(t).resolveInner(e+1);return i.parent&&i.from==e}function qt(t,e,i){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=n.CharCategory.Word)return e;for(let s of i){let i=e-s.length;if(t.sliceDoc(i,e)==s&&r(t.sliceDoc(i-1,i))!=n.CharCategory.Word)return i}return-1}function Ht(t={}){return[K,V,k.of(t),j,Ut,Y]}const Xt=[{key:"Ctrl-Space",run:H},{mac:"Alt-`",run:H},{key:"Escape",run:X},{key:"ArrowDown",run:W(!0)},{key:"ArrowUp",run:W(!1)},{key:"PageDown",run:W(!0,"page")},{key:"PageUp",run:W(!1,"page")},{key:"Enter",run:q}],Ut=n.Prec.highest(r.keymap.computeN([k],(t=>t.facet(k).defaultKeymap?[Xt]:[])));function jt(t){let e=t.field(V,!1);return e&&e.active.some((t=>1==t.state))?"pending":e&&e.active.some((t=>0!=t.state))?"active":null}const Gt=new WeakMap;function Kt(t){var e;let i=null===(e=t.field(V,!1))||void 0===e?void 0:e.open;if(!i||i.disabled)return[];let n=Gt.get(i.options);return n||Gt.set(i.options,n=i.options.map((t=>t.completion))),n}function Yt(t){var e;let i=null===(e=t.field(V,!1))||void 0===e?void 0:e.open;return i&&!i.disabled&&i.selected>=0?i.options[i.selected].completion:null}function Zt(t){var e;let i=null===(e=t.field(V,!1))||void 0===e?void 0:e.open;return i&&!i.disabled&&i.selected>=0?i.selected:null}function Jt(t){return z.of(t)}},84876:function(t,e,i){i.r(e),i.d(e,{EditorView:function(){return n.EditorView},basicSetup:function(){return ui},minimalSetup:function(){return di}});var n=i(52726),r=i(38717),s=i(35510),o=i(19905);function a(t,e){return({state:i,dispatch:n})=>{if(i.readOnly)return!1;let r=t(e,i);return!!r&&(n(i.update(r)),!0)}}const l=a(p,0),h=a(f,0),c=a(((t,e)=>f(t,e,function(t){let e=[];for(let i of t.selection.ranges){let n=t.doc.lineAt(i.from),r=i.to<=n.to?n:t.doc.lineAt(i.to),s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=r.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:r.to})}return e}(e))),0);function u(t,e){let i=t.languageDataAt("commentTokens",e);return i.length?i[0]:{}}const d=50;function f(t,e,i=e.selection.ranges){let n=i.map((t=>u(e,t.from).block));if(!n.every((t=>t)))return null;let r=i.map(((t,i)=>function(t,{open:e,close:i},n,r){let s,o,a=t.sliceDoc(n-d,n),l=t.sliceDoc(r,r+d),h=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(l)[0].length,u=a.length-h;if(a.slice(u-e.length,u)==e&&l.slice(c,c+i.length)==i)return{open:{pos:n-h,margin:h&&1},close:{pos:r+c,margin:c&&1}};r-n<=2*d?s=o=t.sliceDoc(n,r):(s=t.sliceDoc(n,n+d),o=t.sliceDoc(r-d,r));let f=/^\s*/.exec(s)[0].length,p=/\s*$/.exec(o)[0].length,g=o.length-p-i.length;return s.slice(f,f+e.length)==e&&o.slice(g,g+i.length)==i?{open:{pos:n+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:r-p-i.length,margin:/\s/.test(o.charAt(g-1))?1:0}}:null}(e,n[i],t.from,t.to)));if(2!=t&&!r.every((t=>t)))return{changes:e.changes(i.map(((t,e)=>r[e]?[]:[{from:t.from,insert:n[e].open+" "},{from:t.to,insert:" "+n[e].close}])))};if(1!=t&&r.some((t=>t))){let t=[];for(let e,i=0;i<r.length;i++)if(e=r[i]){let r=n[i],{open:s,close:o}=e;t.push({from:s.pos-r.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+r.close.length})}return{changes:t}}return null}function p(t,e,i=e.selection.ranges){let n=[],r=-1;for(let{from:t,to:s}of i){let i=n.length,o=1e9,a=u(e,t).line;if(a){for(let i=t;i<=s;){let l=e.doc.lineAt(i);if(l.from>r&&(t==s||s>l.from)){r=l.from;let t=/^\s*/.exec(l.text)[0].length,e=t==l.length,i=l.text.slice(t,t+a.length)==a?t:-1;t<l.text.length&&t<o&&(o=t),n.push({line:l,comment:i,token:a,indent:t,empty:e,single:!1})}i=l.to+1}if(o<1e9)for(let t=i;t<n.length;t++)n[t].indent<n[t].line.text.length&&(n[t].indent=o);n.length==i+1&&(n[i].single=!0)}}if(2!=t&&n.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:i,indent:r,empty:s,single:o}of n)!o&&s||t.push({from:e.from+r,insert:i+" "});let i=e.changes(t);return{changes:i,selection:e.selection.map(i,1)}}if(1!=t&&n.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:i,token:r}of n)if(i>=0){let n=e.from+i,s=n+r.length;" "==e.text[s-e.from]&&s++,t.push({from:n,to:s})}return{changes:t}}return null}const g=r.Annotation.define(),m=r.Annotation.define(),v=r.Facet.define(),b=r.Facet.define({combine(t){return(0,r.combineConfig)(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(i,n)=>t(i,n)||e(i,n)})}}),w=r.StateField.define({create(){return I.empty},update(t,e){let i=e.state.facet(b),n=e.annotation(g);if(n){let r=A.fromTransaction(e,n.selection),s=n.side,o=0==s?t.undone:t.done;return o=r?M(o,o.length,i.minDepth,r):E(o,e.startState.selection),new I(0==s?n.rest:o,0==s?o:n.rest)}let s=e.annotation(m);if("full"!=s&&"before"!=s||(t=t.isolate()),!1===e.annotation(r.Transaction.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let o=A.fromTransaction(e),a=e.annotation(r.Transaction.time),l=e.annotation(r.Transaction.userEvent);return o?t=t.addChanges(o,a,l,i,e):e.selection&&(t=t.addSelection(e.startState.selection,a,l,i.newGroupDelay)),"full"!=s&&"after"!=s||(t=t.isolate()),t},toJSON(t){return{done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}},fromJSON(t){return new I(t.done.map(A.fromJSON),t.undone.map(A.fromJSON))}});function y(t={}){return[w,b.of(t),n.EditorView.domEventHandlers({beforeinput(t,e){let i="historyUndo"==t.inputType?k:"historyRedo"==t.inputType?S:null;return!!i&&(t.preventDefault(),i(e))}})]}function x(t,e){return function({state:i,dispatch:n}){if(!e&&i.readOnly)return!1;let r=i.field(w,!1);if(!r)return!1;let s=r.pop(t,i,e);return!!s&&(n(s),!0)}}const k=x(0,!1),S=x(1,!1),O=x(0,!0),C=x(1,!0);class A{constructor(t,e,i,n,r){this.changes=t,this.effects=e,this.mapped=i,this.startSelection=n,this.selectionsAfter=r}setSelAfter(t){return new A(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,i;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new A(t.changes&&r.ChangeSet.fromJSON(t.changes),[],t.mapped&&r.ChangeDesc.fromJSON(t.mapped),t.startSelection&&r.EditorSelection.fromJSON(t.startSelection),t.selectionsAfter.map(r.EditorSelection.fromJSON))}static fromTransaction(t,e){let i=P;for(let e of t.startState.facet(v)){let n=e(t);n.length&&(i=i.concat(n))}return!i.length&&t.changes.empty?null:new A(t.changes.invert(t.startState.doc),i,void 0,e||t.startState.selection,P)}static selection(t){return new A(void 0,P,void 0,void 0,t)}}function M(t,e,i,n){let r=e+1>i+20?e-i-1:0,s=t.slice(r,e);return s.push(n),s}function T(t,e){return t.length?e.length?t.concat(e):t:e}const P=[],D=200;function E(t,e){if(t.length){let i=t[t.length-1],n=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-D));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),M(t,t.length-1,1e9,i.setSelAfter(n)))}return[A.selection([e])]}function R(t){let e=t[t.length-1],i=t.slice();return i[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),i}function B(t,e){if(!t.length)return t;let i=t.length,n=P;for(;i;){let r=N(t[i-1],e,n);if(r.changes&&!r.changes.empty||r.effects.length){let e=t.slice(0,i);return e[i-1]=r,e}e=r.mapped,i--,n=r.selectionsAfter}return n.length?[A.selection(n)]:P}function N(t,e,i){let n=T(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):P,i);if(!t.changes)return A.selection(n);let s=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new A(s,r.StateEffect.mapEffects(t.effects,e),a,t.startSelection.map(o),n)}const L=/^(input\.type|delete)($|\.)/;class I{constructor(t,e,i=0,n=void 0){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new I(this.done,this.undone):this}addChanges(t,e,i,n,s){let o=this.done,a=o[o.length-1];return o=a&&a.changes&&!a.changes.empty&&t.changes&&(!i||L.test(i))&&(!a.selectionsAfter.length&&e-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,function(t,e){let i=[],n=!1;return t.iterChangedRanges(((t,e)=>i.push(t,e))),e.iterChangedRanges(((t,e,r,s)=>{for(let t=0;t<i.length;){let e=i[t++],o=i[t++];s>=e&&r<=o&&(n=!0)}})),n}(a.changes,t.changes))||"input.type.compose"==i)?M(o,o.length-1,n.minDepth,new A(t.changes.compose(a.changes),T(r.StateEffect.mapEffects(t.effects,a.changes),a.effects),a.mapped,a.startSelection,P)):M(o,o.length,n.minDepth,t),new I(o,P,e,i)}addSelection(t,e,i,n){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:P;return r.length>0&&e-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&(s=r[r.length-1],o=t,s.ranges.length==o.ranges.length&&0===s.ranges.filter(((t,e)=>t.empty!=o.ranges[e].empty)).length)?this:new I(E(this.done,t),this.undone,e,i);var s,o}addMapping(t){return new I(B(this.done,t),B(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,i){let n=0==t?this.done:this.undone;if(0==n.length)return null;let r=n[n.length-1],s=r.selectionsAfter[0]||e.selection;if(i&&r.selectionsAfter.length)return e.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:g.of({side:t,rest:R(n),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let i=1==n.length?P:n.slice(0,n.length-1);return r.mapped&&(i=B(i,r.mapped)),e.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:g.of({side:t,rest:i,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}I.empty=new I(P,P);const Q=[{key:"Mod-z",run:k,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:S,preventDefault:!0},{linux:"Ctrl-Shift-z",run:S,preventDefault:!0},{key:"Mod-u",run:O,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:C,preventDefault:!0}];function _(t,e){return r.EditorSelection.create(t.ranges.map(e),t.mainIndex)}function z(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function V({state:t,dispatch:e},i){let n=_(t.selection,i);return!n.eq(t.selection,!0)&&(e(z(t,n)),!0)}function F(t,e){return r.EditorSelection.cursor(e?t.to:t.from)}function $(t,e){return V(t,(i=>i.empty?t.moveByChar(i,e):F(i,e)))}function W(t){return t.textDirectionAt(t.state.selection.main.head)==n.Direction.LTR}const q=t=>$(t,!W(t)),H=t=>$(t,W(t));function X(t,e){return V(t,(i=>i.empty?t.moveByGroup(i,e):F(i,e)))}"undefined"!=typeof Intl&&Intl.Segmenter;function U(t,e,i){if(e.type.prop(i))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function j(t,e,i){let n,a,l=(0,s.syntaxTree)(t).resolveInner(e.head),h=i?o.NodeProp.closedBy:o.NodeProp.openedBy;for(let n=e.head;;){let e=i?l.childAfter(n):l.childBefore(n);if(!e)break;U(t,e,h)?l=e:n=i?e.to:e.from}return a=l.type.prop(h)&&(n=i?(0,s.matchBrackets)(t,l.from,1):(0,s.matchBrackets)(t,l.to,-1))&&n.matched?i?n.end.to:n.end.from:i?l.to:l.from,r.EditorSelection.cursor(a,i?-1:1)}function G(t,e){return V(t,(i=>{if(!i.empty)return F(i,e);let n=t.moveVertically(i,e);return n.head!=i.head?n:t.moveToLineBoundary(i,e)}))}const K=t=>G(t,!1),Y=t=>G(t,!0);function Z(t){let e,i=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,s=0;if(i){for(let e of t.state.facet(n.EditorView.scrollMargins)){let i=e(t);(null==i?void 0:i.top)&&(r=Math.max(null==i?void 0:i.top,r)),(null==i?void 0:i.bottom)&&(s=Math.max(null==i?void 0:i.bottom,s))}e=t.scrollDOM.clientHeight-r-s}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:s,selfScroll:i,height:Math.max(t.defaultLineHeight,e-5)}}function J(t,e){let i,r=Z(t),{state:s}=t,o=_(s.selection,(i=>i.empty?t.moveVertically(i,e,r.height):F(i,e)));if(o.eq(s.selection))return!1;if(r.selfScroll){let e=t.coordsAtPos(s.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+r.marginTop,h=a.bottom-r.marginBottom;e&&e.top>l&&e.bottom<h&&(i=n.EditorView.scrollIntoView(o.main.head,{y:"start",yMargin:e.top-l}))}return t.dispatch(z(s,o),{effects:i}),!0}const tt=t=>J(t,!1),et=t=>J(t,!0);function it(t,e,i){let n=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,i);if(s.head==e.head&&s.head!=(i?n.to:n.from)&&(s=t.moveToLineBoundary(e,i,!1)),!i&&s.head==n.from&&n.length){let i=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;i&&e.head!=n.from+i&&(s=r.EditorSelection.cursor(n.from+i))}return s}function nt(t,e,i){let n=!1,o=_(t.selection,(e=>{let o=(0,s.matchBrackets)(t,e.head,-1)||(0,s.matchBrackets)(t,e.head,1)||e.head>0&&(0,s.matchBrackets)(t,e.head-1,1)||e.head<t.doc.length&&(0,s.matchBrackets)(t,e.head+1,-1);if(!o||!o.end)return e;n=!0;let a=o.start.from==e.head?o.end.to:o.end.from;return i?r.EditorSelection.range(e.anchor,a):r.EditorSelection.cursor(a)}));return!!n&&(e(z(t,o)),!0)}function rt(t,e){let i=_(t.state.selection,(t=>{let i=e(t);return r.EditorSelection.range(t.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)}));return!i.eq(t.state.selection)&&(t.dispatch(z(t.state,i)),!0)}function st(t,e){return rt(t,(i=>t.moveByChar(i,e)))}const ot=t=>st(t,!W(t)),at=t=>st(t,W(t));function lt(t,e){return rt(t,(i=>t.moveByGroup(i,e)))}function ht(t,e){return rt(t,(i=>t.moveVertically(i,e)))}const ct=t=>ht(t,!1),ut=t=>ht(t,!0);function dt(t,e){return rt(t,(i=>t.moveVertically(i,e,Z(t).height)))}const ft=t=>dt(t,!1),pt=t=>dt(t,!0),gt=({state:t,dispatch:e})=>(e(z(t,{anchor:0})),!0),mt=({state:t,dispatch:e})=>(e(z(t,{anchor:t.doc.length})),!0),vt=({state:t,dispatch:e})=>(e(z(t,{anchor:t.selection.main.anchor,head:0})),!0),bt=({state:t,dispatch:e})=>(e(z(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function wt(t,e){if(t.state.readOnly)return!1;let i="delete.selection",{state:s}=t,o=s.changeByRange((n=>{let{from:s,to:o}=n;if(s==o){let r=e(n);r<s?(i="delete.backward",r=yt(t,r,!1)):r>s&&(i="delete.forward",r=yt(t,r,!0)),s=Math.min(s,r),o=Math.max(o,r)}else s=yt(t,s,!1),o=yt(t,o,!0);return s==o?{range:n}:{changes:{from:s,to:o},range:r.EditorSelection.cursor(s,s<n.head?-1:1)}}));return!o.changes.empty&&(t.dispatch(s.update(o,{scrollIntoView:!0,userEvent:i,effects:"delete.selection"==i?n.EditorView.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function yt(t,e,i){if(t instanceof n.EditorView)for(let r of t.state.facet(n.EditorView.atomicRanges).map((e=>e(t))))r.between(e,e,((t,n)=>{t<e&&n>e&&(e=i?n:t)}));return e}const xt=(t,e,i)=>wt(t,(n=>{let o,a,l=n.from,{state:h}=t,c=h.doc.lineAt(l);if(i&&!e&&l>c.from&&l<c.from+200&&!/[^ \t]/.test(o=c.text.slice(0,l-c.from))){if("\t"==o[o.length-1])return l-1;let t=(0,r.countColumn)(o,h.tabSize)%(0,s.getIndentUnit)(h)||(0,s.getIndentUnit)(h);for(let e=0;e<t&&" "==o[o.length-1-e];e++)l--;a=l}else a=(0,r.findClusterBreak)(c.text,l-c.from,e,e)+c.from,a==l&&c.number!=(e?h.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(c.text.slice(a-c.from,l-c.from))&&(a=(0,r.findClusterBreak)(c.text,a-c.from,!1,!1)+c.from);return a})),kt=t=>xt(t,!1,!0),St=t=>xt(t,!0,!1),Ot=(t,e)=>wt(t,(i=>{let n=i.head,{state:s}=t,o=s.doc.lineAt(n),a=s.charCategorizer(n);for(let t=null;;){if(n==(e?o.to:o.from)){n==i.head&&o.number!=(e?s.doc.lines:1)&&(n+=e?1:-1);break}let l=(0,r.findClusterBreak)(o.text,n-o.from,e)+o.from,h=o.text.slice(Math.min(n,l)-o.from,Math.max(n,l)-o.from),c=a(h);if(null!=t&&c!=t)break;" "==h&&n==i.head||(t=c),n=l}return n})),Ct=t=>Ot(t,!1);function At(t){let e=[],i=-1;for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),s=t.doc.lineAt(n.to);if(n.empty||n.to!=s.from||(s=t.doc.lineAt(n.to-1)),i>=r.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(n)}else e.push({from:r.from,to:s.to,ranges:[n]});i=s.number+1}return e}function Mt(t,e,i){if(t.readOnly)return!1;let n=[],s=[];for(let e of At(t)){if(i?e.to==t.doc.length:0==e.from)continue;let o=t.doc.lineAt(i?e.to+1:e.from-1),a=o.length+1;if(i){n.push({from:e.to,to:o.to},{from:e.from,insert:o.text+t.lineBreak});for(let i of e.ranges)s.push(r.EditorSelection.range(Math.min(t.doc.length,i.anchor+a),Math.min(t.doc.length,i.head+a)))}else{n.push({from:o.from,to:e.from},{from:e.to,insert:t.lineBreak+o.text});for(let t of e.ranges)s.push(r.EditorSelection.range(t.anchor-a,t.head-a))}}return!!n.length&&(e(t.update({changes:n,scrollIntoView:!0,selection:r.EditorSelection.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Tt(t,e,i){if(t.readOnly)return!1;let n=[];for(let e of At(t))i?n.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):n.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Pt=Dt(!1);function Dt(t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let n=e.changeByRange((i=>{let{from:n,to:a}=i,l=e.doc.lineAt(n),h=!t&&n==a&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let i,n=(0,s.syntaxTree)(t).resolveInner(e),r=n.childBefore(e),a=n.childAfter(e);return r&&a&&r.to<=e&&a.from>=e&&(i=r.type.prop(o.NodeProp.closedBy))&&i.indexOf(a.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(a.from).from&&!/\S/.test(t.sliceDoc(r.to,a.from))?{from:r.to,to:a.from}:null}(e,n);t&&(n=a=(a<=l.to?l:e.doc.lineAt(a)).to);let c=new s.IndentContext(e,{simulateBreak:n,simulateDoubleBreak:!!h}),u=(0,s.getIndentation)(c,n);for(null==u&&(u=(0,r.countColumn)(/^\s*/.exec(e.doc.lineAt(n).text)[0],e.tabSize));a<l.to&&/\s/.test(l.text[a-l.from]);)a++;h?({from:n,to:a}=h):n>l.from&&n<l.from+100&&!/\S/.test(l.text.slice(0,n))&&(n=l.from);let d=["",(0,s.indentString)(e,u)];return h&&d.push((0,s.indentString)(e,c.lineIndent(l.from,-1))),{changes:{from:n,to:a,insert:r.Text.of(d)},range:r.EditorSelection.cursor(n+1+d[1].length)}}));return i(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Et(t,e){let i=-1;return t.changeByRange((n=>{let s=[];for(let r=n.from;r<=n.to;){let o=t.doc.lineAt(r);o.number>i&&(n.empty||n.to>o.from)&&(e(o,s,n),i=o.number),r=o.to+1}let o=t.changes(s);return{changes:s,range:r.EditorSelection.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}}))}const Rt=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Et(t,((e,i)=>{i.push({from:e.from,insert:t.facet(s.indentUnit)})})),{userEvent:"input.indent"})),!0),Bt=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Et(t,((e,i)=>{let n=/^\s*/.exec(e.text)[0];if(!n)return;let o=(0,r.countColumn)(n,t.tabSize),a=0,l=(0,s.indentString)(t,Math.max(0,o-(0,s.getIndentUnit)(t)));for(;a<n.length&&a<l.length&&n.charCodeAt(a)==l.charCodeAt(a);)a++;i.push({from:e.from+a,to:e.from+n.length,insert:l.slice(a)})})),{userEvent:"delete.dedent"})),!0),Nt=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>V(t,(e=>j(t.state,e,!W(t)))),shift:t=>rt(t,(e=>j(t.state,e,!W(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>V(t,(e=>j(t.state,e,W(t)))),shift:t=>rt(t,(e=>j(t.state,e,W(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>Mt(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Tt(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>Mt(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Tt(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let i=t.selection,n=null;return i.ranges.length>1?n=r.EditorSelection.create([i.main]):i.main.empty||(n=r.EditorSelection.create([r.EditorSelection.cursor(i.main.head)])),!!n&&(e(z(t,n)),!0)}},{key:"Mod-Enter",run:Dt(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let i=At(t).map((({from:e,to:i})=>r.EditorSelection.range(e,Math.min(i+1,t.doc.length))));return e(t.update({selection:r.EditorSelection.create(i),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let i=_(t.selection,(e=>{let i=(0,s.syntaxTree)(t),n=i.resolveStack(e.from,1);if(e.empty){let t=i.resolveStack(e.from,-1);t.node.from>=n.node.from&&t.node.to<=n.node.to&&(n=t)}for(let t=n;t;t=t.next){let{node:i}=t;if((i.from<e.from&&i.to>=e.to||i.to>e.to&&i.from<=e.from)&&t.next)return r.EditorSelection.range(i.to,i.from)}return e}));return!i.eq(t.selection)&&(e(z(t,i)),!0)},preventDefault:!0},{key:"Mod-[",run:Bt},{key:"Mod-]",run:Rt},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=Object.create(null),n=new s.IndentContext(t,{overrideIndentation:t=>{let e=i[t];return null==e?-1:e}}),r=Et(t,((e,r,o)=>{let a=(0,s.getIndentation)(n,e.from);if(null==a)return;/\S/.test(e.text)||(a=0);let l=/^\s*/.exec(e.text)[0],h=(0,s.indentString)(t,a);(l!=h||o.from<e.from+l.length)&&(i[e.from]=a,r.push({from:e.from,to:e.from+l.length,insert:h}))}));return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,i=e.changes(At(e).map((({from:t,to:i})=>(t>0?t--:i<e.doc.length&&i++,{from:t,to:i})))),n=_(e.selection,(e=>{let i;if(t.lineWrapping){let n=t.lineBlockAt(e.head),r=t.coordsAtPos(e.head,e.assoc||1);r&&(i=n.bottom+t.documentTop-r.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,i)})).map(i);return t.dispatch({changes:i,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>nt(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,i=e.doc.lineAt(e.selection.main.from),n=u(t.state,i.from);return n.line?l(t):!!n.block&&c(t)}},{key:"Alt-A",run:h},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:q,shift:ot,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>X(t,!W(t)),shift:t=>lt(t,!W(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>V(t,(e=>it(t,e,!W(t)))),shift:t=>rt(t,(e=>it(t,e,!W(t)))),preventDefault:!0},{key:"ArrowRight",run:H,shift:at,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>X(t,W(t)),shift:t=>lt(t,W(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>V(t,(e=>it(t,e,W(t)))),shift:t=>rt(t,(e=>it(t,e,W(t)))),preventDefault:!0},{key:"ArrowUp",run:K,shift:ct,preventDefault:!0},{mac:"Cmd-ArrowUp",run:gt,shift:vt},{mac:"Ctrl-ArrowUp",run:tt,shift:ft},{key:"ArrowDown",run:Y,shift:ut,preventDefault:!0},{mac:"Cmd-ArrowDown",run:mt,shift:bt},{mac:"Ctrl-ArrowDown",run:et,shift:pt},{key:"PageUp",run:tt,shift:ft},{key:"PageDown",run:et,shift:pt},{key:"Home",run:t=>V(t,(e=>it(t,e,!1))),shift:t=>rt(t,(e=>it(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:gt,shift:vt},{key:"End",run:t=>V(t,(e=>it(t,e,!0))),shift:t=>rt(t,(e=>it(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:mt,shift:bt},{key:"Enter",run:Pt},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:kt,shift:kt},{key:"Delete",run:St},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ct},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Ot(t,!0)},{mac:"Mod-Backspace",run:t=>wt(t,(e=>{let i=t.moveToLineBoundary(e,!1).head;return e.head>i?i:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>wt(t,(e=>{let i=t.moveToLineBoundary(e,!0).head;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)}))}].concat([{key:"Ctrl-b",run:q,shift:ot,preventDefault:!0},{key:"Ctrl-f",run:H,shift:at},{key:"Ctrl-p",run:K,shift:ct},{key:"Ctrl-n",run:Y,shift:ut},{key:"Ctrl-a",run:t=>V(t,(e=>r.EditorSelection.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>rt(t,(e=>r.EditorSelection.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>V(t,(e=>r.EditorSelection.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>rt(t,(e=>r.EditorSelection.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:St},{key:"Ctrl-h",run:kt},{key:"Ctrl-k",run:t=>wt(t,(e=>{let i=t.lineBlockAt(e.head).to;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:Ct},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:r.Text.of(["",""])},range:r.EditorSelection.cursor(t.from)})));return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let i=e.from,n=t.doc.lineAt(i),s=i==n.from?i-1:(0,r.findClusterBreak)(n.text,i-n.from,!1)+n.from,o=i==n.to?i+1:(0,r.findClusterBreak)(n.text,i-n.from,!0)+n.from;return{changes:{from:s,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(s,i))},range:r.EditorSelection.cursor(o)}}));return!i.changes.empty&&(e(t.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:et}].map((t=>({mac:t.key,run:t.run,shift:t.shift})))));function Lt(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n];"string"==typeof r?t.setAttribute(n,r):null!=r&&(t[n]=r)}e++}for(;e<arguments.length;e++)It(t,arguments[e]);return t}function It(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var i=0;i<e.length;i++)It(t,e[i])}}const Qt="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class _t{constructor(t,e,i=0,n=t.length,r,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,n),this.bufferStart=i,this.normalize=r?t=>r(Qt(t)):Qt,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,r.codePointAt)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=(0,r.fromCodePoint)(t),i=this.bufferStart+this.bufferPos;this.bufferPos+=(0,r.codePointSize)(t);let n=this.normalize(e);for(let t=0,r=i;;t++){let s=n.charCodeAt(t),o=this.match(s,r,this.bufferPos+this.bufferStart);if(t==n.length-1){if(o)return this.value=o,this;break}r==i&&t<e.length&&e.charCodeAt(t)==s&&r++}}}match(t,e,i){let n=null;for(let e=0;e<this.matches.length;e+=2){let r=this.matches[e],s=!1;this.query.charCodeAt(r)==t&&(r==this.query.length-1?n={from:this.matches[e+1],to:i}:(this.matches[e]++,s=!0)),s||(this.matches.splice(e,2),e-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:i}:this.matches.push(1,e)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(_t.prototype[Symbol.iterator]=function(){return this});const zt={from:-1,to:-1,match:/.*/.exec("")},Vt="gm"+(null==/x/.unicode?"":"u");class Ft{constructor(t,e,i,n=0,r=t.length){if(this.text=t,this.to=r,this.curLine="",this.done=!1,this.value=zt,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new qt(t,e,i,n,r);this.re=new RegExp(e,Vt+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.iter=t.iter();let s=t.lineAt(n);this.curLineStart=s.from,this.matchPos=Ht(t,n),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let i=this.curLineStart+e.index,n=i+e[0].length;if(this.matchPos=Ht(this.text,n+(i==n?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<n||i>this.value.to)&&(!this.test||this.test(i,n,e)))return this.value={from:i,to:n,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const $t=new WeakMap;class Wt{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,i){let n=$t.get(t);if(!n||n.from>=i||n.to<=e){let n=new Wt(e,t.sliceString(e,i));return $t.set(t,n),n}if(n.from==e&&n.to==i)return n;let{text:r,from:s}=n;return s>e&&(r=t.sliceString(e,s)+r,s=e),n.to<i&&(r+=t.sliceString(n.to,i)),$t.set(t,new Wt(s,r)),new Wt(e,r.slice(e-s,i-s))}}class qt{constructor(t,e,i,n,r){this.text=t,this.to=r,this.done=!1,this.value=zt,this.matchPos=Ht(t,n),this.re=new RegExp(e,Vt+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.flat=Wt.get(t,n,this.chunkEnd(n+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,i=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,i,e)))return this.value={from:t,to:i,match:e},this.matchPos=Ht(this.text,i+(t==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Wt.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Ht(t,e){if(e>=t.length)return e;let i,n=t.lineAt(e);for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function Xt(t){let e=Lt("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function i(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=t,o=s.doc.lineAt(s.selection.main.head),[,a,l,h,c]=i,u=h?+h.slice(1):0,d=l?+l:o.number;if(l&&c){let t=d/100;a&&(t=t*("-"==a?-1:1)+o.number/s.doc.lines),d=Math.round(s.doc.lines*t)}else l&&a&&(d=d*("-"==a?-1:1)+o.number);let f=s.doc.line(Math.max(1,Math.min(s.doc.lines,d))),p=r.EditorSelection.cursor(f.from+Math.max(0,Math.min(u,f.length)));t.dispatch({effects:[Ut.of(!1),n.EditorView.scrollIntoView(p.from,{y:"center"})],selection:p}),t.focus()}return{dom:Lt("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:Ut.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),i())},onsubmit:t=>{t.preventDefault(),i()}},Lt("label",t.state.phrase("Go to line"),": ",e)," ",Lt("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(Ft.prototype[Symbol.iterator]=qt.prototype[Symbol.iterator]=function(){return this});const Ut=r.StateEffect.define(),jt=r.StateField.define({create(){return!0},update(t,e){for(let i of e.effects)i.is(Ut)&&(t=i.value);return t},provide:t=>n.showPanel.from(t,(t=>t?Xt:null))}),Gt=n.EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Kt={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Yt=r.Facet.define({combine(t){return(0,r.combineConfig)(t,Kt,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function Zt(t){let e=[ne,ie];return t&&e.push(Yt.of(t)),e}const Jt=n.Decoration.mark({class:"cm-selectionMatch"}),te=n.Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ee(t,e,i,n){return!(0!=i&&t(e.sliceDoc(i-1,i))==r.CharCategory.Word||n!=e.doc.length&&t(e.sliceDoc(n,n+1))==r.CharCategory.Word)}const ie=n.ViewPlugin.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Yt),{state:i}=t,s=i.selection;if(s.ranges.length>1)return n.Decoration.none;let o,a=s.main,l=null;if(a.empty){if(!e.highlightWordAroundCursor)return n.Decoration.none;let t=i.wordAt(a.head);if(!t)return n.Decoration.none;l=i.charCategorizer(a.head),o=i.sliceDoc(t.from,t.to)}else{let t=a.to-a.from;if(t<e.minSelectionLength||t>200)return n.Decoration.none;if(e.wholeWords){if(o=i.sliceDoc(a.from,a.to),l=i.charCategorizer(a.head),!ee(l,i,a.from,a.to)||!function(t,e,i,n){return t(e.sliceDoc(i,i+1))==r.CharCategory.Word&&t(e.sliceDoc(n-1,n))==r.CharCategory.Word}(l,i,a.from,a.to))return n.Decoration.none}else if(o=i.sliceDoc(a.from,a.to),!o)return n.Decoration.none}let h=[];for(let r of t.visibleRanges){let t=new _t(i.doc,o,r.from,r.to);for(;!t.next().done;){let{from:r,to:s}=t.value;if((!l||ee(l,i,r,s))&&(a.empty&&r<=a.from&&s>=a.to?h.push(te.range(r,s)):(r>=a.to||s<=a.from)&&h.push(Jt.range(r,s)),h.length>e.maxMatches))return n.Decoration.none}}return n.Decoration.set(h)}},{decorations:t=>t.decorations}),ne=n.EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const re=r.Facet.define({combine(t){return(0,r.combineConfig)(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new Be(t),scrollToMatch:t=>n.EditorView.scrollIntoView(t)})}});class se{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,Vt),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new de(this):new le(this)}getCursor(t,e=0,i){let n=t.doc?t:r.EditorState.create({doc:t});return null==i&&(i=n.doc.length),this.regexp?he(this,n,e,i):ae(this,n,e,i)}}class oe{constructor(t){this.spec=t}}function ae(t,e,i,n){return new _t(e.doc,t.unquoted,i,n,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?(s=e.doc,o=e.charCategorizer(e.selection.main.head),(t,e,i,n)=>((n>t||n+i.length<e)&&(n=Math.max(0,t-2),i=s.sliceString(n,Math.min(s.length,e+2))),!(o(ce(i,t-n))==r.CharCategory.Word&&o(ue(i,t-n))==r.CharCategory.Word||o(ue(i,e-n))==r.CharCategory.Word&&o(ce(i,e-n))==r.CharCategory.Word))):void 0);var s,o}class le extends oe{constructor(t){super(t)}nextMatch(t,e,i){let n=ae(this.spec,t,i,t.doc.length).nextOverlapping();return n.done&&(n=ae(this.spec,t,0,e).nextOverlapping()),n.done?null:n.value}prevMatchInRange(t,e,i){for(let n=i;;){let i=Math.max(e,n-1e4-this.spec.unquoted.length),r=ae(this.spec,t,i,n),s=null;for(;!r.nextOverlapping().done;)s=r.value;if(s)return s;if(i==e)return null;n-=1e4}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let i=ae(this.spec,t,0,t.doc.length),n=[];for(;!i.next().done;){if(n.length>=e)return null;n.push(i.value)}return n}highlight(t,e,i,n){let r=ae(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,t.doc.length));for(;!r.next().done;)n(r.value.from,r.value.to)}}function he(t,e,i,n){return new Ft(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(s=e.charCategorizer(e.selection.main.head),(t,e,i)=>!i[0].length||(s(ce(i.input,i.index))!=r.CharCategory.Word||s(ue(i.input,i.index))!=r.CharCategory.Word)&&(s(ue(i.input,i.index+i[0].length))!=r.CharCategory.Word||s(ce(i.input,i.index+i[0].length))!=r.CharCategory.Word)):void 0},i,n);var s}function ce(t,e){return t.slice((0,r.findClusterBreak)(t,e,!1),e)}function ue(t,e){return t.slice(e,(0,r.findClusterBreak)(t,e))}class de extends oe{nextMatch(t,e,i){let n=he(this.spec,t,i,t.doc.length).next();return n.done&&(n=he(this.spec,t,0,e).next()),n.done?null:n.value}prevMatchInRange(t,e,i){for(let n=1;;n++){let r=Math.max(e,i-1e4*n),s=he(this.spec,t,r,i),o=null;for(;!s.next().done;)o=s.value;if(o&&(r==e||o.from>r+10))return o;if(r==e)return null}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((e,i)=>"$"==i?"$":"&"==i?t.match[0]:"0"!=i&&+i<t.match.length?t.match[i]:e))}matchAll(t,e){let i=he(this.spec,t,0,t.doc.length),n=[];for(;!i.next().done;){if(n.length>=e)return null;n.push(i.value)}return n}highlight(t,e,i,n){let r=he(this.spec,t,Math.max(0,e-250),Math.min(i+250,t.doc.length));for(;!r.next().done;)n(r.value.from,r.value.to)}}const fe=r.StateEffect.define(),pe=r.StateEffect.define(),ge=r.StateField.define({create(t){return new me(Me(t).create(),null)},update(t,e){for(let i of e.effects)i.is(fe)?t=new me(i.value.create(),t.panel):i.is(pe)&&(t=new me(t.query,i.value?Ae:null));return t},provide:t=>n.showPanel.from(t,(t=>t.panel))});class me{constructor(t,e){this.query=t,this.panel=e}}const ve=n.Decoration.mark({class:"cm-searchMatch"}),be=n.Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),we=n.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ge))}update(t){let e=t.state.field(ge);(e!=t.startState.field(ge)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return n.Decoration.none;let{view:i}=this,s=new r.RangeSetBuilder;for(let e=0,n=i.visibleRanges,r=n.length;e<r;e++){let{from:o,to:a}=n[e];for(;e<r-1&&a>n[e+1].from-500;)a=n[++e].to;t.highlight(i.state,o,a,((t,e)=>{let n=i.state.selection.ranges.some((i=>i.from==t&&i.to==e));s.add(t,e,n?be:ve)}))}return s.finish()}},{decorations:t=>t.decorations});function ye(t){return e=>{let i=e.state.field(ge,!1);return i&&i.query.spec.valid?t(e,i):De(e)}}const xe=ye(((t,{query:e})=>{let{to:i}=t.state.selection.main,n=e.nextMatch(t.state,i,i);if(!n)return!1;let s=r.EditorSelection.single(n.from,n.to),o=t.state.facet(re);return t.dispatch({selection:s,effects:[Qe(t,n),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),Pe(t),!0})),ke=ye(((t,{query:e})=>{let{state:i}=t,{from:n}=i.selection.main,s=e.prevMatch(i,n,n);if(!s)return!1;let o=r.EditorSelection.single(s.from,s.to),a=t.state.facet(re);return t.dispatch({selection:o,effects:[Qe(t,s),a.scrollToMatch(o.main,t)],userEvent:"select.search"}),Pe(t),!0})),Se=ye(((t,{query:e})=>{let i=e.matchAll(t.state,1e3);return!(!i||!i.length)&&(t.dispatch({selection:r.EditorSelection.create(i.map((t=>r.EditorSelection.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),Oe=ye(((t,{query:e})=>{let{state:i}=t,{from:s,to:o}=i.selection.main;if(i.readOnly)return!1;let a=e.nextMatch(i,s,s);if(!a)return!1;let l,h,c=[],u=[];if(a.from==s&&a.to==o&&(h=i.toText(e.getReplacement(a)),c.push({from:a.from,to:a.to,insert:h}),a=e.nextMatch(i,a.from,a.to),u.push(n.EditorView.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(s).number)+"."))),a){let e=0==c.length||c[0].from>=a.to?0:a.to-a.from-h.length;l=r.EditorSelection.single(a.from-e,a.to-e),u.push(Qe(t,a)),u.push(i.facet(re).scrollToMatch(l.main,t))}return t.dispatch({changes:c,selection:l,effects:u,userEvent:"input.replace"}),!0})),Ce=ye(((t,{query:e})=>{if(t.state.readOnly)return!1;let i=e.matchAll(t.state,1e9).map((t=>{let{from:i,to:n}=t;return{from:i,to:n,insert:e.getReplacement(t)}}));if(!i.length)return!1;let r=t.state.phrase("replaced $ matches",i.length)+".";return t.dispatch({changes:i,effects:n.EditorView.announce.of(r),userEvent:"input.replace.all"}),!0}));function Ae(t){return t.state.facet(re).createPanel(t)}function Me(t,e){var i,n,r,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let h=t.facet(re);return new se({search:(null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:h.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(n=null==e?void 0:e.caseSensitive)&&void 0!==n?n:h.caseSensitive,literal:null!==(r=null==e?void 0:e.literal)&&void 0!==r?r:h.literal,regexp:null!==(s=null==e?void 0:e.regexp)&&void 0!==s?s:h.regexp,wholeWord:null!==(o=null==e?void 0:e.wholeWord)&&void 0!==o?o:h.wholeWord})}function Te(t){let e=(0,n.getPanel)(t,Ae);return e&&e.dom.querySelector("[main-field]")}function Pe(t){let e=Te(t);e&&e==t.root.activeElement&&e.select()}const De=t=>{let e=t.state.field(ge,!1);if(e&&e.panel){let i=Te(t);if(i&&i!=t.root.activeElement){let n=Me(t.state,e.query.spec);n.valid&&t.dispatch({effects:fe.of(n)}),i.focus(),i.select()}}else t.dispatch({effects:[pe.of(!0),e?fe.of(Me(t.state,e.query.spec)):r.StateEffect.appendConfig.of(ze)]});return!0},Ee=t=>{let e=t.state.field(ge,!1);if(!e||!e.panel)return!1;let i=(0,n.getPanel)(t,Ae);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:pe.of(!1)}),!0},Re=[{key:"Mod-f",run:De,scope:"editor search-panel"},{key:"F3",run:xe,shift:ke,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:xe,shift:ke,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Ee,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:n,to:s}=i.main,o=[],a=0;for(let e=new _t(t.doc,t.sliceDoc(n,s));!e.next().done;){if(o.length>1e3)return!1;e.value.from==n&&(a=o.length),o.push(r.EditorSelection.range(e.value.from,e.value.to))}return e(t.update({selection:r.EditorSelection.create(o,a),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=(0,n.getPanel)(t,Xt);if(!e){let i=[Ut.of(!0)];null==t.state.field(jt,!1)&&i.push(r.StateEffect.appendConfig.of([jt,Gt])),t.dispatch({effects:i}),e=(0,n.getPanel)(t,Xt)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:i}=t.selection;if(i.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:i}=t,n=r.EditorSelection.create(i.ranges.map((e=>t.wordAt(e.head)||r.EditorSelection.cursor(e.head))),i.mainIndex);return!n.eq(i)&&(e(t.update({selection:n})),!0)})({state:t,dispatch:e});let s=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=s)))return!1;let o=function(t,e){let{main:i,ranges:n}=t.selection,r=t.wordAt(i.head),s=r&&r.from==i.from&&r.to==i.to;for(let i=!1,r=new _t(t.doc,e,n[n.length-1].to);;){if(r.next(),!r.done){if(i&&n.some((t=>t.from==r.value.from)))continue;if(s){let e=t.wordAt(r.value.from);if(!e||e.from!=r.value.from||e.to!=r.value.to)continue}return r.value}if(i)return null;r=new _t(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),i=!0}}(t,s);return!!o&&(e(t.update({selection:t.selection.addRange(r.EditorSelection.range(o.from,o.to),!1),effects:n.EditorView.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class Be{constructor(t){this.view=t;let e=this.query=t.state.field(ge).query.spec;function i(t,e,i){return Lt("button",{class:"cm-button",name:t,onclick:e,type:"button"},i)}this.commit=this.commit.bind(this),this.searchField=Lt("input",{value:e.search,placeholder:Ne(t,"Find"),"aria-label":Ne(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Lt("input",{value:e.replace,placeholder:Ne(t,"Replace"),"aria-label":Ne(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Lt("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=Lt("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=Lt("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=Lt("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,i("next",(()=>xe(t)),[Ne(t,"next")]),i("prev",(()=>ke(t)),[Ne(t,"previous")]),i("select",(()=>Se(t)),[Ne(t,"all")]),Lt("label",null,[this.caseField,Ne(t,"match case")]),Lt("label",null,[this.reField,Ne(t,"regexp")]),Lt("label",null,[this.wordField,Ne(t,"by word")]),...t.state.readOnly?[]:[Lt("br"),this.replaceField,i("replace",(()=>Oe(t)),[Ne(t,"replace")]),i("replaceAll",(()=>Ce(t)),[Ne(t,"replace all")])],Lt("button",{name:"close",onclick:()=>Ee(t),"aria-label":Ne(t,"close"),type:"button"},[""])])}commit(){let t=new se({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:fe.of(t)}))}keydown(t){(0,n.runScopeHandlers)(this.view,t,"search-panel")?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?ke:xe)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),Oe(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(fe)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(re).top}}function Ne(t,e){return t.state.phrase(e)}const Le=30,Ie=/[\s\.,:;?!]/;function Qe(t,{from:e,to:i}){let r=t.state.doc.lineAt(e),s=t.state.doc.lineAt(i).to,o=Math.max(r.from,e-Le),a=Math.min(s,i+Le),l=t.state.sliceDoc(o,a);if(o!=r.from)for(let t=0;t<Le;t++)if(!Ie.test(l[t+1])&&Ie.test(l[t])){l=l.slice(t);break}if(a!=s)for(let t=l.length-1;t>l.length-Le;t--)if(!Ie.test(l[t-1])&&Ie.test(l[t])){l=l.slice(0,t);break}return n.EditorView.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const _e=n.EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ze=[ge,r.Prec.low(we),_e];var Ve=i(84184);class Fe{constructor(t,e,i){this.from=t,this.to=e,this.diagnostic=i}}class $e{constructor(t,e,i){this.diagnostics=t,this.panel=e,this.selected=i}static init(t,e,i){let r=t,s=i.facet(ei).markerFilter;s&&(r=s(r,i));let o=n.Decoration.set(r.map((t=>t.from==t.to||t.from==t.to-1&&i.doc.lineAt(t.from).to==t.from?n.Decoration.widget({widget:new ri(t),diagnostic:t}).range(t.from):n.Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity+(t.markClass?" "+t.markClass:"")},diagnostic:t}).range(t.from,t.to))),!0);return new $e(o,e,We(o))}}function We(t,e=null,i=0){let n=null;return t.between(i,1e9,((t,i,{spec:r})=>{if(!e||r.diagnostic==e)return n=new Fe(t,i,r.diagnostic),!1})),n}function qe(t,e){let i=e.pos,n=e.end||i,r=t.state.facet(ei).hideOn(t,i,n);if(null!=r)return r;let s=t.startState.doc.lineAt(e.pos);return!(!t.effects.some((t=>t.is(Xe)))&&!t.changes.touchesRange(s.from,Math.max(s.to,n)))}function He(t,e){return t.field(Ge,!1)?e:e.concat(r.StateEffect.appendConfig.of(ci))}const Xe=r.StateEffect.define(),Ue=r.StateEffect.define(),je=r.StateEffect.define(),Ge=r.StateField.define({create(){return new $e(n.Decoration.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let i=t.diagnostics.map(e.changes),n=null,r=t.panel;if(t.selected){let r=e.changes.mapPos(t.selected.from,1);n=We(i,t.selected.diagnostic,r)||We(i,null,r)}!i.size&&r&&e.state.facet(ei).autoPanel&&(r=null),t=new $e(i,r,n)}for(let i of e.effects)if(i.is(Xe)){let n=e.state.facet(ei).autoPanel?i.value.length?oi.open:null:t.panel;t=$e.init(i.value,n,e.state)}else i.is(Ue)?t=new $e(t.diagnostics,i.value?oi.open:null,t.selected):i.is(je)&&(t=new $e(t.diagnostics,t.panel,i.value));return t},provide:t=>[n.showPanel.from(t,(t=>t.panel)),n.EditorView.decorations.from(t,(t=>t.diagnostics))]});const Ke=n.Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function Ye(t,e,i){let{diagnostics:n}=t.state.field(Ge),r=[],s=2e8,o=0;n.between(e-(i<0?1:0),e+(i>0?1:0),((t,n,{spec:a})=>{e>=t&&e<=n&&(t==n||(e>t||i>0)&&(e<n||i<0))&&(r.push(a.diagnostic),s=Math.min(t,s),o=Math.max(n,o))}));let a=t.state.facet(ei).tooltipFilter;return a&&(r=a(r,t.state)),r.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:Ze(t,r)}}}:null}function Ze(t,e){return Lt("ul",{class:"cm-tooltip-lint"},e.map((e=>ni(t,e,!1))))}const Je=t=>{let e=t.state.field(Ge,!1);return!(!e||!e.panel)&&(t.dispatch({effects:Ue.of(!1)}),!0)},ti=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(Ge,!1);e&&e.panel||t.dispatch({effects:He(t.state,[Ue.of(!0)])});let i=(0,n.getPanel)(t,oi.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(Ge,!1);if(!e)return!1;let i=t.state.selection.main,n=e.diagnostics.iter(i.to+1);return!(!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==i.from&&n.to==i.to))&&(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)}}];const ei=r.Facet.define({combine(t){return Object.assign({sources:t.map((t=>t.source)).filter((t=>null!=t))},(0,r.combineConfig)(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?i=>t(i)||e(i):t:e}))}});function ii(t){let e=[];if(t)t:for(let{name:i}of t){for(let t=0;t<i.length;t++){let n=i[t];if(/[a-zA-Z]/.test(n)&&!e.some((t=>t.toLowerCase()==n.toLowerCase()))){e.push(n);continue t}}e.push("")}return e}function ni(t,e,i){var n;let r=i?ii(e.actions):[];return Lt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Lt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),null===(n=e.actions)||void 0===n?void 0:n.map(((i,n)=>{let s=!1,o=n=>{if(n.preventDefault(),s)return;s=!0;let r=We(t.state.field(Ge).diagnostics,e);r&&i.apply(t,r.from,r.to)},{name:a}=i,l=r[n]?a.indexOf(r[n]):-1,h=l<0?a:[a.slice(0,l),Lt("u",a.slice(l,l+1)),a.slice(l+1)];return Lt("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${a}${l<0?"":` (access key "${r[n]})"`}.`},h)})),e.source&&Lt("div",{class:"cm-diagnosticSource"},e.source))}class ri extends n.WidgetType{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Lt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class si{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=ni(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class oi{constructor(t){this.view=t,this.items=[];this.list=Lt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)Je(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:i}=this.items[this.selectedIndex],n=ii(i.actions);for(let r=0;r<n.length;r++)if(n[r].toUpperCase().charCodeAt(0)==e.keyCode){let e=We(this.view.state.field(Ge).diagnostics,i);e&&i.actions[r].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=Lt("div",{class:"cm-panel-lint"},this.list,Lt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Je(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(Ge).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(Ge),i=0,n=!1,r=null;for(t.between(0,this.view.state.doc.length,((t,s,{spec:o})=>{let a,l=-1;for(let t=i;t<this.items.length;t++)if(this.items[t].diagnostic==o.diagnostic){l=t;break}l<0?(a=new si(this.view,o.diagnostic),this.items.splice(i,0,a),n=!0):(a=this.items[l],l>i&&(this.items.splice(i,l-i),n=!0)),e&&a.diagnostic==e.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),r=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new si(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),r?(this.list.setAttribute("aria-activedescendant",r.id),this.view.requestMeasure({key:this,read:()=>({sel:r.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let i=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/i:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/i)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;t!=i.dom;)e();t=i.dom.nextSibling}else this.list.insertBefore(i.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=We(this.view.state.field(Ge).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:je.of(e)})}static open(t){return new oi(t)}}function ai(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function li(t){return ai(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const hi=n.EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:li("#d11")},".cm-lintRange-warning":{backgroundImage:li("orange")},".cm-lintRange-info":{backgroundImage:li("#999")},".cm-lintRange-hint":{backgroundImage:li("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});n.GutterMarker;const ci=[Ge,n.EditorView.decorations.compute([Ge],(t=>{let{selected:e,panel:i}=t.field(Ge);return e&&i&&e.from!=e.to?n.Decoration.set([Ke.range(e.from,e.to)]):n.Decoration.none})),(0,n.hoverTooltip)(Ye,{hideOn:qe}),hi];const ui=(()=>[(0,n.lineNumbers)(),(0,n.highlightActiveLineGutter)(),(0,n.highlightSpecialChars)(),y(),(0,s.foldGutter)(),(0,n.drawSelection)(),(0,n.dropCursor)(),r.EditorState.allowMultipleSelections.of(!0),(0,s.indentOnInput)(),(0,s.syntaxHighlighting)(s.defaultHighlightStyle,{fallback:!0}),(0,s.bracketMatching)(),(0,Ve.closeBrackets)(),(0,Ve.autocompletion)(),(0,n.rectangularSelection)(),(0,n.crosshairCursor)(),(0,n.highlightActiveLine)(),Zt(),n.keymap.of([...Ve.closeBracketsKeymap,...Nt,...Re,...Q,...s.foldKeymap,...Ve.completionKeymap,...ti])])(),di=(()=>[(0,n.highlightSpecialChars)(),y(),(0,n.drawSelection)(),(0,s.syntaxHighlighting)(s.defaultHighlightStyle,{fallback:!0}),n.keymap.of([...Nt,...Q])])()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:af4f74024c6b6a919b45bcfa076fc9a6', location = 'build/1014.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1014],{51014:function(t,e,n){var c=n(88810),l=n(61955).charAt,i=n(64834),o=n(7391),r=n(17267);c({target:"String",proto:!0,forced:!0},{at:function(t){var e=r(i(this)),n=e.length,c=o(t),f=c>=0?c:n+c;return f<0||f>=n?void 0:l(e,f)}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:f4f0090660af2353470789a869e82bfc', location = 'build/869.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[869],{30869:function(t,e,n){var i,l=n(88810),o=n(71904),r=n(33071).f,s=n(13026),c=n(17267),f=n(83259),h=n(64834),u=n(78656),a=n(36007),g=o("".slice),p=Math.min,_=u("endsWith");l({target:"String",proto:!0,forced:!!(a||_||(i=r(String.prototype,"endsWith"),!i||i.writable))&&!_},{endsWith:function(t){var e=c(h(this));f(t);var n=arguments.length>1?arguments[1]:void 0,i=e.length,l=void 0===n?i:p(s(n),i),o=c(t);return g(e,l-o.length,l)===o}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:ec797ce9ddd5735da5d066cbedb2d88a', location = 'build/401.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[401],{33844:function(e,t,n){var r=n(92128),o=n(62153),i=n(68649),l=n(88770),u=n(56038);r&&(u(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=i(this),t=l(e);return 0===t?0:t-1}}),o("lastIndex"))},45891:function(e,t,n){var r=n(88810),o=n(93625),i=n(71904),l=n(47270),u=n(50381),a=n(64834),c=n(13026),s=n(17267),f=n(10659),g=n(59601),p=n(72748),d=n(34584),x=n(83614),h=n(39538),v=n(25236),b=n(42675),w=n(54175),_=n(3985),E=n(38785),I=n(79198),m=n(16369),R=n(36007),y=w("matchAll"),A="RegExp String",k=A+" Iterator",C=m.set,S=m.getterFor(k),F=RegExp.prototype,O=TypeError,T=i("".indexOf),j=i("".matchAll),q=!!j&&!b((function(){j("a",/./)})),z=l((function(e,t,n,r){C(this,{type:k,regexp:e,string:t,global:n,unicode:r,done:!1})}),A,(function(){var e=S(this);if(e.done)return u(void 0,!0);var t=e.regexp,n=e.string,r=I(t,n);return null===r?(e.done=!0,u(void 0,!0)):e.global?(""===s(r[0])&&(t.lastIndex=E(n,c(t.lastIndex),e.unicode)),u(r,!1)):(e.done=!0,u(r,!1))})),B=function(e){var t,n,r,o=f(this),i=s(e),l=_(o,RegExp),u=s(x(o));return t=new l(l===RegExp?o.source:o,u),n=!!~T(u,"g"),r=!!~T(u,"u"),t.lastIndex=c(o.lastIndex),new z(t,i,n,r)};r({target:"String",proto:!0,forced:q},{matchAll:function(e){var t,n,r,i,l=a(this);if(g(e)){if(q)return j(l,e)}else{if(d(e)&&(t=s(a(x(e))),!~T(t,"g")))throw new O("`.matchAll` does not allow non-global regexes");if(q)return j(l,e);if(void 0===(r=h(e,y))&&R&&"RegExp"===p(e)&&(r=B),r)return o(r,e,l)}return n=s(l),i=new RegExp(e,"g"),R?o(B,i,n):i[y](n)}}),R||y in F||v(F,y,B)},72628:function(e,t,n){n(45891)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:2b20dfcbef7d7827025860c606777eb4', location = 'build/2243.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2243],{92243:function(n,t,e){var i=e(88810),o=e(36007),f=e(95034),l=e(42675),r=e(33163),u=e(321),c=e(3985),a=e(6794),s=e(25236),h=f&&f.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!f&&l((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(n){var t=c(this,r("Promise")),e=u(n);return this.then(e?function(e){return a(t,n()).then((function(){return e}))}:n,e?function(e){return a(t,n()).then((function(){throw e}))}:n)}}),!o&&u(f)){var p=r("Promise").prototype.finally;h.finally!==p&&s(h,"finally",p,{unsafe:!0})}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e43eecb20176b5a6c43fc2b3fb01a0bb', location = 'build/6349.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6349],{12006:function(e,r,t){var n=t(88810),l=t(93625),a=t(2484),c=t(64834),i=t(321),o=t(59601),u=t(34584),f=t(17267),s=t(39538),g=t(83614),h=t(21650),p=t(54175),v=t(36007),d=p("replace"),_=TypeError,b=a("".indexOf),w=a("".replace),$=a("".slice),k=Math.max;n({target:"String",proto:!0},{replaceAll:function(e,r){var t,n,a,p,x,m,A,C,M,y,E=c(this),O=0,S="";if(!o(e)){if((t=u(e))&&(n=f(c(g(e))),!~b(n,"g")))throw new _("`.replaceAll` does not allow non-global regexes");if(a=s(e,d))return l(a,e,E,r);if(v&&t)return w(f(E),e,r)}for(p=f(E),x=f(e),(m=i(r))||(r=f(r)),A=x.length,C=k(1,A),M=b(p,x);-1!==M;)y=m?f(r(x,M,p)):h(x,p,M,[],void 0,r),S+=$(p,O,M)+y,O=M+A,M=M+C>p.length?-1:b(p,x,M+C);return O<p.length&&(S+=$(p,O)),S}})},21650:function(e,r,t){var n=t(2484),l=t(68649),a=Math.floor,c=n("".charAt),i=n("".replace),o=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,f=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,r,t,n,s,g){var h=t+e.length,p=n.length,v=f;return void 0!==s&&(s=l(s),v=u),i(g,v,(function(l,i){var u;switch(c(i,0)){case"$":return"$";case"&":return e;case"`":return o(r,0,t);case"'":return o(r,h);case"<":u=s[o(i,1,-1)];break;default:var f=+i;if(0===f)return l;if(f>p){var g=a(f/10);return 0===g?l:g<=p?void 0===n[g-1]?c(i,1):n[g-1]+c(i,1):l}u=n[f-1]}return void 0===u?"":u}))}},36349:function(e,r,t){t(12006)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:4c38f4240e70af70f1fd29fdf01997c2', location = 'build/5938.js' */
/*! For license information please see 5938.js.LICENSE.txt */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5938],{2368:function(e,r,t){e.exports=t(44494)},2396:function(e,r,t){var n=t(80261),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function d(e){return n.isMemo(e)?c:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=c;var u=Object.defineProperty,l=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(r,t,n){if("string"!=typeof t){if(f){var o=p(t);o&&o!==f&&e(r,o,n)}var c=l(t);i&&(c=c.concat(i(t)));for(var s=d(r),v=d(t),g=0;g<c.length;++g){var y=c[g];if(!(a[y]||n&&n[y]||v&&v[y]||s&&s[y])){var m=b(t,y);try{u(r,y,m)}catch(e){}}}}return r}},8888:function(e,r,t){t.r(r),t.d(r,{allSpaceMap:function(){return i},backgroundColorMap:function(){return y},backgroundColorStylesMap:function(){return D},borderColorMap:function(){return g},borderRadiusMap:function(){return x},borderWidthMap:function(){return F},dimensionMap:function(){return d},fillMap:function(){return h},fontFamilyMap:function(){return C},fontFamilyStylesMap:function(){return R},fontMap:function(){return S},fontStylesMap:function(){return j},fontWeightMap:function(){return w},fontWeightStylesMap:function(){return P},getSerializedStylesMap:function(){return B},inverseColorMap:function(){return b},isSurfaceColorToken:function(){return U},layerMap:function(){return k},negativeSpaceMap:function(){return l},opacityMap:function(){return p},paddingStylesMap:function(){return O},positiveSpaceMap:function(){return u},shadowMap:function(){return f},spaceStylesMap:function(){return $},surfaceColorMap:function(){return v},surfaceColorStylesMap:function(){return T},textColorMap:function(){return m},textColorStylesMap:function(){return _},textSizeMap:function(){return M},textSizeStylesMap:function(){return N},textWeightMap:function(){return E},textWeightStylesMap:function(){return I}});var n=t(36111),o=t(45073),a=t(64741);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var d={"100%":"100%","size.100":"1rem","size.200":"1.5rem","size.300":"2rem","size.400":"2.5rem","size.500":"3rem","size.600":"6rem","size.1000":"12rem"},u={"space.0":"var(--ds-space-0, 0px)","space.025":"var(--ds-space-025, 2px)","space.050":"var(--ds-space-050, 4px)","space.075":"var(--ds-space-075, 6px)","space.100":"var(--ds-space-100, 8px)","space.150":"var(--ds-space-150, 12px)","space.200":"var(--ds-space-200, 16px)","space.250":"var(--ds-space-250, 20px)","space.300":"var(--ds-space-300, 24px)","space.400":"var(--ds-space-400, 32px)","space.500":"var(--ds-space-500, 40px)","space.600":"var(--ds-space-600, 48px)","space.800":"var(--ds-space-800, 64px)","space.1000":"var(--ds-space-1000, 80px)"},l={"space.negative.025":"var(--ds-space-negative-025, -2px)","space.negative.050":"var(--ds-space-negative-050, -4px)","space.negative.075":"var(--ds-space-negative-075, -6px)","space.negative.100":"var(--ds-space-negative-100, -8px)","space.negative.150":"var(--ds-space-negative-150, -12px)","space.negative.200":"var(--ds-space-negative-200, -16px)","space.negative.250":"var(--ds-space-negative-250, -20px)","space.negative.300":"var(--ds-space-negative-300, -24px)","space.negative.400":"var(--ds-space-negative-400, -32px)"},i=s(s({},u),l),b={"color.background.neutral.bold":"color.text.inverse","color.background.neutral.bold.hovered":"color.text.inverse","color.background.neutral.bold.pressed":"color.text.inverse","color.background.selected.bold":"color.text.inverse","color.background.selected.bold.hovered":"color.text.inverse","color.background.selected.bold.pressed":"color.text.inverse","color.background.brand.bold":"color.text.inverse","color.background.brand.bold.hovered":"color.text.inverse","color.background.brand.bold.pressed":"color.text.inverse","color.background.brand.boldest":"color.text.inverse","color.background.brand.boldest.hovered":"color.text.inverse","color.background.brand.boldest.pressed":"color.text.inverse","color.background.danger.bold":"color.text.inverse","color.background.danger.bold.hovered":"color.text.inverse","color.background.danger.bold.pressed":"color.text.inverse","color.background.warning.bold":"color.text.warning.inverse","color.background.warning.bold.hovered":"color.text.warning.inverse","color.background.warning.bold.pressed":"color.text.warning.inverse","color.background.success.bold":"color.text.inverse","color.background.success.bold.hovered":"color.text.inverse","color.background.success.bold.pressed":"color.text.inverse","color.background.discovery.bold":"color.text.inverse","color.background.discovery.bold.hovered":"color.text.inverse","color.background.discovery.bold.pressed":"color.text.inverse","color.background.information.bold":"color.text.inverse","color.background.information.bold.hovered":"color.text.inverse","color.background.information.bold.pressed":"color.text.inverse"},p={"opacity.disabled":"var(--ds-opacity-disabled, 0.4)","opacity.loading":"var(--ds-opacity-loading, 0.2)"},f={"elevation.shadow.overflow":"var(--ds-shadow-overflow, 0px 0px 8px #091e423f, 0px 0px 1px #091e424f)","elevation.shadow.overflow.perimeter":"var(--ds-shadow-overflow-perimeter, #091e421f)","elevation.shadow.overflow.spread":"var(--ds-shadow-overflow-spread, #091e4229)","elevation.shadow.overlay":"var(--ds-shadow-overlay, 0px 8px 12px #091e423f, 0px 0px 1px #091e424f)","elevation.shadow.raised":"var(--ds-shadow-raised, 0px 1px 1px #091e423f, 0px 0px 1px #091e4221)"},v={"elevation.surface":"var(--ds-surface, #FFFFFF)","elevation.surface.hovered":"var(--ds-surface-hovered, #FAFBFC)","elevation.surface.pressed":"var(--ds-surface-pressed, #F4F5F7)","elevation.surface.overlay":"var(--ds-surface-overlay, #FFFFFF)","elevation.surface.overlay.hovered":"var(--ds-surface-overlay-hovered, #FAFBFC)","elevation.surface.overlay.pressed":"var(--ds-surface-overlay-pressed, #F4F5F7)","elevation.surface.raised":"var(--ds-surface-raised, #FFFFFF)","elevation.surface.raised.hovered":"var(--ds-surface-raised-hovered, #FAFBFC)","elevation.surface.raised.pressed":"var(--ds-surface-raised-pressed, #F4F5F7)","elevation.surface.sunken":"var(--ds-surface-sunken, #F4F5F7)"},g={"color.border":"var(--ds-border, #091e4221)","color.border.accent.lime":"var(--ds-border-accent-lime, #6A9A23)","color.border.accent.red":"var(--ds-border-accent-red, #FF5630)","color.border.accent.orange":"var(--ds-border-accent-orange, #D94008)","color.border.accent.yellow":"var(--ds-border-accent-yellow, #FFAB00)","color.border.accent.green":"var(--ds-border-accent-green, #36B37E)","color.border.accent.teal":"var(--ds-border-accent-teal, #00B8D9)","color.border.accent.blue":"var(--ds-border-accent-blue, #0065FF)","color.border.accent.purple":"var(--ds-border-accent-purple, #6554C0)","color.border.accent.magenta":"var(--ds-border-accent-magenta, #CD519D)","color.border.accent.gray":"var(--ds-border-accent-gray, #5E6C84)","color.border.disabled":"var(--ds-border-disabled, #FAFBFC)","color.border.focused":"var(--ds-border-focused, #2684FF)","color.border.input":"var(--ds-border-input, #FAFBFC)","color.border.inverse":"var(--ds-border-inverse, #FFFFFF)","color.border.selected":"var(--ds-border-selected, #0052CC)","color.border.brand":"var(--ds-border-brand, #0052CC)","color.border.danger":"var(--ds-border-danger, #FF5630)","color.border.warning":"var(--ds-border-warning, #FFC400)","color.border.success":"var(--ds-border-success, #00875A)","color.border.discovery":"var(--ds-border-discovery, #998DD9)","color.border.information":"var(--ds-border-information, #0065FF)","color.border.bold":"var(--ds-border-bold, #344563)"},y={"color.background.accent.lime.subtlest":"var(--ds-background-accent-lime-subtlest, #EEFBDA)","color.background.accent.lime.subtlest.hovered":"var(--ds-background-accent-lime-subtlest-hovered, #D3F1A7)","color.background.accent.lime.subtlest.pressed":"var(--ds-background-accent-lime-subtlest-pressed, #B3DF72)","color.background.accent.lime.subtler":"var(--ds-background-accent-lime-subtler, #D3F1A7)","color.background.accent.lime.subtler.hovered":"var(--ds-background-accent-lime-subtler-hovered, #B3DF72)","color.background.accent.lime.subtler.pressed":"var(--ds-background-accent-lime-subtler-pressed, #94C748)","color.background.accent.lime.subtle":"var(--ds-background-accent-lime-subtle, #94C748)","color.background.accent.lime.subtle.hovered":"var(--ds-background-accent-lime-subtle-hovered, #B3DF72)","color.background.accent.lime.subtle.pressed":"var(--ds-background-accent-lime-subtle-pressed, #D3F1A7)","color.background.accent.lime.bolder":"var(--ds-background-accent-lime-bolder, #5B7F24)","color.background.accent.lime.bolder.hovered":"var(--ds-background-accent-lime-bolder-hovered, #37471F)","color.background.accent.lime.bolder.pressed":"var(--ds-background-accent-lime-bolder-pressed, #37471F)","color.background.accent.red.subtlest":"var(--ds-background-accent-red-subtlest, #FF8F73)","color.background.accent.red.subtlest.hovered":"var(--ds-background-accent-red-subtlest-hovered, #FF7452)","color.background.accent.red.subtlest.pressed":"var(--ds-background-accent-red-subtlest-pressed, #FF5630)","color.background.accent.red.subtler":"var(--ds-background-accent-red-subtler, #FF7452)","color.background.accent.red.subtler.hovered":"var(--ds-background-accent-red-subtler-hovered, #FF5630)","color.background.accent.red.subtler.pressed":"var(--ds-background-accent-red-subtler-pressed, #DE350B)","color.background.accent.red.subtle":"var(--ds-background-accent-red-subtle, #DE350B)","color.background.accent.red.subtle.hovered":"var(--ds-background-accent-red-subtle-hovered, #FF5630)","color.background.accent.red.subtle.pressed":"var(--ds-background-accent-red-subtle-pressed, #FF7452)","color.background.accent.red.bolder":"var(--ds-background-accent-red-bolder, #DE350B)","color.background.accent.red.bolder.hovered":"var(--ds-background-accent-red-bolder-hovered, #FF5630)","color.background.accent.red.bolder.pressed":"var(--ds-background-accent-red-bolder-pressed, #FF7452)","color.background.accent.orange.subtlest":"var(--ds-background-accent-orange-subtlest, #F18D13)","color.background.accent.orange.subtlest.hovered":"var(--ds-background-accent-orange-subtlest-hovered, #FEC57B)","color.background.accent.orange.subtlest.pressed":"var(--ds-background-accent-orange-subtlest-pressed, #FFE2BD)","color.background.accent.orange.subtler":"var(--ds-background-accent-orange-subtler, #B65C02)","color.background.accent.orange.subtler.hovered":"var(--ds-background-accent-orange-subtler-hovered, #F18D13)","color.background.accent.orange.subtler.pressed":"var(--ds-background-accent-orange-subtler-pressed, #FEC57B)","color.background.accent.orange.subtle":"var(--ds-background-accent-orange-subtle, #5F3811)","color.background.accent.orange.subtle.hovered":"var(--ds-background-accent-orange-subtle-hovered, #974F0C)","color.background.accent.orange.subtle.pressed":"var(--ds-background-accent-orange-subtle-pressed, #B65C02)","color.background.accent.orange.bolder":"var(--ds-background-accent-orange-bolder, #43290F)","color.background.accent.orange.bolder.hovered":"var(--ds-background-accent-orange-bolder-hovered, #5F3811)","color.background.accent.orange.bolder.pressed":"var(--ds-background-accent-orange-bolder-pressed, #974F0C)","color.background.accent.yellow.subtlest":"var(--ds-background-accent-yellow-subtlest, #FFE380)","color.background.accent.yellow.subtlest.hovered":"var(--ds-background-accent-yellow-subtlest-hovered, #FFC400)","color.background.accent.yellow.subtlest.pressed":"var(--ds-background-accent-yellow-subtlest-pressed, #FFAB00)","color.background.accent.yellow.subtler":"var(--ds-background-accent-yellow-subtler, #FFC400)","color.background.accent.yellow.subtler.hovered":"var(--ds-background-accent-yellow-subtler-hovered, #FFAB00)","color.background.accent.yellow.subtler.pressed":"var(--ds-background-accent-yellow-subtler-pressed, #FF991F)","color.background.accent.yellow.subtle":"var(--ds-background-accent-yellow-subtle, #FF991F)","color.background.accent.yellow.subtle.hovered":"var(--ds-background-accent-yellow-subtle-hovered, #FFAB00)","color.background.accent.yellow.subtle.pressed":"var(--ds-background-accent-yellow-subtle-pressed, #FFC400)","color.background.accent.yellow.bolder":"var(--ds-background-accent-yellow-bolder, #FF991F)","color.background.accent.yellow.bolder.hovered":"var(--ds-background-accent-yellow-bolder-hovered, #FFAB00)","color.background.accent.yellow.bolder.pressed":"var(--ds-background-accent-yellow-bolder-pressed, #FFC400)","color.background.accent.green.subtlest":"var(--ds-background-accent-green-subtlest, #79F2C0)","color.background.accent.green.subtlest.hovered":"var(--ds-background-accent-green-subtlest-hovered, #57D9A3)","color.background.accent.green.subtlest.pressed":"var(--ds-background-accent-green-subtlest-pressed, #36B37E)","color.background.accent.green.subtler":"var(--ds-background-accent-green-subtler, #57D9A3)","color.background.accent.green.subtler.hovered":"var(--ds-background-accent-green-subtler-hovered, #36B37E)","color.background.accent.green.subtler.pressed":"var(--ds-background-accent-green-subtler-pressed, #00875A)","color.background.accent.green.subtle":"var(--ds-background-accent-green-subtle, #00875A)","color.background.accent.green.subtle.hovered":"var(--ds-background-accent-green-subtle-hovered, #36B37E)","color.background.accent.green.subtle.pressed":"var(--ds-background-accent-green-subtle-pressed, #57D9A3)","color.background.accent.green.bolder":"var(--ds-background-accent-green-bolder, #00875A)","color.background.accent.green.bolder.hovered":"var(--ds-background-accent-green-bolder-hovered, #36B37E)","color.background.accent.green.bolder.pressed":"var(--ds-background-accent-green-bolder-pressed, #57D9A3)","color.background.accent.teal.subtlest":"var(--ds-background-accent-teal-subtlest, #79E2F2)","color.background.accent.teal.subtlest.hovered":"var(--ds-background-accent-teal-subtlest-hovered, #00C7E6)","color.background.accent.teal.subtlest.pressed":"var(--ds-background-accent-teal-subtlest-pressed, #00B8D9)","color.background.accent.teal.subtler":"var(--ds-background-accent-teal-subtler, #00C7E6)","color.background.accent.teal.subtler.hovered":"var(--ds-background-accent-teal-subtler-hovered, #00B8D9)","color.background.accent.teal.subtler.pressed":"var(--ds-background-accent-teal-subtler-pressed, #00A3BF)","color.background.accent.teal.subtle":"var(--ds-background-accent-teal-subtle, #00A3BF)","color.background.accent.teal.subtle.hovered":"var(--ds-background-accent-teal-subtle-hovered, #00B8D9)","color.background.accent.teal.subtle.pressed":"var(--ds-background-accent-teal-subtle-pressed, #00C7E6)","color.background.accent.teal.bolder":"var(--ds-background-accent-teal-bolder, #00A3BF)","color.background.accent.teal.bolder.hovered":"var(--ds-background-accent-teal-bolder-hovered, #00B8D9)","color.background.accent.teal.bolder.pressed":"var(--ds-background-accent-teal-bolder-pressed, #00C7E6)","color.background.accent.blue.subtlest":"var(--ds-background-accent-blue-subtlest, #4C9AFF)","color.background.accent.blue.subtlest.hovered":"var(--ds-background-accent-blue-subtlest-hovered, #2684FF)","color.background.accent.blue.subtlest.pressed":"var(--ds-background-accent-blue-subtlest-pressed, #0065FF)","color.background.accent.blue.subtler":"var(--ds-background-accent-blue-subtler, #2684FF)","color.background.accent.blue.subtler.hovered":"var(--ds-background-accent-blue-subtler-hovered, #0065FF)","color.background.accent.blue.subtler.pressed":"var(--ds-background-accent-blue-subtler-pressed, #0052CC)","color.background.accent.blue.subtle":"var(--ds-background-accent-blue-subtle, #0052CC)","color.background.accent.blue.subtle.hovered":"var(--ds-background-accent-blue-subtle-hovered, #0065FF)","color.background.accent.blue.subtle.pressed":"var(--ds-background-accent-blue-subtle-pressed, #2684FF)","color.background.accent.blue.bolder":"var(--ds-background-accent-blue-bolder, #0052CC)","color.background.accent.blue.bolder.hovered":"var(--ds-background-accent-blue-bolder-hovered, #0065FF)","color.background.accent.blue.bolder.pressed":"var(--ds-background-accent-blue-bolder-pressed, #2684FF)","color.background.accent.purple.subtlest":"var(--ds-background-accent-purple-subtlest, #998DD9)","color.background.accent.purple.subtlest.hovered":"var(--ds-background-accent-purple-subtlest-hovered, #8777D9)","color.background.accent.purple.subtlest.pressed":"var(--ds-background-accent-purple-subtlest-pressed, #6554C0)","color.background.accent.purple.subtler":"var(--ds-background-accent-purple-subtler, #8777D9)","color.background.accent.purple.subtler.hovered":"var(--ds-background-accent-purple-subtler-hovered, #6554C0)","color.background.accent.purple.subtler.pressed":"var(--ds-background-accent-purple-subtler-pressed, #5243AA)","color.background.accent.purple.subtle":"var(--ds-background-accent-purple-subtle, #5243AA)","color.background.accent.purple.subtle.hovered":"var(--ds-background-accent-purple-subtle-hovered, #6554C0)","color.background.accent.purple.subtle.pressed":"var(--ds-background-accent-purple-subtle-pressed, #8777D9)","color.background.accent.purple.bolder":"var(--ds-background-accent-purple-bolder, #5243AA)","color.background.accent.purple.bolder.hovered":"var(--ds-background-accent-purple-bolder-hovered, #6554C0)","color.background.accent.purple.bolder.pressed":"var(--ds-background-accent-purple-bolder-pressed, #8777D9)","color.background.accent.magenta.subtlest":"var(--ds-background-accent-magenta-subtlest, #FFECF8)","color.background.accent.magenta.subtlest.hovered":"var(--ds-background-accent-magenta-subtlest-hovered, #FDD0EC)","color.background.accent.magenta.subtlest.pressed":"var(--ds-background-accent-magenta-subtlest-pressed, #F797D2)","color.background.accent.magenta.subtler":"var(--ds-background-accent-magenta-subtler, #FDD0EC)","color.background.accent.magenta.subtler.hovered":"var(--ds-background-accent-magenta-subtler-hovered, #F797D2)","color.background.accent.magenta.subtler.pressed":"var(--ds-background-accent-magenta-subtler-pressed, #E774BB)","color.background.accent.magenta.subtle":"var(--ds-background-accent-magenta-subtle, #E774BB)","color.background.accent.magenta.subtle.hovered":"var(--ds-background-accent-magenta-subtle-hovered, #F797D2)","color.background.accent.magenta.subtle.pressed":"var(--ds-background-accent-magenta-subtle-pressed, #FDD0EC)","color.background.accent.magenta.bolder":"var(--ds-background-accent-magenta-bolder, #AE4787)","color.background.accent.magenta.bolder.hovered":"var(--ds-background-accent-magenta-bolder-hovered, #943D73)","color.background.accent.magenta.bolder.pressed":"var(--ds-background-accent-magenta-bolder-pressed, #50253F)","color.background.accent.gray.subtlest":"var(--ds-background-accent-gray-subtlest, #6B778C)","color.background.accent.gray.subtlest.hovered":"var(--ds-background-accent-gray-subtlest-hovered, #5E6C84)","color.background.accent.gray.subtlest.pressed":"var(--ds-background-accent-gray-subtlest-pressed, #505F79)","color.background.accent.gray.subtler":"var(--ds-background-accent-gray-subtler, #5E6C84)","color.background.accent.gray.subtler.hovered":"var(--ds-background-accent-gray-subtler-hovered, #505F79)","color.background.accent.gray.subtler.pressed":"var(--ds-background-accent-gray-subtler-pressed, #42526E)","color.background.accent.gray.subtle":"var(--ds-background-accent-gray-subtle, #505F79)","color.background.accent.gray.subtle.hovered":"var(--ds-background-accent-gray-subtle-hovered, #5E6C84)","color.background.accent.gray.subtle.pressed":"var(--ds-background-accent-gray-subtle-pressed, #6B778C)","color.background.accent.gray.bolder":"var(--ds-background-accent-gray-bolder, #42526E)","color.background.accent.gray.bolder.hovered":"var(--ds-background-accent-gray-bolder-hovered, #344563)","color.background.accent.gray.bolder.pressed":"var(--ds-background-accent-gray-bolder-pressed, #253858)","color.background.disabled":"var(--ds-background-disabled, #091e4289)","color.background.input":"var(--ds-background-input, #FAFBFC)","color.background.input.hovered":"var(--ds-background-input-hovered, #EBECF0)","color.background.input.pressed":"var(--ds-background-input-pressed, #FFFFFF)","color.background.inverse.subtle":"var(--ds-background-inverse-subtle, #00000029)","color.background.inverse.subtle.hovered":"var(--ds-background-inverse-subtle-hovered, #0000003D)","color.background.inverse.subtle.pressed":"var(--ds-background-inverse-subtle-pressed, #00000052)","color.background.neutral":"var(--ds-background-neutral, #DFE1E6)","color.background.neutral.hovered":"var(--ds-background-neutral-hovered, #091e4214)","color.background.neutral.pressed":"var(--ds-background-neutral-pressed, #B3D4FF)","color.background.neutral.subtle":"var(--ds-background-neutral-subtle, transparent)","color.background.neutral.subtle.hovered":"var(--ds-background-neutral-subtle-hovered, #091e4214)","color.background.neutral.subtle.pressed":"var(--ds-background-neutral-subtle-pressed, #B3D4FF)","color.background.neutral.bold":"var(--ds-background-neutral-bold, #42526E)","color.background.neutral.bold.hovered":"var(--ds-background-neutral-bold-hovered, #505F79)","color.background.neutral.bold.pressed":"var(--ds-background-neutral-bold-pressed, #344563)","color.background.selected":"var(--ds-background-selected, #DEEBFF)","color.background.selected.hovered":"var(--ds-background-selected-hovered, #B3D4FF)","color.background.selected.pressed":"var(--ds-background-selected-pressed, #4C9AFF)","color.background.selected.bold":"var(--ds-background-selected-bold, #0052CC)","color.background.selected.bold.hovered":"var(--ds-background-selected-bold-hovered, #2684FF)","color.background.selected.bold.pressed":"var(--ds-background-selected-bold-pressed, #0052CC)","color.background.brand.subtlest":"var(--ds-background-brand-subtlest, #B3D4FF)","color.background.brand.subtlest.hovered":"var(--ds-background-brand-subtlest-hovered, #DEEBFF)","color.background.brand.subtlest.pressed":"var(--ds-background-brand-subtlest-pressed, #4C9AFF)","color.background.brand.bold":"var(--ds-background-brand-bold, #0052CC)","color.background.brand.bold.hovered":"var(--ds-background-brand-bold-hovered, #0065FF)","color.background.brand.bold.pressed":"var(--ds-background-brand-bold-pressed, #0747A6)","color.background.brand.boldest":"var(--ds-background-brand-boldest, #0747A6)","color.background.brand.boldest.hovered":"var(--ds-background-brand-boldest-hovered, #0052CC)","color.background.brand.boldest.pressed":"var(--ds-background-brand-boldest-pressed, #0747A6)","color.background.danger":"var(--ds-background-danger, #FFEBE6)","color.background.danger.hovered":"var(--ds-background-danger-hovered, #FFBDAD)","color.background.danger.pressed":"var(--ds-background-danger-pressed, #FF8F73)","color.background.danger.bold":"var(--ds-background-danger-bold, #DE350B)","color.background.danger.bold.hovered":"var(--ds-background-danger-bold-hovered, #FF5630)","color.background.danger.bold.pressed":"var(--ds-background-danger-bold-pressed, #BF2600)","color.background.warning":"var(--ds-background-warning, #FFFAE6)","color.background.warning.hovered":"var(--ds-background-warning-hovered, #FFF0B3)","color.background.warning.pressed":"var(--ds-background-warning-pressed, #FFE380)","color.background.warning.bold":"var(--ds-background-warning-bold, #FFAB00)","color.background.warning.bold.hovered":"var(--ds-background-warning-bold-hovered, #FFC400)","color.background.warning.bold.pressed":"var(--ds-background-warning-bold-pressed, #FF991F)","color.background.success":"var(--ds-background-success, #E3FCEF)","color.background.success.hovered":"var(--ds-background-success-hovered, #ABF5D1)","color.background.success.pressed":"var(--ds-background-success-pressed, #79F2C0)","color.background.success.bold":"var(--ds-background-success-bold, #00875A)","color.background.success.bold.hovered":"var(--ds-background-success-bold-hovered, #57D9A3)","color.background.success.bold.pressed":"var(--ds-background-success-bold-pressed, #00875A)","color.background.discovery":"var(--ds-background-discovery, #EAE6FF)","color.background.discovery.hovered":"var(--ds-background-discovery-hovered, #C0B6F2)","color.background.discovery.pressed":"var(--ds-background-discovery-pressed, #998DD9)","color.background.discovery.bold":"var(--ds-background-discovery-bold, #5243AA)","color.background.discovery.bold.hovered":"var(--ds-background-discovery-bold-hovered, #8777D9)","color.background.discovery.bold.pressed":"var(--ds-background-discovery-bold-pressed, #5243AA)","color.background.information":"var(--ds-background-information, #DEEBFF)","color.background.information.hovered":"var(--ds-background-information-hovered, #B3D4FF)","color.background.information.pressed":"var(--ds-background-information-pressed, #4C9AFF)","color.background.information.bold":"var(--ds-background-information-bold, #0052CC)","color.background.information.bold.hovered":"var(--ds-background-information-bold-hovered, #2684FF)","color.background.information.bold.pressed":"var(--ds-background-information-bold-pressed, #0052CC)","color.blanket":"var(--ds-blanket, #091e4289)","color.blanket.selected":"var(--ds-blanket-selected, #388BFF14)","color.blanket.danger":"var(--ds-blanket-danger, #EF5C4814)","color.skeleton":"var(--ds-skeleton, #F4F5F7)","color.skeleton.subtle":"var(--ds-skeleton-subtle, #091e420a)","elevation.surface":"var(--ds-surface, #FFFFFF)","elevation.surface.hovered":"var(--ds-surface-hovered, #FAFBFC)","elevation.surface.pressed":"var(--ds-surface-pressed, #F4F5F7)","elevation.surface.overlay":"var(--ds-surface-overlay, #FFFFFF)","elevation.surface.overlay.hovered":"var(--ds-surface-overlay-hovered, #FAFBFC)","elevation.surface.overlay.pressed":"var(--ds-surface-overlay-pressed, #F4F5F7)","elevation.surface.raised":"var(--ds-surface-raised, #FFFFFF)","elevation.surface.raised.hovered":"var(--ds-surface-raised-hovered, #FAFBFC)","elevation.surface.raised.pressed":"var(--ds-surface-raised-pressed, #F4F5F7)","elevation.surface.sunken":"var(--ds-surface-sunken, #F4F5F7)","utility.elevation.surface.current":"var(--ds-elevation-surface-current, #FFFFFF)"},m={"color.text":"var(--ds-text, #172B4D)","color.text.accent.lime":"var(--ds-text-accent-lime, #4C6B1F)","color.text.accent.lime.bolder":"var(--ds-text-accent-lime-bolder, #37471F)","color.text.accent.red":"var(--ds-text-accent-red, #DE350B)","color.text.accent.red.bolder":"var(--ds-text-accent-red-bolder, #BF2600)","color.text.accent.orange":"var(--ds-text-accent-orange, #F18D13)","color.text.accent.orange.bolder":"var(--ds-text-accent-orange-bolder, #B65C02)","color.text.accent.yellow":"var(--ds-text-accent-yellow, #FF991F)","color.text.accent.yellow.bolder":"var(--ds-text-accent-yellow-bolder, #FF8B00)","color.text.accent.green":"var(--ds-text-accent-green, #00875A)","color.text.accent.green.bolder":"var(--ds-text-accent-green-bolder, #006644)","color.text.accent.teal":"var(--ds-text-accent-teal, #00A3BF)","color.text.accent.teal.bolder":"var(--ds-text-accent-teal-bolder, #008DA6)","color.text.accent.blue":"var(--ds-text-accent-blue, #0052CC)","color.text.accent.blue.bolder":"var(--ds-text-accent-blue-bolder, #0747A6)","color.text.accent.purple":"var(--ds-text-accent-purple, #5243AA)","color.text.accent.purple.bolder":"var(--ds-text-accent-purple-bolder, #403294)","color.text.accent.magenta":"var(--ds-text-accent-magenta, #E774BB)","color.text.accent.magenta.bolder":"var(--ds-text-accent-magenta-bolder, #DA62AC)","color.text.accent.gray":"var(--ds-text-accent-gray, #505F79)","color.text.accent.gray.bolder":"var(--ds-text-accent-gray-bolder, #172B4D)","color.text.disabled":"var(--ds-text-disabled, #A5ADBA)","color.text.inverse":"var(--ds-text-inverse, #FFFFFF)","color.text.selected":"var(--ds-text-selected, #0052CC)","color.text.brand":"var(--ds-text-brand, #0065FF)","color.text.danger":"var(--ds-text-danger, #DE350B)","color.text.warning":"var(--ds-text-warning, #974F0C)","color.text.warning.inverse":"var(--ds-text-warning-inverse, #172B4D)","color.text.success":"var(--ds-text-success, #006644)","color.text.discovery":"var(--ds-text-discovery, #403294)","color.text.information":"var(--ds-text-information, #0052CC)","color.text.subtlest":"var(--ds-text-subtlest, #7A869A)","color.text.subtle":"var(--ds-text-subtle, #42526E)","color.link":"var(--ds-link, #0052CC)","color.link.pressed":"var(--ds-link-pressed, #0747A6)","color.link.visited":"var(--ds-link-visited, #403294)","color.link.visited.pressed":"var(--ds-link-visited-pressed, #403294)"},h={"color.icon":"var(--ds-icon, #505F79)","color.icon.accent.lime":"var(--ds-icon-accent-lime, #6A9A23)","color.icon.accent.red":"var(--ds-icon-accent-red, #FF5630)","color.icon.accent.orange":"var(--ds-icon-accent-orange, #D94008)","color.icon.accent.yellow":"var(--ds-icon-accent-yellow, #FFAB00)","color.icon.accent.green":"var(--ds-icon-accent-green, #36B37E)","color.icon.accent.teal":"var(--ds-icon-accent-teal, #00B8D9)","color.icon.accent.blue":"var(--ds-icon-accent-blue, #0065FF)","color.icon.accent.purple":"var(--ds-icon-accent-purple, #6554C0)","color.icon.accent.magenta":"var(--ds-icon-accent-magenta, #CD519D)","color.icon.accent.gray":"var(--ds-icon-accent-gray, #5E6C84)","color.icon.disabled":"var(--ds-icon-disabled, #8993A4)","color.icon.inverse":"var(--ds-icon-inverse, #FFFFFF)","color.icon.selected":"var(--ds-icon-selected, #0052CC)","color.icon.brand":"var(--ds-icon-brand, #0065FF)","color.icon.danger":"var(--ds-icon-danger, #DE350B)","color.icon.warning":"var(--ds-icon-warning, #FFC400)","color.icon.warning.inverse":"var(--ds-icon-warning-inverse, #253858)","color.icon.success":"var(--ds-icon-success, #00875A)","color.icon.discovery":"var(--ds-icon-discovery, #8777D9)","color.icon.information":"var(--ds-icon-information, #0747A6)","color.icon.subtlest":"var(--ds-icon-subtlest, #6B778C)","color.icon.subtle":"var(--ds-icon-subtle, #6B778C)"},k={1:1,card:100,navigation:200,dialog:300,layer:400,blanket:500,modal:510,flag:600,spotlight:700,tooltip:800},F={"border.width":"var(--ds-border-width, 1px)","border.width.0":"var(--ds-border-width-0, 0px)","border.width.indicator":"var(--ds-border-width-indicator, 3px)","border.width.outline":"var(--ds-border-width-outline, 2px)"},x={"border.radius.050":"var(--ds-border-radius-050, 2px)","border.radius":"var(--ds-border-radius, 3px)","border.radius.100":"var(--ds-border-radius-100, 3px)","border.radius.200":"var(--ds-border-radius-200, 8px)","border.radius.300":"var(--ds-border-radius-300, 12px)","border.radius.400":"var(--ds-border-radius-400, 16px)","border.radius.circle":"var(--ds-border-radius-circle, 32032px)"},S={"font.body":'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.body.UNSAFE_small":'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.body.large":'var(--ds-font-body-large, normal 400 16px/24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.body.small":'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.code":'var(--ds-font-code, normal 400 0.875em/1 ui-monospace, Menlo, "Segoe UI Mono", "Ubuntu Mono", monospace)',"font.heading.large":'var(--ds-font-heading-large, normal 500 24px/28px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.heading.medium":'var(--ds-font-heading-medium, normal 500 20px/24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.heading.small":'var(--ds-font-heading-small, normal 600 16px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.heading.xlarge":'var(--ds-font-heading-xlarge, normal 600 29px/32px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.heading.xsmall":'var(--ds-font-heading-xsmall, normal 600 14px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.heading.xxlarge":'var(--ds-font-heading-xxlarge, normal 500 35px/40px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.heading.xxsmall":'var(--ds-font-heading-xxsmall, normal 600 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)'},w={"font.weight.bold":"var(--ds-font-weight-bold, 700)","font.weight.medium":"var(--ds-font-weight-medium, 500)","font.weight.regular":"var(--ds-font-weight-regular, 400)","font.weight.semibold":"var(--ds-font-weight-semibold, 600)"},C={"font.family.body":'var(--ds-font-family-body, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.family.brand.body":'var(--ds-font-family-brand-body, "Charlie Text", ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.family.brand.heading":'var(--ds-font-family-brand-heading, "Charlie Display", ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',"font.family.code":'var(--ds-font-family-code, ui-monospace, Menlo, "Segoe UI Mono", "Ubuntu Mono", monospace)',"font.family.heading":'var(--ds-font-family-heading, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)'},M={medium:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',UNSAFE_small:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',large:'var(--ds-font-body-large, normal 400 16px/24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',small:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)'},E={bold:"var(--ds-font-weight-bold, 700)",medium:"var(--ds-font-weight-medium, 500)",regular:"var(--ds-font-weight-regular, 400)",semibold:"var(--ds-font-weight-semibold, 600)"},A=["padding","paddingBlock","paddingBlockStart","paddingBlockEnd","paddingInline","paddingInlineStart","paddingInlineEnd","gap","rowGap","columnGap"],B=function(e,r){return Object.keys(r).reduce((function(t,a){return t[a]=(0,o.css)((0,n.default)({},e,r[a])),t}),{})},O=A.reduce((function(e,r){return e[r]=B(r,u),e}),{}),$=A.reduce((function(e,r){return e[r]=B(r,u),e}),{}),D=B("backgroundColor",y),_=B("color",m),P=B("fontWeight",w),R=B("fontFamily",C),j=B("font",S),N=B("font",M),I=B("fontWeight",E),T=B(a.CURRENT_SURFACE_CSS_VAR,v),U=function(e){return void 0!==v[e]}},18134:function(e,r,t){t.r(r),t.d(r,{default:function(){return a}});var n=t(38085);var o=t(96492);function a(e){return function(e){if(Array.isArray(e))return(0,n.default)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.default)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},44494:function(e,r,t){var n=t(86326);var o="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},a=n.useSyncExternalStore,c=n.useRef,s=n.useEffect,d=n.useMemo,u=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,r,t,n,l){var i=c(null);if(null===i.current){var b={hasValue:!1,value:null};i.current=b}else b=i.current;i=d((function(){function e(e){if(!s){if(s=!0,a=e,e=n(e),void 0!==l&&b.hasValue){var r=b.value;if(l(r,e))return c=r}return c=e}if(r=c,o(a,e))return r;var t=n(e);return void 0!==l&&l(r,t)?(a=e,r):(a=e,c=t)}var a,c,s=!1,d=void 0===t?null:t;return[function(){return e(r())},null===d?void 0:function(){return e(d())}]}),[r,t,n,l]);var p=a(e,i[0],i[1]);return s((function(){b.hasValue=!0,b.value=p}),[p]),u(p),p}},45073:function(e,r,t){t.r(r),t.d(r,{CacheProvider:function(){return je},ClassNames:function(){return er},Global:function(){return Xe},ThemeContext:function(){return Te},ThemeProvider:function(){return ze},__unsafe_useEmotionCache:function(){return Ne},createElement:function(){return Ye},css:function(){return Ze},jsx:function(){return Ye},keyframes:function(){return Je},useTheme:function(){return Ue},withEmotionCache:function(){return Ie},withTheme:function(){return He}});var n=t(86326),o=t.t(n,2);var a=function(){function e(e){var r=this;this._insertTag=function(e){var t;t=0===r.tags.length?r.insertionPoint?r.insertionPoint.nextSibling:r.prepend?r.container.firstChild:r.before:r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(e,t),r.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var r=e.prototype;return r.hydrate=function(e){e.forEach(this._insertTag)},r.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var r=document.createElement("style");return r.setAttribute("data-emotion",e.key),void 0!==e.nonce&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var t=function(e){if(e.sheet)return e.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===e)return document.styleSheets[r]}(r);try{t.insertRule(e,t.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},r.flush=function(){this.tags.forEach((function(e){var r;return null==(r=e.parentNode)?void 0:r.removeChild(e)})),this.tags=[],this.ctr=0},e}(),c=Math.abs,s=String.fromCharCode,d=Object.assign;function u(e,r){return 45^f(e,0)?(((r<<2^f(e,0))<<2^f(e,1))<<2^f(e,2))<<2^f(e,3):0}function l(e){return e.trim()}function i(e,r){return(e=r.exec(e))?e[0]:e}function b(e,r,t){return e.replace(r,t)}function p(e,r){return e.indexOf(r)}function f(e,r){return 0|e.charCodeAt(r)}function v(e,r,t){return e.slice(r,t)}function g(e){return e.length}function y(e){return e.length}function m(e,r){return r.push(e),e}function h(e,r){return e.map(r).join("")}var k=1,F=1,x=0,S=0,w=0,C="";function M(e,r,t,n,o,a,c){return{value:e,root:r,parent:t,type:n,props:o,children:a,line:k,column:F,length:c,return:""}}function E(e,r){return d(M("",null,null,"",null,null,0),e,{length:-e.length},r)}function A(){return w=S>0?f(C,--S):0,F--,10===w&&(F=1,k--),w}function B(){return w=S<x?f(C,S++):0,F++,10===w&&(F=1,k++),w}function O(){return f(C,S)}function $(){return S}function D(e,r){return v(C,e,r)}function _(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(e){return k=F=1,x=g(C=e),S=0,[]}function R(e){return C="",e}function j(e){return l(D(S-1,T(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(w=O())&&w<33;)B();return _(e)>2||_(w)>3?"":" "}function I(e,r){for(;--r&&B()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return D(e,$()+(r<6&&32==O()&&32==B()))}function T(e){for(;B();)switch(w){case e:return S;case 34:case 39:34!==e&&39!==e&&T(w);break;case 40:41===e&&T(e);break;case 92:B()}return S}function U(e,r){for(;B()&&e+w!==57&&(e+w!==84||47!==O()););return"/*"+D(r,S-1)+"*"+s(47===e?e:B())}function W(e){for(;!_(O());)B();return D(e,S)}var z="-ms-",H="-moz-",q="-webkit-",L="comm",V="rule",G="decl",Y="@keyframes";function X(e,r){for(var t="",n=y(e),o=0;o<n;o++)t+=r(e[o],o,e,r)||"";return t}function Z(e,r,t,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case G:return e.return=e.return||e.value;case L:return"";case Y:return e.return=e.value+"{"+X(e.children,n)+"}";case V:e.value=e.props.join(",")}return g(t=X(e.children,n))?e.return=e.value+"{"+t+"}":""}function J(e){return R(K("",null,null,null,[""],e=P(e),0,[0],e))}function K(e,r,t,n,o,a,c,d,u){for(var l=0,i=0,v=c,y=0,h=0,k=0,F=1,x=1,S=1,w=0,C="",M=o,E=a,D=n,_=C;x;)switch(k=w,w=B()){case 40:if(108!=k&&58==f(_,v-1)){-1!=p(_+=b(j(w),"&","&\f"),"&\f")&&(S=-1);break}case 34:case 39:case 91:_+=j(w);break;case 9:case 10:case 13:case 32:_+=N(k);break;case 92:_+=I($()-1,7);continue;case 47:switch(O()){case 42:case 47:m(ee(U(B(),$()),r,t),u);break;default:_+="/"}break;case 123*F:d[l++]=g(_)*S;case 125*F:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+i:-1==S&&(_=b(_,/\f/g,"")),h>0&&g(_)-v&&m(h>32?re(_+";",n,t,v-1):re(b(_," ","")+";",n,t,v-2),u);break;case 59:_+=";";default:if(m(D=Q(_,r,t,l,i,o,d,C,M=[],E=[],v),a),123===w)if(0===i)K(_,r,D,D,M,a,v,d,E);else switch(99===y&&110===f(_,3)?100:y){case 100:case 108:case 109:case 115:K(e,D,D,n&&m(Q(e,D,D,0,0,o,d,C,o,M=[],v),E),o,E,v,d,n?M:E);break;default:K(_,D,D,D,[""],E,0,d,E)}}l=i=h=0,F=S=1,C=_="",v=c;break;case 58:v=1+g(_),h=k;default:if(F<1)if(123==w)--F;else if(125==w&&0==F++&&125==A())continue;switch(_+=s(w),w*F){case 38:S=i>0?1:(_+="\f",-1);break;case 44:d[l++]=(g(_)-1)*S,S=1;break;case 64:45===O()&&(_+=j(B())),y=O(),i=v=g(C=_+=W($())),w++;break;case 45:45===k&&2==g(_)&&(F=0)}}return a}function Q(e,r,t,n,o,a,s,d,u,i,p){for(var f=o-1,g=0===o?a:[""],m=y(g),h=0,k=0,F=0;h<n;++h)for(var x=0,S=v(e,f+1,f=c(k=s[h])),w=e;x<m;++x)(w=l(k>0?g[x]+" "+S:b(S,/&\f/g,g[x])))&&(u[F++]=w);return M(e,r,t,0===o?V:d,u,i,p)}function ee(e,r,t){return M(e,r,t,L,s(w),v(e,2,-2),0)}function re(e,r,t,n){return M(e,r,t,G,v(e,0,n),v(e,n+1,-1),n)}var te=function(e,r,t){for(var n=0,o=0;n=o,o=O(),38===n&&12===o&&(r[t]=1),!_(o);)B();return D(e,S)},ne=function(e,r){return R(function(e,r){var t=-1,n=44;do{switch(_(n)){case 0:38===n&&12===O()&&(r[t]=1),e[t]+=te(S-1,r,t);break;case 2:e[t]+=j(n);break;case 4:if(44===n){e[++t]=58===O()?"&\f":"",r[t]=e[t].length;break}default:e[t]+=s(n)}}while(n=B());return e}(P(e),r))},oe=new WeakMap,ae=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var r=e.value,t=e.parent,n=e.column===t.column&&e.line===t.line;"rule"!==t.type;)if(!(t=t.parent))return;if((1!==e.props.length||58===r.charCodeAt(0)||oe.get(t))&&!n){oe.set(e,!0);for(var o=[],a=ne(r,o),c=t.props,s=0,d=0;s<a.length;s++)for(var u=0;u<c.length;u++,d++)e.props[d]=o[s]?a[s].replace(/&\f/g,c[u]):c[u]+" "+a[s]}}},ce=function(e){if("decl"===e.type){var r=e.value;108===r.charCodeAt(0)&&98===r.charCodeAt(2)&&(e.return="",e.value="")}};function se(e,r){switch(u(e,r)){case 5103:return q+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return q+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return q+e+H+e+z+e+e;case 6828:case 4268:return q+e+z+e+e;case 6165:return q+e+z+"flex-"+e+e;case 5187:return q+e+b(e,/(\w+).+(:[^]+)/,q+"box-$1$2"+z+"flex-$1$2")+e;case 5443:return q+e+z+"flex-item-"+b(e,/flex-|-self/,"")+e;case 4675:return q+e+z+"flex-line-pack"+b(e,/align-content|flex-|-self/,"")+e;case 5548:return q+e+z+b(e,"shrink","negative")+e;case 5292:return q+e+z+b(e,"basis","preferred-size")+e;case 6060:return q+"box-"+b(e,"-grow","")+q+e+z+b(e,"grow","positive")+e;case 4554:return q+b(e,/([^-])(transform)/g,"$1"+q+"$2")+e;case 6187:return b(b(b(e,/(zoom-|grab)/,q+"$1"),/(image-set)/,q+"$1"),e,"")+e;case 5495:case 3959:return b(e,/(image-set\([^]*)/,q+"$1$`$1");case 4968:return b(b(e,/(.+:)(flex-)?(.*)/,q+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+q+e+e;case 4095:case 3583:case 4068:case 2532:return b(e,/(.+)-inline(.+)/,q+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(g(e)-1-r>6)switch(f(e,r+1)){case 109:if(45!==f(e,r+4))break;case 102:return b(e,/(.+:)(.+)-([^]+)/,"$1"+q+"$2-$3$1"+H+(108==f(e,r+3)?"$3":"$2-$3"))+e;case 115:return~p(e,"stretch")?se(b(e,"stretch","fill-available"),r)+e:e}break;case 4949:if(115!==f(e,r+1))break;case 6444:switch(f(e,g(e)-3-(~p(e,"!important")&&10))){case 107:return b(e,":",":"+q)+e;case 101:return b(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+q+(45===f(e,14)?"inline-":"")+"box$3$1"+q+"$2$3$1"+z+"$2box$3")+e}break;case 5936:switch(f(e,r+11)){case 114:return q+e+z+b(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return q+e+z+b(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return q+e+z+b(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return q+e+z+e+e}return e}var de=[function(e,r,t,n){if(e.length>-1&&!e.return)switch(e.type){case G:e.return=se(e.value,e.length);break;case Y:return X([E(e,{value:b(e.value,"@","@"+q)})],n);case V:if(e.length)return h(e.props,(function(r){switch(i(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return X([E(e,{props:[b(r,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return X([E(e,{props:[b(r,/:(plac\w+)/,":"+q+"input-$1")]}),E(e,{props:[b(r,/:(plac\w+)/,":-moz-$1")]}),E(e,{props:[b(r,/:(plac\w+)/,z+"input-$1")]})],n)}return""}))}}],ue=function(e){var r=e.key;if("css"===r){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,o,c=e.stylisPlugins||de,s={},d=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),(function(e){for(var r=e.getAttribute("data-emotion").split(" "),t=1;t<r.length;t++)s[r[t]]=!0;d.push(e)}));var u,l,i,b,p=[Z,(b=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&b(e)})],f=(l=[ae,ce].concat(c,p),i=y(l),function(e,r,t,n){for(var o="",a=0;a<i;a++)o+=l[a](e,r,t,n)||"";return o});o=function(e,r,t,n){u=t,X(J(e?e+"{"+r.styles+"}":r.styles),f),n&&(v.inserted[r.name]=!0)};var v={key:r,sheet:new a({key:r,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return v.sheet.hydrate(d),v},le=t(77940),ie=function(e){var r=new WeakMap;return function(t){if(r.has(t))return r.get(t);var n=e(t);return r.set(t,n),n}},be=t(2396),pe=t.n(be),fe=function(e,r){return pe()(e,r)};function ve(e,r,t){var n="";return t.split(" ").forEach((function(t){void 0!==e[t]?r.push(e[t]+";"):t&&(n+=t+" ")})),n}var ge=function(e,r,t){var n=e.key+"-"+r.name;!1===t&&void 0===e.registered[n]&&(e.registered[n]=r.styles)},ye=function(e,r,t){ge(e,r,t);var n=e.key+"-"+r.name;if(void 0===e.inserted[r.name]){var o=r;do{e.insert(r===o?"."+n:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var me={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function he(e){var r=Object.create(null);return function(t){return void 0===r[t]&&(r[t]=e(t)),r[t]}}var ke=!1,Fe=/[A-Z]|^ms/g,xe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Se=function(e){return 45===e.charCodeAt(1)},we=function(e){return null!=e&&"boolean"!=typeof e},Ce=he((function(e){return Se(e)?e:e.replace(Fe,"-$&").toLowerCase()})),Me=function(e,r){switch(e){case"animation":case"animationName":if("string"==typeof r)return r.replace(xe,(function(e,r,t){return Be={name:r,styles:t,next:Be},r}))}return 1===me[e]||Se(e)||"number"!=typeof r||0===r?r:r+"px"},Ee="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ae(e,r,t){if(null==t)return"";var n=t;if(void 0!==n.__emotion_styles)return n;switch(typeof t){case"boolean":return"";case"object":var o=t;if(1===o.anim)return Be={name:o.name,styles:o.styles,next:Be},o.name;var a=t;if(void 0!==a.styles){var c=a.next;if(void 0!==c)for(;void 0!==c;)Be={name:c.name,styles:c.styles,next:Be},c=c.next;return a.styles+";"}return function(e,r,t){var n="";if(Array.isArray(t))for(var o=0;o<t.length;o++)n+=Ae(e,r,t[o])+";";else for(var a in t){var c=t[a];if("object"!=typeof c){var s=c;null!=r&&void 0!==r[s]?n+=a+"{"+r[s]+"}":we(s)&&(n+=Ce(a)+":"+Me(a,s)+";")}else{if("NO_COMPONENT_SELECTOR"===a&&ke)throw new Error(Ee);if(!Array.isArray(c)||"string"!=typeof c[0]||null!=r&&void 0!==r[c[0]]){var d=Ae(e,r,c);switch(a){case"animation":case"animationName":n+=Ce(a)+":"+d+";";break;default:n+=a+"{"+d+"}"}}else for(var u=0;u<c.length;u++)we(c[u])&&(n+=Ce(a)+":"+Me(a,c[u])+";")}}return n}(e,r,t);case"function":if(void 0!==e){var s=Be,d=t(e);return Be=s,Ae(e,r,d)}}var u=t;if(null==r)return u;var l=r[u];return void 0!==l?l:u}var Be,Oe=/label:\s*([^\s;{]+)\s*(;|$)/g;function $e(e,r,t){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";Be=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,o+=Ae(t,r,a)):o+=a[0];for(var c=1;c<e.length;c++){if(o+=Ae(t,r,e[c]),n)o+=a[c]}Oe.lastIndex=0;for(var s,d="";null!==(s=Oe.exec(o));)d+="-"+s[1];var u=function(e){for(var r,t=0,n=0,o=e.length;o>=4;++n,o-=4)r=1540483477*(65535&(r=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(r>>>16)<<16),t=1540483477*(65535&(r^=r>>>24))+(59797*(r>>>16)<<16)^1540483477*(65535&t)+(59797*(t>>>16)<<16);switch(o){case 3:t^=(255&e.charCodeAt(n+2))<<16;case 2:t^=(255&e.charCodeAt(n+1))<<8;case 1:t=1540483477*(65535&(t^=255&e.charCodeAt(n)))+(59797*(t>>>16)<<16)}return(((t=1540483477*(65535&(t^=t>>>13))+(59797*(t>>>16)<<16))^t>>>15)>>>0).toString(36)}(o)+d;return{name:u,styles:o,next:Be}}var De=!!o.useInsertionEffect&&o.useInsertionEffect,_e=De||function(e){return e()},Pe=De||n.useLayoutEffect,Re=n.createContext("undefined"!=typeof HTMLElement?ue({key:"css"}):null),je=Re.Provider,Ne=function(){return(0,n.useContext)(Re)},Ie=function(e){return(0,n.forwardRef)((function(r,t){var o=(0,n.useContext)(Re);return e(r,o,t)}))},Te=n.createContext({}),Ue=function(){return n.useContext(Te)},We=ie((function(e){return ie((function(r){return function(e,r){return"function"==typeof r?r(e):(0,le.default)({},e,r)}(e,r)}))})),ze=function(e){var r=n.useContext(Te);return e.theme!==r&&(r=We(r)(e.theme)),n.createElement(Te.Provider,{value:r},e.children)};function He(e){var r=e.displayName||e.name||"Component",t=function(r,t){var o=n.useContext(Te);return n.createElement(e,(0,le.default)({theme:o,ref:t},r))},o=n.forwardRef(t);return o.displayName="WithTheme("+r+")",fe(o,e)}var qe={}.hasOwnProperty,Le="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ve=function(e){var r=e.cache,t=e.serialized,n=e.isStringTag;return ge(r,t,n),_e((function(){return ye(r,t,n)})),null},Ge=Ie((function(e,r,t){var o=e.css;"string"==typeof o&&void 0!==r.registered[o]&&(o=r.registered[o]);var a=e[Le],c=[o],s="";"string"==typeof e.className?s=ve(r.registered,c,e.className):null!=e.className&&(s=e.className+" ");var d=$e(c,void 0,n.useContext(Te));s+=r.key+"-"+d.name;var u={};for(var l in e)qe.call(e,l)&&"css"!==l&&l!==Le&&(u[l]=e[l]);return u.className=s,t&&(u.ref=t),n.createElement(n.Fragment,null,n.createElement(Ve,{cache:r,serialized:d,isStringTag:"string"==typeof a}),n.createElement(a,u))})),Ye=function(e,r){var t=arguments;if(null==r||!qe.call(r,"css"))return n.createElement.apply(void 0,t);var o=t.length,a=new Array(o);a[0]=Ge,a[1]=function(e,r){var t={};for(var n in r)qe.call(r,n)&&(t[n]=r[n]);return t[Le]=e,t}(e,r);for(var c=2;c<o;c++)a[c]=t[c];return n.createElement.apply(null,a)},Xe=Ie((function(e,r){var t=$e([e.styles],void 0,n.useContext(Te)),o=n.useRef();return Pe((function(){var e=r.key+"-global",n=new r.sheet.constructor({key:e,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+e+" "+t.name+'"]');return r.sheet.tags.length&&(n.before=r.sheet.tags[0]),null!==c&&(a=!0,c.setAttribute("data-emotion",e),n.hydrate([c])),o.current=[n,a],function(){n.flush()}}),[r]),Pe((function(){var e=o.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==t.next&&ye(r,t.next,!0),n.tags.length){var a=n.tags[n.tags.length-1].nextElementSibling;n.before=a,n.flush()}r.insert("",t,n,!1)}}),[r,t.name]),null}));function Ze(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return $e(r)}var Je=function(){var e=Ze.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ke=function e(r){for(var t=r.length,n=0,o="";n<t;n++){var a=r[n];if(null!=a){var c=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))c=e(a);else for(var s in c="",a)a[s]&&s&&(c&&(c+=" "),c+=s);break;default:c=a}c&&(o&&(o+=" "),o+=c)}}return o};var Qe=function(e){var r=e.cache,t=e.serializedArr;return _e((function(){for(var e=0;e<t.length;e++)ye(r,t[e],!1)})),null},er=Ie((function(e,r){var t=[],o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var a=$e(n,r.registered);return t.push(a),ge(r,a,!1),r.key+"-"+a.name},a={css:o,cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,r,t){var n=[],o=ve(e,n,t);return n.length<2?t:o+r(n)}(r.registered,o,Ke(t))},theme:n.useContext(Te)},c=e.children(a);return n.createElement(n.Fragment,null,n.createElement(Qe,{cache:r,serializedArr:t}),c)}))},48249:function(e,r){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),i=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,r,t){this.props=e,this.context=r,this.refs=g,this.updater=t||f}function m(){}function h(e,r,t){this.props=e,this.context=r,this.refs=g,this.updater=t||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=h.prototype=new m;k.constructor=h,v(k,y.prototype),k.isPureReactComponent=!0;var F=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function C(e,r,n){var o,a={},c=null,s=null;if(null!=r)for(o in void 0!==r.ref&&(s=r.ref),void 0!==r.key&&(c=""+r.key),r)x.call(r,o)&&!w.hasOwnProperty(o)&&(a[o]=r[o]);var d=arguments.length-2;if(1===d)a.children=n;else if(1<d){for(var u=Array(d),l=0;l<d;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(o in d=e.defaultProps)void 0===a[o]&&(a[o]=d[o]);return{$$typeof:t,type:e,key:c,ref:s,props:a,_owner:S.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var E=/\/+/g;function A(e,r){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return r[e]}))}(""+e.key):r.toString(36)}function B(e,r,o,a,c){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var d=!1;if(null===e)d=!0;else switch(s){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case t:case n:d=!0}}if(d)return c=c(d=e),e=""===a?"."+A(d,0):a,F(c)?(o="",null!=e&&(o=e.replace(E,"$&/")+"/"),B(c,r,o,"",(function(e){return e}))):null!=c&&(M(c)&&(c=function(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}(c,o+(!c.key||d&&d.key===c.key?"":(""+c.key).replace(E,"$&/")+"/")+e)),r.push(c)),1;if(d=0,a=""===a?".":a+":",F(e))for(var u=0;u<e.length;u++){var l=a+A(s=e[u],u);d+=B(s,r,o,l,c)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)d+=B(s=s.value,r,o,l=a+A(s,u++),c);else if("object"===s)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return d}function O(e,r,t){if(null==e)return e;var n=[],o=0;return B(e,n,"","",(function(e){return r.call(t,e,o++)})),n}function $(e){if(-1===e._status){var r=e._result;(r=r()).then((function(r){0!==e._status&&-1!==e._status||(e._status=1,e._result=r)}),(function(r){0!==e._status&&-1!==e._status||(e._status=2,e._result=r)})),-1===e._status&&(e._status=0,e._result=r)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},_={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:_,ReactCurrentOwner:S};r.Children={map:O,forEach:function(e,r,t){O(e,(function(){r.apply(this,arguments)}),t)},count:function(e){var r=0;return O(e,(function(){r++})),r},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r.Component=y,r.Fragment=o,r.Profiler=c,r.PureComponent=h,r.StrictMode=a,r.Suspense=l,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,r.cloneElement=function(e,r,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=v({},e.props),a=e.key,c=e.ref,s=e._owner;if(null!=r){if(void 0!==r.ref&&(c=r.ref,s=S.current),void 0!==r.key&&(a=""+r.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in r)x.call(r,u)&&!w.hasOwnProperty(u)&&(o[u]=void 0===r[u]&&void 0!==d?d[u]:r[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){d=Array(u);for(var l=0;l<u;l++)d[l]=arguments[l+2];o.children=d}return{$$typeof:t,type:e.type,key:a,ref:c,props:o,_owner:s}},r.createContext=function(e){return(e={$$typeof:d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},r.createElement=C,r.createFactory=function(e){var r=C.bind(null,e);return r.type=e,r},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:u,render:e}},r.isValidElement=M,r.lazy=function(e){return{$$typeof:b,_payload:{_status:-1,_result:e},_init:$}},r.memo=function(e,r){return{$$typeof:i,type:e,compare:void 0===r?null:r}},r.startTransition=function(e){var r=_.transition;_.transition={};try{e()}finally{_.transition=r}},r.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},r.useCallback=function(e,r){return D.current.useCallback(e,r)},r.useContext=function(e){return D.current.useContext(e)},r.useDebugValue=function(){},r.useDeferredValue=function(e){return D.current.useDeferredValue(e)},r.useEffect=function(e,r){return D.current.useEffect(e,r)},r.useId=function(){return D.current.useId()},r.useImperativeHandle=function(e,r,t){return D.current.useImperativeHandle(e,r,t)},r.useInsertionEffect=function(e,r){return D.current.useInsertionEffect(e,r)},r.useLayoutEffect=function(e,r){return D.current.useLayoutEffect(e,r)},r.useMemo=function(e,r){return D.current.useMemo(e,r)},r.useReducer=function(e,r,t){return D.current.useReducer(e,r,t)},r.useRef=function(e){return D.current.useRef(e)},r.useState=function(e){return D.current.useState(e)},r.useSyncExternalStore=function(e,r,t){return D.current.useSyncExternalStore(e,r,t)},r.useTransition=function(){return D.current.useTransition()},r.version="18.2.0"},54505:function(e,r){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,c=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,i=t?Symbol.for("react.concurrent_mode"):60111,b=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,m=t?Symbol.for("react.fundamental"):60117,h=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function F(e){if("object"==typeof e&&null!==e){var r=e.$$typeof;switch(r){case n:switch(e=e.type){case l:case i:case a:case s:case c:case p:return e;default:switch(e=e&&e.$$typeof){case u:case b:case g:case v:case d:return e;default:return r}}case o:return r}}}function x(e){return F(e)===i}r.AsyncMode=l,r.ConcurrentMode=i,r.ContextConsumer=u,r.ContextProvider=d,r.Element=n,r.ForwardRef=b,r.Fragment=a,r.Lazy=g,r.Memo=v,r.Portal=o,r.Profiler=s,r.StrictMode=c,r.Suspense=p,r.isAsyncMode=function(e){return x(e)||F(e)===l},r.isConcurrentMode=x,r.isContextConsumer=function(e){return F(e)===u},r.isContextProvider=function(e){return F(e)===d},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},r.isForwardRef=function(e){return F(e)===b},r.isFragment=function(e){return F(e)===a},r.isLazy=function(e){return F(e)===g},r.isMemo=function(e){return F(e)===v},r.isPortal=function(e){return F(e)===o},r.isProfiler=function(e){return F(e)===s},r.isStrictMode=function(e){return F(e)===c},r.isSuspense=function(e){return F(e)===p},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===i||e===s||e===c||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===d||e.$$typeof===u||e.$$typeof===b||e.$$typeof===m||e.$$typeof===h||e.$$typeof===k||e.$$typeof===y)},r.typeOf=F},75067:function(e,r,t){t.r(r),t.d(r,{parseXcss:function(){return g},tokensMap:function(){return i},xcss:function(){return y}});var n=t(18134),o=t(36111),a=t(12492),c=t(23224),s=t(45073),d=t(8888);function u(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return l(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw a}}}}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var i={backgroundColor:d.backgroundColorMap,blockSize:d.dimensionMap,borderBlockColor:d.borderColorMap,borderBlockEndColor:d.borderColorMap,borderBlockEndWidth:d.borderWidthMap,borderBlockStartColor:d.borderColorMap,borderBlockStartWidth:d.borderWidthMap,borderBlockWidth:d.borderWidthMap,borderBottomColor:d.borderColorMap,borderBottomLeftRadius:d.borderRadiusMap,borderBottomRightRadius:d.borderRadiusMap,borderBottomWidth:d.borderWidthMap,borderColor:d.borderColorMap,borderEndEndRadius:d.borderRadiusMap,borderEndStartRadius:d.borderRadiusMap,borderInlineColor:d.borderColorMap,borderInlineEndColor:d.borderColorMap,borderInlineEndWidth:d.borderWidthMap,borderInlineStartColor:d.borderColorMap,borderInlineStartWidth:d.borderWidthMap,borderInlineWidth:d.borderWidthMap,borderLeftColor:d.borderColorMap,borderLeftWidth:d.borderWidthMap,borderRadius:d.borderRadiusMap,borderRightColor:d.borderColorMap,borderRightWidth:d.borderWidthMap,borderStartEndRadius:d.borderRadiusMap,borderStartStartRadius:d.borderRadiusMap,borderTopColor:d.borderColorMap,borderTopLeftRadius:d.borderRadiusMap,borderTopRightRadius:d.borderRadiusMap,borderTopWidth:d.borderWidthMap,borderWidth:d.borderWidthMap,bottom:d.allSpaceMap,boxShadow:d.shadowMap,color:d.textColorMap,columnGap:d.positiveSpaceMap,font:d.fontMap,fontFamily:d.fontFamilyMap,fontWeight:d.fontWeightMap,gap:d.positiveSpaceMap,height:d.dimensionMap,inlineSize:d.dimensionMap,inset:d.allSpaceMap,insetBlock:d.allSpaceMap,insetBlockEnd:d.allSpaceMap,insetBlockStart:d.allSpaceMap,insetInline:d.allSpaceMap,insetInlineEnd:d.allSpaceMap,insetInlineStart:d.allSpaceMap,left:d.allSpaceMap,margin:d.allSpaceMap,marginBlock:d.allSpaceMap,marginBlockEnd:d.allSpaceMap,marginBlockStart:d.allSpaceMap,marginBottom:d.allSpaceMap,marginInline:d.allSpaceMap,marginInlineEnd:d.allSpaceMap,marginInlineStart:d.allSpaceMap,marginLeft:d.allSpaceMap,marginRight:d.allSpaceMap,marginTop:d.allSpaceMap,maxBlockSize:d.dimensionMap,maxHeight:d.dimensionMap,maxInlineSize:d.dimensionMap,maxWidth:d.dimensionMap,minBlockSize:d.dimensionMap,minHeight:d.dimensionMap,minInlineSize:d.dimensionMap,minWidth:d.dimensionMap,opacity:d.opacityMap,outlineColor:d.borderColorMap,outlineOffset:d.positiveSpaceMap,outlineWidth:d.borderWidthMap,padding:d.positiveSpaceMap,paddingBlock:d.positiveSpaceMap,paddingBlockEnd:d.positiveSpaceMap,paddingBlockStart:d.positiveSpaceMap,paddingBottom:d.positiveSpaceMap,paddingInline:d.positiveSpaceMap,paddingInlineEnd:d.positiveSpaceMap,paddingInlineStart:d.positiveSpaceMap,paddingLeft:d.positiveSpaceMap,paddingRight:d.positiveSpaceMap,paddingTop:d.positiveSpaceMap,right:d.allSpaceMap,rowGap:d.positiveSpaceMap,top:d.allSpaceMap,width:d.dimensionMap,zIndex:d.layerMap},b=Symbol("UNSAFE_INTERNAL_styles"),p=/^@media .*$|^::?.*$|^@supports .*$/,f=function(e){return e&&"object"===(0,c.default)(e)?Array.isArray(e)?e.map(f):(Object.entries(e).forEach((function(r){var t=(0,a.default)(r,2),n=t[0],o=t[1];if("object"===(0,c.default)(o)&&p.test(n))e[n]=f(o);else if("object"===("undefined"==typeof process?"undefined":(0,c.default)(process))&&(0,c.default)(process.env),n in i){var s=i[n][o];e[n]=null!=s?s:o}})),e):e},v=function(e){var r=f(e);return(0,o.default)({},b,(0,s.css)(r))},g=function(e){if(Array.isArray(e)){var r,t=[],o=[],a=u(e);try{for(a.s();!(r=a.n()).done;){var c=r.value,s=g(c);s.emotion&&t.push.apply(t,(0,n.default)(s.emotion)),s.static&&o.push(s.static)}}catch(e){a.e(e)}finally{a.f()}return{emotion:t,static:o.join(" ")}}var d=(e||{})[b];if(d)return{emotion:[d]};if(e){var l="".concat(e);if(l)return{static:l}}return{}};function y(e){return v(e)}},77940:function(e,r,t){function n(){return n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n.apply(null,arguments)}t.r(r),t.d(r,{default:function(){return n}})},80261:function(e,r,t){e.exports=t(54505)},82432:function(e,r,t){t.r(r),t.d(r,{Provider:function(){return re},ReactReduxContext:function(){return Z},batch:function(){return ie},connect:function(){return ee},createDispatchHook:function(){return ce},createSelectorHook:function(){return ue},createStoreHook:function(){return oe},shallowEqual:function(){return P},useDispatch:function(){return se},useSelector:function(){return le},useStore:function(){return ae}});var n=t(86326),o=t(2368),a=n.version.startsWith("19"),c=Symbol.for(a?"react.transitional.element":"react.element"),s=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),b=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=p,h=g;function k(e){if("object"==typeof e&&null!==e){const{$$typeof:r}=e;switch(r){case c:switch(e=e.type){case d:case l:case u:case f:case v:return e;default:switch(e=e&&e.$$typeof){case b:case p:case y:case g:case i:return e;default:return r}}case s:return r}}}function F(e,r,t,n,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:c}){let s,d,u,l,i,b=!1;function p(b,p){const f=!a(p,d),v=!o(b,s,p,d);return s=b,d=p,f&&v?(u=e(s,d),r.dependsOnOwnProps&&(l=r(n,d)),i=t(u,l,d),i):f?(e.dependsOnOwnProps&&(u=e(s,d)),r.dependsOnOwnProps&&(l=r(n,d)),i=t(u,l,d),i):v?function(){const r=e(s,d),n=!c(r,u);return u=r,n&&(i=t(u,l,d)),i}():i}return function(o,a){return b?p(o,a):(s=o,d=a,u=e(s,d),l=r(n,d),i=t(u,l,d),b=!0,i)}}function x(e){return function(r){const t=e(r);function n(){return t}return n.dependsOnOwnProps=!1,n}}function S(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function w(e,r){return function(r,{displayName:t}){const n=function(e,r){return n.dependsOnOwnProps?n.mapToProps(e,r):n.mapToProps(e,void 0)};return n.dependsOnOwnProps=!0,n.mapToProps=function(r,t){n.mapToProps=e,n.dependsOnOwnProps=S(e);let o=n(r,t);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=S(o),o=n(r,t)),o},n}}function C(e,r){return(t,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${r} argument when connecting component ${n.wrappedComponentName}.`)}}function M(e,r,t){return{...t,...e,...r}}function E(e){e()}var A={notify(){},get:()=>[]};function B(e,r){let t,n=A,o=0,a=!1;function c(){u.onStateChange&&u.onStateChange()}function s(){o++,t||(t=r?r.addNestedSub(c):e.subscribe(c),n=function(){let e=null,r=null;return{clear(){e=null,r=null},notify(){E((()=>{let r=e;for(;r;)r.callback(),r=r.next}))},get(){const r=[];let t=e;for(;t;)r.push(t),t=t.next;return r},subscribe(t){let n=!0;const o=r={callback:t,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){n&&null!==e&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function d(){o--,t&&0===o&&(t(),t=void 0,n.clear(),n=A)}const u={addNestedSub:function(e){s();const r=n.subscribe(e);let t=!1;return()=>{t||(t=!0,r(),d())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:c,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,d())},getListeners:()=>n};return u}var O=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),$=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),D=(()=>O||$?n.useLayoutEffect:n.useEffect)();function _(e,r){return e===r?0!==e||0!==r||1/e==1/r:e!=e&&r!=r}function P(e,r){if(_(e,r))return!0;if("object"!=typeof e||null===e||"object"!=typeof r||null===r)return!1;const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(let n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(r,t[n])||!_(e[t[n]],r[t[n]]))return!1;return!0}var R={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},j={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},N={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},I={[m]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[h]:N};function T(e){return k(e)===g?N:I[e.$$typeof]||R}var U=Object.defineProperty,W=Object.getOwnPropertyNames,z=Object.getOwnPropertySymbols,H=Object.getOwnPropertyDescriptor,q=Object.getPrototypeOf,L=Object.prototype;function V(e,r){if("string"!=typeof r){if(L){const t=q(r);t&&t!==L&&V(e,t)}let t=W(r);z&&(t=t.concat(z(r)));const n=T(e),o=T(r);for(let a=0;a<t.length;++a){const c=t[a];if(!(j[c]||o&&o[c]||n&&n[c])){const t=H(r,c);try{U(e,c,t)}catch(e){}}}}return e}var G=Symbol.for("react-redux-context"),Y="undefined"!=typeof globalThis?globalThis:{};function X(){if(!n.createContext)return{};const e=Y[G]??=new Map;let r=e.get(n.createContext);return r||(r=n.createContext(null),e.set(n.createContext,r)),r}var Z=X(),J=[null,null];function K(e,r,t,n,o,a){e.current=n,t.current=!1,o.current&&(o.current=null,a())}function Q(e,r){return e===r}var ee=function(e,r,t,{pure:o,areStatesEqual:a=Q,areOwnPropsEqual:c=P,areStatePropsEqual:s=P,areMergedPropsEqual:d=P,forwardRef:u=!1,context:l=Z}={}){const i=l,b=function(e){return e?"function"==typeof e?w(e):C(e,"mapStateToProps"):x((()=>({})))}(e),p=function(e){return e&&"object"==typeof e?x((r=>function(e,r){const t={};for(const n in e){const o=e[n];"function"==typeof o&&(t[n]=(...e)=>r(o(...e)))}return t}(e,r))):e?"function"==typeof e?w(e):C(e,"mapDispatchToProps"):x((e=>({dispatch:e})))}(r),f=function(e){return e?"function"==typeof e?function(e){return function(r,{displayName:t,areMergedPropsEqual:n}){let o,a=!1;return function(r,t,c){const s=e(r,t,c);return a?n(s,o)||(o=s):(a=!0,o=s),o}}}(e):C(e,"mergeProps"):()=>M}(t),v=Boolean(e);return e=>{const r=e.displayName||e.name||"Component",t=`Connect(${r})`,o={shouldHandleStateChanges:v,displayName:t,wrappedComponentName:r,WrappedComponent:e,initMapStateToProps:b,initMapDispatchToProps:p,initMergeProps:f,areStatesEqual:a,areStatePropsEqual:s,areOwnPropsEqual:c,areMergedPropsEqual:d};function l(r){const[t,a,c]=n.useMemo((()=>{const{reactReduxForwardedRef:e,...t}=r;return[r.context,e,t]}),[r]),s=n.useMemo((()=>i),[t,i]),d=n.useContext(s),u=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch),l=Boolean(d)&&Boolean(d.store);const b=u?r.store:d.store,p=l?d.getServerState:b.getState,f=n.useMemo((()=>function(e,{initMapStateToProps:r,initMapDispatchToProps:t,initMergeProps:n,...o}){return F(r(e,o),t(e,o),n(e,o),e,o)}(b.dispatch,o)),[b]),[g,y]=n.useMemo((()=>{if(!v)return J;const e=B(b,u?void 0:d.subscription),r=e.notifyNestedSubs.bind(e);return[e,r]}),[b,u,d]),m=n.useMemo((()=>u?d:{...d,subscription:g}),[u,d,g]),h=n.useRef(void 0),k=n.useRef(c),x=n.useRef(void 0),S=n.useRef(!1),w=n.useRef(!1),C=n.useRef(void 0);D((()=>(w.current=!0,()=>{w.current=!1})),[]);const M=n.useMemo((()=>()=>x.current&&c===k.current?x.current:f(b.getState(),c)),[b,c]),E=n.useMemo((()=>e=>g?function(e,r,t,n,o,a,c,s,d,u,l){if(!e)return()=>{};let i=!1,b=null;const p=()=>{if(i||!s.current)return;const e=r.getState();let t,p;try{t=n(e,o.current)}catch(e){p=e,b=e}p||(b=null),t===a.current?c.current||u():(a.current=t,d.current=t,c.current=!0,l())};return t.onStateChange=p,t.trySubscribe(),p(),()=>{if(i=!0,t.tryUnsubscribe(),t.onStateChange=null,b)throw b}}(v,b,g,f,k,h,S,w,x,y,e):()=>{}),[g]);var A,O,$;let _;A=K,O=[k,h,S,c,x,y],D((()=>A(...O)),$);try{_=n.useSyncExternalStore(E,M,p?()=>f(p(),c):M)}catch(e){throw C.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${C.current.stack}\n\n`),e}D((()=>{C.current=void 0,x.current=void 0,h.current=_}));const P=n.useMemo((()=>n.createElement(e,{..._,ref:a})),[a,e,_]);return n.useMemo((()=>v?n.createElement(s.Provider,{value:m},P):P),[s,P,m])}const g=n.memo(l);if(g.WrappedComponent=e,g.displayName=l.displayName=t,u){const r=n.forwardRef((function(e,r){return n.createElement(g,{...e,reactReduxForwardedRef:r})}));return r.displayName=t,r.WrappedComponent=e,V(r,e)}return V(g,e)}};var re=function(e){const{children:r,context:t,serverState:o,store:a}=e,c=n.useMemo((()=>{const e=B(a);return{store:a,subscription:e,getServerState:o?()=>o:void 0}}),[a,o]),s=n.useMemo((()=>a.getState()),[a]);D((()=>{const{subscription:e}=c;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,s]);const d=t||Z;return n.createElement(d.Provider,{value:c},r)};function te(e=Z){return function(){return n.useContext(e)}}var ne=te();function oe(e=Z){const r=e===Z?ne:te(e),t=()=>{const{store:e}=r();return e};return Object.assign(t,{withTypes:()=>t}),t}var ae=oe();function ce(e=Z){const r=e===Z?ae:oe(e),t=()=>r().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var se=ce(),de=(e,r)=>e===r;function ue(e=Z){const r=e===Z?ne:te(e),t=(e,t={})=>{const{equalityFn:a=de}="function"==typeof t?{equalityFn:t}:t;const c=r(),{store:s,subscription:d,getServerState:u}=c,l=(n.useRef(!0),n.useCallback({[e.name](r){return e(r)}}[e.name],[e])),i=(0,o.useSyncExternalStoreWithSelector)(d.addNestedSub,s.getState,u||s.getState,l,a);return n.useDebugValue(i),i};return Object.assign(t,{withTypes:()=>t}),t}var le=ue(),ie=E},86326:function(e,r,t){e.exports=t(48249)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:f1f2bb8ab0defd483988e39b2b384c56', location = 'build/6776.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6776],{44488:function(e,t,n){n.r(t),n.d(t,{createSelector:function(){return $},createSelectorCreator:function(){return F},createStructuredSelector:function(){return L},lruMemoize:function(){return k},referenceEqualityCheck:function(){return M},setGlobalDevModeChecks:function(){return o},unstable_autotrackMemoize:function(){return R},weakMapMemoize:function(){return D}});var r={inputStabilityCheck:"once",identityFunctionCheck:"once"},o=e=>{Object.assign(r,e)},i=Symbol("NOT_FOUND");function c(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var u=e=>Array.isArray(e)?e:[e];function a(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var s=0,l=null,f=class{revision=s;_value;_lastValue;_isEqual=d;constructor(e,t=d){this._value=this._lastValue=e,this._isEqual=t}get value(){return l?.add(this),this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++s)}};function d(e,t){return e===t}var p=class{_cachedValue;_cachedRevision=-1;_deps=[];hits=0;fn;constructor(e){this.fn=e}clear(){this._cachedValue=void 0,this._cachedRevision=-1,this._deps=[],this.hits=0}get value(){if(this.revision>this._cachedRevision){const{fn:e}=this,t=new Set,n=l;l=t,this._cachedValue=e(),l=n,this.hits++,this._deps=Array.from(t),this._cachedRevision=this.revision}return l?.add(this),this._cachedValue}get revision(){return Math.max(...this._deps.map((e=>e.revision)),0)}};function y(e){return e instanceof f||console.warn("Not a valid cell! ",e),e.value}var h=(e,t)=>!1;function g(){return function(e,t=d){return new f(e,t)}(null,h)}function m(e,t){!function(e,t){if(!(e instanceof f))throw new TypeError("setValue must be passed a tracked store created with `createStorage`.");e.value=e._lastValue=t}(e,t)}var b=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=g()),y(t)},w=e=>{const t=e.collectionTag;null!==t&&m(t,null)},_=(Symbol(),0),v=Object.getPrototypeOf({}),O=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,S);tag=g();tags={};children={};collectionTag=null;id=_++},S={get(e,t){return function(){const{value:n}=e,r=Reflect.get(n,t);if("symbol"==typeof t)return r;if(t in v)return r;if("object"==typeof r&&null!==r){let n=e.children[t];return void 0===n&&(n=e.children[t]=A(r)),n.tag&&y(n.tag),n.proxy}{let n=e.tags[t];return void 0===n&&(n=e.tags[t]=g(),n.value=r),y(n),r}}()},ownKeys(e){return b(e),Reflect.ownKeys(e.value)},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(e.value,t)},has(e,t){return Reflect.has(e.value,t)}},E=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],j);tag=g();tags={};children={};collectionTag=null;id=_++},j={get([e],t){return"length"===t&&b(e),S.get(e,t)},ownKeys([e]){return S.ownKeys(e)},getOwnPropertyDescriptor([e],t){return S.getOwnPropertyDescriptor(e,t)},has([e],t){return S.has(e,t)}};function A(e){return Array.isArray(e)?new E(e):new O(e)}function C(e,t){const{value:n,tags:r,children:o}=e;if(e.value=t,Array.isArray(n)&&Array.isArray(t)&&n.length!==t.length)w(e);else if(n!==t){let r=0,o=0,i=!1;for(const e in n)r++;for(const e in t)if(o++,!(e in n)){i=!0;break}(i||r!==o)&&w(e)}for(const o in r){const i=n[o],c=t[o];i!==c&&(w(e),m(r[o],c)),"object"==typeof c&&null!==c&&delete r[o]}for(const e in o){const n=o[e],r=t[e];n.value!==r&&("object"==typeof r&&null!==r?C(n,r):(P(n),delete o[e]))}}function P(e){e.tag&&m(e.tag,null),w(e);for(const t in e.tags)m(e.tags[t],null);for(const t in e.children)P(e.children[t])}var M=(e,t)=>e===t;function T(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;const{length:r}=t;for(let o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}function k(e,t){const n="object"==typeof t?t:{equalityCheck:t},{equalityCheck:r=M,maxSize:o=1,resultEqualityCheck:c}=n,u=T(r);let a=0;const s=o<=1?function(e){let t;return{get(n){return t&&e(t.key,n)?t.value:i},put(e,n){t={key:e,value:n}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}(u):function(e,t){let n=[];function r(e){const r=n.findIndex((n=>t(e,n.key)));if(r>-1){const e=n[r];return r>0&&(n.splice(r,1),n.unshift(e)),e.value}return i}return{get:r,put:function(t,o){r(t)===i&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,u);function l(){let t=s.get(arguments);if(t===i){if(t=e.apply(null,arguments),a++,c){const e=s.getEntries().find((e=>c(e.value,t)));e&&(t=e.value,0!==a&&a--)}s.put(arguments,t)}return t}return l.clearCache=()=>{s.clear(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function R(e){const t=A([]);let n=null;const r=T(M),o=(c(i=()=>e.apply(null,t.proxy),"the first parameter to `createCache` must be a function"),new p(i));var i;function u(){return r(n,arguments)||(C(t,arguments),n=arguments),o.value}return u.clearCache=()=>o.clear(),u}var x="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},z=0,N=1;function I(){return{s:z,v:void 0,o:null,p:null}}function D(e,t={}){let n=I();const{resultEqualityCheck:r}=t;let o,i=0;function c(){let t=n;const{length:c}=arguments;for(let e=0,n=c;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=I(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=I(),e.set(n,t)):t=r}}const u=t;let a;if(t.s===N)a=t.v;else if(a=e.apply(null,arguments),i++,r){const e=o?.deref?.()??o;null!=e&&r(e,a)&&(a=e,0!==i&&i--);o="object"==typeof a&&null!==a||"function"==typeof a?new x(a):a}return u.s=N,u.v=a,a}return c.clearCache=()=>{n=I(),c.resetResultsCount()},c.resultsCount=()=>i,c.resetResultsCount=()=>{i=0},c}function F(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,o=0,i={},s=e.pop();"object"==typeof s&&(i=s,s=e.pop()),c(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const l={...n,...i},{memoize:f,memoizeOptions:d=[],argsMemoize:p=D,argsMemoizeOptions:y=[],devModeChecks:h={}}=l,g=u(d),m=u(y),b=a(e),w=f((function(){return r++,s.apply(null,arguments)}),...g);const _=p((function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}(b,arguments);return t=w.apply(null,e),t}),...m);return Object.assign(_,{resultFunc:s,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var $=F(D),L=Object.assign(((e,t=$)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>L})},46776:function(e,t,n){n.r(t),n.d(t,{ReducerType:function(){return Ke},SHOULD_AUTOBATCH:function(){return be},TaskAbortError:function(){return ht},Tuple:function(){return ae},__DO_NOT_USE__ActionTypes:function(){return r.__DO_NOT_USE__ActionTypes},addListener:function(){return Nt},applyMiddleware:function(){return r.applyMiddleware},asyncThunkCreator:function(){return Ue},autoBatchEnhancer:function(){return ve},bindActionCreators:function(){return r.bindActionCreators},buildCreateSlice:function(){return Ge},clearAllListeners:function(){return It},combineReducers:function(){return r.combineReducers},combineSlices:function(){return Gt},compose:function(){return r.compose},configureStore:function(){return Se},createAction:function(){return re},createActionCreatorInvariantMiddleware:function(){return ue},createAsyncThunk:function(){return We},createDraftSafeSelector:function(){return ee},createDraftSafeSelectorCreator:function(){return Z},createDynamicMiddleware:function(){return qt},createEntityAdapter:function(){return ut},createImmutableStateInvariantMiddleware:function(){return de},createListenerMiddleware:function(){return $t},createNextState:function(){return G},createReducer:function(){return je},createSelector:function(){return H.createSelector},createSelectorCreator:function(){return H.createSelectorCreator},createSerializableStateInvariantMiddleware:function(){return ge},createSlice:function(){return Je},createStore:function(){return r.createStore},current:function(){return U},findNonSerializableValue:function(){return ye},formatProdErrorMessage:function(){return Ht},freeze:function(){return O},isAction:function(){return r.isAction},isActionCreator:function(){return oe},isAllOf:function(){return Pe},isAnyOf:function(){return Ce},isAsyncThunkAction:function(){return Ne},isDraft:function(){return s},isFluxStandardAction:function(){return ie},isFulfilled:function(){return ze},isImmutableDefault:function(){return fe},isPending:function(){return ke},isPlain:function(){return pe},isPlainObject:function(){return r.isPlainObject},isRejected:function(){return Re},isRejectedWithValue:function(){return xe},legacy_createStore:function(){return r.legacy_createStore},lruMemoize:function(){return H.lruMemoize},miniSerializeError:function(){return Le},nanoid:function(){return Ie},original:function(){return p},prepareAutoBatched:function(){return we},removeListener:function(){return Dt},unwrapResult:function(){return Be},weakMapMemoize:function(){return H.weakMapMemoize}});var r=n(84488),o=Symbol.for("immer-nothing"),i=Symbol.for("immer-draftable"),c=Symbol.for("immer-state");function u(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var a=Object.getPrototypeOf;function s(e){return!!e&&!!e[c]}function l(e){return!!e&&(d(e)||Array.isArray(e)||!!e[i]||!!e.constructor?.[i]||b(e)||w(e))}var f=Object.prototype.constructor.toString();function d(e){if(!e||"object"!=typeof e)return!1;const t=a(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===f}function p(e){return s(e)||u(15),e[c].base_}function y(e,t){0===h(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function h(e){const t=e[c];return t?t.type_:Array.isArray(e)?1:b(e)?2:w(e)?3:0}function g(e,t){return 2===h(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,n){const r=h(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function b(e){return e instanceof Map}function w(e){return e instanceof Set}function _(e){return e.copy_||e.base_}function v(e,t){if(b(e))return new Map(e);if(w(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=d(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[c];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(a(e),t)}{const t=a(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function O(e,t=!1){return E(e)||s(e)||!l(e)||(h(e)>1&&(e.set=e.add=e.clear=e.delete=S),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>O(t,!0)))),e}function S(){u(2)}function E(e){return Object.isFrozen(e)}var j,A={};function C(e){const t=A[e];return t||u(0),t}function P(){return j}function M(e,t){t&&(C("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function T(e){k(e),e.drafts_.forEach(x),e.drafts_=null}function k(e){e===j&&(j=e.parent_)}function R(e){return j={drafts_:[],parent_:j,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function x(e){const t=e[c];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function z(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[c].modified_&&(T(t),u(4)),l(e)&&(e=N(t,e),t.parent_||D(t,e)),t.patches_&&C("Patches").generateReplacementPatches_(n[c].base_,e,t.patches_,t.inversePatches_)):e=N(t,n,[]),T(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==o?e:void 0}function N(e,t,n){if(E(t))return t;const r=t[c];if(!r)return y(t,((o,i)=>I(e,r,t,o,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return D(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let o=t,i=!1;3===r.type_&&(o=new Set(t),t.clear(),i=!0),y(o,((o,c)=>I(e,r,t,o,c,n,i))),D(e,t,!1),n&&e.patches_&&C("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function I(e,t,n,r,o,i,c){if(s(o)){const c=N(e,o,i&&t&&3!==t.type_&&!g(t.assigned_,r)?i.concat(r):void 0);if(m(n,r,c),!s(c))return;e.canAutoFreeze_=!1}else c&&n.add(o);if(l(o)&&!E(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;N(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||D(e,o)}}function D(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&O(t,n)}var F={get(e,t){if(t===c)return e;const n=_(e);if(!g(n,t))return function(e,t,n){const r=q(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!l(r)?r:r===L(e.base_,t)?(B(e),e.copy_[t]=V(r,e)):r},has(e,t){return t in _(e)},ownKeys(e){return Reflect.ownKeys(_(e))},set(e,t,n){const r=q(_(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=L(_(e),t),u=r?.[c];if(u&&u.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((o=n)===(i=r)?0!==o||1/o==1/i:o!=o&&i!=i)&&(void 0!==n||g(e.base_,t)))return!0;B(e),W(e)}var o,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==L(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,B(e),W(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=_(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){u(11)},getPrototypeOf(e){return a(e.base_)},setPrototypeOf(){u(12)}},$={};function L(e,t){const n=e[c];return(n?_(n):e)[t]}function q(e,t){if(!(t in e))return;let n=a(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=a(n)}}function W(e){e.modified_||(e.modified_=!0,e.parent_&&W(e.parent_))}function B(e){e.copy_||(e.copy_=v(e.base_,e.scope_.immer_.useStrictShallowCopy_))}y(F,((e,t)=>{$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),$.deleteProperty=function(e,t){return $.set.call(this,e,t,void 0)},$.set=function(e,t,n){return F.set.call(this,e[0],t,n,e[0])};function V(e,t){const n=b(e)?C("MapSet").proxyMap_(e,t):w(e)?C("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:P(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=F;n&&(o=[r],i=$);const{revoke:c,proxy:u}=Proxy.revocable(o,i);return r.draft_=u,r.revoke_=c,u}(e,t);return(t?t.scope_:P()).drafts_.push(n),n}function U(e){return s(e)||u(10),K(e)}function K(e){if(!l(e)||E(e))return e;const t=e[c];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=v(e,t.scope_.immer_.useStrictShallowCopy_)}else n=v(e,!0);return y(n,((e,t)=>{m(n,e,K(t))})),t&&(t.finalized_=!1),n}var X=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!=typeof t&&u(6),void 0!==n&&"function"!=typeof n&&u(7),l(e)){const o=R(this),i=V(e,void 0);let c=!0;try{r=t(i),c=!1}finally{c?T(o):k(o)}return M(o,n),z(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===o&&(r=void 0),this.autoFreeze_&&O(r,!0),n){const t=[],o=[];C("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}u(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){l(e)||u(8),s(e)&&(e=U(e));const t=R(this),n=V(e,void 0);return n[c].isManual_=!0,k(t),n}finishDraft(e,t){const n=e&&e[c];n&&n.isManual_||u(9);const{scope_:r}=n;return M(r,t),z(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=C("Patches").applyPatches_;return s(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},G=X.produce;X.produceWithPatches.bind(X),X.setAutoFreeze.bind(X),X.setUseStrictShallowCopy.bind(X),X.applyPatches.bind(X),X.createDraft.bind(X),X.finishDraft.bind(X);var H=n(44488);function J(e){return({dispatch:t,getState:n})=>r=>o=>"function"==typeof o?o(t,n,e):r(o)}var Q=J(),Y=J,Z=(...e)=>{const t=(0,H.createSelectorCreator)(...e),n=Object.assign(((...e)=>{const n=t(...e),r=(e,...t)=>n(s(e)?U(e):e,...t);return Object.assign(r,n),r}),{withTypes:()=>n});return n},ee=Z(H.weakMapMemoize),te="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r.compose:r.compose.apply(null,arguments)},ne=("undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"==typeof e.match);function re(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(Ht(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>(0,r.isAction)(t)&&t.type===e,n}function oe(e){return"function"==typeof e&&"type"in e&&ne(e)}function ie(e){return(0,r.isAction)(e)&&Object.keys(e).every(ce)}function ce(e){return["type","payload","error","meta"].indexOf(e)>-1}function ue(e={}){return()=>e=>t=>e(t)}var ae=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function se(e){return l(e)?G(e,(()=>{})):e}function le(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function fe(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function de(e={}){return()=>e=>t=>e(t)}function pe(e){const t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||(0,r.isPlainObject)(e)}function ye(e,t="",n=pe,r,o=[],i){let c;if(!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;if(i?.has(e))return!1;const u=null!=r?r(e):Object.entries(e),a=o.length>0;for(const[e,s]of u){const u=t?t+"."+e:e;if(a){if(o.some((e=>e instanceof RegExp?e.test(u):u===e)))continue}if(!n(s))return{keyPath:u,value:s};if("object"==typeof s&&(c=ye(s,u,n,r,o,i),c))return c}return i&&he(e)&&i.add(e),!1}function he(e){if(!Object.isFrozen(e))return!1;for(const t of Object.values(e))if("object"==typeof t&&null!==t&&!he(t))return!1;return!0}function ge(e={}){return()=>e=>t=>e(t)}var me=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=e??{};let i=new ae;return t&&("boolean"==typeof t?i.push(Q):i.push(Y(t.extraArgument))),i},be="RTK_autoBatch",we=()=>e=>({payload:e,meta:{[be]:!0}}),_e=e=>t=>{setTimeout(t,e)},ve=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,c=!1;const u=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:_e(10):"callback"===e.type?e.queueNotification:_e(e.timeout),s=()=>{c=!1,i&&(i=!1,u.forEach((e=>e())))};return Object.assign({},r,{subscribe(e){const t=r.subscribe((()=>o&&e()));return u.add(e),()=>{t(),u.delete(e)}},dispatch(e){try{return o=!e?.meta?.[be],i=!o,i&&(c||(c=!0,a(s))),r.dispatch(e)}finally{o=!0}}})},Oe=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new ae(e);return n&&r.push(ve("object"==typeof n?n:void 0)),r};function Se(e){const t=me(),{reducer:n,middleware:o,devTools:i=!0,preloadedState:c,enhancers:u}=e||{};let a,s;if("function"==typeof n)a=n;else{if(!(0,r.isPlainObject)(n))throw new Error(Ht(1));a=(0,r.combineReducers)(n)}s="function"==typeof o?o(t):t();let l=r.compose;i&&(l=te({trace:!1,..."object"==typeof i&&i}));const f=(0,r.applyMiddleware)(...s),d=Oe(f);const p=l(..."function"==typeof u?u(d):d());return(0,r.createStore)(a,c,p)}function Ee(e){const t={},n=[];let r;const o={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Ht(28));if(r in t)throw new Error(Ht(29));return t[r]=n,o},addMatcher(e,t){return n.push({matcher:e,reducer:t}),o},addDefaultCase(e){return r=e,o}};return e(o),[t,n,r]}function je(e,t){let n,[r,o,i]=Ee(t);if("function"==typeof e)n=()=>se(e());else{const t=se(e);n=()=>t}function c(e=n(),t){let c=[r[t.type],...o.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===c.filter((e=>!!e)).length&&(c=[i]),c.reduce(((e,n)=>{if(n){if(s(e)){const r=n(e,t);return void 0===r?e:r}if(l(e))return G(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return c.getInitialState=n,c}var Ae=(e,t)=>ne(e)?e.match(t):e(t);function Ce(...e){return t=>e.some((e=>Ae(e,t)))}function Pe(...e){return t=>e.every((e=>Ae(e,t)))}function Me(e,t){if(!e||!e.meta)return!1;const n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Te(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function ke(...e){return 0===e.length?e=>Me(e,["pending"]):Te(e)?Ce(...e.map((e=>e.pending))):ke()(e[0])}function Re(...e){return 0===e.length?e=>Me(e,["rejected"]):Te(e)?Ce(...e.map((e=>e.rejected))):Re()(e[0])}function xe(...e){const t=e=>e&&e.meta&&e.meta.rejectedWithValue;return 0===e.length||Te(e)?Pe(Re(...e),t):xe()(e[0])}function ze(...e){return 0===e.length?e=>Me(e,["fulfilled"]):Te(e)?Ce(...e.map((e=>e.fulfilled))):ze()(e[0])}function Ne(...e){return 0===e.length?e=>Me(e,["pending","fulfilled","rejected"]):Te(e)?Ce(...e.flatMap((e=>[e.pending,e.rejected,e.fulfilled]))):Ne()(e[0])}var Ie=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},De=["name","message","stack","code"],Fe=class{constructor(e,t){this.payload=e,this.meta=t}_type},$e=class{constructor(e,t){this.payload=e,this.meta=t}_type},Le=e=>{if("object"==typeof e&&null!==e){const t={};for(const n of De)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},qe="External signal was aborted",We=(()=>{function e(e,t,n){const r=re(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),o=re(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),i=re(e+"/rejected",((e,t,r,o,i)=>({payload:o,error:(n&&n.serializeError||Le)(e||"Rejected"),meta:{...i||{},arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e,{signal:c}={}){return(u,a,s)=>{const l=n?.idGenerator?n.idGenerator(e):Ie(),f=new AbortController;let d,p;function y(e){p=e,f.abort()}c&&(c.aborted?y(qe):c.addEventListener("abort",(()=>y(qe)),{once:!0}));const h=async function(){let c;try{let i=n?.condition?.(e,{getState:a,extra:s});if(null!==(h=i)&&"object"==typeof h&&"function"==typeof h.then&&(i=await i),!1===i||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const g=new Promise(((e,t)=>{d=()=>{t({name:"AbortError",message:p||"Aborted"})},f.signal.addEventListener("abort",d)}));u(o(l,e,n?.getPendingMeta?.({requestId:l,arg:e},{getState:a,extra:s}))),c=await Promise.race([g,Promise.resolve(t(e,{dispatch:u,getState:a,extra:s,requestId:l,signal:f.signal,abort:y,rejectWithValue:(e,t)=>new Fe(e,t),fulfillWithValue:(e,t)=>new $e(e,t)})).then((t=>{if(t instanceof Fe)throw t;return t instanceof $e?r(t.payload,l,e,t.meta):r(t,l,e)}))])}catch(t){c=t instanceof Fe?i(null,l,e,t.payload,t.meta):i(t,l,e)}finally{d&&f.signal.removeEventListener("abort",d)}var h;return n&&!n.dispatchConditionRejection&&i.match(c)&&c.meta.condition||u(c),c}();return Object.assign(h,{abort:y,requestId:l,arg:e,unwrap(){return h.then(Be)}})}}),{pending:o,rejected:i,fulfilled:r,settled:Ce(i,r),typePrefix:e})}return e.withTypes=()=>e,e})();function Be(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Ve=Symbol.for("rtk-slice-createasyncthunk"),Ue={[Ve]:We},Ke=(e=>(e.reducer="reducer",e.reducerWithPrepare="reducerWithPrepare",e.asyncThunk="asyncThunk",e))(Ke||{});function Xe(e,t){return`${e}/${t}`}function Ge({creators:e}={}){const t=e?.asyncThunk?.[Ve];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Ht(11));const o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},i=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Ht(12));if(n in c.sliceCaseReducersByType)throw new Error(Ht(13));return c.sliceCaseReducersByType[n]=t,u},addMatcher(e,t){return c.sliceMatchers.push({matcher:e,reducer:t}),u},exposeAction(e,t){return c.actionCreators[e]=t,u},exposeCaseReducer(e,t){return c.sliceCaseReducersByName[e]=t,u}};function a(){const[t={},n=[],r]="function"==typeof e.extraReducers?Ee(e.extraReducers):[e.extraReducers],o={...t,...c.sliceCaseReducersByType};return je(e.initialState,(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of c.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}i.forEach((r=>{const i=o[r],c={reducerName:r,type:Xe(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function({type:e,reducerName:t,createNotation:n},r,o){let i,c;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(Ht(17));i=r.reducer,c=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,c?re(e,c):re(e))}(c,i,u):function({type:e,reducerName:t},n,r,o){if(!o)throw new Error(Ht(18));const{payloadCreator:i,fulfilled:c,pending:u,rejected:a,settled:s,options:l}=n,f=o(e,i,l);r.exposeAction(t,f),c&&r.addCase(f.fulfilled,c);u&&r.addCase(f.pending,u);a&&r.addCase(f.rejected,a);s&&r.addMatcher(f.settled,s);r.exposeCaseReducer(t,{fulfilled:c||Qe,pending:u||Qe,rejected:a||Qe,settled:s||Qe})}(c,i,u,t)}));const s=e=>e,l=new Map;let f;function d(e,t){return f||(f=a()),f(e,t)}function p(){return f||(f=a()),f.getInitialState()}function y(t,n=!1){function r(e){let r=e[t];return void 0===r&&n&&(r=p()),r}function o(t=s){const r=le(l,n,(()=>new WeakMap));return le(r,t,(()=>{const r={};for(const[o,i]of Object.entries(e.selectors??{}))r[o]=He(i,t,p,n);return r}))}return{reducerPath:t,getSelectors:o,get selectors(){return o(r)},selectSlice:r}}const h={name:n,reducer:d,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:p,...y(r),injectInto(e,{reducerPath:t,...n}={}){const o=t??r;return e.inject({reducerPath:o,reducer:d},n),{...h,...y(o,!0)}}};return h}}function He(e,t,n,r){function o(o,...i){let c=t(o);return void 0===c&&r&&(c=n()),e(c,...i)}return o.unwrapped=e,o}var Je=Ge();function Qe(){}var Ye=s;function Ze(e){const t=et(((t,n)=>e(n)));return function(e){return t(e,void 0)}}function et(e){return function(t,n){const r=t=>{ie(n)?e(n.payload,t):e(n,t)};return Ye(t)?(r(t),t):G(t,r)}}function tt(e,t){return t(e)}function nt(e){return Array.isArray(e)||(e=Object.values(e)),e}function rt(e){return s(e)?U(e):e}function ot(e,t,n){e=nt(e);const r=rt(n.ids),o=new Set(r),i=[],c=[];for(const n of e){const e=tt(n,t);o.has(e)?c.push({id:e,changes:n}):i.push(n)}return[i,c,r]}function it(e){function t(t,n){const r=tt(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){e=nt(e);for(const r of e)t(r,n)}function r(t,n){const r=tt(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function o(e,t){let n=!1;e.forEach((e=>{e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((e=>e in t.entities)))}function i(t,n){const r={},o={};t.forEach((e=>{e.id in n.entities&&(o[e.id]={id:e.id,changes:{...o[e.id]?.changes,...e.changes}})}));if((t=Object.values(o)).length>0){const o=t.filter((t=>function(t,n,r){const o=r.entities[n.id];if(void 0===o)return!1;const i=Object.assign({},o,n.changes),c=tt(i,e),u=c!==n.id;return u&&(t[n.id]=c,delete r.entities[n.id]),r.entities[c]=i,u}(r,t,n))).length>0;o&&(n.ids=Object.values(n.entities).map((t=>tt(t,e))))}}function c(t,r){const[o,c]=ot(t,e,r);i(c,r),n(o,r)}return{removeAll:Ze((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:et(t),addMany:et(n),setOne:et(r),setMany:et((function(e,t){e=nt(e);for(const n of e)r(n,t)})),setAll:et((function(e,t){e=nt(e),t.ids=[],t.entities={},n(e,t)})),updateOne:et((function(e,t){return i([e],t)})),updateMany:et(i),upsertOne:et((function(e,t){return c([e],t)})),upsertMany:et(c),removeOne:et((function(e,t){return o([e],t)})),removeMany:et(o)}}function ct(e,t,n){const r=function(e,t,n){let r=0,o=e.length;for(;r<o;){let i=r+o>>>1;n(t,e[i])>=0?r=i+1:o=i}return r}(e,t,n);return e.splice(r,0,t),e}function ut(e={}){const{selectId:t,sortComparer:n}={sortComparer:!1,selectId:e=>e.id,...e},r=n?function(e,t){const{removeOne:n,removeMany:r,removeAll:o}=it(e);function i(t,n,r){t=nt(t);const o=new Set(r??rt(n.ids)),i=t.filter((t=>!o.has(tt(t,e))));0!==i.length&&s(n,i)}function c(t,n){if(0!==(t=nt(t)).length){for(const r of t)delete n.entities[e(r)];s(n,t)}}function u(t,n){let r=!1,o=!1;for(let i of t){const t=n.entities[i.id];if(!t)continue;r=!0,Object.assign(t,i.changes);const c=e(t);if(i.id!==c){o=!0,delete n.entities[i.id];const e=n.ids.indexOf(i.id);n.ids[e]=c,n.entities[c]=t}}r&&s(n,[],r,o)}function a(t,n){const[r,o,c]=ot(t,e,n);o.length&&u(o,n),r.length&&i(r,n,c)}const s=(n,r,o,i)=>{const c=rt(n.entities),u=rt(n.ids),a=n.entities;let s=u;i&&(s=new Set(u));let l=[];for(const e of s){const t=c[e];t&&l.push(t)}const f=0===l.length;for(const n of r)a[e(n)]=n,f||ct(l,n,t);f?l=r.slice().sort(t):o&&l.sort(t);const d=l.map(e);(function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(u,d)||(n.ids=d)};return{removeOne:n,removeMany:r,removeAll:o,addOne:et((function(e,t){return i([e],t)})),updateOne:et((function(e,t){return u([e],t)})),upsertOne:et((function(e,t){return a([e],t)})),setOne:et((function(e,t){return c([e],t)})),setMany:et(c),setAll:et((function(e,t){e=nt(e),t.entities={},t.ids=[],i(e,t,[])})),addMany:et(i),updateMany:et(u),upsertMany:et(a)}}(t,n):it(t),o=function(e){return{getInitialState:function(t={},n){const r=Object.assign({ids:[],entities:{}},t);return n?e.setAll(r,n):r}}}(r),i={getSelectors:function(e,t={}){const{createSelector:n=ee}=t,r=e=>e.ids,o=e=>e.entities,i=n(r,o,((e,t)=>e.map((e=>t[e])))),c=(e,t)=>t,u=(e,t)=>e[t],a=n(r,(e=>e.length));if(!e)return{selectIds:r,selectEntities:o,selectAll:i,selectTotal:a,selectById:n(o,c,u)};const s=n(e,o);return{selectIds:n(e,r),selectEntities:s,selectAll:n(e,i),selectTotal:n(e,a),selectById:n(s,c,u)}}};return{selectId:t,sortComparer:n,...o,...i,...r}}var at="listener",st="completed",lt="cancelled",ft=`task-${lt}`,dt=`task-${st}`,pt=`${at}-${lt}`,yt=`${at}-${st}`,ht=class{constructor(e){this.code=e,this.message=`task ${lt} (reason: ${e})`}name="TaskAbortError";message},gt=(e,t)=>{if("function"!=typeof e)throw new TypeError(Ht(32))},mt=()=>{},bt=(e,t=mt)=>(e.catch(t),e),wt=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_t=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},vt=e=>{if(e.aborted){const{reason:t}=e;throw new ht(t)}};function Ot(e,t){let n=mt;return new Promise(((r,o)=>{const i=()=>o(new ht(e.reason));e.aborted?i():(n=wt(e,i),t.finally((()=>n())).then(r,o))})).finally((()=>{n=mt}))}var St=e=>t=>bt(Ot(e,t).then((t=>(vt(e),t)))),Et=e=>{const t=St(e);return e=>t(new Promise((t=>setTimeout(t,e))))},{assign:jt}=Object,At={},Ct="listenerMiddleware",Pt=(e,t)=>(n,r)=>{gt(n);const o=new AbortController;var i;i=o,wt(e,(()=>_t(i,e.reason)));const c=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(e){return{status:e instanceof ht?"cancelled":"rejected",error:e}}finally{t?.()}})((async()=>{vt(e),vt(o.signal);const t=await n({pause:St(o.signal),delay:Et(o.signal),signal:o.signal});return vt(o.signal),t}),(()=>_t(o,dt)));return r?.autoJoin&&t.push(c.catch(mt)),{result:St(e)(c),cancel(){_t(o,ft)}}},Mt=(e,t)=>(n,r)=>bt((async(n,r)=>{vt(t);let o=()=>{};const i=[new Promise(((t,r)=>{let i=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});o=()=>{i(),r()}}))];null!=r&&i.push(new Promise((e=>setTimeout(e,r,null))));try{const e=await Ot(t,Promise.race(i));return vt(t),e}finally{o()}})(n,r)),Tt=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:i}=e;if(t)o=re(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(Ht(21));return gt(i),{predicate:o,type:t,effect:i}},kt=jt((e=>{const{type:t,predicate:n,effect:r}=Tt(e);return{id:Ie(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ht(22))}}}),{withTypes:()=>kt}),Rt=(e,t)=>{const{type:n,effect:r,predicate:o}=Tt(t);return Array.from(e.values()).find((e=>("string"==typeof n?e.type===n:e.predicate===o)&&e.effect===r))},xt=e=>{e.pending.forEach((e=>{_t(e,pt)}))},zt=(e,t,n)=>{try{e(t,n)}catch(e){setTimeout((()=>{throw e}),0)}},Nt=jt(re(`${Ct}/add`),{withTypes:()=>Nt}),It=re(`${Ct}/removeAll`),Dt=jt(re(`${Ct}/remove`),{withTypes:()=>Dt}),Ft=(...e)=>{console.error(`${Ct}/error`,...e)},$t=(e={})=>{const t=new Map,{extra:n,onError:o=Ft}=e;gt(o);const i=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&xt(e)}))(Rt(t,e)??kt(e));jt(i,{withTypes:()=>i});const c=e=>{const n=Rt(t,e);return n&&(n.unsubscribe(),e.cancelActive&&xt(n)),!!n};jt(c,{withTypes:()=>c});const u=async(e,r,c,u)=>{const a=new AbortController,s=Mt(i,a.signal),l=[];try{e.pending.add(a),await Promise.resolve(e.effect(r,jt({},c,{getOriginalState:u,condition:(e,t)=>s(e,t).then(Boolean),take:s,delay:Et(a.signal),pause:St(a.signal),extra:n,signal:a.signal,fork:Pt(a.signal,l),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach(((e,t,n)=>{e!==a&&(_t(e,pt),n.delete(e))}))},cancel:()=>{_t(a,pt),e.pending.delete(a)},throwIfCancelled:()=>{vt(a.signal)}})))}catch(e){e instanceof ht||zt(o,e,{raisedBy:"effect"})}finally{await Promise.all(l),_t(a,yt),e.pending.delete(a)}},a=(e=>()=>{e.forEach(xt),e.clear()})(t);return{middleware:e=>n=>s=>{if(!(0,r.isAction)(s))return n(s);if(Nt.match(s))return i(s.payload);if(It.match(s))return void a();if(Dt.match(s))return c(s.payload);let l=e.getState();const f=()=>{if(l===At)throw new Error(Ht(23));return l};let d;try{if(d=n(s),t.size>0){const n=e.getState(),r=Array.from(t.values());for(const t of r){let r=!1;try{r=t.predicate(s,n,l)}catch(e){r=!1,zt(o,e,{raisedBy:"predicate"})}r&&u(t,s,e,f)}}}finally{l=At}return d},startListening:i,stopListening:c,clearListeners:a}},Lt=e=>({middleware:e,applied:new Map}),qt=()=>{const e=Ie(),t=new Map,n=Object.assign(re("dynamicMiddleware/add",((...t)=>({payload:t,meta:{instanceId:e}}))),{withTypes:()=>n}),o=Object.assign((function(...e){e.forEach((e=>{le(t,e,Lt)}))}),{withTypes:()=>o}),i=Pe(n,(e=>t=>t?.meta?.instanceId===e)(e));return{middleware:e=>n=>c=>i(c)?(o(...c.payload),e.dispatch):(e=>{const n=Array.from(t.values()).map((t=>le(t.applied,e,t.middleware)));return(0,r.compose)(...n)})(e)(n)(c),addMiddleware:o,withMiddleware:n,instanceId:e}},Wt=e=>e.flatMap((e=>{return"reducerPath"in(t=e)&&"string"==typeof t.reducerPath?[[e.reducerPath,e.reducer]]:Object.entries(e);var t})),Bt=Symbol.for("rtk-state-proxy-original"),Vt=new WeakMap,Ut=(e,t)=>le(Vt,e,(()=>new Proxy(e,{get:(e,n,r)=>{if(n===Bt)return e;const o=Reflect.get(e,n,r);if(void 0===o){const e=t[n.toString()];if(e){const t=e(void 0,{type:Ie()});if(void 0===t)throw new Error(Ht(24));return t}}return o}}))),Kt=e=>{if(!(t=e)||!t[Bt])throw new Error(Ht(25));var t;return e[Bt]},Xt=(e={})=>e;function Gt(...e){const t=Object.fromEntries(Wt(e)),n=()=>Object.keys(t).length?(0,r.combineReducers)(t):Xt;let o=n();function i(e,t){return o(e,t)}i.withLazyLoadedSlices=()=>i;const c=Object.assign((function(e,n){return function(r,...o){return e(Ut(n?n(r,...o):r,t),...o)}}),{original:Kt});return Object.assign(i,{inject:(e,r={})=>{const{reducerPath:c,reducer:u}=e,a=t[c];return!r.overrideExisting&&a&&a!==u||(t[c]=u,o=n()),i},selector:c})}function Ht(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}},84488:function(e,t,n){function r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return c},applyMiddleware:function(){return y},bindActionCreators:function(){return d},combineReducers:function(){return l},compose:function(){return p},createStore:function(){return a},isAction:function(){return h},isPlainObject:function(){return u},legacy_createStore:function(){return s}});var o=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),i=()=>Math.random().toString(36).substring(7).split("").join("."),c={INIT:`@@redux/INIT${i()}`,REPLACE:`@@redux/REPLACE${i()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${i()}`};function u(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function a(e,t,n){if("function"!=typeof e)throw new Error(r(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(a)(e,t)}let i=e,s=t,l=new Map,f=l,d=0,p=!1;function y(){f===l&&(f=new Map,l.forEach(((e,t)=>{f.set(t,e)})))}function h(){if(p)throw new Error(r(3));return s}function g(e){if("function"!=typeof e)throw new Error(r(4));if(p)throw new Error(r(5));let t=!0;y();const n=d++;return f.set(n,e),function(){if(t){if(p)throw new Error(r(6));t=!1,y(),f.delete(n),l=null}}}function m(e){if(!u(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if("string"!=typeof e.type)throw new Error(r(17));if(p)throw new Error(r(9));try{p=!0,s=i(s,e)}finally{p=!1}return(l=f).forEach((e=>{e()})),e}m({type:c.INIT});return{dispatch:m,subscribe:g,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error(r(10));i=e,m({type:c.REPLACE})},[o]:function(){const e=g;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(r(11));function n(){const e=t;e.next&&e.next(h())}n();return{unsubscribe:e(n)}},[o](){return this}}}}}function s(e,t,n){return a(e,t,n)}function l(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}const o=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(e){i=e}return function(e={},t){if(i)throw i;let c=!1;const u={};for(let i=0;i<o.length;i++){const a=o[i],s=n[a],l=e[a],f=s(l,t);if(void 0===f){t&&t.type;throw new Error(r(14))}u[a]=f,c=c||f!==l}return c=c||o.length!==Object.keys(e).length,c?u:e}}function f(e,t){return function(...n){return t(e.apply(this,n))}}function d(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error(r(16));const n={};for(const r in e){const o=e[r];"function"==typeof o&&(n[r]=f(o,t))}return n}function p(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function y(...e){return t=>(n,o)=>{const i=t(n,o);let c=()=>{throw new Error(r(15))};const u={getState:i.getState,dispatch:(e,...t)=>c(e,...t)},a=e.map((e=>e(u)));return c=p(...a)(i.dispatch),{...i,dispatch:c}}}function h(e){return u(e)&&"type"in e&&"string"==typeof e.type}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:macro-browser-resources', location = 'build/macro-browser.js' */
!function(){var e,t,a,r={162:function(e){if(void 0===(t=window.SpreadsheetIncludeEditorDialogTemplate=window.SpreadsheetIncludeEditorDialogTemplate||{}))var t={};t.dialog=function(e,t){return'<section id="table-filter-dialog" class="aui-dialog2 aui-dialog2-xlarge tfac aui-layer server" role="dialog" data-aui-modal="true" data-aui-remove-on-hide="true">'+MacroDialogElementsTemplate.header({isInsert:e.isInsert,macroName:"Table Spreadsheet Include"})+'<div class="aui-dialog2-content spreadsheet-include"><div id="macro-insert-container" style="display: block;"></div></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary tf-insert" disabled="disabled">'+(e.isInsert?soy.$$escapeHtml("Insert"):soy.$$escapeHtml("Save"))+'</button><button class="aui-button aui-button-link tf-cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},{}.DEBUG&&(t.dialog.soyTemplateName="SpreadsheetIncludeEditorDialogTemplate.dialog"),e.exports=t},10135:function(e,t,a){"use strict";a.r(t),a.d(t,{rangeToCoordinats:function(){return r}});a(63348),a(22901);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,a]=e.split(":");return[u(t),u(a||t)]}var i=48,o=57,l=65,n=90;function s(e){return e>=i&&e<=o}function c(e){return e>=l&&e<=n}function u(e){for(var t=0,a=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);s(o)?t=10*t+(o-i):c(o)&&(a=26*a+(o-l+1))}return[t,a]}},23170:function(e){if(void 0===(t=window.TableFilterMacroTemplate=window.TableFilterMacroTemplate||{}))var t={};t.dialog=function(e,a){return'<section id="table-filter-dialog" class="aui-dialog2 aui-dialog2-xlarge tfac aui-layer '+(e.params.isCloud?"cloud":"server")+" "+(e.isOldAui?"old-aui":"")+'" role="dialog" data-aui-modal="true" data-aui-remove-on-hide="true">'+MacroDialogElementsTemplate.header({isInsert:e.isInsert,macroName:"Table Filter"})+'<div class="aui-dialog2-content">'+t.dialogBody(e)+'</div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary tf-insert">'+(e.isInsert?soy.$$escapeHtml("Insert"):soy.$$escapeHtml("Save"))+'</button><button class="aui-button aui-button-link tf-cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},{}.DEBUG&&(t.dialog.soyTemplateName="TableFilterMacroTemplate.dialog"),t.dialogBody=function(e,t){return'<form id="table-filter-macro" class="aui top-label hidden"><div id="tf-main-tabs" class="aui-tabs vertical-tabs table-macro-main-tabs"><ul class="tabs-menu"><li class="menu-item active-tab"><a href="#tf-filters">'+soy.$$escapeHtml("Filters")+'</a></li><li class="menu-item"><a href="#tf-table-options">'+soy.$$escapeHtml("Table view")+'</a></li><li class="menu-item"><a href="#tf-filter-calculations">'+soy.$$escapeHtml("Calculations")+'</a></li><li class="menu-item"><a href="#tf-filter-settings">'+soy.$$escapeHtml("Settings")+'</a></li><li class="menu-item"><a href="#tf-filter-msg">'+soy.$$escapeHtml("Messages")+"</a></li></ul>"+MacroDialogElementsTemplate.sidebarLinks({desc:"\u003ca class=\u0022macro-doco-link\u0022 href=\u0022https://docs.stiltsoft.com/tfac/dc-server/how-to-use-table-filter-macro-42239756.html\u0022\u003eDocumentation\u003c/a\u003e",courseBtn:e.courseBtn})+'<div class="tabs-pane-container macro-input-fields"><div class="tabs-pane active-pane" id="tf-filters"><div class="tf-header-container"><div id="macro-param-hidePane-group" class="space space--horizontal densed radio-group tabs-menu"><button id="macro-param-filter-panel" class="aui-button '+(e.params.hidePane!=e.constants.HIDE_PANE.PANEL&&e.params.hidePane?"":" aui-button-pane-primary ")+'" id="button-spin-1">'+soy.$$escapeHtml("Filtration panel")+'</button><button id="macro-param-filter-header" class="aui-button '+(e.params.hidePane==e.constants.HIDE_PANE.HEADER?" aui-button-pane-primary ":"")+'" id="button-spin-1">'+soy.$$escapeHtml("Filters in header")+'</button><button id="macro-param-filter-hidden" class="aui-button '+(e.params.hidePane==e.constants.HIDE_PANE.HIDDEN?" aui-button-pane-primary ":"")+'" id="button-spin-1">'+soy.$$escapeHtml("Hidden filters")+'</button></div><button id="tf-filters-container_add-filter" class="aui-button aui-button-primary" resolved="" data-aui-trigger aria-controls="tf-add-filter-dialog"><span class="aui-icon aui-icon-small aui-iconfont-add">Add</span>'+soy.$$escapeHtml("Add filter")+'</button></div><div id="tf-filters-container" class="tf-filters"><div class="sortable-container"></div></div></div><div class="tabs-pane tabs-pane--two-cols" id="tf-table-options"><div class="field-group" style="max-width: 250px;"><label for="macro-param-sort">'+soy.$$escapeHtml("Default sorting")+'</label><input id="macro-param-sort" class="text" type="text" data-param="sort" '+(e.params.sort?'value="'+soy.$$escapeHtml(e.params.sort)+'"':"")+'></div><div class="field-group"><label for="macro-param-numbering">'+soy.$$escapeHtml("Row numbering type")+'</label><aui-select class="resize-first-row" id="macro-param-numbering" data-param="numbering"><aui-option value="" '+(e.params.numbering?"":" selected ")+'></aui-option><aui-option value="Dynamic Ascending" '+("Dynamic Ascending"==e.params.numbering?"selected ":"")+">"+soy.$$escapeHtml("Dynamic Ascending")+'</aui-option><aui-option value="Static Ascending" '+("Static Ascending"==e.params.numbering?"selected ":"")+">"+soy.$$escapeHtml("Static Ascending")+'</aui-option><aui-option value="Dynamic Descending" '+("Dynamic Descending"==e.params.numbering?"selected ":"")+">"+soy.$$escapeHtml("Dynamic Descending")+'</aui-option><aui-option value="Static Descending" '+("Static Descending"==e.params.numbering?"selected ":"")+">"+soy.$$escapeHtml("Static Descending")+'</aui-option></aui-select></div><div class="field-group"><label for="macro-param-rowsPerPage">'+soy.$$escapeHtml("Number of rows per page")+'</label><input id="macro-param-rowsPerPage" class="text" type="number" min="0" data-param="rowsPerPage" '+(e.params.rowsPerPage?'value="'+soy.$$escapeHtml(e.params.rowsPerPage)+'"':"")+'></div><div class="field-group"><label for="macro-param-rowsPerPage">'+soy.$$escapeHtml("Show N rows if not filtered")+'</label><input type="number" min="0" class="text" id="macro-param-showNRowsifNotFiltered" data-param="showNRowsifNotFiltered" '+(e.params.showNRowsifNotFiltered?'value="'+soy.$$escapeHtml(e.params.showNRowsifNotFiltered)+'"':"")+'></div><div class="field-group"><label for="macro-param-limitHeight">'+soy.$$escapeHtml("Freeze first N rows")+'</label><input class="text macro-param-input" type="number" id="macro-param-limitHeight" data-param="limitHeight" min="0" '+(e.params.limitHeight?'value="'+soy.$$escapeHtml(e.params.limitHeight)+'"':"")+'></div><div class="field-group second-col" id="macro-param-tableHeight-div"><label for="macro-param-heightValue">'+soy.$$escapeHtml("Table height (px)")+'</label><input type="text" class="text" id="macro-param-heightValue" data-param="heightValue" '+(e.params.heightValue?'value="'+soy.$$escapeHtml(e.params.heightValue)+'"':"")+'></div><div class="field-group"><label for="macro-param-fixedCols">'+soy.$$escapeHtml("Freeze first N columns")+'</label><input class="text" type="number" id="macro-param-fixedCols" data-param="fixedCols" min="0" '+(e.params.fixedCols?'value="'+soy.$$escapeHtml(e.params.fixedCols)+'"':"")+" /></div>"+MacroDialogElementsTemplate.auiToggle({classes:"field-group--reverse match-height",paramName:"sparkline",params:e.params,label:"Sparkline charts"})+'<div class="field-group second-col" id="macro-param-sparkName-div"><label for="macro-param-sparkName">'+soy.$$escapeHtml("Sparkline column name")+'</label><input type="text" class="text" id="macro-param-sparkName" data-param="sparkName" '+(e.params.sparkName?'value="'+soy.$$escapeHtml(e.params.sparkName)+'"':"")+'></div></div><div class="tabs-pane tabs-pane--two-cols fit-parent five-equal-rows" id="tf-filter-calculations"><div class="field-group"><label for="macro-param-totalcol">'+soy.$$escapeHtml("Total column")+'</label><aui-select class="resize-first-row" id="macro-param-totalcol" data-param="totalcol"><aui-option value="" '+(e.params.totalcol?"":" selected ")+'></aui-option><aui-option value="Sum" '+("Sum"==e.params.totalcol?" selected ":"")+">"+soy.$$escapeHtml("Sum")+'</aui-option><aui-option value="Average" '+("Average"==e.params.totalcol?" selected ":"")+">"+soy.$$escapeHtml("Average")+'</aui-option><aui-option value="Multiplication" '+("Multiplication"==e.params.totalcol?"selected ":"")+">"+soy.$$escapeHtml("Multiplication")+'</aui-option><aui-option value="Min" '+("Min"==e.params.totalcol?" selected ":"")+">"+soy.$$escapeHtml("Min")+'</aui-option><aui-option value="Max" '+("Max"==e.params.totalcol?" selected ":"")+">"+soy.$$escapeHtml("Max")+'</aui-option></aui-select></div><div class="field-group second-col" id="macro-param-totalColName-div"><label for="macro-param-totalColName">'+soy.$$escapeHtml("Total column title")+'</label><input type="text" class="text" id="macro-param-totalColName" data-param="totalColName" '+(e.params.totalColName?'value="'+soy.$$escapeHtml(e.params.totalColName)+'"':"")+'></div><div class="macro-param-div" id="macro-param-div-totalrow"><div class="aui-button aui-button-subtle" data-aui-trigger aria-controls="macro-param-div-totalrow-dialog" style="padding-left: 0"><span class="aui-icon aui-icon-small aui-iconfont-settings" style="margin-right: 3px"></span><span for="macro-param-totalrow">'+soy.$$escapeHtml("Set total row")+'</span></div><input type="text" class="text macro-param-input" data-param="totalrow" id="macro-param-totalrow" '+(e.params.totalrow?'value="'+soy.$$escapeHtml(e.params.totalrow)+'"':"")+' style="display:none"></div><div class="field-group second-col" id="macro-param-div-totalRowName"><label for="macro-param-totalRowName">'+soy.$$escapeHtml("Total row title")+'</label><input type="text" class="text" id="macro-param-totalRowName" data-param="totalRowName" '+(e.params.totalRowName?'value="'+soy.$$escapeHtml(e.params.totalRowName)+'"':"")+'></div><div class="field-group"><label for="macro-param-separator">'+soy.$$escapeHtml("Decimal separator")+'</label><aui-select id="macro-param-separator" data-param="separator"><aui-option value="Point (.)" '+("Point (.)"==e.params.separator?"selected ":"")+">"+soy.$$escapeHtml("Point (.)")+'</aui-option><aui-option value="Comma (,)" '+("Comma (,)"==e.params.separator?"selected ":"")+">"+soy.$$escapeHtml("Comma (,)")+'</aui-option></aui-select></div><div class="field-group macro-param-div" id="macro-param-div-thousandSeparator"><label for="macro-param-thousandSeparator">'+soy.$$escapeHtml("Thousands separator")+'</label><aui-select class="resize-first-row" id="macro-param-thousandSeparator" data-param="thousandSeparator"><aui-option value="" '+(e.params.thousandSeparator?"":" selected ")+'></aui-option><aui-option value="\\u0020" '+("\\u0020"==e.params.thousandSeparator?"selected ":"")+">"+soy.$$escapeHtml("Space ( )")+'</aui-option><aui-option value="." '+("."==e.params.thousandSeparator?"selected ":"")+">"+soy.$$escapeHtml("Point (.)")+'</aui-option><aui-option value="," '+(","==e.params.thousandSeparator?"selected ":"")+">"+soy.$$escapeHtml("Comma (,)")+'</aui-option><aui-option value="\'" '+("'"==e.params.thousandSeparator?"selected ":"")+">"+soy.$$escapeHtml("Apostrophe (\u0027)")+'</aui-option></aui-select></div><div class="macro-param-div" id="macro-param-div-worklog"><div class="aui-button aui-button-subtle" data-aui-trigger aria-controls="macro-param-div-worklog-dialog" style="padding-left: 0"><span class="aui-icon aui-icon-small aui-iconfont-settings" style="margin-right: 3px"></span><span for="macro-param-worklog">'+soy.$$escapeHtml("Set worklog settings")+'</span></div><input type="text" class="text macro-param-input" data-param="worklog" id="macro-param-worklog" '+(e.params.worklog?'value="'+soy.$$escapeHtml(e.params.worklog)+'"':"")+'style="display:none"></div><span class="tf-text-info">'+soy.$$escapeHtml("To group and calculate data use the Pivot Table macro. For custom calculations insert the Table Transformer macro.")+'</span></div><div class="tabs-pane" id="tf-filter-settings"><div class="field-group"><label for="macro-param-isOR">'+soy.$$escapeHtml("Multi-filter operator")+'</label><aui-select id="macro-param-isOR" data-param="isOR"><aui-option value="AND" '+("AND"==e.params.isOR?"selected ":"")+">"+soy.$$escapeHtml("AND")+'</aui-option><aui-option value="OR" '+("OR"==e.params.isOR?"selected ":"")+">"+soy.$$escapeHtml("OR")+'</aui-option></aui-select></div><div class="field-group"><label for="macro-param-datepattern">'+soy.$$escapeHtml("Date format")+'</label><div style="display: flex; align-items: center"><input type="text" class="text" id="macro-param-datepattern" data-param="datepattern" '+(e.params.datepattern?'value="'+soy.$$escapeHtml(e.params.datepattern)+'"':"")+'><span data-aui-trigger aria-controls="tf-datepattern-help" class="aui-icon aui-icon-small aui-iconfont-question-filled">'+soy.$$escapeHtml("About date format")+'</span></div><aui-inline-dialog id="tf-datepattern-help" class="'+(e.isOldAui?"old-aui":"")+'"><div class="macro-param-desc">'+soy.$$filterNoAutoescape("Specify the \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/how-to-set-the-date-format-and-worklog-settings-42239878.html#Howtosetthedateformatandworklogsettings-Setthedateformat\u0022 target=\u0022_blank\u0022\u003edate format\u003c/a\u003e that will be used to read date values.")+'</div></aui-inline-dialog></div><div class="field-group"><label for="macro-param-ignoreFirstNrows">'+soy.$$escapeHtml("Ignore First N rows")+'</label><input type="number" min="0" class="text" id="macro-param-ignoreFirstNrows" data-param="ignoreFirstNrows" '+(e.params.ignoreFirstNrows?'value="'+soy.$$escapeHtml(e.params.ignoreFirstNrows)+'"':"")+"></div>"+MacroDialogElementsTemplate.auiToggle({classes:"field-group--reverse",paramName:"updateSelectOptions",params:e.params,label:"Update dropdown filters options"})+MacroDialogElementsTemplate.auiToggle({classes:"field-group--reverse",paramName:"hidelabels",params:e.params,label:"Hide filter labels"})+MacroDialogElementsTemplate.auiToggle({classes:"field-group--reverse",paramName:"disableSave",params:e.params,label:"Disable the change saving"})+MacroDialogElementsTemplate.auiToggle({classes:"field-group--reverse",paramName:"hideControls",params:e.params,label:"Hide control buttons"})+MacroDialogElementsTemplate.auiToggle({classes:"field-group--reverse",paramName:"disabled",params:e.params,label:"Disable filtration at start"})+(e.params.isCloud?"":MacroDialogElementsTemplate.auiToggle({classes:"field-group--reverse",paramName:"enabledInEditor",params:e.params,label:"Enable filtration in the editor"}))+'</div><div class="tabs-pane left-label" id="tf-filter-msg"><p class="desc">'+soy.$$escapeHtml("Messages customization:")+"</p>"+MacroDialogElementsTemplate.customMessageInput({paramName:"customNoTableMsg",params:e.params,label:"No table found",defaultMessage:"Oops, it seems that you need to place a table or a macro generating a table within the Table Filter macro."})+"</div></div></div>"+MacroDialogElementsTemplate.preview(e)+'</form><span class="tf-spinner"></span><aui-inline-dialog id="macro-param-div-worklog-dialog" class="'+(e.isOldAui?"old-aui":"")+'"></aui-inline-dialog><aui-inline-dialog id="macro-param-div-totalrow-dialog" class="'+(e.isOldAui?"old-aui":"")+'"></aui-inline-dialog><aui-inline-dialog id="tf-add-filter-dialog" alignment="bottom right" class="'+(e.isOldAui?"old-aui":"")+'"></aui-inline-dialog>'},{}.DEBUG&&(t.dialogBody.soyTemplateName="TableFilterMacroTemplate.dialogBody"),t.filter=function(e,a){var r="",i=e.object.type;if(i==e.types.SELECT){r+='<div class="filter-container selectfilter-element sortable tf-filters__group"><label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.column)+'</span><input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.column)+'" style="display: none"/></label><div class="tf-filters__group__input"><button class="aui-button aui-button-compact tf-button--equal" title="'+soy.$$escapeHtml("Click to reverse the filter")+'" equal="'+soy.$$escapeHtml(0==e.object.inverse)+'"></button><select class="select select-filter '+(e.object.inverse?"inverse":"")+'" name="'+soy.$$escapeHtml(e.object.name)+'" multiple data-width="'+soy.$$escapeHtml(e.object.columnWidth)+'px">';for(var o=e.object.options,l=o.length,n=0;n<l;n++){var s=o[n];r+='<option selected="selected"'+("-Empty-"==s?'class="tf-empty-option">'+soy.$$escapeHtml("-Empty-"):">"+soy.$$escapeHtml(s))+"</option>"}r+="</select>"+t.filterActionButtons(e)+"</div></div>"}else if(i==e.types.USER)r+='<div class="filter-container userfilter-element sortable input tf-filters__group"><label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.column)+'</span><input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.column)+'" style="display: none"/></label><div class="tf-filters__group__input"><button class="aui-button aui-button-compact tf-button--equal" title="'+soy.$$escapeHtml("Click to reverse the filter")+'" equal="'+soy.$$escapeHtml(0==e.object.inverse)+'"></button><div class="tf-resizeable" style="width: '+soy.$$escapeHtml(e.object.columnWidth)+'px;"><input class="user-filter text '+(e.object.inverse?"inverse":"")+'" type="text" name="'+soy.$$escapeHtml(e.object.name)+'" style="width: 100%; max-width: none;" value="'+soy.$$escapeHtml(e.object.defaultValue)+'" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="'+soy.$$escapeHtml(e.object.columnWidth)+'px"/></div>'+t.filterActionButtons(e)+"</div></div>";else if(i==e.types.NUMBER)r+='<div class="filter-container numberfilter-element sortable tf-filters__group"><label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.column)+'</span><input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.column)+'" style="display: none"/></label><div class="tf-filters__group__input"><button class="aui-button aui-button-compact tf-button--equal" title="'+soy.$$escapeHtml("Click to reverse the filter")+'" equal="'+soy.$$escapeHtml(0==e.object.inverse)+'"></button><div class="range numbers" name="'+soy.$$escapeHtml(e.object.name)+'">'+soy.$$escapeHtml("from")+'&nbsp;<input class="number from text '+(e.object.inverse?"inverse":"")+'" type="text" name="'+soy.$$escapeHtml(e.object.name)+'" value="'+soy.$$escapeHtml(e.object.defaultFromValue)+'" placeholder="'+soy.$$escapeHtml("Type value")+'"/>&nbsp;'+soy.$$escapeHtml("to")+'&nbsp;<input class="number to text '+(e.object.inverse?"inverse":"")+'" type="text" name="'+soy.$$escapeHtml(e.object.name)+'" value="'+soy.$$escapeHtml(e.object.defaultToValue)+'" placeholder="'+soy.$$escapeHtml("Type value")+'"/></div>'+t.filterActionButtons(e)+"</div></div>";else if(i==e.types.DATE)r+='<div class="filter-container datefilter-element sortable tf-filters__group"><label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.column)+'</span><input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.column)+'" style="display: none"/></label><div class="tf-filters__group__input"><button class="aui-button aui-button-compact tf-button--equal" title="'+soy.$$escapeHtml("Click to reverse the filter")+'" equal="'+soy.$$escapeHtml(0==e.object.inverse)+'"></button><div class="range dates" name="'+soy.$$escapeHtml(e.object.name)+'">'+soy.$$escapeHtml("from")+'&nbsp;<input class="date from text" type="text" autocomplete="off" name="'+soy.$$escapeHtml(e.object.name)+'" value="'+soy.$$escapeHtml(e.object.defaultStrFromValue)+'" placeholder="'+soy.$$escapeHtml(e.object.dateFormat)+'"/>&nbsp;'+soy.$$escapeHtml("to")+'&nbsp;<input class="date to text" type="text" autocomplete="off" name="'+soy.$$escapeHtml(e.object.name)+'" value="'+soy.$$escapeHtml(e.object.defaultStrToValue)+'" placeholder="'+soy.$$escapeHtml(e.object.dateFormat)+'"/></div>'+t.filterActionButtons(e)+"</div></div>";else if(i==e.types.GLOBAL)r+='<div class="filter-container globalfilter-element sortable input tf-filters__group"><label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.column)+'</span><input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.column)+'" style="display: none"/></label><div class="tf-filters__group__input"><button class="aui-button aui-button-compact tf-button--equal" title="'+soy.$$escapeHtml("Click to reverse the filter")+'" equal="'+soy.$$escapeHtml(0==e.object.inverse)+'"></button><div class="tf-resizeable" style="width: '+soy.$$escapeHtml(e.object.columnWidth)+'px;"><input class="global-filter text '+(e.object.inverse?"inverse":"")+'" type="text" style="width: 100%; max-width: none;" value="'+soy.$$escapeHtml(e.object.defaultValue)+'" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="'+soy.$$escapeHtml(e.object.columnWidth)+'px"/></div>'+t.filterActionButtons(e)+"</div></div>";else if(i==e.types.HIDER){r+='<div class="filter-container columnhider-element sortable tf-filters__group"><label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.column)+'</span><input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.column)+'" style="display: none"/></label><div class="tf-filters__group__input"><button class="aui-button aui-button-compact tf-button--equal" title="'+soy.$$escapeHtml("Click to reverse the filter")+'" equal="'+soy.$$escapeHtml(0==e.object.inverse)+'"></button><select class="column-select '+(e.object.inverse?"inverse":"")+'" style="width: '+soy.$$escapeHtml(e.object.columnWidth)+'px;" multiple data-width="'+soy.$$escapeHtml(e.object.columnWidth)+'px">';for(var c=e.object.options,u=c.length,p=0;p<u;p++){var d=c[p];r+='<option selected="selected"'+("-Empty-"==d?'class="tf-empty-option">'+soy.$$escapeHtml("-Empty-"):">"+soy.$$escapeHtml(d))+"</option>"}r+="</select>"+t.filterActionButtons(e)+"</div></div>"}else if(i==e.types.ICON){r+='<div class="filter-container iconfilter-element sortable tf-filters__group"><label class="hideble"><span class="tf-label-name" title="'+soy.$$escapeHtml("Drag to reorder/remove the filter\nDouble-click to edit the filter label")+'">'+soy.$$escapeHtml(e.column)+'</span><input class="tf-label-changer text" type="text" value="'+soy.$$escapeHtml(e.column)+'" style="display: none"/></label><div class="tf-filters__group__input"><button class="aui-button aui-button-compact tf-button--equal" title="'+soy.$$escapeHtml("Click to reverse the filter")+'" equal="'+soy.$$escapeHtml(0==e.object.inverse)+'"></button><select class="icon-select '+(e.object.inverse?"inverse":"")+'" name="'+soy.$$escapeHtml(e.object.name)+'" style="width: '+soy.$$escapeHtml(e.object.columnWidth)+'px;" multiple data-width="'+soy.$$escapeHtml(e.object.columnWidth)+'px" data-html="true">';for(var m=e.object.options,f=m.length,h=0;h<f;h++){var b=m[h];r+='<option selected="selected"'+("-Empty-"==b?'class="tf-empty-option">'+soy.$$escapeHtml("-Empty-"):">"+soy.$$escapeHtml(b))+"</option>"}r+="</select>"+t.filterActionButtons(e)+"</div></div>"}return r},{}.DEBUG&&(t.filter.soyTemplateName="TableFilterMacroTemplate.filter"),t.filterSettingsDialog=function(e,t){return'<aui-inline-dialog id="tf-inline-dialog-'+soy.$$escapeHtml(e.id)+'" class="'+(e.isOldAui?"old-aui":"")+'">'+(e.isOldAui?'<form class="aui top-label">':"")+(e.type==e.types.SELECT?'<div class="field-group"><label>'+soy.$$escapeHtml("Cell value delimiter")+'</label><input class="macro-param-ddSeparator text" type="text" data-param="ddSeparator" '+(e.ddSeparator?'value="'+soy.$$escapeHtml(e.ddSeparator)+'"':"")+"></div>":"")+'<div class="field-group"><label>'+soy.$$escapeHtml("Set dropdown filter operators")+"</label><"+(e.isOldAui?"":"aui-")+'select class="macro-param-ddOperator '+(e.isOldAui?"select":"")+'" data-param="ddOperator"><'+(e.isOldAui?"":"aui-")+'option value="AND" '+("AND"==e.ddOperator?"selected ":"")+">"+soy.$$escapeHtml("AND")+"</"+(e.isOldAui?"":"aui-")+"option><"+(e.isOldAui?"":"aui-")+'option value="OR" '+("OR"==e.ddOperator?"selected ":"")+">"+soy.$$escapeHtml("OR")+"</"+(e.isOldAui?"":"aui-")+"option></"+(e.isOldAui?"":"aui-")+'select></div><button class="aui-button tf-button-save" resolved="">Save</button><button class="aui-button aui-button-link tf-button-cancel">Cancel</button>'+(e.isOldAui?"</form>":"")+"</aui-inline-dialog>"},{}.DEBUG&&(t.filterSettingsDialog.soyTemplateName="TableFilterMacroTemplate.filterSettingsDialog"),t.filterActionButtons=function(e,a){var r='<span class="tf-filter-actions">'+(e.object.hasSettings?t.filterSettingsDialog({id:e.object.dialogId,type:e.object.type,types:e.types,ddOperator:e.object.ddOperator,ddSeparator:e.object.ddSeparator,isOldAui:e.isOldAui})+'<button class="aui-button aui-button-subtle tf-button-settings tf-filter-action" data-aui-trigger aria-controls="tf-inline-dialog-'+soy.$$escapeHtml(e.object.dialogId)+'" filter-type="'+soy.$$escapeHtml(e.object.type)+'" dd-operator="'+soy.$$escapeHtml(e.object.ddOperator)+'" dd-separator="'+soy.$$escapeHtml(e.object.ddSeparator)+'"><span class="aui-icon aui-icon-small aui-iconfont-settings">'+soy.$$escapeHtml("Options")+"</span></button>":"")+'<span class="tf-button-filter-hide tf-filter-action checkbox-as-icon" resolved=""><span>',i="hide-filter-"+e.index+"-"+e.object.type;return r+='<input type="checkbox" id="'+soy.$$escapeHtml(i)+'" name="hide-filter" '+(e.object.hidden?'checked="checked"':"")+'/><label for="'+soy.$$escapeHtml(i)+'"><span class="aui-icon aui-icon-small aui-iconfont-new-watch">Show on panel</span><span class="aui-icon aui-icon-small aui-iconfont-watch-filled">Hide on panel</span></label></span></span><button class="aui-button aui-button-subtle tf-button-delete tf-filter-action" resolved=""><span class="aui-icon aui-icon-small aui-iconfont-trash">'+soy.$$escapeHtml("Delete")+"</span></button></span>"},{}.DEBUG&&(t.filterActionButtons.soyTemplateName="TableFilterMacroTemplate.filterActionButtons"),e.exports=t},23649:function(e){if(void 0===(t=window.MacroDialogElementsTemplate=window.MacroDialogElementsTemplate||{}))var t={};t.header=function(e,t){return'<base target="_blank"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+(e.isInsert?soy.$$escapeHtml(AJS.format("Insert \u2018{0}\u2019 Macro",e.macroName)):soy.$$escapeHtml(AJS.format("Edit \u2018{0}\u2019 Macro",e.macroName)))+"</h2></header>"},{}.DEBUG&&(t.header.soyTemplateName="MacroDialogElementsTemplate.header"),t.sidebarLinks=function(e,t){return'<div class="links"><div class="macro-desc">'+soy.$$filterNoAutoescape(e.desc)+'</div><div class="macro-desc"><a target="_blank" href="https://stiltsoft.atlassian.net/servicedesk/customer/portal/14">'+soy.$$escapeHtml("Report issue")+"</a></div>"+(e.courseBtn?"<div>"+soy.$$filterNoAutoescape(e.courseBtn)+"</div>":"")+'<div class="macro-desc"><a target="_blank" href="https://survey.alchemer.com/s3/7010834/Table-Filter-and-Charts-2022" class="tf-menu-star"><span class="aui-icon aui-icon-small aui-iconfont-star"></span>'+soy.$$escapeHtml("Rate our app")+"</a></div></div>"},{}.DEBUG&&(t.sidebarLinks.soyTemplateName="MacroDialogElementsTemplate.sidebarLinks"),t.preview=function(e,t){return'<div id="preview"><div id="preview-sidebar" title="'+soy.$$escapeHtml("Preview")+'"><div><span class="aui-icon aui-icon-small aui-iconfont-view"></span></div><div id="refresh-preview" title="'+soy.$$escapeHtml("Refresh")+'"><span class="aui-icon aui-icon-small aui-iconfont-build"></span></div></div><div id="preview-content"><span id="preview-spinner"></span><iframe src="'+soy.$$escapeHtml(e.previewSrc)+'"></iframe></div></div>'},{}.DEBUG&&(t.preview.soyTemplateName="MacroDialogElementsTemplate.preview"),t.auiToggle=function(e,t){var a='<div class="field-group '+soy.$$escapeHtml(e.classes)+'" id="macro-param-div-'+soy.$$escapeHtml(e.paramName)+'">',r="macro-param-"+e.paramName;return a+='<aui-label for="'+soy.$$escapeHtml(r)+'">'+soy.$$escapeHtml(e.label)+'</aui-label><aui-toggle id="'+soy.$$escapeHtml(r)+'" data-param="'+soy.$$escapeHtml(e.paramName)+'" label '+(e.params[e.paramName]+""=="true"?"checked":"")+"></div>"},{}.DEBUG&&(t.auiToggle.soyTemplateName="MacroDialogElementsTemplate.auiToggle"),t.customMessageInput=function(e,a){return t.auiToggle({paramName:e.paramName,params:e.params,label:e.label,classes:""})+'<div id="macro-param-div-'+soy.$$escapeHtml(e.paramName)+'Text" class="field-group"><textarea class="textarea full-width-field resize-vertical" data-param="'+soy.$$escapeHtml(e.paramName)+'Text" placeholder="'+soy.$$escapeHtml("Enter custom message or leave blank to disable the message.")+'">'+soy.$$escapeHtml(e.params[e.paramName+"Text"]||"")+'</textarea><div class="macro-param-desc">'+soy.$$escapeHtml("Default message:")+'&nbsp; "'+soy.$$escapeHtml(e.defaultMessage)+'"</div></div>'},{}.DEBUG&&(t.customMessageInput.soyTemplateName="MacroDialogElementsTemplate.customMessageInput"),e.exports=t},25127:function(e){if(void 0===(t=window.ChartEditorDialogTemplate=window.ChartEditorDialogTemplate||{}))var t={};t.dialog=function(e,t){return'<section id="table-chart-dialog" class="aui-dialog2 aui-dialog2-xlarge tfac aui-layer server" role="dialog" data-aui-modal="true" data-aui-remove-on-hide="true">'+MacroDialogElementsTemplate.header({isInsert:e.isInsert,macroName:"Chart from Table"})+'<div class="aui-dialog2-content"><span class="tf-spinner"></span></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary chart-insert">'+(e.isInsert?soy.$$escapeHtml("Insert"):soy.$$escapeHtml("Save"))+'</button><button class="aui-button aui-button-link chart-cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},{}.DEBUG&&(t.dialog.soyTemplateName="ChartEditorDialogTemplate.dialog"),e.exports=t},29261:function(e){var t;self,t=()=>(()=>{var e={9662:(e,t,a)=>{var r=a(614),i=a(6330),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},9670:(e,t,a)=>{var r=a(111),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},1318:(e,t,a)=>{var r=a(5656),i=a(1400),o=a(6244),l=function(e){return function(t,a,l){var n,s=r(t),c=o(s),u=i(l,c);if(e&&a!=a){for(;c>u;)if((n=s[u++])!=n)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===a)return e||u||0;return!e&&-1}};e.exports={includes:l(!0),indexOf:l(!1)}},4326:(e,t,a)=>{var r=a(1702),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:(e,t,a)=>{var r=a(1694),i=a(614),o=a(4326),l=a(5112)("toStringTag"),n=Object,s="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,a,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(e){}}(t=n(e),l))?a:s?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},9920:(e,t,a)=>{var r=a(2597),i=a(3887),o=a(1236),l=a(3070);e.exports=function(e,t,a){for(var n=i(t),s=l.f,c=o.f,u=0;u<n.length;u++){var p=n[u];r(e,p)||a&&r(a,p)||s(e,p,c(t,p))}}},8880:(e,t,a)=>{var r=a(9781),i=a(3070),o=a(9114);e.exports=r?function(e,t,a){return i.f(e,t,o(1,a))}:function(e,t,a){return e[t]=a,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7045:(e,t,a)=>{var r=a(6339),i=a(3070);e.exports=function(e,t,a){return a.get&&r(a.get,t,{getter:!0}),a.set&&r(a.set,t,{setter:!0}),i.f(e,t,a)}},8052:(e,t,a)=>{var r=a(614),i=a(3070),o=a(6339),l=a(3072);e.exports=function(e,t,a,n){n||(n={});var s=n.enumerable,c=void 0!==n.name?n.name:t;if(r(a)&&o(a,c,n),n.global)s?e[t]=a:l(t,a);else{try{n.unsafe?e[t]&&(s=!0):delete e[t]}catch(e){}s?e[t]=a:i.f(e,t,{value:a,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}},3072:(e,t,a)=>{var r=a(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(a){r[e]=t}return t}},9781:(e,t,a)=>{var r=a(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,a=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:a}},317:(e,t,a)=>{var r=a(7854),i=a(111),o=r.document,l=i(o)&&i(o.createElement);e.exports=function(e){return l?o.createElement(e):{}}},8113:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(e,t,a)=>{var r,i,o=a(7854),l=a(8113),n=o.process,s=o.Deno,c=n&&n.versions||s&&s.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&l&&(!(r=l.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=l.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,a)=>{var r=a(7854),i=a(1236).f,o=a(8880),l=a(8052),n=a(3072),s=a(9920),c=a(4705);e.exports=function(e,t){var a,u,p,d,m,f=e.target,h=e.global,b=e.stat;if(a=h?r:b?r[f]||n(f,{}):(r[f]||{}).prototype)for(u in t){if(d=t[u],p=e.dontCallGetSet?(m=i(a,u))&&m.value:a[u],!c(h?u:f+(b?".":"#")+u,e.forced)&&void 0!==p){if(typeof d==typeof p)continue;s(d,p)}(e.sham||p&&p.sham)&&o(d,"sham",!0),l(a,u,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},4374:(e,t,a)=>{var r=a(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,a)=>{var r=a(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:(e,t,a)=>{var r=a(9781),i=a(2597),o=Function.prototype,l=r&&Object.getOwnPropertyDescriptor,n=i(o,"name"),s=n&&"something"===function(){}.name,c=n&&(!r||r&&l(o,"name").configurable);e.exports={EXISTS:n,PROPER:s,CONFIGURABLE:c}},1702:(e,t,a)=>{var r=a(4374),i=Function.prototype,o=i.call,l=r&&i.bind.bind(o,o);e.exports=r?l:function(e){return function(){return o.apply(e,arguments)}}},5005:(e,t,a)=>{var r=a(7854),i=a(614);e.exports=function(e,t){return arguments.length<2?(a=r[e],i(a)?a:void 0):r[e]&&r[e][t];var a}},8173:(e,t,a)=>{var r=a(9662),i=a(8554);e.exports=function(e,t){var a=e[t];return i(a)?void 0:r(a)}},7854:(e,t,a)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof a.g&&a.g)||function(){return this}()||Function("return this")()},2597:(e,t,a)=>{var r=a(1702),i=a(7908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:e=>{e.exports={}},490:(e,t,a)=>{var r=a(5005);e.exports=r("document","documentElement")},4664:(e,t,a)=>{var r=a(9781),i=a(7293),o=a(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,a)=>{var r=a(1702),i=a(7293),o=a(4326),l=Object,n=r("".split);e.exports=i((function(){return!l("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?n(e,""):l(e)}:l},2788:(e,t,a)=>{var r=a(1702),i=a(614),o=a(5465),l=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return l(e)}),e.exports=o.inspectSource},9909:(e,t,a)=>{var r,i,o,l=a(4811),n=a(7854),s=a(111),c=a(8880),u=a(2597),p=a(5465),d=a(6200),m=a(3501),f="Object already initialized",h=n.TypeError,b=n.WeakMap;if(l||p.state){var g=p.state||(p.state=new b);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw h(f);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var v=d("state");m[v]=!0,r=function(e,t){if(u(e,v))throw h(f);return t.facade=e,c(e,v,t),t},i=function(e){return u(e,v)?e[v]:{}},o=function(e){return u(e,v)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var a;if(!s(t)||(a=i(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return a}}}},614:(e,t,a)=>{var r=a(4154),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4705:(e,t,a)=>{var r=a(7293),i=a(614),o=/#|\.prototype\./,l=function(e,t){var a=s[n(e)];return a==u||a!=c&&(i(t)?r(t):!!t)},n=l.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=l.data={},c=l.NATIVE="N",u=l.POLYFILL="P";e.exports=l},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,a)=>{var r=a(614),i=a(4154),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},2190:(e,t,a)=>{var r=a(5005),i=a(614),o=a(7976),l=a(3307),n=Object;e.exports=l?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,n(e))}},6244:(e,t,a)=>{var r=a(7466);e.exports=function(e){return r(e.length)}},6339:(e,t,a)=>{var r=a(1702),i=a(7293),o=a(614),l=a(2597),n=a(9781),s=a(6530).CONFIGURABLE,c=a(2788),u=a(9909),p=u.enforce,d=u.get,m=String,f=Object.defineProperty,h=r("".slice),b=r("".replace),g=r([].join),v=n&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),S=e.exports=function(e,t,a){"Symbol("===h(m(t),0,7)&&(t="["+b(m(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(t="get "+t),a&&a.setter&&(t="set "+t),(!l(e,"name")||s&&e.name!==t)&&(n?f(e,"name",{value:t,configurable:!0}):e.name=t),v&&a&&l(a,"arity")&&e.length!==a.arity&&f(e,"length",{value:a.arity});try{a&&l(a,"constructor")&&a.constructor?n&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=p(e);return l(r,"source")||(r.source=g(y,"string"==typeof t?t:"")),e};Function.prototype.toString=S((function(){return o(this)&&d(this).source||c(this)}),"toString")},4758:e=>{var t=Math.ceil,a=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?a:t)(r)}},3009:(e,t,a)=>{var r=a(7854),i=a(7293),o=a(1702),l=a(1340),n=a(3111).trim,s=a(1361),c=r.parseInt,u=r.Symbol,p=u&&u.iterator,d=/^[+-]?0x/i,m=o(d.exec),f=8!==c(s+"08")||22!==c(s+"0x16")||p&&!i((function(){c(Object(p))}));e.exports=f?function(e,t){var a=n(l(e));return c(a,t>>>0||(m(d,a)?16:10))}:c},1574:(e,t,a)=>{"use strict";var r=a(9781),i=a(1702),o=a(6916),l=a(7293),n=a(1956),s=a(5181),c=a(5296),u=a(7908),p=a(8361),d=Object.assign,m=Object.defineProperty,f=i([].concat);e.exports=!d||l((function(){if(r&&1!==d({b:1},d(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},a=Symbol(),i="abcdefghijklmnopqrst";return e[a]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[a]||n(d({},t)).join("")!=i}))?function(e,t){for(var a=u(e),i=arguments.length,l=1,d=s.f,m=c.f;i>l;)for(var h,b=p(arguments[l++]),g=d?f(n(b),d(b)):n(b),v=g.length,y=0;v>y;)h=g[y++],r&&!o(m,b,h)||(a[h]=b[h]);return a}:d},30:(e,t,a)=>{var r,i=a(9670),o=a(6048),l=a(748),n=a(3501),s=a(490),c=a(317),u=a(6200),p="prototype",d="script",m=u("IE_PROTO"),f=function(){},h=function(e){return"<"+d+">"+e+"</"+d+">"},b=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,a;g="undefined"!=typeof document?document.domain&&r?b(r):(t=c("iframe"),a="java"+d+":",t.style.display="none",s.appendChild(t),t.src=String(a),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):b(r);for(var i=l.length;i--;)delete g[p][l[i]];return g()};n[m]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(f[p]=i(e),a=new f,f[p]=null,a[m]=e):a=g(),void 0===t?a:o.f(a,t)}},6048:(e,t,a)=>{var r=a(9781),i=a(3353),o=a(3070),l=a(9670),n=a(5656),s=a(1956);t.f=r&&!i?Object.defineProperties:function(e,t){l(e);for(var a,r=n(t),i=s(t),c=i.length,u=0;c>u;)o.f(e,a=i[u++],r[a]);return e}},3070:(e,t,a)=>{var r=a(9781),i=a(4664),o=a(3353),l=a(9670),n=a(4948),s=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",m="writable";t.f=r?o?function(e,t,a){if(l(e),t=n(t),l(a),"function"==typeof e&&"prototype"===t&&"value"in a&&m in a&&!a[m]){var r=u(e,t);r&&r[m]&&(e[t]=a.value,a={configurable:d in a?a[d]:r[d],enumerable:p in a?a[p]:r[p],writable:!1})}return c(e,t,a)}:c:function(e,t,a){if(l(e),t=n(t),l(a),i)try{return c(e,t,a)}catch(e){}if("get"in a||"set"in a)throw s("Accessors not supported");return"value"in a&&(e[t]=a.value),e}},1236:(e,t,a)=>{var r=a(9781),i=a(6916),o=a(5296),l=a(9114),n=a(5656),s=a(4948),c=a(2597),u=a(4664),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=n(e),t=s(t),u)try{return p(e,t)}catch(e){}if(c(e,t))return l(!i(o.f,e,t),e[t])}},8006:(e,t,a)=>{var r=a(6324),i=a(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},7976:(e,t,a)=>{var r=a(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,a)=>{var r=a(1702),i=a(2597),o=a(5656),l=a(1318).indexOf,n=a(3501),s=r([].push);e.exports=function(e,t){var a,r=o(e),c=0,u=[];for(a in r)!i(n,a)&&i(r,a)&&s(u,a);for(;t.length>c;)i(r,a=t[c++])&&(~l(u,a)||s(u,a));return u}},1956:(e,t,a)=>{var r=a(6324),i=a(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!a.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:a},2140:(e,t,a)=>{var r=a(6916),i=a(614),o=a(111),l=TypeError;e.exports=function(e,t){var a,n;if("string"===t&&i(a=e.toString)&&!o(n=r(a,e)))return n;if(i(a=e.valueOf)&&!o(n=r(a,e)))return n;if("string"!==t&&i(a=e.toString)&&!o(n=r(a,e)))return n;throw l("Can't convert object to primitive value")}},3887:(e,t,a)=>{var r=a(5005),i=a(1702),o=a(8006),l=a(5181),n=a(9670),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(n(e)),a=l.f;return a?s(t,a(e)):t}},2261:(e,t,a)=>{"use strict";var r,i,o=a(6916),l=a(1702),n=a(1340),s=a(7066),c=a(2999),u=a(2309),p=a(30),d=a(9909).get,m=a(9441),f=a(7168),h=u("native-string-replace",String.prototype.replace),b=RegExp.prototype.exec,g=b,v=l("".charAt),y=l("".indexOf),S=l("".replace),w=l("".slice),T=(i=/b*/g,o(b,r=/a/,"a"),o(b,i,"a"),0!==r.lastIndex||0!==i.lastIndex),x=c.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(T||A||x||m||f)&&(g=function(e){var t,a,r,i,l,c,u,m=this,f=d(m),$=n(e),I=f.raw;if(I)return I.lastIndex=m.lastIndex,t=o(g,I,$),m.lastIndex=I.lastIndex,t;var O=f.groups,E=x&&m.sticky,P=o(s,m),C=m.source,j=0,M=$;if(E&&(P=S(P,"y",""),-1===y(P,"g")&&(P+="g"),M=w($,m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==v($,m.lastIndex-1))&&(C="(?: "+C+")",M=" "+M,j++),a=new RegExp("^(?:"+C+")",P)),A&&(a=new RegExp("^"+C+"$(?!\\s)",P)),T&&(r=m.lastIndex),i=o(b,E?a:m,M),E?i?(i.input=w(i.input,j),i[0]=w(i[0],j),i.index=m.lastIndex,m.lastIndex+=i[0].length):m.lastIndex=0:T&&i&&(m.lastIndex=m.global?i.index+i[0].length:r),A&&i&&i.length>1&&o(h,i[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(i[l]=void 0)})),i&&O)for(i.groups=c=p(null),l=0;l<O.length;l++)c[(u=O[l])[0]]=i[u[1]];return i}),e.exports=g},7066:(e,t,a)=>{"use strict";var r=a(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},2999:(e,t,a)=>{var r=a(7293),i=a(7854).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),l=o||r((function(){return!i("a","y").sticky})),n=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:n,MISSED_STICKY:l,UNSUPPORTED_Y:o}},9441:(e,t,a)=>{var r=a(7293),i=a(7854).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,a)=>{var r=a(7293),i=a(7854).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,a)=>{var r=a(8554),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},6200:(e,t,a)=>{var r=a(2309),i=a(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:(e,t,a)=>{var r=a(7854),i=a(3072),o="__core-js_shared__",l=r[o]||i(o,{});e.exports=l},2309:(e,t,a)=>{var r=a(1913),i=a(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.0",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},3111:(e,t,a)=>{var r=a(1702),i=a(4488),o=a(1340),l=a(1361),n=r("".replace),s=RegExp("^["+l+"]+"),c=RegExp("(^|[^"+l+"])["+l+"]+$"),u=function(e){return function(t){var a=o(i(t));return 1&e&&(a=n(a,s,"")),2&e&&(a=n(a,c,"$1")),a}};e.exports={start:u(1),end:u(2),trim:u(3)}},6293:(e,t,a)=>{var r=a(7392),i=a(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:(e,t,a)=>{var r=a(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var a=r(e);return a<0?i(a+t,0):o(a,t)}},5656:(e,t,a)=>{var r=a(8361),i=a(4488);e.exports=function(e){return r(i(e))}},9303:(e,t,a)=>{var r=a(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},7466:(e,t,a)=>{var r=a(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,a)=>{var r=a(4488),i=Object;e.exports=function(e){return i(r(e))}},7593:(e,t,a)=>{var r=a(6916),i=a(111),o=a(2190),l=a(8173),n=a(2140),s=a(5112),c=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var a,s=l(e,u);if(s){if(void 0===t&&(t="default"),a=r(s,e,t),!i(a)||o(a))return a;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),n(e,t)}},4948:(e,t,a)=>{var r=a(7593),i=a(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:(e,t,a)=>{var r={};r[a(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:(e,t,a)=>{var r=a(648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,a)=>{var r=a(1702),i=0,o=Math.random(),l=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+l(++i+o,36)}},3307:(e,t,a)=>{var r=a(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,a)=>{var r=a(9781),i=a(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(e,t,a)=>{var r=a(7854),i=a(614),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},5112:(e,t,a)=>{var r=a(7854),i=a(2309),o=a(2597),l=a(9711),n=a(6293),s=a(3307),c=r.Symbol,u=i("wks"),p=s?c.for||c:c&&c.withoutSetter||l;e.exports=function(e){return o(u,e)||(u[e]=n&&o(c,e)?c[e]:p("Symbol."+e)),u[e]}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},9601:(e,t,a)=>{var r=a(2109),i=a(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},1058:(e,t,a)=>{var r=a(2109),i=a(3009);r({global:!0,forced:parseInt!=i},{parseInt:i})},4916:(e,t,a)=>{"use strict";var r=a(2109),i=a(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},1817:(e,t,a)=>{"use strict";var r=a(2109),i=a(9781),o=a(7854),l=a(1702),n=a(2597),s=a(614),c=a(7976),u=a(1340),p=a(7045),d=a(9920),m=o.Symbol,f=m&&m.prototype;if(i&&s(m)&&(!("description"in f)||void 0!==m().description)){var h={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(f,this)?new m(e):void 0===e?m():m(e);return""===e&&(h[t]=!0),t};d(b,m),b.prototype=f,f.constructor=b;var g="Symbol(test)"==String(m("test")),v=l(f.valueOf),y=l(f.toString),S=/^Symbol\((.*)\)[^)]+$/,w=l("".replace),T=l("".slice);p(f,"description",{configurable:!0,get:function(){var e=v(this);if(n(h,e))return"";var t=y(e),a=g?T(t,7,-1):w(t,S,"$1");return""===a?void 0:a}}),r({global:!0,constructor:!0,forced:!0},{Symbol:b})}}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";a.r(r),a.d(r,{_gOptions:()=>I,default:()=>O}),a(1058),a(1817),a(9601);const e=function(e){return void 0===e},t=function(e,t){e&&e.classList&&e.classList.add(t)},i=function(e,t){return e&&e.classList&&e.classList.contains(t)};function o(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l{constructor(e){o(this,"obSelector",void 0),o(this,"table",void 0),this.obSelector=e,this.table=this.obSelector.table}copy(e,t){let a=Array(t[0]-e[0]+1).fill().map((()=>Array(t[1]-e[1]+1)));return this.iterateCells(e,t,((t,r,i)=>{a[t-e[0]][r-e[1]]=I.getCellFn(i,[t,r])})),a}clear(e,t){this.iterateCells(e,t,((e,t,a)=>{n(a)||I.setCellFn(a,"",[e,t])}))}cut(e,t){let a=Array(t[0]-e[0]+1).fill().map((()=>Array(t[1]-e[1]+1)));return this.iterateCells(e,t,((t,r,i)=>{a[t-e[0]][r-e[1]]=I.getCellFn(i,[t,r]),n(i)||I.setCellFn(i,"",[t,r])})),a}iterateCells(e,t,a){const r=this.obSelector.sizeMatrix;for(let i=e[0];i<=t[0];i++){const o=this.table.rows[i].cells;for(let l=e[1];l<=t[1];l++)r[i][l][0]<0||r[i][l][1]<0||a(i,l,o[r[i][l][2]])}}mergeWithCell(e,t,a){let r=I.getCellFn(e,a).trim();""===r?r=t:""!==t&&(r+=I.mergePastingGlue+t),I.setCellFn(e,r,a)}paste(t,a,r){const i=this.obSelector,o=i.sizeMatrix,l=i.countRows,s=i.countCols;let c=a[0]+t.length;c>l&&(c=l),!e(r)&&c>r[0]&&(c=r[0]+1);for(let i=a[0];i<c;i++){let l,c=a[1]+t[i-a[0]].length;c>s&&(c=s),!e(r)&&c>r[1]&&(c=r[1]+1);for(let e=a[1];e<c;e++){let r=i,s=e;if(o[i][e][1]<0||o[i][e][0]<0){if(o[i][e][0]<0&&(r+=o[i][e][0]),o[i][e][1]<0&&(s+=o[i][e][1]),r<a[0]||s<a[1])continue;l=this.mergeWithCell}else l=I.setCellFn;let c=this.table.rows[r].cells[o[r][s][2]];n(c)||l(c,t[i-a[0]][e-a[1]],[r,s])}}}}function n(e){const t=e.parentNode.parentNode;return i(e,I.ignoreClass)||i(e.parentNode,I.ignoreClass)||I.ignoreThead&&"THEAD"===t.tagName||I.ignoreTfoot&&"TFOOT"===t.tagName}const s=function(e,t){let a=t.toLowerCase().split(",").map((function(e){return e.trim()}));if(a.indexOf(e.tagName.toLowerCase())>-1)return e;for(;e&&e!==document;e=e.parentNode)if(a.indexOf(e.tagName.toLowerCase())>-1)return e;return null},c=function(e){return e instanceof Element||e instanceof HTMLDocument},u=document.addEventListener?function(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)}:function(e,t,a){e&&t&&a&&e.attachEvent("on"+t,a)},p=document.removeEventListener?function(e,t,a){e&&t&&e.removeEventListener(t,a,!1)}:function(e,t,a){e&&t&&e.detachEvent("on"+t,a)};function d(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m{constructor(e){d(this,"fakeElem",void 0),d(this,"_onScroll",(e=>this.onScroll(e))),d(this,"_text",void 0);const t=c(e)?e:document.body;this.fakeElem=function(e){const t="rtl"===document.documentElement.getAttribute("dir"),a=document.createElement("textarea"),r=a.style;return r.fontSize="12pt",r.border="0",r.padding="0",r.margin="0",r.position="absolute",r[t?"right":"left"]="-9999px",e.appendChild(a),a}(t),this.container=t,u(window,"scroll",this._onScroll)}copy(e){const t=this.fakeElem;try{return this._text=e,t.value=e,t.select(),t.setSelectionRange(0,e.length),document.execCommand("cut")}catch(e){return!1}}onScroll(){let e=window.scrollY||document.documentElement.scrollTop;this.fakeElem.style.top=e+"px"}paste(e){const t=this.fakeElem;t.value="",t.focus();let a=r=>{this._text=r.target.value,t.blur(),p(t,"input",a),e(this._text)};u(t,"input",a)}get text(){return this._text}destroy(){this.container.removeChild(this.fakeElem),this.fakeElem=null,p(window,"scroll",this._onScroll)}}function f(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class h{constructor(e,t){f(this,"_countCols",0),f(this,"_countRows",0),f(this,"_table",void 0),f(this,"obEvent",void 0),f(this,"matrix",void 0),this._table=e,this.obEvent=t,this.selectCell=b,this.initSizeMatrix()}deselectAll(){let e=0;return this.goCells(((t,a)=>{this.isSelectedCell(t)&&(g(t),this.obEvent.deselect(t,a),e++)})),e}getCell(e){const t=this.matrix;if(e[0]>=0&&e[1]>=0&&e[0]<this.countRows&&e[1]<this.countCols)return t[e[0]][e[1]][0]<0&&(e[0]+=t[e[0]][e[1]][0]),t[e[0]][e[1]][1]<0&&(e[1]+=t[e[0]][e[1]][1]),this.table.rows[e[0]].cells[t[e[0]][e[1]][2]]}get countCols(){return this._countCols}get countRows(){return this._countRows}getSelectedRectangleCoords(t,a){let r=!1,i=Array(2),o=Array(2);const l=Array.isArray(t)&&Array.isArray(a);return this.goCells(((n,s)=>{let[c,u]=s;if(l){if(!(t[0]===c&&t[1]===this.matrix[c][u][2]||a[0]===c&&a[1]===this.matrix[c][u][2]))return}else if(!this.isSelectedCell(n))return;r=!0,(e(i[0])||i[0]>c)&&(i[0]=c),(e(i[1])||i[1]>u)&&(i[1]=u),(e(o[0])||o[0]<c)&&(o[0]=c),(e(o[1])||o[1]<u)&&(o[1]=u)})),!!r&&[i,o]}get sizeMatrix(){return this.matrix}getRectangleCoords(t,a){let r=!0;const i=this.matrix;for(;r;){r=!1;for(let o=t[0];o<=t[0];o++)for(let l=t[1];l<=a[1];l++)if(!e(i[o][l][0])&&i[o][l][0]<0){t[0]+=i[o][l][0],o+=i[o][l][0]-1,r=!0;break}for(let o=a[0];o<=a[0];o++)if(a[0]+1!==this._countRows)for(let l=t[1];l<=a[1];l++)if(!e(i[o][l][0])&&i[o+1][l][0]<0){a[0]++,r=!0;break}for(let e=t[0];e<=a[0];e++)i[e][t[1]][1]<0&&(t[1]+=i[e][t[1]][1],e=t[0]-1,r=!0);for(let e=t[0];e<=a[0];e++)a[1]+1!==this._countCols&&i[e][a[1]+1][1]<0&&(a[1]++,e=t[0]-1,r=!0)}return[t,a]}initSizeMatrix(){const e=this.table.rows;this._countRows=e.length;let t=0;for(let a of e){let e=0;[...a.cells].forEach((function(t){e+=t.colSpan})),e>t&&(t=e)}const a=Array(this._countRows).fill().map((()=>Array(t).fill().map((()=>Array(2))))),r=new Array(t).fill(0);let o=0;for(let l of e){let n=0,s=l.cells;const c=()=>{for(;n<t&&r[n];)r[n]--,a[o][n][0]=a[o-1][n][0]||-1,a[o][n][1]=a[o-1][n][1],n++};for(let t=0;t<s.length;t++){const l=s[t];if(i(l,"fake"))continue;let u=l.getAttribute("colspan"),p=l.getAttribute("rowspan");p>1&&(a[o][n][0]=0),u>1&&(a[o][n][1]=0),c();try{if(u>1){a[o][n][2]=t;for(let e=0;e>-u;e--)a[o][n][1]=e,p>1&&(r[n]=p-1),n++}else a[o][n][2]=t,p>1&&(r[n]=p-1),n++}catch(e){}}c(),o++}this._countCols=t,this.matrix=a}isIgnoredCell(e){const t=e.parentNode.parentNode;return i(e,I.ignoreClass)||i(e.parentNode,I.ignoreClass)||I.ignoreThead&&"THEAD"===t.tagName||I.ignoreTfoot&&"TFOOT"===t.tagName}isSelectedCell(e){return i(e,I.selectClass)}select(e,t){let a=!1;const r=this._countRows,o=this._countCols;return!(e[0]>=r||e[1]>=o||t[0]<0||t[1]<0)&&(e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),t[0]>=r&&(t[0]=r-1),t[1]>=o&&(t[1]=o-1),[e,t]=this.getRectangleCoords(e,t),this.goCells(((r,o)=>{let l=i(r,I.selectClass);if(o[0]<e[0]||o[0]>t[0]||o[1]<e[1]||o[1]>t[1])l&&(g(r),this.obEvent.deselect(r,o));else{let e=b(r);this.obEvent.select(l,r,o),a||(a=e)}})),a)}selectAll(){let e=0;return this.goCells(((t,a)=>{let r=i(t,I.selectClass);b(t)&&(this.obEvent.select(r,t,a),e++)})),e}goCells(e){const t=this.table.rows;t.length!==this.countRows&&this.initSizeMatrix();const a=this.matrix;for(let r=0;r<this.countRows;r++){let i=t[r].cells;for(let t=0;t<this.countCols;t++)a[r][t][0]<0||a[r][t][1]<0||e(i[a[r][t][2]],[r,t])}}get table(){return this._table}}function b(e){const a=e.parentNode.parentNode,r=I.selectIgnoreClass||!i(e,I.ignoreClass),o=a.tagName;return!!(("TBODY"===o||"TABLE"===o)&&r||"THEAD"===o&&!I.ignoreThead&&r||"TFOOT"===o&&!I.ignoreTfoot&&r)&&(t(e,I.selectClass),!0)}function g(e){!function(e,t){e&&e.classList&&e.classList.remove(t)}(e,I.selectClass)}function v(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class y{constructor(){v(this,"startSelect",void 0),v(this,"finishSelect",void 0),v(this,"select",void 0),v(this,"deselect",void 0),v(this,"deselectAll",void 0)}}function S(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class w{constructor(e,a,r,i){if(S(this,"isMouseDown",!1),S(this,"obApp",void 0),S(this,"obSelector",void 0),S(this,"obEvent",void 0),S(this,"table",void 0),S(this,"coord0",void 0),S(this,"_isMouse",!1),S(this,"_onMouseOver",(e=>this.onMouseOver(e))),S(this,"_onMouseDown",(e=>this.onMouseDown(e))),S(this,"_onMouseEnter",(e=>this.onMouseEnter(e))),S(this,"_onMouseLeave",(e=>this.onMouseLeave(e))),S(this,"_onMouseUp",(e=>this.onMouseUp(e))),S(this,"_onOutTableClick",(e=>this.onOutTableClick(e))),!c(e)||"TABLE"!==e.tagName)throw new Error("odule must be initialized to Table");this.table=e,this.obApp=i,this.obSelector=a,this.obEvent=r,t(this.table,I.tableClass),this.addEvents()}addEvents(){const e=this.table;u(e,"mouseover",this._onMouseOver),u(e,"mousedown",this._onMouseDown),u(e,"mouseenter",this._onMouseEnter),u(e,"mouseleave",this._onMouseLeave),u(document.body,"mouseup",this._onMouseUp),u(e.ownerDocument,"click",this._onOutTableClick)}removeEvents(){const e=this.table;p(e,"mouseover",this._onMouseOver),p(e,"mousedown",this._onMouseDown),p(e,"mouseenter",this._onMouseEnter),p(e,"mouseleave",this._onMouseLeave),p(document.body,"mouseup",this._onMouseUp),p(e.ownerDocument,"click",this._onOutTableClick)}get isMouse(){return this._isMouse}isRightMouseBtn(e){let t;return"which"in(e=e||window.event)?t=3===e.which:"button"in e&&(t=2===e.button),t}onMouseDown(e){if(this.isIgnoreMouseDown&&!I.allowDeselectOnClick)return;if(I.mouseBlockSelection&&e.preventDefault(),this.isRightMouseBtn(e))return!0;let t=s(e.target,"td,th");if(null===t)return;const a=this.obSelector;if(!a.isIgnoredCell(t)){if(a.isSelectedCell(t))return a.deselectAll(),void this.obEvent.deselectAll();if(this.isMouseDown=!0,e.shiftKey&&this.coord0){const[e,r]=a.getSelectedRectangleCoords();if(e[0]===r[0]&&e[1]===r[1])return void this.selectRange(this.coord0,[t.parentNode.rowIndex,t.cellIndex])}a.deselectAll(),a.selectCell(t),this.obEvent.startSelect(e,t),this.coord0=[t.parentNode.rowIndex,t.cellIndex]}}onMouseOver(e){let t=s(e.target,"td,th");null!==t&&(this.isMouseDown?this.selectRange(this.coord0,[t.parentNode.rowIndex,t.cellIndex]):this.isIgnoreMouseDown=this.obSelector.isSelectedCell(t))}selectRange(e,t){let a=this.obSelector.getSelectedRectangleCoords(e,t);!1!==a&&this.obSelector.select(a[0],a[1])}onMouseEnter(){this._isMouse=!0}onMouseLeave(){this._isMouse=!1}onMouseUp(e){this.isMouseDown&&(this.obEvent.finishSelect(e),this.isIgnoreMouseDown=!0),this.isMouseDown=!1}onOutTableClick(){this.isMouseDown=!1,I.deselectOutTableClick&&!this.isMouse&&this.obSelector.deselectAll()}destroy(){this.removeEvents()}}function T(e){return e.split('"').length-1}a(4916);const x=function(e){var t,a,r,i,o,l="";for(t=0,a=e.length;t<a;t+=1){for(r=0,i=e[t].length;r<i;r+=1)r>0&&(l+="\t"),"string"==typeof(o=e[t][r])?o.indexOf("\n")>-1?l+='"'+o.replace(/"/g,'""')+'"':l+=o:l+=null==o?"":o;l+="\n"}return l};function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},A.apply(this,arguments)}function $(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let I={deselectOutTableClick:!0,enableChanging:!1,enableHotkeys:!0,allowDeselectOnClick:!0,getCellFn:function(e,t){return e.innerText},ignoreClass:"tcs-ignore",ignoreTfoot:!1,ignoreThead:!1,mergePastingGlue:" ",mouseBlockSelection:!0,onSelect:function(e,t,a){},onDeselect:function(e,t){},onDeselectAll:function(){},onStartSelect:function(e,t){},onFinishSelect:function(e){},selectIgnoreClass:!0,selectClass:"tcs-select",setCellFn:function(e,t,a){e.innerText=t},tableClass:"tcs"};class O{constructor(e,t,a){$(this,"enableChanging",void 0),$(this,"enableHotkeys",void 0),$(this,"obActions",void 0),$(this,"obBuffer",void 0),$(this,"obSelector",void 0),$(this,"obEvent",void 0),$(this,"obTable",void 0),$(this,"_onKeyDown",(e=>this.onKeyDown(e))),"object"==typeof t&&A(I,t),this.enableChanging=I.enableChanging,this.enableHotkeys=I.enableHotkeys;const r=new y;r.startSelect=I.onStartSelect,r.finishSelect=I.onFinishSelect,r.select=I.onSelect,r.deselect=I.onDeselect,r.deselectAll=I.onDeselectAll,this.obEvent=r;const i=new h(e,r);this.obSelector=i,this.obTable=new w(e,i,r,this),this.obActions=new l(i),this.obBuffer=a,u(document.body,"keydown",this._onKeyDown)}static get Buffer(){return m}clear(t,a){if(e(t)){let e=this.obSelector.getSelectedRectangleCoords();if(!1===e)return!1;[t,a]=e}return e(a)?a=t=this.normalizeCoords(t):[t,a]=this.normalizeCoords(t,a),this.obActions.clear(t,a),!0}copy(t,a){if(e(t)){let e=this.obSelector.getSelectedRectangleCoords();if(!1===e)return!1;[t,a]=e}e(a)?a=t=this.normalizeCoords(t):[t,a]=this.normalizeCoords(t,a);const r=this.obActions.copy(t,a);return this.obBuffer instanceof m&&!1!==r&&this.obBuffer.copy(x(r)),r}cut(t,a){if(e(t)){let e=this.obSelector.getSelectedRectangleCoords();if(null==(r=e)||0===r.length)return!1;[t,a]=e}var r;e(a)?a=t=this.normalizeCoords(t):[t,a]=this.normalizeCoords(t,a);const i=this.obActions.cut(t,a);return this.obBuffer instanceof m&&!1!==i&&this.obBuffer.copy(x(i)),i}deselect(){return this.obSelector.deselectAll()}getCoords(){return this.obSelector.getSelectedRectangleCoords()}initSizeMatrix(){this.obSelector.initSizeMatrix()}normalizeCoords(t,a){if(t[0]=parseInt(t[0])||0,t[1]=parseInt(t[1])||0,e(a))return t;{let e;return a[0]=parseInt(a[0])||0,a[1]=parseInt(a[1])||0,t[0]>a[0]&&(e=a[0],a[0]=t[0],t[0]=e),t[1]>a[1]&&(e=a[1],a[1]=t[1],t[1]=e),[t,a]}}onKeyDown(e){if(this.enableHotkeys){var t=e.which||e.keyCode,a=e.ctrlKey?e.ctrlKey:17===t;if(this.obTable.isMouse&&a)switch(t){case 65:e.preventDefault(),this.selectAll();break;case 67:this.copy();break;case 86:if(!this.enableChanging)break;this.obBuffer instanceof m&&this.obBuffer.paste((e=>{this.paste(function(e){var t,a,r,i,o,l,n,s=[],c=0;for((r=e.split("\n")).length>1&&""===r[r.length-1]&&r.pop(),t=0,a=r.length;t<a;t+=1){for(r[t]=r[t].split("\t"),i=0,o=r[t].length;i<o;i+=1)s[c]||(s[c]=[]),l&&0===i?(n=s[c].length-1,s[c][n]=s[c][n]+"\n"+r[t][0],l&&1&T(r[t][0])&&(l=!1,s[c][n]=s[c][n].substring(0,s[c][n].length-1).replace(/""/g,'"'))):i===o-1&&0===r[t][i].indexOf('"')&&1&T(r[t][i])?(s[c].push(r[t][i].substring(1).replace(/""/g,'"')),l=!0):(s[c].push(r[t][i].replace(/""/g,'"')),l=!1);l||(c+=1)}return s}(e))}));break;case 88:if(!this.enableChanging)break;this.cut();break;case 46:case 8:if(!this.enableChanging)break;this.clear()}}}set onStartSelect(e){this.obEvent.startSelect=e}set onSelect(e){this.obEvent.select=e}set onFinishSelect(e){this.obEvent.finishSelect=e}paste(t,a,r){if(e(a)){let e=this.obSelector.getSelectedRectangleCoords();if(!1===e)return!1;a=this.normalizeCoords(e[0])}else e(r)||([a,r]=this.normalizeCoords(a,r),[a,r]=this.obSelector.getRectangleCoords(a,r));return this.obActions.paste(t,a,r),!0}select(t,a){return this.obSelector.deselectAll(),e(a)?t=this.normalizeCoords(t):[t,a]=this.normalizeCoords(t,a),this.obSelector.select(t,a)}selectAll(){return this.obSelector.selectAll()}destroy(){p(document.body,"keydown",this._onKeyDown),this.deselect(),this.obTable.destroy(),delete this.obActions,this.obBuffer,this.obSelector,this.obTable}}a.g.TableCellSelector=O})(),r})(),e.exports=t()},46326:function(e){if(void 0===(t=window.SpreadsheetIncludeTemplate=window.SpreadsheetIncludeTemplate||{}))var t={};t.editorBody=function(e,a){return'<input class="macro-name" type="hidden" value="spreadsheet-include"><div class="dialog-panel-body macro-input-panel"><div id="macro-insert-container" style="display: block;"><div class="macro-input-fields dialog-panel">'+t.paramsSection({space:e.params.space,page:e.params.page,attachment:e.params.attachment,attachmentList:soy.$$getMapKeys(e.params.attachmentList),source:e.params.source,range:e.params.range,sheetList:soy.$$getMapKeys(e.params.sheetList)})+'</div><div id="macro-preview-container" class="macro-preview-container dialog-panel">'+t.macroBrowserPreview(null)+"</div></div></div>"},{}.DEBUG&&(t.editorBody.soyTemplateName="SpreadsheetIncludeTemplate.editorBody"),t.waitBox=function(e,t){return'<div class="dialog-panel-body macro-input-panel"><div class="wait-box"><aui-spinner size="medium"></aui-spinner></div></div>'},{}.DEBUG&&(t.waitBox.soyTemplateName="SpreadsheetIncludeTemplate.waitBox"),t.macroBrowserPreview=function(e,t){return'<div id="macro-browser-preview" class="macro-preview"></div>'},{}.DEBUG&&(t.macroBrowserPreview.soyTemplateName="SpreadsheetIncludeTemplate.macroBrowserPreview"),t.paramsSection=function(e,a){return e=e||{},'<form action="#" class="aui">'+t.docs(null)+'<div id="macro-param-div-page" class="macro-param-div"> \x3c!--autocomplete page url--\x3e<label for="macro-param-page">'+soy.$$escapeHtml("Page")+'</label><input id="macro-param-page" class="text macro-param-input" type="text" value="'+soy.$$escapeHtml(e.page)+'"></div><div id="macro-param-div-attachment-name" class="macro-param-div">'+t.attachmentList({list:e.attachmentList,selected:e.attachment})+'</div><div id="macro-param-div-source" class="macro-param-div">'+t.sheetList({list:e.sheetList,selected:e.source})+'</div><div id="macro-param-div-range" class="macro-param-div"><label for="macro-param-range">'+soy.$$escapeHtml("Range")+'</label><input id="macro-param-range" class="text macro-param-input" type="text" value="'+soy.$$escapeHtml(e.range)+'"><div class="invalid message">'+soy.$$escapeHtml("Range is incorrect")+"</div></div></form>"},{}.DEBUG&&(t.paramsSection.soyTemplateName="SpreadsheetIncludeTemplate.paramsSection"),t.docs=function(e,t){return'<div class="macro-desc"><p>'+"Table Spreadsheet Include macro allows you to mirror spreadsheet data."+"</p>"+"Read \u003ca class=\u0022macro-doco-link\u0022 href=\u0022https://docs.stiltsoft.com/tfac/dc-server/how-to-use-table-spreadsheet-include-129895787.html\u0022\u003edocumentation\u003c/a\u003e,"+" "+"report \u003ca href=\u0022https://stiltsoft.atlassian.net/servicedesk/customer/portal/14\u0022\u003eissue\u003c/a\u003e,"+" "+"\u003ca class=\u0022macro-rate-link\u0022 href=\u0022https://survey.alchemer.com/s3/7010834/Table-Filter-and-Charts-2022\u0022\u003erate our app\u003c/a\u003e."+"</div>"},{}.DEBUG&&(t.docs.soyTemplateName="SpreadsheetIncludeTemplate.docs"),t.attachmentList=function(e,a){return""+t.optionsList({list:e.list,selected:e.selected,elementId:"macro-param-attachment-name",label:"Spreadsheet attachment"})},{}.DEBUG&&(t.attachmentList.soyTemplateName="SpreadsheetIncludeTemplate.attachmentList"),t.sheetList=function(e,a){return""+t.optionsList({list:e.list,selected:e.selected,elementId:"macro-param-source",label:"Source sheet"})},{}.DEBUG&&(t.sheetList.soyTemplateName="SpreadsheetIncludeTemplate.sheetList"),t.optionsList=function(e,t){for(var a='<label for="'+soy.$$escapeHtml(e.elementId)+'">'+soy.$$escapeHtml(e.label)+'</label><aui-select id="'+soy.$$escapeHtml(e.elementId)+'">',r=e.list,i=r.length,o=0;o<i;o++){var l=r[o];a+='<aui-option value="'+soy.$$escapeHtml(l)+'" '+(l==e.selected?" selected ":"")+">"+soy.$$escapeHtml(l)+"</aui-option>"}return a+="</aui-select>"},{}.DEBUG&&(t.optionsList.soyTemplateName="SpreadsheetIncludeTemplate.optionsList"),t.topRuler=function(e,a){for(var r='<thead><tr class="top-ruler"><th class="tcs-ignore"></th>',i=e.letters,o=i.length,l=0;l<o;l++){var n=i[l];r+=t.topRulerCell({text:n})}return r+="</tr></thead>"},{}.DEBUG&&(t.topRuler.soyTemplateName="SpreadsheetIncludeTemplate.topRuler"),t.topRulerCell=function(e,t){return'<th class="tcs-ignore" title="'+soy.$$escapeHtml("Click to select column")+'">'+soy.$$escapeHtml(e.text)+"</th>"},{}.DEBUG&&(t.topRulerCell.soyTemplateName="SpreadsheetIncludeTemplate.topRulerCell"),t.leftRulerCell=function(e,t){return'<td class="left-ruler tcs-ignore" title="'+soy.$$escapeHtml("Click to select row")+'">'+soy.$$escapeHtml(e.index+1)+"</td>"},{}.DEBUG&&(t.leftRulerCell.soyTemplateName="SpreadsheetIncludeTemplate.leftRulerCell"),e.exports=t},53941:function(e){if(void 0===(t=window.SpreadsheetTemplate=window.SpreadsheetTemplate||{}))var t={};t.macroDialog=function(e,a){return'<section id="spreadsheet-dialog" class="aui-layer aui-dialog2 aui-dialog2-fullscreen aui-dialog2-maximum ap-aui-dialog2" role="dialog" data-aui-modal="true" data-aui-remove-on-hide="true"><base target="_blank"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+(e.isInsert?soy.$$escapeHtml(AJS.format("Insert \u2018{0}\u2019 Macro","Table Spreadsheet")):soy.$$escapeHtml(AJS.format("Edit \u2018{0}\u2019 Macro","Table Spreadsheet")))+'</h2><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary save" aria-label="'+soy.$$escapeHtml("Save")+'" disabled><span class="aui-icon aui-icon-small aui-iconfont-check"></span></button><button class="aui-button aui-button-subtle cancel" aria-label="'+soy.$$escapeHtml("Cancel")+'"><span class="aui-icon aui-icon-small aui-iconfont-cross"></span></button></div></header><div class="aui-dialog2-content">'+(e.isMacroDisabled?'<div class="aui-message aui-message-info info"><p>'+soy.$$escapeHtml("The macro is disabled in the configuration settings.")+"</p></div>":t.view({id:e.params.id,hasBody:e.params.hasBody})+(e.params.hasBody?'<div id="preview-content" class="alternative-hidden-style"><iframe></iframe></div>':""))+"</div></section>"},{}.DEBUG&&(t.macroDialog.soyTemplateName="SpreadsheetTemplate.macroDialog"),t.view=function(e,t){return'<iframe src="about:blank" data-src="'+soy.$$escapeHtml(AJS.contextPath())+"/"+(e.hasBody?"spreadsheet-body":"spreadsheet")+"/view.action?sid="+soy.$$escapeHtml(e.id)+'" frameborder="0" width="100%" seamless allowfullscreen style="color-scheme: normal" id="'+soy.$$escapeHtml(e.id)+'"></iframe>'},{}.DEBUG&&(t.view.soyTemplateName="SpreadsheetTemplate.view"),e.exports=t},64985:function(e){if(void 0===(t=window.TFACMacroEditorUI=window.TFACMacroEditorUI||{}))var t={};t.subtleButton=function(e,t){return"<div class='aui-button aui-button-subtle' id='button-"+soy.$$escapeHtml(e.id)+'\' style="padding-left: 0"><span class="aui-icon aui-icon-small tf-iconfont-view-table" style="margin-right: 3px"></span><span class="name">'+soy.$$escapeHtml(e.name)+"</span></div>"},{}.DEBUG&&(t.subtleButton.soyTemplateName="TFACMacroEditorUI.subtleButton"),t.tableFilterTabs=function(e,t){return'<div class="aui-tabs horizontal-tabs tf-macrobrowser-tabs"><ul class="tabs-menu"><li id="tab-filters" class="menu-item"><a href="#tab-filters-div">'+soy.$$escapeHtml("Filters")+'</a></li><li id="tab-filter-options" class="menu-item"><a href="#tab-filter-options-div">'+soy.$$escapeHtml("Filtration")+'</a></li><li id="tab-table-options" class="menu-item"><a href="#tab-table-options-div">'+soy.$$escapeHtml("Table view")+'</a></li></ul><div class="tabs-pane active-pane"></div></div>'},{}.DEBUG&&(t.tableFilterTabs.soyTemplateName="TFACMacroEditorUI.tableFilterTabs"),t.pivotTabs=function(e,t){return'<div class="aui-tabs horizontal-tabs tf-macrobrowser-tabs"><ul class="tabs-menu"><li id="tab-columns" class="menu-item"><a href="#tab-columns-div">'+soy.$$escapeHtml("Data Source")+'</a></li><li id="tab-options" class="menu-item"><a href="#tab-options-div">'+soy.$$escapeHtml("Options")+'</a></li></ul><div class="tabs-pane active-pane"></div></div>'},{}.DEBUG&&(t.pivotTabs.soyTemplateName="TFACMacroEditorUI.pivotTabs"),t.chartTabs=function(e,t){return'<div class="aui-tabs horizontal-tabs tf-macrobrowser-tabs"><ul class="tabs-menu"><li id="tab-columns" class="menu-item"><a href="#tab-columns-div">'+soy.$$escapeHtml("Settings")+'</a></li><li id="tab-display-options" class="menu-item"><a href="#tab-display-options-div">'+soy.$$escapeHtml("Look")+'</a></li><li id="tab-advanced-options" class="menu-item"><a href="#tab-advanced-options-div">'+soy.$$escapeHtml("Adjustments")+'</a></li></ul><div class="tabs-pane active-pane"></div></div>'},{}.DEBUG&&(t.chartTabs.soyTemplateName="TFACMacroEditorUI.chartTabs"),e.exports=t},71169:function(e){if(void 0===(t=window.TableJoinerMacroTemplate=window.TableJoinerMacroTemplate||{}))var t={};t.dialog=function(e,a){return'<section id="table-joiner-dialog" class="aui-dialog2 aui-dialog2-xlarge tfac aui-layer '+(e.params.isCloud?"cloud":"server")+'" role="dialog" data-aui-modal="true" data-aui-remove-on-hide="true"'+(e.params.isCloud?"":' style="width: 1000px; height: 534px"')+">"+MacroDialogElementsTemplate.header({isInsert:e.isInsert,macroName:"Table Transformer"})+'<div class="aui-dialog2-content" style="height: 420px">'+t.dialogBody(e)+'</div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary tj-next">'+soy.$$escapeHtml("Next \u003e\u003e")+'</button><button class="aui-button tj-insert">'+(e.isInsert?soy.$$escapeHtml("Insert"):soy.$$escapeHtml("Save"))+'</button><button class="aui-button aui-button-link tj-cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},{}.DEBUG&&(t.dialog.soyTemplateName="TableJoinerMacroTemplate.dialog"),t.dialogBody=function(e,a){for(var r='<form id="table-joiner-macro" class="aui"><div id="tj-main-tabs" class="aui-tabs vertical-tabs table-macro-main-tabs"><ul class="tabs-menu"><li class="menu-item active-tab"><a href="#tj-wizard">'+soy.$$escapeHtml("Presets")+'</a></li><li class="menu-item"><a href="#tj-sql">'+soy.$$escapeHtml("SQL query")+"</a></li>"+(e.isAiUiDisabled?"":'<li id="ai-item" class="menu-item"><a href="#tj-ai">'+soy.$$escapeHtml("ChatGPT assistant")+"</a></li>")+'<li class="menu-item"><a href="#tj-options">'+soy.$$escapeHtml("Settings")+'</a></li><li class="menu-item"><a href="#tj-view">'+soy.$$escapeHtml("Options")+'</a></li><li class="menu-item"><a href="#tj-styles">'+soy.$$escapeHtml("Stylesheet")+'</a></li><li class="menu-item"><a href="#tj-msg">'+soy.$$escapeHtml("Messages")+"</a></li></ul>"+MacroDialogElementsTemplate.sidebarLinks({desc:"\u003ca class=\u0022macro-doco-link\u0022 href=\u0022https://docs.stiltsoft.com/tfac/dc-server/how-to-use-table-transformer-macro-42241552.html\u0022\u003eDocumentation\u003c/a\u003e",courseBtn:e.courseBtn})+'<div class="tabs-pane-container"><div class="tabs-pane active-pane" id="tj-wizard"><p class="desc">'+soy.$$filterNoAutoescape("Please, select one of the presets for \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/default-automatic-presets-42241562.html#Defaultautomaticpresets-MergeTablespreset\u0022\u003emerging the tables\u003c/a\u003e or \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/default-automatic-presets-42241562.html#Defaultautomaticpresets-LookupTablespreset\u0022\u003elookup\u003c/a\u003e or select \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/custom-transformation-use-cases-with-advanced-sql-queries-42241587.html\u0022\u003eCustom transformation\u003c/a\u003e for using advanced \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/general-syntax-and-sql-functions-available-42246251.html\u0022\u003eSQL queries\u003c/a\u003e.")+'</p><div id="tj-presets">'+t.preset({colsBefore1:3,rowsBefore1:1,colsBefore2:3,rowsBefore2:1,colsAfter:3,rowsAfter:2,id:"tj-union",orientation:"vertical",title:"Merge tables"})+t.preset({colsBefore1:2,rowsBefore1:3,colsBefore2:2,rowsBefore2:3,colsAfter:3,rowsAfter:3,id:"tj-join",orientation:"horizontal",title:"Lookup tables"})+'<div id="tj-custom" class="tj-preset"><div class="preset-wrapper"><h4>'+soy.$$escapeHtml("Custom transformation")+'</h4></div></div></div><div id="join-column-field-group" class="join-column-field-group field-group'+(0==e.joinColumns.length?" hidden":"")+'"><label for="join-column">'+soy.$$escapeHtml("Match records by")+'</label><select id="join-column-param" class="select" data-param="join-column">',i=e.joinColumns,o=i.length,l=0;l<o;l++){var n=i[l];r+='<option value="'+soy.$$escapeHtml(n)+'" '+(e.params["join-column"]==n?" selected ":"")+">"+soy.$$escapeHtml(n)+"</option>"}return r+='</select><div class="arrow"></div></div><div id="join-column-field-message" class="join-column-field-group aui-message info aui-message-info'+(0==!e.joinColumns.length?" hidden":"")+'">'+(e.isProcessorMacro?"<p>"+soy.$$filterNoAutoescape("Unable to determine column to match records. Please, click \u003cbutton class=\u0022aui-button ap-aui-button ap-aui-dialog-button aui-button-link joiner-proc-next-button\u0022\u003eNext\u003c/button\u003e and set the SQL.")+"</p>":"<p>"+soy.$$escapeHtml("Unable to determine column to match records. Please, click \u0022Next\u0022 button and set the SQL.")+"</p>")+'<div class="arrow"></div></div></div><div class="tabs-pane" id="tj-sql"><p class="desc">'+soy.$$filterNoAutoescape("The \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/general-syntax-and-sql-functions-available-42246251.html\u0022\u003eSQL\u003c/a\u003e is used to \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/custom-transformation-use-cases-with-advanced-sql-queries-42241587.html\u0022\u003etransform\u003c/a\u003e source tables. It is either generated by macro when you choose a \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/default-automatic-presets-42241562.html\u0022\u003epreset\u003c/a\u003e in the macro Wizard, or you can write your own \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/advanced-table-cells-formatting-58426218.html\u0022\u003ecomplex query\u003c/a\u003e. Tables are named as \u0022T1\u0022, \u0022T2\u0022, \u0022T3\u0022 and so on. Table name variable \u0022T*\u0022 can be used in \u0022UNION\u0022 and \u0022JOIN\u0022 operations when you have a large or uncertain number of tables. Use single quotes to reference table columns.")+'</p><textarea id="sql-param" class="textarea" data-param="sql">'+soy.$$escapeHtml(e.params.sql)+'</textarea><div id="sql-error"></div></div>'+(e.isAiUiDisabled?"":'<div class="tabs-pane" id="tj-ai"><p class="desc">'+soy.$$escapeHtml("Ask ChatGPT to write SQL query")+'&nbsp;<a href="https://" title="'+soy.$$escapeHtml("Share feedback")+'"><span class="aui-icon aui-icon-small aui-iconfont-feedback" role="img" aria-label="'+soy.$$escapeHtml("Share feedback")+'" /></a></p><textarea id="ai-question" class="textarea" data-param="ai-question">'+(e.params["ai-question"]?soy.$$escapeHtml(e.params["ai-question"]):"")+'</textarea><button id="ask-ai" class="aui-button" '+(e.params["ai-question"]?"":"disabled")+">"+soy.$$escapeHtml("Ask ChatGPT")+'</button><span id="ai-spinner"></span><div id="ai-message"></div></div>')+'<div class="tabs-pane" id="tj-options"><p class="desc">'+soy.$$escapeHtml("The following settings are used to process non-text values, such as numbers, dates, time duration and so on.")+'</p><div class="field-group"><label for="macro-param-datepattern">'+soy.$$escapeHtml("Date format")+'</label><input id="macro-param-datepattern" class="text" type="text" data-param="dateFormat" '+(e.params.datepattern?' value="'+soy.$$escapeHtml(e.params.datepattern)+'"':"")+'><div class="macro-param-desc">'+soy.$$filterNoAutoescape("Specify the \u003ca href=\u0022https://docs.stiltsoft.com/tfac/dc-server/how-to-set-the-date-format-and-worklog-settings-42239878.html#Howtosetthedateformatandworklogsettings-Setthedateformat\u0022 target=\u0022_blank\u0022\u003edate format\u003c/a\u003e that will be used to read date values.")+'</div></div><div class="field-group"><label for="macro-param-decimalseparator">'+soy.$$escapeHtml("Decimal separator")+'</label><select id="macro-param-decimalseparator" class="select" data-param="separator"><option value="." '+("."==e.params.separator?" selected ":"")+">"+soy.$$escapeHtml("Point (.)")+'</option><option value="," '+(","==e.params.separator?" selected ":"")+">"+soy.$$escapeHtml("Comma (,)")+'</option></select></div><div class="field-group"><label for="macro-param-thousandSeparator">'+soy.$$escapeHtml("Thousands separator")+'</label><select id="macro-param-thousandSeparator" class="select" data-param="thousand-separator"><option value="" '+(e.params["thousand-separator"]?"":" selected ")+'></option><option value="\\u0020" '+(" "==e.params["thousand-separator"]?" selected ":"")+">"+soy.$$escapeHtml("Space ( )")+'</option><option value="," '+(","==e.params["thousand-separator"]?" selected ":"")+">"+soy.$$escapeHtml("Comma (,)")+'</option><option value="." '+("."==e.params["thousand-separator"]?" selected ":"")+">"+soy.$$escapeHtml("Point (.)")+'</option><option value="\'" '+("'"==e.params["thousand-separator"]?" selected ":"")+">"+soy.$$escapeHtml("Apostrophe (\u0027)")+'</option></select></div><div class="field-group"><label for="macro-param-decimals">'+soy.$$escapeHtml("Decimal places")+'</label><input id="macro-param-decimals" class="text" type="text" data-param="decimals" '+(e.params.decimals?'value="'+soy.$$escapeHtml(e.params.decimals)+'"':"")+'></div><div class="field-group" id="macro-param-div-worklog"><label for="worklog-param">'+soy.$$escapeHtml("Set worklog settings")+'</label><input id="macro-param-worklog" class="text" type="text" data-param="worklog" '+(e.params.worklog?' value="'+soy.$$escapeHtml(e.params.worklog)+'"':"")+"></div>"+MacroDialogElementsTemplate.auiToggle({paramName:"transpose",params:e.params,label:"Transpose source tables"})+MacroDialogElementsTemplate.auiToggle({paramName:"transposeResult",params:e.params,label:"Transpose result table"})+'<input id="macro-param-id" class="text tf-always-hidden" type="text" data-param="id" value="'+soy.$$escapeHtml(e.params.id)+'"></div><div class="tabs-pane" id="tj-view"><p class="desc">'+soy.$$escapeHtml("Choose options you want to have.")+'</p><div class="field-group"><label for="show-source-param">'+soy.$$escapeHtml("Source data:")+'</label><select class="select" id="show-source-param" data-param="show-source"><option value="true" '+("true"==e.params["show-source"]?"selected":"")+">"+soy.$$escapeHtml("Show all content")+'</option><option value="false" '+("true"!=e.params["show-source"]&&"all"!=e.params["show-source"]?"selected":"")+">"+soy.$$escapeHtml("Hide tables")+'</option><option value="all" '+("all"==e.params["show-source"]?"selected":"")+">"+soy.$$escapeHtml("Hide all content")+"</option></select></div>"+MacroDialogElementsTemplate.auiToggle({paramName:"plainText",params:e.params,label:"Show single-cell result as text"})+MacroDialogElementsTemplate.auiToggle({paramName:"export-csv",params:e.params,label:"Export to CSV button"})+MacroDialogElementsTemplate.auiToggle({paramName:"export-pdf",params:e.params,label:"Export to PDF button"})+MacroDialogElementsTemplate.auiToggle({paramName:"export-word",params:e.params,label:"Export to Word button"})+MacroDialogElementsTemplate.auiToggle({paramName:"export-print",params:e.params,label:"Print button"})+'</div><div class="tabs-pane" id="tj-styles"><p class="desc">'+soy.$$escapeHtml("Input your custom styles to tailor the appearance. These styles will be applied to the page with the macro.")+'</p><div id="style-editor-container"></div><textarea id="styles-param" class="textarea" data-param="styles">'+soy.$$escapeHtml(e.params.styles)+'</textarea></div><div class="tabs-pane" id="tj-msg"><p class="desc">'+soy.$$escapeHtml("Messages customization:")+"</p>"+MacroDialogElementsTemplate.customMessageInput({paramName:"customNoTableMsg",params:e.params,label:"No table found",defaultMessage:"Oops, it seems that you need to place a table or a macro generating a table within the Table Transformer macro."})+MacroDialogElementsTemplate.customMessageInput({paramName:"customNoResultsMsg",params:e.params,label:"No results",defaultMessage:"The query returned no rows."})+"</div></div></div>"+MacroDialogElementsTemplate.preview(e)+"</form>"},{}.DEBUG&&(t.dialogBody.soyTemplateName="TableJoinerMacroTemplate.dialogBody"),t.tableExample=function(e,t){for(var a='<div class="table-wrapper"><table class="table-example confluenceTable"><thead><tr>',r=e.cols,i=0;i<r;i++)a+='<th class="confluenceTh"></th>';a+="</tr></thead><tbody>";for(var o=e.rows,l=0;l<o;l++){a+="<tr>";for(var n=e.cols,s=0;s<n;s++)a+='<td class="confluenceTd"></td>';a+="</tr>"}return a+="</tbody></table></div>"},{}.DEBUG&&(t.tableExample.soyTemplateName="TableJoinerMacroTemplate.tableExample"),t.preset=function(e,a){return'<div id="'+soy.$$escapeHtml(e.id)+'" class="tj-preset"><div class="preset-wrapper"><h4>'+soy.$$escapeHtml(e.title)+'</h4><table class="example-container"><tr><td class="dashed '+("vertical"!=e.orientation?"left":"")+'"'+("vertical"==e.orientation?'colspan="3"':"")+">"+t.tableExample({cols:e.colsBefore1,rows:e.rowsBefore1})+("vertical"==e.orientation?'<div class="tj-example-plus">+</div>'+t.tableExample({cols:e.colsBefore2,rows:e.rowsBefore2}):"")+"</td>"+("vertical"!=e.orientation?'<td class="dashed left right">+</td><td class="dashed right">'+t.tableExample({cols:e.colsBefore2,rows:e.rowsBefore2})+"</td>":"")+'</tr><tr><td colspan="3">'+t.arrowDown(null)+'</td></tr><tr><td colspan="3" class="dashed result">'+t.tableExample({cols:e.colsAfter,rows:e.rowsAfter})+"</td></tr></table></div></div>"},{}.DEBUG&&(t.preset.soyTemplateName="TableJoinerMacroTemplate.preset"),t.arrowDown=function(e,t){return'<span class="down-arrow">&#x21e9;</span>'},{}.DEBUG&&(t.arrowDown.soyTemplateName="TableJoinerMacroTemplate.arrowDown"),e.exports=t},77378:function(e,t,a){"use strict";a(83756),a(4267),a(73406);var r=a(59446),i={initSelects:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;$.each(e,(function(n){var s=$("#macro-param-"+n,i),c=e[n];!function(e,t){"AUI-SELECT"!==e.prop("tagName")&&e.find("option").each((function(){var e=$(this),a=e.attr("value");e.text(t[a].title)}))}(s,c),function(e,t,a,i,n){if(!t.__multiSelect){var s=Object.keys(t),c=a[i],u="#".concat(e.attr("id")),p=!0===a.isNew,{option:d,onChangeAppender:m}=r.default.initSelects(u,t[c]&&c,s[0],n,p);a[i]=d,e.change((function(){var a=e.val();o(a,i,t,"hidden"),o(a,i,t,"shown"),function(e,t,a){a.__default&&l(a.__default.labels);"object"!=typeof e&&l(a[e].labels)}(a,0,t)})).val(d).trigger("change"),"AUI-SELECT"===e.prop("tagName")&&e.find("aui-option").each((function(){var e=$(this);e.attr("value")===d?e.attr("selected","true"):e.attr("selected",null)})),m(e)}}(s,c,t,n,a)}))}};function o(e,t,a,r){var i="tfac-"+r+"-"+t;$("."+i).removeClass(i);var o=a[e];if(o){var l=o[r+"Params"];if(l){var n=l.map((function(e){return"#macro-param-div-"+e}));$(n.join(",")).addClass(i)}}}function l(e){e&&$.each(e,(function(e,t){$("#macro-param-div-"+e).find("label").text(t)}))}var n=i,s=a(99629),c=a(3809),u=a.n(c),p=a(18984),d=a(64985),m=a.n(d),f=a(50773),h=a(73511);function b(e,t,a){var r;return function(e,t){var a=e.find("input"),r=e.find("label");a.hide(),r.hide(),e.prepend(m().subtleButton({id:t,name:r.text()})),$("#inline-dialog-"+t).remove(),function(e){$("#macro-insert-container .macro-input-fields").scroll((function(){$("#inline-dialog-"+e).hide()}));var t="hide",a=$.fn[t];$.fn[t]=function(){return"macro-browser-dialog"==this.attr("id")&&$("#inline-dialog-"+e).hide(),a.apply(this,arguments)}}(t)}(e,t.dialogName),t.container=(a||$(document)).find("#button-"+t.dialogName),t.bindsCallback=(r=t.bindsCallback,function(e){"function"==typeof r&&r(e),function(e,t){$(".macro-param-div .aui-button-subtle:not(#button-"+e+")").removeClass("active"),$(".aui-inline-dialog:not(#inline-dialog-"+e+")").hide(),t.popup.css("z-index","5000"),$(".tf-macrobrowser-tabs .menu-item:not(.active-tab)").click((function(){return t.hide(),!1})),$("#button-"+e).click((function(){if($(this).hasClass("active"))return t.hide(),!1}))}(t.dialogName,e)}),s.default.initAJSDialog(t)}var g={initMacroBrowserWorklogDialog:function(e,t){var a="tf-worklog-dialog",r=(t||$(document)).find("#macro-param-div-worklog"),i=r.find("#macro-param-worklog").val(e||p.default.getStoredValue("tf-worklog")||"365|5|8|y w d h m|y w d h m");return b(r,{dialogName:a,dialogId:a,options:{persistent:!0,width:270,gravity:"w"},getContent:function(){var{params:e,worklogPlaces:t}=(0,h.parseWorklog)(i.val());t.length<5&&t.unshift("y");var r=(0,f.initWorklogInputs)(e,t);return u().inlineDialog({clazz:a,name:"worklog",inputs:r,dialogId:a})},applyCallback:function(e){var t=[],a=e.popup.find("form");t.push(a.find("input").eq(0).val()),t.push(a.find("input").eq(1).val()),t.push(a.find("input").eq(2).val()),t.push(a.find("select").val());var r=[];r.push(a.find("input").eq(3).val().trim()||"y"),r.push(a.find("input").eq(4).val().trim()||"w"),r.push(a.find("input").eq(5).val().trim()||"d"),r.push(a.find("input").eq(6).val().trim()||"h"),r.push(a.find("input").eq(7).val().trim()||"m"),t.push(r.join(" ")),t=t.join("|"),i.val(t),p.default.storeValue("tf-worklog",t)}},t)}},v=a(23589),y=a(62896),S=a(40636),w=e=>e();var T=class{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,a=arguments.length>2?arguments[2]:void 0;this.url=e,this.requestAuth=t,this.macroKey=a}transformElements(e){this.initSelects(e),this.initEncodingInput(),this.initAuthDialog(e),this.initHeaderDialog(e),this.initHeadersDialog(e),this.bindURL()}initSelects(e){var t={source:{url:{title:"URL",hiddenParams:["attachment"]},attachment:{title:"Attachment",hiddenParams:["url","auth-type","set-auth","set-header","headers"]}},"auth-type":{basic:{title:"Login and password",hiddenParams:["set-header"]},header:{title:"Custom",hiddenParams:["set-auth"]}},format:{plain:{title:"Plain text"},wiki:{title:"Wiki markup"},markdown:{title:"Markdown"}}};n.initSelects(t,e)}initEncodingInput(){v.default.inputAutocomplete($("#macro-param-encoding"),null,[{value:"UTF-8"},{value:"UTF-16"},{value:"UTF-16LE"},{value:"UTF-16BE"},{value:"UTF-32"},{value:"ISO-8859-1"},{value:"US-ASCII"}])}initAuthDialog(e){var t="tf-auth-dialog",a=$("#macro-param-div-set-auth"),r=$("#macro-param-auth");e&&e.auth&&"header"!==e["auth-type"]&&a.find("label").text("Change login and password"),b(a,{dialogName:t,dialogId:t,options:{persistent:!0,width:270,gravity:"w"},getContent:function(){var e=[{field:"Login",value:"",variant:s.default.FIELD_VARIANTS.TEXT},{field:"Password",value:"",variant:s.default.FIELD_VARIANTS.PASSWORD}];return u().inlineDialog({clazz:t,name:"auth",inputs:e,dialogId:t})},applyCallback:e=>{var a=e.popup.find("form").find("input"),i=a.eq(0).val().trim(),o=a.eq(1).val().trim(),l=$("#button-".concat(t," .name"));this.encodeAuth(i,o,(e=>{e?l.text("Change login and password"):l.text("Set login and password"),r.val(e)}))}})}initHeaderDialog(e){this.initDialog({name:"header",btnName:"set-header",inputName:"auth",isSet:e&&e.auth&&"header"===e["auth-type"],setLabel:"Set authentication header",changeLabel:"Change authentication header",inputLabel:"Request header",inputType:s.default.FIELD_VARIANTS.TEXT})}initHeadersDialog(e){this.initDialog({name:"headers",btnName:"headers",inputName:"headers",isSet:e&&e.headers,setLabel:"Set additional headers",changeLabel:"Change additional headers",inputLabel:"Request headers",inputType:s.default.FIELD_VARIANTS.TEXTAREA})}initDialog(e){var{name:t,btnName:a,inputName:r,isSet:i,setLabel:o,changeLabel:l,inputLabel:n,inputType:c}=e,p="tf-".concat(t,"-dialog"),d=$("#macro-param-div-"+a),m=$("#macro-param-"+r),f=c===s.default.FIELD_VARIANTS.TEXT?"input":c;i&&d.find("label").text(l),b(d,{dialogName:p,dialogId:p,options:{persistent:!0,width:270,gravity:"w"},getContent:function(){var e=[{field:n,value:"",variant:c}];return u().inlineDialog({clazz:p,name:a,inputs:e,dialogId:p})},applyCallback:e=>{var t=e.popup.find("form").find(f).val().trim(),a=$("#button-".concat(p," .name"));this.encodeHeader(t,(e=>{e?a.text(l):a.text(o),m.val(e)}))}})}bindURL(){$("#macro-param-url").change((()=>{this.requestData&&this.makeRequest(this.requestData.url,this.requestData.data,this.requestData.callback)}))}encodeAuth(e,t,a){e||t?this.makeRequest(this.url+"/auth",{login:e,password:t,macroKey:this.macroKey},a):(this.requestData=null,a(""))}encodeHeader(e,t){e?this.makeRequest(this.url+"/header",{header:e,macroKey:this.macroKey},t):(this.requestData=null,t(""))}makeRequest(e,t,a){this.requestData={url:e,data:t,callback:a};var r=$("#macro-param-url").val().trim();this.requestAuth((i=>{t.url=r,t.jwt=i,(0,y.makeAjax)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,async:!1,url:e,dataType:"text",data:t,success:a,error:()=>{(0,S.showErrorFlag)({title:"Something went wrong!",body:"Please see logs for details"})}})}))}};function x(){$("#macro-browser-dialog .macro-desc .macro-doco-link").after(", ","report \u003ca href=\u0022https://stiltsoft.atlassian.net/servicedesk/customer/portal/14\u0022\u003eissue\u003c/a\u003e,"," ","\u003ca class=\u0022macro-rate-link\u0022 href=\u0022https://survey.alchemer.com/s3/7010834/Table-Filter-and-Charts-2022\u0022\u003erate our app\u003c/a\u003e.")}var A=a(60745),I=a(89494);const O={source:{event:"dataSource",hasProperty:!0},url:{event:"url"},"auth-type":{event:"authType",hasProperty:!0},auth:{event:"auth"},"set-auth":{event:"setAuth"},"set-header":{event:"setHeader"},headers:{event:"headers"},attachment:{event:"attachment"},path:{event:"pathToNode"},expand:{event:"expandNested",hasProperty:!0},encoding:{event:"encoding",hasProperty:!0},separator:{event:"delimiter",hasProperty:!0},quote:{event:"quote",hasProperty:!0},format:{event:"dataFormat",hasProperty:!0}},E=e=>{e.isFirstTimeEnter??=!0};var P=a(34401),C={"csv-table":"CSV","json-from-table":"JSON"},j=function(){};j.isSaveClick=!1,j.isSetParams=!1,j.storedParams={},j.prototype.beforeParamsSet=function(e){x();var t,a=new T(Confluence.getContextPath()+"/rest/table-filter/1.0/csv/encode");return function(e,t){"header"===e["auth-type"]?e.header&&(e.auth=t.encodeHeader(e.header)):e.login&&e.password&&(e.auth=t.encodeAuth(e.login,e.password));e.header="",e.login="",e.password=""}(e,a),a.transformElements(e),(t=$("#macro-param-attachment")).addClass("autocomplete-attachment").attr("data-template","{wikiLink}").attr("data-none-message","Nothing found"),Confluence.Binder.autocompleteAttachment(t.parent()),t.bind("selected.autocomplete-content",(function(e,a){var r=a.content.wikiLink.substring(1,a.content.wikiLink.length-1);if(AJS.params.spaceKey===a.content.space.key){var i=a.content.datePath?"/".concat(a.content.datePath,"/").concat(a.content.parentTitle):a.content.parentTitle;AJS.params.pageTitle!==i&&-1!==i.indexOf(":")||(r=r.replace("".concat(AJS.params.spaceKey,":"),""),AJS.params.pageTitle===i&&(r=r.replace("".concat(AJS.params.pageTitle,"^"),"")))}t.val(r)})),j.isSaveClick=!1,j.isSetParams=!0,e},j.prototype.postPreview=function(){j.isSaveClick=!1,j.isSetParams=!1},j.prototype.manipulateMarkup=function(e){return j.isSaveClick=!0,j.isSetParams=!1,e},j.prototype.beforeParamsRetrieved=function(e,t){var a,r=C[t.macroName];return j.isSaveClick&&(e.isFirstTimeEnter||(a=r,(0,I.ga4SendEvent)(`browser${a}_macro${a}_added`)),((e,t,a)=>{(0,A.saveChanges)(e,t,O,`browser${a}`)})(e,j.storedParams,r),E(e)),j.isSetParams&&(j.storedParams=e),(0,P.gaBrowserAppendRateEvent)(r.toUpperCase()),e};var M=j,J=(a(62708),a(98014));var D=class{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$(".macro-input-fields");this.params=e,this.$el=t,this.initVersion()}initVersion(){this.params.v||this.params.type===J.LABELS||delete this.params.labels}initSelects(){var e={type:{[J.THIS_PAGE]:{title:"Current page",hiddenParams:[J.PAGE,J.LABELS,J.LABELS_OPERATOR,J.SPACE]},[J.PAGE]:{title:"Specific page",hiddenParams:[J.COPY_TABLE,J.LABELS,J.LABELS_OPERATOR,J.SPACE]},[J.CHILDREN]:{title:"Page and child pages",hiddenParams:[J.COPY_TABLE,J.SPACE]},[J.DESCENDANTS]:{title:"Page and all descendants",hiddenParams:[J.COPY_TABLE,J.SPACE]},[J.LABELS]:{title:"Pages with labels",hiddenParams:[J.COPY_TABLE,J.PAGE]}},[J.LABELS_OPERATOR]:{[J.OR_LABEL_OPERATOR]:{title:"at least one label"},[J.AND_LABEL_OPERATOR]:{title:"all the labels above"}},[J.TEI_TRANSPOSE_FIELD_NAME]:{[J.TEI_TRANSPOSE_NEVER]:{title:"Never"},[J.TEI_TRANSPOSE_AUTO]:{title:"Auto"},[J.TEI_TRANSPOSE_ALWAYS]:{title:"Always"}}};n.initSelects(e,this.params),(0,P.gaBrowserAppendRateEvent)("Include")}initMetaSelect(){var e=this.params[J.PAGE_TITLE]||"";"true"===e&&(e="Page"),e=e.split(",").filter((e=>e));var t=this.$el.find("#macro-param-meta-view");t.find("option[value='']").remove(),t.attr("multiple",!0),e.length?t.val(e):t.find("option:selected").prop("selected",!1);var a=this.$el.find("#macro-param-page-title");t.chosenTF({placeholder_text_multiple:"Click and start typing...",width:"100%",display_selected_options:!1}).change(((t,r)=>{r.selected?e.push(r.selected):r.deselected&&e.splice(e.indexOf(r.deselected),1),a.val(e.join(","))})),v.default.sortSelectedOptions(t,e)}isNewMacroInserted(){return!this.params[J.NAME]}initDefaultParams(){this.isNewMacroInserted()&&(this.params[J.TEI_TRANSPOSE_FIELD_NAME]=J.TEI_TRANSPOSE_AUTO)}setMergeProp(){this.isNewMacroInserted()&&this.$el.find("#macro-param-merge-tables").prop("checked",!0)}};const k={name:{event:"excerptName"},type:{event:"source",hasProperty:!0},page:{event:"pageTitle"},labels:{event:"labels"},[J.LABELS_OPERATOR]:{event:"labelsOperator",hasProperty:!0},space:{event:"searchInSpace"},[J.MERGE_TABLES]:{event:"mergeTables",hasProperty:!0},copytable:{event:"copyTable",hasProperty:!0},transpose:{event:"transpose",hasProperty:!0},"page-title":{event:"metaData",hasProperty:!0}};var H=",",_=function(){};_.isSaveClick=!1,_.isSetParams=!1,_.storedParams={},_.prototype.beforeParamsSet=function(e){x();var t=new D(e);return function(e){var t=$("#macro-param-labels"),a=null==e?void 0:e.labels;a&&(t.val(a),setTimeout((()=>t.auiSelect2("val",a.split(H))),1));t.auiSelect2(Confluence.UI.Components.LabelPicker.build({separator:H,queryOpts:{spaceKey:AJS.Meta.get("space-key")}}))}(e),t.initDefaultParams(),t.initSelects(),t.initMetaSelect(),t.setMergeProp(),_.isSaveClick=!1,_.isSetParams=!0,e},_.prototype.postPreview=function(){_.isSaveClick=!1,_.isSetParams=!1},_.prototype.manipulateMarkup=function(e){return _.isSaveClick=!0,_.isSetParams=!1,e},_.prototype.beforeParamsRetrieved=function(e){var t,a;return _.isSaveClick&&(e.isFirstTimeEnter||((0,I.ga4SendEvent)("browserTEI_macroTEI_added"),E(e)),t=e,a=_.storedParams,(0,A.saveChanges)(t,a,k,"browserTEI")),_.isSetParams&&(_.storedParams=e),e["meta-view"]=void 0,e.v=J.VERSION,e};var N=new _,R=(a(6558),a(92243),a(73049),a(63544),a(44854)),L=(a(23649),a(71169)),B=a.n(L)(),F=a(68631);const U=e=>e.is("aui-toggle")?e.prop("checked"):e.is(":checked");var q=a(15995),z=a(80265);function G(e,t,a,r,i,o,l){try{var n=e[o](l),s=n.value}catch(e){return void a(e)}n.done?t(s):Promise.resolve(s).then(r,i)}function W(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var o=e.apply(t,a);function l(e){G(o,r,i,l,n,"next",e)}function n(e){G(o,r,i,l,n,"throw",e)}l(void 0)}))}}var V=class{constructor(e,t){this.macroName=e,this.selectorPrefix=t,this.dialog=null,this.previewSpinner=null,this.macroObject=null,this.previewSidebar=null,this.preview=null,this.isCloud=null,this.$context=null}showDialog(e,t,a,r,i){this.initElements(e.params.isCloud),this.bindButtons(e,t,a),this.initTabs(),this.bindInputs(e.params),this.initWizard(e.params),this.setButtons(),e.storedParams=this.getParams(this.dialog),this.bindPreview(e,r),this.setPreview(e.bodyView),this.refreshPreview(e,r),this.bindRate()}waitForMacroObject(e,t){var a=this;return W((function*(){return a.initIframe(),a.initElements(e.params.isCloud),yield a.setPreviewAsync(e,t)}))()}showDialogAfterMacroObject(e,t,a,r,i){this.bindButtons(e,t,a),this.initTabs(),this.bindInputs(e.params),this.initWizard(e.params),this.setButtons(),e.storedParams=this.getParams(this.dialog),this.bindPreview(e,r),this.isCloud||($(this.iframe).replaceWith('<iframe src="'+this.previewSrc+'"></iframe>'),this.initIframe()),this.setPreview(i),this.bindRate()}showDialogInitParams(e){var{getPreviewSrc:t,isProcessor:a}=e;this.previewSrc=(null==t?void 0:t())||"",this.isProcessorMacro=a}initElements(e){}initIframe(){this.iframe=this.dialog.find("#preview-content iframe")[0],this.initIframeDoc()}initIframeDoc(){var e,t;this.iframeDoc=(null===(e=this.iframe)||void 0===e?void 0:e.contentDocument)||(null===(t=this.iframe)||void 0===t||null===(t=t.contentWindow)||void 0===t?void 0:t.document)}bindButtons(e,t,a){}bindInputs(e){}togglePreviewSidebar(){this.previewSidebar.trigger("click")}bindPreview(e,t){this.preview=this.dialog.find("#preview"),this.previewSidebar=this.preview.find("#preview-sidebar"),this.refreshBtn=this.previewSidebar.find("#refresh-preview");var a=this.getParams();this.previewSidebar.click((()=>{this.preview.hasClass("expanded")||(0,q.default)(a,this.getParams())||(a=this.refreshPreview(e,t)),this.preview.toggleClass("expanded")})),this.refreshBtn.click((()=>{if(this.preview.hasClass("expanded"))return a=this.refreshPreview(e,t),!1})),this.dialog.find("#".concat(this.selectorPrefix,"-main-tabs")).click((()=>{this.preview.removeClass("expanded")}))}showPreview(){this.refreshBtn.click()}initWizard(e){}initTabs(){AJS.tabs.setup(),this.dialog.bind("tabSelect",(()=>{this.setButtons()}))}selectPreset(e){}setButtons(){}get macroKey(){throw new Error("Macro key not defined")}bindRate(){var e="#".concat(this.selectorPrefix,"-main-tabs");(0,P.gaBrowserAppendRateEvent)(this.macroKey,e,this.$context)}refreshPreview(e,t){return $(this.iframe).replaceWith('<iframe src="'+this.previewSrc+'"></iframe>'),this.initIframe(),$(this.iframe).hide(),this.previewSpinner.show(),e.params=this.getParams(),t(e,this.setPreview.bind(this)),e.params}setPreviewAsync(e,t){var a=this;return W((function*(){var r=yield t(e);return a.initIframe(),yield new Promise((e=>{a.setPreview(r,e)})),r}))()}setPreview(e,t){var a=this;this.initIframe();var i=function(){var e=W((function*(e,t){yield a.handleIframeLoad(),a.tablesNRows=a.getTables(e,a.getParams().transpose),!t&&a.updateColumns(e)}));return function(t,a){return e.apply(this,arguments)}}();this.iframe.onload=W((function*(){a.initIframeDoc(),$(a.iframe).show();var e=$(a.iframeDoc).find(".".concat(a.selectorPrefix,"-source")).eq(0);a.previewSpinner.hide(),yield i(e,t),e.length&&(r.default.bindPreview(e,i),(0,z.addIframe)(e,"".concat(a.selectorPrefix,"-source"),i)),null==t||t()})),this.iframe.srcdoc=e}handleIframeLoad(){return W((function*(){}))()}updateColumns(){}getActivePane(){return this.dialog.find(".active-pane")}getTables(e,t){}getParams(){var e={};return this.dialog.find("[data-param]").each((function(){var t,a,r=$(this);t=(a=r).is("aui-toggle")||a.is(".checkbox")?U(r):(r.val()||"").trim(),e[r.data("param")]=t})),e}},K=a(35736),Y=a(8637),Q=a(14412),X=a(1654),Z=a(92898),ee=(e,t={},a)=>{for(const r of e){const e=$(`#macro-param-${r}`,a),i=$(`#macro-param-div-${r}Text`,a);te(i,!(0,Z.default)(t[r])),e.change((()=>{te(i,!U(e))}))}};const te=(e,t)=>{e.toggleClass("hidden",t)};var ae=a(74884),re=a(60434),ie=a(29313),oe=a(14763),le=a(82101);var ne=a(71030),se=a(42879),ce=a(64079),ue=a(71378),pe=a(25082);const de=(e,t)=>{const a=Math.min(e.length,t.length);for(let r=1;r<=a;r++)if(e.endsWith(t.substring(0,r)))return r;return 0},me='\n# You are to write SQL for the Table Transformer macro from the Table Filter and Charts for Confluence app.\n# Use single quotes to reference columns. Use double quotes for string and date constants. Example: CASE WHEN T1.\'Column name\' > "2023-01-01" THEN "Text value".\n# Use FORMATWIKI function when need to style columns with CSS. For example, FORMATWIKI("{cell:font-size: 30px; font-weight: bold;}", \'Some column\', "{cell}").\n# Use FORMATDATE(some_date) function to output a calculated date.',fe=`\n${me}\n# Yor answer should contain SQL query only.`,he=`\n# Replace SQL_suggestion variable in the user query with the SQl part that fits best.\n# Don't repeat the query if nothing to suggest.\n${me}\n# Your answer should contain SQL_suggestion replacement only so that the SQL will be valid. Do not duplicate the query.`,be=async(e,t,a,r)=>{const i=Object.keys(e).map((t=>`# Table ${t}, columns = [${e[t]}]`)).join("\n"),o={role:ce.ROLE_SYSTEM,content:i+r};return(0,ue.makeAIRequestTT)([o,{role:ce.ROLE_USER,content:t}]).then((e=>e=(e=(0,se.extractCodeFromAIResponse)(e,"sql")).replaceAll("CURRENT_DATE",'"today"').replaceAll("DATEDIFF(","DATEDIFF(day,").replaceAll('FORMATWIKI("{text}",',"FORMATWIKI(").replaceAll(', "{text}")',")").replaceAll(/\)\[(\d+)\]/g,")->$1").replaceAll(/"(\d{4}-\d\d-\d\d)"/g,((e,t)=>{const r=(0,pe.getLocale)();return`"${(0,ne.formatDate)(new Date(t),a,r)}"`}))))};var ge=a(92138);var ve=a(52726),ye=a(38717),Se=a(18895);const we={...Se.StandardSQL.spec,keywords:Se.StandardSQL.spec.keywords+["abs","add","after","all","alter","and","any","as","asc","at","avg","begin","between","by","case","cast","check","close","coalesce","column","commit","constraint","constraints","corresponding","count","create","cross","cube","CURDATE","current_timestamp","date","day","declare","default","delete","desc","distinct","double","drop","else","end","escape","except","execute","exists","false","first","foreign","from","full","get","global","group","grouping","having","hour","identity","if","in","inner","insert","intersect","into","is","join","left","like","max","min","minute","month","natural","new","not","null","nullif","of","offset","on","or","order","out","outer","percent","precision","primary","range","references","return","returns","right","rollback","rollup","row","schema","search","second","select","set","sets","some","substring","sum","table","temporary","then","time","timestamp","to","trigger","trim","true","union","unique","update","upper","using","value","values","var_pop","var_samp","varchar","view","when","where","while","with","work","year","formatdate","array","greatest","least","replace","match_regexp","formattime","formatworklog","formatnumber","formatwiki","formatmarkdown","html_decode","escapemarkup","concat_view","concat_view_aggr","replace_view","substring_view","median","stdev","stddev","text","var","varp","ceil","exp","floor","ifnull","iif","instr","isnull","lcase","length","mid","power","random","uuid","round","rownum","sqrt","substr","ucase","weekday","subdate","regexp_like","now","getdate","interval","date_sub","date_add","adddate","dateadd","datediff","timestampdiff","dayofweek","quart","quart2","quart3","mult","log","pivot","unpivot","limit","top","char","concat","concat_ws","apply","charindex","substring_index","split","split_part","last","@currentUser","@pageTitle","regexp_replace","split_view"].join(" "),types:Se.StandardSQL.spec.types,doubleQuotedStrings:!0,identifierQuotes:"'",caseInsensitiveIdentifiers:!0},Te=Se.SQLDialect.define(we);var xe=a(18686),Ae=a(84184),$e=a(84876),Ie=a(52441);const Oe=(e,t)=>{const a=ve.EditorView.updateListener.of((t=>{t.docChanged&&(e.value=t.state.doc.toString(),e.dispatchEvent(new Event("input")))})),r=ve.keymap.of([{key:"Tab",run:Ae.acceptCompletion}]),i=[$e.basicSetup,r,a];i.push(t);const o=((e,t=[])=>{"dark"===document.documentElement.dataset.colorMode&&t.push(Ie.oneDark);const a=new ve.EditorView({doc:e.value,extensions:t});return e.parentNode?.insertBefore(a.dom,e),e.style.display="none",a})(e,i);return e.addEventListener("change",(function(){const t=o.state.update({changes:{from:0,to:o.state.doc.length,insert:e.value}});o.dispatch(t)})),o},Ee=({selection:e,doc:t})=>{const a=e.main.head;return[t.sliceString(0,a),t.sliceString(a)]},Pe=ve.EditorView.updateListener.of((e=>{e.transactions.forEach((t=>{t.isUserEvent("input.complete")&&t.docChanged&&t.changes.iterChanges(((t,a,r,i,o)=>{const l=o.toString();if(/'['\[].+?['\]]'/.test(l)){const t=l.slice(1,-1),a=e.view.state.update({changes:{from:r,to:i,insert:t}});e.view.dispatch(a)}}))}))})),Ce=e=>(0,Se.sql)({dialect:Te,upperCaseKeywords:!0,schema:e}),je=(e,t,a,r)=>{const i=new ye.Compartment;let o=[i.of(Ce(t)),Pe];a&&(o=o.concat((0,xe.inlineSuggestion)({fetchFn:e=>{if((0,Ae.completionStatus)(e)&&document.getElementsByClassName("cm-tooltip-autocomplete").length)return Promise.resolve("");const[a,i]=Ee(e);return(async(e,t,a,r)=>{const i=`\n    \`\`\`sql\n    ${t}\${SQL_suggestion}${a}\n    \`\`\`\n  `;let o=await be(e,i,r,he),l=!1;o.startsWith("    ")&&(o=o.trimStart(),l=!0);const n=de(t,o);n&&(o=o.slice(n));const s=de(o,a);return s&&(o=o.slice(0,s).trimEnd()),(t+a).includes(o.trim())?"":(l&&t.trimEnd()===t&&!n&&(o=" "+o),o.trim()?o:"")})(t,a,i,r)}})));return{view:Oe(e,o),compartment:i}};var Me=a(29847);const Je=(e,t)=>{let a=[(0,Me.css)()];return t&&(a=a.concat((0,xe.inlineSuggestion)({fetchFn:e=>{const[t]=Ee(e);return(async e=>{const t={role:ce.ROLE_SYSTEM,content:"\n# Suggest CSS autocompletion for the user provided styles.\n# The suggestion should contain only CSS continuation.\n# Use line breaks to format the suggestion.\n# Provide only one suggestion.\n# Yor answer should contain CSS only.\n"};return(0,ue.makeAIRequestTT)([t,{role:ce.ROLE_USER,content:e}]).then((e=>(e=(0,se.extractCodeFromAIResponse)(e,"css"))+"\n"))})(t)}}))),Oe(e,a)};var De=a(89835),ke=a(47057);function He(e,t,a,r,i,o,l){try{var n=e[o](l),s=n.value}catch(e){return void a(e)}n.done?t(s):Promise.resolve(s).then(r,i)}function _e(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var o=e.apply(t,a);function l(e){He(o,r,i,l,n,"next",e)}function n(e){He(o,r,i,l,n,"throw",e)}l(void 0)}))}}var Ne=class extends V{constructor(){super(F.JOINER,"tj"),this.textAreaEditor=null}get macroKey(){return"Trans"}showDialog(e,t,a,r,i){var o=arguments,l=()=>super.showDialog,n=this;return _e((function*(){var s,c,u,p,d=o.length>5&&void 0!==o[5]&&o[5],m=o.length>6?o[6]:void 0;n.previewSrc=i?i():"",n.isProcessorMacro=d,n.isInsert=null==e.params.sql,null!==(c=(s=e.params).sql)&&void 0!==c||(s.sql=Q.UNION_QUERY),null!==(p=(u=e.params).styles)&&void 0!==p||(u.styles=""),e.params=(0,re.decodeTTMacroParams)(e.params);var f="true"===String(e.params.transpose);n.tablesNRows=n.getTables(e.bodyView,f),n.commonColumns=v.default.getCommonColumns(n.tablesNRows.tables,v.default.textNViewType);var h=e.params["join-column"];h&&-1===n.commonColumns.indexOf(h)&&n.commonColumns.push(h),n.aiConfig=yield(0,ge.getConfig)(),n.dialog=$(B.dialog({params:e.params,isInsert:n.isInsert,joinColumns:n.commonColumns,previewSrc:n.previewSrc,isProcessorMacro:n.isProcessorMacro,courseBtn:m||!1,isAiUiDisabled:n.aiConfig.isAiUiDisabled})),n.isProcessorMacro?($(".dialog-page-body").html(n.dialog),n.dialog.attr("open","true")):AJS.dialog2(n.dialog).show(),n.locales=[(0,pe.getLocale)()],n.jsons=n.getJSONs(),l().call(n,e,t,a,r,i,d,m)}))()}initElements(e){this.sqlInput=this.dialog.find("#sql-param"),this.cssInput=this.dialog.find("#styles-param"),this.joinColumnWraps=this.dialog.find(".join-column-field-group"),this.joinColumnWrapper=this.dialog.find("#join-column-field-group"),this.joinColumnMessage=this.dialog.find("#join-column-field-message"),this.joinColumnSelect=this.joinColumnWrapper.find("#join-column-param"),this.unionPreset=this.dialog.find("#tj-union"),this.joinPreset=this.dialog.find("#tj-join"),this.customPreset=this.dialog.find("#tj-custom"),this.presets=this.dialog.find(".tj-preset"),this.msg=this.dialog.find("#sql-error"),this.nextBtn=e?AP.dialog.getButton("next-btn"):this.dialog.find(".tj-next"),this.saveBtn=this.dialog.find(".tj-insert"),this.previewSpinner=this.dialog.find("#preview-spinner"),this.initIframe(),this.initAI()}getRawParams(){var e,t=super.getParams();return null!==(e=t.version)&&void 0!==e||(t.version=F.JOINER_VERSION),t}getParams(){return(e=>(0,le.encodeMacroParams)(e,oe.ENCODABLE_FIELDS))(this.getRawParams())}bindButtons(e,t,a){var{isCloud:r,isFirstTimeEnter:i}=e.params,o=()=>{var e=this.getActivePane();e.is("#tj-sql")?AJS.tabs.change(this.dialog.find('a[href="#tj-options"]')):e.is("#tj-wizard")&&(this.customPreset.hasClass("active")||this.joinPreset.hasClass("active")&&!this.commonColumns.length)?AJS.tabs.change(this.dialog.find('a[href="#tj-sql"]')):AJS.tabs.change(this.dialog.find('a[href="#tj-view"]')),this.setButtons()};r?AP.events.on("dialog.button.click",(function(e){"next-btn"===e.button.name&&o()})):(this.saveBtn.click((()=>{this.textAreaEditor=null,e.params=this.getParams(),t(e,i),AJS.dialog2(this.dialog).hide()})),this.dialog.find(".tj-cancel").click((()=>{this.textAreaEditor=null,AJS.dialog2(this.dialog).hide(),a()})),this.nextBtn.click((function(){o()}))),$("body").on("click",".joiner-proc-next-button",(e=>{e.preventDefault(),o()}))}bindInputs(e){var t;this.sqlInput.bind("input",(()=>{clearTimeout(t),t=setTimeout((()=>{var e=this.getRawParams();this.validateSQL(e),this.selectPreset(e)}),1e3)})),this.joinColumnSelect.change((()=>{this.sqlInput.val(this.getJoinQuery(this.joinColumnSelect.val())).trigger("change")})),this.dialog.find("#macro-param-transpose").change((()=>{this.tablesNRows.tables=v.default.transpose(this.tablesNRows.tables),this.updateColumns()})),Object.prototype.hasOwnProperty.call(e,"isNew")||(e.isNew=!e.dateFormat),r.default.initDateFormatInputInContainer(e,this.dialog.find("#tj-options"),this.dialog),r.default.initDecimalPlacesInputInContainer(e,this.dialog,"#macro-param-decimals",F.JOINER),this.updateSelectsWithStoredValues(e,this.dialog),g.initMacroBrowserWorklogDialog(e.worklog,this.dialog),ee([ae.CUSTOM_NO_TABLE_MESSAGE_PARAM,"customNoResultsMsg"],e,this.dialog)}updateSelectsWithStoredValues(e,t){[{selectId:"#macro-param-decimalseparator",param:"separator",defaultValue:F.SEPARATORS.SHORT.POINT},{selectId:"#macro-param-thousandSeparator",param:"thousand-separator",defaultValue:""}].forEach((a=>{var{selectId:i,param:o,defaultValue:l}=a,n=t.find(i),s=e[o],{option:c,onChangeAppender:u}=r.default.initSelects(i,s,l,this.macroName,e.isNew);n.val(c===F.SEPARATORS.SHORT.SPACE?F.SEPARATORS.SHORT.ESCAPED_SPACE:c),u(n)}))}initWizard(e){this.selectPreset(e),this.presets.click((t=>{var a=$(t.currentTarget);if(!a.hasClass("active")){var r,i=this.getRawParams();if(this.customPreset.hasClass("active")){this.msg.empty();var o=i.sql;o!==Q.UNION_QUERY&&o!==this.getJoinQuery(i["join-column"])&&this.customPreset.data("sql",o)}this.presets.removeClass("active"),a.addClass("active"),a.is(this.joinPreset)?(r=this.getJoinQuery(i["join-column"]),this.joinColumnWraps.addClass("active")):(this.joinColumnWraps.removeClass("active"),a.is(this.unionPreset)?r=Q.UNION_QUERY:a.is(this.customPreset)&&a.data("sql")&&(r=a.data("sql"),this.validateSQL(e))),this.sqlInput.val(r)[0].dispatchEvent(new Event("change")),this.setButtons()}})).dblclick((()=>{e.isCloud?AP.events.emit("dialog.button.click",{button:{name:"next-btn"}}):this.nextBtn.click()}))}selectPreset(e){this.presets.removeClass("active"),this.joinColumnWraps.removeClass("active"),Q.UNION_QUERY===e.sql?this.unionPreset.addClass("active"):this.getJoinQuery(e["join-column"])===e.sql?(this.joinPreset.addClass("active"),this.joinColumnWraps.addClass("active")):e.sql&&this.customPreset.addClass("active")}setButtons(){var e=this.getActivePane();e.is("#tj-view")?(this.nextBtn.hide(),this.saveBtn.addClass("aui-button-primary")):(this.nextBtn.show(),this.saveBtn.removeClass("aui-button-primary"),e.is("#tj-sql")?this.initHighlightSqlTextArea():e.is("#tj-styles")&&this.initCssTextArea())}updateColumns(){this.jsons=this.getJSONs(),this.commonColumns=v.default.getCommonColumns(this.tablesNRows.tables,v.default.textNViewType),this.joinColumnSelect.find("option:not(selected)").remove();var e=this.joinColumnSelect.val();this.commonColumns.forEach((t=>{t!==e&&this.joinColumnSelect.append($("<option></option>").text(t).attr("value",t))}));var t=null!=e||this.commonColumns.length>0;this.joinColumnWrapper.toggleClass("hidden",!t),this.joinColumnMessage.toggleClass("hidden",t),this.textAreaEditor&&((e,t)=>{const a=Ce(t);e.view.dispatch({effects:e.compartment.reconfigure(a)})})(this.textAreaEditor,this.getHintOptions())}getTables(e,t){"string"==typeof e&&(e=-1===e.indexOf("<body")?$('<div class="tj-source"></div>').html(e):$(e.substring(e.indexOf("<body"),e.indexOf("</body"))).find(".tj-source")),this.body=e;var a=(0,ie.extractTables)(e);return(0,Y.default)(a,Q.TABLE_ATTRIBUTE_READY),(0,De.default)(a),v.default.getTablesAndRowsFromTables(a,v.default.textNViewType,{skip:["tf-hidden-column","pivot-hidden-column"],include:["pivot-export"]},t,!0)}getJSONs(){var e=this.getRawParams(),t=R.default.convertTablesToJSON(this.tablesNRows,{separator:e.separator||F.SEPARATORS.SHORT.POINT,worklog:v.default.getWorklog(e.worklog),dateFormat:e.dateFormat||ke.DEFAULT_DATE_FORMAT,locales:this.locales});return(0,K.prepareAlaSql)(t,e),t}validateSQL(e){var t=this;return _e((function*(){var a;if(e.sql.trim())try{e.worklog=v.default.getWorklog(e.worklog),e.locales=t.locales;var r=R.default.normalizeSql(e,t.jsons,t.body);yield(0,K.executeAlasql)(r,t.jsons,e)}catch(e){(a=e.message).length>200&&(a=a.substring(0,200).trim()+"")}else a="Please, specify SQL query.";return t.msg.empty(),a&&AJS.messages.error(t.msg,{body:AJS.escapeHtml(a),closeable:!0}),!a}))()}getJoinQuery(e){return e?Q.JOIN_QUERY.replace(/\?/g,"'"+e+"'"):Q.JOIN_QUERY}getHintOptions(){var e={},t=this.jsons.jsons;return $.each(t,(function(a){e[a]=t[a].columns.map((function(e){var t=(0,X.default)(e.text).replace(/'/g,"\\'");return-1!==t.indexOf("`")?"["+t+"]":"'"+t+"'"}))})),e}initHighlightSqlTextArea(){var e;null!==(e=this.textAreaEditor)&&void 0!==e||(this.textAreaEditor=je(this.sqlInput[0],this.getHintOptions(),this.aiConfig.aiEnabled,this.getParams().dateFormat))}initCssTextArea(){var e;null!==(e=this.cssTextAreaEditor)&&void 0!==e||(this.cssTextAreaEditor=Je(this.cssInput[0],this.aiConfig.aiEnabled))}initAI(){var{dialog:e}=this,t=e.find("#ai-question"),a=e.find("#ask-ai"),r=e.find("#ai-spinner"),i=e.find("#ai-message");t.bind("input",(()=>a.prop("disabled",!t.val().trim()))),a.click((()=>(i.empty(),a.prop("disabled",!0),t.prop("disabled",!0),r.css("display","inline-block"),(async(e,t,a)=>be(e,t,a,fe))(this.getHintOptions(),t.val().trim(),this.getParams().dateFormat).then((e=>{this.sqlInput.val(e)[0].dispatchEvent(new Event("change")),this.showPreview()})).catch((e=>(AJS.messages.error("#ai-message",{body:e.toString()+` <a href="https://stiltsoft.atlassian.net/servicedesk/customer/portal/14">${"Report issue"}</a>. <a href="https://forms.gle/Kdq91R41t68jZhVN7">${"Share feedback"}</a>.`}),""))).finally((()=>{a.prop("disabled",!1),t.prop("disabled",!1),r.hide()})),!1))),this.aiConfig.aiEnabled||(t.prop("disabled",!0),a.prop("disabled",!0),AJS.messages.info("#ai-message",{title:"OpenAI is disabled in the Table Filter, Charts & Spreadsheets configuration. Contact your Confluence administrator to enable this feature."}))}},Re=(a(54802),a(33844),a(65588)),Le=a(22422);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){Ue(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ue(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var qe={convertStorageToView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.body,r=a.indexOf('<table class="merged-header')>=0&&a.indexOf("".concat(Q.TABLE_ATTRIBUTE_READY,'="true"'))>=0,i=!1;if((0,Le.hasMacroInEditorFormat)(a)&&(a=(0,Re.syncConvertEditorToStorage)(a),i=!0),(a.indexOf("<ac:structured-macro")>=0||a.indexOf("<time")>=0)&&(0,y.makeRequest)({type:"POST",async:!1,url:"/rest/tinymce/1/macro/preview",contentType:"application/json; charset=utf-8",dataType:"html",data:JSON.stringify({contentId:v.default.getContentId(),macro:{name:e.name||"table-filter",body:a,params:Fe({id:0},t)}}),success:function(e){a=e,i=!0}}),i&&r)for(var o,l=/<table class="merged-header/g;o=l.exec(a);){var n=o[0].length,s="<table ".concat(Q.TABLE_ATTRIBUTE_READY,'="true" class="merged-header');a=a.replace(o[0],s),l.lastIndex+=s.length-n}return a},showTabsParam:function(e){v.default.hasTabs($("<div>".concat(e,"</div>")))||-1!==e.indexOf("macro 'spreadsheets'")||$("#macro-param-div-tabs").addClass("tf-very-hidden-param")}},ze=qe,Ge=a(80590),We=e=>{let t="";const a=tinymce.activeEditor.selection.getContent();return $("<div />").html(a).children().length&&(t=a),t},Ve=a(26838);function Ke(e,t,a,r,i,o,l){try{var n=e[o](l),s=n.value}catch(e){return void a(e)}n.done?t(s):Promise.resolve(s).then(r,i)}function Ye(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var o=e.apply(t,a);function l(e){Ke(o,r,i,l,n,"next",e)}function n(e){Ke(o,r,i,l,n,"throw",e)}l(void 0)}))}}function Qe(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xe{constructor(e){var t=this,{containerId:a}=e;Qe(this,"showDialog",function(){var e=Ye((function*(e){t.initMacroParams(e),yield t.drawMacroBrowser({macro:e,onSave:t.onSave.bind(t),onCancel:Ze,getPreview:t.getPreview.bind(t),getPreviewSrc:et}),$(t.containerId).removeClass("hidden"),t.macroObject.dialog.find(".aui-dialog2-header").append("v13.0.3"),AJS.MacroBrowser.dialog&&(AJS.MacroBrowser.dialog.activeMetadata=null)}));return function(t){return e.apply(this,arguments)}}()),this.containerId=a,this.macroObject=null,this.macroId="";var r=AJS.MacroBrowser.previewOnload;AJS.MacroBrowser.previewOnload=function(e){if(AJS.MacroBrowser.dialog&&AJS.MacroBrowser.dialog.activeMetadata)return r(e)}}drawMacroBrowser(e){var t=this;return Ye((function*(){var{macro:a,onSave:r,onCancel:i,getPreview:o,getPreviewSrc:l}=e;return t.macroObject.showDialog(a,r,i,o,l)}))()}onSave(e,t){e.params.id=this.macroId,e.params.isFirstTimeEnter=t,this.sendGa(e.params,e.storedParams),tinymce.confluence.macrobrowser.macroBrowserComplete(e)}sendGa(e,t){}initMacroParams(e){var t;null!==(t=e.body)&&void 0!==t||(e.body=We()),e.bodyHtml=e.body,e.bodyView=ze.convertStorageToView(e),e.params=e.params||{},e.params.id=(new Date).getTime()+"_"+(0,Ge.hashCode)(e.bodyView),this.macroId=e.params.id,e.params.hasTable=e.body.indexOf("table")>0}getPreview(e,t){var a,r;null!==(r=(a=e.params).id)&&void 0!==r||(a.id=this.macroId),(0,Ve.fetchMacroPreviewHTML)(e).then(t).catch(AJS.log)}}function Ze(){tinymce.confluence.macrobrowser.macroBrowserCancel()}function et(){return AJS.params.staticResourceUrlPrefix+"/blank.html"}var tt=a(85908);function at(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class rt extends Xe{constructor(){super({containerId:"#table-joiner-macro"}),at(this,"sendGa",((e,t)=>{e.isFirstTimeEnter||((0,tt.gaMacroBrowserTTAdded)(),E(e)),(0,tt.gaTransformerSaveChangesEditor)(e,t)})),this.macroObject=new Ne}}a(64707),a(63348),a(24034),a(52321),a(2304),a(37567),a(22901);var it=a(23170),ot=a.n(it)(),lt=a(36932),nt=a(81365),st=a(90106),ct=null,ut=()=>(null!=ct||(ct={thousandSeparator:{"":{title:""},[F.SEPARATORS.SHORT.ESCAPED_SPACE]:{title:"Space ( )"},[F.SEPARATORS.SHORT.POINT]:{title:"Point (.)"},[F.SEPARATORS.SHORT.COMMA]:{title:"Comma (,)"},[F.SEPARATORS.SHORT.APOSTROPHE]:{title:"Apostrophe (\u0027)"}},separator:{[F.SEPARATORS.LONG.POINT]:{title:"Point (.)"},[F.SEPARATORS.LONG.COMMA]:{title:"Comma (,)"}},isOR:{AND:{title:"AND"},OR:{title:"OR"}},numbering:{"":{title:""},"Dynamic Ascending":{title:"Dynamic Ascending"},"Static Ascending":{title:"Static Ascending"},"Dynamic Descending":{title:"Dynamic Descending"},"Static Descending":{title:"Static Descending"}},totalcol:{"":{title:"",hiddenParams:["totalColName","thousandSeparator"]},Sum:{title:"Sum",shownParams:["thousandSeparator"]},Average:{title:"Average",shownParams:["thousandSeparator"]},Multiplication:{title:"Multiplication",shownParams:["thousandSeparator"]},Min:{title:"Min",shownParams:["thousandSeparator"]},Max:{title:"Max",shownParams:["thousandSeparator"]}}}),ct),pt=a(85514),dt=a(69663),mt=a(23890),ft=a(26511),ht=a(53885),bt=a(48957),gt=a(71121),vt=a(33893),yt=a(77259),St=e=>"true"!==e.parents(".tf-filters__group__input").first().find(".tf-button--equal").first().attr("equal").toLowerCase();function wt(e){return e.closest(".filter-container").find("input[name=hide-filter]").prop("checked")}function Tt(e){return e.attr("name").replace(/\,/g,F.ALTERNATE_COMMA)}function xt(e){return e.parent().find(".tf-button-settings").first()}var At=e=>{var t={selectfilters:[],userfilters:[],numberfilters:[],datefilters:[],globalfilter:!1,columnhider:!1,iconfilters:[],defaults:[],width:[],inverse:[],order:[],ddSeparator:[],ddOperator:[],hideFilters:[]},a=(e=>{var t=e.hasClass("filter-container")?e.parent().find(".filter-container"):e.find(".filter-container");return e=>t.index((e=>e.parents(".filter-container"))(e))})(e);e.find("select.select-filter").each((function(){var e=$(this);t.selectfilters.push(Tt(e)),t.width.push(e.attr("data-width").replace("px",""));var r=e.find("option:selected").toArray().map((e=>e.textContent.replace(/\,/g,F.ALTERNATE_COMMA)));t.defaults.push(r.join("&&")),t.inverse.push(St(e));var i=a(e);wt(e)&&t.hideFilters.push(i),t.order.push(i);var o=xt(e);t.ddSeparator.push(o.attr("dd-separator")),t.ddOperator.push(o.attr("dd-operator"))})),e.find("input.user-filter").each((function(){var e=$(this);t.userfilters.push(Tt(e)),t.width.push(e.attr("data-width").replace("px","")),t.defaults.push(e.val().replace(/\,/g,F.ALTERNATE_COMMA)),t.inverse.push(St(e));var r=a(e);t.order.push(r),wt(e)&&t.hideFilters.push(r)})),e.find(".range.numbers").each((function(){var e=$(this);t.numberfilters.push(Tt(e));var r=[];e.find("input.number").each((function(){r.push($(this).val().replace(/\,/g,F.ALTERNATE_COMMA))})),t.defaults.push(r.join("->")),t.inverse.push(St(e));var i=a(e);t.order.push(i),wt(e)&&t.hideFilters.push(i)})),e.find(".range.dates").each((function(){var e=$(this);t.datefilters.push(Tt(e));var r=[];e.find("input.date").each((function(){var e=$(this),t=e.val(),a=e.attr("dateFormat");r.push((0,vt.default)(t,a,e.attr("locale")||"eu_US"))})),t.defaults.push(r.join("->")),t.inverse.push(St(e));var i=a(e);t.order.push(i),wt(e)&&t.hideFilters.push(i)}));var r=e.find("input.global-filter");if(r.length){t.defaults.push(r.val().replace(/\,/g,F.ALTERNATE_COMMA)),t.width.push(r.attr("data-width").replace("px","")),t.inverse.push(St(r));var i=a(r);t.order.push(i),wt(r)&&t.hideFilters.push(i),t.globalfilter=!0}var o=e.find("select.column-select");if(o.length){var l=[];o.find("option:selected").each((function(){l.push(this.textContent.replace(/\,/g,F.ALTERNATE_COMMA))})),t.defaults.push(l.join("&&")),t.width.push(o.attr("data-width").replace("px","")),t.inverse.push(St(o));var n=a(o);t.order.push(n),wt(o)&&t.hideFilters.push(n),t.columnhider=!0}return e.find("select.icon-select").each((function(){var e=$(this);t.iconfilters.push(Tt(e)),t.width.push(e.attr("data-width").replace("px",""));var r=[];e.find("option:selected").each((function(){r.push(this.textContent.replace(/\,/g,F.ALTERNATE_COMMA))})),t.defaults.push(r.join("&&")),t.inverse.push(St(e));var i=a(e);t.order.push(i),wt(e)&&t.hideFilters.push(i),t.ddOperator.push(xt(e).attr("dd-operator"))})),(0,yt.default)(t.defaults),t};var $t=e=>It(e).join(F.ALTERNATE_COMMA);function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.find(t+" .tf-label-name").map((function(){return $(this).text()})).toArray()}var Ot=a(4288),Et=e=>{var t=At(e),a=function(e){if(e.hasClass("filter-container"))return $t(e);var t=[],a=a=>{t.push(...It(e,a))};return a(".selectfilter-element"),a(".userfilter-element"),a(".numberfilter-element"),a(".datefilter-element"),a(".globalfilter-element"),a(".columnhider-element"),a(".iconfilter-element"),t.join(F.ALTERNATE_COMMA)}(e),r={default:t.defaults.join(","),"cell-width":t.width.join(","),inverse:t.inverse.join(","),order:t.order.join(","),labels:a,column:(0,Ot.default)(t.selectfilters),iconfilter:(0,Ot.default)(t.iconfilters),userfilter:(0,Ot.default)(t.userfilters),numberfilter:(0,Ot.default)(t.numberfilters),globalFilter:t.globalfilter,hideColumns:t.columnhider,datefilter:t.datefilters.join(","),ddOperator:t.ddOperator.join(","),ddSeparator:t.ddSeparator.join(F.ALTERNATE_COMMA),hideFilters:t.hideFilters.join(",")};return r.ddSeparator=r.ddSeparator.replace(/ /g,"\\u0020"),r},Pt=e=>{var t="";return e&&e.each((function(){var e=$(this),a=""==e.text()?F.FAKE_EMPTY_SYMBOL:e.text();t+=a.replace(/,/g,F.ALTERNATE_COMMA)+","})),t.slice(0,-1)},Ct=a(38414);const jt=Promise.resolve(!1);var Mt=a(80326);function Jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(a),!0).forEach((function(t){_t(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kt(e,t,a,r,i,o,l){try{var n=e[o](l),s=n.value}catch(e){return void a(e)}n.done?t(s):Promise.resolve(s).then(r,i)}function Ht(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var o=e.apply(t,a);function l(e){kt(o,r,i,l,n,"next",e)}function n(e){kt(o,r,i,l,n,"throw",e)}l(void 0)}))}}function _t(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Nt=class extends V{constructor(){super(F.TABLE_FILTER,"tf"),_t(this,"updateBooleanParams",(e=>{e.params.disabled=(0,Z.default)(e.params.disabled),e.params.hidelabels=(0,Z.default)(e.params.hidelabels),e.params.disableSave=(0,Z.default)(e.params.disableSave),e.params.hideControls=(0,Z.default)(e.params.hideControls),e.params.updateSelectOptions=(0,Z.default)(e.params.updateSelectOptions),e.params.enabledInEditor=(0,Z.default)(e.params.enabledInEditor)}));var e=this;e.tables=[],e.iconTables=[],e.tableColumns=[],e.sortColumns=[],e.sortSelect=null,e.columnParams=[],e.userfilterParams=[],e.numberfilterParams=[],e.datefilterParams=[],e.iconfilterParams=[],e.sortParams=[],e.dateFormatInput=null,e.dateFormatContainer=null,e.tfBody="",e.defaults={},e.widths={},e.inverse={},e.gotBody=!1,e.order={},e.labels={},e.ddSeparators={},e.ddOperators={},e.totalRow=[],e.totalRowInput=null,e.filters={},e.locale=AJS.Meta.get("user-locale").replace("-","_"),e.isCloud=!1,e.macroId=null,e.$context="#table-filter-dialog"}get macroKey(){return"TF"}showDialog(e,t,a,r,i){var o=arguments,l=this;return Ht((function*(){var n=o.length>5&&void 0!==o[5]&&o[5],s=o.length>6?o[6]:void 0,c=l;c.macro=e,c.macroId=e.params.id,Object.prototype.hasOwnProperty.call(e.params,"isNew")||(e.params.isNew=!e.params.datepattern),e.params.datepattern=e.params.datepattern||e.params.dateFormat||p.default.getStoredValue("tf-dateformat")||(0,gt.default)(ke.DEFAULT_DATE_FORMAT),c.showDialogInitParams({isProcessor:n,getPreviewSrc:i}),c.body=$('<div><div class="tablefilter-table-wrapper">'+e.bodyView+"</div></div>"),c.updateBooleanParams(e),c.dialog=$(ot.dialog({params:e.params,constants:{HIDE_PANE:F.HIDE_PANE},previewSrc:c.previewSrc,isProcessorMacro:c.isProcessorMacro,courseBtn:s||!1,isOldAui:c.isOldAjs()})),c.isProcessorMacro?($(".dialog-page-body").html(c.dialog),c.dialog.attr("open","true"),c.dialog.removeClass("aui-layer"),c.dialog.css({height:"100%"})):AJS.dialog2(c.dialog).show();yield new Promise((e=>setTimeout(e,0))),c.id=e.params.id,c.isCloud=!!e.params.isCloud;var u=c.initFilters(e.params),d=yield c.waitForMacroObject(e,r);c.setupFilters(u),c.tables=c.getTableFilterRawTables(),c.iconTables=c.getTableFilterRawIconTables(),c.tableColumns=c.getTableFilterColumns(),c.addColumnFromFiltersToTableColumns(e.params),c.showDialogAfterMacroObject(e,t,a,r,d),yield c.initTotalsTitleTrigger()}))()}initElements(){var e=this;e.saveBtn=e.dialog.find(".tf-insert"),e.cancelBtn=e.dialog.find(".tf-cancel"),e.previewSpinner=e.dialog.find("#preview-spinner"),e.initIframe()}initTotalsTitleTrigger(){var e=this;return Ht((function*(){var t=e;return new Promise((e=>{setTimeout((()=>{var a=$("#macro-param-totalcol",t.$context),r=$("#macro-param-totalColName-div",t.$context),i=$("#total-row-tf-total-dialog",t.$context),o=i.find("#apply-tf-total-dialog"),l=i.find(".field-group > select"),n=$("#macro-param-div-totalRowName",t.$context),s=function(e){var t=this.toArray().some((e=>!!$(e).val()));e.toggleClass("hidden",!t)};a.on("change",s.bind(a,r)),a.trigger("change"),l.length?(o.on("click",s.bind(l,n)),o.trigger("click")):n.addClass("hidden"),e()}))}))}))()}bindInputs(e){var t=this;t.transformElements(e),$("#macro-param-hidePane-group > *",t.$context).on("click",(function(e){e.preventDefault();var t=$(this);t.parent().children().removeClass("aui-button-pane-primary"),t.addClass("aui-button-pane-primary")}));var a=$("#tf-add-filter-dialog",t.$context);a.on("aui-show",(function(e){var a;null!==(a=t.macroObject)&&void 0!==a&&a.hasRawTables()||(e.preventDefault(),t.togglePreviewSidebar())})),$("#tf-filters-container_add-filter",t.$context).on("click",(function(r){r.preventDefault();(0,f.createFilterDialog)({parent:a,filters:t.getFilters(),tableColumns:t.tableColumns,params:e,onAddFilter:(a,r,i)=>{var o=(0,Ct.createDefaultFilterConfig)(a,r,"250");e.datepattern!==i&&(e.datepattern=i,t.updateDateFieldsOnDatePatternChange(e.datepattern,!0)),a===bt.default.DATE&&(o.dateFormat=e.datepattern);var l=t.initOneFilter(o,(new Date).getSeconds());t.makeResizable(l),[bt.default.ICON,bt.default.SELECT].includes(a)&&t.setSelectOptions(l),a===bt.default.HIDER&&t.setColumnHiderOptions(l),(0,ft.gaMacroBrowserFilterAdded)(a,"normal")},detectFilterType:t.detectFilterType.bind(t)}),t.configurePosition(this,$("#tf-add-filter-dialog"))})),this.configureAuiSelects(),ee([ae.CUSTOM_NO_TABLE_MESSAGE_PARAM],e,t.$context)}isOldAjs(){return AJS.version.split(".").shift()<9}configureAuiSelects(){var e=this;this.isOldAjs()&&$("aui-select",this.$context).on("click",(function(){var t=$(this).find("input").first().attr("aria-controls");t&&e.configurePosition(this,$("#".concat(t)))}))}configurePosition(e,t){if(this.isOldAjs()){var a=e.getBoundingClientRect().x,r=t.css("transform");if(r.includes("none"))setTimeout((()=>{t.css({left:a,right:"unset"})}),0);else{var i=r.split(",");i[4]=a+"";var o=i.join(",");t.css({transform:o,left:0,right:"unset"})}}}clearBody(){this.isOldAjs()&&($("body > aui-inline-dialog.old-aui").remove(),$("aui-select > input[aria-controls]",this.$context).each((function(){var e=$(this).attr("aria-controls");$("#".concat(e)).remove()})))}bindButtons(e,t,a){var{isFirstTimeEnter:r,isCloud:i}=e.params,o=this;i||(o.saveBtn.click((function(){o.clearBody(),e.params=o.getParams(o.dialog),t(e,r),AJS.dialog2(o.dialog).hide()})),o.cancelBtn.click((function(){o.clearBody(),o.textAreaEditor=null,AJS.dialog2(o.dialog).hide(),a()})))}initTableFilter(){var e=this;return Ht((function*(){var t=(e.isCloud?$:e.iframe.contentWindow.$)("div.tablefilter-outer-wrapper").first(),a=t.data("tf"),r=yield jt;return a?(e.macroObject=a,Promise.resolve(a)):t.hasClass("error")?(e.macroObject=new dt.default(Dt(Dt(Dt({},e.macro.params),e.getParams(e.dialog)),{},{isAtlaskitRendererEnabled:r})),Promise.resolve(e.macroObject)):new Promise((a=>{t.bind("tf-init",((r,i)=>{var o=t.data("tf");(null==o?void 0:o.macroId)===i&&(e.macroObject=o,a(o))}))}))}))()}initFilters(e){var t=this.dialog.find("#tf-filters-container .sortable-container");this.$filterContainer=t,this.filters=(0,mt.default)(e);var a,{filterConfigs:r}=this.filters,i=[];return r.forEach(((e,t)=>{e.$el=this.initOneFilter(e,t),e.type===bt.default.HIDER&&(a=e.$el),e.type!==bt.default.SELECT&&e.type!==bt.default.ICON||i.push(e.$el)})),this.makeResizable(t),this.makeSortable(t),t.on("aui-hide",(function(e){setTimeout((()=>{$(e.target).parent().find(".tf-button--equal~button").removeClass("show")}),0)})),AJS.$("#tf-filters-container .aui-date-picker",this.$context).datePicker({overrideBrowserDefault:!1,dateFormat:e.datepattern}),{$selectFilters:i,$hiderContainer:a}}setupFilters(e){var{$selectFilters:t,$hiderContainer:a}=e;this.setColumnHiderOptions(a),t.forEach((e=>this.setSelectOptions(e)))}appendFilterHandlers(e,t){var a=e.find("button.tf-button-delete"),r=e.find("button.tf-button-settings"),i=e.find("button.tf-button--equal"),o=e.find("aui-inline-dialog"),l=o.find("button.tf-button-save"),n=o.find("button.tf-button-cancel"),s=e.find(".tf-label-name"),c=e.find(".tf-label-changer.text"),u=e.find(".tf-filter-actions");a.on("click",(t=>{t.preventDefault(),e.remove()})),i.on("click",(e=>{e.preventDefault();var a="true"===i.attr("equal");i.attr("equal",!a+""),(0,ht.gaBrowserTFFilterUpdated)(t,a)})),r.on("click",(function(){r.attr("filter-type")===bt.default.SELECT&&o.find(".macro-param-ddSeparator").first().val(r.attr("dd-separator")),o.find(".macro-param-ddOperator").first().val(r.attr("dd-operator")),u.addClass("show")})),o.on("aui-hide",(()=>{u.removeClass("show")})),l.on("click",(a=>{a.preventDefault(),t===bt.default.SELECT&&(r.attr("dd-separator",o.find(".macro-param-ddSeparator").first().val().replace(/\s/g,"\\u0020")),this.setSelectOptions(e)),r.attr("dd-operator",o.find(".macro-param-ddOperator").first().val()),o.removeAttr("open")})),n.on("click",(e=>{e.preventDefault(),o.removeAttr("open")}));var p=s.css("width"),d=()=>{c.hide(),s.css("display","inline-block")};s.parent().on("dblclick",(e=>{e.preventDefault(),p=s.css("width"),s.hide(),c.css("width",parseInt(p,10)+6+"px"),c.val(s.text()),c.show(),c.trigger("focus")})),c.on("focusout",(()=>{d()})),c.on("keydown",(e=>{13===e.keyCode&&(s.text(c.val()),d()),27===e.keyCode&&(e.stopPropagation(),d())})),c.bind("input",(()=>{var e=(0,st.getTextWidth)(c.val())+6;c.css("width",Math.max(10,e)+"px")}))}appendFilterGAHandlers(e,t){var{HIDER:a,ICON:r,SELECT:i,USER:o,GLOBAL:l,NUMBER:n,DATE:s}=bt.default,c=()=>{var{inverse:a}=Et(e);(0,ht.gaBrowserTFFilterUpdated)(t,(0,Z.default)(a))};[a,r,i].includes(t)?e.find("select").on("change",(function(e,t){t&&(t.selected||t.deselected)&&c()})):[o,l,n,s].includes(t)&&e.find("input.user-filter, input.global-filter, input.number, input.date").each((function(){var e=$(this),t=e.val();e.on("change",(function(){var a=e.val();a!==t&&(t=a,c())}))}))}initOneFilter(e,t){if(e){e.dialogId="".concat(e.type,"-").concat((0,Ge.hashCode)(e.label),"-").concat(t),e.type!==bt.default.SELECT&&e.type!==bt.default.ICON||e.ddOperator||(e.ddOperator="OR");var a=$(ot.filter({types:bt.default,column:e.label,object:e,isOldAui:this.isOldAjs(),index:t}));this.appendFilterHandlers(a,e.type),this.appendFilterGAHandlers(a,e.type),this.$filterContainer.append(a);var r=(0,pe.getLocale)();if(e.type===bt.default.DATE){var i=a.find(".date.from"),o=a.find(".date.to");(0,f.initDatePicker)(i,this.getFilterDateFormat(e.dateFormat),r),(0,f.initDatePicker)(o,this.getFilterDateFormat(e.dateFormat),r)}return a}}getFilterDateFormat(e){return(e||ke.DEFAULT_DATE_FORMAT).replace("yyyy","yy")}initChosenSelect(e){var t=e.data("html"),a=e.parent();e.chosenTF({no_results_text:t?"No matches found":"No matches found. Press \u0027Enter\u0027 to add",placeholder_text_multiple:e.is(".icon-select")?"Select items...":"Click and start typing...",display_selected_options:!1,width:e.data("width"),addUserOption:!e.data("html"),search_contains:!e.data("html"),isHtml:t}).change((()=>{this.addClassForEmptyChoice(a)})),this.addClassForEmptyChoice(a)}initWizard(e){}updateDateFieldsOnDatePatternChange(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$filterContainer.find(".datefilter-element div.range.dates input").each((function(){var t=$(this),a=t.attr("dateformat"),r=t.attr("value"),i=t.attr("locale"),o="";if(r){var l=$.datepicker.parseDate(a,r);o=$.datepicker.formatDate(e,l)}(0,f.initDatePicker)(t,e,i),t.val(o),t.attr("dateformat",e),t.attr("placeholder",e)})),t&&this.dateFormatInput.val(e)}makeSortable(e){e.sortable({cancel:"input,textarea,button,select,option,.chosen-drop,aui-inline-dialog,aui-inline-dialog input",scroll:!0,axis:"y",scrollSensitivity:50,scrollSpeed:10,items:".sortable"})}makeResizable(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0==$("body.content-preview",this.$context).length){var a=t?".chosen-container":".chosen-container, div.tf-resizeable",r=e.find(a);r.length>0&&r.resizable({handles:"e",resize:function(e,t){t.element.hasClass("chosen-container")?t.element.parent().find("select").attr("data-width",t.size.width):t.element.find("input").attr("data-width",t.size.width)}})}}getFilters(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$filterContainer;return At(e)}transformElements(e){var t=this;lt.default.adaptOldParamsTF(e),t.tableColumns.sort(((e,t)=>e.localeCompare(t))),e.ddSeparators=!0,$("#macro-param-div-id",t.$context).hide(),t.dateFormatInput=$("#macro-param-datepattern",t.$context),r.default.initDateFormatInput(e,null,t.onDatePatternChange.bind(t,t.dateFormatInput,e),t.$context),r.default.initCheckBoxesNewTFParams(e,t.$context),this.setupSortElements(e),this.setupSparklineElements(e),this.setupFixedRowsElements(e),this.setupTotalRowElements(e),this.totalRowContainer=$("#macro-param-div-totalrow-dialog",t.$context),(0,f.createTotalRowDialog)({$container:this.totalRowContainer,tableFilter:t}),(0,f.createWorklogDialog)({$container:$("#macro-param-div-worklog-dialog",t.$context),worklog:e.worklog}),n.initSelects(ut(),e,F.TABLE_FILTER,t.$context),r.default.initFiltersDisplayMode(e.hidePane,F.HIDE_PANE.PANEL,!0===e.isNew),$(".search-field input",t.$context).one("focus",(function(){$(".search-choice").css("max-width",$(".chosen-container").width()-40)}))}setupSortElements(e){var t=this,a=[],r=$("#macro-param-sort",t.$context);this.sortColumns=[],$.each(this.tableColumns,(function(e,a){$.trim(a).length&&(t.sortColumns.push(a+" "),t.sortColumns.push(a+" "))})),e.sort&&(e.sort=e.sort.replace(/ \(\u200DDesc\)/g," ").replace(/ \(\u200DAsc\)/g," "),a=e.sort.split(",")),$.each(a,(function(e,a){var r=$.trim(a.replace(F.ALTERNATE_COMMA_REGEXP,","));r.length&&-1===$.inArray(r,t.sortColumns)&&t.sortColumns.push(r)})),t.sortColumns.sort(((e,t)=>e.localeCompare(t))),t.sortSelect=t.createSelect(r,t.sortColumns,a,t.sortParams,null,!0),t.chosenUpdated||(v.default.sortSelectedOptions(t.sortSelect,t.sortParams),t.chosenUpdated=!0)}setupSparklineElements(e){var t=$("#macro-param-sparkline",this.$context),a=$("#macro-param-sparkName",this.$context);a.val("Sparkline");var r=a.parent();r.addClass("tf-always-hidden"),e.sparkline&&"false"!==e.sparkline&&(t.prop("checked",!0),r.removeClass("tf-always-hidden"),a.val(e.sparkName)),t.change((function(){r.toggleClass("tf-always-hidden",!U(t))}))}setupFixedRowsElements(e){var t=$("#macro-param-limitHeight",this.$context),a=$("#macro-param-heightValue",this.$context),r=a.parent();r.addClass("tf-always-hidden"),e.limitHeight="true"==e.limitHeight?1:e.limitHeight,e.limitHeight&&(t.val(e.limitHeight),r.removeClass("tf-always-hidden"),a.val(e.heightValue)),t.bind("keyup keydown change",(function(){r.toggleClass("tf-always-hidden",t.val()<=0)}))}setupTotalRowElements(e){var t,a=$("#macro-param-totalrow",this.$context);this.totalRowInput=a;var r=$("#macro-param-div-thousandSeparator",this.$context),i=$("#macro-param-div-totalRowName",this.$context);this.totalRow=(null===(t=e.totalrow)||void 0===t?void 0:t.split(","))||[],a.change((function(){a.val().replace(/,/g,"")?(i.removeClass("hidden"),r.removeClass("tfac-hidden-totalrow"),r.addClass("tfac-shown-totalrow")):(i.addClass("hidden"),r.addClass("tfac-hidden-totalrow"),r.removeClass("tfac-shown-totalrow"))})),e.totalrow&&e.totalrow.replace(/,/g,"")?r.addClass("tfac-shown-totalrow"):(i.addClass("hidden"),r.addClass("tfac-hidden-totalrow"))}addColumnFromFiltersToTableColumns(e){var t=e=>{var t;return null!==(t=null==e?void 0:e.split(","))&&void 0!==t?t:[]},{column:a,userfilter:r,numberfilter:i,datefilter:o,iconfilter:l}=e,n=t(a),s=t(r),c=t(i),u=t(o),p=t(l),d=$.merge([],n);$.merge(d,s),$.merge(d,u),$.merge(d,c),$.merge(d,p),d.forEach((e=>{var t=$.trim(e.replace(F.ALTERNATE_COMMA_REGEXP,",")).replace(F.FAKE_EMPTY_SYMBOL,"");t.length&&-1===$.inArray(t,this.tableColumns)&&this.tableColumns.push(t)}))}onDatePatternChange(e,t){var a=e.val();t.datepattern=a,this.updateDateFieldsOnDatePatternChange(a)}getTableFilterRawTables(){return this.macroObject?(0,pt.copyObject)(this.macroObject.rawTables):void 0}getTableFilterTables(){var e;return null===(e=this.macroObject)||void 0===e?void 0:e.tables}getTableFilterRows(){var e;return null===(e=this.macroObject)||void 0===e?void 0:e.rows}getTableFilterColumns(){return this.macroObject&&(0,pt.copyObject)(this.macroObject.columns)}getTableFilterRawIconTables(){return this.macroObject&&v.default.getTablesRowsValues(this.macroObject.rows,v.default.visualType)}detectFilterType(e){var t;return null===(t=this.macroObject)||void 0===t?void 0:t.detectFilterType(e)}setColumnHiderOptions(e){if(e){var t=[],a=e.find("select");this.initChosenSelect(a),this.makeResizable(e,!0),a.find("option").each((function(){t.push($(this).hasClass("tf-empty-option")?"":(0,Mt.clearString)(this.textContent))})),$.each(this.getTableFilterColumns(),(function(e,r){if(-1==$.inArray(r,t)){var i="",o=r;""==r&&(i=' class="tf-empty-option"',o="-Empty-"),a.append($("<option"+i+"></option>").text(o))}})),a.trigger("chosen:updated").change()}}getDdSeparator(e){var t=e.find("button.tf-button-settings").first().attr("dd-separator");return(0,nt.decodeUnicode)(t)}getSelects(e){return e.find("select.select-filter, select.icon-select").filter((function(){return"none"!=$(this).parent().css("display")}))}setSelectOptions(e){var t=this,a=this.getParams(),r=t.getSelects(e);r.find("option:not(:selected)").remove();var i=e.parent().find(".filter-container.sortable").filter((function(){return"none"!==this.style.display})).not(".columnhider-element");r.each((function(){var r=$(this);t.initChosenSelect(r);var o=r.attr("name").toLocaleLowerCase(),l=r.data("html"),n=l?"":t.getDdSeparator(e),s=t.getUpdatedDropdownOptions(Dt({filterContainers:i,selectParent:e,columnTitle:o,ddSeparator:n,isIcon:l,isAND:"OR"!==a.isOR,shouldUpdateSelectOptions:a.updateSelectOptions},t.getSelectedDropdownOptions({select:r,isIcon:l}))),c="";$.each(s,(function(e,t){var a="",r=t;""==t&&(a=' class="tf-empty-option"',r="-Empty-"),c+=$("<option"+a+"></option>").text(r)[0].outerHTML})),r.append(c),r.trigger("chosen:updated").change()})),t.makeResizable(e,!0)}getSelectedDropdownOptions(e){var{select:t,isIcon:a}=e;return(0,f.getSelectedDropdownOptions)({select:t,isIcon:a})}getUpdatedDropdownOptions(e){var{filterContainers:t,selectParent:a,columnTitle:r,ddSeparator:i,shouldUpdateSelectOptions:o,isIcon:l,isAND:n,options:s,values:c}=e;return(0,f.getUpdatedDropdownOptions)({filterContainers:t,selectParent:a,columnTitle:r,ddSeparator:i,shouldUpdateSelectOptions:o,isIcon:l,isAND:n,options:s,values:c,lookForCheckboxes:!0,tables:this.getTableFilterTables(),rows:this.getTableFilterRows(),rawIconTables:this.getTableFilterRawIconTables(),rawTables:this.getTableFilterRawTables()})}createSelect(e,t,a,r,i,o){e.hide(),$.each(a,(function(e,t){r.push($.trim(t))})),$.each(a,(function(e,t){a[e]=$.trim(t.replace(F.ALTERNATE_COMMA_REGEXP,",")).replace(F.FAKE_EMPTY_SYMBOL,"")}));var l=$("<select multiple></select>");$.each(t,(function(t,r){var i=-1==$.inArray(r,a)?"":'selected="selected" ',o="";if(e.is("#macro-param-sort")){var n=r;n=-1!=n.indexOf("")?n.replace("",""):n.replace("",""),-1!=$.inArray(n,a)&&(o='style="display: none"')}l.append($("<option "+i+o+"></option>").text(r))})),e.after(l),l.chosenTF({no_results_text:o?"No matches found":"No matches found. Press \u0027Enter\u0027 to add",placeholder_text_multiple:"Click and start typing...",width:"100%",display_selected_options:!1,addUserOption:!o}).change((function(t,a){if(null!=a.selected){if(l.find("option").filter((function(){return this.textContent===a.selected})).prop("selected",!0),""==(s=a.selected)&&(s=F.FAKE_EMPTY_SYMBOL),r.push(s.replace(/\,/g,F.ALTERNATE_COMMA)),e.is("#macro-param-sort")){c=-1!=(c=a.selected).indexOf("")?c.replace("",""):c.replace("",""),l.find("option").filter((function(){return this.textContent==c})).hide(),l.trigger("chosen:updated");for(var o=l.parent().find("ul.chosen-choices"),n=r.length-1;n>=0;n--)o.prepend(o.find("li").filter((function(){return this.textContent==r[n].replace(F.ALTERNATE_COMMA_REGEXP,",")})))}}else if(null!=a.deselected){var s;if($(this).find("option").filter((function(){return this.textContent==a.deselected})).prop("selected",!1),""==(s=a.deselected)&&(s=F.FAKE_EMPTY_SYMBOL),r.splice($.inArray(s.replace(/\,/g,F.ALTERNATE_COMMA),r),1),e.is("#macro-param-sort")){var c;c=-1!=(c=a.deselected).indexOf("")?c.replace("",""):c.replace("",""),l.find("option").filter((function(){return this.textContent==c})).show(),l.trigger("chosen:updated");for(o=l.parent().find("ul.chosen-choices"),n=r.length-1;n>=0;n--)o.prepend(o.find("li").filter((function(e){return this.textContent==r[n].replace(F.ALTERNATE_COMMA_REGEXP,",")})))}}e.val(r.join(",")),i&&i()}));var n=v.default.sortSelectedOptions(l,r);return n.sortable({tolerance:"pointer",cursor:"move",helper:"clone",items:".search-choice",stop:function(){r=[],n.find(".search-choice").each((function(){var e=this.textContent;""==e&&(e=F.FAKE_EMPTY_SYMBOL),r.push(e.replace(/\,/g,F.ALTERNATE_COMMA))})),e.val(r.join(","))}}),l}isSelectHasSelectedValue(e,t){return-1!==(e.val()||"").indexOf(t)}updateColumns(e){var t=this;function a(e,a){if(-1==$.inArray(e,t.sortColumns)){t.sortColumns.push(e);var r="";return t.isSelectHasSelectedValue(t.sortSelect,a)&&(r=' style="display:none"'),t.sortSelect.append($("<option"+r+"></option>").val(e).text(e)),!0}}t.body=e,function(e){t.body=e;var r=!1,i=!1;(0,Y.default)((0,ie.extractTables)(e)),t.tables=v.default.getTables(e),t.iconTables=v.default.getTables(e,v.default.visualType),$.each(v.default.getRawColumns(t.tables),(function(e,o){if(-1===$.inArray(o,t.tableColumns)&&(r=!0,t.tableColumns.push(o)),$.trim(o).length){var l=o+" ",n=o+" ";i=a(l,n)||i,i=a(n,l)||i}})),r&&t.tableColumns.sort(((e,t)=>e.localeCompare(t)));i&&(v.default.sortSelectOptions(t.sortSelect),t.sortSelect.trigger("chosen:updated"),v.default.sortSelectedOptions(t.sortSelect,t.sortParams))}(e),(0,f.createTotalRowDialog)({$container:this.totalRowContainer,tableFilter:this})}handleIframeLoad(){var e=this;return Ht((function*(){yield e.initTableFilter(),e.setSelectOptions($("#tf-filters-container"))}))()}getActivePane(){return this.dialog.find(".active-pane")}addClassForEmptyChoice(e){e.find(".search-choice:contains("+"-Empty-"+")").addClass("tf-empty-option")}getParams(){var e=super.getParams(),t=$("#macro-param-sort",this.$context).parent();e.sort=Pt(t.find(".search-choice"));var a,r=$("#macro-param-hidePane-group",this.$context).find(".aui-button-pane-primary").first();0!==r.length&&(e.hidePane="hidden"===(a=r.prop("id").replace("macro-param-filter-",""))?F.HIDE_PANE.HIDDEN:"header"===a?F.HIDE_PANE.HEADER:F.HIDE_PANE.PANEL);var i=Et(this.$filterContainer);return Object.assign(e,i),e}};class Rt extends Xe{constructor(){super({containerId:"#table-filter-macro"}),this.macroObject=new Nt}onSave(e,t){Lt(e),super.onSave(e,t)}sendGa(e,t){e.isFirstTimeEnter||((0,ft.gaMacroBrowserMacroTFAdded)(),E(e)),(0,ht.gaFilterSaveChangesEditor)(e,t)}initMacroParams(e){super.initMacroParams(e),e.params.isEditor=!0,e.params.pageId=v.default.getContentId()}getPreview(e,t){return Lt(e),t?super.getPreview(e,t):new Promise((t=>super.getPreview(e,t)))}}function Lt(e){~["true","Dynamic"].indexOf(e.params.numbering)&&(e.params.numbering="Dynamic Ascending")}function Bt(e){(new Rt).showDialog(e)}a(51014);var Ft=a(57853),Ut=function(){this.tables=[],this.tableColumns=[],this.columnSelect=null,this.rowSelect=null,this.aggregateSelect=null,this.tfBody="",this.typeParams=[],this.columnParams=[],this.rowParams=[],this.aggregateParams=[],this.sortColumns=[],this.gotBody=!1};function qt(e){return e?$.trim(e.replace(F.FAKE_EMPTY_SYMBOL,"")):""}function zt(e,t,a,r,i){e.hide();var o=$("<select multiple></select>"),l=a.map((e=>e.replace(F.FAKE_EMPTY_SYMBOL,""))).map($.trim);return t.forEach((function(e){var t=-1===l.indexOf(e)?"":'selected="selected" ';o.append($("<option "+t+"></option>").text(e))})),e.after(o),Gt(o,e,a,r,i),o}function Gt(e,t,a,r,i){e.chosenTF({no_results_text:r?"No matches found. Press \u0027Enter\u0027 to add":"No matches for",placeholder_text_multiple:"Click and start typing...",width:"100%",display_selected_options:!1,addUserOption:r}).change((function(r,o){if(void 0!==o.selected){e.find("option").filter((function(){return this.textContent==o.selected})).prop("selected",!0);var l=o.selected;""==l&&(l=F.FAKE_EMPTY_SYMBOL),a.push(l)}else if(null!=o.deselected){e.find("option").filter((function(){return this.textContent===o.deselected})).prop("selected",!1);var n=o.deselected;""==n&&(n=F.FAKE_EMPTY_SYMBOL),a.splice($.inArray(n,a),1)}if("macro-param-column"===t.attr("id")){var s=i.sortSelect.parent();null!=e.val()&&e.val().length>1&&!s.hasClass("tf-always-hidden")?s.addClass("tf-always-hidden"):(null==e.val()||e.val().length<=1)&&s.removeClass("tf-always-hidden")}i.updateSortOptions(),t.val(a.join(F.ALTERNATE_COMMA))}));var o=v.default.sortSelectedOptions(e,a);o.sortable({tolerance:"pointer",cursor:"move",helper:"clone",items:".search-choice",stop:function(){a.length=0,o.find(".search-choice").each((function(){var e=this.textContent;""==e&&(e=F.FAKE_EMPTY_SYMBOL),a.push(e)})),t.val(a.join(F.ALTERNATE_COMMA))}}),t.val(a.join(F.ALTERNATE_COMMA))}Ut.prototype.getMacroDetails=function(e){this.gotBody=!0,this.tfBody=e;var t=$('<div class="original-table">'+e+"</div>");this.tables=v.default.getTables(t,v.default.textType,"tf-numbering"),this.tableColumns=v.default.getColumns(this.tables)},Ut.prototype.transformElements=function(e){var t={vvpattern:{v:{title:"Number"},p:{title:"Percentage"},vp:{title:"Number (Percentage)"},pv:{title:"Percentage (Number)"}},decimalseparator:{[F.SEPARATORS.LONG.POINT]:{title:"Point (.)"},[F.SEPARATORS.LONG.COMMA]:{title:"Comma (,)"}},separator:{"":{title:""},[F.SEPARATORS.LONG.SPACE]:{title:"Space ( )"},[F.SEPARATORS.LONG.POINT]:{title:"Point (.)"},[F.SEPARATORS.LONG.COMMA]:{title:"Comma (,)"},[F.SEPARATORS.LONG.APOSTROPHE]:{title:"Apostrophe (\u0027)"}},dateaccuracy:{Day:{title:"Day"},None:{title:"None"},Hour:{title:"Hour"},Week:{title:"Week"},Month:{title:"Month"},Quarter:{title:"Quarter"},Year:{title:"Year"}},type:{"":{title:""},Count:{title:"Count"},Sum:{title:"Sum"},Average:{title:"Average"},Multiplication:{title:"Multiplication"},Max:{title:"Max"},Min:{title:"Min"},Literal:{title:"Literal"},__multiSelect:!0},showrawdata:{false:{title:"Hide tables"},true:{title:"Show all content"},all:{title:"Hide all content"}}};x(),(0,P.gaBrowserAppendRateEvent)("Pivot"),$("#macro-param-div-id").hide();var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===e?[]:e.split(F.ALTERNATE_COMMA).map((e=>$.trim(e)))};if(this.columnParams=a(e.column),this.rowParams=a(e.row),this.aggregateParams=a(e.aggregation),this.typeParams=a(e.type||"Count"),e.version||2===this.columnParams.length&&(this.rowParams=[this.columnParams[1]],this.columnParams.length=1),e.sort&&(e.sort=e.sort.replace(" (Desc)"," ").replace(" (Asc)"," ").split(",")),!e.version||1==+e.version){e.version=2;var i=this.typeParams.at(-1);"Count"===i||0===this.aggregateParams.length?e.sort=i+" ":e.sort=i+" of "+this.aggregateParams.at(-1)+" "}Object.prototype.hasOwnProperty.call(e,"isNew")||(e.isNew=!e.datepattern),function(e){(e.decimalSeparator||e.decimalseparator)&&$("#macro-param-decimalseparator").val(e.decimalSeparator||e.decimalseparator);e.decimals&&$("#macro-param-decimals").val(e.decimals);e.separator&&$("#macro-param-separator").val(e.separator);$("#macro-param-showrawdata").val(e.showrawdata||"false"),"true"===e.hidePane&&$("#macro-param-hidePane").prop("checked",!0);e.ddSeparator&&$("#macro-param-ddSeparator").val(e.ddSeparator);e.dateaccuracy&&$("#macro-param-dateaccuracy").val(e.dateaccuracy);"true"===e.hideTotal&&$("#macro-param-hideTotal").prop("checked",!0);e.numberaccuracy&&$("#macro-param-numberaccuracy").val(e.numberaccuracy);"true"===e.cumulative&&$("#macro-param-cumulative").prop("checked",!0);"true"===e.plainText&&$("#macro-param-plainText").prop("checked",!0);e.literalseparator&&$("#macro-param-literalseparator").val(e.literalseparator);e.tabs&&$("#macro-param-tabs").prop("checked",!0);e.vvpattern&&$("#macro-param-vvpattern").val(e.vvpattern);(0,Z.default)(e.customNoTableMsg)&&$("#macro-param-customNoTableMsg").prop("checked",!0);e.customNoTableMsgText&&$("#macro-param-customNoTableMsgText").val(e.customNoTableMsgText);(0,Z.default)(e.collapseAll)&&$("#macro-param-collapseAll").prop("checked",!0);r.default.initCheckBoxInContainer(e,$(document).find("#macro-insert-container form"),"#macro-param-hideLongTitle","hideLongTitle")}(e);var o=[...this.columnParams,...this.rowParams,...this.aggregateParams].map(qt).reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),[]);o.sort(((e,t)=>e.localeCompare(t))),this.columnSelect=zt($("#macro-param-column"),o,this.columnParams,!0,this),this.rowSelect=zt($("#macro-param-row"),o,this.rowParams,!0,this),this.aggregateSelect=zt($("#macro-param-aggregation"),o,this.aggregateParams,!0,this),this.sortSelect=$("#macro-param-sort"),this.sortSelect.chosenTF(),this.tableColumns=o,$(".search-field input").one("focus",(function(){$(".search-choice").css("max-width",$(".chosen-container").width()-40)})),r.default.initDateFormatInput(e),r.default.initDecimalPlacesInput(e),g.initMacroBrowserWorklogDialog(e.worklog),v.default.inputAutocomplete($("#macro-param-literalseparator"),null,[{label:"None",value:""},{label:"Comma",value:", "},{label:"Semicolon",value:"; "},{label:"Space",value:"\\u0020"},{label:"Line break",value:"\\n"},{label:"Bulleted list",value:"<ul>"},{label:"Numbered list",value:"<ol>"}]);var l=$("#macro-param-type");l.attr("multiple","multiple"),l.find("option").each(((e,t)=>{var a=$(t);a.prop("selected",this.typeParams.includes(a.val()))})),n.initSelects(t,e,F.PIVOT),Gt(l,$("<input>"),this.typeParams,!1,this),function(){$("#macro-param-div-column").before(m().pivotTabs());var e=Kt(Wt),t=Kt(Vt);$(".tf-macrobrowser-tabs a").attr("disabled","disabled");var a=$("#tab-columns"),r=$("#tab-options"),i=$("#tab-columns, #tab-options");a.click((function(a){Yt(i,a.target),e.show(),t.hide()})),r.click((function(a){Yt(i,a.target),t.show(),e.hide()})),a.trigger("click")}(),this.updateSortOptions(e.sort);var s=$("#macro-param-div-literalseparator");-1===this.typeParams.indexOf("Literal")&&s.addClass("tf-always-hidden"),l.change((()=>{-1===this.typeParams.indexOf("Literal")?s.addClass("tf-always-hidden"):s.removeClass("tf-always-hidden")})),l.on("chosen:showing_dropdown",(function(){$(".macro-input-fields").animate({scrollTop:$(".macro-input-fields form.aui").height()},750)})),2==+e.version&&($("#macro-param-literalseparator").val(", "),e.version=3),ee([ae.CUSTOM_NO_TABLE_MESSAGE_PARAM],e)},Ut.prototype.updateSortOptions=function(e){var t=e||this.sortSelect.val();this.sortColumns=[],this.sortSelect.empty().append('<option selected="selected" value="false"></option>').append('<option value="-as_is-">'+"Preserve the original sorting order"+"</option>");var a=(e,t,a)=>{var r=[];return $.each(e,((e,i)=>{0!==e&&i[t]!=a||r.push(i)})),r},r=e=>{$.trim(e).length&&[" "," "].forEach((t=>{var a=e+t;this.sortColumns.includes(a)||this.sortColumns.push(a)}))},i=(e,t,o)=>{var l=(0,Ft.default)(o,this.rowParams[t]);null!=l?$.each(o,((n,s)=>{0!==n&&(t+1<this.rowParams.length?(i(e+" "+s[l],t+1,a(o,l,s[l])),i(e,t+1,a(o,l,s[l]))):r(e+" "+s[l]))})):t+1<this.rowParams.length&&i(e,t+1,o),r(e)};this.columnParams.length<=1&&(r(this.columnParams[0]),$.each(this.tables,((e,t)=>{$.each(this.typeParams,((e,a)=>{this.rowParams.length>0?"Count"===a?i(a,0,t):$.each(this.aggregateParams,((e,r)=>{i(a+" of "+r,0,t)})):"Count"===a?r(a):$.each(this.aggregateParams,((e,t)=>{r(a+" of "+t)}))}))}))),$.each(this.sortColumns.sort(((e,t)=>e.localeCompare(t))),((e,t)=>{this.sortSelect.append($("<option></option>").val(t).text(t))})),this.sortSelect.val(t),this.sortSelect.trigger("chosen:updated")},Ut.prototype.addTableColumn=function(e){var t=qt(e);return-1===this.tableColumns.indexOf(t)&&(this.tableColumns.push(t),!0)},Ut.prototype.updateColumns=function(e){this.body=e;var t=e=>{(0,Y.default)(e,Q.TABLE_ATTRIBUTE_READY),this.tables=v.default.getTables(e,v.default.textType,"tf-numbering");var t=!1;v.default.getRawColumns(this.tables).forEach((e=>{this.addTableColumn(e)&&(t=!0,this.columnSelect.append($("<option></option>").val(e).text(e)),this.rowSelect.append($("<option></option>").val(e).text(e)),this.aggregateSelect.append($("<option></option>").val(e).text(e)))})),t&&(this.tableColumns.sort(((e,t)=>e.localeCompare(t))),v.default.sortSelectOptions(this.columnSelect),v.default.sortSelectOptions(this.rowSelect),v.default.sortSelectOptions(this.aggregateSelect),this.columnSelect.trigger("chosen:updated"),this.rowSelect.trigger("chosen:updated"),this.aggregateSelect.trigger("chosen:updated"),v.default.sortSelectedOptions(this.columnSelect,this.columnParams),v.default.sortSelectedOptions(this.rowSelect,this.rowParams),v.default.sortSelectedOptions(this.aggregateSelect,this.aggregateParams))};r.default.bindPreview(e,t),(0,z.addIframe)(e,"original-table",(e=>{t(e.parent())})),t(e)};var Wt=["column","row","aggregation","type"],Vt=["sort","decimalseparator","separator","decimals","showrawdata","hidePane","ddSeparator","vvpattern","datepattern","dateaccuracy","numberaccuracy","cumulative","worklog","hideTotal","plainText","tabs","literalseparator","hideLongTitle",ae.CUSTOM_NO_TABLE_MESSAGE_PARAM,"customNoTableMsgText",ae.COLLAPSE_ALL_PARAM];function Kt(e){return $(e.map((e=>"macro-param-div-"+e)).map((e=>document.getElementById(e))))}function Yt(e,t){e.removeClass("active-tab"),$(t).addClass("active-tab")}var Qt=Ut,Xt=a(96803);var Zt,ea=!1,ta=function(){this.pivotTableMacro=new Qt,this.pivotTableMacro.storedParams={},this.pivotTableMacro.isSaveClick=!1,this.pivotTableMacro.isSetParams=!1,this.pivotTableMacro.hasTable=!1};ta.prototype.getMacroDetailsFromSelectedMacro=function(e,t){ea=!1,Zt.bodyView=ze.convertStorageToView({body:t.body}),Zt.pivotTableMacro.getMacroDetails(Zt.bodyView),ze.showTabsParam(Zt.bodyView),Zt.pivotTableMacro.hasTable=Zt.bodyView.indexOf("table")>0},ta.prototype.updateMacroParametersForPreview=e=>(function(){const e=AJS.MacroBrowser?.dialog?.activeMetadata?.formDetails.body;if(e){const t=e.content;t&&(0,Le.hasMacroInEditorFormat)(t)&&(e.content=(0,Re.syncConvertEditorToStorage)(t))}}(),e),ta.prototype.postPreview=function(e){var t=Zt.pivotTableMacro;t.updateColumns($(e).contents().find(".original-table")),t.isSaveClick=!1,t.isSetParams=!1},ta.prototype.beforeParamsSet=function(e){var t=Zt.pivotTableMacro;return t.gotBody||Zt.getMacroDetailsFromSelectedMacro(null,{body:tinymce.activeEditor.selection.getContent()}),t.gotBody=!1,t.transformElements(e),e.id=(new Date).getTime()+"_"+(0,Ge.hashCode)(t.tfBody),ze.showTabsParam(Zt.bodyView),t.isSaveClick=!1,t.isSetParams=!0,e},ta.prototype.manipulateMarkup=function(e){return Zt.pivotTableMacro.isSaveClick=!0,Zt.pivotTableMacro.isSetParams=!1,e},ta.prototype.beforeParamsRetrieved=function(e){var t=Zt.pivotTableMacro;return ea||(t.columnSelect.trigger("chosen:updated"),t.rowSelect.trigger("chosen:updated"),t.aggregateSelect.trigger("chosen:updated"),v.default.sortSelectedOptions(t.columnSelect,t.columnParams),v.default.sortSelectedOptions(t.rowSelect,t.rowParams),v.default.sortSelectedOptions(t.aggregateSelect,t.aggregateParams),ea=!0),e.type=t.typeParams.join(""),t.isSaveClick&&(e.isFirstTimeEnter||((0,Xt.gaMacroBrowserPivotAdded)(),E(e)),(0,Xt.gaPivotSaveChangesEditor)(e,t.storedParams)),t.isSetParams&&(t.storedParams=e||{}),delete e.isNew,e};var aa=Zt=new ta,ra=a(93832),ia=a(53941),oa=a.n(ia),la=a(19931),na=a(68183),sa=a(57281),ca=a(9685);function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(a),!0).forEach((function(t){da(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function da(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ma extends ra.default{constructor(e){var t,a="template"===AJS.params.contentType,r=e.params||{},i=function(e){var{macroHeight:t,disableEdit:a,autoSave:r,showSource:i=null,saveAllVersions:o}=e;return{macroHeight:t,disableEdit:a,showSource:i,autoSave:r,saveAllVersions:o}}(r),{dialog:o,isInsert:l}=function(e){e.id=e.id||"spreadsheet"+(new Date).getTime();var t=!(e.attachment||e.data),a=$(oa().macroDialog({isInsert:t,params:e,isMacroDisabled:e.isMacroDisabled}));return AJS.dialog2(a).show(),{dialog:a,isInsert:t}}(r),n=v.default.getContentId(),s=AJS.params.spaceKey,c={pageId:n,spaceKey:s,originStatus:AJS.params.newPage?"draft":"current"};super({...r,settings:i,pageId:n,spaceKey:s,exit:()=>this.onCancel(),save:function(){return t.saveAttachment(...arguments)},isExistingMacro:e.isExistingMacro,isTemplate:a,editable:!0},o.find("iframe"),c),t=this,da(this,"ga",new sa.default),this.isTemplate=a,this.isInsert=l,this.dialog=o,this.macro=e,this.title=r.attachment,this.saved=!1}init(){this.dialog.find("button.cancel").one("click",(()=>{var{params:e={},isExistingMacro:t}=this.macro;t||this.title!==e.attachment||e.data?this.onSave():this.onCancel()})),super.init()}onReady(e){var t=this.ga;e.on("file:open",(()=>t.openMacro())).on("file:export",(()=>t.exportBrowser())).on("file:import",(()=>t.importBrowser())).on("settings:save",this.saveSettings.bind(this)).on("closeDialog",this.onSave.bind(this));var a=this.dialog.find("button.save");a.off("click.spe"),a.on("click.spe",(()=>{var e=this.spreadsheetModule;e&&(this.store.dispatch((0,na.setExitOnSave)()),e.trySave())})),a.removeAttr("disabled")}saveSettings(e){var{spreadsheet:{name:t}}=e;this.macro.params=pa({attachment:t},this.getSettings())}saveAttachment(e){var t,{dataToPersist:a}=e,{context:r,spreadsheet:i,render:o}=a;return this.isTemplate?(this.macro.params={data:i.data},t=new Promise((e=>setTimeout(e,0)))):(this.macro.params=pa({attachment:i.name},this.getSettings()),t=(0,la.storeAttachment)({context:r,data:i.data,filename:i.name,minorEdit:(0,ca.selectAutoSave)(this.store.getState())}).then((e=>{var t=(0,la.storeAttachment)({context:r,data:o.data,filename:o.name,minorEdit:!0});return Promise.all([Promise.resolve(e),t])})).then((e=>{var[t]=e;return t}))),t.then((e=>{super.updateData({context:r,data:JSON.parse(i.data)}),this.store.dispatch((0,na.setIsExistingMacro)()),e&&this.onSaveAttachmentSuccess(e),this.saved=!0}))}onSave(){var e=this.spreadsheetModule;this.isInsert?this.ga.macroBrowserMacroSheetAdded(e.data.length):(this.ga.updateMacro(e.data.length),this.title!==this.macro.params.attachment&&this.ga.saveAsMacro()),e.destroy(),tinymce.confluence.macrobrowser.macroBrowserComplete(this.macro),AJS.dialog2(this.dialog).hide()}onCancel(){this.saved&&this.ga.updateMacro(this.spreadsheetModule.data.length),tinymce.confluence.macrobrowser.macroBrowserCancel(),AJS.dialog2(this.dialog).hide()}}var fa=ma,ha=a(44510),ba=a(24037);var ga=class extends fa{constructor(e){!function(e){e.body=e.body||We(),e.bodyHtml=e.body,e.bodyView=ze.convertStorageToView(e,{renderBody:!0})}(e),function(e){e.params??={},e.params.hasBody=!0,e.params.showSource=ha.OPTION_SHOW_SOURCE_DEFAULT}(e),super(e),this.ga=new ba.default}initBody(){const{dialog:e,macro:{bodyView:t}}=this,a=e.find("#preview-content iframe")[0],r=a?.contentDocument;if(r){r.write(t),r.close();const e=()=>this.spreadsheetModule.initBody($(r.body));e(),a.onload=e}}};var va=a(28234),ya=["params"];function Sa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(a),!0).forEach((function(t){Ta(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ta(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var xa=function(e){var t,a;e.isExistingMacro=!(null===(t=e.params)||void 0===t||!t.attachment)||!(null===(a=e.params)||void 0===a||!a.data),new fa(e).init()},Aa=function(e){var{params:t}=e,a=function(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,ya);(0,va.isSpreadsheetBodyMacroDisabled)().then((e=>{new ga(wa(wa({},a),{},{params:wa(wa({},t),{},{isMacroDisabled:e})})).init()}))},$a=(a(30869),a(39972),a(36349),a(162)),Ia=a.n($a),Oa=a(46326),Ea=a.n(Oa),Pa=(a(29902),a(50784));function Ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ja(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(a),!0).forEach((function(t){Ma(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ca(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ma(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ja extends Pa.default{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.items=ja(ja({},t),e)}set(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1},a=Object.entries(e).reduce(((e,a)=>{var[r,i]=a;return this.items[r]===i||(this.items[r]=i,t.silent||e.push(["change:"+r,{current:i}])),e}),[]);t.silent||(a.forEach((e=>{this.emit.apply(this,e)})),this.emit("change",this))}has(e){return!!this.items[e]}get(e){return this.items[e]}toJSON(){return Object.assign({},this.items)}}var Da=Ja,ka=a(84109),Ha=a(29261),_a=a.n(Ha);function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,a=""]=e.split("#");return{source:t,range:a}}var{rangeToCoordinats:Ra}=a(10135),La=/^[A-Z]+[0-9]+(:[A-Z]+[0-9]+)?$/;function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!e||!!La.test(e.trim())&&function(e){var[t,a]=e;return t[0]<=a[0]&&t[1]<=a[1]}(Ra(e))}var Fa=a(10135),Ua=a(25414),qa=a(4913);const za="_#_$-current-$_#_",Ga="template",Wa="draft",Va=["current",Wa];var Ka=a(41028),Ya={expand:"space,history",status:Va};function Qa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(a),!0).forEach((function(t){Za(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Za(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function er(e,t,a,r,i,o,l){try{var n=e[o](l),s=n.value}catch(e){return void a(e)}n.done?t(s):Promise.resolve(s).then(r,i)}function tr(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var o=e.apply(t,a);function l(e){er(o,r,i,l,n,"next",e)}function n(e){er(o,r,i,l,n,"throw",e)}l(void 0)}))}}var ar="change",rr={page:"",attachment:"",source:"",sheetList:[],attachmentList:[],range:""},ir="#macro-param-attachment-name",or="#macro-param-source";function lr(e,t){var a=Object.keys(t),r={list:a};return a.length>0&&(r.selected=a[0]),e(r)}function nr(e,t,a){return sr.apply(this,arguments)}function sr(){return sr=tr((function*(e,t,a){return(yield e.getAttachmentsByWikiLink(t,a)).filter(mr).reduce(fr,[])})),sr.apply(this,arguments)}function cr(e){return ur.apply(this,arguments)}function ur(){return(ur=tr((function*(e){var t,a=yield(0,ka.default)(e.render.downloadLink);return t=a.data,$("<div>".concat(Ua.default.sanitize(t),"</div>")).find("h3").toArray().reduce((function(e,t){var a=$(t).text();if(null!=t&&t.nextElementSibling){var r=t.nextElementSibling.outerHTML;r&&(e[a]={view:r,size:pr(r)})}return e}),[])}))).apply(this,arguments)}function pr(e){if(!e)return{rows:0,cols:0};var t=$(e)[0],a=function(e){for(var t=e.rows,a=0,r=0;r<t.length;r++){for(var i=t[r].cells,o=0,l=0;l<i.length;l++)o+=i[l].colSpan;o>a&&(a=o)}return a}(t);return{rows:t.rows.length,cols:a}}var dr=/\.(tfss|render)$/;function mr(e){return dr.test(e.title)}function fr(e,t){var a,{fileName:r,fileExtension:i}=(0,qa.default)(t.title),o=e[r]||{};t.downloadLink||null!=t&&null!==(a=t._links)&&void 0!==a&&a.download&&(t.downloadLink=t._links.download);return o[i.substring(1)]=t,e[r]=o,e}function hr(e,t){var a=e.children("input[role=combobox],button[role=button]");t?a.attr("disabled",!0):a.removeAttr("disabled")}function br(e){return new Array(e).fill(0).map(((e,t)=>t+1)).map(gr)}function gr(e){for(var t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t}function vr(e){var t=yr(e[0]),a=yr(e[1]);return t===a?t:t+":"+a}function yr(e){return gr(e[1])+e[0]}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?t?e+"#"+t:e:""}var wr=class{constructor(e){var{$el:t,dataProvider:a,platform:r}=e;this.$el=t,this.platform=r,this.dataProvider=a,this.onAttachmentChange=this.onAttachmentChange.bind(this),this.onSourceChange=this.onSourceChange.bind(this),this.onRangeChange=this.onRangeChange.bind(this),this.onFinishSelect=this.onFinishSelect.bind(this),this.onDeselectAll=this.onDeselectAll.bind(this)}init(){var e=this;return tr((function*(){yield e.setCurrentPageContext(),e.renderWaitBox();var t=yield e.resolveEditorParameters();if(e.model=new Da(t,rr),e.render().initFields(),e.$previewSpinner.hide(),0===Object.keys(t).length){var{currentPage:a,currentWikiLink:r,contentType:i}=e;if(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).status===Wa}(a)||function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")===Ga}(i))return e;setTimeout((()=>{e.$pageInput.val(r),e.$pageInput.trigger("wikiLinkChange",[r])}),1)}return e}))()}setCurrentPageContext(){var e=this;return tr((function*(){var t,a,{dataProvider:r,platform:i}=e,{contentId:o,spaceKey:l,contentType:n}=r.getContext();if(e.pageId=o,e.spaceKey=l,e.currentPage={type:n},n!==Ga){try{e.currentPage=yield(e=>(0,Ka.makeGet)({url:(0,pt.buildUrl)("/rest/api/content/".concat(e),Ya)}))(e.pageId)}catch(e){return void console.error("Can't retrieve current page for Spreadsheet Include macro",e)}e.currentWikiLink=i.buildWikiLink(e.currentPage),null!==(t=e.spaceKey)&&void 0!==t||(e.spaceKey=null===(a=e.currentPage)||void 0===a?void 0:a.space.key)}}))()}resolveEditorParameters(){var e=this;return tr((function*(){var t=e.dataProvider.getParams();if(!t.page)return Promise.resolve({});var a=t.page===za?e.currentWikiLink:t.page,r=Xa(Xa({},t),{},{page:a,wikiLink:a});try{var i=yield nr(e.platform,r.wikiLink,e.spaceKey);if(r.attachmentList=i,!r.attachment)return r;var o=i[r.attachment];if(!o)return r;var l=yield cr(o);if(r.sheetList=l,!r.source)return r;var{source:n,range:s}=Na(r.source);return r.source=n,r.range=s,Object.keys(l).length&&n&&(r.table=l[n]),r}catch(e){return r}}))()}render(){var e,t,a,r,i,{$el:o,model:l}=this;return o.empty().append(Ea().editorBody({params:l.toJSON()})),this.$pageInput=o.find("#macro-param-page"),this.$attachmentInput=o.find(ir),this.$sourceInput=o.find(or),this.$rangeInput=o.find("#macro-param-range"),this.$previewSpinner=o.find("#preview-spinner"),this.$preview=o.find("#macro-browser-preview"),this.$inputFields=o.find(".macro-input-fields"),e=this.$preview[0],t={top:0,left:0,x:0,y:0},a=a=>{var o=function(e,t){var{x:a,y:r}=e.getBoundingClientRect(),{clientX:i,clientY:o}=t;return{x:i-a,y:o-r}}(e,a);t={left:e.scrollLeft,top:e.scrollTop,x:a.clientX,y:a.clientY,leftScale:{visible:o.x,scroll:e.scrollLeft},rightScale:{visible:e.clientWidth-o.x,scroll:e.scrollWidth-(e.scrollLeft+e.clientWidth-20)},topScale:{visible:o.y,scroll:e.scrollTop},bottomScale:{visible:e.clientHeight-o.y,scroll:e.scrollHeight-(e.scrollTop+e.clientHeight-20)}},e.addEventListener("mousemove",r),e.addEventListener("mouseup",i)},r=a=>{var r=a.clientX-t.x,i=a.clientY-t.y,o=t.leftScale;r>0&&(o=t.rightScale),r=r*o.scroll/o.visible;var l=t.topScale;i>0&&(l=t.bottomScale),i=i*l.scroll/l.visible,e.scrollTop=t.top+i,e.scrollLeft=t.left+r},i=function(){e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",i)},e.addEventListener("mousedown",a),l.has("table")&&this.renderTable(),this}initFields(){this.initAutocompletePage();var e=this.model;return e.on("change:wikiLink",(e=>{var{current:t}=e;return this.updateAttachmentsForPage(t)})).on("change:attachment",(e=>{var{current:t}=e;this.$attachmentInput.val(t),this.updateSourcesForAttachment(t)})).on("change:source",(t=>{var{current:a}=t;this.$sourceInput.val(a);var r=a?e.get("sheetList")[a]:null;e.set({range:"",table:r}),this.$rangeInput.prop("disabled",!a)})).on("change:range",(e=>{var{current:t}=e;this.$rangeInput.val(t),this.selectRange(t)})).on("change:attachmentList",(e=>{var{current:t}=e;return this.renderAttachmentList(t)})).on("change:sheetList",(e=>{var{current:t}=e;return this.renderSheetList(t)})).on("change:table",(()=>this.renderTable())).on("change:invalidRange",(e=>{var{current:t}=e;this.$rangeInput.toggleClass("invalid",t)})),this.$pageInput.on("wikiLinkChange",((t,a)=>{var r=a;this.$pageInput.val(r),e.set({wikiLink:a,page:r})})),this.$inputFields.on(ar,ir,this.onAttachmentChange),this.$inputFields.on(ar,or,this.onSourceChange),this.$rangeInput.on(ar,this.onRangeChange).on("keyup",(e=>{13===e.keyCode&&this.$rangeInput.blur()})),this}initAutocompletePage(){this.platform.initAutocompletePage(this.$pageInput,{spaceKey:this.spaceKey})}renderWaitBox(){this.$el.empty().append(Ea().waitBox())}renderTable(){this.tableCellSelector&&(this.tableCellSelector.destroy(),delete this.tableCellSelector),this.$preview.empty();var e=this.model.get("table");if(e){this.$preview.append(function(e,t){if(!e.length)return e;return e.removeClass("aui"),e.find("tbody > tr").each(((e,t)=>{$(t).prepend(Ea().leftRulerCell({index:e}))})),e.prepend(Ea().topRuler({letters:br(t.cols)})),e}($(e.view),e.size));var t,a,r,i,o,l=this.$preview.find("table");l.on("click","tr.top-ruler th",(e=>{this.onColumnSelect(e.target.cellIndex,e.shiftKey)})),l.on("click","td.left-ruler",(e=>{this.onRowSelect(e.target.parentNode.rowIndex,e.shiftKey)})),this.tableCellSelector=(t=l[0],a=this.onFinishSelect,r=this.onDeselectAll,i={changeTracking:!0,deselectOutTableClick:!1,enableChanging:!0,selectIgnoreClass:!1,onFinishSelect:a,onDeselectAll:r},o=new(_a().Buffer),new(_a())(t,i,o)),this.selectRange(this.model.get("range"))}}updateAttachmentsForPage(e){hr(this.$attachmentInput,!0),this.model.set({attachment:""}),e&&nr(this.platform,e,this.spaceKey).then((e=>{this.model.set({attachmentList:e})}))}updateSourcesForAttachment(e){(hr(this.$sourceInput,!0),this.model.set({source:""}),e)&&cr(this.model.get("attachmentList")[e]).then((e=>{this.model.set({sheetList:e})}))}onColumnSelect(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0!==e){var{size:a}=this.model.get("table"),r=this.model.get("range"),i=[1,e],o=[a.rows,e];r&&t&&([i,o]=(0,Fa.rangeToCoordinats)(r),i[0]=1,o[0]=a.rows,i[1]>e&&(i[1]=e),o[1]<e&&(o[1]=e));var l=vr([i,o]);this.model.set({range:l})}}onRowSelect(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0!==e){var{size:a}=this.model.get("table"),r=this.model.get("range"),i=[e,1],o=[e,a.cols];r&&t&&([i,o]=(0,Fa.rangeToCoordinats)(r),i[1]=1,o[1]=a.cols,i[0]>e&&(i[0]=e),o[0]<e&&(o[0]=e));var l=vr([i,o]);this.model.set({range:l})}}onFinishSelect(){var e=this.tableCellSelector.getCoords(),t=e?vr(e):"";this.model.set({range:t})}onDeselectAll(){this.model.set({range:""})}selectRange(e){if(Ba(e)&&e){var t,[a,r]=(0,Fa.rangeToCoordinats)(e);null===(t=this.tableCellSelector)||void 0===t||t.select(a,r)}else{var i;null===(i=this.tableCellSelector)||void 0===i||i.deselect()}}onAttachmentChange(e){this.model.set({attachment:e.target.value})}onSourceChange(e){this.model.set({source:e.target.value})}onRangeChange(){var e={range:this.$rangeInput.val()};e.invalidRange=!Ba(e.range),this.model.set(e)}renderAttachmentList(e){this.$attachmentInput=this.rebuildInput(this.$attachmentInput,lr(Ea().attachmentList,e))}renderSheetList(e){this.$sourceInput=this.rebuildInput(this.$sourceInput,lr(Ea().sheetList,e))}rebuildInput(e,t){var a="#"+e.attr("id");return e.parent().empty().append(t),this.$el.find(a)}getMacroParams(){if(!this.model)return this.dataProvider.getParams();var{page:e,attachment:t,source:a,range:r="",wikiLink:i}=this.model.toJSON();return{page:this.currentWikiLink===i?za:e,attachment:t,source:Sr(a,r)}}};const Tr=/(([~A-Za-z0-9].*?):)?(\/\d{4}\/\d{2}\/\d{2}\/)?(.*?)$/;function xr(e=""){return e.split("/").slice(1,4).join("-")}function Ar(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(a),!0).forEach((function(t){Ir(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ar(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ir(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Or={url:"/rest/api/content",type:"GET",contentType:"application/json",limit:200};function Er(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Pr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(a),!0).forEach((function(t){Cr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Er(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Cr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jr(e){var t=Object.assign({},e);return{getParams:()=>t,getContext:()=>({contentId:v.default.getContentId(),spaceKey:AJS.params.spaceKey})}}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1):e}var Jr={getAttachmentsByWikiLink:function(e,t){var a=function(e=""){const t=e.match(Tr);if(!t)return;const a=t[3]?"blogpost":"page";return{spaceKey:t[2],postingDate:xr(t[3]),pageTitle:t[4],type:a}}(e);if(!a)return Promise.resolve({});var r=$r($r({},Or),{},{data:{expand:"space,children.attachment",spaceKey:a.spaceKey||t,title:a.pageTitle,postingDay:a.postingDate,type:a.type}});return(0,Ka.makeGet)(r).then((t=>{var a,{results:r}=t;if(0===r.length)throw new Error("Page not found: "+e);return null===(a=r[0].children)||void 0===a||null===(a=a.attachment)||void 0===a?void 0:a.results})).catch((e=>(console.error(e),[])))},initAutocompletePage:function(e){e.addClass("autocomplete-confluence-content"),e.attr("data-template","{space.key}:{title}"),e.on("selected.autocomplete-content",(function(t,a){setTimeout((()=>e.trigger("wikiLinkChange",[Mr(a.content.wikiLink)])),1)})),AJS.Confluence.Binder.autocompleteConfluenceContent(e.parent()[0])},buildWikiLink:function(e){if(!e)return;var{type:t,space:{key:a},title:r}=e;if("page"===t)return"".concat(a,":").concat(r);if("blogpost"===t){var i=e.history.createdDate.substring(0,10).replaceAll("-","/");return"".concat(a,":/").concat(i,"/").concat(r)}}};function Dr(e){var t=e.params||{};function a(a,r){a.find("button.tf-cancel").on("click",(()=>{tinymce.confluence.macrobrowser.macroBrowserCancel(),AJS.dialog2(a).hide()})),a.find("button.tf-insert").on("click",(()=>{var i=r.getMacroParams(),{range:o}=Na(i.source);t.ts?(e=>{(0,I.ga4SendEvent)("browserSheetInc_macroSheetInc_updated",{property:e})})(o):(0,ft.gaMacroBrowserMacroSheetIncludeAdded)(o),e.params=Pr(Pr(Pr({},t),i),{},{ts:Date.now()}),tinymce.confluence.macrobrowser.macroBrowserComplete(e),AJS.dialog2(a).hide()})).removeAttr("disabled")}return{init:function(){var e=!(t.attachment||t.page),r=$(Ia().dialog({isInsert:e}));return AJS.dialog2(r).show(),new wr({$el:r.find("#macro-insert-container"),dataProvider:jr(t),platform:Jr}).init().then((e=>{a(r,e)})),{dialog:r,isInsert:e}}}}function kr(e){new Dr(e).init()}var Hr=a(15951),_r=a(25127),Nr=a.n(_r),Rr=a(76393);class Lr extends Xe{constructor(){super({containerId:"#table-chart-dialog"})}async drawMacroBrowser({macro:e,onSave:t,onCancel:a}){const r=void 0===e?.params?.isFirstTimeEnter,i=$(Nr().dialog({isInsert:r}));this.macroObject??={dialog:i},AJS.dialog2(i).show();const o=await new Promise((e=>{WRM.require("com.stiltsoft.confluence.plugin.tablefilter.tablefilter:chart-editor-resources",(()=>{e(window.initializeChartEditor)}))})),{store:l}=o(i.find(".aui-dialog2-content")[0],e);this.sendGa=(0,Hr.initializeMacroBrowserEventTracker)(l).gaSendEvent,i.find(".chart-insert").click((function(){const a=(0,Rr.getMacroParams)(l);e.params=a,t(e,r),AJS.dialog2(i).hide()})),i.find(".chart-cancel").click((function(){AJS.dialog2(i).hide(),a()}))}}function Br(e){(new Lr).showDialog(e)}AJS.toInit((function(){AJS.MacroBrowser.setMacroJsOverride("csv-table",new M),AJS.MacroBrowser.setMacroJsOverride("json-from-table",new M),AJS.MacroBrowser.setMacroJsOverride("table-excerpt-include",N),AJS.MacroBrowser.setMacroJsOverride("table-joiner",{opener:function(e){!function(e){(new rt).showDialog(e)}(e)}}),AJS.MacroBrowser.setMacroJsOverride("table-filter",{opener:Bt}),AJS.MacroBrowser.setMacroJsOverride("table-chart",{opener:Br}),AJS.MacroBrowser.setMacroJsOverride("pivot-table",aa),AJS.MacroBrowser.setMacroJsOverride("spreadsheet-table",{opener:xa}),AJS.MacroBrowser.setMacroJsOverride("spreadsheet-body-table",{opener:Aa}),AJS.MacroBrowser.setMacroJsOverride("spreadsheet-include",{opener:kr})}))}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return r[e].call(a.exports,a,a.exports,o),a.exports}o.m=r,e=[],o.O=function(t,a,r,i){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],i=e[u][2];for(var n=!0,s=0;s<a.length;s++)(!1&i||l>=i)&&Object.keys(o.O).every((function(e){return o.O[e](a[s])}))?a.splice(s--,1):(n=!1,i<l&&(l=i));if(n){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,r,i]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var l={};t=t||[null,a({}),a([]),a(a)];for(var n=2&r&&e;"object"==typeof n&&!~t.indexOf(n);n=a(n))Object.getOwnPropertyNames(n).forEach((function(t){l[t]=function(){return e[t]}}));return l.default=function(){return e},o.d(i,l),i},o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={8538:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,i,l=a[0],n=a[1],s=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in n)o.o(n,r)&&(o.m[r]=n[r]);if(s)var u=s(o)}for(t&&t(a);c<l.length;c++)i=l[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},a=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var l=o.O(void 0,[7062,8810,7267,8303,7073,3844,6467,4267,1141,1314,6558,5344,2901,2209,4802,4584,2708,7809,4492,3614,8142,3049,3985,4034,4571,3406,8801,9859,9449,2835,8217,579,8220,7563,9986,5433,4550,9484,2954,2321,6776,8493,1048,326,5938,5414,6349,2243,5836,401,869,1014,2589,2896,4412,8631,6099,8984,5416,5372,9313,3152,2898,1731,6005,3509,3589,1121,5995,5269,6269,9575,3874,4215,6761,3622,2055,5082,4125,5511,745,4980,5211,4510,590,5829,709,1984,7736,2438,116,3677,7281,7228,9059,3644,7970,6424,7090,2239,8014,3511,9663,3832,2592,741,4763,4037,728,8235,7341,6803,9481],(function(){return o(77378)}));l=o.O(l)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.masterdetail:master-details-macro-browser', location = 'com/atlassian/confluence/extra/masterdetail/js/macro-browser-options.js' */
AJS.toInit(function(a){AJS.MacroBrowser.setMacroJsOverride("detailssummary",{fields:{cqlSelect2CustomOptions:{maximumSelectionSize:"60"}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.ext.newcode-macro-plugin:edit', location = 'bundle.edit.js' */
!function(e){var a={};function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)t.d(n,r,function(a){return e[a]}.bind(null,r));return n},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="","undefined"!=typeof AJS&&(t.p=AJS.contextPath()+"/s/d2e2b73e-9477-4125-b718-5f6ccd1c25e4/_/download/resources/com.atlassian.confluence.plugins.confluence-public-plugins:assets-d2e2b73e-9477-4125-b718-5f6ccd1c25e4/"),t(t.s=428)}({0:function(e,a){e.exports=require("react")},10:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));const n={ActionScript:["as3"],ColdFusion:["cf"],CSharp:["c-sharp"],Diff:["patch"],JavaScript:["jscript"],PlainText:["plain"],PowerShell:["ps"],Ruby:["rails","ror"],VisualBasic:["vb"],XML:["xhtml"]},r=[{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"Html",alias:["html"],value:"xml"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"],value:"shell"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net","vfp","clipper","xbase"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Pascal",alias:["pas","pascal","objectpascal","delphi"],value:"pascal"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","purebasic"],value:"purebasic"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql"],value:"graphql"},{name:"AppleScript",alias:["applescript"],value:"applescript"},{name:"Clojure",alias:["clojure"],value:"clojure"},{name:"Diff",alias:["diff"],value:"diff"},{name:"VisualBasic",alias:["visualbasic"],value:"visual-basic"},{name:"JSX",alias:["jsx"],value:"jsx"},{name:"TSX",alias:["tsx"],value:"tsx"},{name:"SplunkSPL",alias:["splunk-spl"],value:"splunk-spl"},{name:"Dockerfile",alias:["docker","dockerfile"],value:"dockerfile"},{name:"HCL",alias:["hcl","terraform"],value:"hcl"},{name:"NGINX",alias:["nginx"],value:"nginx"},{name:"Protocol Buffers",alias:["protobuf","proto"],value:"protobuf"}].map((function(e){let a;return a=n[e.name]?[...e.alias,...n[e.name]]:[...e.alias],{...e,alias:new Set(a)}}));r.sort((e,a)=>e.name.localeCompare(a.name))},100:function(e,a){e.exports=require("confluence/api/constants")},101:function(e,a){e.exports=require("confluence/macro-js-overrides")},102:function(e,a){e.exports=require("confluence/templates")},17:function(e,a){e.exports=require("confluence/api/logger")},19:function(e,a,t){"use strict";t.d(a,"a",(function(){return o})),t.d(a,"c",(function(){return c})),t.d(a,"b",(function(){return s}));var n=t(17),r=t.n(n);function l(e,a,t){return(a=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class o{constructor(e,a,t){l(this,"configs",void 0),l(this,"configSeparator",void 0),l(this,"keyValueSeparator",void 0),this.configSeparator=e,this.keyValueSeparator=a,this.configs=this.parse(t)}getConfigValue(e){return this.configs[e]||""}setConfigValue(e,a){this.configs[e]=a}updateConfigs(e){this.configs=this.parse(e)}getConfigs(){return this.configs}serialiseConfigs(){return Object.keys(this.configs).reduce((e,a)=>e+`${e?this.configSeparator:""}${a}${this.keyValueSeparator}${this.configs[a]}`,"")}parse(e){return e?e.split(this.configSeparator).reduce((e,a)=>{const[t,n]=a.split(this.keyValueSeparator);return t&&n&&(e[t.trim()]=n.trim()),e},{}):{}}}const i="confluence.newcode.macro.recentlySelectedLanguage",c=e=>{try{localStorage.setItem(i,e)}catch(e){r.a.error("Failed to store item in local storage",e)}},s=()=>{try{return localStorage.getItem(i)}catch(e){return r.a.error("Failed to get item from local storage",e),null}}},20:function(e,a){e.exports=require("confluence/api/event")},21:function(e,a){e.exports=require("confluence/meta")},23:function(e,a,t){"use strict";t.d(a,"e",(function(){return i})),t.d(a,"a",(function(){return c})),t.d(a,"c",(function(){return s})),t.d(a,"b",(function(){return u})),t.d(a,"d",(function(){return p}));var n=t(20),r=t(21),l=t.n(r),o=t(10);const i=()=>{Object(n.trigger)("analytics",{name:"confluence.code-block.line-wrapping",data:{contentId:l.a.get("content-id")}})},c=()=>{Object(n.trigger)("analytics",{name:"confluence.code-block.copy",data:{contentId:l.a.get("content-id")}})},s=e=>{Object(n.trigger)("analytics",{name:"confluence.code-block.inline-language-select",data:{contentId:l.a.get("content-id"),language:e}})},u=e=>{Object(n.trigger)("analytics",{name:"confluence.code-block.expand-collapse",data:{contentId:l.a.get("content-id"),action:e}})},p=e=>{let a="";if(e){const t=o.a.find(a=>a.alias.has(e.toLowerCase())||a.name.toLowerCase()===e.toLowerCase());a=t?t.alias.values().next().value:"unknown"}else a="none";Object(n.trigger)("analytics",{name:"confluence.code-block.added",data:{contentId:l.a.get("content-id"),language:a}})}},25:function(e,a){e.exports=require("jquery")},32:function(e,a){e.exports=WRM.format},33:function(e,a){if(void 0===WRM.I18n){var t=new Error("Cannot find module 'WRM.I18n'");throw t.code="MODULE_NOT_FOUND",t}e.exports=WRM.I18n},35:function(e,a,t){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},l=function(){var e={};return function(a){if(void 0===e[a]){var t=document.querySelector(a);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[a]=t}return e[a]}}(),o=[];function i(e){for(var a=-1,t=0;t<o.length;t++)if(o[t].identifier===e){a=t;break}return a}function c(e,a){for(var t={},n=[],r=0;r<e.length;r++){var l=e[r],c=a.base?l[0]+a.base:l[0],s=t[c]||0,u="".concat(c," ").concat(s);t[c]=s+1;var p=i(u),f={css:l[1],media:l[2],sourceMap:l[3]};-1!==p?(o[p].references++,o[p].updater(f)):o.push({identifier:u,updater:g(f,a),references:1}),n.push(u)}return n}function s(e){var a=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=t.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){a.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(a);else{var o=l(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(a)}return a}var u,p=(u=[],function(e,a){return u[e]=a,u.filter(Boolean).join("\n")});function f(e,a,t,n){var r=t?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=p(a,r);else{var l=document.createTextNode(r),o=e.childNodes;o[a]&&e.removeChild(o[a]),o.length?e.insertBefore(l,o[a]):e.appendChild(l)}}function m(e,a,t){var n=t.css,r=t.media,l=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),l&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d=null,v=0;function g(e,a){var t,n,r;if(a.singleton){var l=v++;t=d||(d=s(a)),n=f.bind(null,t,l,!1),r=f.bind(null,t,l,!0)}else t=s(a),n=m.bind(null,t,a),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return n(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;n(e=a)}else r()}}e.exports=function(e,a){(a=a||{}).singleton||"boolean"==typeof a.singleton||(a.singleton=r());var t=c(e=e||[],a);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<t.length;n++){var r=i(t[n]);o[r].references--}for(var l=c(e,a),s=0;s<t.length;s++){var u=i(t[s]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}t=l}}}},36:function(e,a,t){"use strict";e.exports=function(e){var a=[];return a.toString=function(){return this.map((function(a){var t=e(a);return a[2]?"@media ".concat(a[2]," {").concat(t,"}"):t})).join("")},a.i=function(e,t,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var l=0;l<this.length;l++){var o=this[l][0];null!=o&&(r[o]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);n&&r[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),a.push(c))}},a}},423:function(e,a,t){e.exports=void 0},428:function(e,a,t){"use strict";t.r(a);t(93);var n=t(7),r=t(100),l=t.n(r),o=t(17),i=t.n(o),c=t(101),s=t.n(c),u=t(25),p=t.n(u),f=t(23),m=t(10),d=t(19),v=t(35),g=t.n(v),h=t(67),b={insert:"head",singleton:!1},y=(g()(h.a,b),h.a.locals||{});const x=new d.a("|","=","");let j,S=null;const C=()=>(S||(S=document.createElement("select"),S.className=""+y.select,S.id="code-macro-language-select",S.appendChild(document.createElement("option")),m.a.forEach(e=>{const a=document.createElement("option");a.value=e.alias.values().next().value,a.textContent=e.name,S&&S.appendChild(a)})),S),w=e=>{const a=e.getAttribute("data-macro-parameters")||"";return x.updateConfigs(a),x.getConfigValue("language")},k=async(e,a)=>{j=w(e),j!==a&&(x.setConfigValue("language",a),Object(d.c)(a),Object(f.c)(a),await O(e))},O=async e=>{await fetch(l.a.CONTEXT_PATH+"/rest/tinymce/1/macro/placeholder",{headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({macro:{name:"code",params:x.getConfigs()}}),method:"POST"}).then(e=>e.text()).then(a=>{P(e,a)}).catch(e=>{i.a.error("Failed to update code macro",e),p()(C()).confluenceSelect("val",j)})},P=(e,a)=>{if(!a)return void i.a.error("Empty response, abort updating macro node");const t=(new DOMParser).parseFromString(a,"text/html").body.firstElementChild;if(!t)return void i.a.error("Failed to parse response, abort updating macro node");const n=t.getAttribute("data-macro-parameters"),r=t.getAttribute("style");e.setAttribute("style",r||""),e.setAttribute("data-macro-parameters",n||"")},q=(e,a)=>{const t={...e},n=Object(d.b)();return"macro"in t?(t.macro.params=t.macro.params||{},t.macro.params.language?Object(d.c)(t.macro.params.language):n&&a&&(t.macro.params.language=n),a&&Object(f.d)(t.macro.params.language)):t.wiki&&"string"==typeof t.wiki&&M(t),t},M=e=>{const a=Object(d.b)();x.updateConfigs("");const t=e.wiki.match(/:(.*?)(?=})/);if(t&&t.length>1){x.updateConfigs(t[1]);const n=x.getConfigValue("language");n?Object(d.c)(n):a&&(x.setConfigValue("language",a),e.wiki=`{code:${x.serialiseConfigs()}}`)}else a&&(x.setConfigValue("language",a),e.wiki=`{code:${x.serialiseConfigs()}}`);Object(f.d)(x.getConfigValue("language"))};t(423);var T=t(102),A=t.n(T),E=t(68),L=t.n(E);const I={beforeParamsSet:function(e,a){const t={...e};if(a){const e=Object(d.b)();e&&(t.language=e)}return t},beforeParamsRetrieved:function(e,a){return a.isSubmit&&e.language&&Object(d.c)(e.language),e},manipulateMarkup:function(e){e.isSubmit=!0},fields:{string:{language:function(e,a){const t=(new DOMParser).parseFromString(A.a.MacroBrowser.macroParameterSelect(),"text/html"),r=t.body.firstChild,l=t.querySelector("select");l.setAttribute("id","macro-browser-language-select"),l.appendChild(document.createElement("option")),m.a.forEach(e=>{const a=document.createElement("option");a.value=e.alias.values().next().value,a.textContent=e.name,l.appendChild(a)});const o=p()(l);return null==a&&(a={}),a.setValue=function(e){const a=m.a.find(a=>a.alias.has(null==e?void 0:e.toLowerCase())||a.name===e);a&&o.confluenceSelect("val",a.alias.values().next().value)},o.confluenceSelect({placeholder:"Select language"}),new L.a.Field(p()(r),o,a)}}}};L.a.Macros.code=I,s.a.assignFunction("code",{getControls:function(e){e([{key:"code-macro-placeholder",name:{value:""},type:"button"}])},propertyPanelIFrameInjector:function(e){const a=e.panel[0],t=a&&a.querySelector(".macro-property-panel-code-macro-placeholder");if(!t)return void i.a.error("property-panel-code-macro: No placeholder button found");const r=(e=>{const a=C(),t=w(e),n=m.a.findIndex(e=>e.alias.has(t.toLowerCase())||e.name===t);return a.style.display="inline-block",a.selectedIndex=n+1,a.onchange=()=>k(e,m.a[a.selectedIndex-1].alias.values().next().value),a})(e.anchor);t.replaceWith(r),p()(r).confluenceSelect({placeholder:"Select language"})},manipulateMacroInfoBeforeAutocomplete:q})},67:function(e,a,t){"use strict";var n=t(36),r=t.n(n)()((function(e){return e[1]}));r.push([e.i,".select_6G02P\\+cMbyUlQcvtDJorrw\\=\\= {\n    height: 30px;\n    line-height: 30px;\n    margin-right: 10px;\n}\n",""]),r.locals={select:"select_6G02P+cMbyUlQcvtDJorrw=="},a.a=r},68:function(e,a){e.exports=require("confluence-macro-browser/macro-browser")},7:function(e,a,t){!function(e,a,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=r(a),o=r(n);const i=function(){try{return t(33)}catch(e){return null}}();function c(e,...t){let n=0;const r={};t=t.map(e=>{if(a.isValidElement(e)){const a=`!PLACEHOLDER_${++n}!`;return r[a]=e,a}return e});const i=o.default(e,...t).split(/(!PLACEHOLDER_\d+!)/g);if(1===i.length)return i.join("");const c=i.map((e,t)=>l.default.createElement(a.Fragment,{key:t},t%2?r[e]:e));return l.default.createElement(a.Fragment,null,c)}const s={getText:(...e)=>{if(!i)return console.warn('Call to "getText" function was not replaced with either raw translation or call to "format" function. Have you included the "jsI18n" transformation in Web Resource Manager?'),c(...e);let a;try{WRM.I18n.format=c,a=i.getText.apply(null,e)}finally{WRM.I18n.format=o.default}return a}};e.I18n=s,e.format=c,Object.defineProperty(e,"__esModule",{value:!0})}(a,t(0),t(32))},93:function(e,a,t){e.exports=void 0}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.macros.advanced:children-macro-browser-resource', location = 'com/atlassian/confluence/plugins/macros/advanced/js/children-macro-browser-overrides.js' */
define("children-macro/macro-browser-overrides",["jquery","confluence/templates","confluence-macro-browser/macro-browser","confluence/api/constants"],function(b,k,l,m){function n(c){fetch(m.CONTEXT_PATH+"/rest/children-macro/browser/settings",{method:"GET",headers:{"Content-Type":"application/json"}}).then(async a=>{if(a.ok)return a.json();throw Error("Network response was not ok.");}).then(function(a){c[0].hidden=!0===a.excerptGenerationDisabled?!0:!1}).catch(a=>{console.error("Children macro status request failed because of "+
a)})}return{fields:{enum:{excerptType:function(c,a){const d=b(k.MacroBrowser.macroParameterSelect()),f=b("select",d);if(1!==f.length)throw Error('Expected to find exactly one element with id "macro-param-excerptType" in the template.');const g=f[0];Array.from(c.enumValues).forEach(h=>{const e=document.createElement("option");e.value=h;e.innerText=h;g.appendChild(e)});n(d);return new l.Field(d,b(g),a)}}}}});
require("confluence/module-exporter").safeRequire("children-macro/macro-browser-overrides",function(b){require("confluence-macro-browser/macro-browser").setMacroJsOverride("children",b)});
}catch(e){WRMCB(e)};