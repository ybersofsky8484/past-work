WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:plupload', location = 'js/plupload.js' */
(function(){function H(){this.returnValue=!1}function I(){this.cancelBubble=!0}var J=0,x=[],D={},E={},A={},F={"\x3c":"lt","\x3e":"gt","\x26":"amp",'"':"quot","'":"#39"},K=/[<>&"']/g,z=window.setTimeout,u={},q;(function(a){a=a.split(/,/);var b,c;for(b=0;b<a.length;b+=2){var k=a[b+1].split(/ /);for(c=0;c<k.length;c++){E[k[c]]=a[b];var g=A[a[b]]||[];g.push(k[c]);A[a[b]]=g}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/java-archive,jar,application/java-archive,war,application/java-archive,ear,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.template,xltx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,audio/mpeg,mpga mpega mp2 mp3,audio/mp3,mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/html,htm html xhtml,text/xml,xml,text/javascript,js,text/css,css,text/rtf,rtf,text/x-java-source,java,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,text/csv,csv,text/plain,asc txt text diff log,application/octet-stream,exe");
var e={VERSION:"@@version@@",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:E,mineTypeToExtensionsMap:A,ua:function(){var a=navigator,b=a.userAgent,c=a.vendor,k;var g=(k=/WebKit/.test(b))&&-1!==c.indexOf("Apple");c=window.opera&&window.opera.buildNumber;return{windows:-1!==
navigator.platform.indexOf("Win"),ie:!k&&!c&&/MSIE/gi.test(b)&&/Explorer/gi.test(a.appName),webkit:k,gecko:!k&&/Gecko/.test(b),safari:g,opera:!!c}}(),extend:function(a){e.each(arguments,function(b,c){0<c&&e.each(b,function(k,g){a[g]=k})});return a},getElement:function(a){return a&&1===a.nodeType?a:document.getElementById(a)},cleanName:function(a){var b;var c=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,
"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(b=0;b<c.length;b+=2)a=a.replace(c[b],c[b+1]);a=a.replace(/\s+/g,"_");return a=a.replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(a,b){b.name=a;x[a]=b;x.push(b);return b},guid:function(){var a=(new Date).getTime().toString(32),b;for(b=0;5>b;b++)a+=Math.floor(65535*Math.random()).toString(32);return(e.guidPrefix||"p")+a+(J++).toString(32)},buildUrl:function(a,b){var c="";e.each(b,function(k,g){c+=(c?
"\x26":"")+encodeURIComponent(g)+"\x3d"+encodeURIComponent(k)});c&&(a+=(0<a.indexOf("?")?"\x26":"?")+c);return a},each:function(a,b){var c;if(a){var k=a.length;if(void 0===k)for(c in a){if(a.hasOwnProperty(c)&&!1===b(a[c],c))break}else for(c=0;c<k&&!1!==b(a[c],c);c++);}},formatSize:function(a){return void 0===a||/\D/.test(a)?e.translate("N/A"):1073741824<a?Math.round(a/1073741824,1)+" GB":1048576<a?Math.round(a/1048576,1)+" MB":1024<a?Math.round(a/1024,1)+" KB":a+" b"},getPos:function(a,b){function c(f){var d=
0;var h=0;f&&(h=f.getBoundingClientRect(),f="CSS1Compat"===n.compatMode?n.documentElement:n.body,d=h.left+f.scrollLeft,h=h.top+f.scrollTop);return{x:d,y:h}}var k=0,g=0,l,n=document;b=b||n.body;if(a&&a.getBoundingClientRect&&0<navigator.userAgent.indexOf("MSIE")&&8!==n.documentMode)return a=c(a),b=c(b),{x:a.x-b.x,y:a.y-b.y};for(l=a;l&&l!=b&&l.nodeType;)k+=l.offsetLeft||0,g+=l.offsetTop||0,l=l.offsetParent;for(l=a.parentNode;l&&l!=b&&l.nodeType;)k-=l.scrollLeft||0,g-=l.scrollTop||0,l=l.parentNode;return{x:k,
y:g}},getSize:function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}},parseSize:function(a){if("string"==typeof a){a=/^([0-9]+)([mgk]?)$/.exec(a.toLowerCase().replace(/[^0-9mkg]/g,""));var b=a[2];a=+a[1];"g"==b&&(a*=1073741824);"m"==b&&(a*=1048576);"k"==b&&(a*=1024)}return a},xmlEncode:function(a){return a?(""+a).replace(K,function(b){return F[b]?"\x26"+F[b]+";":b}):a},toArray:function(a){var b,c=[];for(b=0;b<a.length;b++)c[b]=a[b];return c},addI18n:function(a){return e.extend(D,
a)},translate:function(a){return D[a]||a},isEmptyObj:function(a){if(void 0===a)return!0;for(var b in a)return!1;return!0},hasClass:function(a,b){return""==a.className?!1:(new RegExp("(^|\\s+)"+b+"(\\s+|$)")).test(a.className)},addClass:function(a,b){e.hasClass(a,b)||(a.className=""==a.className?b:a.className.replace(/\s+$/,"")+" "+b)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)"),function(c,k,g){return" "===k&&" "===g?" ":""})},getStyle:function(a,b){if(a.currentStyle)return a.currentStyle[b];
if(window.getComputedStyle)return window.getComputedStyle(a,null)[b]},addEvent:function(a,b,c,k){b=b.toLowerCase();void 0===q&&(q="Plupload_"+e.guid());if(a.addEventListener){var g=c;a.addEventListener(b,g,!1)}else a.attachEvent&&(g=function(){var l=window.event;l.target||(l.target=l.srcElement);l.preventDefault=H;l.stopPropagation=I;c(l)},a.attachEvent("on"+b,g));void 0===a[q]&&(a[q]=e.guid());u.hasOwnProperty(a[q])||(u[a[q]]={});a=u[a[q]];a.hasOwnProperty(b)||(a[b]=[]);a[b].push({func:g,orig:c,
key:k})},removeEvent:function(a,b,c){var k,g;"function"==typeof c?k=c:g=c;b=b.toLowerCase();if(a[q]&&u[a[q]]&&u[a[q]][b]){c=u[a[q]][b];for(var l=c.length-1;0<=l;l--)if(c[l].key===g||c[l].orig===k)if(a.detachEvent?a.detachEvent("on"+b,c[l].func):a.removeEventListener&&a.removeEventListener(b,c[l].func,!1),c[l].orig=null,c[l].func=null,c.splice(l,1),void 0!==k)break;c.length||delete u[a[q]][b];if(e.isEmptyObj(u[a[q]])){delete u[a[q]];try{delete a[q]}catch(n){a[q]=void 0}}}},removeAllEvents:function(a,
b){void 0!==a[q]&&a[q]&&e.each(u[a[q]],function(c,k){e.removeEvent(a,k,b)})},Uploader:function(a){function b(){var f=0,d;if(this.state==e.STARTED){for(d=0;d<g.length;d++)if(h||g[d].status!=e.QUEUED)f++;else{var h=g[d];h.status=e.UPLOADING;this.trigger("BeforeUpload",h)&&this.trigger("UploadFile",h)}f==g.length&&(this.stop(),this.trigger("UploadComplete",g))}}function c(){var f;n.reset();for(f=0;f<g.length;f++){var d=g[f];void 0!==d.size?(n.size+=d.size,n.loaded+=d.loaded):n.size=void 0;d.status==
e.DONE?n.uploaded++:d.status==e.FAILED?n.failed++:n.queued++}void 0===n.size?n.percent=0<g.length?Math.ceil(n.uploaded/g.length*100):0:(n.bytesPerSec=Math.ceil(n.loaded/((+new Date-l||1)/1E3)),n.percent=0<n.size?Math.ceil(n.loaded/n.size*100):0)}var k={},g=[],l;var n=new e.QueueProgress;a=e.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},a);e.extend(this,{state:e.STOPPED,runtime:"",features:{},files:g,settings:a,total:n,id:e.guid(),init:function(){function f(){var p=
B[t++],m,r;if(p){var y=p.getFeatures();if(m=d.settings.required_features)for(m=m.split(","),r=0;r<m.length;r++)if(!y[m[r]]){f();return}p.init(d,function(v){v&&v.success?(d.features=y,d.runtime=p.name,d.trigger("Init",{runtime:p.name}),d.trigger("PostInit"),d.refresh()):f()})}else d.trigger("Error",{code:e.INIT_ERROR,message:e.translate("Init error.")})}var d=this,h,t=0;"function"==typeof a.preinit?a.preinit(d):e.each(a.preinit,function(p,m){d.bind(m,p)});a.page_url=a.page_url||document.location.pathname.replace(/\/[^\/]+$/g,
"/");/^(\w+:\/\/|\/)/.test(a.url)||(a.url=a.page_url+a.url);a.chunk_size=e.parseSize(a.chunk_size);a.max_file_size=e.parseSize(a.max_file_size);d.bind("FilesAdded",function(p,m){p.trigger("Started",m);var r,y=0;if((r=a.filters)&&r.length){var v=[];e.each(r,function(L){e.each(L.extensions.split(/,/),function(G){/^\s*\*\s*$/.test(G)?v.push("\\.*"):v.push("\\."+G.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$\x26")+"]","g"),"\\$\x26"))})});v=new RegExp(v.join("|")+"$","i")}for(r=0;r<m.length;r++){var w=
m[r];w.loaded=0;w.percent=0;w.status=e.QUEUED;v&&!v.test(w.name)?p.trigger("Error",{code:e.FILE_EXTENSION_ERROR,message:e.translate("File extension error."),file:w}):void 0!==w.size&&w.size>a.max_file_size?p.trigger("Error",{code:e.FILE_SIZE_ERROR,message:e.translate("File size error."),file:w}):(g.push(w),y++)}if(y)z(function(){d.trigger("QueueChanged");d.refresh()},1);else return!1});a.unique_names&&d.bind("UploadFile",function(p,m){p=m.name.match(/\.([^.]+)$/);var r="tmp";p&&(r=p[1]);m.target_name=
m.id+"."+r});d.bind("UploadProgress",function(p,m){m.percent=0<m.size?Math.ceil(m.loaded/m.size*100):100;c()});d.bind("StateChanged",function(p){if(p.state==e.STARTED)l=+new Date;else if(p.state==e.STOPPED)for(h=p.files.length-1;0<=h;h--)p.files[h].status==e.UPLOADING&&(p.files[h].status=e.QUEUED,c())});d.bind("QueueChanged",c);d.bind("Error",function(p,m){m.file&&(m.file.status=e.FAILED,c(),p.state==e.STARTED&&(n.queued||z(function(){b.call(d)},1)))});d.bind("FileUploaded",function(p,m){m.status=
e.DONE;m.loaded=m.size;p.trigger("UploadProgress",m);z(function(){b.call(d)},1)});if(a.runtimes){var B=[];var C=a.runtimes.split(/\s?,\s?/);for(h=0;h<C.length;h++)x[C[h]]&&B.push(x[C[h]])}else B=x;f();"function"==typeof a.init?a.init(d):e.each(a.init,function(p,m){d.bind(m,p)})},refresh:function(){this.trigger("Refresh")},start:function(){this.state!=e.STARTED&&(this.state=e.STARTED,this.trigger("StateChanged"),b.call(this))},stop:function(){this.state!=e.STOPPED&&(this.state=e.STOPPED,this.trigger("CancelUpload"),
this.trigger("StateChanged"))},getFile:function(f){var d;for(d=g.length-1;0<=d;d--)if(g[d].id===f)return g[d]},removeFile:function(f){var d;for(d=g.length-1;0<=d;d--)if(g[d].id===f.id)return this.splice(d,1)[0]},splice:function(f,d){f=g.splice(void 0===f?0:f,void 0===d?g.length:d);this.trigger("FilesRemoved",f);this.trigger("QueueChanged");f[0].status==e.UPLOADING&&this.state==e.STARTED&&this.trigger("CancelUpload");if(!n.queued){var h=this;z(function(){h.trigger("UploadComplete")})}return f},trigger:function(f){var d=
k[f.toLowerCase()],h;if(d){var t=Array.prototype.slice.call(arguments);t[0]=this;for(h=0;h<d.length;h++)if(!1===d[h].func.apply(d[h].scope,t))return!1}return!0},hasEventListener:function(f){return!!k[f.toLowerCase()]},bind:function(f,d,h){f=f.toLowerCase();var t=k[f]||[];t.push({func:d,scope:h||this});k[f]=t},unbind:function(f,d){f=f.toLowerCase();var h=k[f],t;if(h){if(void 0!==d)for(t=h.length-1;0<=t;t--){if(h[t].func===d){h.splice(t,1);break}}else h=[];h.length||delete k[f]}},unbindAll:function(){var f=
this;e.each(k,function(d,h){f.unbind(h)})},destroy:function(){this.trigger("Destroy");this.unbindAll()}})},File:function(a,b,c){this.id=a;this.name=b;this.size=c;this.status=this.percent=this.loaded=0},Runtime:function(){this.getFeatures=function(){};this.init=function(a,b){}},QueueProgress:function(){var a=this;a.size=0;a.loaded=0;a.uploaded=0;a.failed=0;a.queued=0;a.percent=0;a.bytesPerSec=0;a.reset=function(){a.size=a.loaded=a.uploaded=a.failed=a.queued=a.percent=a.bytesPerSec=0}},runtimes:{}};
window.plupload=e})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:plupload', location = 'js/plupload.html5.js' */
(function(x,u,g,B){function T(l,p){if("FileReader"in x){var e=new FileReader;e.readAsDataURL(l);e.onload=function(){p(e.result)}}else return p(l.getAsDataURL())}function U(l,p,e,h){var f,a,b,m,c=this;T(N[l.id],function(d){f=u.createElement("canvas");f.style.display="none";u.body.appendChild(f);a=f.getContext("2d");b=new Image;b.onerror=b.onabort=function(){h({success:!1})};b.onload=function(){p.width||(p.width=b.width);p.height||(p.height=b.height);m=Math.min(p.width/b.width,p.height/b.height);if(1>
m||1===m&&"image/jpeg"===e){var n=Math.round(b.width*m);var r=Math.round(b.height*m);f.width=n;f.height=r;a.drawImage(b,0,0,n,r);if("image/jpeg"===e){var k=new O(atob(d.substring(d.indexOf("base64,")+7)));if(k.headers&&k.headers.length){var q=new V;q.init(k.get("exif")[0])&&(q.setExif("PixelXDimension",n),q.setExif("PixelYDimension",r),k.set("exif",q.getBinary()),c.hasEventListener("ExifData")&&c.trigger("ExifData",l,q.EXIF()),c.hasEventListener("GpsData")&&c.trigger("GpsData",l,q.GPS()))}if(p.quality)try{d=
f.toDataURL(e,p.quality/100)}catch(t){d=f.toDataURL(e)}}else d=f.toDataURL(e);d=d.substring(d.indexOf("base64,")+7);d=atob(d);k&&k.headers&&k.headers.length&&(d=k.restore(d),k.purge());f.parentNode.removeChild(f);h({success:!0,data:d})}else h({success:!1})};b.src=d})}function P(){function l(f,a){var b=e?0:-8*(a-1),m=0,c;for(c=0;c<a;c++)m|=h.charCodeAt(f+c)<<Math.abs(b+8*c);return m}function p(f,a,b){b=3===arguments.length?b:h.length-a-1;h=h.substr(0,a)+f+h.substr(b+a)}var e=!1,h;return{II:function(f){if(f===
B)return e;e=f},init:function(f){e=!1;h=f},SEGMENT:function(f,a,b){switch(arguments.length){case 1:return h.substr(f,h.length-f-1);case 2:return h.substr(f,a);case 3:p(b,f,a);break;default:return h}},BYTE:function(f){return l(f,1)},SHORT:function(f){return l(f,2)},LONG:function(f,a){if(a===B)return l(f,4);var b="",m=e?0:-24,c;for(c=0;4>c;c++)b+=String.fromCharCode(a>>Math.abs(m+8*c)&255);p(b,f,4)},SLONG:function(f){f=l(f,4);return 2147483647<f?f-4294967296:f},STRING:function(f,a){var b="";for(a+=
f;f<a;f++)b+=String.fromCharCode(l(f,1));return b}}}function O(l){var p={65505:{app:"EXIF",name:"APP1",signature:"Exif\x00"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\x00"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\x00"}},e=[],h=B,f=0;var a=new P;a.init(l);if(65496===a.SHORT(0)){var b=2;for(l=Math.min(1048576,l.length);b<=l;)if(h=a.SHORT(b),65488<=h&&65495>=h)b+=2;else{if(65498===h||65497===h)break;f=a.SHORT(b+2)+2;p[h]&&a.STRING(b+4,p[h].signature.length)===p[h].signature&&
e.push({hex:h,app:p[h].app.toUpperCase(),name:p[h].name.toUpperCase(),start:b,length:f,segment:a.SEGMENT(b,f)});b+=f}a.init(null);return{headers:e,restore:function(m){a.init(m);var c=new O(m);if(!c.headers)return!1;for(m=c.headers.length;0<m;m--){var d=c.headers[m-1];a.SEGMENT(d.start,d.length,"")}c.purge();b=65504==a.SHORT(2)?4+a.SHORT(4):2;m=0;for(c=e.length;m<c;m++)a.SEGMENT(b,0,e[m].segment),b+=e[m].length;return a.SEGMENT()},get:function(m){for(var c=[],d=0,n=e.length;d<n;d++)e[d].app===m.toUpperCase()&&
c.push(e[d].segment);return c},set:function(m,c){var d=[];"string"===typeof c?d.push(c):d=c;c=ii=0;for(var n=e.length;c<n&&!(e[c].app===m.toUpperCase()&&(e[c].segment=d[ii],e[c].length=d[ii].length,ii++),ii>=d.length);c++);},purge:function(){e=[];a.init(null)}}}}function V(){function l(a,b){var m=e.SHORT(a),c,d={};for(c=0;c<m;c++){var n=a+12*c+2;var r=b[e.SHORT(n)];if(r!==B){var k=e.SHORT(n+=2);var q=e.LONG(n+=2);n+=4;var t=[];switch(k){case 1:case 7:4<q&&(n=e.LONG(n)+p.tiffHeader);for(k=0;k<q;k++)t[k]=
e.BYTE(n+k);break;case 2:4<q&&(n=e.LONG(n)+p.tiffHeader);d[r]=e.STRING(n,q-1);continue;case 3:2<q&&(n=e.LONG(n)+p.tiffHeader);for(k=0;k<q;k++)t[k]=e.SHORT(n+2*k);break;case 4:1<q&&(n=e.LONG(n)+p.tiffHeader);for(k=0;k<q;k++)t[k]=e.LONG(n+4*k);break;case 5:n=e.LONG(n)+p.tiffHeader;for(k=0;k<q;k++)t[k]=e.LONG(n+4*k)/e.LONG(n+4*k+4);break;case 9:n=e.LONG(n)+p.tiffHeader;for(k=0;k<q;k++)t[k]=e.SLONG(n+4*k);break;case 10:n=e.LONG(n)+p.tiffHeader;for(k=0;k<q;k++)t[k]=e.SLONG(n+4*k)/e.SLONG(n+4*k+4);break;
default:continue}q=1==q?t[0]:t;f.hasOwnProperty(r)&&"object"!=typeof q?d[r]=f[r][q]:d[r]=q}}return d}var p={};var e=new P;var h={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",
41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};var f={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",
12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",
15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",
77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},
SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};return{init:function(a){p={tiffHeader:10};if(a===B||!a.length)return!1;e.init(a);return 65505===e.SHORT(0)&&"EXIF\x00"===e.STRING(4,5).toUpperCase()?(a=p.tiffHeader,e.II(18761==
e.SHORT(a)),42!==e.SHORT(a+=2)?a=!1:(p.IFD0=p.tiffHeader+e.LONG(a+2),a=l(p.IFD0,h.tiff),p.exifIFD="ExifIFDPointer"in a?p.tiffHeader+a.ExifIFDPointer:B,p.gpsIFD="GPSInfoIFDPointer"in a?p.tiffHeader+a.GPSInfoIFDPointer:B,a=!0),a):!1},EXIF:function(){var a=l(p.exifIFD,h.exif);a.ExifVersion&&(a.ExifVersion=String.fromCharCode(a.ExifVersion[0],a.ExifVersion[1],a.ExifVersion[2],a.ExifVersion[3]));return a},GPS:function(){var a=l(p.gpsIFD,h.gps);a.GPSVersionID&&(a.GPSVersionID=a.GPSVersionID.join("."));
return a},setExif:function(a,b){if("PixelXDimension"!==a&&"PixelYDimension"!==a)return!1;var m=0;if("string"===typeof a){var c=h.exif;for(hex in c)if(c[hex]===a){a=hex;break}}c=p.exifIFD;var d=e.SHORT(c);for(i=0;i<d;i++){var n=c+12*i+2;if(e.SHORT(n)==a){m=n+8;break}}m?(e.LONG(m,b),b=!0):b=!1;return b},getBinary:function(){return e.SEGMENT()}}}var N={},Q;g.runtimes.Html5=g.addRuntime("html5",{getFeatures:function(){var l,p,e;var h=l=p=e=!1;if(x.XMLHttpRequest){var f=new XMLHttpRequest;l=!!f.upload;
h=!(!f.sendAsBinary&&!f.upload)}if(h){var a=!!(f.sendAsBinary||x.Uint8Array&&x.ArrayBuffer);p=!(!File||!File.prototype.getAsDataURL&&!x.FileReader||!a);e=!(!File||!(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}Q=g.ua.safari&&g.ua.windows&&navigator.userAgent&&0<navigator.userAgent.indexOf("Version/4");f=h;h=u.createElement("div");return{html5:f,dragdrop:"draggable"in h||"ondragstart"in h&&"ondrop"in h,jpgresize:p,pngresize:p,multipart:p||!!x.FileReader||!!x.FormData,
canSendBinary:a,cantSendBlobInFormData:!(!(g.ua.gecko&&x.FormData&&x.FileReader)||FileReader.prototype.readAsArrayBuffer),progress:l,chunks:e,multi_selection:!(g.ua.safari&&g.ua.windows),triggerDialog:g.ua.gecko&&x.FormData||g.ua.webkit||g.ua.windows}},init:function(l,p){function e(a){var b,m=[],c={};for(b=0;b<a.length;b++){var d=a[b];if(!c[d.name]){c[d.name]=!0;var n=g.guid();N[n]=d;n=new g.File(n,d.fileName||d.name,d.fileSize||d.size);n.nativeFile=d;m.push(n)}}m.length&&l.trigger("FilesAdded",m)}
var h;var f=this.getFeatures();f.html5?(l.upload=function(a){e(a)},l.bind("Init",function(a){var b,m=[],c,d=a.settings.filters,n;var r=u.body;var k=u.createElement("div");k.id=a.id+"_html5_container";g.extend(k.style,{position:"absolute",background:l.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:l.settings.shim_bgcolor?"":0});k.className="plupload html5";l.settings.container&&(r=u.getElementById(l.settings.container),"static"===g.getStyle(r,
"position")&&(r.style.position="relative"));r.appendChild(k);r=0;a:for(;r<d.length;r++){var q=d[r].extensions.split(/,/);for(c=0;c<q.length;c++){if("*"===q[c]){m=[];break a}(n=g.mimeTypes[q[c]])&&m.push(n)}}k.innerHTML='\x3cinput id\x3d"'+l.id+'_html5"  style\x3d"font-size:999px" aria-label\x3d"File Upload" tabindex\x3d"-1" aria-hidden\x3d"true" type\x3d"file" accept\x3d"'+m.join(",")+'" '+(l.settings.multi_selection&&l.features.multi_selection?'multiple\x3d"multiple"':"")+" /\x3e";k.scrollTop=100;
var t=u.getElementById(l.id+"_html5");l.settings.inputFileClazz&&(t.className+=" "+l.settings.inputFileClazz);a.features.triggerDialog?g.extend(t.style,{position:"absolute",width:"100%",height:"100%"}):g.extend(t.style,{cssFloat:"right",styleFloat:"right"});var z=function(){e(this.files);-1===navigator.appVersion.indexOf("MSIE10")?(t=this.cloneNode(!0),t.onchange=z,this.parentNode.replaceChild(t,this)):this.value=""};t.onchange=z;if(b="string"===typeof a.settings.browse_button?u.getElementById(a.settings.browse_button):
a.settings.browse_button){var C=a.settings.browse_button_hover,D=a.settings.browse_button_active;k=a.features.triggerDialog?b:k;C&&(g.addEvent(k,"mouseover",function(){g.addClass(b,C)},a.id),g.addEvent(k,"mouseout",function(){g.removeClass(b,C)},a.id));D&&(g.addEvent(k,"mousedown",function(){g.addClass(b,D)},a.id),g.addEvent(u.body,"mouseup",function(){g.removeClass(b,D)},a.id));a.features.triggerDialog&&g.addEvent(b,"click",function(G){u.getElementById(a.id+"_html5").click();G.preventDefault()},
a.id)}}),l.bind("PostInit",function(){var a=g.getElement(l.settings.drop_element),b,m=!1;a&&(Q?(g.addEvent(a,"dragenter",function(c){var d=u.getElementById(l.id+"_drop");d||(d=u.createElement("input"),d.setAttribute("type","file"),d.setAttribute("id",l.id+"_drop"),d.setAttribute("multiple","multiple"),d.setAttribute("aria-label","File Upload"),d.setAttribute("aria-hidden","true"),d.setAttribute("tabindex","-1"),g.addEvent(d,"change",function(){e(this.files);g.removeEvent(d,"change",l.id);d.parentNode.removeChild(d)},
l.id),a.appendChild(d),m=!0);g.getPos(a,u.getElementById(l.settings.container));c=g.getSize(a);"static"===g.getStyle(a,"position")&&g.extend(a.style,{position:"relative"});g.extend(d.style,{position:"absolute",display:"block",top:0,left:0,width:c.w+"px",height:c.h+"px",opacity:0})},l.id),g.addEvent(a,"dragleave",function(c){m||(b&&b.parentElement.removeChild(b),b=null);m=!1})):(g.addEvent(a,"dragover",function(c){c.preventDefault()},l.id),g.addEvent(a,"drop",function(c){if(!$(".disable-attachment-uploader").length){var d=
c.dataTransfer;d&&d.files&&e(d.files)}b&&b.parentElement.removeChild(b);b=null;c.preventDefault();l.settings.stop_propagation&&(c.cancelBubble?c.cancelBubble=!0:c.stopPropagation())},l.id)))}),l.bind("Refresh",function(a){var b;if(b=u.getElementById(l.settings.browse_button)){var m=g.getPos(b,u.getElementById(a.settings.container));var c=g.getSize(b);a=u.getElementById(l.id+"_html5_container");g.extend(a.style,{top:m.y+"px",left:m.x+"px",width:c.w+"px",height:c.h+"px"});l.features.triggerDialog&&
("static"===g.getStyle(b,"position")&&g.extend(b.style,{position:"relative"}),m=parseInt(g.getStyle(b,"z-index"),10),isNaN(m)&&(m=0),g.extend(b.style,{zIndex:m}),g.extend(a.style,{zIndex:m-1}))}}),l.bind("CancelUpload",function(){h&&h.abort&&h.abort()}),l.bind("UploadFile",function(a,b){function m(r,k,q){var t;if(File.prototype.slice)try{return r.slice(),r.slice(k,q)}catch(z){return r.slice(k,q-k)}else return(t=File.prototype.webkitSlice||File.prototype.mozSlice)?t.call(r,k,q):null}function c(r){function k(){function C(v){var R=
0,J="----pluploadboundary"+g.guid(),E="";h=new XMLHttpRequest;h.upload&&(h.upload.onprogress=function(w){b.loaded=Math.min(b.size,t+w.loaded-R);a.trigger("UploadProgress",b)});h.onreadystatechange=function(){if(4==h.readyState){try{var w=h.status}catch(W){w=0}if(400<=w)a.trigger("Error",{code:g.HTTP_ERROR,message:g.translate("HTTP Error."),file:b,status:w,xhr:h,response:h.responseText||""});else{if(H){var y={chunk:q,chunks:H,response:h.responseText,status:w};a.trigger("ChunkUploaded",b,y);t+=K;if(y.cancelled){b.status=
g.FAILED;return}b.loaded=Math.min(b.size,(q+1)*A)}else b.loaded=b.size;a.trigger("UploadProgress",b);v=I=L=E=null;!H||++q>=H?(b.status=g.DONE,a.trigger("FileUploaded",b,{response:h.responseText,status:w})):k()}}};if(a.settings.multipart&&f.multipart){F.name=b.target_name||b.name;h.open("post",G,!0);g.each(a.settings.headers,function(w,y){h.setRequestHeader(y,w)});if("string"!==typeof v&&x.FormData){var L=new FormData;g.each(g.extend(F,a.settings.multipart_params),function(w,y){L.append(y,w)});L.append(a.settings.file_data_name,
v);h.send(L);return}if("string"===typeof v){h.setRequestHeader("Content-Type","multipart/form-data; boundary\x3d"+J);g.each(g.extend(F,a.settings.multipart_params),function(w,y){E+="--"+J+'\r\nContent-Disposition: form-data; name\x3d"'+y+'"\r\n\r\n';E+=unescape(encodeURIComponent(w))+"\r\n"});D=g.mimeTypes[b.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";E+="--"+J+'\r\nContent-Disposition: form-data; name\x3d"'+a.settings.file_data_name+'"; filename\x3d"'+unescape(encodeURIComponent(b.name))+
'"\r\nContent-Type: '+D+"\r\n\r\n"+v+"\r\n--"+J+"--\r\n";R=E.length-v.length;v=E;if(h.sendAsBinary)h.sendAsBinary(v);else if(f.canSendBinary){for(var S=new Uint8Array(v.length),M=0;M<v.length;M++)S[M]=v.charCodeAt(M)&255;h.send(S.buffer)}return}}G=g.buildUrl(a.settings.url,g.extend(F,a.settings.multipart_params));h.open("post",G,!0);h.setRequestHeader("Content-Type","application/octet-stream");v.encoding&&h.setRequestHeader("Content-Encoding",v.encoding);g.each(a.settings.headers,function(w,y){h.setRequestHeader(y,
w)});h.send(v.getData?v.getData():v)}var D,G=a.settings.url;if(b.status!=g.DONE&&b.status!=g.FAILED&&a.state!=g.STOPPED){var F={name:b.target_name||b.name};if(d.chunk_size&&b.size>d.chunk_size&&(f.chunks||"string"==typeof r)){var A=d.chunk_size;var H=Math.ceil(b.size/A);var K=Math.min(A,b.size-q*A);var I="string"==typeof r?r.substring(q*A,q*A+K):m(r,q*A,q*A+K);F.chunk=q;F.chunks=H}else K=b.size,I=r;"string"!==typeof I&&z&&f.cantSendBlobInFormData&&f.chunks&&a.settings.chunk_size?(z.onload=function(){C(z.result)},
z.readAsBinaryString(I)):C(I)}}var q=0,t=0,z="FileReader"in x?new FileReader:null;k()}var d=a.settings;var n=N[b.id];f.jpgresize&&a.settings.resize&&/\.(png|jpg|jpeg)$/i.test(b.name)?U.call(a,b,a.settings.resize,/\.png$/i.test(b.name)?"image/png":"image/jpeg",function(r){r.success?(b.size=r.data.length,c(r.data)):c(n)}):c(n)}),l.bind("Destroy",function(a){var b,m,c=u.body,d={inputContainer:a.id+"_html5_container",inputFile:a.id+"_html5",browseButton:a.settings.browse_button,dropElm:a.settings.drop_element};
for(b in d)(m=u.getElementById(d[b]))&&g.removeAllEvents(m,a.id);g.removeAllEvents(u.body,a.id);a.settings.container&&(c=u.getElementById(a.settings.container));c.removeChild(u.getElementById(d.inputContainer))}),p({success:!0})):p({success:!1})}})})(window,document,plupload);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:plupload', location = '/js/plupload-amd.js' */
define("plupload",function(){return plupload});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--901bedc195', location = 'aui.chunk.50e567705415e959b095--2225681898ef24723abb.js' */
(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[7741],{1506:(t,i,o)=>{var e,n,l;
/*!
 * jQuery UI Position 1.13.3
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 *
 * https://api.jqueryui.com/position/
 */!function(f){"use strict";n=[o(4440),o(3309)],e=function(t){return function(){var i,o=Math.max,e=Math.abs,n=/left|center|right/,l=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,h=/%$/,r=t.fn.position;function p(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function c(i,o){return parseInt(t.css(i,o),10)||0}function a(t){return null!=t&&t===t.window}function d(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:a(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var o,e,n=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),o=l.offsetWidth,n.css("overflow","scroll"),o===(e=l.offsetWidth)&&(e=n[0].clientWidth),n.remove(),i=o-e},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=a(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:n,offset:!e&&!n?t(i).offset():{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);var h,a,g,u,m,w,W="string"==typeof(i=t.extend({},i)).of?t(document).find(i.of):t(i.of),v=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(v),H=(i.collision||"flip").split(" "),b={};return w=d(W),W[0].preventDefault&&(i.at="left top"),a=w.width,g=w.height,u=w.offset,m=t.extend({},u),t.each(["my","at"],(function(){var t,o,e=(i[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat(["center"]):l.test(e[0])?["center"].concat(e):["center","center"]),e[0]=n.test(e[0])?e[0]:"center",e[1]=l.test(e[1])?e[1]:"center",t=f.exec(e[0]),o=f.exec(e[1]),b[this]=[t?t[0]:0,o?o[0]:0],i[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]})),1===H.length&&(H[1]=H[0]),"right"===i.at[0]?m.left+=a:"center"===i.at[0]&&(m.left+=a/2),"bottom"===i.at[1]?m.top+=g:"center"===i.at[1]&&(m.top+=g/2),h=p(b.at,a,g),m.left+=h[0],m.top+=h[1],this.each((function(){var n,l,f=t(this),s=f.outerWidth(),r=f.outerHeight(),d=c(this,"marginLeft"),w=c(this,"marginTop"),T=s+d+c(this,"marginRight")+y.width,x=r+w+c(this,"marginBottom")+y.height,L=t.extend({},m),P=p(b.my,f.outerWidth(),f.outerHeight());"right"===i.my[0]?L.left-=s:"center"===i.my[0]&&(L.left-=s/2),"bottom"===i.my[1]?L.top-=r:"center"===i.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],n={marginLeft:d,marginTop:w},t.each(["left","top"],(function(o,e){t.ui.position[H[o]]&&t.ui.position[H[o]][e](L,{targetWidth:a,targetHeight:g,elemWidth:s,elemHeight:r,collisionPosition:n,collisionWidth:T,collisionHeight:x,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:v,elem:f})})),i.using&&(l=function(t){var n=u.left-L.left,l=n+a-s,h=u.top-L.top,p=h+g-r,c={target:{element:W,left:u.left,top:u.top,width:a,height:g},element:{element:f,left:L.left,top:L.top,width:s,height:r},horizontal:l<0?"left":n>0?"right":"center",vertical:p<0?"top":h>0?"bottom":"middle"};a<s&&e(n+l)<a&&(c.horizontal="center"),g<r&&e(h+p)<g&&(c.vertical="middle"),o(e(n),e(l))>o(e(h),e(p))?c.important="horizontal":c.important="vertical",i.using.call(this,t,c)}),f.offset(t.extend(L,{using:l}))}))},t.ui.position={fit:{left:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollLeft:n.offset.left,f=n.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(e=t.left+h+i.collisionWidth-f-l,t.left+=h-e):t.left=r>0&&h<=0?l:h>r?l+f-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-s,t.left)},top:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollTop:n.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(e=t.top+h+i.collisionHeight-f-l,t.top+=h-e):t.top=r>0&&h<=0?l:h>r?l+f-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-s,t.top)}},flip:{left:function(t,i){var o,n,l=i.within,f=l.offset.left+l.scrollLeft,s=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((o=t.left+a+d+g+i.collisionWidth-s-f)<0||o<e(p))&&(t.left+=a+d+g):c>0&&((n=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(n)<c)&&(t.left+=a+d+g)},top:function(t,i){var o,n,l=i.within,f=l.offset.top+l.scrollTop,s=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-s-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?((n=t.top+a+d+g+i.collisionHeight-s-f)<0||n<e(p))&&(t.top+=a+d+g):c>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<c)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position},void 0===(l="function"==typeof e?e.apply(i,n):e)||(t.exports=l)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.position', location = 'aui.chunk.59909abc1788e616ff5a--02022263f101cec5cc2b.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[9986],{328:(u,a,e)=>{e.r(a),e.d(a,{default:()=>i});e(1506);const i="jquery"}},u=>{u.O(0,[9100,7741,4496],(()=>{return a=328,u(u.s=a);var a}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.progressbar', location = 'aui.chunk.8496a957a43e35735db3--1836425339c511178c59.js' */
"use strict";(globalThis.webpackChunk_auiRuntime=globalThis.webpackChunk_auiRuntime||[]).push([[4563],{6040:(t,e,a)=>{a.r(e),a.d(e,{ProgressBarEl:()=>A,progressBars:()=>y});var r=a(6311),n=a(7364),i=a(6249),s=a(9501),u=a(1005),o=a(9392);const l="aui-progress-indicator-after-update",d="aui-progress-indicator-before-update",c="transitionend webkitTransitionEnd";function m(t,e,{currentProgress:a,value:n}){const i=(0,r.default)(t),u=(0,r.default)(e);"number"==typeof n&&n<=1&&n>=0&&(u.trigger(d,[a,n]),i.one(c,(function(){u.trigger(l,[a,n])})),function(t,e,a){(0,s.recomputeStyle)(t),t.css("width",100*a+"%"),e.attr("data-value",a)}(i,u,n))}function v(t){var e=(0,r.default)(t).first(),a=e.children(".aui-progress-indicator-value");e.removeAttr("data-value"),(0,s.recomputeStyle)(e),a.css("width","")}const f={indeterminate:!1,max:1,val:0};function p(t){return(0,n.isNumber)(t)&&(0,n.isFinite)(t)&&!(0,n.isNaN)(t)}function g(t,e=1){const a=parseFloat(t);return p(a)?a:Number(e)}function h(t,e=1){return Number(parseFloat(t).toFixed(e))}function b(t){const{val:e,max:a}=t,r=function(t){return t>0?t:f.max}(a),n=function(t,e){return Math.max(0,Math.min(t,e))}(e,r),i=h(n/r,6);return{max:r,val:n,valAsFraction:i,valAsPercent:h(100*i,2)}}function _(t){const{val:e,valAsFraction:a,max:r}=b(t._data),n=t.querySelector(".aui-progress-indicator"),i=n.getAttribute("data-value");t.indeterminate?(n.removeAttribute("aria-valuenow"),v(n)):(n.setAttribute("aria-valuenow",e),n.setAttribute("aria-valuemax",r),m(n.querySelector(".aui-progress-indicator-value"),n,{currentProgress:i,value:a}))}function x(t,e){t._data.val=g(e.newValue,e.oldValue||f.val),_(t)}function w(t,e){t._data.max=g(e.newValue,e.oldValue||f.max),_(t)}const A=(0,i.default)("aui-progressbar",{template(t){t._data.max=g(t.getAttribute("max"),f.max),t._data.val=g(t.getAttribute("value"),f.val),t._data.indeterminate=t.hasAttribute("indeterminate");const{val:e,max:a,valAsFraction:r,valAsPercent:n}=b(t._data),i=t._data.indeterminate?"":`data-value="${r}"`;t.innerHTML=`<div class="aui-progress-indicator"\n         ${i}\n         role="progressbar"\n         aria-valuemin="0"\n         aria-valuenow="${e}"\n         aria-valuemax="${a}"\n         tabindex="0"\n     >\n        <span class="aui-progress-indicator-value" style="width: ${n}%"></span>\n    </div>`},attached(t){_(t)},attributes:{indeterminate:{created:function(t){t.indeterminate=!0},removed:function(t){t.indeterminate=!1}},value:{value:f.val,fallback:function(t,e){if(t._updating)return!1;x(t,e)}},max:{value:f.max,fallback:function(t,e){if(t._updating)return!1;w(t,e)}}},prototype:{get _data(){return this.__data||(this._data=(0,n.defaults)({},f))},set _data(t){return this.__data=t},get indeterminate(){return this._data.indeterminate},set indeterminate(t){this._data.indeterminate=!!t,_(this)},get value(){const{val:t}=b(this._data);return t},set value(t){if(!p(t))return!1;const e={newValue:h(t,6)};this._updating=!0,this.setAttribute("value",e.newValue),this._updating=!1,x(this,e)},get max(){const{max:t}=b(this._data);return t},set max(t){if(!p(t))return!1;const e={newValue:h(t,6)};this._updating=!0,this.setAttribute("max",e.newValue),this._updating=!1,w(this,e)}}}),V={update:u.fn((function(t,e){if("string"==typeof t){let e=document.getElementById(t);e&&(t=e)}var a=(0,r.default)(t).first(),n=a.children(".aui-progress-indicator-value"),i=a.attr("data-value"),s=!i,u=parseFloat(i)||0,o=i&&u===e;if(o){o=u===100*(parseFloat(n.get(0).style.width)||0)}if(!o)return s&&n.css("width",0),m(n,a,{currentProgress:u,value:e}),a}),"AJS.progressBars.update",{sinceVersion:"7.7.0",removeInVersion:"10.0.0",extraInfo:"Use the <aui-progressbar> web component instead"}),setIndeterminate:u.fn(v,"AJS.progressBars.setIndeterminate",{sinceVersion:"7.7.0",removeInVersion:"10.0.0",extraInfo:"Use the <aui-progressbar> web component instead"})};(0,o.default)("progressBars",V);const y=V}},t=>{t.O(0,[8658,2262,4496,1263,5131,5366,2178,3447,1661,8235,5907],(()=>{return e=6040,t(t.s=e);var e}));t.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:support', location = 'js/drag-and-drop-utils.js' */
define("confluence-drag-and-drop/drag-and-drop-utils",["jquery","window","ajs"],function(f,e,d){return{defaultMimeType:"application/octet-stream",base:/^\w+:\/\/[^/?#]+/.exec(location.href),bindDragEnter:function(b,a){(a=this.isFireFox35OrLater()?this.firefox35DragEnterAndOverCallbackWrapper(a):a)&&b.addEventListener("dragenter",a,!1)},bindDragOver:function(b,a){this.isFireFox35OrLater()?a=this.firefox35DragEnterAndOverCallbackWrapper(a):-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&
(a=this.safariDragOverCallbackWrapper(a));a&&b.addEventListener("dragover",a,!1)},bindDragLeave:function(b,a){a&&b.addEventListener("dragleave",a,!1)},bindDrop:function(b,a){this.isFireFox35OrLater()?b.addEventListener("drop",this.mozillaDropCallbackWrapper(a),!1):a&&b.addEventListener("drop",function(c){a(c);d.DragAndDropUtils.stopPropagation(c)},!1)},niceSize:function(b){for(var a=" B; kB; MB; GB; TB; PB; EB; ZB; YB".split(";"),c=0,g=a.length;c<g;c++)if(b<Math.pow(2,10*(c+1)))return(c?(b/Math.pow(2,
10*c)).toFixed(2):b)+a[c];return(b/Math.pow(2,10*(c+1))).toFixed(2)+a[a.length-1]},safariDragOverCallbackWrapper:function(b){return function(a){(a=a||e.event)&&"file"!==a.target.type&&(b&&b(a),-1!=f.inArray("public.file-url",a.dataTransfer.types)&&a.preventDefault())}},mozillaDropCallbackWrapper:function(b){return function(a){a&&(b&&b(a),a.preventDefault(),d.DragAndDropUtils.isFireFox35OrLater()?d.DragAndDropUtils.firefox35FileDataInEvent(a)&&a.stopPropagation():a.stopPropagation())}},firefox35DragEnterAndOverCallbackWrapper:function(b){return function(a){a&&
(b&&b(a),d.DragAndDropUtils.firefox35FileDataInEvent(a)&&a.preventDefault())}},firefox35FileDataInEvent:function(b){return-1!=f.inArray("application/x-moz-file",b.dataTransfer.types)},stopPropagation:function(b){if(b=b||e.event)b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},preventDefault:function(b){if(b=b||e.event)b.preventDefault?b.preventDefault():b.returnValue=!1},isFireFox35OrLater:function(){return-1<navigator.userAgent.indexOf("Firefox")},enableDropZoneOn:function(b,a){if(!b)throw Error("Cannot enable drop zone on invalid container. Received: "+
b);a=a||d.DragAndDrop.defaultDropHandler;this.bindDragEnter(b);this.bindDragOver(b);this.bindDragLeave(b);this.bindDrop(b,a)}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-drag-and-drop/drag-and-drop-utils","AJS.DragAndDropUtils");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:support', location = 'js/observable-array-list.js' */
define("confluence-drag-and-drop/observable-array-list",["ajs","jquery"],function(e,f){e=function(){this._data=[];this._pushObservers=[]};e.prototype={push:function(a){this._data.push(a);this._notifyPushObservers(a)},length:function(){return this._data.length},remove:function(a,b){return this._remove.call(this._data,a,b)},_remove:function(a,b){b=this.slice((b||a)+1||this.length);this.length=0>a?this.length+a:a;return this.push.apply(this,b)},shift:function(){return this._data.shift()},removeByPredicate:function(a){for(var b=
[],c=this._data.length,d=0;d<c;d++)a(this._data[d])||b.push(this._data[d]);this._data=b;return c-this._data.length},addPushObserver:function(a){if(f.isFunction(a))this._pushObservers.push(a);else throw Error("Attempting to add an observer that is not a function: "+a);},_notifyPushObservers:function(a){for(var b=0,c=this._pushObservers.length;b<c;b++)this._pushObservers[b](a)}};return e});require("confluence/module-exporter").exportModuleAsGlobal("confluence-drag-and-drop/observable-array-list","AJS.ObservableArrayList");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:support', location = 'js/upload-progress-dialog.js' */
define("confluence-drag-and-drop/upload-progress-dialog",["ajs","plupload","jquery","document"],function(d,h,c,l){var k=function(a){var b=this,e={header:"Attach files",width:600,height:400};this._options=c.extend({},e,a);this.id="drag-and-drop-progress-dialog";this._dialog=new d.Dialog(this._options.width,this._options.height,this.id);this._dialog.addHeader(this._options.header).addPanel("Panel 1",d.DragAndDrop.Templates.uploadFileStatusContainer()).addButton("Done",
function(){b.hide();b.clearRenderOutput()},"all-file-uploads-complete");this._dialog.getCurrentPanel().setPadding(0);this._$closeButton=this.find(".all-file-uploads-complete");c(l).keydown(function(f){if(27===f.which)return b._$closeButton.prop("disabled")||(b.hide(),b.clearRenderOutput()),f.stopPropagation(),!1});this._$container=this.find("#upload-statuses");this._workIdsOfFilesInProgress=[];this.cancelListeners=[];this.onShowListeners=[];this._hidden=!0;this.hasErrorMessage=!1};k.prototype={show:function(){this._hidden&&
(this._dialog.show(),this._hidden=!1,c.each(this.onShowListeners,function(a,b){b()}));this.hideCloseButton()},hide:function(){this._hidden||(this._dialog.hide(),this._hidden=!0)},isVisible:function(){return!this._hidden},_getProgressElementId:function(a){return"file-"+a+"-progress"},render:function(a){this._workIdsOfFilesInProgress.push(a.workId);var b=this._getProgressElementId(a.workId);this._$container.append(d.DragAndDrop.Templates.fileStatus({filename:a.file.name,progressElementId:b,workId:a.workId,
showCancel:a.status==h.QUEUED}));d.progressBars.update("#"+b,0);a.status==h.QUEUED?c("#file-upload-cancel-"+a.workId).click(function(e){return function(f){c.each(e,function(g,m){m(f,a)})}}(this.cancelListeners)):this.renderError(a.workId,a.errorMessage)},renderError:function(a,b){if(-1==c.inArray(a,this._workIdsOfFilesInProgress))throw Error("No file status found with id: "+a);a=c("#file-status-block-"+a);var e=d.escapeEntities(a.attr("data-filename"));a.html(aui.message.error({content:b,titleContent:e}));
this.hasErrorMessage=!0},renderInfo:function(a,b){if(-1==c.inArray(a,this._workIdsOfFilesInProgress))throw Error("No file status found with id: "+a);a=c("#file-status-block-"+a);var e=d.escapeEntities(a.attr("data-filename"));a.html(aui.message.info({content:b,titleContent:e}));this.hasErrorMessage=!0},hasErrors:function(){return this.hasErrorMessage},renderUpdateToBytesUploaded:function(a,b,e){if(-1==c.inArray(a,this._workIdsOfFilesInProgress))throw Error("No file status found with id: "+a);var f=
d.DragAndDropUtils.niceSize(b),g=c("#file-"+a+"-uploaded");g.length?g.text(f):c("#file-upload-progress-text-"+a).html(d.DragAndDrop.Templates.uploadFileStatusProgressMessage({fileId:a,uploadedSizeNice:f,totalSizeNice:d.DragAndDropUtils.niceSize(e)}));b/=e;d.progressBars.update("#"+this._getProgressElementId(a),b)},renderComplete:function(a){if(-1==c.inArray(a,this._workIdsOfFilesInProgress))throw Error("No file status found with id: "+a);c("#cancel-or-success-placeholder-"+a).html(d.DragAndDrop.Templates.uploadFileStatusSuccessIcon())},
renderCancelled:function(a){if(-1==c.inArray(a,this._workIdsOfFilesInProgress))throw Error("No file status found with id: "+a);d.progressBars.setIndeterminate("#"+this._getProgressElementId(a));c("#file-upload-progress-text-"+a).html("Canceled.");c("#cancel-or-success-placeholder-"+a).hide()},clearRenderOutput:function(){this.showCloseButton();this._$container.empty();this._workIdsOfFilesInProgress=[];this.hasErrorMessage=!1},hideCloseButton:function(){this._$closeButton.hide()},
showCloseButton:function(){this._$closeButton.show()},find:function(a){return this._dialog.getCurPanel().page.body.parent().find(a)}};return k});require("confluence/module-exporter").exportModuleAsGlobal("confluence-drag-and-drop/upload-progress-dialog","AJS.DragAndDropProgressDialog");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:support', location = 'templates/drag-and-drop.soy' */
// This file was automatically generated from drag-and-drop.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace AJS.DragAndDrop.Templates.
 */

if (typeof AJS == 'undefined') { var AJS = {}; }
if (typeof AJS.DragAndDrop == 'undefined') { AJS.DragAndDrop = {}; }
if (typeof AJS.DragAndDrop.Templates == 'undefined') { AJS.DragAndDrop.Templates = {}; }


AJS.DragAndDrop.Templates.fileStatus = function(opt_data, opt_ignored) {
  return '<li id="file-status-block-' + soy.$$escapeHtml(opt_data.workId) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '"><div class="aui-group aui-group-split file-status-item"><div class="aui-item"><label>' + soy.$$escapeHtml(opt_data.filename) + '</label></div><div class="aui-item"><div id="file-upload-progress-text-' + soy.$$escapeHtml(opt_data.workId) + '" class="file-upload-progress-text">' + soy.$$escapeHtml('Waiting...') + '</div></div></div><div class="file-upload-progress-block"><div class="aui-progress-indicator" id="' + soy.$$escapeHtml(opt_data.progressElementId) + '"><span class="aui-progress-indicator-value"></span></div>' + ((opt_data.showCancel) ? '<div id="cancel-or-success-placeholder-' + soy.$$escapeHtml(opt_data.workId) + '" class="cancel-or-success-placeholder ui-state-default"><span id="file-upload-cancel-' + soy.$$escapeHtml(opt_data.workId) + '" class="aui-icon aui-icon-small aui-iconfont-remove" title="' + soy.$$escapeHtml('Cancel Upload') + '">' + soy.$$escapeHtml('Cancel') + '</span></div>' : '') + '</div></li>';
};
if (goog.DEBUG) {
  AJS.DragAndDrop.Templates.fileStatus.soyTemplateName = 'AJS.DragAndDrop.Templates.fileStatus';
}


AJS.DragAndDrop.Templates.uploadFileStatusContainer = function(opt_data, opt_ignored) {
  return '<ul id="upload-statuses"></ul>';
};
if (goog.DEBUG) {
  AJS.DragAndDrop.Templates.uploadFileStatusContainer.soyTemplateName = 'AJS.DragAndDrop.Templates.uploadFileStatusContainer';
}


AJS.DragAndDrop.Templates.uploadFileStatusSuccessIcon = function(opt_data, opt_ignored) {
  return '<span class=\'aui-icon aui-icon-small aui-iconfont-success\'></span>';
};
if (goog.DEBUG) {
  AJS.DragAndDrop.Templates.uploadFileStatusSuccessIcon.soyTemplateName = 'AJS.DragAndDrop.Templates.uploadFileStatusSuccessIcon';
}


AJS.DragAndDrop.Templates.uploadFileStatusProgressMessage = function(opt_data, opt_ignored) {
  return '<span id="file-' + soy.$$escapeHtml(opt_data.fileId) + '-uploaded">' + soy.$$escapeHtml(opt_data.uploadedSizeNice) + '</span> ' + soy.$$escapeHtml('of') + ' ' + soy.$$escapeHtml(opt_data.totalSizeNice);
};
if (goog.DEBUG) {
  AJS.DragAndDrop.Templates.uploadFileStatusProgressMessage.soyTemplateName = 'AJS.DragAndDrop.Templates.uploadFileStatusProgressMessage';
}


AJS.DragAndDrop.Templates.dropZone = function(opt_data, opt_ignored) {
  return '<div class="attachments-drop-zone"><div class="drop-zone-image"></div><div class="drop-zone-text">' + soy.$$escapeHtml('Drop files here to attach them') + '</div></div>';
};
if (goog.DEBUG) {
  AJS.DragAndDrop.Templates.dropZone.soyTemplateName = 'AJS.DragAndDrop.Templates.dropZone';
}


AJS.DragAndDrop.Templates.dragOverlay = function(opt_data, opt_ignored) {
  return '<div id="dragOverlay"><div class="overlay-blanket"></div><div class="overlay-center"><p>' + soy.$$escapeHtml('Drop files to insert them into the page') + '</p></div><span class="overlay-baseline"></span><div class="overlay-drop-zone"></div></div>';
};
if (goog.DEBUG) {
  AJS.DragAndDrop.Templates.dragOverlay.soyTemplateName = 'AJS.DragAndDrop.Templates.dragOverlay';
}


AJS.DragAndDrop.Templates.dragAndDropTip = function(opt_data, opt_ignored) {
  return '<div class="attach-tip-discovery"><div class="text"><strong>' + soy.$$escapeHtml('Tip:') + ' </strong><p>' + soy.$$escapeHtml('Drop files straight into your page to insert them directly.') + '</p><a class="close-tip" href="#">' + soy.$$escapeHtml('Ok, got it!') + '</a></div></div>';
};
if (goog.DEBUG) {
  AJS.DragAndDrop.Templates.dragAndDropTip.soyTemplateName = 'AJS.DragAndDrop.Templates.dragAndDropTip';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:support', location = 'js/upload-utils.js' */
define("confluence-drag-and-drop/upload-utils",["ajs"],function(h){return{ErrorCode:{FILE_IS_A_FOLDER_ERROR:-602},filterFiles:function(d,a,g){for(var e=[],b=0,c=0;c<a.length;c++)if(4096>=a[c].nativeFile.size){var f=new FileReader;f.onload=function(){b++;e.push(this.currentFile);b===a.length&&g(d,e)};f.onerror=function(){d.removeFile(this.currentFile);d.trigger("Error",{code:h.UploadUtils.ErrorCode.FILE_IS_A_FOLDER_ERROR,message:"File is a folder",file:this.currentFile});b++;b===a.length&&g(d,e)};
f.currentFile=a[c];f.readAsText(a[c].nativeFile)}else b++,e.push(a[c]),b===a.length&&g(d,e)}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-drag-and-drop/upload-utils","AJS.UploadUtils");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:default-drop-handler', location = 'js/default-drop-handler.js' */
define("confluence-drag-and-drop/default-drop-handler","ajs document confluence/meta jquery confluence/legacy underscore plupload window confluence/api/constants confluence/api/event confluence/message-controller".split(" "),function(d,q,k,t,l,A,m,B,C,r,D){var u={},v=!1;u.initialise=function(){function w(){c=d.Editor&&d.Editor.isVisible()&&l.EditorUploadProgressDialog?l.EditorUploadProgressDialog:new d.DragAndDropProgressDialog}function x(){var e=t(".aui-blanket:visible");return e.length&&"hidden"!==
e.css("visibility")&&!t("#drag-and-drop-progress-dialog:visible").length}function y(){for(;f.files.length;)f.removeFile(f.files[0])}if(!v){v=!0;d.DragAndDrop.defaultDropHandler=null;var p=q.getElementById("fileuploadShim");p||(p=q.createElement("div"),p.setAttribute("id","fileuploadShim"),q.body.appendChild(p));var f=new m.Uploader({runtimes:"html5",dragdrop:!0,drop_element:q.body,browse_button:p.getAttribute("id"),multipart:!1,stop_propagation:!0,max_file_size:+k.get("global-settings-attachment-max-size")});
var c=null;f.init();f.bind("FilesAdded",function(e,a){var g=d.Editor;x()?y():g&&g.isVisible()?(e=g.getCurrentForm().parentElement.classList,l.Uploader&&(e.contains("ic-body")||e.contains("comment-body"))&&l.Uploader.trigger("FilesAdded",A.reject(a,function(b){return b.status===m.FAILED}))):d.UploadUtils.filterFiles(e,a,function(b,n){c||w();for(b=0;b<n.length;b++){var h=n[b];h.status!==m.FAILED&&c.render({workId:h.id,status:h.status,file:h})}f.start()})});f.bind("BeforeUpload",function(e,a){if(!d.Editor||
!d.Editor.isVisible()){var g=d.DragAndDropUtils.base+C.CONTEXT_PATH+"/plugins/drag-and-drop/upload.action",b=k.get("page-id");b=0!=b?{pageId:b}:{draftId:k.get("draft-id")};var n=a.name.substr(a.name.lastIndexOf(".")+1);b.filename=a.name;b.size=a.size;b.mimeType=m.mimeTypes[n.toLowerCase()]||d.DragAndDropUtils.defaultMimeType;b.spaceKey=k.get("space-key");b.atl_token=k.get("atl-token");e.settings.url=m.buildUrl(g,b);c.cancelListeners.push(function(h,z){(h=e.getFile(z.workId))&&e.removeFile(h);c.renderInfo(z.workId,
"File was manually removed from the queue.")});c.show()}});f.bind("UploadProgress",function(e,a){c.renderUpdateToBytesUploaded(a.id,a.loaded,a.size);c.hideCloseButton()});f.bind("FileUploaded",function(e,a,g){0===g.status?c.renderError(a.id,"The server is not responding. Please check that it is running."):c.renderComplete(a.id)});f.bind("Error",function(e,a){if(x())y();else if(d.Editor&&d.Editor.isVisible())l.Uploader&&l.Uploader.trigger("Error",a);else if(a.response){try{var g=a.response?JSON.parse(a.response):
null;var b=g.actionErrors[0]}catch(n){"SyntaxError"===n.name?b="Invalid response received from the server.":(a.responseText=a.response,b=D.parseError(a))}c.renderError(a.file.id,b);r.trigger("analyticsEvent",{name:"confluence.default-drop.upload.error.server-unknown"})}else b=a.message,a.code===m.FILE_SIZE_ERROR?(b=d.format("is too big to upload. Files must be less than {0}.",d.DragAndDropUtils.niceSize(k.get("global-settings-attachment-max-size"))),r.trigger("analyticsEvent",{name:"confluence.default-drop.upload.error.file-size"})):
a.code===d.UploadUtils.ErrorCode.FILE_IS_A_FOLDER_ERROR&&(b="might be a folder or an unsupported file type.",r.trigger("analyticsEvent",{name:"confluence.default-drop.upload.error.file-type"})),c||w(),c.render({workId:a.file.id,status:a.file.status,file:a.file,errorMessage:b}),c.isVisible()||(c.show(),c.showCloseButton())});f.bind("UploadComplete",function(){!f.total.queued&&c&&(c.showCloseButton(),c.hasErrors()||setTimeout(function(){c.hide();c.clearRenderOutput();B.location.reload()},1E3))})}};
return u});
}catch(e){WRMCB(e)};